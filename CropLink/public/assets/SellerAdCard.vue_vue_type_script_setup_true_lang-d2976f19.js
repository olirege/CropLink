import{e as n,f as u,g as t,d as $,h as C,F as j,k as V,am as N,q as c,y as d,p as r,C as O,s as R,x as H,a as k,u as M,t as l,i,m as f,_ as w,n as S,l as P,a9 as T,N as D}from"./index-aa4b1524.js";function _(e,v){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})])}function q(e,v){return n(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}const F={class:"carousel"},U=["src"],z=$({__name:"ImageCarousel",props:{images:{type:Array,required:!0}},setup(e){const v=e,o=C(0),m=()=>{o.value<v.images.length-1?o.value++:o.value=0},h=()=>{o.value>0?o.value--:o.value=v.images.length-1};return(x,A)=>(n(),u("div",F,[t("div",{class:"carousel-inner",style:N({transform:`translateX(-${o.value*100}%)`})},[(n(!0),u(j,null,V(e.images,(g,y)=>(n(),u("div",{class:"carousel-item",key:y},[g?(n(),u("img",{key:0,src:g,class:"w-full h-48 object-cover rounded-lg"},null,8,U)):r("",!0)]))),128))],4),e.images.length>1?(n(),c(d(_),{key:0,onClick:h,class:"carousel-prev"})):r("",!0),e.images.length>1?(n(),c(d(q),{key:1,onClick:m,class:"carousel-next"})):r("",!0)]))}});const W=O(z,[["__scopeId","data-v-2f5da948"]]),X={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},Y={class:"w-full h-48 object-cover rounded-lg"},G={class:"text-xl font-semibold mb-2"},J={class:"text-sm mb-2"},K=t("strong",null,"Status:",-1),Q={class:"text-sm mb-2"},Z=t("strong",null,"Id:",-1),I={class:"text-sm mb-2"},p=t("strong",null,"Variety:",-1),ee={class:"text-sm mb-2"},te=t("strong",null,"Yield Tonnage:",-1),se={class:"text-sm mb-2"},ne=t("strong",null,"Expected Harvest Date:",-1),ae={class:"text-sm mb-2"},ie=t("strong",null,"Price:",-1),oe={class:"text-sm mb-2"},de=t("strong",null,"bidding End time:",-1),le={key:0,class:"flex justify-end mt-2 space-x-4"},ue=$({__name:"SellerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(e,{emit:v}){const{modals:o}=R(H()),m=k().AD_STATUSES,h=M(),x=C(!1),A=async s=>{s&&(x.value=!0,await k().postNewAd(s),x.value=!1)},g=C(""),y=async s=>{s&&(g.value=s,console.log("removeAd",s),await k().removeUserAd(s),g.value="")},E=s=>{s&&h.push({name:"ad",params:{adId:s}})},L=async s=>{s&&(console.log("removeAd",s),o.value.editad=!0,o.value.context=ads.value.docs.find(a=>a.id===s))},B=s=>{s&&h.push({name:"messaging",params:{adId:s}})};return(s,a)=>(n(),u("div",X,[t("div",Y,[e.ad.images&&e.ad.images.length>0?(n(),c(W,{key:0,images:e.ad.resizedImages},null,8,["images"])):r("",!0)]),t("h3",G,l(e.ad.type),1),t("p",J,[K,i(" "+l(e.ad.status),1)]),t("p",Q,[Z,i(" "+l(e.ad.id),1)]),t("p",I,[p,i(" "+l(e.ad.variety),1)]),t("p",ee,[te,i(" "+l(e.ad.yieldTonnage),1)]),t("p",se,[ne,i(" "+l(d(T)(e.ad.expectedHarvestDate)?d(D)(e.ad.expectedHarvestDate):e.ad.expectedHarvestDate),1)]),t("p",ae,[ie,i(" "+l(e.ad.price),1)]),t("p",oe,[de,i(" "+l(d(T)(e.ad.biddingEndTime)?d(D)(e.ad.biddingEndTime):e.ad.biddingEndTime),1)]),e.showButtons?(n(),u("div",le,[!e.ad.live&&e.ad.status!=d(m).SOLD?(n(),c(w,{key:0,onClick:a[0]||(a[0]=b=>L(e.ad.id))},{default:f(()=>[i(" Edit ")]),_:1})):r("",!0),!e.ad.live&&e.ad.status==d(m).SOLD?(n(),c(w,{key:1,onClick:a[1]||(a[1]=b=>B(e.ad.id))},{default:f(()=>[i(" Contact Winner ")]),_:1})):r("",!0),!e.ad.live&&e.ad.status!=d(m).SOLD?(n(),c(S,{key:2,disabled:e.ad.live,isLoading:x.value,onClick:a[2]||(a[2]=b=>A(e.ad.id)),class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},{default:f(()=>[i(" Post "+l(e.ad.status),1)]),_:1},8,["disabled","isLoading"])):r("",!0),P(w,{onClick:a[3]||(a[3]=b=>E(e.ad.id))},{default:f(()=>[i(" View ")]),_:1}),!e.ad.live&&e.ad.status!=d(m).SOLD?(n(),c(S,{key:3,disabled:e.ad.live,isLoading:g.value==e.ad.id,onClick:a[4]||(a[4]=b=>y(e.ad.id)),class:"inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},{default:f(()=>[i(" Remove ")]),_:1},8,["disabled","isLoading"])):r("",!0)])):r("",!0)]))}});export{ue as _};

import{I as R}from"./ImageCarousel-5f240b38.js";import{d as C,s as B,x as T,u as N,h as A,e as r,f as c,g as s,q as V,p as v,t as u,i,a as y,l as k,m as b,_ as j,n as $}from"./index-ec34b6e8.js";const q={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},E={class:"w-full h-48 object-cover rounded-lg"},L={class:"text-xl font-semibold mb-2"},S={class:"text-sm mb-2"},D=s("strong",null,"Yield Tonnage:",-1),M={class:"text-sm mb-2"},O=s("strong",null,"Price:",-1),U={key:0,class:"w-full flex justify-end space-x-2"},I=C({__name:"SellerAdThumbnailCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(e,{emit:h}){const{modals:d}=B(T()),f=N(),l=A(!1),w=async t=>{t&&(l.value=!0,await y().postNewAd(t),l.value=!1)},x=async t=>{t&&(l.value=!0,await y().takedownUserAd(t),l.value=!1)},n=async t=>{t&&(console.log("removeAd",t),d.value.confirmremove=!0,d.value.context={adId:t,__key:"ad"})},a=t=>{t&&f.push({name:"ad",params:{adId:t}})},g=async t=>{t&&(console.log("removeAd",t),d.value.editad=!0,d.value.context=ad)},P=t=>{t&&f.push({name:"messaging",params:{adId:t}})};return(t,o)=>(r(),c("div",q,[s("div",E,[e.ad.images&&e.ad.images.length>0?(r(),V(R,{key:0,images:e.ad.resizedImages},null,8,["images"])):v("",!0)]),s("h3",L,u(e.ad.variety),1),s("p",S,[D,i(" "+u(e.ad.yieldTonnage),1)]),s("p",M,[O,i(" "+u(e.ad.price),1)]),e.showButtons?(r(),c("div",U,[e.ad.live?v("",!0):(r(),c("p",{key:0,class:"underline",onClick:o[0]||(o[0]=m=>w(e.ad.id))},"Post ad")),e.ad.live?(r(),c("p",{key:1,class:"underline",onClick:o[1]||(o[1]=m=>x(e.ad.id))},"Take down ad")):v("",!0),s("p",{class:"underline",onClick:o[2]||(o[2]=m=>P(e.ad.id))},"Contact"),s("p",{class:"underline",onClick:o[3]||(o[3]=m=>n(e.ad.id))},"Remove"),s("p",{class:"underline",onClick:o[4]||(o[4]=m=>g(e.ad.id))},"Edit"),s("p",{class:"underline",onClick:o[5]||(o[5]=m=>a(e.ad.id))},"View")])):v("",!0)]))}}),Y={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},z={class:"text-xl font-semibold mb-2"},W={class:"text-sm mb-2"},F=s("strong",null,"Id:",-1),G={class:"text-sm mb-2"},H=s("strong",null,"Yield Tonnage:",-1),J={class:"text-sm mb-2"},K=s("strong",null,"Request Date:",-1),Q={class:"text-sm mb-2"},X=s("strong",null,"Price:",-1),Z={key:0,class:"flex justify-end mt-2 space-x-4"},ee=C({__name:"BuyerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},setup(e){const{modals:h}=B(T()),d=A(!1),f=async n=>{n&&(d.value=!0,await y().postNewAd(n),d.value=!1)},l=A(""),w=async n=>{n&&(l.value=n,y().removeUserAd(n),l.value="")},x=async n=>{n&&(console.log("removeAd",n),h.value.editad=!0,h.value.context=ads.value.docs.find(a=>a.id===n))};return(n,a)=>(r(),c("div",Y,[s("h3",z,u(e.ad.type),1),s("p",W,[F,i(" "+u(e.ad.id),1)]),s("p",G,[H,i(" "+u(e.ad.yieldTonnage),1)]),s("p",J,[K,i(" "+u(e.ad.requestDate),1)]),s("p",Q,[X,i(" "+u(e.ad.price),1)]),e.showButtons?(r(),c("div",Z,[k(j,{onClick:a[0]||(a[0]=g=>x(e.ad.id))},{default:b(()=>[i(" Edit ")]),_:1}),k($,{isLoading:d.value,disabled:e.ad.live,onClick:a[1]||(a[1]=g=>f(e.ad.id))},{default:b(()=>[i(" Post ")]),_:1},8,["isLoading","disabled"]),k($,{isLoading:l.value==e.ad.id,disabled:!e.ad.live,onClick:a[2]||(a[2]=g=>w(e.ad.id))},{default:b(()=>[i(" Remove ")]),_:1},8,["isLoading","disabled"])])):v("",!0)]))}});export{I as _,ee as a};

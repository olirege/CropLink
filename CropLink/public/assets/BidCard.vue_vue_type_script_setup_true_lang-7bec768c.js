import{d as S,s as D,a as r,u as V,h as I,e as d,f as w,y as a,g as t,t as n,p as c,ad as B,R as v,q as m,m as x,i as b,n as N,_ as k}from"./index-990be236.js";const $={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},P={key:0,class:"flex flex-row space-x-4"},q={class:"text-sm text-green-400"},L={class:"flex flex-row space-x-4"},R=t("label",{class:"block text-sm font-medium text-gray-700"},"Buyer",-1),U={class:"text-sm"},_={class:"flex flex-row space-x-4"},j=t("label",{class:"block text-sm font-medium text-gray-700"},"Offer",-1),O={class:"text-sm"},W={class:"flex flex-row space-x-4"},F=t("label",{class:"block text-sm font-medium text-gray-700"},"Time",-1),G={class:"text-sm"},M={class:"flex flex-row space-x-4"},z=t("label",{class:"block text-sm font-medium text-gray-700"},"Last updated",-1),H={class:"text-sm"},J={class:"flex justify-end mt-2 space-x-4"},Q=S({__name:"BidCard",props:{bid:{type:Object,required:!0},sellerId:{type:String,required:!0},showViewButton:{type:Boolean,default:!0}},setup(e){const{user:l}=D(r()),o=r().BID_STATUSES,f=V(),u=I(""),T=async s=>{console.log("Cancelling bid",s),u.value=s,await r().cancelUserBid(s),u.value=""},A=s=>{s&&f.push({name:"ad",params:{adId:s}})},E=s=>{s&&(console.log("contactWinner",s),f.push({name:"messaging",params:{adId:s}}))};return(s,i)=>{var g,h,y;return d(),w("div",$,[e.bid.status==a(o).ACCEPTED?(d(),w("div",P,[t("p",q,n(e.bid.status==a(o).ACCEPTED?"Winning Bid":e.bid.status),1)])):c("",!0),t("div",L,[R,t("p",U,n(e.bid.buyerId.substring(0,5)),1)]),t("div",_,[j,t("p",O,n(e.bid.price),1)]),t("div",W,[F,t("p",G,n(a(B)(e.bid.createdAt)?a(v)(e.bid.createdAt):e.bid.createdAt),1)]),t("span",null,[t("div",M,[z,t("p",H,n(a(B)(e.bid.updatedAt)?a(v)(e.bid.updatedAt):e.bid.updatedAt),1)])]),t("div",J,[e.bid.status===a(o).PENDING&&e.bid.buyerId==((g=a(l))==null?void 0:g.uid)?(d(),m(N,{key:0,isLoading:u.value==e.bid.id,onClick:i[0]||(i[0]=C=>T(e.bid.id))},{default:x(()=>[b(" Cancel Bid ")]),_:1},8,["isLoading"])):c("",!0),e.showViewButton?(d(),m(k,{key:1,onClick:i[1]||(i[1]=C=>A(e.bid.adId))},{default:x(()=>[b(" View ")]),_:1})):c("",!0),e.bid.status==a(o).ACCEPTED&&(e.bid.buyerId==((h=a(l))==null?void 0:h.uid)||e.sellerId==((y=a(l))==null?void 0:y.uid))?(d(),m(k,{key:2,onClick:i[2]||(i[2]=C=>E(e.bid.adId))},{default:x(()=>[b(" Contact ")]),_:1})):c("",!0)])])}}});export{Q as _};

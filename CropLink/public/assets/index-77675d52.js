(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,w=f&63;h||(w=64,l||(y=64)),i.push(n[p],n[v],n[y],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new HN;const y=o<<2|c>>4;if(i.push(y),f!==64){const w=c<<4&240|f>>2;if(i.push(w),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GN=function(t){const e=xS(t);return OS.encodeByteArray(e,!0)},Ff=function(t){return GN(t).replace(/\./g,"")},NS=function(t){try{return OS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Uf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!WN(n)||(t[n]=Uf(t[n],e[n]));return t}function WN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=()=>zN().__FIREBASE_DEFAULTS__,JN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},Tp=()=>{try{return KN()||JN()||YN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DS=t=>{var e,n;return(n=(e=Tp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v_=t=>{const e=DS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},LS=()=>{var t;return(t=Tp())===null||t===void 0?void 0:t.config},MS=t=>{var e;return(e=Tp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Ff(JSON.stringify(n)),Ff(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function y_(){var t;const e=(t=Tp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZN(){return typeof self=="object"&&self.self===self}function FS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function __(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $f(){try{return typeof indexedDB=="object"}catch{return!1}}function eD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="FirebaseError";class Mn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=tD,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ia.prototype.create)}}class ia{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?nD(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Mn(s,c,i)}}function nD(t,e){return t.replace(iD,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const iD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(MI(o)&&MI(l)){if(!jf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function MI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $S(t,e){const n=new sD(t,e);return n.subscribe.bind(n)}class sD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");oD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Ev),s.error===void 0&&(s.error=Ev),s.complete===void 0&&(s.complete=Ev);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ev(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}class Qi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new QN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uD(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lD(t){return t===Ro?void 0:t}function uD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=[];var Xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xe||(Xe={}));const jS={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},dD=Xe.INFO,hD={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},fD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=hD[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=dD,this._logHandler=fD,this._userLogHandler=null,w_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}function pD(t){w_.forEach(e=>{e.setLogLevel(t)})}function mD(t,e){for(const n of w_){let i=null;e&&e.level&&(i=jS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(h=>{if(h==null)return null;if(typeof h=="string")return h;if(typeof h=="number"||typeof h=="boolean")return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch{return null}}).filter(h=>h).join(" ");o>=(i??s.logLevel)&&t({level:Xe[o].toLowerCase(),message:c,args:l,type:s.name})}}}const gD=(t,e)=>e.some(n=>t instanceof n);let VI,FI;function vD(){return VI||(VI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yD(){return FI||(FI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,ly=new WeakMap,qS=new WeakMap,Iv=new WeakMap,b_=new WeakMap;function _D(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Vs(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),b_.set(e,t),e}function wD(t){if(ly.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});ly.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bD(t){uy=t(uy)}function ED(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Tv(this),e,...n);return qS.set(i,e.sort?e.sort():[e]),Vs(i)}:yD().includes(t)?function(...e){return t.apply(Tv(this),e),Vs(BS.get(this))}:function(...e){return Vs(t.apply(Tv(this),e))}}function ID(t){return typeof t=="function"?ED(t):(t instanceof IDBTransaction&&wD(t),gD(t,vD())?new Proxy(t,uy):t)}function Vs(t){if(t instanceof IDBRequest)return _D(t);if(Iv.has(t))return Iv.get(t);const e=ID(t);return e!==t&&(Iv.set(t,e),b_.set(e,t)),e}const Tv=t=>b_.get(t);function TD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Vs(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Vs(l.result),h.oldVersion,h.newVersion,Vs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const AD=["get","getKey","getAll","getAllKeys","count"],SD=["put","add","delete","clear"],Av=new Map;function UI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Av.get(e))return Av.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=SD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||AD.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return Av.set(e,o),o}bD(t=>({...t,get:(e,n,i)=>UI(e,n)||t.get(e,n,i),has:(e,n)=>!!UI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function RD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",$I="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Ap("@firebase/app"),PD="@firebase/app-compat",kD="@firebase/analytics-compat",xD="@firebase/analytics",OD="@firebase/app-check-compat",ND="@firebase/app-check",DD="@firebase/auth",LD="@firebase/auth-compat",MD="@firebase/database",VD="@firebase/database-compat",FD="@firebase/functions",UD="@firebase/functions-compat",$D="@firebase/installations",jD="@firebase/installations-compat",BD="@firebase/messaging",qD="@firebase/messaging-compat",HD="@firebase/performance",GD="@firebase/performance-compat",WD="@firebase/remote-config",zD="@firebase/remote-config-compat",KD="@firebase/storage",JD="@firebase/storage-compat",YD="@firebase/firestore",QD="@firebase/firestore-compat",XD="firebase",ZD="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]",eL={[cy]:"fire-core",[PD]:"fire-core-compat",[xD]:"fire-analytics",[kD]:"fire-analytics-compat",[ND]:"fire-app-check",[OD]:"fire-app-check-compat",[DD]:"fire-auth",[LD]:"fire-auth-compat",[MD]:"fire-rtdb",[VD]:"fire-rtdb-compat",[FD]:"fire-fn",[UD]:"fire-fn-compat",[$D]:"fire-iid",[jD]:"fire-iid-compat",[BD]:"fire-fcm",[qD]:"fire-fcm-compat",[HD]:"fire-perf",[GD]:"fire-perf-compat",[WD]:"fire-rc",[zD]:"fire-rc-compat",[KD]:"fire-gcs",[JD]:"fire-gcs-compat",[YD]:"fire-fst",[QD]:"fire-fst-compat","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Map,Bc=new Map;function Bf(t,e){try{t.container.addComponent(e)}catch(n){Jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function HS(t,e){t.container.addOrOverwriteComponent(e)}function Tr(t){const e=t.name;if(Bc.has(e))return Jo.debug(`There were multiple attempts to register component ${e}.`),!1;Bc.set(e,t);for(const n of Bs.values())Bf(n,t);return!0}function ra(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tL(t,e,n=js){ra(t,e).clearInstance(n)}function nL(){Bc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qr=new ia("app","Firebase",iL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rL=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=ZD;function Sp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:js,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw qr.create("bad-app-name",{appName:String(s)});if(n||(n=LS()),!n)throw qr.create("no-options");const o=Bs.get(s);if(o){if(jf(n,o.options)&&jf(i,o.config))return o;throw qr.create("duplicate-app",{appName:s})}const l=new cD(s);for(const h of Bc.values())l.addComponent(h);const c=new rL(n,i,l);return Bs.set(s,c),c}function gd(t=js){const e=Bs.get(t);if(!e&&t===js&&LS())return Sp();if(!e)throw qr.create("no-app",{appName:t});return e}function sL(){return Array.from(Bs.values())}async function GS(t){const e=t.name;Bs.has(e)&&(Bs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ii(t,e,n){var i;let s=(i=eL[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jo.warn(c.join(" "));return}Tr(new Qi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function WS(t,e){if(t!==null&&typeof t!="function")throw qr.create("invalid-log-argument");mD(t,e)}function zS(t){pD(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="firebase-heartbeat-database",aL=1,qc="firebase-heartbeat-store";let Sv=null;function KS(){return Sv||(Sv=TD(oL,aL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qc)}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Sv}async function lL(t){try{return await(await KS()).transaction(qc).objectStore(qc).get(JS(t))}catch(e){if(e instanceof Mn)Jo.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jo.warn(n.message)}}}async function jI(t,e){try{const i=(await KS()).transaction(qc,"readwrite");await i.objectStore(qc).put(e,JS(t)),await i.done}catch(n){if(n instanceof Mn)Jo.warn(n.message);else{const i=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jo.warn(i.message)}}}function JS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=1024,cL=30*24*60*60*1e3;class dL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=BI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=cL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=BI(),{heartbeatsToSend:n,unsentEntries:i}=hL(this._heartbeatsCache.heartbeats),s=Ff(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function BI(){return new Date().toISOString().substring(0,10)}function hL(t,e=uL){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),qI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class fL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $f()?eD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await lL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qI(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){Tr(new Qi("platform-logger",e=>new CD(e),"PRIVATE")),Tr(new Qi("heartbeat",e=>new dL(e),"PRIVATE")),ii(cy,$I,t),ii(cy,$I,"esm2017"),ii("fire-js","")}pL("");const mL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Mn,SDK_VERSION:ts,_DEFAULT_ENTRY_NAME:js,_addComponent:Bf,_addOrOverwriteComponent:HS,_apps:Bs,_clearComponents:nL,_components:Bc,_getProvider:ra,_registerComponent:Tr,_removeServiceInstance:tL,deleteApp:GS,getApp:gd,getApps:sL,initializeApp:Sp,onLog:WS,registerVersion:ii,setLogLevel:zS},Symbol.toStringTag,{value:"Module"}));function E_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const rc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ja={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function YS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vL=gL,yL=YS,QS=new ia("auth","Firebase",YS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Ap("@firebase/auth");function _L(t,...e){qf.logLevel<=Xe.WARN&&qf.warn(`Auth (${ts}): ${t}`,...e)}function Sf(t,...e){qf.logLevel<=Xe.ERROR&&qf.error(`Auth (${ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw I_(t,...e)}function Vn(t,...e){return I_(t,...e)}function XS(t,e,n){const i=Object.assign(Object.assign({},yL()),{[e]:n});return new ia("auth","Firebase",i).create(e,{appName:t.name})}function jl(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Sn(t,"argument-error"),XS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return QS.create(t,...e)}function ne(t,e,...n){if(!t)throw I_(e,...n)}function yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Xi(t,e){t||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T_(){return HI()==="http:"||HI()==="https:"}function HI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T_()||FS()||"connection"in navigator)?navigator.onLine:!0}function bL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=XN()||__()}get(){return wL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new vd(3e4,6e4);function Yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hn(t,e,n,i,s={}){return eC(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=$l(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),ZS.fetch()(tC(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function eC(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},EL),e);try{const s=new AL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw vc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw vc(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw XS(t,p,f);Sn(t,p)}}catch(s){if(s instanceof Mn)throw s;Sn(t,"network-request-failed",{message:String(s)})}}async function ns(t,e,n,i,s={}){const o=await hn(t,e,n,i,s);return"mfaPendingCredential"in o&&Sn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function tC(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?A_(t.config,s):`${t.config.apiScheme}://${s}`}function TL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),IL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Vn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){return t!==void 0&&t.getResponse!==void 0}function WI(t){return t!==void 0&&t.enterprise!==void 0}class SL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t){return(await hn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function RL(t,e){return hn(t,"GET","/v2/recaptchaConfig",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e){return hn(t,"POST","/v1/accounts:delete",e)}async function kL(t,e){return hn(t,"POST","/v1/accounts:update",e)}async function xL(t,e){return hn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OL(t,e=!1){const n=xe(t),i=await n.getIdToken(e),s=Cp(i);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Cc(Cv(s.auth_time)),issuedAtTime:Cc(Cv(s.iat)),expirationTime:Cc(Cv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Cv(t){return Number(t)*1e3}function Cp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const s=NS(n);return s?JSON.parse(s):(Sf("Failed to decode base64 JWT payload"),null)}catch(s){return Sf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function NL(t){const e=Cp(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mn&&DL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function DL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Kr(t,xL(n,{idToken:i}));ne(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FL(o.providerUserInfo):[],c=VL(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nC(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function ML(t){const e=xe(t);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function FL(t){return t.map(e=>{var{providerId:n}=e,i=E_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e){const n=await eC(t,{},async()=>{const i=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=tC(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ZS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await UL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Wc;return i&&(ne(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(ne(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jo{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=E_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nC(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Kr(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OL(this,e)}reload(){return ML(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kr(this,PL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,h,f,p;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,A=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:x,isAnonymous:B,providerData:F,stsTokenManager:Z}=n;ne(k&&Z,e,"internal-error");const U=Wc.fromJSON(this.name,Z);ne(typeof k=="string",e,"internal-error"),Is(v,e.name),Is(y,e.name),ne(typeof x=="boolean",e,"internal-error"),ne(typeof B=="boolean",e,"internal-error"),Is(w,e.name),Is(T,e.name),Is(_,e.name),Is(E,e.name),Is(A,e.name),Is(P,e.name);const te=new jo({uid:k,auth:e,email:y,emailVerified:x,displayName:v,isAnonymous:B,photoURL:T,phoneNumber:w,tenantId:_,stsTokenManager:U,createdAt:A,lastLoginAt:P});return F&&Array.isArray(F)&&(te.providerData=F.map(ve=>Object.assign({},ve))),E&&(te._redirectEventId=E),te}static async _fromIdTokenResponse(e,n,i=!1){const s=new Wc;s.updateFromServerResponse(n);const o=new jo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Gc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Map;function Ti(t){Xi(t instanceof Function,"Expected a class definition");let e=zI.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iC.type="NONE";const vl=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,e,n){return`firebase:${t}:${e}:${n}`}class sl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Bo(this.userKey,s.apiKey,o),this.fullPersistenceKey=Bo("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new sl(Ti(vl),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||Ti(vl);const l=Bo(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){const v=jo._fromJSON(e,p);f!==o&&(c=v),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new sl(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new sl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aC(e))return"Blackberry";if(lC(e))return"Webos";if(S_(e))return"Safari";if((e.includes("chrome/")||sC(e))&&!e.includes("edge/"))return"Chrome";if(yd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rC(t=cn()){return/firefox\//i.test(t)}function S_(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sC(t=cn()){return/crios\//i.test(t)}function oC(t=cn()){return/iemobile/i.test(t)}function yd(t=cn()){return/android/i.test(t)}function aC(t=cn()){return/blackberry/i.test(t)}function lC(t=cn()){return/webos/i.test(t)}function Bl(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $L(t=cn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function jL(t=cn()){var e;return Bl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BL(){return US()&&document.documentMode===10}function uC(t=cn()){return Bl(t)||yd(t)||lC(t)||aC(t)||/windows phone/i.test(t)||oC(t)}function qL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e=[]){let n;switch(t){case"Browser":n=KI(cn());break;case"Worker":n=`${KI(cn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e={}){return hn(t,"GET","/v2/passwordPolicy",Yt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=6;class zL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:WL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JI(this),this.idTokenSubscription=new JI(this),this.beforeStateQueue=new HL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await sl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xe(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GL(this),n=new zL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ia("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_L(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Bt(t){return xe(t)}class JI{constructor(e){this.auth=e,this.observer=null,this.addObserver=$S(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function C_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Vn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",JL().appendChild(i)})}function dC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const YL="https://www.google.com/recaptcha/enterprise.js?render=",QL="recaptcha-enterprise",XL="NO_RECAPTCHA";class ZL{constructor(e){this.type=QL,this.auth=Bt(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{RL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new SL(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;WI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(XL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&WI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}C_(YL+c).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function YI(t,e,n,i=!1){const s=new ZL(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Rp(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await YI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await YI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e){const n=ra(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(jf(o,e??{}))return s;Sn(s,"already-initialized")}return n.initialize({options:e})}function tM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function hC(t,e,n){const i=Bt(t);ne(i._canInitEmulator,i,"emulator-config-failed"),ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=fC(e),{host:l,port:c}=nM(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||iM()}function fC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nM(t){const e=fC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:QI(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:QI(l)}}}function QI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,n){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(t,e){return hn(t,"POST","/v1/accounts:resetPassword",Yt(t,e))}async function mC(t,e){return hn(t,"POST","/v1/accounts:update",e)}async function rM(t,e){return hn(t,"POST","/v1/accounts:update",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){return ns(t,"POST","/v1/accounts:signInWithPassword",Yt(t,e))}async function Pp(t,e){return hn(t,"POST","/v1/accounts:sendOobCode",Yt(t,e))}async function oM(t,e){return Pp(t,e)}async function aM(t,e){return Pp(t,e)}async function lM(t,e){return Pp(t,e)}async function uM(t,e){return Pp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return ns(t,"POST","/v1/accounts:signInWithEmailLink",Yt(t,e))}async function dM(t,e){return ns(t,"POST","/v1/accounts:signInWithEmailLink",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends ql{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new zc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new zc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rp(e,n,"signInWithPassword",sM);case"emailLink":return cM(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return mC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return dM(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(t,e){return ns(t,"POST","/v1/accounts:signInWithIdp",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="http://localhost";class Ar extends ql{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ar(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=E_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Ar(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Hr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hr(e,n)}buildRequest(){const e={requestUri:hM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e){return hn(t,"POST","/v1/accounts:sendVerificationCode",Yt(t,e))}async function pM(t,e){return ns(t,"POST","/v1/accounts:signInWithPhoneNumber",Yt(t,e))}async function mM(t,e){const n=await ns(t,"POST","/v1/accounts:signInWithPhoneNumber",Yt(t,e));if(n.temporaryProof)throw vc(t,"account-exists-with-different-credential",n);return n}const gM={USER_NOT_FOUND:"user-not-found"};async function vM(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ns(t,"POST","/v1/accounts:signInWithPhoneNumber",Yt(t,n),gM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends ql{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new qo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new qo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return pM(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return mM(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return vM(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new qo({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _M(t){const e=il(gc(t)).link,n=e?il(gc(e)).deep_link_id:null,i=il(gc(t)).deep_link_id;return(i?il(gc(i)).link:null)||i||n||e||t}class kp{constructor(e){var n,i,s,o,l,c;const h=il(gc(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=yM((s=h.mode)!==null&&s!==void 0?s:null);ne(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=_M(e);try{return new kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.providerId=Ys.PROVIDER_ID}static credential(e,n){return zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=kp.parseLink(n);return ne(i,"argument-error"),zc._fromEmailAndCode(e,i.code,i.tenantId)}}Ys.PROVIDER_ID="password";Ys.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ys.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ol extends Hl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in n&&"signInMethod"in n,"argument-error"),Ar._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ol.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ol.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new ol(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Hl{constructor(){super("facebook.com")}static credential(e){return Ar._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ar._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fr.credential(n,i)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Hl{constructor(){super("github.com")}static credential(e){return Ar._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="http://localhost";class yl extends ql{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Hr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new yl(i,o)}static _create(e,n){return new yl(e,n)}buildRequest(){return{requestUri:wM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="saml.";class Hf extends is{constructor(e){ne(e.startsWith(bM),"argument-error"),super(e)}static credentialFromResult(e){return Hf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Hf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=yl.fromJSON(e);return ne(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return yl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends Hl{constructor(){super("twitter.com")}static credential(e,n){return Ar._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return mr.credential(n,i)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e){return ns(t,"POST","/v1/accounts:signUp",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await jo._fromIdTokenResponse(e,i,s),l=XI(i);return new Fi({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=XI(i);return new Fi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function XI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(t){var e;const n=Bt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Fi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await gC(n,{returnSecureToken:!0}),s=await Fi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Mn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Gf(e,n,i,s)}}function vC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){const n=xe(t);await xp(!0,n,e);const{providerUserInfo:i}=await kL(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=yC(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function R_(t,e,n=!1){const i=await Kr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",i)}async function xp(t,e,n){await Gc(e);const i=yC(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";ne(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Kr(t,vC(i,s,e,t),n);ne(o.idToken,i,"internal-error");const l=Cp(o.idToken);ne(l,i,"internal-error");const{sub:c}=l;return ne(t.uid===c,i,"user-mismatch"),Fi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(t,e,n=!1){const i="signIn",s=await vC(t,i,e),o=await Fi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function Op(t,e){return wC(Bt(t),e)}async function bC(t,e){const n=xe(t);return await xp(!1,n,e.providerId),R_(n,e)}async function EC(t,e){return _C(xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){return ns(t,"POST","/v1/accounts:signInWithCustomToken",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){const n=Bt(t),i=await TM(n,{token:e,returnSecureToken:!0}),s=await Fi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?P_._fromServerResponse(e,n):"totpInfo"in n?k_._fromServerResponse(e,n):Sn(e,"internal-error")}}class P_ extends _d{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new P_(n)}}class k_ extends _d{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new k_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e,n){var i;ne(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_(t){const e=Bt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SM(t,e,n){const i=Bt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Np(i,s,n),await Rp(i,s,"getOobCode",aM)}async function CM(t,e,n){await pC(xe(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x_(t),i})}async function RM(t,e){await rM(xe(t),{oobCode:e})}async function IC(t,e){const n=xe(t),i=await pC(n,{oobCode:e}),s=i.requestType;switch(ne(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(i.mfaInfo,n,"internal-error");default:ne(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=_d._fromServerResponse(Bt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function PM(t,e){const{data:n}=await IC(xe(t),e);return n.email}async function kM(t,e,n){const i=Bt(t),l=await Rp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gC).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&x_(t),h}),c=await Fi._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function xM(t,e,n){return Op(xe(t),Ys.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x_(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e,n){const i=Bt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){ne(c.handleCodeInApp,i,"argument-error"),c&&Np(i,l,c)}o(s,n),await Rp(i,s,"getOobCode",lM)}function NM(t,e){const n=kp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function DM(t,e,n){const i=xe(t),s=Ys.credentialWithLink(e,n||Hc());return ne(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Op(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e){return hn(t,"POST","/v1/accounts:createAuthUri",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){const n=T_()?Hc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await LM(xe(t),i);return s||[]}async function VM(t,e){const n=xe(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Np(n.auth,s,e);const{email:o}=await oM(n.auth,s);o!==t.email&&await t.reload()}async function FM(t,e,n){const i=xe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Np(i.auth,o,n);const{email:l}=await uM(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return hn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=xe(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Kr(i,UM(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function jM(t,e){return TC(xe(t),e,null)}function BM(t,e){return TC(xe(t),null,e)}async function TC(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Kr(t,mC(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=Cp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new al(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new HM(o,s);case"github.com":return new GM(o,s);case"google.com":return new WM(o,s);case"twitter.com":return new zM(o,s,t.screenName||null);case"custom":case"anonymous":return new al(o,null);default:return new al(o,i,s)}}class al{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class AC extends al{constructor(e,n,i,s){super(e,n,i),this.username=s}}class HM extends al{constructor(e,n){super(e,"facebook.com",n)}}class GM extends AC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class WM extends al{constructor(e,n){super(e,"google.com",n)}}class zM extends AC{constructor(e,n,i){super(e,"twitter.com",n,i)}}function KM(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:qM(n)}function JM(t,e,n,i){return xe(t).onIdTokenChanged(e,n,i)}function YM(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}function QM(t,e,n,i){return xe(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new Do("enroll",e,n)}static _fromMfaPendingCredential(e){return new Do("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Do._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Do._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Bt(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>_d._fromServerResponse(i,c));ne(s.mfaPendingCredential,i,"internal-error");const l=Do._fromMfaPendingCredential(s.mfaPendingCredential);return new O_(l,o,async c=>{const h=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:h.idToken,refreshToken:h.refreshToken});switch(n.operationType){case"signIn":const p=await Fi._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(p.user),p;case"reauthenticate":return ne(n.user,i,"internal-error"),Fi._forOperation(n.user,n.operationType,f);default:Sn(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function XM(t,e){var n;const i=xe(t),s=e;return ne(e.customData.operationType,i,"argument-error"),ne((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),O_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e){return hn(t,"POST","/v2/accounts/mfaEnrollment:start",Yt(t,e))}function e4(t,e){return hn(t,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(t,e))}function t4(t,e){return hn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(t,e))}class N_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>_d._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new N_(e)}async getSession(){return Do._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await Kr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Kr(this.user,t4(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const Rv=new WeakMap;function n4(t){const e=xe(t);return Rv.has(e)||Rv.set(e,N_._fromUser(e)),Rv.get(e)}const Wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){const t=cn();return S_(t)||Bl(t)}const r4=1e3,s4=10;class CC extends SC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=i4()&&qL(),this.fallbackToPolling=uC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);BL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,s4):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},r4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CC.type="LOCAL";const Dp=CC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC extends SC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RC.type="SESSION";const qs=RC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Lp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await o4(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=wd("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function l4(t){rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function u4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d4(){return D_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firebaseLocalStorageDb",h4=1,zf="firebaseLocalStorage",kC="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mp(t,e){return t.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function f4(){const t=indexedDB.deleteDatabase(PC);return new bd(t).toPromise()}function dy(){const t=indexedDB.open(PC,h4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(zf,{keyPath:kC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(zf)?e(i):(i.close(),await f4(),e(await dy()))})})}async function ZI(t,e,n){const i=Mp(t,!0).put({[kC]:e,value:n});return new bd(i).toPromise()}async function p4(t,e){const n=Mp(t,!1).get(e),i=await new bd(n).toPromise();return i===void 0?null:i.value}function eT(t,e){const n=Mp(t,!0).delete(e);return new bd(n).toPromise()}const m4=800,g4=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>g4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lp._getInstance(d4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u4(),!this.activeServiceWorker)return;this.sender=new a4(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dy();return await ZI(e,Wf,"1"),await eT(e,Wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>p4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Mp(s,!1).getAll();return new bd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const _l=xC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){return hn(t,"POST","/v2/accounts/mfaSignIn:start",Yt(t,e))}function y4(t,e){return hn(t,"POST","/v2/accounts/mfaSignIn:finalize",Yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=500,w4=6e4,rf=1e12;class b4{constructor(e){this.auth=e,this.counter=rf,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new E4(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||rf;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||rf;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||rf;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class E4{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ne(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=I4(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},w4)},_4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function I4(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=dC("rcb"),T4=new vd(3e4,6e4),A4="https://www.google.com/recaptcha/api.js?";class S4{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=rn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ne(C4(n),e,"argument-error"),this.shouldResolveImmediately(n)&&GI(rn().grecaptcha)?Promise.resolve(rn().grecaptcha):new Promise((i,s)=>{const o=rn().setTimeout(()=>{s(Vn(e,"network-request-failed"))},T4.get());rn()[Pv]=()=>{rn().clearTimeout(o),delete rn()[Pv];const c=rn().grecaptcha;if(!c||!GI(c)){s(Vn(e,"internal-error"));return}const h=c.render;c.render=(f,p)=>{const v=h(f,p);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${A4}?${$l({onload:Pv,render:"explicit",hl:n})}`;C_(l).catch(()=>{clearTimeout(o),s(Vn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=rn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function C4(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class R4{async load(e){return new b4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="recaptcha",P4={theme:"light",type:"image"};let k4=class{constructor(e,n,i=Object.assign({},P4)){this.parameters=i,this.type=OC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new R4:new S4,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=rn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(T_()&&!D_(),this.auth,"internal-error"),await x4(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await CL(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function x4(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=qo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function O4(t,e,n){const i=Bt(t),s=await Vp(i,e,xe(n));return new L_(s,o=>Op(i,o))}async function N4(t,e,n){const i=xe(t);await xp(!1,i,"phone");const s=await Vp(i.auth,e,xe(n));return new L_(s,o=>bC(i,o))}async function D4(t,e,n){const i=xe(t),s=await Vp(i.auth,e,xe(n));return new L_(s,o=>EC(i,o))}async function Vp(t,e,n){var i;const s=await n.verify();try{ne(typeof s=="string",t,"argument-error"),ne(n.type===OC,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return ne(l.type==="enroll",t,"internal-error"),(await ZM(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{ne(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return ne(c,t,"missing-multi-factor-info"),(await v4(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await fM(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function L4(t,e){await R_(xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo=class Cf{constructor(e){this.providerId=Cf.PROVIDER_ID,this.auth=Bt(e)}verifyPhoneNumber(e,n){return Vp(this.auth,e,xe(n))}static credential(e,n){return qo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Cf.credentialFromTaggedObject(n)}static credentialFromError(e){return Cf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?qo._fromTokenResponse(n,i):null}};Yo.PROVIDER_ID="phone";Yo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e){return e?Ti(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends ql{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M4(t){return wC(t.auth,new M_(t),t.bypassAuthState)}function V4(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),_C(n,new M_(t),t.bypassAuthState)}async function F4(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),R_(n,new M_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M4;case"linkViaPopup":case"linkViaRedirect":return F4;case"reauthViaPopup":case"reauthViaRedirect":return V4;default:Sn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new vd(2e3,1e4);async function $4(t,e,n){const i=Bt(t);jl(t,e,is);const s=sa(i,n);return new Ur(i,"signInViaPopup",e,s).executeNotNull()}async function j4(t,e,n){const i=xe(t);jl(i.auth,e,is);const s=sa(i.auth,n);return new Ur(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function B4(t,e,n){const i=xe(t);jl(i.auth,e,is);const s=sa(i.auth,n);return new Ur(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class Ur extends NC{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Ur.currentPopupAction&&Ur.currentPopupAction.cancel(),Ur.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ur.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U4.get())};e()}}Ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="pendingRedirect",Rc=new Map;class H4 extends NC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const i=await G4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G4(t,e){const n=LC(e),i=DC(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function V_(t,e){return DC(t)._set(LC(e),"true")}function W4(){Rc.clear()}function F_(t,e){Rc.set(t._key(),e)}function DC(t){return Ti(t._redirectPersistence)}function LC(t){return Bo(q4,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e,n){return K4(t,e,n)}async function K4(t,e,n){const i=Bt(t);jl(t,e,is),await i._initializationPromise;const s=sa(i,n);return await V_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function J4(t,e,n){return Y4(t,e,n)}async function Y4(t,e,n){const i=xe(t);jl(i.auth,e,is),await i.auth._initializationPromise;const s=sa(i.auth,n);await V_(s,i.auth);const o=await MC(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function Q4(t,e,n){return X4(t,e,n)}async function X4(t,e,n){const i=xe(t);jl(i.auth,e,is),await i.auth._initializationPromise;const s=sa(i.auth,n);await xp(!1,i,e.providerId),await V_(s,i.auth);const o=await MC(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function Z4(t,e){return await Bt(t)._initializationPromise,Fp(t,e,!1)}async function Fp(t,e,n=!1){const i=Bt(t),s=sa(i,e),l=await new H4(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function MC(t){const e=wd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=10*60*1e3;class VC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!FC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eV&&this.cachedEventUids.clear(),this.cachedEventUids.has(tT(e))}saveEventToCache(e){this.cachedEventUids.add(tT(e)),this.lastProcessedEventTime=Date.now()}}function tT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e={}){return hn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iV=/^https?/;async function rV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UC(t);for(const n of e)try{if(sV(n))return}catch{}Sn(t,"unauthorized-domain")}function sV(t){const e=Hc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!iV.test(n))return!1;if(nV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new vd(3e4,6e4);function nT(){const t=rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aV(t){return new Promise((e,n)=>{var i,s,o;function l(){nT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nT(),n(Vn(t,"network-request-failed"))},timeout:oV.get()})}if(!((s=(i=rn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=rn().gapi)===null||o===void 0)&&o.load)l();else{const c=dC("iframefcb");return rn()[c]=()=>{gapi.load?l():n(Vn(t,"network-request-failed"))},C_(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function lV(t){return Rf=Rf||aV(t),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new vd(5e3,15e3),cV="__/auth/iframe",dV="emulator/auth/iframe",hV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pV(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?A_(e,dV):`https://${t.config.authDomain}/${cV}`,i={apiKey:e.apiKey,appName:t.name,v:ts},s=fV.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${$l(i).slice(1)}`}async function mV(t){const e=await lV(t),n=rn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:pV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Vn(t,"network-request-failed"),c=rn().setTimeout(()=>{o(l)},uV.get());function h(){rn().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vV=500,yV=600,_V="_blank",wV="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bV(t,e,n,i=vV,s=yV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},gV),{width:i.toString(),height:s.toString(),top:o,left:l}),f=cn().toLowerCase();n&&(c=sC(f)?_V:n),rC(f)&&(e=e||wV,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[w,T])=>`${y}${w}=${T},`,"");if(jL(f)&&c!=="_self")return EV(e||"",c),new iT(null);const v=window.open(e||"",c,p);ne(v,t,"popup-blocked");try{v.focus()}catch{}return new iT(v)}function EV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="__/auth/handler",TV="emulator/auth/handler",AV=encodeURIComponent("fac");async function hy(t,e,n,i,s,o){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ts,eventId:s};if(e instanceof is){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",rD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(o||{}))l[p]=v}if(e instanceof Hl){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${AV}=${encodeURIComponent(h)}`:"";return`${SV(t)}?${$l(c).slice(1)}${f}`}function SV({config:t}){return t.emulator?A_(t,TV):`https://${t.authDomain}/${IV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="webStorageSupport";class CV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=Fp,this._overrideRedirectResult=F_}async _openPopup(e,n,i,s){var o;Xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await hy(e,n,i,Hc(),s);return bV(e,l,wd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await hy(e,n,i,Hc(),s);return l4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Xi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await mV(e),i=new VC(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kv,{type:kv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[kv];l!==void 0&&n(!!l),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uC()||S_()||Bl()}}const $C=CV;class RV{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return yr("unexpected MultiFactorSessionType")}}}class U_ extends RV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new U_(e)}_finalizeEnroll(e,n,i){return e4(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return y4(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class jC{constructor(){}static assertion(e){return U_._fromCredential(e)}}jC.FACTOR_ID="phone";var rT="@firebase/auth",sT="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function xV(t){Tr(new Qi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;ne(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},f=new KL(i,s,o,h);return tM(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Tr(new Qi("auth-internal",e=>{const n=Bt(e.getProvider("auth").getImmediate());return(i=>new PV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(rT,sT,kV(t)),ii(rT,sT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=5*60,NV=MS("authIdTokenMaxAge")||OV;let oT=null;const DV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>NV)return;const s=n==null?void 0:n.token;oT!==s&&(oT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function BC(t=gd()){const e=ra(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eM(t,{popupRedirectResolver:$C,persistence:[_l,Dp,qs]}),i=MS("authTokenSyncURL");if(i){const o=DV(i);YM(n,o,()=>o(n.currentUser)),JM(n,l=>o(l))}const s=DS("auth");return s&&hC(n,`http://${s}`),n}xV("Browser");var LV="firebase",MV="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(LV,MV,"app");var VV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe,$_=$_||{},$e=VV||self;function Up(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ed(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function FV(t){return Object.prototype.hasOwnProperty.call(t,xv)&&t[xv]||(t[xv]=++UV)}var xv="closure_uid_"+(1e9*Math.random()>>>0),UV=0;function $V(t,e,n){return t.call.apply(t.bind,arguments)}function jV(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Gn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gn=$V:Gn=jV,Gn.apply(null,arguments)}function sf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Rn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Qs(){this.s=this.s,this.o=this.o}var BV=0;Qs.prototype.s=!1;Qs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BV!=0)&&FV(this)};Qs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function aT(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Up(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Wn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wn.prototype.h=function(){this.defaultPrevented=!0};var qV=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function Kc(t){return/^[\s\xa0]*$/.test(t)}function $p(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function gr(t){return $p().indexOf(t)!=-1}function B_(t){return B_[" "](t),t}B_[" "]=function(){};function HV(t,e){var n=MF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var GV=gr("Opera"),wl=gr("Trident")||gr("MSIE"),HC=gr("Edge"),fy=HC||wl,GC=gr("Gecko")&&!($p().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge"))&&!(gr("Trident")||gr("MSIE"))&&!gr("Edge"),WV=$p().toLowerCase().indexOf("webkit")!=-1&&!gr("Edge");function WC(){var t=$e.document;return t?t.documentMode:void 0}var py;e:{var Ov="",Nv=function(){var t=$p();if(GC)return/rv:([^\);]+)(\)|;)/.exec(t);if(HC)return/Edge\/([\d\.]+)/.exec(t);if(wl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(WV)return/WebKit\/(\S+)/.exec(t);if(GV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nv&&(Ov=Nv?Nv[1]:""),wl){var Dv=WC();if(Dv!=null&&Dv>parseFloat(Ov)){py=String(Dv);break e}}py=Ov}var my;if($e.document&&wl){var lT=WC();my=lT||parseInt(py,10)||void 0}else my=void 0;var zV=my;function Jc(t,e){if(Wn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(GC){e:{try{B_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:KV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jc.$.h.call(this)}}Rn(Jc,Wn);var KV={2:"touch",3:"pen",4:"mouse"};Jc.prototype.h=function(){Jc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Id="closure_listenable_"+(1e6*Math.random()|0),JV=0;function YV(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++JV,this.fa=this.ia=!1}function jp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function q_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function QV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zC(t){const e={};for(const n in t)e[n]=t[n];return e}const uT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KC(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<uT.length;o++)n=uT[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Bp(t){this.src=t,this.g={},this.h=0}Bp.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=vy(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new YV(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function gy(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=qC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(jp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function vy(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var H_="closure_lm_"+(1e6*Math.random()|0),Lv={};function JC(t,e,n,i,s){if(i&&i.once)return QC(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)JC(t,e[o],n,i,s);return null}return n=z_(n),t&&t[Id]?t.O(e,n,Ed(i)?!!i.capture:!!i,s):YC(t,e,n,!1,i,s)}function YC(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=Ed(s)?!!s.capture:!!s,c=W_(t);if(c||(t[H_]=c=new Bp(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=XV(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)qV||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(ZC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XV(){function t(n){return e.call(t.src,t.listener,n)}const e=ZV;return t}function QC(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)QC(t,e[o],n,i,s);return null}return n=z_(n),t&&t[Id]?t.P(e,n,Ed(i)?!!i.capture:!!i,s):YC(t,e,n,!0,i,s)}function XC(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)XC(t,e[o],n,i,s);else i=Ed(i)?!!i.capture:!!i,n=z_(n),t&&t[Id]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=vy(o,n,i,s),-1<n&&(jp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=W_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vy(e,n,i,s)),(n=-1<t?e[t]:null)&&G_(n))}function G_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Id])gy(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(ZC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=W_(e))?(gy(n,t),n.h==0&&(n.src=null,e[H_]=null)):jp(t)}}}function ZC(t){return t in Lv?Lv[t]:Lv[t]="on"+t}function ZV(t,e){if(t.fa)t=!0;else{e=new Jc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&G_(t),t=n.call(i,e)}return t}function W_(t){return t=t[H_],t instanceof Bp?t:null}var Mv="__closure_events_fn_"+(1e9*Math.random()>>>0);function z_(t){return typeof t=="function"?t:(t[Mv]||(t[Mv]=function(e){return t.handleEvent(e)}),t[Mv])}function Cn(){Qs.call(this),this.i=new Bp(this),this.S=this,this.J=null}Rn(Cn,Qs);Cn.prototype[Id]=!0;Cn.prototype.removeEventListener=function(t,e,n,i){XC(this,t,e,n,i)};function Fn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Wn(e,t);else if(e instanceof Wn)e.target=e.target||t;else{var s=e;e=new Wn(i,t),KC(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=of(l,i,!0,e)&&s}if(l=e.g=t,s=of(l,i,!0,e)&&s,s=of(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=of(l,i,!1,e)&&s}Cn.prototype.N=function(){if(Cn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)jp(n[i]);delete t.g[e],t.h--}}this.J=null};Cn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Cn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function of(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&gy(t.i,l),s=c.call(h,i)!==!1&&s}}return s&&!i.defaultPrevented}var K_=$e.JSON.stringify;class eF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function tF(){var t=J_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class nF{constructor(){this.h=this.g=null}add(e,n){const i=e2.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var e2=new eF(()=>new iF,t=>t.reset());class iF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function rF(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function sF(t){$e.setTimeout(()=>{throw t},0)}let Yc,Qc=!1,J_=new nF,t2=()=>{const t=$e.Promise.resolve(void 0);Yc=()=>{t.then(oF)}};var oF=()=>{for(var t;t=tF();){try{t.h.call(t.g)}catch(n){sF(n)}var e=e2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qc=!1};function qp(t,e){Cn.call(this),this.h=t||1,this.g=e||$e,this.j=Gn(this.qb,this),this.l=Date.now()}Rn(qp,Cn);fe=qp.prototype;fe.ga=!1;fe.T=null;fe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fn(this,"tick"),this.ga&&(Y_(this),this.start()))}};fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Y_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}fe.N=function(){qp.$.N.call(this),Y_(this),delete this.g};function Q_(t,e,n){if(typeof t=="function")n&&(t=Gn(t,n));else if(t&&typeof t.handleEvent=="function")t=Gn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function n2(t){t.g=Q_(()=>{t.g=null,t.i&&(t.i=!1,n2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class aF extends Qs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:n2(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xc(t){Qs.call(this),this.h=t,this.g={}}Rn(Xc,Qs);var cT=[];function i2(t,e,n,i){Array.isArray(n)||(n&&(cT[0]=n.toString()),n=cT);for(var s=0;s<n.length;s++){var o=JC(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function r2(t){q_(t.g,function(e,n){this.g.hasOwnProperty(n)&&G_(e)},t),t.g={}}Xc.prototype.N=function(){Xc.$.N.call(this),r2(this)};Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hp(){this.g=!0}Hp.prototype.Ea=function(){this.g=!1};function lF(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");l=2<=v.length&&v[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function uF(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function rl(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+dF(t,n)+(i?" "+i:"")})}function cF(t,e){t.info(function(){return"TIMEOUT: "+e})}Hp.prototype.info=function(){};function dF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return K_(n)}catch{return e}}var oa={},dT=null;function Gp(){return dT=dT||new Cn}oa.Ta="serverreachability";function s2(t){Wn.call(this,oa.Ta,t)}Rn(s2,Wn);function Zc(t){const e=Gp();Fn(e,new s2(e))}oa.STAT_EVENT="statevent";function o2(t,e){Wn.call(this,oa.STAT_EVENT,t),this.stat=e}Rn(o2,Wn);function ni(t){const e=Gp();Fn(e,new o2(e,t))}oa.Ua="timingevent";function a2(t,e){Wn.call(this,oa.Ua,t),this.size=e}Rn(a2,Wn);function Td(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}var Wp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},l2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function X_(){}X_.prototype.h=null;function hT(t){return t.h||(t.h=t.i())}function u2(){}var Ad={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Z_(){Wn.call(this,"d")}Rn(Z_,Wn);function e0(){Wn.call(this,"c")}Rn(e0,Wn);var yy;function zp(){}Rn(zp,X_);zp.prototype.g=function(){return new XMLHttpRequest};zp.prototype.i=function(){return{}};yy=new zp;function Sd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Xc(this),this.P=hF,t=fy?125:void 0,this.V=new qp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new c2}function c2(){this.i=null,this.g="",this.h=!1}var hF=45e3,_y={},Kf={};fe=Sd.prototype;fe.setTimeout=function(t){this.P=t};function wy(t,e,n){t.L=1,t.v=Jp(Jr(e)),t.s=n,t.S=!0,d2(t,null)}function d2(t,e){t.G=Date.now(),Cd(t),t.A=Jr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),_2(n.i,"t",i),t.C=0,n=t.l.J,t.h=new c2,t.g=$2(t.l,n?e:null,!t.s),0<t.O&&(t.M=new aF(Gn(t.Pa,t,t.g),t.O)),i2(t.U,t.g,"readystatechange",t.nb),e=t.I?zC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Zc(),lF(t.j,t.u,t.A,t.m,t.W,t.s)}fe.nb=function(t){t=t.target;const e=this.M;e&&_r(t)==3?e.l():this.Pa(t)};fe.Pa=function(t){try{if(t==this.g)e:{const p=_r(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||fy||this.g&&(this.h.h||this.g.ja()||gT(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Zc(3):Zc(2)),Kp(this);var n=this.g.da();this.ca=n;t:if(h2(this)){var i=gT(this.g);t="";var s=i.length,o=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lo(this),Pc(this);var l="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,uF(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kc(c)){var f=c;break t}}f=null}if(n=f)rl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,by(this,n);else{this.i=!1,this.o=3,ni(12),Lo(this),Pc(this);break e}}this.S?(f2(this,p,l),fy&&this.i&&p==3&&(i2(this.U,this.V,"tick",this.mb),this.V.start())):(rl(this.j,this.m,l,null),by(this,l)),p==4&&Lo(this),this.i&&!this.J&&(p==4?M2(this.l,this):(this.i=!1,Cd(this)))}else NF(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),Lo(this),Pc(this)}}}catch{}finally{}};function h2(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function f2(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=fF(t,n),s==Kf){e==4&&(t.o=4,ni(14),i=!1),rl(t.j,t.m,null,"[Incomplete Response]");break}else if(s==_y){t.o=4,ni(15),rl(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else rl(t.j,t.m,s,null),by(t,s);h2(t)&&s!=Kf&&s!=_y&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ni(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),o0(e),e.M=!0,ni(11))):(rl(t.j,t.m,n,"[Invalid Chunked Response]"),Lo(t),Pc(t))}fe.mb=function(){if(this.g){var t=_r(this.g),e=this.g.ja();this.C<e.length&&(Kp(this),f2(this,t,e),this.i&&t!=4&&Cd(this))}};function fF(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Kf:(n=Number(e.substring(n,i)),isNaN(n)?_y:(i+=1,i+n>e.length?Kf:(e=e.slice(i,i+n),t.C=i+n,e)))}fe.cancel=function(){this.J=!0,Lo(this)};function Cd(t){t.Y=Date.now()+t.P,p2(t,t.P)}function p2(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Td(Gn(t.lb,t),e)}function Kp(t){t.B&&($e.clearTimeout(t.B),t.B=null)}fe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(cF(this.j,this.A),this.L!=2&&(Zc(),ni(17)),Lo(this),this.o=2,Pc(this)):p2(this,this.Y-t)};function Pc(t){t.l.H==0||t.J||M2(t.l,t)}function Lo(t){Kp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Y_(t.V),r2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function by(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ey(n.i,t))){if(!t.K&&Ey(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Qf(n),Xp(n);else break e;s0(n),ni(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Td(Gn(n.ib,n),6e3));if(1>=E2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Mo(n,11)}else if((t.K||n.g==t)&&Qf(n),!Kc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const w=t.g;if(w){const T=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var o=i.i;o.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(t0(o,o.h),o.h=null))}if(i.F){const _=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Ct(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=U2(i,i.J?i.pa:null,i.Y),l.K){I2(i.i,l);var c=l,h=i.L;h&&c.setTimeout(h),c.B&&(Kp(c),Cd(c)),i.g=l}else D2(i);0<n.j.length&&Zp(n)}else f[0]!="stop"&&f[0]!="close"||Mo(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Mo(n,7):r0(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Zc(4)}catch{}}function pF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Up(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function mF(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Up(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function m2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Up(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mF(t),i=pF(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var g2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ho(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ho){this.h=t.h,Jf(this,t.j),this.s=t.s,this.g=t.g,Yf(this,t.m),this.l=t.l;var e=t.i,n=new ed;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fT(this,n),this.o=t.o}else t&&(e=String(t).match(g2))?(this.h=!1,Jf(this,e[1]||"",!0),this.s=yc(e[2]||""),this.g=yc(e[3]||"",!0),Yf(this,e[4]),this.l=yc(e[5]||"",!0),fT(this,e[6]||"",!0),this.o=yc(e[7]||"")):(this.h=!1,this.i=new ed(null,this.h))}Ho.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_c(e,pT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_c(e,pT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_c(n,n.charAt(0)=="/"?_F:yF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_c(n,bF)),t.join("")};function Jr(t){return new Ho(t)}function Jf(t,e,n){t.j=n?yc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fT(t,e,n){e instanceof ed?(t.i=e,EF(t.i,t.h)):(n||(e=_c(e,wF)),t.i=new ed(e,t.h))}function Ct(t,e,n){t.i.set(e,n)}function Jp(t){return Ct(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _c(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var pT=/[#\/\?@]/g,yF=/[#\?:]/g,_F=/[#\?]/g,wF=/[#\?@]/g,bF=/#/g;function ed(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xs(t){t.g||(t.g=new Map,t.h=0,t.i&&gF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}fe=ed.prototype;fe.add=function(t,e){Xs(this),this.i=null,t=Gl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function v2(t,e){Xs(t),e=Gl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function y2(t,e){return Xs(t),e=Gl(t,e),t.g.has(e)}fe.forEach=function(t,e){Xs(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};fe.ta=function(){Xs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};fe.Z=function(t){Xs(this);let e=[];if(typeof t=="string")y2(this,t)&&(e=e.concat(this.g.get(Gl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};fe.set=function(t,e){return Xs(this),this.i=null,t=Gl(this,t),y2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};fe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function _2(t,e,n){v2(t,e),0<n.length&&(t.i=null,t.g.set(Gl(t,e),j_(n)),t.h+=n.length)}fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Gl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function EF(t,e){e&&!t.j&&(Xs(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(v2(this,i),_2(this,s,n))},t)),t.j=e}var IF=class{constructor(t,e){this.g=t,this.map=e}};function w2(t){this.l=t||TF,$e.PerformanceNavigationTiming?(t=$e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TF=10;function b2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function E2(t){return t.h?1:t.g?t.g.size:0}function Ey(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function t0(t,e){t.g?t.g.add(e):t.h=e}function I2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}w2.prototype.cancel=function(){if(this.i=T2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function T2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return j_(t.i)}var AF=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function SF(){this.g=new AF}function CF(t,e,n){const i=n||"";try{m2(t,function(s,o){let l=s;Ed(s)&&(l=K_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function RF(t,e){const n=new Hp;if($e.Image){const i=new Image;i.onload=sf(af,n,i,"TestLoadImage: loaded",!0,e),i.onerror=sf(af,n,i,"TestLoadImage: error",!1,e),i.onabort=sf(af,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=sf(af,n,i,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function af(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Rd(t){this.l=t.ec||null,this.j=t.ob||!1}Rn(Rd,X_);Rd.prototype.g=function(){return new Yp(this.l,this.j)};Rd.prototype.i=function(t){return function(){return t}}({});function Yp(t,e){Cn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=n0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rn(Yp,Cn);var n0=0;fe=Yp.prototype;fe.open=function(t,e){if(this.readyState!=n0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,td(this)};fe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pd(this)),this.readyState=n0};fe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,td(this)),this.g&&(this.readyState=3,td(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;A2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function A2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}fe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pd(this):td(this),this.readyState==3&&A2(this)}};fe.Za=function(t){this.g&&(this.response=this.responseText=t,Pd(this))};fe.Ya=function(t){this.g&&(this.response=t,Pd(this))};fe.ka=function(){this.g&&Pd(this)};function Pd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,td(t)}fe.setRequestHeader=function(t,e){this.v.append(t,e)};fe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};fe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function td(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var PF=$e.JSON.parse;function qt(t){Cn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=S2,this.L=this.M=!1}Rn(qt,Cn);var S2="",kF=/^https?$/i,xF=["POST","PUT"];fe=qt.prototype;fe.Oa=function(t){this.M=t};fe.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yy.g(),this.C=this.u?hT(this.u):hT(yy),this.g.onreadystatechange=Gn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){mT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=$e.FormData&&t instanceof $e.FormData,!(0<=qC(xF,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{P2(this),0<this.B&&((this.L=OF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gn(this.ua,this)):this.A=Q_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){mT(this,o)}};function OF(t){return wl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}fe.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))};function mT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,C2(t),Qp(t)}function C2(t){t.F||(t.F=!0,Fn(t,"complete"),Fn(t,"error"))}fe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fn(this,"complete"),Fn(this,"abort"),Qp(this))};fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qp(this,!0)),qt.$.N.call(this)};fe.La=function(){this.s||(this.G||this.v||this.l?R2(this):this.kb())};fe.kb=function(){R2(this)};function R2(t){if(t.h&&typeof $_<"u"&&(!t.C[1]||_r(t)!=4||t.da()!=2)){if(t.v&&_r(t)==4)Q_(t.La,0,t);else if(Fn(t,"readystatechange"),_r(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(g2)[1]||null;!s&&$e.self&&$e.self.location&&(s=$e.self.location.protocol.slice(0,-1)),i=!kF.test(s?s.toLowerCase():"")}n=i}if(n)Fn(t,"complete"),Fn(t,"success");else{t.m=6;try{var o=2<_r(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",C2(t)}}finally{Qp(t)}}}}function Qp(t,e){if(t.g){P2(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fn(t,"ready");try{n.onreadystatechange=i}catch{}}}function P2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}fe.isActive=function(){return!!this.g};function _r(t){return t.g?t.g.readyState:0}fe.da=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}};fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};fe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),PF(e)}};function gT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case S2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function NF(t){const e={};t=(t.g&&2<=_r(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Kc(t[i]))continue;var n=rF(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}QV(e,function(i){return i.join(", ")})}fe.Ia=function(){return this.m};fe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function k2(t){let e="";return q_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function i0(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=k2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ct(t,e,n))}function sc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function x2(t){this.Ga=0,this.j=[],this.l=new Hp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sc("baseRetryDelayMs",5e3,t),this.hb=sc("retryDelaySeedMs",1e4,t),this.eb=sc("forwardChannelMaxRetries",2,t),this.xa=sc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new w2(t&&t.concurrentRequestLimit),this.Ja=new SF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}fe=x2.prototype;fe.ra=8;fe.H=1;function r0(t){if(O2(t),t.H==3){var e=t.W++,n=Jr(t.I);if(Ct(n,"SID",t.K),Ct(n,"RID",e),Ct(n,"TYPE","terminate"),kd(t,n),e=new Sd(t,t.l,e),e.L=2,e.v=Jp(Jr(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&(new Image().src=e.v,n=!0),n||(e.g=$2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Cd(e)}F2(t)}function Xp(t){t.g&&(o0(t),t.g.cancel(),t.g=null)}function O2(t){Xp(t),t.u&&($e.clearTimeout(t.u),t.u=null),Qf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&$e.clearTimeout(t.m),t.m=null)}function Zp(t){if(!b2(t.i)&&!t.m){t.m=!0;var e=t.Na;Yc||t2(),Qc||(Yc(),Qc=!0),J_.add(e,t),t.C=0}}function DF(t,e){return E2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Td(Gn(t.Na,t,e),V2(t,t.C)),t.C++,!0)}fe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Sd(this,this.l,t);let o=this.s;if(this.U&&(o?(o=zC(o),KC(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=N2(this,s,e),n=Jr(this.I),Ct(n,"RID",t),Ct(n,"CVER",22),this.F&&Ct(n,"X-HTTP-Session-Id",this.F),kd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(k2(o)))+"&"+e:this.o&&i0(n,this.o,o)),t0(this.i,s),this.bb&&Ct(n,"TYPE","init"),this.P?(Ct(n,"$req",e),Ct(n,"SID","null"),s.aa=!0,wy(s,n,null)):wy(s,n,e),this.H=2}}else this.H==3&&(t?vT(this,t):this.j.length==0||b2(this.i)||vT(this))};function vT(t,e){var n;e?n=e.m:n=t.W++;const i=Jr(t.I);Ct(i,"SID",t.K),Ct(i,"RID",n),Ct(i,"AID",t.V),kd(t,i),t.o&&t.s&&i0(i,t.o,t.s),n=new Sd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=N2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),t0(t.i,n),wy(n,i,e)}function kd(t,e){t.na&&q_(t.na,function(n,i){Ct(e,i,n)}),t.h&&m2({},function(n,i){Ct(e,i,n)})}function N2(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Gn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=s[h].g;const p=s[h].map;if(f-=o,0>f)o=Math.max(0,s[h].g-100),c=!1;else try{CF(p,l,"req"+f+"_")}catch{i&&i(p)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function D2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Yc||t2(),Qc||(Yc(),Qc=!0),J_.add(e,t),t.A=0}}function s0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Td(Gn(t.Ma,t),V2(t,t.A)),t.A++,!0)}fe.Ma=function(){if(this.u=null,L2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Td(Gn(this.jb,this),t)}};fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ni(10),Xp(this),L2(this))};function o0(t){t.B!=null&&($e.clearTimeout(t.B),t.B=null)}function L2(t){t.g=new Sd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Jr(t.wa);Ct(e,"RID","rpc"),Ct(e,"SID",t.K),Ct(e,"AID",t.V),Ct(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ct(e,"TO",t.qa),Ct(e,"TYPE","xmlhttp"),kd(t,e),t.o&&t.s&&i0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Jp(Jr(e)),n.s=null,n.S=!0,d2(n,t)}fe.ib=function(){this.v!=null&&(this.v=null,Xp(this),s0(this),ni(19))};function Qf(t){t.v!=null&&($e.clearTimeout(t.v),t.v=null)}function M2(t,e){var n=null;if(t.g==e){Qf(t),o0(t),t.g=null;var i=2}else if(Ey(t.i,e))n=e.F,I2(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Gp(),Fn(i,new a2(i,n)),Zp(t)}else D2(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&DF(t,e)||i==2&&s0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Mo(t,5);break;case 4:Mo(t,10);break;case 3:Mo(t,6);break;default:Mo(t,2)}}}function V2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Mo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Gn(t.pb,t);n||(n=new Ho("//www.google.com/images/cleardot.gif"),$e.location&&$e.location.protocol=="http"||Jf(n,"https"),Jp(n)),RF(n.toString(),i)}else ni(2);t.H=0,t.h&&t.h.za(e),F2(t),O2(t)}fe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ni(2)):(this.l.info("Failed to ping google.com"),ni(1))};function F2(t){if(t.H=0,t.ma=[],t.h){const e=T2(t.i);(e.length!=0||t.j.length!=0)&&(aT(t.ma,e),aT(t.ma,t.j),t.i.i.length=0,j_(t.j),t.j.length=0),t.h.ya()}}function U2(t,e,n){var i=n instanceof Ho?Jr(n):new Ho(n);if(i.g!="")e&&(i.g=e+"."+i.g),Yf(i,i.m);else{var s=$e.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Ho(null);i&&Jf(o,i),e&&(o.g=e),s&&Yf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Ct(i,n,e),Ct(i,"VER",t.ra),kd(t,i),i}function $2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new qt(new Rd({ob:!0})):new qt(t.va),e.Oa(t.J),e}fe.isActive=function(){return!!this.h&&this.h.isActive(this)};function j2(){}fe=j2.prototype;fe.Ba=function(){};fe.Aa=function(){};fe.za=function(){};fe.ya=function(){};fe.isActive=function(){return!0};fe.Va=function(){};function Xf(){if(wl&&!(10<=Number(zV)))throw Error("Environmental error: no available transport.")}Xf.prototype.g=function(t,e){return new Ci(t,e)};function Ci(t,e){Cn.call(this),this.g=new x2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Kc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wl(this)}Rn(Ci,Cn);Ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ni(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=U2(t,null,t.Y),Zp(t)};Ci.prototype.close=function(){r0(this.g)};Ci.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=K_(t),t=n);e.j.push(new IF(e.fb++,t)),e.H==3&&Zp(e)};Ci.prototype.N=function(){this.g.h=null,delete this.j,r0(this.g),delete this.g,Ci.$.N.call(this)};function B2(t){Z_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Rn(B2,Z_);function q2(){e0.call(this),this.status=1}Rn(q2,e0);function Wl(t){this.g=t}Rn(Wl,j2);Wl.prototype.Ba=function(){Fn(this.g,"a")};Wl.prototype.Aa=function(t){Fn(this.g,new B2(t))};Wl.prototype.za=function(t){Fn(this.g,new q2)};Wl.prototype.ya=function(){Fn(this.g,"b")};function LF(){this.blockSize=-1}function Zi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Rn(Zi,LF);Zi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Vv(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Zi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)Vv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){Vv(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){Vv(this,i),s=0;break}}this.h=s,this.i+=e};Zi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function yt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var MF={};function a0(t){return-128<=t&&128>t?HV(t,function(e){return new yt([e|0],0>e?-1:0)}):new yt([t|0],0>t?-1:0)}function wr(t){if(isNaN(t)||!isFinite(t))return ll;if(0>t)return xn(wr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Iy;return new yt(e,0)}function H2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return xn(H2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wr(Math.pow(e,8)),i=ll,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=wr(Math.pow(e,o)),i=i.R(o).add(wr(l))):(i=i.R(n),i=i.add(wr(l)))}return i}var Iy=4294967296,ll=a0(0),Ty=a0(1),yT=a0(16777216);fe=yt.prototype;fe.ea=function(){if(Di(this))return-xn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Iy+i)*e,e*=Iy}return t};fe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($r(this))return"0";if(Di(this))return"-"+xn(this).toString(t);for(var e=wr(Math.pow(t,6)),n=this,i="";;){var s=ep(n,e).g;n=Zf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,$r(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};fe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $r(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Di(t){return t.h==-1}fe.X=function(t){return t=Zf(this,t),Di(t)?-1:$r(t)?0:1};function xn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new yt(n,~t.h).add(Ty)}fe.abs=function(){return Di(this)?xn(this):this};fe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new yt(n,n[n.length-1]&-2147483648?-1:0)};function Zf(t,e){return t.add(xn(e))}fe.R=function(t){if($r(this)||$r(t))return ll;if(Di(this))return Di(t)?xn(this).R(xn(t)):xn(xn(this).R(t));if(Di(t))return xn(this.R(xn(t)));if(0>this.X(yT)&&0>t.X(yT))return wr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,h=t.D(s)&65535;n[2*i+2*s]+=l*h,lf(n,2*i+2*s),n[2*i+2*s+1]+=o*h,lf(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,lf(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,lf(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new yt(n,0)};function lf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function oc(t,e){this.g=t,this.h=e}function ep(t,e){if($r(e))throw Error("division by zero");if($r(t))return new oc(ll,ll);if(Di(t))return e=ep(xn(t),e),new oc(xn(e.g),xn(e.h));if(Di(e))return e=ep(t,xn(e)),new oc(xn(e.g),e.h);if(30<t.g.length){if(Di(t)||Di(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ty,i=e;0>=i.X(t);)n=_T(n),i=_T(i);var s=Ya(n,1),o=Ya(i,1);for(i=Ya(i,2),n=Ya(n,2);!$r(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=Ya(i,1),n=Ya(n,1)}return e=Zf(t,s.R(e)),new oc(s,e)}for(s=ll;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=wr(n),l=o.R(e);Di(l)||0<l.X(t);)n-=i,o=wr(n),l=o.R(e);$r(o)&&(o=Ty),s=s.add(o),t=Zf(t,l)}return new oc(s,t)}fe.gb=function(t){return ep(this,t).h};fe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new yt(n,this.h&t.h)};fe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new yt(n,this.h|t.h)};fe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new yt(n,this.h^t.h)};function _T(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new yt(n,t.h)}function Ya(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new yt(s,t.h)}Xf.prototype.createWebChannel=Xf.prototype.g;Ci.prototype.send=Ci.prototype.u;Ci.prototype.open=Ci.prototype.m;Ci.prototype.close=Ci.prototype.close;Wp.NO_ERROR=0;Wp.TIMEOUT=8;Wp.HTTP_ERROR=6;l2.COMPLETE="complete";u2.EventType=Ad;Ad.OPEN="a";Ad.CLOSE="b";Ad.ERROR="c";Ad.MESSAGE="d";Cn.prototype.listen=Cn.prototype.O;qt.prototype.listenOnce=qt.prototype.P;qt.prototype.getLastError=qt.prototype.Sa;qt.prototype.getLastErrorCode=qt.prototype.Ia;qt.prototype.getStatus=qt.prototype.da;qt.prototype.getResponseJson=qt.prototype.Wa;qt.prototype.getResponseText=qt.prototype.ja;qt.prototype.send=qt.prototype.ha;qt.prototype.setWithCredentials=qt.prototype.Oa;Zi.prototype.digest=Zi.prototype.l;Zi.prototype.reset=Zi.prototype.reset;Zi.prototype.update=Zi.prototype.j;yt.prototype.add=yt.prototype.add;yt.prototype.multiply=yt.prototype.R;yt.prototype.modulo=yt.prototype.gb;yt.prototype.compare=yt.prototype.X;yt.prototype.toNumber=yt.prototype.ea;yt.prototype.toString=yt.prototype.toString;yt.prototype.getBits=yt.prototype.D;yt.fromNumber=wr;yt.fromString=H2;var VF=function(){return new Xf},FF=function(){return Gp()},Fv=Wp,UF=l2,$F=oa,wT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jF=Rd,uf=u2,BF=qt,qF=Zi,ul=yt;const bT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Ap("@firebase/firestore");function ac(){return Qo.logLevel}function be(t,...e){if(Qo.logLevel<=Xe.DEBUG){const n=e.map(l0);Qo.debug(`Firestore (${zl}): ${t}`,...n)}}function Yr(t,...e){if(Qo.logLevel<=Xe.ERROR){const n=e.map(l0);Qo.error(`Firestore (${zl}): ${t}`,...n)}}function bl(t,...e){if(Qo.logLevel<=Xe.WARN){const n=e.map(l0);Qo.warn(`Firestore (${zl}): ${t}`,...n)}}function l0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Pt(t,e){t||Fe()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class GF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WF{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt(typeof i.accessToken=="string"),new G2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string"),new jn(e)}}class zF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new zF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pt(typeof n.token=="string"),this.R=n.token,new JF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=QF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function ht(t,e){return t<e?-1:t>e?1:0}function El(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ln(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new ln(0,0))}static max(){return new Be(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,i){n===void 0?n=0:n>e.length&&Fe(),i===void 0?i=e.length-n:i>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nd?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class It extends nd{construct(e,n,i){return new It(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(H.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new It(n)}static emptyPath(){return new It([])}}const XF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends nd{construct(e,n,i){return new Nn(e,n,i)}static isValidIdentifier(e){return XF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ce(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ce(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new ce(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(It.fromString(e))}static fromName(e){return new Ce(It.fromString(e).popFirst(5))}static empty(){return new Ce(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new It(e.slice()))}}function ZF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new ln(n+1,0):new ln(n,i));return new Hs(s,Ce.empty(),e)}function e3(t){return new Hs(t.readTime,t.key,-1)}class Hs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Hs(Be.min(),Ce.empty(),-1)}static max(){return new Hs(Be.max(),Ce.empty(),-1)}}function t3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==n3)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,i)=>{n(e)})}static reject(e){return new X((n,i)=>{i(e)})}static waitFor(e){return new X((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},h=>i(h))}),l=!0,o===s&&n()})}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next(s=>s?X.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new X((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++c,c===o&&i(l)},p=>s(p))}})}static doWhile(e,n){return new X((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function Od(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}u0._e=-1;function em(t){return t==null}function tp(t){return t===0&&1/t==-1/0}function r3(t){return typeof t=="number"&&Number.isInteger(t)&&!tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new kn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,i,s,o){return this}insert(e,n,i){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Ai([])}unionWith(e){let n=new Un(Nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new K2("Invalid base64 string: "+o):o}}(e);return new Kn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const s3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(Pt(!!t),typeof t=="string"){let e=0;const n=s3.exec(t);if(Pt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c0(t){const e=t.mapValue.fields.__previous_value__;return tm(e)?c0(e):e}function id(t){const e=Gs(t.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,i,s,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class rd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tm(t)?4:a3(t)?9007199254740991:10:Fe()}function Sr(t,e){if(t===e)return!0;const n=Zo(t);if(n!==Zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return id(t).isEqual(id(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Gs(s.timestampValue),c=Gs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Xo(s.bytesValue).isEqual(Xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return sn(s.geoPointValue.latitude)===sn(o.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return sn(s.integerValue)===sn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=sn(s.doubleValue),c=sn(o.doubleValue);return l===c?tp(l)===tp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(ET(l)!==ET(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Sr(l[h],c[h])))return!1;return!0}(t,e);default:return Fe()}}function sd(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Il(t,e){if(t===e)return 0;const n=Zo(t),i=Zo(e);if(n!==i)return ht(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=sn(o.integerValue||o.doubleValue),h=sn(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return TT(t.timestampValue,e.timestampValue);case 4:return TT(id(t),id(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Xo(o),h=Xo(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=ht(c[f],h[f]);if(p!==0)return p}return ht(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=ht(sn(o.latitude),sn(l.latitude));return c!==0?c:ht(sn(o.longitude),sn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],h=l.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=Il(c[f],h[f]);if(p)return p}return ht(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===df.mapValue&&l===df.mapValue)return 0;if(o===df.mapValue)return 1;if(l===df.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const y=ht(h[v],p[v]);if(y!==0)return y;const w=Il(c[h[v]],f[p[v]]);if(w!==0)return w}return ht(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function TT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=Gs(t),i=Gs(e),s=ht(n.seconds,i.seconds);return s!==0?s:ht(n.nanos,i.nanos)}function Tl(t){return Ay(t)}function Ay(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Gs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Ay(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Ay(n.fields[l])}`;return s+"}"}(t.mapValue):Fe()}function np(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function d0(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function ST(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return aa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=kc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Nn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=kc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){aa(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new di(kc(this.value))}}function J2(t){const e=[];return aa(t.fields,(n,i)=>{const s=new Nn([n]);if(Pf(i)){const o=J2(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Bn(e,0,Be.min(),Be.min(),Be.min(),di.empty(),0)}static newFoundDocument(e,n,i,s){return new Bn(e,1,n,Be.min(),i,s,0)}static newNoDocument(e,n){return new Bn(e,2,n,Be.min(),Be.min(),di.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Be.min(),Be.min(),di.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.position=e,this.inclusive=n}}function CT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=Ce.comparator(Ce.fromName(l.referenceValue),n.key):i=Il(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function RT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function l3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{}class an extends Y2{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new c3(e,n,i):n==="array-contains"?new f3(e,i):n==="in"?new p3(e,i):n==="not-in"?new m3(e,i):n==="array-contains-any"?new g3(e,i):new an(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new d3(e,i):new h3(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Il(n,this.value)):n!==null&&Zo(this.value)===Zo(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends Y2{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new er(e,n)}matches(e){return Q2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Q2(t){return t.op==="and"}function X2(t){return u3(t)&&Q2(t)}function u3(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function Cy(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(X2(t))return t.filters.map(e=>Cy(e)).join(",");{const e=t.filters.map(n=>Cy(n)).join(",");return`${t.op}(${e})`}}function Z2(t,e){return t instanceof an?function(i,s){return s instanceof an&&i.op===s.op&&i.field.isEqual(s.field)&&Sr(i.value,s.value)}(t,e):t instanceof er?function(i,s){return s instanceof er&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&Z2(l,s.filters[c]),!0):!1}(t,e):void Fe()}function eR(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(eR).join(" ,")+"}"}(t):"Filter"}class c3 extends an{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class d3 extends an{constructor(e,n){super(e,"in",n),this.keys=tR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class h3 extends an{constructor(e,n){super(e,"not-in",n),this.keys=tR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class f3 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d0(n)&&sd(n.arrayValue,this.value)}}class p3 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sd(this.value.arrayValue,n)}}class m3 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(sd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sd(this.value.arrayValue,n)}}class g3 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>sd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function PT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new v3(t,e,n,i,s,o,l)}function h0(t){const e=We(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Cy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Tl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Tl(i)).join(",")),e.ce=n}return e.ce}function f0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!l3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Z2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RT(t.startAt,e.startAt)&&RT(t.endAt,e.endAt)}function Ry(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function y3(t,e,n,i,s,o,l,c){return new Zs(t,e,n,i,s,o,l,c)}function nm(t){return new Zs(t)}function kT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p0(t){return t.collectionGroup!==null}function cl(t){const e=We(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Un(Nn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new od(o,i))}),n.has(Nn.keyField().canonicalString())||e.le.push(new od(Nn.keyField(),i))}return e.le}function Er(t){const e=We(t);return e.he||(e.he=_3(e,cl(t))),e.he}function _3(t,e){if(t.limitType==="F")return PT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new od(s.field,o)});const n=t.endAt?new Al(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Al(t.startAt.position,t.startAt.inclusive):null;return PT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Py(t,e){const n=t.filters.concat([e]);return new Zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,n){return new Zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return f0(Er(t),Er(e))&&t.limitType===e.limitType}function nR(t){return`${h0(Er(t))}|lt:${t.limitType}`}function Za(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>eR(s)).join(", ")}]`),em(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Tl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Tl(s)).join(",")),`Target(${i})`}(Er(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ce.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of cl(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=CT(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,cl(i),s)||i.endAt&&!function(l,c,h){const f=CT(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,cl(i),s))}(t,e)}function w3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iR(t){return(e,n)=>{let i=!1;for(const s of cl(t)){const o=b3(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function b3(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Il(h,f):Fe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return z2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Vt(Ce.comparator);function Qr(){return E3}const rR=new Vt(Ce.comparator);function wc(...t){let e=rR;for(const n of t)e=e.insert(n.key,n);return e}function sR(t){let e=rR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Vo(){return xc()}function oR(){return xc()}function xc(){return new Kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const I3=new Vt(Ce.comparator),T3=new Un(Ce.comparator);function Ze(...t){let e=T3;for(const n of t)e=e.add(n);return e}const A3=new Un(ht);function S3(){return A3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function lR(t){return{integerValue:""+t}}function C3(t,e){return r3(e)?lR(e):aR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function R3(t,e,n){return t instanceof rp?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&tm(o)&&(o=c0(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Sl?cR(t,e):t instanceof Cl?dR(t,e):function(s,o){const l=uR(s,o),c=xT(l)+xT(s.Ie);return Sy(l)&&Sy(s.Ie)?lR(c):aR(s.serializer,c)}(t,e)}function P3(t,e,n){return t instanceof Sl?cR(t,e):t instanceof Cl?dR(t,e):n}function uR(t,e){return t instanceof sp?function(i){return Sy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class rp extends sm{}class Sl extends sm{constructor(e){super(),this.elements=e}}function cR(t,e){const n=hR(e);for(const i of t.elements)n.some(s=>Sr(s,i))||n.push(i);return{arrayValue:{values:n}}}class Cl extends sm{constructor(e){super(),this.elements=e}}function dR(t,e){let n=hR(e);for(const i of t.elements)n=n.filter(s=>!Sr(s,i));return{arrayValue:{values:n}}}class sp extends sm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xT(t){return sn(t.integerValue||t.doubleValue)}function hR(t){return d0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.field=e,this.transform=n}}function k3(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Sl&&s instanceof Sl||i instanceof Cl&&s instanceof Cl?El(i.elements,s.elements,Sr):i instanceof sp&&s instanceof sp?Sr(i.Ie,s.Ie):i instanceof rp&&s instanceof rp}(t.transform,e.transform)}class x3{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function pR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m0(t.key,Li.none()):new Nd(t.key,t.data,Li.none());{const n=t.data,i=di.empty();let s=new Un(Nn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new eo(t.key,i,new Ai(s.toArray()),Li.none())}}function O3(t,e,n){t instanceof Nd?function(s,o,l){const c=s.value.clone(),h=NT(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof eo?function(s,o,l){if(!kf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=NT(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(mR(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Oc(t,e,n,i){return t instanceof Nd?function(o,l,c,h){if(!kf(o.precondition,l))return c;const f=o.value.clone(),p=DT(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof eo?function(o,l,c,h){if(!kf(o.precondition,l))return c;const f=DT(o.fieldTransforms,h,l),p=l.data;return p.setAll(mR(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return kf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function N3(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=uR(i.transform,s||null);o!=null&&(n===null&&(n=di.empty()),n.set(i.field,o))}return n||null}function OT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&El(i,s,(o,l)=>k3(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nd extends om{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class eo extends om{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function mR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function NT(t,e,n){const i=new Map;Pt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,P3(l,c,n[s]))}return i}function DT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,R3(o,l,e))}return i}class m0 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D3 extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&O3(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Oc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Oc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=oR();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const h=pR(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,(n,i)=>OT(n,i))&&El(this.baseMutations,e.baseMutations,(n,i)=>OT(n,i))}}class g0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Pt(e.mutations.length===i.length);let s=function(){return I3}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new g0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,rt;function F3(t){switch(t){default:return Fe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function gR(t){if(t===void 0)return Yr("GRPC error has no .code"),H.UNKNOWN;switch(t){case nn.OK:return H.OK;case nn.CANCELLED:return H.CANCELLED;case nn.UNKNOWN:return H.UNKNOWN;case nn.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case nn.INTERNAL:return H.INTERNAL;case nn.UNAVAILABLE:return H.UNAVAILABLE;case nn.UNAUTHENTICATED:return H.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case nn.NOT_FOUND:return H.NOT_FOUND;case nn.ALREADY_EXISTS:return H.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return H.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case nn.ABORTED:return H.ABORTED;case nn.OUT_OF_RANGE:return H.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return H.UNIMPLEMENTED;case nn.DATA_LOSS:return H.DATA_LOSS;default:return Fe()}}(rt=nn||(nn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new ul([4294967295,4294967295],0);function LT(t){const e=U3().encode(t),n=new qF;return n.update(e),new Uint8Array(n.digest())}function MT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ul([n,i],0),new ul([s,o],0)]}class v0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(i<0)throw new bc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ul.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(ul.fromNumber(i)));return s.compare($3)===1&&(s=new ul([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=LT(e),[i,s]=MT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new v0(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=LT(e),[i,s]=MT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new am(Be.min(),s,new Vt(ht),Qr(),Ze())}}class Dd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Dd(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class vR{constructor(e,n){this.targetId=e,this.fe=n}}class yR{constructor(e,n,i=Kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class VT{constructor(){this.ge=0,this.pe=UT(),this.ye=Kn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ze(),n=Ze(),i=Ze();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Fe()}}),new Dd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=UT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class j3{constructor(e){this.Le=e,this.ke=new Map,this.qe=Qr(),this.Qe=FT(),this.Ke=new Vt(ht)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(Ry(o))if(i===0){const l=new Ce(o.path);this.We(n,l,Bn.newNoDocument(l,Be.min()))}else Pt(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Xo(i).toUint8Array()}catch(h){if(h instanceof K2)return bl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new v0(l,s,o)}catch(h){return bl(h instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Ry(c.target)){const h=new Ce(c.target.path);this.qe.get(h)!==null||this.st(l,h)||this.We(l,h,Bn.newNoDocument(h,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=Ze();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new am(e,n,this.Ke,this.qe,i);return this.qe=Qr(),this.Qe=FT(),this.Ke=new Vt(ht),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new VT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Un(ht),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new VT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FT(){return new Vt(Ce.comparator)}function UT(){return new Vt(Ce.comparator)}const B3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),q3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),H3=(()=>({and:"AND",or:"OR"}))();class G3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ky(t,e){return t.useProto3Json||em(e)?e:{value:e}}function op(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W3(t,e){return op(t,e.toTimestamp())}function Ir(t){return Pt(!!t),Be.fromTimestamp(function(n){const i=Gs(n);return new ln(i.seconds,i.nanos)}(t))}function y0(t,e){return function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function wR(t){const e=It.fromString(t);return Pt(TR(e)),e}function xy(t,e){return y0(t.databaseId,e.path)}function Uv(t,e){const n=wR(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(bR(n))}function Oy(t,e){return y0(t.databaseId,e)}function z3(t){const e=wR(t);return e.length===4?It.emptyPath():bR(e)}function Ny(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bR(t){return Pt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $T(t,e,n){return{name:xy(t,e),fields:n.value.mapValue.fields}}function K3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Pt(p===void 0||typeof p=="string"),Kn.fromBase64String(p||"")):(Pt(p===void 0||p instanceof Uint8Array),Kn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?H.UNKNOWN:gR(f.code);return new ce(p,f.message||"")}(l);n=new yR(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Uv(t,i.document.name),o=Ir(i.document.updateTime),l=i.document.createTime?Ir(i.document.createTime):Be.min(),c=new di({mapValue:{fields:i.document.fields}}),h=Bn.newFoundDocument(s,o,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new xf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Uv(t,i.document),o=i.readTime?Ir(i.readTime):Be.min(),l=Bn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new xf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Uv(t,i.document),o=i.removedTargetIds||[];n=new xf([],o,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new V3(s,o),c=i.targetId;n=new vR(c,l)}}return n}function J3(t,e){let n;if(e instanceof Nd)n={update:$T(t,e.key,e.value)};else if(e instanceof m0)n={delete:xy(t,e.key)};else if(e instanceof eo)n={update:$T(t,e.key,e.data),updateMask:r5(e.fieldMask)};else{if(!(e instanceof D3))return Fe();n={verify:xy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof rp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Sl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Fe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:W3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Fe()}(t,e.precondition)),n}function Y3(t,e){return t&&t.length>0?(Pt(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?Ir(s.updateTime):Ir(o);return l.isEqual(Be.min())&&(l=Ir(o)),new x3(l,s.transformResults||[])}(n,e))):[]}function Q3(t,e){return{documents:[Oy(t,e.path)]}}function X3(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Oy(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Oy(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(h.length!==0)return IR(er.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:el(v.field),direction:t5(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ky(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function Z3(t){let e=z3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Pt(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const y=ER(v);return y instanceof er&&X2(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(y=>function(T){return new od(tl(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,em(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(v){const y=!!v.before,w=v.values||[];return new Al(w,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const y=!v.before,w=v.values||[];return new Al(w,y)}(n.endAt)),y3(e,s,l,o,c,"F",h,f)}function e5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ER(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=tl(n.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=tl(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=tl(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tl(n.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(n){return an.create(tl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(i=>ER(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(t):Fe()}function t5(t){return B3[t]}function n5(t){return q3[t]}function i5(t){return H3[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return Nn.fromServerFormat(t.fieldPath)}function IR(t){return t instanceof an?function(n){if(n.op==="=="){if(ST(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ST(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:n5(n.op),value:n.value}}}(t):t instanceof er?function(n){const i=n.getFilters().map(s=>IR(s));return i.length===1?i[0]:{compositeFilter:{op:i5(n.op),filters:i}}}(t):Fe()}function r5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,i,s,o=Be.min(),l=Be.min(),c=Kn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.ut=e}}function o5(t){const e=Z3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.on=new l5}addToCollectionParentIndex(e,n){return this.on.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Hs.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class l5{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Un(It.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Un(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Rl(0)}static Nn(){return new Rl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.changes=new Kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Oc(i.mutation,s,Ai.empty(),ln.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ze()){const s=Vo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=wc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ze()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=Qr();const l=xc(),c=function(){return xc()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof eo)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Oc(p.mutation,f,p.mutation.getFieldMask(),ln.now())):l.set(f.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var v;return c.set(f,new c5(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=xc();let s=new Vt((l,c)=>l-c),o=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||Ai.empty();p=c.applyToLocalView(f,p),i.set(h,p);const v=(s.get(c.batchId)||Ze()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,v=oR();p.forEach(y=>{if(!o.has(y)){const w=pR(n.get(y),i.get(y));w!==null&&v.set(y,w),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return X.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):X.resolve(Vo());let c=-1,h=o;return l.next(f=>X.forEach(f,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ze())).next(p=>({batchId:c,changes:sR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(i=>{let s=wc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=wc();return this.indexManager.getCollectionParents(e,o).next(c=>X.forEach(c,h=>{const f=function(v,y){return new Zs(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Bn.newInvalidDocument(p)))});let c=wc();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&Oc(p.mutation,f,Ai.empty(),ln.now()),rm(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return X.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:o5(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.overlays=new Vt(Ce.comparator),this.lr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Vo();return X.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const s=Vo(),o=n.length+1,l=new Ce(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return X.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Vt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Vo(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Vo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return X.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new M3(n,i));let o=this.lr.get(n);o===void 0&&(o=Ze(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.hr=new Un(In.Pr),this.Ir=new Un(In.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new In(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new In(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Ce(new It([])),i=new In(n,e),s=new In(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ce(new It([])),i=new In(n,e),s=new In(n,e+1);let o=Ze();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new In(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class In{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ce.comparator(e.key,n.key)||ht(e.gr,n.gr)}static Tr(e,n){return ht(e.gr,n.gr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Un(In.Pr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new L3(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new In(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,n){return X.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new In(n,0),s=new In(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Un(ht);return n.forEach(s=>{const o=new In(s,0),l=new In(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),X.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ce.isDocumentKey(o)||(o=o.child(""));const l=new In(new Ce(o),0);let c=new Un(ht);return this.yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.gr)),!0)},l),X.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return X.forEach(n.mutations,s=>{const o=new In(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new In(n,0),s=this.yr.firstAfterOrEqual(i);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.Cr=e,this.docs=function(){return new Vt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let i=Qr();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Bn.newInvalidDocument(s))}),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Qr();const l=n.path,c=new Ce(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||t3(e3(p),i)<=0||(s.has(p.key)||rm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Fe()}vr(e,n){return X.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new g5(this)}getSize(e){return X.resolve(this.size)}}class g5 extends u5{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),X.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.persistence=e,this.Fr=new Kl(n=>h0(n),f0),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _0,this.targetCount=0,this.Nr=Rl.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),X.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.kn(n),X.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),X.waitFor(o).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.Br={},this.overlays={},this.Lr=new u0(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new v5(this),this.indexManager=new a5,this.remoteDocumentCache=function(s){return new m5(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new s5(n),this.Kr=new h5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new p5(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const s=new _5(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return X.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class _5 extends i3{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Gr=new _0,this.zr=null}static jr(e){return new w0(e)}get Hr(){if(this.zr)return this.zr;throw Fe()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Hr,i=>{const s=Ce.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Be.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return X.or([()=>X.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=Ze(),s=Ze();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new b0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new w5;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(ac()<=Xe.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),X.resolve()):(ac()<=Xe.DEBUG&&be("QueryEngine","Query:",Za(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(ac()<=Xe.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):X.resolve())}zi(e,n){if(kT(n))return X.resolve(null);let i=Er(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ip(n,null,"F"),i=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ze(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Yi(n,c);return this.Zi(n,f,l,h.readTime)?this.zi(e,ip(n,null,"F")):this.Xi(e,f,n,h)}))})))}ji(e,n,i,s){return kT(n)||s.isEqual(Be.min())?X.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?X.resolve(null):(ac()<=Xe.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Za(n)),this.Xi(e,l,n,ZF(s,-1)).next(c=>c))})}Yi(e,n){let i=new Un(iR(e));return n.forEach((s,o)=>{rm(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return ac()<=Xe.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Za(n)),this.Gi.getDocumentsMatchingQuery(e,n,Hs.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Vt(ht),this.ns=new Kl(o=>h0(o),f0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d5(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function I5(t,e,n,i){return new E5(t,e,n,i)}async function AR(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=Ze();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function T5(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const v=f.batch,y=v.keys();let w=X.resolve();return y.forEach(T=>{w=w.next(()=>p.getEntry(h,T)).next(_=>{const E=f.docVersions.get(T);Pt(E!==null),_.version.compareTo(E)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Ze();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function SR(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function A5(t,e){const n=We(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((p,v)=>{const y=s.get(v);if(!y)return;c.push(n.qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,p.addedDocuments,v)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Kn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),s=s.insert(v,w),function(_,E,A){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,w,p)&&c.push(n.qr.updateTargetData(o,w))});let h=Qr(),f=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(S5(o,l,e.documentUpdates).next(p=>{h=p.us,f=p.cs})),!i.isEqual(Be.min())){const p=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(p)}return X.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ts=s,o))}function S5(t,e,n){let i=Ze(),s=Ze();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Qr();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Be.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{us:l,cs:s}})}function C5(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function R5(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,X.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new Ds(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Dy(t,e,n){const i=We(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Od(l))throw l;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function jT(t,e,n){const i=We(t);let s=Be.min(),o=Ze();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=We(h),y=v.ns.get(p);return y!==void 0?X.resolve(v.ts.get(y)):v.qr.getTargetData(f,p)}(i,l,Er(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:Be.min(),n?o:Ze())).next(c=>(P5(i,w3(e),c),{documents:c,ls:o})))}function P5(t,e,n){let i=t.rs.get(e)||Be.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class BT{constructor(){this.activeTargetIds=S3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k5{constructor(){this.eo=new BT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new BT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function $v(){return hf===null?hf=function(){return 268435456+Math.round(2147483648*Math.random())}():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="WebChannelConnection";class D5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=$v(),h=this.So(n,i);be("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,h,f,s).then(p=>(be("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw bl("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",s),p})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=O5[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=$v();return new Promise((l,c)=>{const h=new BF;h.setWithCredentials(!0),h.listenOnce(UF.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Fv.NO_ERROR:const p=h.getResponseJson();be($n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Fv.TIMEOUT:be($n,`RPC '${e}' ${o} timed out`),c(new ce(H.DEADLINE_EXCEEDED,"Request time out"));break;case Fv.HTTP_ERROR:const v=h.getStatus();if(be($n,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const T=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(A)>=0?A:H.UNKNOWN}(w.status);c(new ce(T,w.message))}else c(new ce(H.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ce(H.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{be($n,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);be($n,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,i,15)})}vo(e,n,i){const s=$v(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=VF(),c=FF(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new jF({})),this.bo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");be($n,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);let y=!1,w=!1;const T=new N5({co:E=>{w?be($n,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(be($n,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),be($n,`RPC '${e}' stream ${s} sending:`,E),v.send(E))},lo:()=>v.close()}),_=(E,A,P)=>{E.listen(A,k=>{try{P(k)}catch(x){setTimeout(()=>{throw x},0)}})};return _(v,uf.EventType.OPEN,()=>{w||be($n,`RPC '${e}' stream ${s} transport opened.`)}),_(v,uf.EventType.CLOSE,()=>{w||(w=!0,be($n,`RPC '${e}' stream ${s} transport closed`),T.Ro())}),_(v,uf.EventType.ERROR,E=>{w||(w=!0,bl($n,`RPC '${e}' stream ${s} transport errored:`,E),T.Ro(new ce(H.UNAVAILABLE,"The operation could not be completed")))}),_(v,uf.EventType.MESSAGE,E=>{var A;if(!w){const P=E.data[0];Pt(!!P);const k=P,x=k.error||((A=k[0])===null||A===void 0?void 0:A.error);if(x){be($n,`RPC '${e}' stream ${s} received error:`,x);const B=x.status;let F=function(te){const ve=nn[te];if(ve!==void 0)return gR(ve)}(B),Z=x.message;F===void 0&&(F=H.INTERNAL,Z="Unknown error status: "+B+" with message "+x.message),w=!0,T.Ro(new ce(F,Z)),v.close()}else be($n,`RPC '${e}' stream ${s} received:`,P),T.Vo(P)}}),_(c,$F.STAT_EVENT,E=>{E.stat===wT.PROXY?be($n,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===wT.NOPROXY&&be($n,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.Ao()},0),T}}function jv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return new G3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,i,s,o,l,c,h){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new CR(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new ce(H.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L5 extends RR{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=K3(this.serializer,e),i=function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Ir(l.readTime):Be.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=Ny(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=Ry(h)?{documents:Q3(o,h)}:{query:X3(o,h)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=_R(o,l.resumeToken);const f=ky(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=op(o,l.snapshotVersion.toTimestamp());const f=ky(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=e5(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.e_(n)}}class M5 extends RR{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Y3(e.writeResults,e.commitTime),i=Ir(e.commitTime);return this.listener.I_(i,n)}return Pt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ny(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>J3(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(H.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(H.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class F5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yr(n),this.f_=!1):be("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{la(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=We(h);f.C_.add(4),await Ld(f),f.M_.set("Unknown"),f.C_.delete(4),await um(f)}(this))})}),this.M_=new F5(i,s)}}async function um(t){if(la(t))for(const e of t.v_)await e(!0)}async function Ld(t){for(const e of t.v_)await e(!1)}function PR(t,e){const n=We(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),T0(n)?I0(n):Jl(n).Ho()&&E0(n,e))}function kR(t,e){const n=We(t),i=Jl(n);n.D_.delete(e),i.Ho()&&xR(n,e),n.D_.size===0&&(i.Ho()?i.Zo():la(n)&&n.M_.set("Unknown"))}function E0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(t).u_(e)}function xR(t,e){t.x_.Oe(e),Jl(t).c_(e)}function I0(t){t.x_=new j3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Jl(t).start(),t.M_.g_()}function T0(t){return la(t)&&!Jl(t).jo()&&t.D_.size>0}function la(t){return We(t).C_.size===0}function OR(t){t.x_=void 0}async function $5(t){t.D_.forEach((e,n)=>{E0(t,e)})}async function j5(t,e){OR(t),T0(t)?(t.M_.w_(e),I0(t)):t.M_.set("Unknown")}async function B5(t,e,n){if(t.M_.set("Online"),e instanceof yR&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ap(t,i)}else if(e instanceof xf?t.x_.$e(e):e instanceof vR?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Be.min()))try{const i=await SR(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.D_.get(f);p&&o.D_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=o.D_.get(h);if(!p)return;o.D_.set(h,p.withResumeToken(Kn.EMPTY_BYTE_STRING,p.snapshotVersion)),xR(o,h);const v=new Ds(p.target,h,f,p.sequenceNumber);E0(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){be("RemoteStore","Failed to raise snapshot:",i),await ap(t,i)}}async function ap(t,e,n){if(!Od(e))throw e;t.C_.add(1),await Ld(t),t.M_.set("Offline"),n||(n=()=>SR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await um(t)})}function NR(t,e){return e().catch(n=>ap(t,n,e))}async function cm(t){const e=We(t),n=Ws(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;q5(e);)try{const s=await C5(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,H5(e,s)}catch(s){await ap(e,s)}DR(e)&&LR(e)}function q5(t){return la(t)&&t.b_.length<10}function H5(t,e){t.b_.push(e);const n=Ws(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function DR(t){return la(t)&&!Ws(t).jo()&&t.b_.length>0}function LR(t){Ws(t).start()}async function G5(t){Ws(t).E_()}async function W5(t){const e=Ws(t);for(const n of t.b_)e.P_(n.mutations)}async function z5(t,e,n){const i=t.b_.shift(),s=g0.from(i,e,n);await NR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cm(t)}async function K5(t,e){e&&Ws(t).h_&&await async function(i,s){if(function(l){return F3(l)&&l!==H.ABORTED}(s.code)){const o=i.b_.shift();Ws(i).Yo(),await NR(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await cm(i)}}(t,e),DR(t)&&LR(t)}async function HT(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const i=la(n);n.C_.add(3),await Ld(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await um(n)}async function J5(t,e){const n=We(t);e?(n.C_.delete(2),await um(n)):e||(n.C_.add(2),await Ld(n),n.M_.set("Unknown"))}function Jl(t){return t.O_||(t.O_=function(n,i,s){const o=We(n);return o.A_(),new L5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:$5.bind(null,t),Io:j5.bind(null,t),a_:B5.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),T0(t)?I0(t):t.M_.set("Unknown")):(await t.O_.stop(),OR(t))})),t.O_}function Ws(t){return t.N_||(t.N_=function(n,i,s){const o=We(n);return o.A_(),new M5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:G5.bind(null,t),Io:K5.bind(null,t),T_:W5.bind(null,t),I_:z5.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await cm(t)):(await t.N_.stop(),t.b_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new A0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Od(t))return new ce(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=wc(),this.sortedSet=new Vt(this.comparator)}static emptySet(e){return new dl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.B_=new Vt(Ce.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Fe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Pl{constructor(e,n,i,s,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Pl(e,n,dl.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.k_=void 0,this.listeners=[]}}class Q5{constructor(){this.queries=new Kl(e=>nR(e),im),this.onlineState="Unknown",this.q_=new Set}}async function C0(t,e){const n=We(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new Y5),s)try{o.k_=await n.onListen(i)}catch(l){const c=S0(l,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&P0(n)}async function R0(t,e){const n=We(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function X5(t,e){const n=We(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&P0(n)}function Z5(t,e,n){const i=We(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function P0(t){t.q_.forEach(e=>{e.next()})}class k0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Pl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.key=e}}class VR{constructor(e){this.key=e}}class eU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ze(),this.mutatedKeys=Ze(),this._a=iR(e),this.aa=new dl(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new GT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const y=s.get(p),w=rm(this.query,v)?v:null,T=!!y&&this.mutatedKeys.has(y.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let E=!1;y&&w?y.data.isEqual(w.data)?T!==_&&(i.track({type:3,doc:w}),E=!0):this.ha(y,w)||(i.track({type:2,doc:w}),E=!0,(h&&this._a(w,h)>0||f&&this._a(w,f)<0)&&(c=!0)):!y&&w?(i.track({type:0,doc:w}),E=!0):y&&!w&&(i.track({type:1,doc:y}),E=!0,(h||f)&&(c=!0)),E&&(w?(l=l.add(w),o=_?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,p)=>function(y,w){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return T(y)-T(w)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,h=c!==this.sa;return this.sa=c,o.length!==0||h?{snapshot:new Pl(this.query,e.aa,s,o,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new GT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ze(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new VR(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new MR(i))}),n}da(e){this.ia=e.ls,this.oa=Ze();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Pl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class tU{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class nU{constructor(e){this.key=e,this.Ra=!1}}class iU{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new Kl(c=>nR(c),im),this.fa=new Map,this.ga=new Set,this.pa=new Vt(Ce.comparator),this.ya=new Map,this.wa=new _0,this.Sa={},this.ba=new Map,this.Da=Rl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function rU(t,e){const n=pU(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await R5(n.localStore,Er(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await sU(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&PR(n.remoteStore,l)}return s}async function sU(t,e,n,i,s){t.va=(v,y,w)=>async function(_,E,A,P){let k=E.view.ca(A);k.Zi&&(k=await jT(_.localStore,E.query,!1).then(({documents:F})=>E.view.ca(F,k)));const x=P&&P.targetChanges.get(E.targetId),B=E.view.applyChanges(k,_.isPrimaryClient,x);return zT(_,E.targetId,B.Ta),B.snapshot}(t,v,y,w);const o=await jT(t.localStore,e,!0),l=new eU(e,o.ls),c=l.ca(o.documents),h=Dd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,h);zT(t,n,f.Ta);const p=new tU(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function oU(t,e){const n=We(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!im(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Dy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),kR(n.remoteStore,i.targetId),Ly(n,i.targetId)}).catch(xd)):(Ly(n,i.targetId),await Dy(n.localStore,i.targetId,!0))}async function aU(t,e,n){const i=mU(t);try{const s=await function(l,c){const h=We(l),f=ln.now(),p=c.reduce((w,T)=>w.add(T.key),Ze());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",w=>{let T=Qr(),_=Ze();return h.ss.getEntries(w,p).next(E=>{T=E,T.forEach((A,P)=>{P.isValidDocument()||(_=_.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(w,T)).next(E=>{v=E;const A=[];for(const P of c){const k=N3(P,v.get(P.key).overlayedDocument);k!=null&&A.push(new eo(P.key,k,J2(k.value.mapValue),Li.exists(!0)))}return h.mutationQueue.addMutationBatch(w,f,A,c)}).next(E=>{y=E;const A=E.applyToLocalDocumentSet(v,_);return h.documentOverlayCache.saveOverlays(w,E.batchId,A)})}).then(()=>({batchId:y.batchId,changes:sR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Sa[l.currentUser.toKey()];f||(f=new Vt(ht)),f=f.insert(c,h),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await Md(i,s.changes),await cm(i.remoteStore)}catch(s){const o=S0(s,"Failed to persist write");n.reject(o)}}async function FR(t,e){const n=We(t);try{const i=await A5(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(Pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?Pt(l.Ra):s.removedDocuments.size>0&&(Pt(l.Ra),l.Ra=!1))}),await Md(n,i,e)}catch(i){await xd(i)}}function WT(t,e,n){const i=We(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=We(l);h.onlineState=c;let f=!1;h.queries.forEach((p,v)=>{for(const y of v.listeners)y.Q_(c)&&(f=!0)}),f&&P0(h)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function lU(t,e,n){const i=We(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new Vt(Ce.comparator);l=l.insert(o,Bn.newNoDocument(o,Be.min()));const c=Ze().add(o),h=new am(Be.min(),new Map,new Vt(ht),l,c);await FR(i,h),i.pa=i.pa.remove(o),i.ya.delete(e),x0(i)}else await Dy(i.localStore,e,!1).then(()=>Ly(i,e,n)).catch(xd)}async function uU(t,e){const n=We(t),i=e.batch.batchId;try{const s=await T5(n.localStore,e);$R(n,i,null),UR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Md(n,s)}catch(s){await xd(s)}}async function cU(t,e,n){const i=We(t);try{const s=await function(l,c){const h=We(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(Pt(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);$R(i,e,n),UR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Md(i,s)}catch(s){await xd(s)}}function UR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function $R(t,e,n){const i=We(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||jR(t,i)})}function jR(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(kR(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),x0(t))}function zT(t,e,n){for(const i of n)i instanceof MR?(t.wa.addReference(i.key,e),dU(t,i)):i instanceof VR?(be("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||jR(t,i.key)):Fe()}function dU(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(be("SyncEngine","New document in limbo: "+n),t.ga.add(i),x0(t))}function x0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ce(It.fromString(e)),i=t.Da.next();t.ya.set(i,new nU(n)),t.pa=t.pa.insert(n,i),PR(t.remoteStore,new Ds(Er(nm(n.path)),i,"TargetPurposeLimboResolution",u0._e))}}async function Md(t,e,n){const i=We(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,h)=>{l.push(i.va(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const p=b0.Qi(h.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Va.a_(s),await async function(h,f){const p=We(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>X.forEach(f,y=>X.forEach(y.ki,w=>p.persistence.referenceDelegate.addReference(v,y.targetId,w)).next(()=>X.forEach(y.qi,w=>p.persistence.referenceDelegate.removeReference(v,y.targetId,w)))))}catch(v){if(!Od(v))throw v;be("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const w=p.ts.get(y),T=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(T);p.ts=p.ts.insert(y,_)}}}(i.localStore,o))}async function hU(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const i=await AR(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(h=>{h.reject(new ce(H.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Md(n,i._s)}}function fU(t,e){const n=We(t),i=n.ya.get(e);if(i&&i.Ra)return Ze().add(i.key);{let s=Ze();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function pU(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lU.bind(null,e),e.Va.a_=X5.bind(null,e.eventManager),e.Va.Fa=Z5.bind(null,e.eventManager),e}function mU(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cU.bind(null,e),e}class KT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return I5(this.persistence,new b5,e.initialUser,this.serializer)}createPersistence(e){return new y5(w0.jr,this.serializer)}createSharedClientState(e){return new k5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>WT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hU.bind(null,this.syncEngine),await J5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q5}()}createDatastore(e){const n=lm(e.databaseInfo.databaseId),i=function(o){return new D5(o)}(e.databaseInfo);return function(o,l,c,h){return new V5(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new U5(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>WT(this.syncEngine,n,0),function(){return qT.D()?new qT:new x5}())}createSyncEngine(e,n){return function(s,o,l,c,h,f,p){const v=new iU(s,o,l,c,h,f);return p&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=We(n);be("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Ld(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=W2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{be("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=S0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Bv(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await AR(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);be("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>HT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>HT(e.remoteStore,o)),t._onlineComponents=e}function yU(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yU(n))throw n;bl("Error using user provided cache. Falling back to memory cache: "+n),await Bv(t,new KT)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await Bv(t,new KT);return t._offlineComponents}async function BR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await JT(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await JT(t,new gU))),t._onlineComponents}function wU(t){return BR(t).then(e=>e.syncEngine)}async function lp(t){const e=await BR(t),n=e.eventManager;return n.onListen=rU.bind(null,e.syncEngine),n.onUnlisten=oU.bind(null,e.syncEngine),n}function bU(t,e,n={}){const i=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new O0({next:y=>{l.enqueueAndForget(()=>R0(o,v));const w=y.docs.has(c);!w&&y.fromCache?f.reject(new ce(H.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&h&&h.source==="server"?f.reject(new ce(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new k0(nm(c.path),p,{includeMetadataChanges:!0,J_:!0});return C0(o,v)}(await lp(t),t.asyncQueue,e,n,i)),i.promise}function EU(t,e,n={}){const i=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new O0({next:y=>{l.enqueueAndForget(()=>R0(o,v)),y.fromCache&&h.source==="server"?f.reject(new ce(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new k0(c,p,{includeMetadataChanges:!0,J_:!0});return C0(o,v)}(await lp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e,n){if(!n)throw new ce(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IU(t,e,n,i){if(e===!0&&i===!0)throw new ce(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function QT(t){if(!Ce.isDocumentKey(t))throw new ce(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XT(t){if(Ce.isDocumentKey(t))throw new ce(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dm(t);throw new ce(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function TU(t,e){if(e<=0)throw new ce(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new HF;switch(i.type){case"firstParty":return new KF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=YT.get(n);i&&(be("ComponentProvider","Removing Datastore"),YT.delete(n),i.terminate())}(this),Promise.resolve()}}function AU(t,e,n,i={}){var s;const o=(t=ri(t,Vd))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=jn.MOCK_USER;else{c=VS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ce(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new jn(f)}t._authCredentials=new GF(new G2(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nr(this.firestore,e,this._query)}}class zn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Fs extends nr{constructor(e,n,i){super(e,n,nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new Ce(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function zs(t,e,...n){if(t=xe(t),N0("collection","path",e),t instanceof Vd){const i=It.fromString(e,...n);return XT(i),new Fs(t,null,i)}{if(!(t instanceof zn||t instanceof Fs))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return XT(i),new Fs(t.firestore,null,i)}}function hm(t,e){if(t=ri(t,Vd),N0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(H.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new nr(t,null,function(i){return new Zs(It.emptyPath(),i)}(e))}function HR(t,e,...n){if(t=xe(t),arguments.length===1&&(e=W2.newId()),N0("doc","path",e),t instanceof Vd){const i=It.fromString(e,...n);return QT(i),new zn(t,null,new Ce(i))}{if(!(t instanceof zn||t instanceof Fs))throw new ce(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return QT(i),new zn(t.firestore,t instanceof Fs?t.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new CR(this,"async_queue_retry"),this.iu=()=>{const n=jv();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=jv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=jv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Gr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Od(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=A0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&Fe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function eA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Xr extends Vd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new SU}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GR(this),this._firestoreClient.terminate()}}function CU(t,e){const n=typeof t=="object"?t:gd(),i=typeof t=="string"?t:e||"(default)",s=ra(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=v_("firestore");o&&AU(s,...o)}return s}function fm(t){return t._firestoreClient||GR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GR(t){var e,n,i;const s=t._freezeSettings(),o=function(c,h,f,p){return new o3(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qR(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new vU(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kl(Kn.fromBase64String(e))}catch(n){throw new ce(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kl(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=/^__.*__$/;class PU{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nd(e,this.data,n,this.fieldTransforms)}}class WR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class mm{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return up(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(zR(this.Iu)&&RU.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class kU{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||lm(e)}pu(e,n,i,s=!1){return new mm({Iu:e,methodName:n,gu:i,path:Nn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(t){const e=t._freezeSettings(),n=lm(t._databaseId);return new kU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KR(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);L0("Data must be an object, but it was:",l,i);const c=QR(i,l);let h,f;if(o.merge)h=new Ai(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const y=My(e,v,n);if(!l.contains(y))throw new ce(H.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ZR(p,y)||p.push(y)}h=new Ai(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new PU(new di(c),h,f)}class gm extends Fd{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}function JR(t,e,n){return new mm({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xU extends Fd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=JR(this,e,!0),i=this.yu.map(o=>ua(o,n)),s=new Sl(i);return new fR(e.path,s)}isEqual(e){return this===e}}class OU extends Fd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=JR(this,e,!0),i=this.yu.map(o=>ua(o,n)),s=new Cl(i);return new fR(e.path,s)}isEqual(e){return this===e}}function NU(t,e,n,i){const s=t.pu(1,e,n);L0("Data must be an object, but it was:",s,i);const o=[],l=di.empty();aa(i,(h,f)=>{const p=M0(e,h,n);f=xe(f);const v=s.Ru(p);if(f instanceof gm)o.push(p);else{const y=ua(f,v);y!=null&&(o.push(p),l.set(p,y))}});const c=new Ai(o);return new WR(l,c,s.fieldTransforms)}function DU(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[My(e,i,n)],h=[s];if(o.length%2!=0)throw new ce(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(My(e,o[y])),h.push(o[y+1]);const f=[],p=di.empty();for(let y=c.length-1;y>=0;--y)if(!ZR(f,c[y])){const w=c[y];let T=h[y];T=xe(T);const _=l.Ru(w);if(T instanceof gm)f.push(w);else{const E=ua(T,_);E!=null&&(f.push(w),p.set(w,E))}}const v=new Ai(f);return new WR(p,v,l.fieldTransforms)}function YR(t,e,n,i=!1){return ua(n,t.pu(i?4:3,e))}function ua(t,e){if(XR(t=xe(t)))return L0("Unsupported field value:",e,t),QR(t,e);if(t instanceof Fd)return function(i,s){if(!zR(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=ua(c,s.Vu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return C3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ln.fromDate(i);return{timestampValue:op(s.serializer,o)}}if(i instanceof ln){const o=new ln(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:op(s.serializer,o)}}if(i instanceof D0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof kl)return{bytesValue:_R(s.serializer,i._byteString)};if(i instanceof zn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y0(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${dm(i)}`)}(t,e)}function QR(t,e){const n={};return z2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(t,(i,s)=>{const o=ua(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function XR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof D0||t instanceof kl||t instanceof zn||t instanceof Fd)}function L0(t,e,n){if(!XR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=dm(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function My(t,e,n){if((e=xe(e))instanceof pm)return e._internalPath;if(typeof e=="string")return M0(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,n)}const LU=new RegExp("[~\\*/\\[\\]]");function M0(t,e,n){if(e.search(LU)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pm(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function up(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new ce(H.INVALID_ARGUMENT,c+t+h)}function ZR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MU extends V0{data(){return super.data()}}function vm(t,e){return typeof e=="string"?M0(t,e):e instanceof pm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F0{}class ym extends F0{}function Cr(t,e,...n){let i=[];e instanceof F0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(h=>h instanceof U0).length,c=o.filter(h=>h instanceof _m).length;if(l>1||l>0&&c>0)throw new ce(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class _m extends ym{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new _m(e,n,i)}_apply(e){const n=this._parse(e);return tP(e._query,n),new nr(e.firestore,e.converter,Py(e._query,n))}_parse(e){const n=Ud(e.firestore);return function(o,l,c,h,f,p,v){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ce(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){nA(v,p);const w=[];for(const T of v)w.push(tA(h,o,T));y={arrayValue:{values:w}}}else y=tA(h,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||nA(v,p),y=YR(c,l,v,p==="in"||p==="not-in");return an.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jr(t,e,n){const i=e,s=vm("where",t);return _m._create(s,i,n)}class U0 extends F0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const h of c)tP(l,h),l=Py(l,h)}(e._query,n),new nr(e.firestore,e.converter,Py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $0 extends ym{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ce(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ce(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new od(o,l)}(e._query,this._field,this._direction);return new nr(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Zs(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ks(t,e="asc"){const n=e,i=vm("orderBy",t);return $0._create(i,n)}class j0 extends ym{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new j0(e,n,i)}_apply(e){return new nr(e.firestore,e.converter,ip(e._query,this._limit,this._limitType))}}function xl(t){return TU("limit",t),j0._create("limit",t,"F")}class B0 extends ym{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new B0(e,n,i)}_apply(e){const n=VU(e,this.type,this._docOrFields,this._inclusive);return new nr(e.firestore,e.converter,function(s,o){return new Zs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function q0(...t){return B0._create("startAfter",t,!1)}function VU(t,e,n,i){if(n[0]=xe(n[0]),n[0]instanceof V0)return function(o,l,c,h,f){if(!h)throw new ce(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const v of cl(o))if(v.field.isKeyField())p.push(np(l,h.key));else{const y=h.data.field(v.field);if(tm(y))throw new ce(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const w=v.field.canonicalString();throw new ce(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(y)}return new Al(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=Ud(t.firestore);return function(l,c,h,f,p,v){const y=l.explicitOrderBy;if(p.length>y.length)throw new ce(H.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let T=0;T<p.length;T++){const _=p[T];if(y[T].field.isKeyField()){if(typeof _!="string")throw new ce(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof _}`);if(!p0(l)&&_.indexOf("/")!==-1)throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${_}' contains a slash.`);const E=l.path.child(It.fromString(_));if(!Ce.isDocumentKey(E))throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const A=new Ce(E);w.push(np(c,A))}else{const E=YR(h,f,_);w.push(E)}}return new Al(w,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function tA(t,e,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new ce(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(e)&&n.indexOf("/")!==-1)throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(It.fromString(n));if(!Ce.isDocumentKey(i))throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return np(t,new Ce(i))}if(n instanceof zn)return np(t,n._key);throw new ce(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(n)}.`)}function nA(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tP(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FU{convertValue(e,n="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return aa(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new D0(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=c0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(id(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=It.fromString(e);Pt(TR(i));const s=new rd(i.get(1),i.get(3)),o=new Ce(i.popFirst(5));return s.isEqual(n)||Yr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iP extends V0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(vm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Of extends iP{data(e={}){return super.data(e)}}class rP{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ec(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Of(this._firestore,this._userDataWriter,i.key,i,new Ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Of(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ec(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Of(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ec(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:UU(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){t=ri(t,zn);const e=ri(t.firestore,Xr);return bU(fm(e),t._key).then(n=>oP(e,t,n))}class H0 extends FU{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Zr(t){t=ri(t,nr);const e=ri(t.firestore,Xr),n=fm(e),i=new H0(e);return eP(t._query),EU(n,t._query).then(s=>new rP(e,i,t,s))}function BK(t,e,n){t=ri(t,zn);const i=ri(t.firestore,Xr),s=nP(t.converter,e,n);return wm(i,[KR(Ud(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Li.none())])}function qK(t,e,n,...i){t=ri(t,zn);const s=ri(t.firestore,Xr),o=Ud(s);let l;return l=typeof(e=xe(e))=="string"||e instanceof pm?DU(o,"updateDoc",t._key,e,n,i):NU(o,"updateDoc",t._key,e),wm(s,[l.toMutation(t._key,Li.exists(!0))])}function HK(t){return wm(ri(t.firestore,Xr),[new m0(t._key,Li.none())])}function jU(t,e){const n=ri(t.firestore,Xr),i=HR(t),s=nP(t.converter,e);return wm(n,[KR(Ud(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Li.exists(!1))]).then(()=>i)}function sP(t,...e){var n,i,s;t=xe(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||eA(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(eA(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,f,p;if(t instanceof zn)f=ri(t.firestore,Xr),p=nm(t._key.path),h={next:v=>{e[l]&&e[l](oP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=ri(t,nr);f=ri(v.firestore,Xr),p=v._query;const y=new H0(f);h={next:w=>{e[l]&&e[l](new rP(f,y,v,w))},error:e[l+1],complete:e[l+2]},eP(t._query)}return function(y,w,T,_){const E=new O0(_),A=new k0(w,E,T);return y.asyncQueue.enqueueAndForget(async()=>C0(await lp(y),A)),()=>{E.Na(),y.asyncQueue.enqueueAndForget(async()=>R0(await lp(y),A))}}(fm(f),p,c,h)}function wm(t,e){return function(i,s){const o=new Gr;return i.asyncQueue.enqueueAndForget(async()=>aU(await wU(i),s,o)),o.promise}(fm(t),e)}function oP(t,e,n){const i=n.docs.get(e._key),s=new H0(t);return new iP(t,s,e._key,i,new Ec(n.hasPendingWrites,n.fromCache),e.converter)}function GK(...t){return new xU("arrayUnion",t)}function WK(...t){return new OU("arrayRemove",t)}(function(e,n=!0){(function(s){zl=s})(ts),Tr(new Qi("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Xr(new WF(i.getProvider("auth-internal")),new YF(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ce(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ii(bT,"4.3.2",e),ii(bT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="type.googleapis.com/google.protobuf.Int64Value",qU="type.googleapis.com/google.protobuf.UInt64Value";function aP(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Vy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Vy(e));if(typeof t=="function"||typeof t=="object")return aP(t,e=>Vy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function cp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case BU:case qU:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>cp(e)):typeof t=="function"||typeof t=="object"?aP(t,e=>cp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class hl extends Mn{constructor(e,n,i){super(`${G0}/${e}`,n||""),this.details=i}}function HU(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function GU(t,e){let n=HU(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!iA[l])return new hl("internal","internal");n=iA[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=cp(s))}}catch{}return n==="ok"?null:new hl(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="us-central1";function zU(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new hl("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class KU{constructor(e,n,i,s,o=Fy,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new WU(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Fy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function JU(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function YU(t,e,n){return i=>XU(t,e,i,n||{})}async function QU(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function XU(t,e,n,i){const s=t._url(e);return ZU(t,s,n,i)}async function ZU(t,e,n,i){n=Vy(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,h=zU(c),f=await Promise.race([QU(e,s,o,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new hl("cancelled","Firebase Functions instance was deleted.");const p=GU(f.status,f.json);if(p)throw p;if(!f.json)throw new hl("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new hl("internal","Response is missing data field.");return{data:cp(v)}}const rA="@firebase/functions",sA="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="auth-internal",t9="app-check-internal",n9="messaging-internal";function i9(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(e9),c=i.getProvider(n9),h=i.getProvider(t9);return new KU(o,l,c,h,s,t)};Tr(new Qi(G0,n,"PUBLIC").setMultipleInstances(!0)),ii(rA,sA,e),ii(rA,sA,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t=gd(),e=Fy){const i=ra(xe(t),G0).getImmediate({identifier:e}),s=v_("functions");return s&&r9(i,...s),i}function r9(t,e,n){JU(xe(t),e,n)}function xt(t,e,n){return YU(xe(t),e,n)}i9(fetch.bind(self));const s9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="firebasestorage.googleapis.com",uP="storageBucket",o9=2*60*1e3,a9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends Mn{constructor(e,n,i=0){super(qv(e),`Firebase Storage: ${n} (${qv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dn||(dn={}));function qv(t){return"storage/"+t}function W0(){const t="An unknown error occurred, please check the error payload for server response.";return new fn(dn.UNKNOWN,t)}function l9(t){return new fn(dn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(dn.UNAUTHENTICATED,t)}function c9(){return new fn(dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d9(t){return new fn(dn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function h9(){return new fn(dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f9(){return new fn(dn.CANCELED,"User canceled the upload/download.")}function p9(t){return new fn(dn.INVALID_URL,"Invalid URL '"+t+"'.")}function m9(t){return new fn(dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g9(){return new fn(dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uP+"' property when initializing the app?")}function v9(){return new fn(dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function y9(t){return new fn(dn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uy(t){return new fn(dn.INVALID_ARGUMENT,t)}function cP(){return new fn(dn.APP_DELETED,"The Firebase app was deleted.")}function _9(t){return new fn(dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nc(t,e){return new fn(dn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lc(t){throw new fn(dn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Si.makeFromUrl(e,n)}catch{return new Si(e,"")}if(i.path==="")return i;throw m9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${v}/${p}/b/${s}/o${y}`,"i"),T={bucket:1,path:3},_=n===lP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",A=new RegExp(`^https?://${_}/${s}/${E}`,"i"),k=[{regex:c,indices:h,postModify:o},{regex:w,indices:T,postModify:f},{regex:A,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<k.length;x++){const B=k[x],F=B.regex.exec(e);if(F){const Z=F[B.indices.bucket];let U=F[B.indices.path];U||(U=""),i=new Si(Z,U),B.postModify(i);break}}if(i==null)throw p9(e);return i}}class w9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function v(E){s=setTimeout(()=>{s=null,t(w,h())},E)}function y(){o&&clearTimeout(o)}function w(E,...A){if(f){y();return}if(E){y(),p.call(null,E,...A);return}if(h()||l){y(),p.call(null,E,...A);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,v(k)}let T=!1;function _(E){T||(T=!0,y(),!f&&(s!==null?(E||(c=2),clearTimeout(s),v(0)):E||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,_(!0)},n),_}function E9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){return t!==void 0}function T9(t){return typeof t=="object"&&!Array.isArray(t)}function dP(t){return typeof t=="string"||t instanceof String}function oA(t){return z0()&&t instanceof Blob}function z0(){return typeof Blob<"u"&&!y_()}function aA(t,e,n,i){if(i<e)throw Uy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Uy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function S9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e,n,i,s,o,l,c,h,f,p,v,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,T)=>{this.resolve_=w,this.reject_=T,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new ff(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Go.NO_ERROR,h=o.getStatus();if(!c||C9(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Go.ABORT;i(!1,new ff(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new ff(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());I9(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=W0();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?cP():f9();l(h)}else{const h=h9();l(h)}};this.canceled_?n(!1,new ff(!1,null,!0)):this.backoffId_=b9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function P9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function O9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N9(t,e,n,i,s,o,l=!0){const c=S9(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return x9(f,e),P9(f,n),k9(f,o),O9(f,i),new R9(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L9(...t){const e=D9();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(z0())return new Blob(t);throw new fn(dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function M9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){if(typeof atob>"u")throw y9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hv{constructor(e,n){this.data=e,this.contentType=n||null}}function F9(t,e){switch(t){case br.RAW:return new Hv(hP(e));case br.BASE64:case br.BASE64URL:return new Hv(fP(t,e));case br.DATA_URL:return new Hv($9(e),j9(e))}throw W0()}function hP(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function U9(t){let e;try{e=decodeURIComponent(t)}catch{throw Nc(br.DATA_URL,"Malformed data URL.")}return hP(e)}function fP(t,e){switch(t){case br.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Nc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Nc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=V9(e)}catch(s){throw s.message.includes("polyfill")?s:Nc(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class pP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nc(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=B9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function $9(t){const e=new pP(t);return e.base64?fP(br.BASE64,e.rest):U9(e.rest)}function j9(t){return new pP(t).contentType}function B9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){let i=0,s="";oA(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(oA(this.data_)){const i=this.data_,s=M9(i,e,n);return s===null?null:new Os(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Os(i,!0)}}static getBlob(...e){if(z0()){const n=e.map(i=>i instanceof Os?i.data_:i);return new Os(L9.apply(null,n))}else{const n=e.map(l=>dP(l)?F9(br.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const s=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[o++]=l[c]}),new Os(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){let e;try{e=JSON.parse(t)}catch{return null}return T9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G9(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function mP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t,e){return e}class Zn{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||W9}}let pf=null;function z9(t){return!dP(t)||t.length<2?t:mP(t)}function K9(){if(pf)return pf;const t=[];t.push(new Zn("bucket")),t.push(new Zn("generation")),t.push(new Zn("metageneration")),t.push(new Zn("name","fullPath",!0));function e(o,l){return z9(l)}const n=new Zn("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const s=new Zn("size");return s.xform=i,t.push(s),t.push(new Zn("timeCreated")),t.push(new Zn("updated")),t.push(new Zn("md5Hash",null,!0)),t.push(new Zn("cacheControl",null,!0)),t.push(new Zn("contentDisposition",null,!0)),t.push(new Zn("contentEncoding",null,!0)),t.push(new Zn("contentLanguage",null,!0)),t.push(new Zn("contentType",null,!0)),t.push(new Zn("metadata","customMetadata",!0)),pf=t,pf}function J9(t,e){function n(){const i=t.bucket,s=t.fullPath,o=new Si(i,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Y9(t,e,n){const i={};i.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return J9(i,t),i}function Q9(t,e,n){const i=q9(e);return i===null?null:Y9(t,i,n)}function X9(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Z9{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){if(!t)throw W0()}function t6(t,e){function n(i,s){const o=Q9(t,s,e);return e6(o!==null),o}return n}function n6(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=c9():s=u9():n.getStatus()===402?s=l9(t.bucket):n.getStatus()===403?s=d9(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function i6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function r6(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=i6(null,e)),i}function s6(t,e,n,i,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let x=0;x<2;x++)k=k+Math.random().toString().slice(2);return k}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const f=r6(e,i,s),p=X9(f,n),v="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+h+"--",w=Os.getBlob(v,i,y);if(w===null)throw v9();const T={name:f.fullPath},_=A9(o,t.host,t._protocol),E="POST",A=t.maxUploadRetryTime,P=new Z9(_,E,t6(t,n),A);return P.urlParams=T,P.headers=l,P.body=w.uploadData(),P.errorHandler=n6(e),P}class o6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw lc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class a6 extends o6{initXhr(){this.xhr_.responseType="text"}}function l6(){return new a6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this._service=e,n instanceof Si?this._location=n:this._location=Si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ea(e,n)}get root(){const e=new Si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mP(this._location.path)}get storage(){return this._service}get parent(){const e=H9(this._location.path);if(e===null)return null;const n=new Si(this._location.bucket,e);return new ea(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _9(e)}}function u6(t,e,n){t._throwIfRoot("uploadBytes");const i=s6(t.storage,t._location,K9(),new Os(e,!0),n);return t.storage.makeRequestWithTokens(i,l6).then(s=>({metadata:s,ref:t}))}function c6(t,e){const n=G9(t._location.path,e),i=new Si(t._location.bucket,n);return new ea(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){return/^[A-Za-z]+:\/\//.test(t)}function h6(t,e){return new ea(t,e)}function gP(t,e){if(t instanceof K0){const n=t;if(n._bucket==null)throw g9();const i=new ea(n,n._bucket);return e!=null?gP(i,e):i}else return e!==void 0?c6(t,e):t}function f6(t,e){if(e&&d6(e)){if(t instanceof K0)return h6(t,e);throw Uy("To use ref(service, url), the first argument must be a Storage instance.")}else return gP(t,e)}function lA(t,e){const n=e==null?void 0:e[uP];return n==null?null:Si.makeFromBucketSpec(n,t)}function p6(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:VS(s,t.app.options.projectId))}class K0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=lP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o9,this._maxUploadRetryTime=a9,this._requests=new Set,s!=null?this._bucket=Si.makeFromBucketSpec(s,this._host):this._bucket=lA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Si.makeFromBucketSpec(this._url,e):this._bucket=lA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ea(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new w9(cP());{const l=N9(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const uA="@firebase/storage",cA="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="storage";function m6(t,e,n){return t=xe(t),u6(t,e,n)}function yP(t,e){return t=xe(t),f6(t,e)}function _P(t=gd(),e){t=xe(t);const i=ra(t,vP).getImmediate({identifier:e}),s=v_("storage");return s&&g6(i,...s),i}function g6(t,e,n,i={}){p6(t,e,n,i)}function v6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new K0(n,i,s,e,ts)}function y6(){Tr(new Qi(vP,v6,"PUBLIC").setMultipleInstances(!0)),ii(uA,cA,""),ii(uA,cA,"esm2017")}y6();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this._delegate=e,this.firebase=n,Bf(e,new Qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),GS(this._delegate)))}_getService(e,n=js){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=js){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Bf(this._delegate,e)}_addOrOverwriteComponent(e){HS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},dA=new ia("app-compat","Firebase",w6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:ii,setLogLevel:zS,onLog:WS,apps:null,SDK_VERSION:ts,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:mL}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||js,!LI(e,f))throw dA.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,p={}){const v=Sp(f,p);if(LI(e,v.name))return e[v.name];const y=new t(v,n);return e[v.name]=y,y}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,v=p.replace("-compat","");if(Tr(f)&&f.type==="PUBLIC"){const y=(w=s())=>{if(typeof w[v]!="function")throw dA.create("invalid-app-argument",{appName:p});return w[v]()};f.serviceProps!==void 0&&Uf(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...w){return this._getService.bind(this,p).apply(this,f.multipleInstances?w:[])}}return f.type==="PUBLIC"?n[v]:null}function h(f,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){const t=b6(_6);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:wP,extendNamespace:e,createSubscribe:$S,ErrorFactory:ia,deepExtend:Uf});function e(n){Uf(t,n)}return t}const E6=wP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Ap("@firebase/app-compat"),I6="@firebase/app-compat",T6="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){ii(I6,T6,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(ZN()&&self.firebase!==void 0){hA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&hA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Se=E6;A6();var S6="firebase",C6="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.registerVersion(S6,C6,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=2e3;async function P6(t,e,n){var i;const{BuildInfo:s}=ta();Xi(e.sessionId,"AuthEvent did not contain a session ID");const o=await D6(e.sessionId),l={};return Bl()?l.ibi=s.packageName:yd()?l.apn=s.packageName:Sn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,hy(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function k6(t){const{BuildInfo:e}=ta(),n={};Bl()?n.iosBundleId=e.packageName:yd()?n.androidPackageName=e.packageName:Sn(t,"operation-not-supported-in-this-environment"),await UC(t,n)}function x6(t){const{cordova:e}=ta();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,$L()?"_blank":"_system","location=yes"),n(s)})})}async function O6(t,e,n){const{cordova:i}=ta();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function h(){var v;o();const y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(Vn(t,"redirect-cancelled-by-user"))},R6))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(h),document.addEventListener("resume",f,!1),yd()&&document.addEventListener("visibilitychange",p,!1),s=()=>{e.removePassiveListener(h),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{s()}}function N6(t){var e,n,i,s,o,l,c,h,f,p;const v=ta();ne(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((h=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||h===void 0?void 0:h.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((p=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function D6(t){const e=L6(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function L6(t){if(Xi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=20;class V6 extends VC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function F6(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:j6(),postBody:null,tenantId:t.tenantId,error:Vn(t,"no-auth-event")}}function U6(t,e){return $y()._set(jy(t),e)}async function fA(t){const e=await $y()._get(jy(t));return e&&await $y()._remove(jy(t)),e}function $6(t,e){var n,i;const s=q6(e);if(s.includes("/__/auth/callback")){const o=Nf(s),l=o.firebaseError?B6(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],h=c?Vn(c):null;return h?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:h,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function j6(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<M6;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function $y(){return Ti(Dp)}function jy(t){return Bo("authEvent",t.config.apiKey,t.name)}function B6(t){try{return JSON.parse(t)}catch{return null}}function q6(t){const e=Nf(t),n=e.link?decodeURIComponent(e.link):void 0,i=Nf(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Nf(s).link||s||i||n||t}function Nf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return il(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=500;class G6{constructor(){this._redirectPersistence=qs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fp,this._overrideRedirectResult=F_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new V6(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Sn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){N6(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),W4(),await this._originValidation(e);const l=F6(e,i,s);await U6(e,l);const c=await P6(e,l,n),h=await x6(c);return O6(e,o,h)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k6(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=ta(),l=setTimeout(async()=>{await fA(e),n.onEvent(pA())},H6),c=async p=>{clearTimeout(l);const v=await fA(e);let y=null;v&&(p!=null&&p.url)&&(y=$6(v,p.url)),n.onEvent(y||pA())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const h=s,f=`${o.packageName.toLowerCase()}://`;ta().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof h=="function")try{h(p)}catch(v){console.error(v)}}}}const W6=G6;function pA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t,e){Bt(t)._logFramework(e)}var K6="@firebase/auth-compat",J6="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=1e3;function Dc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Q6(){return Dc()==="http:"||Dc()==="https:"}function bP(t=cn()){return!!((Dc()==="file:"||Dc()==="ionic:"||Dc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function X6(){return __()||y_()}function Z6(){return US()&&(document==null?void 0:document.documentMode)===11}function e$(t=cn()){return/Edge\/\d+/.test(t)}function t$(t=cn()){return Z6()||e$(t)}function EP(){try{const t=self.localStorage,e=wd();if(t)return t.setItem(e,"1"),t.removeItem(e),t$()?$f():!0}catch{return J0()&&$f()}return!1}function J0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gv(){return(Q6()||FS()||bP())&&!X6()&&EP()&&!J0()}function IP(){return bP()&&typeof document<"u"}async function n$(){return IP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Y6);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function i$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={LOCAL:"local",NONE:"none",SESSION:"session"},uc=ne,TP="persistence";function r$(t,e){if(uc(Object.values(Ii).includes(e),t,"invalid-persistence-type"),__()){uc(e!==Ii.SESSION,t,"unsupported-persistence-type");return}if(y_()){uc(e===Ii.NONE,t,"unsupported-persistence-type");return}if(J0()){uc(e===Ii.NONE||e===Ii.LOCAL&&$f(),t,"unsupported-persistence-type");return}uc(e===Ii.NONE||EP(),t,"unsupported-persistence-type")}async function By(t){await t._initializationPromise;const e=AP(),n=Bo(TP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function s$(t,e){const n=AP();if(!n)return[];const i=Bo(TP,t,e);switch(n.getItem(i)){case Ii.NONE:return[vl];case Ii.LOCAL:return[_l,qs];case Ii.SESSION:return[qs];default:return[]}}function AP(){var t;try{return((t=i$())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=ne;class Ls{constructor(){this.browserResolver=Ti($C),this.cordovaResolver=Ti(W6),this.underlyingResolver=null,this._redirectPersistence=qs,this._completeRedirectFn=Fp,this._overrideRedirectResult=F_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return IP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return o$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await n$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){return t.unwrap()}function a$(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){return CP(t)}function u$(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new c$(t,XM(t,e))}else if(i){const s=CP(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function CP(t){const{_tokenResponse:e}=t instanceof Mn?t.customData:t;if(!e)return null;if(!(t instanceof Mn)&&"temporaryProof"in e&&"phoneNumber"in e)return Yo.credentialFromResult(t);const n=e.providerId;if(!n||n===rc.PASSWORD)return null;let i;switch(n){case rc.GOOGLE:i=fr;break;case rc.FACEBOOK:i=hr;break;case rc.GITHUB:i=pr;break;case rc.TWITTER:i=mr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:h}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?yl._create(n,c):Ar._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new ol(n).credential({idToken:s,accessToken:o,rawNonce:h})}return t instanceof Mn?i.credentialFromError(t):i.credentialFromResult(t)}function ci(t,e){return e.catch(n=>{throw n instanceof Mn&&u$(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:l$(n),additionalUserInfo:KM(n),user:Br.getOrCreate(s)}})}async function qy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>ci(t,n.confirm(i))}}class c${constructor(e,n){this.resolver=n,this.auth=a$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ci(SP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._delegate=e,this.multiFactor=n4(e)}static getOrCreate(e){return Br.USER_MAP.has(e)||Br.USER_MAP.set(e,new Br(e)),Br.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ci(this.auth,bC(this._delegate,e))}async linkWithPhoneNumber(e,n){return qy(this.auth,N4(this._delegate,e,n))}async linkWithPopup(e){return ci(this.auth,B4(this._delegate,e,Ls))}async linkWithRedirect(e){return await By(Bt(this.auth)),Q4(this._delegate,e,Ls)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ci(this.auth,EC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return qy(this.auth,D4(this._delegate,e,n))}reauthenticateWithPopup(e){return ci(this.auth,j4(this._delegate,e,Ls))}async reauthenticateWithRedirect(e){return await By(Bt(this.auth)),J4(this._delegate,e,Ls)}sendEmailVerification(e){return VM(this._delegate,e)}async unlink(e){return await IM(this._delegate,e),this}updateEmail(e){return jM(this._delegate,e)}updatePassword(e){return BM(this._delegate,e)}updatePhoneNumber(e){return L4(this._delegate,e)}updateProfile(e){return $M(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return FM(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Br.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=ne;class Hy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;cc(i,"invalid-api-key",{appName:e.name}),cc(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Ls:void 0;this._delegate=n.initialize({options:{persistence:d$(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(vL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Br.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){hC(this._delegate,e,n)}applyActionCode(e){return RM(this._delegate,e)}checkActionCode(e){return IC(this._delegate,e)}confirmPasswordReset(e,n){return CM(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ci(this._delegate,kM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return MM(this._delegate,e)}isSignInWithEmailLink(e){return NM(this._delegate,e)}async getRedirectResult(){cc(Gv(),this._delegate,"operation-not-supported-in-this-environment");const e=await Z4(this._delegate,Ls);return e?ci(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){z6(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=mA(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=mA(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return OM(this._delegate,e,n)}sendPasswordResetEmail(e,n){return SM(this._delegate,e,n||void 0)}async setPersistence(e){r$(this._delegate,e);let n;switch(e){case Ii.SESSION:n=qs;break;case Ii.LOCAL:n=await Ti(_l)._isAvailable()?_l:Dp;break;case Ii.NONE:n=vl;break;default:return Sn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ci(this._delegate,EM(this._delegate))}signInWithCredential(e){return ci(this._delegate,Op(this._delegate,e))}signInWithCustomToken(e){return ci(this._delegate,AM(this._delegate,e))}signInWithEmailAndPassword(e,n){return ci(this._delegate,xM(this._delegate,e,n))}signInWithEmailLink(e,n){return ci(this._delegate,DM(this._delegate,e,n))}signInWithPhoneNumber(e,n){return qy(this._delegate,O4(this._delegate,e,n))}async signInWithPopup(e){return cc(Gv(),this._delegate,"operation-not-supported-in-this-environment"),ci(this._delegate,$4(this._delegate,e,Ls))}async signInWithRedirect(e){return cc(Gv(),this._delegate,"operation-not-supported-in-this-environment"),await By(this._delegate),z4(this._delegate,e,Ls)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return PM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Hy.Persistence=Ii;function mA(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Br.getOrCreate(l)),error:e,complete:n}}function d$(t,e){const n=s$(t,e);if(typeof self<"u"&&!n.includes(_l)&&n.push(_l),typeof window<"u")for(const i of[Dp,qs])n.includes(i)||n.push(i);return n.includes(vl)||n.push(vl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.providerId="phone",this._delegate=new Yo(SP(Se.auth()))}static credential(e,n){return Yo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Y0.PHONE_SIGN_IN_METHOD=Yo.PHONE_SIGN_IN_METHOD;Y0.PROVIDER_ID=Yo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=ne;class f${constructor(e,n,i=Se.app()){var s;h$((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new k4(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="auth-compat";function m$(t){t.INTERNAL.registerComponent(new Qi(p$,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Hy(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ja.EMAIL_SIGNIN,PASSWORD_RESET:Ja.PASSWORD_RESET,RECOVER_EMAIL:Ja.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ja.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ja.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ja.VERIFY_EMAIL}},EmailAuthProvider:Ys,FacebookAuthProvider:hr,GithubAuthProvider:pr,GoogleAuthProvider:fr,OAuthProvider:ol,SAMLAuthProvider:Hf,PhoneAuthProvider:Y0,PhoneMultiFactorGenerator:jC,RecaptchaVerifier:f$,TwitterAuthProvider:mr,Auth:Hy,AuthCredential:ql,Error:Mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(K6,J6)}m$(Se);function g$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RP={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(E,A){A=A||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(E,!!A.bubbles,!!A.cancelable,A.detail||null),P},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var E=window.getComputedStyle(_),A=function(P,k){return!(E[P]===void 0||E[P]===k)};if(E.opacity<1||A("zIndex","auto")||A("transform","none")||A("mixBlendMode","normal")||A("filter","none")||A("perspective","none")||E.isolation==="isolate"||E.position==="fixed"||E.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function o(_,E){for(var A=0;A<_.length;++A)if(_[A]===E)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var E=new MutationObserver(this.maybeHideModal.bind(this));E.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var A=!1,P=(function(){A?this.downgradeModal():this.maybeHideModal(),A=!1}).bind(this),k,x=function(B){if(B.target===_){var F="DOMNodeRemoved";A|=B.type.substr(0,F.length)===F,window.clearTimeout(k),k=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(B){_.addEventListener(B,x)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),h.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var E=document.createElement("div");this.dialog_.insertBefore(E,this.dialog_.firstChild),E.tabIndex=-1,E.focus(),this.dialog_.removeChild(E)}var A=document.createEvent("MouseEvents");A.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(A),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var E=["button","input","keygen","select","textarea"],A=E.map(function(P){return P+":not([disabled])"});A.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(A.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,E){if(_<E)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=E},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!h.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,h.needsCentering(this.dialog_)?(h.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var E=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(E)}};var h={};if(h.reposition=function(_){var E=document.body.scrollTop||document.documentElement.scrollTop,A=E+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(E,A)+"px"},h.isInlinePositionSetByStylesheet=function(_){for(var E=0;E<document.styleSheets.length;++E){var A=document.styleSheets[E],P=null;try{P=A.cssRules}catch{}if(P)for(var k=0;k<P.length;++k){var x=P[k],B=null;try{B=document.querySelectorAll(x.selectorText)}catch{}if(!(!B||!o(B,_))){var F=x.style.getPropertyValue("top"),Z=x.style.getPropertyValue("bottom");if(F&&F!=="auto"||Z&&Z!=="auto")return!0}}}return!1},h.needsCentering=function(_){var E=window.getComputedStyle(_);return E.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!h.isInlinePositionSetByStylesheet(_)},h.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},h.registerDialog=function(_){_.showModal||h.forceRegisterDialog(_)},h.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(E){this.forwardTab_=void 0,E.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(E){var A=[];E.forEach(function(P){for(var k=0,x;x=P.removedNodes[k];++k){if(x instanceof Element)x.localName==="dialog"&&A.push(x);else continue;A=A.concat(x.querySelectorAll("dialog"))}}),A.length&&_(A)}))},h.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},h.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},h.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,E=0,A;A=this.pendingDialogStack[E];++E)A.updateZIndex(--_,--_),E===0&&(this.overlay.style.zIndex=--_);var P=this.pendingDialogStack[0];if(P){var k=P.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},h.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var E=0,A;A=this.pendingDialogStack[E];++E)if(A.dialog===_)return E===0;_=_.parentElement}return!1},h.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var E=this.pendingDialogStack[0],A=E.dialog,P=A.compareDocumentPosition(_.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?E.focus_():document.documentElement.focus()),!1}},h.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var E=new e("cancel",{bubbles:!1,cancelable:!0}),A=this.pendingDialogStack[0];A&&A.dialog.dispatchEvent(E)&&A.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},h.DialogManager.prototype.checkDOM_=function(_){var E=this.pendingDialogStack.slice();E.forEach(function(A){_.indexOf(A.dialog)!==-1?A.downgradeModal():A.maybeHideModal()})},h.DialogManager.prototype.pushDialog=function(_){var E=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=E?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},h.DialogManager.prototype.removeDialog=function(_){var E=this.pendingDialogStack.indexOf(_);E!==-1&&(this.pendingDialogStack.splice(E,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},h.dm=new h.DialogManager,h.formSubmitter=null,h.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var v=p.get;p.get=function(){return l(this)?"dialog":v.call(this)};var y=p.set;p.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(_){if(h.formSubmitter=null,h.useValue=null,!_.defaultPrevented){var E=_.target;if(!(!E||!l(E.form))){var A=E.type==="submit"&&["button","input"].indexOf(E.localName)>-1;if(!A){if(!(E.localName==="input"&&E.type==="image"))return;h.useValue=_.offsetX+","+_.offsetY}var P=i(E);P&&(h.formSubmitter=E)}}},!1);var w=HTMLFormElement.prototype.submit,T=function(){if(!l(this))return w.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=T,document.addEventListener("submit",function(_){var E=_.target;if(l(E)){_.preventDefault();var A=i(E);if(A){var P=h.formSubmitter;P&&P.form===E?A.close(h.useValue||P.value):A.close(),h.formSubmitter=null}}},!0)}h.forceRegisterDialog=h.forceRegisterDialog,h.registerDialog=h.registerDialog,typeof t.exports=="object"?t.exports=h:window.dialogPolyfill=h})()})(RP);var v$=RP.exports;const y$=g$(v$);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Mt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,E){for(var A=0;A<t.length;A++)if(t[A].className===_)return typeof E<"u"&&(t[A]=E),t[A];return!1}function s(_){var E=_.getAttribute("data-upgraded");return E===null?[""]:E.split(",")}function o(_,E){var A=s(_);return A.indexOf(E)!==-1}function l(_,E,A){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:E,cancelable:A});var P=document.createEvent("Events");return P.initEvent(_,E,A),P}function c(_,E){if(typeof _>"u"&&typeof E>"u")for(var A=0;A<t.length;A++)c(t[A].className,t[A].cssClass);else{var P=_;if(typeof E>"u"){var k=i(P);k&&(E=k.cssClass)}for(var x=document.querySelectorAll("."+E),B=0;B<x.length;B++)h(x[B],P)}}function h(_,E){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var A=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(A),!A.defaultPrevented){var P=s(_),k=[];if(E)o(_,E)||k.push(i(E));else{var x=_.classList;t.forEach(function(ie){x.contains(ie.cssClass)&&k.indexOf(ie)===-1&&!o(_,ie.className)&&k.push(ie)})}for(var B=0,F=k.length,Z;B<F;B++){if(Z=k[B],Z){P.push(Z.className),_.setAttribute("data-upgraded",P.join(","));var U=new Z.classConstructor(_);U[n]=Z,e.push(U);for(var te=0,ve=Z.callbacks.length;te<ve;te++)Z.callbacks[te](_);Z.widget&&(_[Z.className]=U)}else throw new Error("Unable to find a registered component for the given class.");var de=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(de)}}}function f(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var E=0,A=_.length,P;E<A;E++)P=_[E],P instanceof HTMLElement&&(h(P),P.children.length>0&&f(P.children))}function p(_){var E=typeof _.widget>"u"&&typeof _.widget>"u",A=!0;E||(A=_.widget||_.widget);var P={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:A,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===P.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var k=i(_.classAsString,P);k||t.push(P)}function v(_,E){var A=i(_);A&&A.callbacks.push(E)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function w(_){if(_){var E=e.indexOf(_);e.splice(E,1);var A=_.element_.getAttribute("data-upgraded").split(","),P=A.indexOf(_[n].classAsString);A.splice(P,1),_.element_.setAttribute("data-upgraded",A.join(","));var k=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(k)}}function T(_){var E=function(P){e.filter(function(k){return k.element_===P}).forEach(w)};if(_ instanceof Array||_ instanceof NodeList)for(var A=0;A<_.length;A++)E(_[A]);else if(_ instanceof Node)E(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:h,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:T}}();Mt.ComponentConfigPublic;Mt.ComponentConfig;Mt.Component;Mt.upgradeDom=Mt.upgradeDom;Mt.upgradeElement=Mt.upgradeElement;Mt.upgradeElements=Mt.upgradeElements;Mt.upgradeAllRegistered=Mt.upgradeAllRegistered;Mt.registerUpgradedCallback=Mt.registerUpgradedCallback;Mt.register=Mt.register;Mt.downgradeElements=Mt.downgradeElements;window.componentHandler=Mt;window.componentHandler=Mt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Mt.upgradeAllRegistered()):(Mt.upgradeElement=function(){},Mt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var h=document.createElement("div");h.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(h)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(r,u,d)}else r[u]=a[u];r.K=a.prototype}var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(r,a){if(a){var u=f;r=r.split(".");for(var d=0;d<r.length-1;d++){var m=r[d];m in u||(u[m]={}),u=u[m]}r=r[r.length-1],d=u[r],a=a(d),a!=d&&a!=null&&h(u,r,{configurable:!0,writable:!0,value:a})}}p("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),p("Array.prototype.includes",function(r){return r||function(a,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=d[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function y(r){return r!==void 0}function w(r){return typeof r=="string"}var T=/^[\w+/_-]+[=]{0,2}$/,_=null;function E(){}function A(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function P(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function k(r){return P(r)=="array"}function x(r){var a=P(r);return a=="array"||a=="object"&&typeof r.length=="number"}function B(r){return P(r)=="function"}function F(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var Z="closure_uid_"+(1e9*Math.random()>>>0),U=0;function te(r,a,u){return r.call.apply(r.bind,arguments)}function ve(r,a,u){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),r.apply(a,m)}}return function(){return r.apply(a,arguments)}}function de(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?de=te:de=ve,de.apply(null,arguments)}function ie(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function ue(r,a){for(var u in a)r[u]=a[u]}var st=Date.now||function(){return+new Date};function ke(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)!r.length&&y(a)?u[d]=a:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function se(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(d,m,g){for(var b=Array(arguments.length-2),S=2;S<arguments.length;S++)b[S-2]=arguments[S];return a.prototype[m].apply(d,b)}}function me(r){if(Error.captureStackTrace)Error.captureStackTrace(this,me);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}se(me,Error),me.prototype.name="CustomError";var Re;function wt(r,a){r=r.split("%s");for(var u="",d=r.length-1,m=0;m<d;m++)u+=r[m]+(m<a.length?a[m]:"%s");me.call(this,u+r[d])}se(wt,me),wt.prototype.name="AssertionError";function ot(r,a){throw new wt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var Qt=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(w(r))return w(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},at=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var d=r.length,m=w(r)?r.split(""):r,g=0;g<d;g++)g in m&&a.call(u,m[g],g,r)};function ki(r,a){for(var u=w(r)?r.split(""):r,d=r.length-1;0<=d;--d)d in u&&a.call(void 0,u[d],d,r)}var mi=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=[],m=0,g=w(r)?r.split(""):r,b=0;b<u;b++)if(b in g){var S=g[b];a.call(void 0,S,b,r)&&(d[m++]=S)}return d},ss=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=Array(u),m=w(r)?r.split(""):r,g=0;g<u;g++)g in m&&(d[g]=a.call(void 0,m[g],g,r));return d},Ht=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=w(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r))return!0;return!1};function $(r,a){return 0<=Qt(r,a)}function pe(r,a){a=Qt(r,a);var u;return(u=0<=a)&&oe(r,a),u}function oe(r,a){return Array.prototype.splice.call(r,a,1).length==1}function Te(r,a){e:{for(var u=r.length,d=w(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r)){a=m;break e}a=-1}0<=a&&oe(r,a)}function it(r,a){var u=0;ki(r,function(d,m){a.call(void 0,d,m,r)&&oe(r,m)&&u++})}function C(r){return Array.prototype.concat.apply([],arguments)}function R(r){var a=r.length;if(0<a){for(var u=Array(a),d=0;d<a;d++)u[d]=r[d];return u}return[]}function O(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var M=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},G=/&/g,K=/</g,he=/>/g,re=/"/g,ae=/'/g,Q=/\x00/g,Ae=/[\x00&<>"']/;function ye(r,a){return r<a?-1:r>a?1:0}function we(r){return Ae.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(G,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(K,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(he,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(re,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(ae,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Q,"&#0;"))),r}function Le(r,a,u){for(var d in r)a.call(u,r[d],d,r)}function V(r){var a={},u;for(u in r)a[u]=r[u];return a}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(r,a){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)r[u]=d[u];for(var g=0;g<D.length;g++)u=D[g],Object.prototype.hasOwnProperty.call(d,u)&&(r[u]=d[u])}}var bt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function pn(){}pn.prototype.next=function(){throw bt},pn.prototype.ha=function(){return this};function kr(r){if(r instanceof pn)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var a=0,u=new pn;return u.next=function(){for(;;){if(a>=r.length)throw bt;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function qd(r,a){if(x(r))try{at(r,a,void 0)}catch(u){if(u!==bt)throw u}else{r=kr(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==bt)throw u}}}function ro(r){if(x(r))return R(r);r=kr(r);var a=[];return qd(r,function(u){a.push(u)}),a}function so(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof so)for(u=r.ja(),d=0;d<u.length;d++)this.set(u[d],r.get(u[d]));else for(d in r)this.set(d,r[d])}t=so.prototype,t.la=function(){yn(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return yn(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function yn(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var d=r.a[a];_n(r.g,d)&&(r.a[u++]=d),a++}r.a.length=u}if(r.h!=r.a.length){var m={};for(u=a=0;a<r.a.length;)d=r.a[a],_n(m,d)||(r.a[u++]=d,m[d]=1),a++;r.a.length=u}}t.get=function(r,a){return _n(this.g,r)?this.g[r]:a},t.set=function(r,a){_n(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],g=this.get(m);r.call(a,g,m,this)}},t.ha=function(r){yn(this);var a=0,u=this.j,d=this,m=new pn;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(a>=d.a.length)throw bt;var g=d.a[a++];return r?g:d.g[g]},m};function _n(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Hd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _x(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var d=r[u].indexOf("="),m=null;if(0<=d){var g=r[u].substring(0,d);m=r[u].substring(d+1)}else g=r[u];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Tw(r,a,u,d){for(var m=u.length;0<=(a=r.indexOf(u,a))&&a<d;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+m),!g||g==61||g==38||g==35))return a;a+=m+1}return-1}var Aw=/#|$/;function Gd(r,a){var u=r.search(Aw),d=Tw(r,0,a,u);if(0>d)return null;var m=r.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=a.length+1,decodeURIComponent(r.substr(d,m-d).replace(/\+/g," "))}var wx=/[?&]($|#)/;function os(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof os?(this.i=y(a)?a:r.i,Hm(this,r.j),this.A=r.A,this.h=r.h,Gm(this,r.C),this.g=r.g,Wm(this,Rw(r.a)),this.s=r.s):r&&(u=String(r).match(Hd))?(this.i=!!a,Hm(this,u[1]||"",!0),this.A=eu(u[2]||""),this.h=eu(u[3]||"",!0),Gm(this,u[4]),this.g=eu(u[5]||"",!0),Wm(this,u[6]||"",!0),this.s=eu(u[7]||"")):(this.i=!!a,this.a=new nu(null,this.i))}os.prototype.toString=function(){var r=[],a=this.j;a&&r.push(tu(a,Sw,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(tu(a,Sw,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(tu(u,u.charAt(0)=="/"?Ix:Ex,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",tu(u,Ax)),r.join("")};function Hm(r,a,u){r.j=u?eu(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function Gm(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Wm(r,a,u){a instanceof nu?(r.a=a,Sx(r.a,r.i)):(u||(a=tu(a,Tx)),r.a=new nu(a,r.i))}function zm(r){return r instanceof os?new os(r):new os(r,void 0)}function eu(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function tu(r,a,u){return w(r)?(r=encodeURI(r).replace(a,bx),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function bx(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Sw=/[#\/\?@]/g,Ex=/[#\?:]/g,Ix=/[#\?]/g,Tx=/[#\?@]/g,Ax=/#/g;function nu(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function as(r){r.a||(r.a=new so,r.g=0,r.h&&_x(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=nu.prototype,t.add=function(r,a){as(this),this.h=null,r=da(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function oo(r,a){as(r),a=da(r,a),_n(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,_n(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&yn(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function Cw(r,a){return as(r),a=da(r,a),_n(r.a.g,a)}t.forEach=function(r,a){as(this),this.a.forEach(function(u,d){at(u,function(m){r.call(a,m,d,this)},this)},this)},t.ja=function(){as(this);for(var r=this.a.la(),a=this.a.ja(),u=[],d=0;d<a.length;d++)for(var m=r[d],g=0;g<m.length;g++)u.push(a[d]);return u},t.la=function(r){as(this);var a=[];if(w(r))Cw(this,r)&&(a=C(a,this.a.get(da(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=C(a,r[u])}return a},t.set=function(r,a){return as(this),this.h=null,r=da(this,r),Cw(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var d=a[u],m=encodeURIComponent(String(d));d=this.la(d);for(var g=0;g<d.length;g++){var b=m;d[g]!==""&&(b+="="+encodeURIComponent(String(d[g]))),r.push(b)}}return this.h=r.join("&")};function Rw(r){var a=new nu;return a.h=r.h,r.a&&(a.a=new so(r.a),a.g=r.g),a}function da(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function Sx(r,a){a&&!r.j&&(as(r),r.h=null,r.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(oo(this,d),oo(this,m),0<u.length&&(this.h=null,this.a.set(da(this,m),R(u)),this.g+=u.length))},r)),r.j=a}function ao(r){this.a=zm(r)}function Cx(r,a){a?r.a.a.set(Xt.Sa,a):oo(r.a.a,Xt.Sa)}function Rx(r,a){a!==null?r.a.a.set(Xt.Qa,a?"1":"0"):oo(r.a.a,Xt.Qa)}function Pw(r){return r.a.a.get(Xt.Pa)||null}function kw(r,a){a?r.a.a.set(Xt.PROVIDER_ID,a):oo(r.a.a,Xt.PROVIDER_ID)}ao.prototype.toString=function(){return this.a.toString()};var Xt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},ha;e:{var xw=v.navigator;if(xw){var Ow=xw.userAgent;if(Ow){ha=Ow;break e}}ha=""}function Je(r){return ha.indexOf(r)!=-1}function Nw(){return(Je("Chrome")||Je("CriOS"))&&!Je("Edge")}function Km(r){return Km[" "](r),r}Km[" "]=E;function Px(r,a){var u=Ox;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var Dw=Je("Opera"),Ft=Je("Trident")||Je("MSIE"),ls=Je("Edge"),kx=ls||Ft,$i=Je("Gecko")&&!(ha.toLowerCase().indexOf("webkit")!=-1&&!Je("Edge"))&&!(Je("Trident")||Je("MSIE"))&&!Je("Edge"),Jn=ha.toLowerCase().indexOf("webkit")!=-1&&!Je("Edge"),xx=Jn&&Je("Mobile"),us=Je("Macintosh");function Lw(){var r=v.document;return r?r.documentMode:void 0}var Wd;e:{var Jm="",Ym=function(){var r=ha;if($i)return/rv:([^\);]+)(\)|;)/.exec(r);if(ls)return/Edge\/([\d\.]+)/.exec(r);if(Ft)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Jn)return/WebKit\/(\S+)/.exec(r);if(Dw)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Ym&&(Jm=Ym?Ym[1]:""),Ft){var Qm=Lw();if(Qm!=null&&Qm>parseFloat(Jm)){Wd=String(Qm);break e}}Wd=Jm}var Ox={};function lo(r){return Px(r,function(){for(var a=0,u=M(String(Wd)).split("."),d=M(String(r)).split("."),m=Math.max(u.length,d.length),g=0;a==0&&g<m;g++){var b=u[g]||"",S=d[g]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;a=ye(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||ye(b[2].length==0,S[2].length==0)||ye(b[2],S[2]),b=b[3],S=S[3]}while(a==0)}return 0<=a})}var iu,Mw=v.document;iu=Mw&&Ft?Lw()||(Mw.compatMode=="CSS1Compat"?parseInt(Wd,10):5):void 0;function fa(r,a){this.a=r===Fw&&a||"",this.g=Vw}fa.prototype.ma=!0,fa.prototype.ka=function(){return this.a},fa.prototype.toString=function(){return"Const{"+this.a+"}"};var Vw={},Fw={};function uo(){this.a="",this.h=$w}uo.prototype.ma=!0,uo.prototype.ka=function(){return this.a.toString()},uo.prototype.g=function(){return 1},uo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Uw(r){return r instanceof uo&&r.constructor===uo&&r.h===$w?r.a:(ot("expected object of type TrustedResourceUrl, got '"+r+"' of type "+P(r)),"type_error:TrustedResourceUrl")}function Nx(){var r=TO;r instanceof fa&&r.constructor===fa&&r.g===Vw?r=r.a:(ot("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new uo;return a.a=r,a}var $w={};function gi(){this.a="",this.h=qw}gi.prototype.ma=!0,gi.prototype.ka=function(){return this.a.toString()},gi.prototype.g=function(){return 1},gi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function cs(r){return r instanceof gi&&r.constructor===gi&&r.h===qw?r.a:(ot("expected object of type SafeUrl, got '"+r+"' of type "+P(r)),"type_error:SafeUrl")}var jw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function zd(r){return r instanceof gi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),jw.test(r)||(r="about:invalid#zClosurez"),Xm(r))}function Bw(r){return r instanceof gi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),jw.test(r)||(r="about:invalid#zClosurez"),Xm(r))}var qw={};function Xm(r){var a=new gi;return a.a=r,a}Xm("about:blank");function pa(){this.a="",this.g=Hw}pa.prototype.ma=!0;var Hw={};pa.prototype.ka=function(){return this.a},pa.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function ds(){this.a="",this.j=Gw,this.h=null}ds.prototype.g=function(){return this.h},ds.prototype.ma=!0,ds.prototype.ka=function(){return this.a.toString()},ds.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Kd(r){return r instanceof ds&&r.constructor===ds&&r.j===Gw?r.a:(ot("expected object of type SafeHtml, got '"+r+"' of type "+P(r)),"type_error:SafeHtml")}var Gw={};function ru(r,a){var u=new ds;return u.a=r,u.h=a,u}ru("<!DOCTYPE html>",0);var Dx=ru("",0);ru("<br>",0);var Lx=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=Kd(Dx),!a.parentElement):!1});function Mx(r,a){if(r.src=Uw(a),_===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&T.test(a)){_=a;break e}_=""}a=_,a&&r.setAttribute("nonce",a)}function ma(r,a){a=a instanceof gi?a:Bw(a),r.assign(cs(a))}function hs(r,a){this.a=y(r)?r:0,this.g=y(a)?a:0}hs.prototype.toString=function(){return"("+this.a+", "+this.g+")"},hs.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},hs.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},hs.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Zm(r,a){this.width=r,this.height=a}t=Zm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Jd(r){return r?new ig(su(r)):Re||(Re=new ig)}function eg(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):Ww(document,r,a)}function tg(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var d=a||u;r=d.querySelectorAll&&d.querySelector&&r?d.querySelector(r?"."+r:""):Ww(u,r,a)[0]||null}return r||null}function Ww(r,a,u){var d;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var m=r.getElementsByClassName(a);return m}if(m=r.getElementsByTagName("*"),a){var g={};for(u=d=0;r=m[u];u++){var b=r.className;typeof b.split=="function"&&$(b.split(/\s+/),a)&&(g[d++]=r)}return g.length=d,g}return m}function Vx(r,a){Le(a,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?r.style.cssText=u:d=="class"?r.className=u:d=="for"?r.htmlFor=u:zw.hasOwnProperty(d)?r.setAttribute(zw[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,u):r[d]=u})}var zw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Yd(r){return r.scrollingElement?r.scrollingElement:(Jn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function co(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function su(r){return r.nodeType==9?r:r.ownerDocument||r.document}function ng(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(su(r).createTextNode(String(a)))}}function Kw(r,a){return a?Fx(r,function(u){return!a||w(u.className)&&$(u.className.split(/\s+/),a)}):null}function Fx(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function ig(r){this.a=r||v.document||document}ig.prototype.N=function(){return w(void 0)?this.a.getElementById(void 0):void 0};var Qd={Fc:!0},Jw={Hc:!0},Ux={Ec:!0},Yw={Gc:!0};function fs(){throw Error("Do not instantiate directly")}fs.prototype.va=null,fs.prototype.toString=function(){return this.content};function ou(r,a,u,d){if(r=r(a||Bx,void 0,u),d=(d||Jd()).a.createElement("DIV"),r=$x(r),r.match(jx),r=ru(r,null),Lx())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=Kd(r),d.childNodes.length==1&&(r=d.firstChild,r.nodeType==1&&(d=r)),d}function $x(r){if(!F(r))return we(String(r));if(r instanceof fs){if(r.fa===Qd)return r.content;if(r.fa===Yw)return we(r.content)}return ot("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var jx=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Bx={};function qx(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Xd(){fs.call(this)}se(Xd,fs),Xd.prototype.fa=Qd;function De(r){return r!=null&&r.fa===Qd?r:r instanceof ds?ge(Kd(r).toString(),r.g()):ge(we(String(String(r))),qx(r))}function Zd(){fs.call(this)}se(Zd,fs),Zd.prototype.fa=Jw,Zd.prototype.va=1;function eh(r,a){this.content=String(r),this.va=a??null}se(eh,fs),eh.prototype.fa=Yw;function ut(r){return new eh(r,void 0)}var ge=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=new a(String(u)),d!==void 0&&(u.va=d),u}}(Xd),Hx=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(Zd);function Gx(r){function a(){}var u={label:Ut("New password")};a.prototype=r,r=new a;for(var d in u)r[d]=u[d];return r}function Ut(r){return(r=String(r))?new eh(r,void 0):""}var Qw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=String(u),u?(u=new a(u),d!==void 0&&(u.va=d),u):""}}(Xd);function Yn(r){return r!=null&&r.fa===Qd?String(String(r.content).replace(Xx,"").replace(Zx,"&lt;")).replace(Jx,zx):we(String(r))}function ho(r){return r!=null&&r.fa===Jw?r=String(r).replace(sg,rg):r instanceof gi?r=String(cs(r).toString()).replace(sg,rg):(r=String(r),Qx.test(r)?r=r.replace(sg,rg):(ot("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function Xw(r){return r!=null&&r.fa===Ux?r=r.content:r==null?r="":r instanceof pa?r instanceof pa&&r.constructor===pa&&r.g===Hw?r=r.a:(ot("expected object of type SafeStyle, got '"+r+"' of type "+P(r)),r="type_error:SafeStyle"):(r=String(r),Yx.test(r)||(ot("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var Wx={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function zx(r){return Wx[r]}var Kx={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function rg(r){return Kx[r]}var Jx=/[\x00\x22\x27\x3c\x3e]/g,sg=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Yx=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Qx=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Xx=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Zx=/</g;function og(){return ut("Enter a valid phone number")}function Zw(){return ut("Unable to send password reset code to specified email")}function eb(){return ut("Something went wrong. Please try again.")}function tb(){return ut("This email already exists without any means of sign-in. Please reset the password to recover.")}function nb(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return ut(a)}function ib(){return ut("Please login again to perform this operation")}function au(r,a,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=eO+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=eb()}r=ut(r).toString()}this.message=r||"",this.credential=u||null}c(au,Error),au.prototype.toJSON=function(){return{code:this.code,message:this.message}};var eO="firebaseui/";function fo(){this.T=this.T,this.C=this.C}var tO=0;fo.prototype.T=!1,fo.prototype.m=function(){!this.T&&(this.T=!0,this.o(),tO!=0)&&(this[Z]||(this[Z]=++U))};function lu(r,a){r.T?y(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(y(void 0)?de(a,void 0):a))}fo.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function uu(r){r&&typeof r.m=="function"&&r.m()}var nO=Object.freeze||function(r){return r},rb=!Ft||9<=Number(iu),iO=Ft&&!lo("9"),rO=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",E,a),v.removeEventListener("test",E,a)}catch{}return r}();function xr(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}xr.prototype.stopPropagation=function(){this.h=!0},xr.prototype.preventDefault=function(){this.qb=!1};function Qn(r,a){if(xr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if($i){e:{try{Km(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=w(r.pointerType)?r.pointerType:sO[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}se(Qn,xr);var sO=nO({2:"touch",3:"pen",4:"mouse"});Qn.prototype.stopPropagation=function(){Qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Qn.prototype.preventDefault=function(){Qn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,iO)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var cu="closure_listenable_"+(1e6*Math.random()|0),oO=0;function aO(r,a,u,d,m){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.La=m,this.key=++oO,this.sa=this.Ia=!1}function th(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function nh(r){this.src=r,this.a={},this.g=0}nh.prototype.add=function(r,a,u,d,m){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var b=lg(r,a,d,m);return-1<b?(a=r[b],u||(a.Ia=!1)):(a=new aO(a,this.src,g,!!d,m),a.Ia=u,r.push(a)),a};function ag(r,a){var u=a.type;u in r.a&&pe(r.a[u],a)&&(th(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function lg(r,a,u,d){for(var m=0;m<r.length;++m){var g=r[m];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==d)return m}return-1}var ug="closure_lm_"+(1e6*Math.random()|0),cg={};function ji(r,a,u,d,m){if(d&&d.once)return du(r,a,u,d,m);if(k(a)){for(var g=0;g<a.length;g++)ji(r,a[g],u,d,m);return null}return u=hg(u),r&&r[cu]?r.J.add(String(a),u,!1,F(d)?!!d.capture:!!d,m):sb(r,a,u,!1,d,m)}function sb(r,a,u,d,m,g){if(!a)throw Error("Invalid event type");var b=F(m)?!!m.capture:!!m,S=ih(r);if(S||(r[ug]=S=new nh(r)),u=S.add(a,u,d,b,g),u.proxy)return u;if(d=lO(),u.proxy=d,d.src=r,d.listener=u,r.addEventListener)rO||(m=b),m===void 0&&(m=!1),r.addEventListener(a.toString(),d,m);else if(r.attachEvent)r.attachEvent(ob(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function lO(){var r=uO,a=rb?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function du(r,a,u,d,m){if(k(a)){for(var g=0;g<a.length;g++)du(r,a[g],u,d,m);return null}return u=hg(u),r&&r[cu]?r.J.add(String(a),u,!0,F(d)?!!d.capture:!!d,m):sb(r,a,u,!0,d,m)}function po(r,a,u,d,m){if(k(a))for(var g=0;g<a.length;g++)po(r,a[g],u,d,m);else d=F(d)?!!d.capture:!!d,u=hg(u),r&&r[cu]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=lg(g,u,d,m),-1<u&&(th(g[u]),oe(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=ih(r))&&(a=r.a[a.toString()],r=-1,a&&(r=lg(a,u,d,m)),(u=-1<r?a[r]:null)&&ps(u))}function ps(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[cu])ag(a.J,r);else{var u=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(u,d,r.capture):a.detachEvent?a.detachEvent(ob(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=ih(a))?(ag(u,r),u.g==0&&(u.src=null,a[ug]=null)):th(r)}}}function ob(r){return r in cg?cg[r]:cg[r]="on"+r}function ab(r,a,u,d){var m=!0;if((r=ih(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=lb(g,d),m=m&&g!==!1)}return m}function lb(r,a){var u=r.listener,d=r.La||r.src;return r.Ia&&ps(r),u.call(d,a)}function uO(r,a){if(r.sa)return!0;if(!rb){if(!a)e:{a=["window","event"];for(var u=v,d=0;d<a.length;d++)if(u=u[a[d]],u==null){a=null;break e}a=u}if(d=a,a=new Qn(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.g;m;m=m.parentNode)d.push(m);for(r=r.type,m=d.length-1;!a.h&&0<=m;m--){a.g=d[m];var g=ab(d[m],r,!0,a);u=u&&g}for(m=0;!a.h&&m<d.length;m++)a.g=d[m],g=ab(d[m],r,!1,a),u=u&&g}return u}return lb(r,new Qn(a,this))}function ih(r){return r=r[ug],r instanceof nh?r:null}var dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function hg(r){return B(r)?r:(r[dg]||(r[dg]=function(a){return r.handleEvent(a)}),r[dg])}function Zt(){fo.call(this),this.J=new nh(this),this.wb=this,this.Ha=null}se(Zt,fo),Zt.prototype[cu]=!0,Zt.prototype.Za=function(r){this.Ha=r},Zt.prototype.removeEventListener=function(r,a,u,d){po(this,r,a,u,d)};function ms(r,a){var u,d=r.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(r=r.wb,d=a.type||a,w(a))a=new xr(a,r);else if(a instanceof xr)a.target=a.target||r;else{var m=a;a=new xr(d,r),lt(a,m)}if(m=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var b=a.g=u[g];m=rh(b,d,!0,a)&&m}if(a.h||(b=a.g=r,m=rh(b,d,!0,a)&&m,a.h||(m=rh(b,d,!1,a)&&m)),u)for(g=0;!a.h&&g<u.length;g++)b=a.g=u[g],m=rh(b,d,!1,a)&&m;return m}Zt.prototype.o=function(){if(Zt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],d=0;d<u.length;d++)th(u[d]);delete r.a[a],r.g--}}this.Ha=null};function rh(r,a,u,d){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var b=a[g];if(b&&!b.sa&&b.capture==u){var S=b.listener,L=b.La||b.src;b.Ia&&ag(r.J,b),m=S.call(L,d)!==!1&&m}}return m&&d.qb!=0}var vi={},ub=0;function cb(r,a){if(!r)throw Error("Event target element must be provided!");if(r=fg(r),vi[r]&&vi[r].length)for(var u=0;u<vi[r].length;u++)ms(vi[r][u],a)}function cO(r){var a=fg(r.N());vi[a]&&vi[a].length&&(Te(vi[a],function(u){return u==r}),vi[a].length||delete vi[a])}function fg(r){return typeof r.a>"u"&&(r.a=ub,ub++),r.a}function sh(r){if(!r)throw Error("Event target element must be provided!");Zt.call(this),this.a=r}c(sh,Zt),sh.prototype.N=function(){return this.a},sh.prototype.register=function(){var r=fg(this.N());vi[r]?$(vi[r],this)||vi[r].push(this):vi[r]=[this]};function db(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function pg(r,a){this.h=r,this.j=a,this.g=0,this.a=null}pg.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function hb(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function fb(){this.g=this.a=null}var pb=new pg(function(){return new mg},function(r){r.reset()});fb.prototype.add=function(r,a){var u=pb.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function dO(){var r=gb,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function mg(){this.next=this.g=this.a=null}mg.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},mg.prototype.reset=function(){this.next=this.g=this.a=null};function mb(r){v.setTimeout(function(){throw r},0)}var gg;function hO(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Je("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var b="callImmediate"+Math.random(),S=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=de(function(L){(S=="*"||L.origin==S)&&L.data==b&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(b,S)}}}),typeof r<"u"&&!Je("Trident")&&!Je("MSIE")){var a=new r,u={},d=u;return a.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function vg(r,a){oh||fO(),yg||(oh(),yg=!0),gb.add(r,a)}var oh;function fO(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);oh=function(){r.then(vb)}}else oh=function(){var a=vb;!B(v.setImmediate)||v.Window&&v.Window.prototype&&!Je("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(gg||(gg=hO()),gg(a)):v.setImmediate(a)}}var yg=!1,gb=new fb;function vb(){for(var r;r=dO();){try{r.a.call(r.g)}catch(a){mb(a)}hb(pb,r)}yg=!1}function en(r){if(this.a=mo,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=E)try{var a=this;r.call(void 0,function(u){go(a,hu,u)},function(u){if(!(u instanceof va))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}go(a,Or,u)})}catch(u){go(this,Or,u)}}var mo=0,hu=2,Or=3;function yb(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}yb.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var _b=new pg(function(){return new yb},function(r){r.reset()});function _g(r,a,u){var d=_b.get();return d.s=r,d.g=a,d.j=u,d}function $t(r){if(r instanceof en)return r;var a=new en(E);return go(a,hu,r),a}function ga(r){return new en(function(a,u){u(r)})}en.prototype.then=function(r,a,u){return bb(this,B(r)?r:null,B(a)?a:null,u)},en.prototype.$goog_Thenable=!0,t=en.prototype,t.fc=function(r,a){return r=_g(r,r,a),r.h=!0,wg(this,r),this},t.Ca=function(r,a){return bb(this,null,r,a)},t.cancel=function(r){this.a==mo&&vg(function(){var a=new va(r);wb(this,a)},this)};function wb(r,a){if(r.a==mo)if(r.h){var u=r.h;if(u.g){for(var d=0,m=null,g=null,b=u.g;b&&(b.h||(d++,b.a==r&&(m=b),!(m&&1<d)));b=b.next)m||(g=b);m&&(u.a==mo&&d==1?wb(u,a):(g?(d=g,d.next==u.j&&(u.j=d),d.next=d.next.next):Ib(u),Tb(u,m,Or,a)))}r.h=null}else go(r,Or,a)}function wg(r,a){r.g||r.a!=hu&&r.a!=Or||Eb(r),r.j?r.j.next=a:r.g=a,r.j=a}function bb(r,a,u,d){var m=_g(null,null,null);return m.a=new en(function(g,b){m.s=a?function(S){try{var L=a.call(d,S);g(L)}catch(ee){b(ee)}}:g,m.g=u?function(S){try{var L=u.call(d,S);!y(L)&&S instanceof va?b(S):g(L)}catch(ee){b(ee)}}:b}),m.a.h=r,wg(r,m),m.a}t.hc=function(r){this.a=mo,go(this,hu,r)},t.ic=function(r){this.a=mo,go(this,Or,r)};function go(r,a,u){if(r.a==mo){r===u&&(a=Or,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var d=u,m=r.hc,g=r.ic;if(d instanceof en){wg(d,_g(m||E,g||null,r));var b=!0}else if(db(d))d.then(m,g,r),b=!0;else{if(F(d))try{var S=d.then;if(B(S)){pO(d,S,m,g,r),b=!0;break e}}catch(L){g.call(r,L),b=!0;break e}b=!1}}b||(r.A=u,r.a=a,r.h=null,Eb(r),a!=Or||u instanceof va||mO(r,u))}}function pO(r,a,u,d,m){function g(L){S||(S=!0,d.call(m,L))}function b(L){S||(S=!0,u.call(m,L))}var S=!1;try{a.call(r,b,g)}catch(L){g(L)}}function Eb(r){r.i||(r.i=!0,vg(r.Hb,r))}function Ib(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=Ib(this);)Tb(this,r,this.a,this.A);this.i=!1};function Tb(r,a,u,d){if(u==Or&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,Ab(a,u,d);else try{a.h?a.s.call(a.j):Ab(a,u,d)}catch(m){Sb.call(null,m)}hb(_b,a)}function Ab(r,a,u){a==hu?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function mO(r,a){r.s=!0,vg(function(){r.s&&Sb.call(null,a)})}var Sb=mb;function va(r){me.call(this,r)}se(va,me),va.prototype.name="cancel";function Cb(r,a,u){a||(a={}),u=u||window;var d=r instanceof gi?r:zd(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var m=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(a[g]?1:0))}var g=m.join(",");return(Je("iPhone")&&!Je("iPod")&&!Je("iPad")||Je("iPad")||Je("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),d=d instanceof gi?d:Bw(d),g.href=cs(d),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=cs(d).toString(),u&&(kx&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=ru('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+we(a)+'">',null),u.document.write(Kd(a)),u.document.close())):(u=u.open(cs(d).toString(),r,g))&&a.noopener&&(u.opener=null),u}function Rb(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function ya(r){Cb(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ah(r,a){if(r=F(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function Nr(){return window.location.href}function gO(){var r=null;return new en(function(a){v.document.readyState=="complete"?a():(r=function(){a()},du(window,"load",r))}).Ca(function(a){throw po(window,"load",r),a})}function vO(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function yO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(d){return a.includes(d)}).reduce(function(d,m){return d[m]=r[m],d},u)}function gs(r){var a=bO;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}gs.prototype.cancel=function(r){if(this.a)this.h instanceof gs&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new pu,lh(this),fu(this,!1,r))}},gs.prototype.L=function(r,a){this.A=!1,fu(this,r,a)};function fu(r,a,u){r.a=!0,r.h=u,r.j=!a,xb(r)}function lh(r){if(r.a){if(!r.J)throw new uh;r.J=!1}}gs.prototype.callback=function(r){lh(this),fu(this,!0,r)};function Pb(r,a,u){r.s.push([a,u,void 0]),r.a&&xb(r)}gs.prototype.then=function(r,a,u){var d,m,g=new en(function(b,S){d=b,m=S});return Pb(this,d,function(b){b instanceof pu?g.cancel():m(b)}),g.then(r,a,u)},gs.prototype.$goog_Thenable=!0;function kb(r){return Ht(r.s,function(a){return B(a[1])})}function xb(r){if(r.i&&r.a&&kb(r)){var a=r.i,u=ch[a];u&&(v.clearTimeout(u.a),delete ch[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var d=u=!1;r.s.length&&!r.A;){var m=r.s.shift(),g=m[0],b=m[1];if(m=m[2],g=r.j?b:g)try{var S=g.call(m||r.O,a);y(S)&&(r.j=r.j&&(S==a||S instanceof Error),r.h=a=S),(db(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(d=!0,r.A=!0)}catch(L){a=L,r.j=!0,kb(r)||(u=!0)}}r.h=a,d&&(S=de(r.L,r,!0),d=de(r.L,r,!1),a instanceof gs?(Pb(a,S,d),a.l=!0):a.then(S,d)),u&&(a=new Ob(a),ch[a.a]=a,r.i=a.a)}function uh(){me.call(this)}se(uh,me),uh.prototype.message="Deferred has already fired",uh.prototype.name="AlreadyCalledError";function pu(){me.call(this)}se(pu,me),pu.prototype.message="Deferred was canceled",pu.prototype.name="CanceledError";function Ob(r){this.a=v.setTimeout(de(this.h,this),0),this.g=r}Ob.prototype.h=function(){throw delete ch[this.a],this.g};var ch={};function _O(r){var a={},u=a.document||document,d=Uw(r).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},b=new gs(g),S=null,L=a.timeout!=null?a.timeout:5e3;return 0<L&&(S=window.setTimeout(function(){dh(m,!0);var ee=new bg(IO,"Timeout reached for loading script "+d);lh(b),fu(b,!1,ee)},L),g.sb=S),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(dh(m,a.xc||!1,S),b.callback(null))},m.onerror=function(){dh(m,!0,S);var ee=new bg(EO,"Error while loading script "+d);lh(b),fu(b,!1,ee)},g=a.attributes||{},lt(g,{type:"text/javascript",charset:"UTF-8"}),Vx(m,g),Mx(m,r),wO(u).appendChild(m),b}function wO(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function bO(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&dh(r,!0,this.sb)}}function dh(r,a,u){u!=null&&v.clearTimeout(u),r.onload=E,r.onerror=E,r.onreadystatechange=E,a&&window.setTimeout(function(){co(r)},0)}var EO=0,IO=1;function bg(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),me.call(this,u),this.code=r}se(bg,me);function mu(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function Eg(r){this.a=r||mu(),this.h=!1,this.g=null}Eg.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function Nb(r,a,u){if(r.a&&a)return function(){return r.h=!0,new en(function(m){r.g=m,r.a.initialize({client_id:a,callback:m,auto_select:!u}),r.a.prompt()})}();if(a){var d=Ig.Xa().load().then(function(){return r.a=mu(),Nb(r,a,u)}).Ca(function(){return null});return $t(d)}return $t(null)}A(Eg);var TO=new fa(Fw,"https://accounts.google.com/gsi/client");function Ig(){this.a=null}Ig.prototype.load=function(){var r=this;if(this.a)return this.a;var a=Nx();return mu()?$t():this.a=gO().then(function(){if(!mu())return new en(function(u,d){var m=setTimeout(function(){r.a=null,d(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},$t(_O(a)).then(function(){mu()&&u()}).Ca(function(g){clearTimeout(m),r.a=null,d(g)})})})},A(Ig);function Tg(r,a){this.a=r,this.g=a||function(u){throw u}}Tg.prototype.confirm=function(r){return $t(this.a.confirm(r)).Ca(this.g)};function Ag(r,a,u){this.reset(r,a,u,void 0,void 0)}Ag.prototype.a=null,Ag.prototype.reset=function(r,a,u,d,m){this.h=d||st(),this.j=r,this.s=a,this.g=u,delete this.a};function Sg(r){this.s=r,this.a=this.h=this.j=this.g=null}function hh(r,a){this.name=r,this.value=a}hh.prototype.toString=function(){return this.name};var Db=new hh("SEVERE",1e3),Lb=new hh("WARNING",900),Mb=new hh("CONFIG",700);function Vb(r){return r.j?r.j:r.g?Vb(r.g):(ot("Root logger has no level set."),null)}Sg.prototype.log=function(r,a,u){if(r.value>=Vb(this).value)for(B(a)&&(a=a()),r=new Ag(r,String(a),this.s),u&&(r.a=u),u=this;u;){var d=u,m=r;if(d.a)for(var g=0;a=d.a[g];g++)a(m);u=u.g}};var Cg={},gu=null;function Fb(){gu||(gu=new Sg(""),Cg[""]=gu,gu.j=Mb)}function Ub(r){Fb();var a;if(!(a=Cg[r])){a=new Sg(r);var u=r.lastIndexOf("."),d=r.substr(u+1);u=Ub(r.substr(0,u)),u.h||(u.h={}),u.h[d]=a,a.g=u,Cg[r]=a}return a}function fh(){this.a=st()}var Rg=null;fh.prototype.set=function(r){this.a=r},fh.prototype.reset=function(){this.set(st())},fh.prototype.get=function(){return this.a};function vu(r){this.j=r||"",Rg||(Rg=new fh),this.s=Rg}vu.prototype.a=!0,vu.prototype.g=!0,vu.prototype.h=!1;function vo(r){return 10>r?"0"+r:String(r)}function AO(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function $b(r){vu.call(this,r)}se($b,vu);function SO(r,a){var u=[];if(u.push(r.j," "),r.g){var d=new Date(a.h);u.push("[",vo(d.getFullYear()-2e3)+vo(d.getMonth()+1)+vo(d.getDate())+" "+vo(d.getHours())+":"+vo(d.getMinutes())+":"+vo(d.getSeconds())+"."+vo(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",AO(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function jb(){this.s=de(this.h,this),this.a=new $b,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}jb.prototype.h=function(r){function a(g){if(g){if(g.value>=Db.value)return"error";if(g.value>=Lb.value)return"warn";if(g.value>=Mb.value)return"log"}return"debug"}if(!this.j[r.g]){var u=SO(this.a,r),d=CO;if(d){var m=a(r.j);RO(d,m,u,r.a)}}};var CO=v.console;function RO(r,a,u,d){r[a]?r[a](u,d||""):r.log(u,d||"")}function yi(r,a){var u=Pg;u&&u.log(Db,r,a)}var Pg;Pg=Ub("firebaseui");var kg=new jb;if(kg.g!=1){var ph;Fb(),ph=gu;var PO=kg.s;ph.a||(ph.a=[]),ph.a.push(PO),kg.g=!0}function vs(r){var a=Pg;a&&a.log(Lb,r,void 0)}function Bb(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=Bb.prototype,t.set=function(r,a,u,d,m,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');y(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(st()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+m+d+u+g},t.get=function(r,a){for(var u=r+"=",d=(this.a.cookie||"").split(";"),m=0,g;m<d.length;m++){if(g=M(d[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return xg(this).keys},t.la=function(){return xg(this).values},t.clear=function(){for(var r=xg(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function xg(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],d,m,g=0;g<r.length;g++)m=M(r[g]),d=m.indexOf("="),d==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:a,values:u}}var mh=new Bb;function qb(){}function _a(r,a,u,d){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!d}c(_a,qb),_a.prototype.set=function(r,a){mh.set(r,a,this.h,this.g,this.a,this.j)},_a.prototype.get=function(r){return mh.get(r)||null},_a.prototype.ra=function(r){var a=this.g,u=this.a;mh.get(r),mh.set(r,"",0,a,u)};function Og(r,a){this.g=r,this.a=a||null}function Hb(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function Gb(r){if(r&&r.email){var a=r.credential&&Se.auth.AuthCredential.fromJSON(r.credential);return new Og(r.email,a)}return null}function Wb(r){this.a=r||null}function zb(r){for(var a=[],u=0,d=0;d<r.length;d++){var m=r.charCodeAt(d);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function kO(r){return ss(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function gh(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(wa*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<wa*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,Xb(a),a[0]^=yh[r/this.g][0],a[1]^=yh[r/this.g][1],a[2]^=yh[r/this.g][2],a[3]^=yh[r/this.g][3]}else 6<this.g&&r%this.g==4&&Xb(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}gh.prototype.A=16;var wa=gh.prototype.A/4;function Kb(r,a){for(var u,d=0;d<wa;d++)for(var m=0;4>m;m++)u=4*m+d,u=a[u],r.h[d][m]=u}function Jb(r){for(var a=[],u=0;u<wa;u++)for(var d=0;4>d;d++)a[4*d+u]=r.h[u][d];return a}function ba(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]^=r.a[4*a+d][u]}function vh(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]=a[r.h[u][d]]}function Yb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%wa]}function Qb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%wa]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function Xb(r){r[0]=Ea[r[0]],r[1]=Ea[r[1]],r[2]=Ea[r[2]],r[3]=Ea[r[3]]}var Ea=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Zb=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],yh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],_h=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],wh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],bh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Eh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Ih=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Th=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function e1(r,a){r=new gh(n1(r)),a=zb(a);for(var u=a.splice(0,16),d="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=r,Kb(m,u),ba(m,0),u=1;u<m.j;++u){vh(m,Ea),Yb(m),g=m.h;for(var b=m.s[0],S=0;4>S;S++)b[0]=g[0][S],b[1]=g[1][S],b[2]=g[2][S],b[3]=g[3][S],g[0][S]=_h[b[0]]^wh[b[1]]^b[2]^b[3],g[1][S]=b[0]^_h[b[1]]^wh[b[2]]^b[3],g[2][S]=b[0]^b[1]^_h[b[2]]^wh[b[3]],g[3][S]=wh[b[0]]^b[1]^b[2]^_h[b[3]];ba(m,u)}vh(m,Ea),Yb(m),ba(m,m.j),d+=kO(Jb(m)),u=a.splice(0,16)}return d}function t1(r,a){r=new gh(n1(r));for(var u=[],d=0;d<a.length;d+=2)u.push(parseInt(a.substring(d,d+2),16));var m=u.splice(0,16);for(a="";m.length;){for(d=r,Kb(d,m),ba(d,d.j),m=1;m<d.j;++m){Qb(d),vh(d,Zb),ba(d,d.j-m);for(var g=d.h,b=d.s[0],S=0;4>S;S++)b[0]=g[0][S],b[1]=g[1][S],b[2]=g[2][S],b[3]=g[3][S],g[0][S]=Th[b[0]]^Eh[b[1]]^Ih[b[2]]^bh[b[3]],g[1][S]=bh[b[0]]^Th[b[1]]^Eh[b[2]]^Ih[b[3]],g[2][S]=Ih[b[0]]^bh[b[1]]^Th[b[2]]^Eh[b[3]],g[3][S]=Eh[b[0]]^Ih[b[1]]^bh[b[2]]^Th[b[3]]}if(Qb(d),vh(d,Zb),ba(d,0),d=Jb(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",g=0;g<d.length;g+=8192)m+=String.fromCharCode.apply(null,O(d,g,g+8192));d=m}a+=d,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function n1(r){r=zb(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function i1(r){var a=[];return Ng(new xO,r,a),a.join("")}function xO(){}function Ng(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(k(a)){var d=a;a=d.length,u.push("[");for(var m="",g=0;g<a;g++)u.push(m),Ng(r,d[g],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(g=a[d],typeof g!="function"&&(u.push(m),s1(d,u),u.push(":"),Ng(r,g,u),m=","));u.push("}");return}}switch(typeof a){case"string":s1(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var r1={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},OO=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function s1(r,a){a.push('"',r.replace(OO,function(u){var d=r1[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),r1[u]=d),d}),'"')}function yu(r){this.a=r}yu.prototype.set=function(r,a){y(a)?this.a.set(r,i1(a)):this.a.ra(r)},yu.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function Ah(){}se(Ah,qb),Ah.prototype.clear=function(){var r=ro(this.ha(!0)),a=this;at(r,function(u){a.ra(u)})};function Sh(r){this.a=r}se(Sh,Ah);function Ch(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=Sh.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!w(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,d=new pn;return d.next=function(){if(a>=u.length)throw bt;var m=u.key(a++);if(r)return m;if(m=u.getItem(m),!w(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function Dg(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}se(Dg,Sh);function Lg(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}se(Lg,Sh);function Ia(r,a){this.g=r,this.a=a+"::"}se(Ia,Ah),Ia.prototype.set=function(r,a){this.g.set(this.a+r,a)},Ia.prototype.get=function(r){return this.g.get(this.a+r)},Ia.prototype.ra=function(r){this.g.ra(this.a+r)},Ia.prototype.ha=function(r){var a=this.g.ha(!0),u=this,d=new pn;return d.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return r?m.substr(u.a.length):u.g.get(m)},d},Ch(new Dg);var o1,a1=new Lg;o1=Ch(a1)?new Ia(a1,"firebaseui"):null;var Mg=new yu(o1),Vg={name:"pendingEmailCredential",storage:Mg},yo={name:"redirectStatus",storage:Mg},_u={name:"redirectUrl",storage:Mg},Ta={name:"emailForSignIn",storage:new yu(new _a(3600,"/"))},wu={name:"pendingEncryptedCredential",storage:new yu(new _a(3600,"/"))};function Aa(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function ai(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function Sa(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function l1(r){return Aa(_u,r)||null}function sr(r){return r=Aa(Vg,r)||null,Gb(r)}function or(r){ai(Vg,r)}function u1(r,a){Sa(Vg,Hb(r),a)}function Fg(r){return(r=Aa(yo,r)||null)&&typeof r.tenantId<"u"?new Wb(r.tenantId):null}function NO(r,a){Sa(yo,{tenantId:r.a},a)}function DO(r,a){a=Aa(Ta,a);var u=null;if(a)try{var d=t1(r,a),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function LO(r,a){a=Aa(wu,a);var u=null;if(a)try{var d=t1(r,a);u=JSON.parse(d)}catch{}return Gb(u||null)}function MO(r,a,u){Sa(wu,e1(r,JSON.stringify(Hb(a))),u)}function Ug(){this.W={}}function Gt(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function $g(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}Ug.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function jg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function Bg(){this.g=void 0,this.a={}}t=Bg.prototype,t.set=function(r,a){c1(this,r,a,!1)},t.add=function(r,a){c1(this,r,a,!0)};function c1(r,a,u,d){for(var m=0;m<a.length;m++){var g=a.charAt(m);r.a[g]||(r.a[g]=new Bg),r=r.a[g]}if(d&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return d1(this,r),r};function d1(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)d1(r.a[u],a)}t.ja=function(){var r=[];return h1(this,"",r),r};function h1(r,a,u){r.g!==void 0&&u.push(a);for(var d in r.a)h1(r.a[d],a+d,u)}t.clear=function(){this.a={},this.g=void 0};function f1(r){for(this.a=r,this.g=new Bg,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function Rh(r,a){r=r.g;var u={},d=0;for(r.g!==void 0&&(u[d]=r.g);d<a.length;d++){var m=a.charAt(d);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(u[d]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function _o(r){for(var a=0;a<Xn.length;a++)if(Xn[a].c===r)return Xn[a];return null}function p1(r){r=r.toUpperCase();for(var a=[],u=0;u<Xn.length;u++)Xn[u].f===r&&a.push(Xn[u]);return a}function m1(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Xn.length;u++)Xn[u].b==r&&a.push(Xn[u]);r=a}else r=p1(r);return r}function g1(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Xn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];g1(Xn);var bu=new f1(Xn);function v1(r,a){this.a=r,this.Aa=a}function y1(r){r=M(r);var a=Rh(bu,r);return 0<a.length?new v1(a[0].b=="1"?"1-US-0":a[0].c,M(r.substr(a[0].b.length+1))):null}function qg(r){var a=_o(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function _1(r,a){for(var u=0;u<r.length;u++)if(!$(w1,r[u])&&(Ca!==null&&r[u]in Ca||$(a,r[u])))return r[u];return null}var w1=["emailLink","password","phone"],Ca={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function VO(){this.a=new Ug,Gt(this.a,"autoUpgradeAnonymousUsers"),Gt(this.a,"callbacks"),Gt(this.a,"credentialHelper",xh),Gt(this.a,"immediateFederatedRedirect",!1),Gt(this.a,"popupMode",!1),Gt(this.a,"privacyPolicyUrl"),Gt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Gt(this.a,"queryParameterForWidgetMode","mode"),Gt(this.a,"signInFlow"),Gt(this.a,"signInOptions"),Gt(this.a,"signInSuccessUrl"),Gt(this.a,"siteName"),Gt(this.a,"tosUrl"),Gt(this.a,"widgetUrl"),Gt(this.a,"adminRestrictedOperation")}function Ph(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!k1(r)&&yi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function kh(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var d=r[u];d=F(d)?d:{provider:d},d.provider&&a.push(d)}return a}function _i(r,a){r=kh(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function Ra(r){return kh(r).map(function(a){return a.provider})}function Eu(r,a){r=b1(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function b1(r){return kh(r).map(function(a){if(Ca[a.provider]||$(zO,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?cs(zd(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?cs(zd(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function E1(r){var a=_i(r,Se.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in r=r.a.get("credentialHelper"),Kg)if(Kg[d]===r){var d=Kg[d];break e}}d=xh}u=d===zg}return u&&a.clientId||null}function I1(r){return r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function wo(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function FO(r){var a=null;if(kh(r).forEach(function(d){d.provider==Se.auth.PhoneAuthProvider.PROVIDER_ID&&F(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(a=V(d.recaptchaParameters))}),a){var u=[];KO.forEach(function(d){typeof a[d]<"u"&&(u.push(d),delete a[d])}),u.length&&vs('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function UO(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function $O(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){ya(a)}}return null}function jO(r){return(r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function BO(r){if((r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){ya(a)}}return null}function T1(r,a){return r=(r=_i(r,a))&&r.scopes,Array.isArray(r)?r:[]}function A1(r,a){return r=(r=_i(r,a))&&r.customParameters,F(r)?(r=V(r),a===Se.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===Se.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function qO(r){r=_i(r,Se.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=y1(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function HO(r){var a=(r=_i(r,Se.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&p1(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=y1(r.loginHint)),a&&a[0]||u&&_o(u.a)||null}function Hg(r){if(r=_i(r,Se.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Xn;if(r=[],a){u={};for(var d=0;d<a.length;d++)for(var m=m1(a[d]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var b in u)u.hasOwnProperty(b)&&r.push(u[b])}else{for(b={},a=0;a<u.length;a++)for(m=m1(u[a]),d=0;d<m.length;d++)b[m[d].c]=m[d];for(m=0;m<Xn.length;m++)b!==null&&Xn[m].c in b||r.push(Xn[m])}return r}function S1(r){return jg(r.a,"queryParameterForWidgetMode")}function Wt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&vs("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){ya(a)}}return null}function zt(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&vs("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){ya(u)}}return null}function C1(r){return(r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function Pa(r){return r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==Se.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function GO(r){return r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function WO(r){if(Pa(r)){var a={url:Nr(),handleCodeInApp:!0};(r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&lt(a,r.emailLinkSignIn()),r=a.url;var u=Nr();u instanceof os||(u=zm(u)),r instanceof os||(r=zm(r));var d=u;u=new os(d);var m=!!r.j;m?Hm(u,r.j):m=!!r.A,m?u.A=r.A:m=!!r.h,m?u.h=r.h:m=r.C!=null;var g=r.g;if(m)Gm(u,r.C);else if(m=!!r.g){if(g.charAt(0)!="/"&&(d.h&&!d.g?g="/"+g:(d=u.g.lastIndexOf("/"),d!=-1&&(g=u.g.substr(0,d+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var b=[],S=0;S<g.length;){var L=g[S++];L=="."?d&&S==g.length&&b.push(""):L==".."?((1<b.length||b.length==1&&b[0]!="")&&b.pop(),d&&S==g.length&&b.push("")):(b.push(L),d=!0)}g=b.join("/")}}return m?u.g=g:m=r.a.toString()!=="",m?Wm(u,Rw(r.a)):m=!!r.s,m&&(u.s=r.s),a.url=u.toString(),a}return null}function Gg(r){var a=!!r.a.get("immediateFederatedRedirect"),u=Ra(r);return r=R1(r),a&&u.length==1&&!$(w1,u[0])&&r==Oh}function R1(r){r=r.a.get("signInFlow");for(var a in Jg)if(Jg[a]==r)return Jg[a];return Oh}function Wg(r){return Iu(r).signInSuccess||null}function P1(r){return Iu(r).signInSuccessWithAuthResult||null}function k1(r){return Iu(r).signInFailure||null}function Iu(r){return r.a.get("callbacks")||{}}var zg="googleyolo",xh="none",Kg={nc:zg,NONE:xh},Oh="redirect",Jg={qc:"popup",rc:Oh},Yg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},zO=["anonymous"],KO=["sitekey","tabindex","callback","expired-callback"],Tu,ka,Qg,x1,dt={};function _e(r,a,u,d){dt[r].apply(null,Array.prototype.slice.call(arguments,1))}function O1(r){return r.classList?r.classList:(r=r.className,w(r)&&r.match(/\S+/g)||[])}function Au(r,a){return r.classList?r.classList.contains(a):$(O1(r),a)}function ar(r,a){r.classList?r.classList.add(a):Au(r,a)||(r.className+=0<r.className.length?" "+a:a)}function lr(r,a){r.classList?r.classList.remove(a):Au(r,a)&&(r.className=mi(O1(r),function(u){return u!=a}).join(" "))}function wn(r){var a=r.type;switch(w(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,d=0;u=r.options[d];d++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function N1(r,a){var u=r.type;switch(w(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,w(a)){for(var d=0;u=r.options[d];d++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(w(a)&&(a=[a]),d=0;u=r.options[d];d++)if(u.selected=!1,a)for(var m,g=0;m=a[g];g++)u.value==m&&(u.selected=!0);break;default:r.value=a??""}}function JO(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(Su(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!$i;default:return 166>r.keyCode||183<r.keyCode}}function D1(r,a,u,d,m,g){if(Jn&&!lo("525"))return!0;if(us&&m)return Su(r);if(m&&!d)return!1;if(!$i){typeof a=="number"&&(a=Xg(a));var b=a==17||a==18||us&&a==91;if((!u||us)&&b||us&&a==16&&(d||g))return!1}if((Jn||ls)&&d&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Ft&&d&&a==r)return!1;switch(r){case 13:return $i?g||m?!1:!(u&&d):!0;case 27:return!(Jn||ls||$i)}return $i&&(d||m||g)?!1:Su(r)}function Su(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Jn||ls)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return $i;default:return!1}}function Xg(r){if($i)r=YO(r);else if(us&&Jn)switch(r){case 93:r=91}return r}function YO(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function xa(r){Zt.call(this),this.a=r,ji(r,"keydown",this.g,!1,this),ji(r,"click",this.h,!1,this)}se(xa,Zt),xa.prototype.g=function(r){(r.keyCode==13||Jn&&r.keyCode==3)&&L1(this,r)},xa.prototype.h=function(r){L1(this,r)};function L1(r,a){var u=new V1(a);if(ms(r,u)){u=new M1(a);try{ms(r,u)}finally{a.stopPropagation()}}}xa.prototype.o=function(){xa.K.o.call(this),po(this.a,"keydown",this.g,!1,this),po(this.a,"click",this.h,!1,this),delete this.a};function M1(r){Qn.call(this,r.a),this.type="action"}se(M1,Qn);function V1(r){Qn.call(this,r.a),this.type="beforeaction"}se(V1,Qn);function Oa(r){Zt.call(this),this.a=r,r=Ft?"focusout":"blur",this.g=ji(this.a,Ft?"focusin":"focus",this,!Ft),this.h=ji(this.a,r,this,!Ft)}se(Oa,Zt),Oa.prototype.handleEvent=function(r){var a=new Qn(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",ms(this,a)},Oa.prototype.o=function(){Oa.K.o.call(this),ps(this.g),ps(this.h),delete this.a};function Nh(r,a){Zt.call(this),this.g=r||1,this.a=a||v,this.h=de(this.gc,this),this.j=st()}se(Nh,Zt),t=Nh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=st()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),ms(this,"tick"),this.Ka&&(Dh(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=st())};function Dh(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){Nh.K.o.call(this),Dh(this),delete this.a};function QO(r,a){if(B(r))a&&(r=de(r,a));else if(r&&typeof r.handleEvent=="function")r=de(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function Na(r){fo.call(this),this.g=r,this.a={}}se(Na,fo);var F1=[];function Da(r,a,u,d){k(u)||(u&&(F1[0]=u.toString()),u=F1);for(var m=0;m<u.length;m++){var g=ji(a,u[m],d||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function U1(r){Le(r.a,function(a,u){this.a.hasOwnProperty(u)&&ps(a)},r),r.a={}}Na.prototype.o=function(){Na.K.o.call(this),U1(this)},Na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Cu(r){Zt.call(this),this.a=null,this.g=r,r=Ft||ls||Jn&&!lo("531")&&r.tagName=="TEXTAREA",this.h=new Na(this),Da(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}se(Cu,Zt),Cu.prototype.handleEvent=function(r){if(r.type=="input")Ft&&lo(10)&&r.keyCode==0&&r.j==0||(Zg(this),ms(this,$1(r)));else if(r.type!="keydown"||JO(r)){var a=r.type=="keydown"?this.g.value:null;Ft&&r.keyCode==229&&(a=null);var u=$1(r);Zg(this),this.a=QO(function(){this.a=null,this.g.value!=a&&ms(this,u)},this)}};function Zg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function $1(r){return r=new Qn(r.a),r.type="input",r}Cu.prototype.o=function(){Cu.K.o.call(this),this.h.m(),Zg(this),delete this.g};function Ru(r,a){Zt.call(this),r&&(this.Oa&&G1(this),this.qa=r,this.Na=ji(this.qa,"keypress",this,a),this.Ya=ji(this.qa,"keydown",this.Jb,a,this),this.Oa=ji(this.qa,"keyup",this.Kb,a,this))}se(Ru,Zt),t=Ru.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var j1={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},B1={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},q1=!Jn||lo("525"),H1=us&&$i;t=Ru.prototype,t.Jb=function(r){(Jn||ls)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||us&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),q1&&!D1(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=Xg(r.keyCode),H1&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Ft&&r.type=="keypress")var d=this.X,m=d!=13&&d!=27?a.keyCode:0;else(Jn||ls)&&r.type=="keypress"?(d=this.X,m=0<=a.charCode&&63232>a.charCode&&Su(d)?a.charCode:0):Dw&&!Jn?(d=this.X,m=Su(d)?a.keyCode:0):(r.type=="keypress"?(H1&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(d=a.keyCode,m=0):(d=this.X,m=a.charCode):(d=a.keyCode||this.X,m=a.charCode||0)):(d=a.keyCode||this.X,m=a.charCode||0),us&&m==63&&d==224&&(d=191));var g=d=Xg(d);d?63232<=d&&d in j1?g=j1[d]:d==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in B1&&(g=B1[a.keyIdentifier]),$i&&q1&&r.type=="keypress"&&!D1(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new W1(g,m,r,a),a.altKey=u,ms(this,a))},t.N=function(){return this.qa};function G1(r){r.Na&&(ps(r.Na),ps(r.Ya),ps(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){Ru.K.o.call(this),G1(this)};function W1(r,a,u,d){Qn.call(this,d),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}se(W1,Qn);function La(r,a,u,d){this.top=r,this.right=a,this.bottom=u,this.left=d}La.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},La.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},La.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},La.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Lh(r,a){var u=su(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function z1(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Ft&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function XO(r,a){a=a||Yd(document);var u=a||Yd(document),d=K1(r),m=K1(u);if(!Ft||9<=Number(iu)){b=Lh(u,"borderLeftWidth");var g=Lh(u,"borderRightWidth");S=Lh(u,"borderTopWidth"),L=Lh(u,"borderBottomWidth"),g=new La(parseFloat(S),parseFloat(g),parseFloat(L),parseFloat(b))}else{var b=Mh(u,"borderLeft");g=Mh(u,"borderRight");var S=Mh(u,"borderTop"),L=Mh(u,"borderBottom");g=new La(S,g,L,b)}u==Yd(document)?(b=d.a-u.scrollLeft,d=d.g-u.scrollTop,!Ft||10<=Number(iu)||(b+=g.left,d+=g.top)):(b=d.a-m.a-g.left,d=d.g-m.g-g.top),m=r.offsetWidth,g=r.offsetHeight,S=Jn&&!m&&!g,y(m)&&!S||!r.getBoundingClientRect?r=new Zm(m,g):(r=z1(r),r=new Zm(r.right-r.left,r.bottom-r.top)),m=u.clientHeight-r.height,g=u.scrollLeft,S=u.scrollTop,g+=Math.min(b,Math.max(b-(u.clientWidth-r.width),0)),S+=Math.min(d,Math.max(d-m,0)),u=new hs(g,S),a.scrollLeft=u.a,a.scrollTop=u.g}function K1(r){var a=su(r),u=new hs(0,0),d=a?su(a):document;return d=!Ft||9<=Number(iu)||Jd(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,r==d||(r=z1(r),d=Jd(a).a,a=Yd(d),d=d.parentWindow||d.defaultView,a=Ft&&lo("10")&&d.pageYOffset!=a.scrollTop?new hs(a.scrollLeft,a.scrollTop):new hs(d.pageXOffset||a.scrollLeft,d.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var J1={thin:2,medium:4,thick:6};function Mh(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in J1)r=J1[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var d=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=d,r=+u}return r}function ev(){}A(ev),ev.prototype.a=0;function bo(r){Zt.call(this),this.s=r||Jd(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}se(bo,Zt),t=bo.prototype,t.Lb=ev.Xa(),t.N=function(){return this.g};function et(r,a){return r.g?tg(a,r.g||r.s.a):null}function Pu(r){return r.L||(r.L=new Na(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");bo.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,tv(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){tv(this,function(r){r.na&&r.ya()}),this.L&&U1(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),tv(this,function(r){r.m()}),this.g&&co(this.g),this.Y=this.g=this.oa=this.Ea=null,bo.K.o.call(this)};function tv(r,a){r.Ea&&at(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=w(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var d=this.oa;if(u in d&&delete d[u],pe(this.Ea,r),a&&(r.ya(),r.g&&co(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,bo.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function jt(r,a){var u=Kw(r,"firebaseui-textfield");a?(lr(r,"firebaseui-input-invalid"),ar(r,"firebaseui-input"),u&&lr(u,"firebaseui-textfield-invalid")):(lr(r,"firebaseui-input"),ar(r,"firebaseui-input-invalid"),u&&ar(u,"firebaseui-textfield-invalid"))}function Ma(r,a,u){a=new Cu(a),lu(r,ie(uu,a)),Da(Pu(r),a,"input",u)}function ku(r,a,u){a=new Ru(a),lu(r,ie(uu,a)),Da(Pu(r),a,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function ZO(r,a,u){a=new Oa(a),lu(r,ie(uu,a)),Da(Pu(r),a,"focusin",u)}function eN(r,a,u){a=new Oa(a),lu(r,ie(uu,a)),Da(Pu(r),a,"focusout",u)}function Dt(r,a,u){a=new xa(a),lu(r,ie(uu,a)),Da(Pu(r),a,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function wi(r){ar(r,"firebaseui-hidden")}function bn(r,a){a&&ng(r,a),lr(r,"firebaseui-hidden")}function Va(r){return!Au(r,"firebaseui-hidden")&&r.style.display!="none"}function Fa(r){r=r||{};var a=r.email,u=r.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=r.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Yn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ge(d)}function li(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+De(r):a+"Next",ge(a+"</button>")}function nv(){var r=""+li({label:Ut("Sign In")});return ge(r)}function Y1(){var r=""+li({label:Ut("Save")});return ge(r)}function Bi(){var r=""+li({label:Ut("Continue")});return ge(r)}function Q1(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+De(r):a+"Choose password",ge(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function X1(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",ge(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Z1(){return ge('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function bi(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+De(r):a+"Cancel",ge(a+"</button>")}function Pn(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ge(a)}function Ua(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ge(a)}function eE(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+De(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ge(r)}eE.a="firebaseui.auth.soy2.element.infoBar";function tE(r){var a=r.content;return r=r.Ab,ge('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Yn(r):"")+'">'+De(a)+"</dialog>")}function nE(r){var a=r.message;return ge(tE({content:Qw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Yn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+De(a)+"</div>")}))}nE.a="firebaseui.auth.soy2.element.progressDialog";function iE(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,d=0;d<u;d++){var m=r[d];a+='<button type="button" data-listboxid="'+Yn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Yn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+De(m.label)+"</div></button>"}return a=""+tE({Ab:Ut("firebaseui-list-box-dialog"),content:Qw(a+"</div>")}),ge(a)}iE.a="firebaseui.auth.soy2.element.listBoxDialog";function Vh(r){return r=r||{},ge(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Vh.a="firebaseui.auth.soy2.element.busyIndicator";function ys(r,a){return r=r||{},r=r.ga,ut(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function iv(r){rE(r,"upgradeElement")}function rv(r){rE(r,"downgradeElements")}var tN=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function rE(r,a){r&&window.componentHandler&&window.componentHandler[a]&&tN.forEach(function(u){Au(r,u)&&window.componentHandler[a](r),at(eg(u,r),function(d){window.componentHandler[a](d)})})}function sE(r,a,u){if(Fh.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),iv(r),a&&Dt(this,r,function(g){var b=r.getBoundingClientRect();(g.clientX<b.left||b.left+b.width<g.clientX||g.clientY<b.top||b.top+b.height<g.clientY)&&Fh.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,b=d.getBoundingClientRect().height,S=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,L=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,ee=r.getBoundingClientRect().width,Ie=d.getBoundingClientRect().width;r.style.top=(S+(b-g)/2).toString()+"px",g=L+(Ie-ee)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-ee).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Fh(){var r=sv.call(this);r&&(rv(r),r.open&&r.close(),co(r),this.da&&window.removeEventListener("resize",this.da))}function sv(){return tg("firebaseui-id-dialog")}function oE(){co(aE.call(this))}function aE(){return et(this,"firebaseui-id-info-bar")}function lE(){return et(this,"firebaseui-id-dismiss-info-bar")}var nN={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function ov(r,a,u){xr.call(this,r,a);for(var d in u)this[d]=u[d]}se(ov,xr);function W(r,a,u,d,m){bo.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=V(nN),lt(this.Z,m||{})}se(W,bo),t=W.prototype,t.kb=function(){var r=ou(this.fb,this.eb,this.Z,this.s);iv(r),this.g=r},t.v=function(){if(W.K.v.call(this),cb(Ot(this),new ov("pageEnter",Ot(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;Dt(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;Dt(this,this.ab(),function(){a()})}},t.ya=function(){cb(Ot(this),new ov("pageExit",Ot(this),{pageId:this.Ga})),W.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,rv(this.N()),W.K.o.call(this)};function iN(r){r.Fa=!0;var a=Au(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=ou(Vh,{tb:a},null,r.s),r.N().appendChild(r.A),iv(r.A))},500)}t.I=function(r,a,u,d){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(rv(g.A),co(g.A),g.A=null)}var g=this;return g.Fa?null:(iN(g),r.apply(null,a).then(u,d).then(m,m))};function Ot(r){return r.N().parentElement||r.N().parentNode}function xu(r,a,u){ku(r,a,function(){u.focus()})}function $a(r,a,u){ku(r,a,function(){u()})}ue(W.prototype,{a:function(r){oE.call(this);var a=ou(eE,{message:r},null,this.s);this.N().appendChild(a),Dt(this,lE.call(this),function(){co(a)})},yc:oE,Ac:aE,zc:lE,$:function(r,a){r=ou(nE,{Ma:r,message:a},null,this.s),sE.call(this,r)},h:Fh,Cb:sv,Cc:function(){return et(this,"firebaseui-tos")},bb:function(){return et(this,"firebaseui-tos-link")},ab:function(){return et(this,"firebaseui-pp-link")},Dc:function(){return et(this,"firebaseui-tos-list")}});function uE(r,a,u){r=r||{},a=r.Va;var d=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Fa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?bi(null):"")+li(null)+'</div></div><div class="firebaseui-card-footer">'+(d?Ua(u):Pn(u))+"</div></form></div>",ge(r)}uE.a="firebaseui.auth.soy2.page.signIn";function cE(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Fa(r)+X1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Z1()+'</div><div class="firebaseui-form-actions">'+nv()+'</div></div><div class="firebaseui-card-footer">'+(a?Ua(u):Pn(u))+"</div></form></div>",ge(r)}cE.a="firebaseui.auth.soy2.page.passwordSignIn";function dE(r,a,u){r=r||{};var d=r.Tb;a=r.Ta;var m=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Fa(r);return d?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Yn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=ge(r)):r="",u=g+r+Q1(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?bi(null):"")+Y1()+'</div></div><div class="firebaseui-card-footer">'+(m?Ua(u):Pn(u))+"</div></form></div>",ge(u)}dE.a="firebaseui.auth.soy2.page.passwordSignUp";function hE(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Fa(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?bi(null):"")+li({label:Ut("Send")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(r)}hE.a="firebaseui.auth.soy2.page.passwordRecovery";function fE(r,a,u){a=r.G;var d="";return r="Follow the instructions sent to <strong>"+(De(r.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(d+='<div class="firebaseui-form-actions">'+li({label:Ut("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+Pn(u)+"</div></div>",ge(d)}fE.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function pE(r,a,u){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Vh(null)+"</div></div>")}pE.a="firebaseui.auth.soy2.page.callback";function mE(r,a,u){return ge('<div class="firebaseui-container firebaseui-id-page-spinner">'+Vh({tb:!0})+"</div>")}mE.a="firebaseui.auth.soy2.page.spinner";function gE(){return ge('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}gE.a="firebaseui.auth.soy2.page.blank";function vE(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(De(r.email)+"</strong>. Check your email to complete sign-in.");var d=ge('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+bi({label:Ut("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}vE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function yE(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ge('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+bi({label:Ut("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(r)}yE.a="firebaseui.auth.soy2.page.emailNotReceived";function _E(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Fa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+li(null)+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(r)}_E.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function wE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi({label:Ut("Dismiss")})+"</div></div></div>";return ge(r)}wE.a="firebaseui.auth.soy2.page.differentDeviceError";function bE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi({label:Ut("Dismiss")})+"</div></div></div>";return ge(r)}bE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function EE(r,a,u){return a="",r="Youve already used <strong>"+(De(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+X1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Z1()+'</div><div class="firebaseui-form-actions">'+nv()+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}EE.a="firebaseui.auth.soy2.page.passwordLinking";function IE(r,a,u){var d=r.email;return a="",r=""+ys(r,u),r=Ut(r),d="Youve already used <strong>"+(De(d)+("</strong>. You can connect your <strong>"+(De(r)+("</strong> account with <strong>"+(De(d)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(De(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+nv()+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}IE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function TE(r,a,u){a="";var d=""+ys(r,u);return d=Ut(d),r="You originally intended to connect <strong>"+(De(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(De(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Bi()+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}TE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function AE(r,a,u){var d=r.email;return a="",r=""+ys(r,u),r=Ut(r),d="Youve already used <strong>"+(De(d)+("</strong>. Sign in with "+(De(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+li({label:Ut("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}AE.a="firebaseui.auth.soy2.page.federatedLinking";function SE(r,a,u){r=r||{};var d=r.kc;a=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(De(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(De(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+bi({label:Ut("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(m)}SE.a="firebaseui.auth.soy2.page.unauthorizedUser";function CE(r,a,u){return a="",r="To continue sign in with <strong>"+(De(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+li({label:Ut("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}CE.a="firebaseui.auth.soy2.page.unsupportedProvider";function RE(r){var a="",u='<p class="firebaseui-text">for <strong>'+(De(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+Q1(Gx(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Y1()+"</div></div></form></div>",ge(a)}RE.a="firebaseui.auth.soy2.page.passwordReset";function PE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}PE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function kE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}kE.a="firebaseui.auth.soy2.page.passwordResetFailure";function xE(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(De(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></form></div>",ge(u)}xE.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function OE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}OE.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function NE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}NE.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function DE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}DE.a="firebaseui.auth.soy2.page.emailVerificationFailure";function LE(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(De(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(u)}LE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function ME(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}ME.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function VE(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(De(a)+(" "+(De(u)+"</strong> was removed as a second authentication step."))),d+=a;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></form></div>",ge(d)}VE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function FE(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ge(r)}FE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function UE(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+De(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=li({label:Ut("Retry")})),ge(r+"</div></div></div>")}UE.a="firebaseui.auth.soy2.page.recoverableError";function $E(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+De(r.errorMessage)+"</p></div></div>",ge(r)}$E.a="firebaseui.auth.soy2.page.unrecoverableError";function jE(r,a,u){var d=r.Qb;return a="",r="Continue with "+(De(r.jc)+"?"),d="You originally wanted to sign in with "+De(d),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+li({label:Ut("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ge(a)}jE.a="firebaseui.auth.soy2.page.emailMismatch";function BE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var m=0;m<a;m++){var g={ga:r[m]},b=u;g=g||{};var S=g.ga,L=g;L=L||{};var ee="";switch(L.ga.providerId){case"google.com":ee+="firebaseui-idp-google";break;case"github.com":ee+="firebaseui-idp-github";break;case"facebook.com":ee+="firebaseui-idp-facebook";break;case"twitter.com":ee+="firebaseui-idp-twitter";break;case"phone":ee+="firebaseui-idp-phone";break;case"anonymous":ee+="firebaseui-idp-anonymous";break;case"password":ee+="firebaseui-idp-password";break;default:ee+="firebaseui-idp-generic"}L='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Yn(ut(ee))+' firebaseui-id-idp-button" data-provider-id="'+Yn(S.providerId)+'" style="background-color:',ee=(ee=g)||{},ee=ee.ga,L=L+Yn(Xw(ut(ee.ta?ee.ta:b.wa[ee.providerId]?""+b.wa[ee.providerId]:ee.providerId.indexOf("saml.")==0?""+b.wa.saml:ee.providerId.indexOf("oidc.")==0?""+b.wa.oidc:""+b.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var Ie=g;ee=b,Ie=Ie||{},Ie=Ie.ga,ee=Hx(Ie.za?ho(Ie.za):ee.xa[Ie.providerId]?ho(ee.xa[Ie.providerId]):Ie.providerId.indexOf("saml.")==0?ho(ee.xa.saml):Ie.providerId.indexOf("oidc.")==0?ho(ee.xa.oidc):ho(ee.xa.password)),L=L+Yn(ho(ee))+'"></span>',S.providerId=="password"?(L+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',S.V?L+=De(S.V):S.S?(g="Sign in with "+De(ys(g,b)),L+=g):L+="Sign in with email",L+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',L=S.S?L+De(S.S):L+"Email",L+="</span>"):S.providerId=="phone"?(L+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',S.V?L+=De(S.V):S.S?(g="Sign in with "+De(ys(g,b)),L+=g):L+="Sign in with phone",L+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',L=S.S?L+De(S.S):L+"Phone",L+="</span>"):S.providerId=="anonymous"?(L+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',S.V?L+=De(S.V):S.S?(g="Sign in with "+De(ys(g,b)),L+=g):L+="Continue as guest",L+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',L=S.S?L+De(S.S):L+"Guest",L+="</span>"):(L+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',S.V?L+=De(S.V):(ee="Sign in with "+De(ys(g,b)),L+=ee),L+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(S.S?De(S.S):De(ys(g,b)))+"</span>"),S=ge(L+"</button>"),d+='<li class="firebaseui-list-item">'+S+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ua(u)+"</div></div>",ge(d)}BE.a="firebaseui.auth.soy2.page.providerSignIn";function qE(r,a,u){r=r||{};var d=r.Gb,m=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Yn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ge(r);var g;return d?g=ge('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?bi(null):"")+li({label:Ut("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ge(a+"</p>")):u=ge('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Pn(u),ge(g+u+"</div></form></div>")}qE.a="firebaseui.auth.soy2.page.phoneSignInStart";function HE(r,a,u){r=r||{},a=r.phoneNumber;var d="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(De(a)+"</a>"),De(a),a=d,d=ge('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+li({label:Ut("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form>",r=ge('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ge(a+(u+r+"</div>"))}HE.a="firebaseui.auth.soy2.page.phoneSignInFinish";function GE(){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}GE.a="firebaseui.auth.soy2.page.signOut";function WE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var m=0;m<a;m++){var g=r[m],b="",S=De(g.displayName),L=g.tenantId?g.tenantId:"top-level-project";L=Ut(L),b+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Yn(L)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Yn(g.tenantId)+'"':"")+'style="background-color:'+Yn(Xw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Yn(ho(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?b+=De(g.V):(g="Sign in to "+De(g.displayName),b+=g),b=ge(b+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+S+"</span></button>")),d+='<li class="firebaseui-list-item">'+b+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ua(u)+"</div></div>",ge(d)}WE.a="firebaseui.auth.soy2.page.selectTenant";function zE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Fa(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+li(null)+'</div></div><div class="firebaseui-card-footer">'+Ua(u)+"</div></form></div>",ge(r)}zE.a="firebaseui.auth.soy2.page.providerMatchByEmail";function mn(){return et(this,"firebaseui-id-submit")}function tn(){return et(this,"firebaseui-id-secondary-link")}function En(r,a){Dt(this,mn.call(this),function(d){r(d)});var u=tn.call(this);u&&a&&Dt(this,u,function(d){a(d)})}function Uh(){return et(this,"firebaseui-id-password")}function $h(){return et(this,"firebaseui-id-password-error")}function KE(){var r=Uh.call(this),a=$h.call(this);Ma(this,r,function(){Va(a)&&(jt(r,!0),wi(a))})}function JE(){var r=Uh.call(this),a=$h.call(this);return wn(r)?(jt(r,!0),wi(a),a=!0):(jt(r,!1),bn(a,ut("Enter your password").toString()),a=!1),a?wn(r):null}function ja(r,a,u,d,m,g){W.call(this,EE,{email:r},g,"passwordLinking",{F:d,D:m}),this.w=a,this.H=u}c(ja,W),ja.prototype.v=function(){this.P(),this.M(this.w,this.H),$a(this,this.i(),this.w),this.i().focus(),W.prototype.v.call(this)},ja.prototype.o=function(){this.w=null,W.prototype.o.call(this)},ja.prototype.j=function(){return wn(et(this,"firebaseui-id-email"))},ue(ja.prototype,{i:Uh,B:$h,P:KE,u:JE,ea:mn,ba:tn,M:En});var rN=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Dr(){return et(this,"firebaseui-id-email")}function _s(){return et(this,"firebaseui-id-email-error")}function Ba(r){var a=Dr.call(this),u=_s.call(this);Ma(this,a,function(){Va(u)&&(jt(a,!0),wi(u))}),r&&ku(this,a,function(){r()})}function qa(){return M(wn(Dr.call(this))||"")}function Ha(){var r=Dr.call(this),a=_s.call(this),u=wn(r)||"";return u?rN.test(u)?(jt(r,!0),wi(a),a=!0):(jt(r,!1),bn(a,ut("That email address isn't correct").toString()),a=!1):(jt(r,!1),bn(a,ut("Enter your email address to continue").toString()),a=!1),a?M(wn(r)):null}function Ou(r,a,u,d,m,g,b){W.call(this,cE,{email:u,ia:!!g},b,"passwordSignIn",{F:d,D:m}),this.w=r,this.H=a}c(Ou,W),Ou.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),xu(this,this.l(),this.i()),$a(this,this.i(),this.w),wn(this.l())?this.i().focus():this.l().focus(),W.prototype.v.call(this)},Ou.prototype.o=function(){this.H=this.w=null,W.prototype.o.call(this)},ue(Ou.prototype,{l:Dr,U:_s,P:Ba,M:qa,j:Ha,i:Uh,B:$h,ea:KE,u:JE,ua:mn,pa:tn,ba:En});function ft(r,a,u,d,m,g){W.call(this,r,a,d,m||"notice",g),this.i=u||null}se(ft,W),ft.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ft.K.v.call(this)},ft.prototype.o=function(){this.i=null,ft.K.o.call(this)},ue(ft.prototype,{l:mn,w:tn,u:En});function jh(r,a,u,d,m){ft.call(this,fE,{email:r,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:d})}se(jh,ft);function YE(r,a){ft.call(this,NE,{G:!!r},r,a,"emailVerificationSuccess")}se(YE,ft);function QE(r,a){ft.call(this,DE,{G:!!r},r,a,"emailVerificationFailure")}se(QE,ft);function XE(r,a,u){ft.call(this,LE,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}se(XE,ft);function ZE(r,a){ft.call(this,ME,{G:!!r},r,a,"verifyAndChangeEmailFailure")}se(ZE,ft);function eI(r,a){ft.call(this,FE,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}se(eI,ft);function tI(r){ft.call(this,GE,void 0,void 0,r,"signOut")}se(tI,ft);function nI(r,a){ft.call(this,PE,{G:!!r},r,a,"passwordResetSuccess")}se(nI,ft);function iI(r,a){ft.call(this,kE,{G:!!r},r,a,"passwordResetFailure")}se(iI,ft);function rI(r,a){ft.call(this,OE,{G:!!r},r,a,"emailChangeRevokeFailure")}se(rI,ft);function sI(r,a,u){ft.call(this,UE,{errorMessage:r,zb:!!a},a,u,"recoverableError")}se(sI,ft);function oI(r,a){ft.call(this,$E,{errorMessage:r},void 0,a,"unrecoverableError")}se(oI,ft);function Nu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function Lr(r,a,u,d){function m(b){if(!b.name||b.name!="cancel"){e:{var S=b.message;try{var L=((JSON.parse(S).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(L&&L.length){var ee=!0;break e}}catch{}ee=!1}if(ee)b=Ot(a),a.m(),Et(r,b,void 0,ut("Your sign-in session has expired. Please try again.").toString());else{if(ee=b&&b.message||"",b.code){if(b.code=="auth/email-already-in-use"||b.code=="auth/credential-already-in-use")return;ee=gt(b)}a.a(ee)}}}if(RI(r),d)return aI(r,u),$t();if(!u.credential)throw Error("No credential found!");if(!Ye(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=MN(r,u)}catch(b){return yi(b.code||b.message,b),a.a(b.code||b.message),$t()}return u=g.then(function(b){aI(r,b)},m).then(void 0,m),He(r,g),$t(u)}function aI(r,a){if(!a.user)throw Error("No user found");var u=P1(z(r));if(Wg(z(r))&&u&&vs("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=P1(z(r));var d=l1(Ne(r))||void 0;ai(_u,Ne(r));var m=!1;Rb()?((!u||u(a,d))&&(m=!0,ma(window.opener.location,Bh(r,d))),u||window.close()):(!u||u(a,d))&&(m=!0,ma(window.location,Bh(r,d))),m||r.reset()}else{u=a.user,a=a.credential,d=Wg(z(r)),m=l1(Ne(r))||void 0,ai(_u,Ne(r));var g=!1;Rb()?((!d||d(u,a,m))&&(g=!0,ma(window.opener.location,Bh(r,m))),d||window.close()):(!d||d(u,a,m))&&(g=!0,ma(window.location,Bh(r,m))),g||r.reset()}}function Bh(r,a){if(r=a||z(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function gt(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=ib();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=ib();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=og();break;case"auth/invalid-verification-code":u+=ut("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=ut(u).toString())return a;try{return JSON.parse(r.message),yi("Internal error: "+r.message,void 0),eb().toString()}catch{return r.message}}function sN(r,a,u){var d=Ca[a]&&Se.auth[Ca[a]]?new Se.auth[Ca[a]]:a.indexOf("saml.")==0?new Se.auth.SAMLAuthProvider(a):new Se.auth.OAuthProvider(a);if(!d)throw Error("Invalid Firebase Auth provider!");var m=T1(z(r),a);if(d.addScope)for(var g=0;g<m.length;g++)d.addScope(m[g]);return m=A1(z(r),a)||{},u&&(a==Se.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==Se.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=Eu(z(r),a))&&r.Ob,r&&(m[r]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function Du(r,a,u,d){function m(){NO(new Wb(r.h.tenantId||null),Ne(r)),He(r,a.I(de(r.dc,r),[L],function(){if((window.location&&window.location.protocol)==="file:")return He(r,II(r).then(function(ee){a.m(),ai(yo,Ne(r)),_e("callback",r,S,$t(ee))},g))},b))}function g(ee){if(ai(yo,Ne(r)),!ee.name||ee.name!="cancel")switch(ee=Nu(ee),ee.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(gt(ee));break;case"auth/admin-restricted-operation":a.m(),wo(z(r))?_e("handleUnauthorizedUser",r,S,null,u):_e("callback",r,S,ga(ee));break;default:a.m(),_e("callback",r,S,ga(ee))}}function b(ee){ai(yo,Ne(r)),ee.name&&ee.name=="cancel"||(yi("signInWithRedirect: "+ee.code,void 0),ee=gt(ee),a.Ga=="blank"&&Gg(z(r))?(a.m(),_e("providerSignIn",r,S,ee)):a.a(ee))}var S=Ot(a),L=sN(r,u,d);R1(z(r))==Oh?m():He(r,LN(r,L).then(function(ee){a.m(),_e("callback",r,S,$t(ee))},g))}function oN(r,a){He(r,a.I(de(r.$b,r),[],function(u){return a.m(),Lr(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(yi("ContinueAsGuest: "+u.code,void 0),u=gt(u),a.a(u))}))}function aN(r,a,u){function d(g){var b=!1;return g=a.I(de(r.ac,r),[g],function(S){var L=Ot(a);a.m(),_e("callback",r,L,$t(S)),b=!0},function(S){if((!S.name||S.name!="cancel")&&(!S||S.code!="auth/credential-already-in-use"))if(S&&S.code=="auth/email-already-in-use"&&S.email&&S.credential){var L=Ot(a);a.m(),_e("callback",r,L,ga(S))}else S&&S.code=="auth/admin-restricted-operation"&&wo(z(r))?(S=Ot(a),a.m(),_e("handleUnauthorizedUser",r,S,null,Se.auth.GoogleAuthProvider.PROVIDER_ID)):(S=gt(S),a.a(S))}),He(r,g),g.then(function(){return b},function(){return!1})}if(u&&u.credential&&u.clientId===E1(z(r))){if(T1(z(r),Se.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Du(r,a,Se.auth.GoogleAuthProvider.PROVIDER_ID,m),$t(!0)}return d(Se.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(ut("The selected credential for the authentication provider is not supported!").toString()),$t(!1)}function lN(r,a){var u=a.j(),d=a.u();if(u)if(d){var m=Se.auth.EmailAuthProvider.credential(u,d);He(r,a.I(de(r.bc,r),[u,d],function(g){return Lr(r,a,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":jt(a.l(),!1),bn(a.U(),gt(g));break;case"auth/too-many-requests":case"auth/wrong-password":jt(a.i(),!1),bn(a.B(),gt(g));break;default:yi("verifyPassword: "+g.message,void 0),a.a(gt(g))}}))}else a.i().focus();else a.l().focus()}function qh(r){return r=Ra(z(r)),r.length==1&&r[0]==Se.auth.EmailAuthProvider.PROVIDER_ID}function lI(r){return r=Ra(z(r)),r.length==1&&r[0]==Se.auth.PhoneAuthProvider.PROVIDER_ID}function Et(r,a,u,d){qh(r)?d?_e("signIn",r,a,u,d):lv(r,a,u):r&&lI(r)&&!d?_e("phoneSignInStart",r,a):r&&Gg(z(r))&&!d?_e("federatedRedirect",r,a,u):_e("providerSignIn",r,a,d,u)}function uI(r,a,u,d){var m=Ot(a);He(r,a.I(de(Ye(r).fetchSignInMethodsForEmail,Ye(r)),[u],function(g){a.m(),cI(r,m,g,u,d)},function(g){g=gt(g),a.a(g)}))}function cI(r,a,u,d,m,g){u.length||Pa(z(r))&&!Pa(z(r))?$(u,Se.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?_e("passwordSignIn",r,a,d,g):u.length==1&&u[0]===Se.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Pa(z(r))?_e("sendEmailLinkForSignIn",r,a,d,function(){_e("signIn",r,a)}):_e("unsupportedProvider",r,a,d):(u=_1(u,Ra(z(r))))?(u1(new Og(d),Ne(r)),_e("federatedSignIn",r,a,d,u,m)):_e("unsupportedProvider",r,a,d):I1(z(r))?_e("handleUnauthorizedUser",r,a,d,Se.auth.EmailAuthProvider.PROVIDER_ID):Pa(z(r))?_e("sendEmailLinkForSignIn",r,a,d,function(){_e("signIn",r,a)}):_e("passwordSignUp",r,a,d,void 0,void 0,g)}function av(r,a,u,d,m,g){var b=Ot(a);He(r,a.I(de(r.Ib,r),[u,g],function(){a.m(),_e("emailLinkSignInSent",r,b,u,d,g)},m))}function lv(r,a,u){u?_e("prefilledEmailSignIn",r,a,u):_e("signIn",r,a)}function Lu(){return Gd(Nr(),"oobCode")}function uv(){var r=Gd(Nr(),"continueUrl");return r?function(){ma(window.location,r)}:null}function Mu(r,a){W.call(this,bE,void 0,a,"anonymousUserMismatch"),this.i=r}c(Mu,W),Mu.prototype.v=function(){var r=this;Dt(this,this.l(),function(){r.i()}),this.l().focus(),W.prototype.v.call(this)},Mu.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(Mu.prototype,{l:tn}),dt.anonymousUserMismatch=function(r,a){var u=new Mu(function(){u.m(),Et(r,a)});u.render(a),ze(r,u)};function Hh(r){W.call(this,pE,void 0,r,"callback")}c(Hh,W),Hh.prototype.I=function(r,a,u,d){return r.apply(null,a).then(u,d)};function dI(r,a,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=sr(Ne(r)),g=m&&m.g;if(g&&!cN(u.user,g))uN(r,a,d);else{var b=m&&m.a;b?He(r,u.user.linkWithCredential(b).then(function(S){d={user:S.user,credential:b,operationType:S.operationType,additionalUserInfo:S.additionalUserInfo},hI(r,a,d)},function(S){Gh(r,a,S)})):hI(r,a,d)}}else u=Ot(a),a.m(),or(Ne(r)),Et(r,u)}function hI(r,a,u){or(Ne(r)),Lr(r,a,u)}function Gh(r,a,u){var d=Ot(a);or(Ne(r)),u=gt(u),a.m(),Et(r,d,void 0,u)}function fI(r,a,u,d){var m=Ot(a);He(r,Ye(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?$(g,Se.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?_e("passwordLinking",r,m,u):g.length==1&&g[0]===Se.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?_e("emailLinkSignInLinking",r,m,u):(g=_1(g,Ra(z(r))))?_e("federatedLinking",r,m,u,g,d):(or(Ne(r)),_e("unsupportedProvider",r,m,u)):(or(Ne(r)),_e("passwordRecovery",r,m,u,!1,tb().toString()))},function(g){Gh(r,a,g)}))}function uN(r,a,u){var d=Ot(a);He(r,ws(r).then(function(){a.m(),_e("emailMismatch",r,d,u)},function(m){m.name&&m.name=="cancel"||(m=gt(m.code),a.a(m))}))}function cN(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}dt.callback=function(r,a,u){var d=new Hh;d.render(a),ze(r,d),u=u||II(r),He(r,u.then(function(m){dI(r,d,m)},function(m){if((m=Nu(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)u1(new Og(m.email,m.credential),Ne(r)),fI(r,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=sr(Ne(r)),b=gt(m);g&&g.a?fI(r,d,g.g,b):g?uI(r,d,g.g,b):Gh(r,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&qh(r)?dI(r,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&wo(z(r))?(d.m(),or(Ne(r)),_e("handleUnauthorizedUser",r,a,null,null)):Gh(r,d,m))}))};function Vu(r,a){W.call(this,wE,void 0,a,"differentDeviceError"),this.i=r}c(Vu,W),Vu.prototype.v=function(){var r=this;Dt(this,this.l(),function(){r.i()}),this.l().focus(),W.prototype.v.call(this)},Vu.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(Vu.prototype,{l:tn}),dt.differentDeviceError=function(r,a){var u=new Vu(function(){u.m(),Et(r,a)});u.render(a),ze(r,u)};function Fu(r,a,u,d){W.call(this,xE,{email:r,G:!!u},d,"emailChangeRevoke"),this.l=a,this.i=u||null}c(Fu,W),Fu.prototype.v=function(){var r=this;Dt(this,et(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),W.prototype.v.call(this)},Fu.prototype.o=function(){this.l=this.i=null,W.prototype.o.call(this)},ue(Fu.prototype,{u:mn,B:tn,w:En});function Uu(){return et(this,"firebaseui-id-new-password")}function Wh(){return et(this,"firebaseui-id-password-toggle")}function dN(){this.Ra=!this.Ra;var r=Wh.call(this),a=Uu.call(this);this.Ra?(a.type="text",ar(r,"firebaseui-input-toggle-off"),lr(r,"firebaseui-input-toggle-on")):(a.type="password",ar(r,"firebaseui-input-toggle-on"),lr(r,"firebaseui-input-toggle-off")),a.focus()}function zh(){return et(this,"firebaseui-id-new-password-error")}function pI(){this.Ra=!1;var r=Uu.call(this);r.type="password";var a=zh.call(this);Ma(this,r,function(){Va(a)&&(jt(r,!0),wi(a))});var u=Wh.call(this);ar(u,"firebaseui-input-toggle-on"),lr(u,"firebaseui-input-toggle-off"),ZO(this,r,function(){ar(u,"firebaseui-input-toggle-focus"),lr(u,"firebaseui-input-toggle-blur")}),eN(this,r,function(){ar(u,"firebaseui-input-toggle-blur"),lr(u,"firebaseui-input-toggle-focus")}),Dt(this,u,de(dN,this))}function mI(){var r=Uu.call(this),a=zh.call(this);return wn(r)?(jt(r,!0),wi(a),a=!0):(jt(r,!1),bn(a,ut("Enter your password").toString()),a=!1),a?wn(r):null}function $u(r,a,u){W.call(this,RE,{email:r},u,"passwordReset"),this.l=a}c($u,W),$u.prototype.v=function(){this.H(),this.B(this.l),$a(this,this.i(),this.l),this.i().focus(),W.prototype.v.call(this)},$u.prototype.o=function(){this.l=null,W.prototype.o.call(this)},ue($u.prototype,{i:Uu,w:zh,M:Wh,H:pI,u:mI,U:mn,P:tn,B:En});function ju(r,a,u,d,m){W.call(this,VE,{factorId:r,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=d||null}c(ju,W),ju.prototype.v=function(){var r=this;Dt(this,et(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),W.prototype.v.call(this)},ju.prototype.o=function(){this.l=this.i=null,W.prototype.o.call(this)},ue(ju.prototype,{u:mn,B:tn,w:En});function hN(r,a,u,d,m){var g=u.u();g&&He(r,u.I(de(Ye(r).confirmPasswordReset,Ye(r)),[d,g],function(){u.m();var b=new nI(m);b.render(a),ze(r,b)},function(b){gI(r,a,u,b)}))}function gI(r,a,u,d){(d&&d.code)=="auth/weak-password"?(r=gt(d),jt(u.i(),!1),bn(u.w(),r),u.i().focus()):(u&&u.m(),u=new iI,u.render(a),ze(r,u))}function fN(r,a,u){var d=new Fu(u,function(){He(r,d.I(de(Ye(r).sendPasswordResetEmail,Ye(r)),[u],function(){d.m(),d=new jh(u,void 0,Wt(z(r)),zt(z(r))),d.render(a),ze(r,d)},function(){d.a(Zw().toString())}))});d.render(a),ze(r,d)}function pN(r,a,u,d){var m=new ju(d.factorId,function(){m.I(de(Ye(r).sendPasswordResetEmail,Ye(r)),[u],function(){m.m(),m=new jh(u,void 0,Wt(z(r)),zt(z(r))),m.render(a),ze(r,m)},function(){m.a(Zw().toString())})},d.phoneNumber);m.render(a),ze(r,m)}dt.passwordReset=function(r,a,u,d){He(r,Ye(r).verifyPasswordResetCode(u).then(function(m){var g=new $u(m,function(){hN(r,a,g,u,d)});g.render(a),ze(r,g)},function(){gI(r,a)}))},dt.emailChangeRevocation=function(r,a,u){var d=null;He(r,Ye(r).checkActionCode(u).then(function(m){return d=m.data.email,Ye(r).applyActionCode(u)}).then(function(){fN(r,a,d)},function(){var m=new rI;m.render(a),ze(r,m)}))},dt.emailVerification=function(r,a,u,d){He(r,Ye(r).applyActionCode(u).then(function(){var m=new YE(d);m.render(a),ze(r,m)},function(){var m=new QE;m.render(a),ze(r,m)}))},dt.revertSecondFactorAddition=function(r,a,u){var d=null,m=null;He(r,Ye(r).checkActionCode(u).then(function(g){return d=g.data.email,m=g.data.multiFactorInfo,Ye(r).applyActionCode(u)}).then(function(){pN(r,a,d,m)},function(){var g=new eI;g.render(a),ze(r,g)}))},dt.verifyAndChangeEmail=function(r,a,u,d){var m=null;He(r,Ye(r).checkActionCode(u).then(function(g){return m=g.data.email,Ye(r).applyActionCode(u)}).then(function(){var g=new XE(m,d);g.render(a),ze(r,g)},function(){var g=new ZE;g.render(a),ze(r,g)}))};function Kh(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Ft&&!lo("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function Bu(r,a,u,d,m,g){W.call(this,_E,{email:u},g,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=r,this.u=a}c(Bu,W),Bu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Kh(this.i(),(this.i().value||"").length),W.prototype.v.call(this)},Bu.prototype.o=function(){this.u=this.l=null,W.prototype.o.call(this)},ue(Bu.prototype,{i:Dr,M:_s,w:Ba,H:qa,j:Ha,U:mn,P:tn,B:En}),dt.emailLinkConfirmation=function(r,a,u,d,m,g){var b=new Bu(function(){var S=b.j();S?(b.m(),d(r,a,S,u)):b.i().focus()},function(){b.m(),Et(r,a,m||void 0)},m||void 0,Wt(z(r)),zt(z(r)));b.render(a),ze(r,b),g&&b.a(g)};function qu(r,a,u,d,m){W.call(this,TE,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=a}c(qu,W),qu.prototype.v=function(){this.u(this.i),this.l().focus(),W.prototype.v.call(this)},qu.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(qu.prototype,{l:mn,u:En}),dt.emailLinkNewDeviceLinking=function(r,a,u,d){var m=new ao(u);if(u=m.a.a.get(Xt.PROVIDER_ID)||null,kw(m,null),u){var g=new qu(Eu(z(r),u),function(){g.m(),d(r,a,m.toString())},Wt(z(r)),zt(z(r)));g.render(a),ze(r,g)}else Et(r,a)};function Jh(r){W.call(this,gE,void 0,r,"blank")}c(Jh,W);function cv(r,a,u,d,m){var g=new Jh,b=new ao(u),S=b.a.a.get(Xt.$a)||"",L=b.a.a.get(Xt.Sa)||"",ee=b.a.a.get(Xt.Qa)==="1",Ie=Pw(b),pt=b.a.a.get(Xt.PROVIDER_ID)||null;b=b.a.a.get(Xt.vb)||null,PI(r,b);var Gi=!Aa(Ta,Ne(r)),DI=d||DO(L,Ne(r)),nc=(d=LO(L,Ne(r)))&&d.a;pt&&nc&&nc.providerId!==pt&&(nc=null),g.render(a),ze(r,g),He(r,g.I(function(){var xi=$t(null);xi=Ie&&Gi||Gi&&ee?ga(Error("anonymous-user-not-found")):ON(r,u).then(function(bv){if(pt&&!nc)throw Error("pending-credential-not-found");return bv});var ic=null;return xi.then(function(bv){return ic=bv,m?null:Ye(r).checkActionCode(S)}).then(function(){return ic})},[],function(xi){DI?gN(r,g,DI,u,nc,xi):ee?(g.m(),_e("differentDeviceError",r,a)):(g.m(),_e("emailLinkConfirmation",r,a,u,vI))},function(xi){var ic=void 0;if(!xi||!xi.name||xi.name!="cancel")switch(g.m(),xi&&xi.message){case"anonymous-user-not-found":_e("differentDeviceError",r,a);break;case"anonymous-user-mismatch":_e("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":_e("emailLinkNewDeviceLinking",r,a,u,mN);break;default:xi&&(ic=gt(xi)),Et(r,a,void 0,ic)}}))}function vI(r,a,u,d){cv(r,a,d,u,!0)}function mN(r,a,u){cv(r,a,u)}function gN(r,a,u,d,m,g){var b=Ot(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ut("Signing in...").toString());var S=null;m=(g?NN(r,g,u,d,m):DN(r,u,d,m)).then(function(L){ai(wu,Ne(r)),ai(Ta,Ne(r)),a.h(),a.$("firebaseui-icon-done",ut("Signed in!").toString()),S=setTimeout(function(){a.h(),Lr(r,a,L,!0)},1e3),He(r,function(){a&&(a.h(),a.m()),clearTimeout(S)})},function(L){if(a.h(),a.m(),!L.name||L.name!="cancel"){L=Nu(L);var ee=gt(L);L.code=="auth/email-already-in-use"||L.code=="auth/credential-already-in-use"?(ai(wu,Ne(r)),ai(Ta,Ne(r))):L.code=="auth/invalid-email"?(ee=ut("The email provided does not match the current sign-in session.").toString(),_e("emailLinkConfirmation",r,b,d,vI,null,ee)):Et(r,b,u,ee)}}),He(r,m)}dt.emailLinkSignInCallback=cv;function Hu(r,a,u,d,m,g){W.call(this,IE,{email:r,ga:a},g,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}c(Hu,W),Hu.prototype.v=function(){this.u(this.i),this.l().focus(),W.prototype.v.call(this)},Hu.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(Hu.prototype,{l:mn,u:En});function vN(r,a,u,d){var m=Ot(a);av(r,a,u,function(){Et(r,m,u)},function(g){if(!g.name||g.name!="cancel"){var b=gt(g);g&&g.code=="auth/network-request-failed"?a.a(b):(a.m(),Et(r,m,u,b))}},d)}dt.emailLinkSignInLinking=function(r,a,u){var d=sr(Ne(r));if(or(Ne(r)),d){var m=d.a.providerId,g=new Hu(u,Eu(z(r),m),function(){vN(r,g,u,d)},Wt(z(r)),zt(z(r)));g.render(a),ze(r,g)}else Et(r,a)};function Gu(r,a,u,d,m,g){W.call(this,vE,{email:r},g,"emailLinkSignInSent",{F:d,D:m}),this.u=a,this.i=u}c(Gu,W),Gu.prototype.v=function(){var r=this;Dt(this,this.l(),function(){r.i()}),Dt(this,et(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),W.prototype.v.call(this)},Gu.prototype.o=function(){this.i=this.u=null,W.prototype.o.call(this)},ue(Gu.prototype,{l:tn}),dt.emailLinkSignInSent=function(r,a,u,d,m){var g=new Gu(u,function(){g.m(),_e("emailNotReceived",r,a,u,d,m)},function(){g.m(),d()},Wt(z(r)),zt(z(r)));g.render(a),ze(r,g)};function Wu(r,a,u,d,m,g,b){W.call(this,jE,{jc:r,Qb:a},b,"emailMismatch",{F:m,D:g}),this.l=u,this.i=d}c(Wu,W),Wu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),W.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(Wu.prototype,{u:mn,B:tn,w:En}),dt.emailMismatch=function(r,a,u){var d=sr(Ne(r));if(d){var m=new Wu(u.user.email,d.g,function(){var g=m;or(Ne(r)),Lr(r,g,u)},function(){var g=u.credential.providerId,b=Ot(m);m.m(),d.a?_e("federatedLinking",r,b,d.g,g):_e("federatedSignIn",r,b,d.g,g)},Wt(z(r)),zt(z(r)));m.render(a),ze(r,m)}else Et(r,a)};function Ga(r,a,u,d,m){W.call(this,yE,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=r,this.i=a}c(Ga,W),Ga.prototype.v=function(){var r=this;Dt(this,this.u(),function(){r.i()}),Dt(this,this.Da(),function(){r.l()}),this.u().focus(),W.prototype.v.call(this)},Ga.prototype.Da=function(){return et(this,"firebaseui-id-resend-email-link")},Ga.prototype.o=function(){this.i=this.l=null,W.prototype.o.call(this)},ue(Ga.prototype,{u:tn}),dt.emailNotReceived=function(r,a,u,d,m){var g=new Ga(function(){av(r,g,u,d,function(b){b=gt(b),g.a(b)},m)},function(){g.m(),Et(r,a,u)},Wt(z(r)),zt(z(r)));g.render(a),ze(r,g)};function Wa(r,a,u,d,m,g){W.call(this,AE,{email:r,ga:a},g,"federatedLinking",{F:d,D:m}),this.i=u}c(Wa,W),Wa.prototype.v=function(){this.u(this.i),this.l().focus(),W.prototype.v.call(this)},Wa.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(Wa.prototype,{l:mn,u:En}),dt.federatedLinking=function(r,a,u,d,m){var g=sr(Ne(r));if(g&&g.a){var b=new Wa(u,Eu(z(r),d),function(){Du(r,b,d,u)},Wt(z(r)),zt(z(r)));b.render(a),ze(r,b),m&&b.a(m)}else Et(r,a)},dt.federatedRedirect=function(r,a,u){var d=new Jh;d.render(a),ze(r,d),a=Ra(z(r))[0],Du(r,d,a,u)},dt.federatedSignIn=function(r,a,u,d,m){var g=new Wa(u,Eu(z(r),d),function(){Du(r,g,d,u)},Wt(z(r)),zt(z(r)));g.render(a),ze(r,g),m&&g.a(m)};function yN(r,a,u,d){var m=a.u();m?He(r,a.I(de(r.Xb,r),[u,m],function(g){return g=g.user.linkWithCredential(d).then(function(b){return Lr(r,a,{user:b.user,credential:d,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo})}),He(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":jt(a.i(),!1),bn(a.B(),gt(g));break;case"auth/too-many-requests":a.a(gt(g));break;default:yi("signInWithEmailAndPassword: "+g.message,void 0),a.a(gt(g))}})):a.i().focus()}dt.passwordLinking=function(r,a,u){var d=sr(Ne(r));or(Ne(r));var m=d&&d.a;if(m){var g=new ja(u,function(){yN(r,g,u,m)},function(){g.m(),_e("passwordRecovery",r,a,u)},Wt(z(r)),zt(z(r)));g.render(a),ze(r,g)}else Et(r,a)};function zu(r,a,u,d,m,g){W.call(this,hE,{email:u,Ta:!!a},g,"passwordRecovery",{F:d,D:m}),this.l=r,this.u=a}c(zu,W),zu.prototype.v=function(){this.B(),this.H(this.l,this.u),wn(this.i())||this.i().focus(),$a(this,this.i(),this.l),W.prototype.v.call(this)},zu.prototype.o=function(){this.u=this.l=null,W.prototype.o.call(this)},ue(zu.prototype,{i:Dr,w:_s,B:Ba,M:qa,j:Ha,U:mn,P:tn,H:En});function _N(r,a){var u=a.j();if(u){var d=Ot(a);He(r,a.I(de(Ye(r).sendPasswordResetEmail,Ye(r)),[u],function(){a.m();var m=new jh(u,function(){m.m(),Et(r,d)},Wt(z(r)),zt(z(r)));m.render(d),ze(r,m)},function(m){jt(a.i(),!1),bn(a.w(),gt(m))}))}else a.i().focus()}dt.passwordRecovery=function(r,a,u,d,m){var g=new zu(function(){_N(r,g)},d?void 0:function(){g.m(),Et(r,a)},u,Wt(z(r)),zt(z(r)));g.render(a),ze(r,g),m&&g.a(m)},dt.passwordSignIn=function(r,a,u,d){var m=new Ou(function(){lN(r,m)},function(){var g=m.M();m.m(),_e("passwordRecovery",r,a,g)},u,Wt(z(r)),zt(z(r)),d);m.render(a),ze(r,m)};function dv(){return et(this,"firebaseui-id-name")}function hv(){return et(this,"firebaseui-id-name-error")}function Ku(r,a,u,d,m,g,b,S,L){W.call(this,dE,{email:d,Tb:r,name:m,Ta:!!u,ia:!!S},L,"passwordSignUp",{F:g,D:b}),this.w=a,this.H=u,this.B=r}c(Ku,W),Ku.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(xu(this,this.i(),this.u()),xu(this,this.u(),this.l())):xu(this,this.i(),this.l()),this.w&&$a(this,this.l(),this.w),wn(this.i())?this.B&&!wn(this.u())?this.u().focus():this.l().focus():this.i().focus(),W.prototype.v.call(this)},Ku.prototype.o=function(){this.H=this.w=null,W.prototype.o.call(this)},ue(Ku.prototype,{i:Dr,U:_s,ea:Ba,jb:qa,j:Ha,u:dv,Bc:hv,Ja:function(){var r=dv.call(this),a=hv.call(this);Ma(this,r,function(){Va(a)&&(jt(r,!0),wi(a))})},M:function(){var r=dv.call(this),a=hv.call(this),u=wn(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),jt(r,u),u?(wi(a),a=!0):(bn(a,ut("Enter your account name").toString()),a=!1),a?M(wn(r)):null},l:Uu,ba:zh,lb:Wh,ua:pI,P:mI,Nb:mn,Mb:tn,pa:En});function wN(r,a){var u=C1(z(r)),d=a.j(),m=null;u&&(m=a.M());var g=a.P();if(d){if(u)if(m)m=we(m);else{a.u().focus();return}if(g){var b=Se.auth.EmailAuthProvider.credential(d,g);He(r,a.I(de(r.Yb,r),[d,g],function(S){var L={user:S.user,credential:b,operationType:S.operationType,additionalUserInfo:S.additionalUserInfo};return u?(S=S.user.updateProfile({displayName:m}).then(function(){return Lr(r,a,L)}),He(r,S),S):Lr(r,a,L)},function(S){if(!S.name||S.name!="cancel"){var L=Nu(S);switch(S=gt(L),L.code){case"auth/email-already-in-use":return bN(r,a,d,L);case"auth/too-many-requests":S=ut("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":jt(a.l(),!1),bn(a.ba(),S);break;case"auth/admin-restricted-operation":wo(z(r))?(S=Ot(a),a.m(),_e("handleUnauthorizedUser",r,S,d,Se.auth.EmailAuthProvider.PROVIDER_ID)):a.a(S);break;default:L="setAccountInfo: "+i1(L),yi(L,void 0),a.a(S)}}}))}else a.l().focus()}else a.i().focus()}function bN(r,a,u,d){function m(){var b=gt(d);jt(a.i(),!1),bn(a.U(),b),a.i().focus()}var g=Ye(r).fetchSignInMethodsForEmail(u).then(function(b){b.length?m():(b=Ot(a),a.m(),_e("passwordRecovery",r,b,u,!1,tb().toString()))},function(){m()});return He(r,g),g}dt.passwordSignUp=function(r,a,u,d,m,g){function b(){S.m(),Et(r,a)}var S=new Ku(C1(z(r)),function(){wN(r,S)},m?void 0:b,u,d,Wt(z(r)),zt(z(r)),g);S.render(a),ze(r,S)};function fv(){return et(this,"firebaseui-id-phone-confirmation-code")}function yI(){return et(this,"firebaseui-id-phone-confirmation-code-error")}function _I(){return et(this,"firebaseui-id-resend-countdown")}function za(r,a,u,d,m,g,b,S,L){W.call(this,HE,{phoneNumber:m},L,"phoneSignInFinish",{F:b,D:S}),this.jb=g,this.i=new Nh(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=d}c(za,W),za.prototype.v=function(){var r=this;this.U(this.jb),ji(this.i,"tick",this.w,!1,this),this.i.start(),Dt(this,et(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),Dt(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),W.prototype.v.call(this)},za.prototype.o=function(){this.M=this.H=this.l=this.P=null,Dh(this.i),po(this.i,"tick",this.w),this.i=null,W.prototype.o.call(this)},za.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Dh(this.i),po(this.i,"tick",this.w),this.ua(),this.lb())},ue(za.prototype,{u:fv,pa:yI,Ja:function(r){var a=fv.call(this),u=yI.call(this);Ma(this,a,function(){Va(u)&&(jt(a,!0),wi(u))}),r&&ku(this,a,function(){r()})},ba:function(){var r=M(wn(fv.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:_I,U:function(r){ng(_I.call(this),ut("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){wi(this.Fb())},Da:function(){return et(this,"firebaseui-id-resend-link")},lb:function(){bn(this.Da())},Nb:mn,Mb:tn,ea:En});function EN(r,a,u,d){function m(b){a.u().focus(),jt(a.u(),!1),bn(a.pa(),b)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ut("Verifying...").toString()),He(r,a.I(de(d.confirm,d),[g],function(b){a.h(),a.$("firebaseui-icon-done",ut("Verified!").toString());var S=setTimeout(function(){a.h(),a.m();var L={user:qi(r).currentUser,credential:null,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo};Lr(r,a,L,!0)},1e3);He(r,function(){a&&a.h(),clearTimeout(S)})},function(b){if(b.name&&b.name=="cancel")a.h();else{var S=Nu(b);switch(b=gt(S),S.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":S=Ot(a),a.h(),a.m(),_e("phoneSignInStart",r,S,u,b);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(b);break;default:a.h(),a.a(b)}}}))):m(ut("Wrong code. Try again.").toString())}dt.phoneSignInFinish=function(r,a,u,d,m,g){var b=new za(function(){b.m(),_e("phoneSignInStart",r,a,u)},function(){EN(r,b,u,m)},function(){b.m(),Et(r,a)},function(){b.m(),_e("phoneSignInStart",r,a,u)},qg(u),d,Wt(z(r)),zt(z(r)));b.render(a),ze(r,b),g&&b.a(g)};var IN=!Ft&&!(Je("Safari")&&!(Nw()||Je("Coast")||Je("Opera")||Je("Edge")||Je("Firefox")||Je("FxiOS")||Je("Silk")||Je("Android")));function Yh(r,a){return/-[a-z]/.test(a)?null:IN&&r.dataset?!Je("Android")||Nw()||Je("Firefox")||Je("FxiOS")||Je("Opera")||Je("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function TN(r,a,u){var d=this;r=ou(iE,{items:r},null,this.s),sE.call(this,r,!0,!0),u&&(u=AN(r,u))&&(u.focus(),XO(u,r)),Dt(this,r,function(m){(m=(m=Kw(m.target,"firebaseui-id-list-box-dialog-button"))&&Yh(m,"listboxid"))&&(Fh.call(d),a(m))})}function AN(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(Yh(r[u],"listboxid")===a)return r[u];return null}function Eo(){return et(this,"firebaseui-id-phone-number")}function wI(){return et(this,"firebaseui-id-country-selector")}function pv(){return et(this,"firebaseui-id-phone-number-error")}function SN(r,a){var u=r.a,d=mv("1-US-0",u),m=null;if(a&&mv(a,u)?m=a:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");Qh.call(this,m,r)}function mv(r,a){return r=_o(r),!(!r||!$(a,r))}function CN(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+gv(a),label:a.name+" "+("+"+a.b)}})}function gv(r){return"firebaseui-flag-"+r.f}function RN(r){var a=this;TN.call(this,CN(r.a),function(u){Qh.call(a,u,r,!0),a.O().focus()},this.Ba)}function Qh(r,a,u){var d=_o(r);d&&(u&&(u=M(wn(Eo.call(this))||""),a=Rh(a,u),a.length&&a[0].b!=d.b&&(u="+"+d.b+u.substr(a[0].b.length+1),N1(Eo.call(this),u))),a=_o(this.Ba),this.Ba=r,r=et(this,"firebaseui-id-country-selector-flag"),a&&lr(r,gv(a)),ar(r,gv(d)),ng(et(this,"firebaseui-id-country-selector-code"),"+"+d.b))}function Ju(r,a,u,d,m,g,b,S,L,ee){W.call(this,qE,{Gb:a,Aa:L||null,Va:!!u,ia:!!g},ee,"phoneSignInStart",{F:d,D:m}),this.H=S||null,this.M=a,this.l=r,this.w=u||null,this.pa=b||null}c(Ju,W),Ju.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||xu(this,this.O(),this.i()),$a(this,this.i(),this.l),this.O().focus(),Kh(this.O(),(this.O().value||"").length),W.prototype.v.call(this)},Ju.prototype.o=function(){this.w=this.l=null,W.prototype.o.call(this)},ue(Ju.prototype,{Cb:sv,O:Eo,B:pv,ea:function(r,a,u){var d=this,m=Eo.call(this),g=wI.call(this),b=pv.call(this),S=r||bu,L=S.a;if(L.length==0)throw Error("No available countries provided.");SN.call(d,S,a),Dt(this,g,function(){RN.call(d,S)}),Ma(this,m,function(){Va(b)&&(jt(m,!0),wi(b));var ee=M(wn(m)||""),Ie=_o(this.Ba),pt=Rh(S,ee);ee=mv("1-US-0",L),pt.length&&pt[0].b!=Ie.b&&(Ie=pt[0],Qh.call(d,Ie.b=="1"&&ee?"1-US-0":Ie.c,S))}),u&&ku(this,m,function(){u()})},U:function(r){var a=M(wn(Eo.call(this))||"");r=r||bu;var u=r.a,d=Rh(bu,a);if(d.length&&!$(u,d[0]))throw N1(Eo.call(this)),Eo.call(this).focus(),bn(pv.call(this),ut("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=_o(this.Ba),d.length&&d[0].b!=u.b&&Qh.call(this,d[0].c,r),d.length&&(a=a.substr(d[0].b.length+1)),a?new v1(this.Ba,a):null},Ja:wI,ba:function(){return et(this,"firebaseui-recaptcha-container")},u:function(){return et(this,"firebaseui-id-recaptcha-error")},i:mn,ua:tn,P:En});function bI(r,a,u,d){try{var m=a.U(Qg)}catch{return}m?Tu?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ut("Verifying...").toString()),He(r,a.I(de(r.cc,r),[qg(m),u],function(g){var b=Ot(a);a.$("firebaseui-icon-done",ut("Code sent!").toString());var S=setTimeout(function(){a.h(),a.m(),_e("phoneSignInFinish",r,b,m,15,g)},1e3);He(r,function(){a&&a.h(),clearTimeout(S)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(x1),Tu=null;var b=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":b=ut("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),bn(a.B(),og().toString());return;case"auth/admin-restricted-operation":if(wo(z(r))){g=Ot(a),a.m(),_e("handleUnauthorizedUser",r,g,qg(m),Se.auth.PhoneAuthProvider.PROVIDER_ID);return}b=gt(g);break;default:b=gt(g)}a.a(b)}}))):ka?bn(a.u(),ut("Solve the reCAPTCHA").toString()):!ka&&d&&a.i().click():(a.O().focus(),bn(a.B(),og().toString()))}dt.phoneSignInStart=function(r,a,u,d){var m=FO(z(r))||{};Tu=null,ka=!(m&&m.size==="invisible");var g=lI(r),b=HO(z(r)),S=g?qO(z(r)):null;b=u&&u.a||b&&b.c||null,u=u&&u.Aa||S,(S=Hg(z(r)))&&g1(S),Qg=S?new f1(Hg(z(r))):bu;var L=new Ju(function(Ie){bI(r,L,ee,!(!Ie||!Ie.keyCode))},ka,g?null:function(){ee.clear(),L.m(),Et(r,a)},Wt(z(r)),zt(z(r)),g,Qg,b,u);L.render(a),ze(r,L),d&&L.a(d),m.callback=function(Ie){L.u()&&wi(L.u()),Tu=Ie,ka||bI(r,L,ee)},m["expired-callback"]=function(){Tu=null};var ee=new Se.auth.RecaptchaVerifier(ka?L.ba():L.i(),m,qi(r).app);He(r,L.I(de(ee.render,ee),[],function(Ie){x1=Ie},function(Ie){Ie.name&&Ie.name=="cancel"||(Ie=gt(Ie),L.m(),Et(r,a,void 0,Ie))}))},dt.prefilledEmailSignIn=function(r,a,u){var d=new Jh;d.render(a),ze(r,d),He(r,d.I(de(Ye(r).fetchSignInMethodsForEmail,Ye(r)),[u],function(m){d.m();var g=!(!qh(r)||!TI(r));cI(r,a,m,u,void 0,g)},function(m){m=gt(m),d.m(),_e("signIn",r,a,u,m)}))};function Yu(r,a,u,d,m){W.call(this,BE,{Sb:a},m,"providerSignIn",{F:u,D:d}),this.i=r}c(Yu,W),Yu.prototype.v=function(){this.l(this.i),W.prototype.v.call(this)},Yu.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(Yu.prototype,{l:function(r){function a(b){r(b)}for(var u=this.g?eg("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],g=Yh(m,"providerId");Dt(this,m,ie(a,g))}}}),dt.providerSignIn=function(r,a,u,d){var m=new Yu(function(g){g==Se.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),lv(r,a,d)):g==Se.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),_e("phoneSignInStart",r,a)):g=="anonymous"?oN(r,m):Du(r,m,g,d),tt(r),r.l.cancel()},b1(z(r)),Wt(z(r)),zt(z(r)));m.render(a),ze(r,m),u&&m.a(u),xN(r)},dt.sendEmailLinkForSignIn=function(r,a,u,d){var m=new Hh;m.render(a),ze(r,m),av(r,m,u,d,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&wo(z(r))?_e("handleUnauthorizedUser",r,a,u,Se.auth.EmailAuthProvider.PROVIDER_ID):(g=gt(g),_e("signIn",r,a,u,g))})};function Qu(r,a,u,d,m,g,b){W.call(this,uE,{email:u,Va:!!a,ia:!!g},b,"signIn",{F:d,D:m}),this.i=r,this.u=a}c(Qu,W),Qu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Kh(this.l(),(this.l().value||"").length),W.prototype.v.call(this)},Qu.prototype.o=function(){this.u=this.i=null,W.prototype.o.call(this)},ue(Qu.prototype,{l:Dr,M:_s,w:Ba,H:qa,j:Ha,U:mn,P:tn,B:En}),dt.signIn=function(r,a,u,d){var m=qh(r),g=new Qu(function(){var b=g,S=b.j()||"";S&&uI(r,b,S)},m?null:function(){g.m(),Et(r,a,u)},u,Wt(z(r)),zt(z(r)),m);g.render(a),ze(r,g),d&&g.a(d)};function Xu(r,a,u,d,m,g,b){W.call(this,SE,{kc:r,yb:u,Eb:!!d},b,"unauthorizedUser",{F:m,D:g}),this.l=a,this.i=d}c(Xu,W),Xu.prototype.v=function(){var r=this,a=et(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&Dt(this,a,function(){r.i()}),Dt(this,this.u(),function(){r.l()}),this.u().focus(),W.prototype.v.call(this)},Xu.prototype.o=function(){this.i=this.l=null,W.prototype.o.call(this)},ue(Xu.prototype,{u:tn}),dt.handleUnauthorizedUser=function(r,a,u,d){function m(){Et(r,a)}d===Se.auth.EmailAuthProvider.PROVIDER_ID?m=function(){lv(r,a)}:d===Se.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){_e("phoneSignInStart",r,a)});var g=null,b=null;d===Se.auth.EmailAuthProvider.PROVIDER_ID&&I1(z(r))?(g=jO(z(r)),b=BO(z(r))):wo(z(r))&&(g=UO(z(r)),b=$O(z(r)));var S=new Xu(u,function(){S.m(),m()},g,b,Wt(z(r)),zt(z(r)));S.render(a),ze(r,S)};function Zu(r,a,u,d,m,g){W.call(this,CE,{email:r},g,"unsupportedProvider",{F:d,D:m}),this.l=a,this.i=u}c(Zu,W),Zu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),W.prototype.v.call(this)},Zu.prototype.o=function(){this.i=this.l=null,W.prototype.o.call(this)},ue(Zu.prototype,{u:mn,B:tn,w:En}),dt.unsupportedProvider=function(r,a,u){var d=new Zu(u,function(){d.m(),_e("passwordRecovery",r,a,u)},function(){d.m(),Et(r,a,u)},Wt(z(r)),zt(z(r)));d.render(a),ze(r,d)};function ur(r,a){this.$=!1;var u=vv(a);if(ec[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');ec[u]=this,this.a=r,this.u=null,this.Y=!1,EI(this.a),this.h=Se.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),EI(this.h),this.h.setPersistence&&this.h.setPersistence(Se.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new VO,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Eg.Xa(),this.j=this.C=null,this.da=this.A=!1}function EI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var ec={};function vv(r){return r||"[DEFAULT]"}function II(r){return tt(r),r.i||(r.i=Mr(r,function(a){return a&&!sr(Ne(r))?$t(qi(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return bs(r,u)})):$t(Ye(r).getRedirectResult().then(function(u){return Ph(z(r))&&!u.user&&r.j&&!r.j.isAnonymous?qi(r).getRedirectResult():u}))})),r.i}function ze(r,a){tt(r),r.g=a}var Ka=null;function Ye(r){return tt(r),r.h}function qi(r){return tt(r),r.a}function Ne(r){return tt(r),r.oa}function TI(r){return tt(r),r.O?r.O.emailHint:void 0}t=ur.prototype,t.nb=function(){return tt(this),!!Fg(Ne(this))||AI(Nr())};function AI(r){return r=new ao(r),(r.a.a.get(Xt.ub)||null)==="signIn"&&!!r.a.a.get(Xt.$a)}t.start=function(r,a){SI(this,r,a)};function SI(r,a,u,d){tt(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=d||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?Xh(r,a):du(window,"load",function(){Xh(r,a)})}):g.readyState=="complete"?Xh(r,a):du(window,"load",function(){Xh(r,a)})}function Xh(r,a){var u=ah(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ka){var d=Ka;tt(d),sr(Ne(d))&&vs("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ka.reset()}if(Ka=r,r.T=u,kN(r,u),Ch(new Dg)&&Ch(new Lg)){a=ah(a,"Could not find the FirebaseUI widget element on the page."),u=Nr(),d=jg(z(r).a,"queryParameterForSignInSuccessUrl"),u=(u=Gd(u,d))?cs(zd(u)).toString():null;e:{d=Nr();var m=S1(z(r));d=Gd(d,m)||"";for(g in Yg)if(Yg[g].toLowerCase()==d.toLowerCase()){var g=Yg[g];break e}g="callback"}switch(g){case"callback":u&&(g=Ne(r),Sa(_u,u,g)),r.nb()?_e("callback",r,a):Et(r,a,TI(r));break;case"resetPassword":_e("passwordReset",r,a,Lu(),uv());break;case"recoverEmail":_e("emailChangeRevocation",r,a,Lu());break;case"revertSecondFactorAddition":_e("revertSecondFactorAddition",r,a,Lu());break;case"verifyEmail":_e("emailVerification",r,a,Lu(),uv());break;case"verifyAndChangeEmail":_e("verifyAndChangeEmail",r,a,Lu(),uv());break;case"signIn":_e("emailLinkSignInCallback",r,a,Nr()),kI();break;case"select":u&&(g=Ne(r),Sa(_u,u,g)),Et(r,a);break;default:throw Error("Unhandled widget operation.")}a=z(r),(a=Iu(a).uiShown||null)&&a()}else a=ah(a,"Could not find the FirebaseUI widget element on the page."),g=new oI(ut("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),ze(r,g);a=r.g&&r.g.Ga=="blank"&&Gg(z(r)),Fg(Ne(r))&&!a&&(a=Fg(Ne(r)),PI(r,a.a),ai(yo,Ne(r)))}function Mr(r,a){if(r.A)return a(CI(r));if(He(r,function(){r.A=!1}),Ph(z(r))){var u=new en(function(d){He(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,d(a(CI(r))))}))});return He(r,u),u}return r.A=!0,a(null)}function CI(r){return tt(r),Ph(z(r))&&r.j&&r.j.isAnonymous?r.j:null}function He(r,a){if(tt(r),a){r.s.push(a);var u=function(){it(r.s,function(d){return d==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){tt(this),this.Z=!0};function PN(r){tt(r);var a;return(a=r.Z)||(r=z(r),r=A1(r,Se.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function RI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function PI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){tt(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&cO(this.J),RI(this),this.O=null,kI(),ai(yo,Ne(this)),tt(this),this.l.cancel(),this.i=$t({user:null,credential:null}),Ka==this&&(Ka=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],or(Ne(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=ws(this).then(function(){r.C=null},function(){r.C=null}))};function kN(r,a){r.L=null,r.J=new sh(a),r.J.register(),ji(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var d=z(r);(d=Iu(d).uiChanged||null)&&d(r.L,u),r.L=u}})}t.ib=function(r){tt(this);var a=this.ca,u;for(u in r)try{$g(a.a,u,r[u])}catch{yi('Invalid config: "'+u+'"',void 0)}xx&&$g(a.a,"popupMode",!1),Hg(a),!this.da&&Wg(z(this))&&(vs("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function z(r){return tt(r),r.ca}t.Wb=function(){tt(this);var r=z(this),a=jg(r.a,"widgetUrl");r=S1(r);for(var u=a.search(Aw),d=0,m,g=[];0<=(m=Tw(a,d,r,u));)g.push(a.substring(d,m)),d=Math.min(a.indexOf("&",m)+1||u,u);g.push(a.substr(d)),a=g.join("").replace(wx,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),d=a.indexOf("?"),0>d||d>u?(d=u,m=""):m=a.substring(d+1,u),a=[a.substr(0,d),m,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,z(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=Cb(u,r))&&r.focus()):ma(window.location,u)};function tt(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return tt(this),this.h.app.delete().then(function(){var a=vv(Ne(r));delete ec[a],r.reset(),r.$=!0})};function xN(r){tt(r);try{Nb(r.l,E1(z(r)),PN(r)).then(function(a){return r.g?aN(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){tt(this);var u=this,d=vO();if(!Pa(z(this)))return ga(Error("Email link sign-in should be enabled to trigger email sending."));var m=WO(z(this)),g=new ao(m.url);return Cx(g,d),a&&a.a&&(MO(d,a,Ne(this)),kw(g,a.a.providerId)),Rx(g,GO(z(this))),Mr(this,function(b){return b&&((b=b.uid)?g.a.a.set(Xt.Pa,b):oo(g.a.a,Xt.Pa)),m.url=g.toString(),Ye(u).sendSignInLinkToEmail(r,m)}).then(function(){var b=Ne(u),S={};S.email=r,Sa(Ta,e1(d,JSON.stringify(S)),b)},function(b){throw ai(wu,Ne(u)),ai(Ta,Ne(u)),b})};function ON(r,a){var u=Pw(new ao(a));return u?(a=new en(function(d,m){var g=qi(r).onAuthStateChanged(function(b){g(),b&&b.isAnonymous&&b.uid===u?d(b):b&&b.isAnonymous&&b.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});He(r,g)}),He(r,a),a):$t(null)}function NN(r,a,u,d,m){tt(r);var g=m||null,b=Se.auth.EmailAuthProvider.credentialWithLink(u,d);return u=g?Ye(r).signInWithEmailLink(u,d).then(function(S){return S.user.linkWithCredential(g)}).then(function(){return ws(r)}).then(function(){return bs(r,{code:"auth/email-already-in-use"},g)}):Ye(r).fetchSignInMethodsForEmail(u).then(function(S){return S.length?bs(r,{code:"auth/email-already-in-use"},b):a.linkWithCredential(b)}),He(r,u),u}function DN(r,a,u,d){tt(r);var m=d||null,g;return a=Ye(r).signInWithEmailLink(a,u).then(function(b){if(g={user:b.user,credential:null,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo},m)return b.user.linkWithCredential(m).then(function(S){g={user:S.user,credential:m,operationType:g.operationType,additionalUserInfo:S.additionalUserInfo}})}).then(function(){ws(r)}).then(function(){return qi(r).updateCurrentUser(g.user)}).then(function(){return g.user=qi(r).currentUser,g}),He(r,a),a}function kI(){var r=Nr();if(AI(r)){r=new ao(r);for(var a in Xt)Xt.hasOwnProperty(a)&&oo(r.a.a,Xt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){tt(this);var u=this;return Ye(this).signInWithEmailAndPassword(r,a).then(function(d){return Mr(u,function(m){return m?ws(u).then(function(){return bs(u,{code:"auth/email-already-in-use"},Se.auth.EmailAuthProvider.credential(r,a))}):d})})},t.Yb=function(r,a){tt(this);var u=this;return Mr(this,function(d){if(d){var m=Se.auth.EmailAuthProvider.credential(r,a);return d.linkWithCredential(m)}return Ye(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){tt(this);var a=this;return Mr(this,function(u){return u?u.linkWithCredential(r).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return bs(a,d,r)}):Ye(a).signInWithCredential(r)})};function LN(r,a){return tt(r),Mr(r,function(u){return u&&!sr(Ne(r))?u.linkWithPopup(a).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return bs(r,d)}):Ye(r).signInWithPopup(a)})}t.dc=function(r){tt(this);var a=this,u=this.i;return this.i=null,Mr(this,function(d){return d&&!sr(Ne(a))?d.linkWithRedirect(r):Ye(a).signInWithRedirect(r)}).then(function(){},function(d){throw a.i=u,d})},t.cc=function(r,a){tt(this);var u=this;return Mr(this,function(d){return d?d.linkWithPhoneNumber(r,a).then(function(m){return new Tg(m,function(g){if(g.code=="auth/credential-already-in-use")return bs(u,g);throw g})}):qi(u).signInWithPhoneNumber(r,a).then(function(m){return new Tg(m)})})},t.$b=function(){return tt(this),qi(this).signInAnonymously()};function MN(r,a){return tt(r),Mr(r,function(u){if(r.j&&!r.j.isAnonymous&&Ph(z(r))&&!Ye(r).currentUser)return ws(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return ws(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(d){return a.user=d.user,a.credential=d.credential,a.operationType=d.operationType,a.additionalUserInfo=d.additionalUserInfo,a},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return bs(r,d,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return ws(r).then(function(){return qi(r).updateCurrentUser(a.user)}).then(function(){return a.user=qi(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return tt(this),Ye(this).signInWithEmailAndPassword(r,a)};function ws(r){return tt(r),Ye(r).signOut()}function bs(r,a,u){if(tt(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var d=k1(z(r));return $t().then(function(){return d(new au("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return ga(a)}function tc(r,a,u,d){W.call(this,zE,void 0,d,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(tc,W),tc.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Kh(this.l(),(this.l().value||"").length),W.prototype.v.call(this)},tc.prototype.o=function(){this.i=null,W.prototype.o.call(this)},ue(tc.prototype,{l:Dr,H:_s,u:Ba,B:qa,j:Ha,M:mn,w:En});function Zh(r,a,u,d,m){W.call(this,WE,{ec:a},m,"selectTenant",{F:u,D:d}),this.i=r}c(Zh,W),Zh.prototype.v=function(){VN(this,this.i),W.prototype.v.call(this)},Zh.prototype.o=function(){this.i=null,W.prototype.o.call(this)};function VN(r,a){function u(S){a(S)}for(var d=r.g?eg("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<d.length;m++){var g=d[m],b=Yh(g,"tenantId");Dt(r,g,ie(u,b))}}function yv(r){W.call(this,mE,void 0,r,"spinner")}c(yv,W);function FN(r){this.a=new Ug,Gt(this.a,"authDomain"),Gt(this.a,"displayMode",tf),Gt(this.a,"tenants"),Gt(this.a,"callbacks"),Gt(this.a,"tosUrl"),Gt(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{$g(this.a,a,r[a])}catch{yi('Invalid config: "'+a+'"',void 0)}}function UN(r){r=r.a.get("displayMode");for(var a in wv)if(wv[a]===r)return wv[a];return tf}function ef(r){return r.a.get("callbacks")||{}}function xI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&vs("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){ya(a)}}return null}function OI(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&vs("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){ya(u)}}return null}function _v(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(nf))throw Error("Invalid tenant configuration!")}function NI(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var d=[];if(r=r[a]||r[nf],!r)return yi("Invalid tenant configuration: "+(a+" is not configured!"),void 0),d;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),yi(m,void 0)}),d}function $N(r,a,u){return r=jN(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),r.signInOptions=a),r}function jN(r,a){var u=BN,d=d===void 0?{}:d;return _v(r,a),r=r.a.get("tenants"),yO(r[a]||r[nf],u,d)}var BN=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],tf="optionFirst",wv={pc:tf,oc:"identifierFirst"},nf="*";function Hi(r,a){var u=this;this.s=ah(r),this.a={},Object.keys(a).forEach(function(d){u.a[d]=new FN(a[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=Hi.prototype,t.Ub=function(r,a){var u=this;Es(this);var d=r.apiKey;return new en(function(m,g){if(u.a.hasOwnProperty(d)){var b=ef(u.a[d]).selectTenantUiHidden||null;if(UN(u.a[d])===tf){var S=[];a.forEach(function(Ie){Ie=Ie||"_";var pt=u.a[d].a.get("tenants");if(!pt)throw Error("Invalid tenant configuration!");(pt=pt[Ie]||pt[nf])?Ie={tenantId:Ie!=="_"?Ie:null,V:pt.fullLabel||null,displayName:pt.displayName,za:pt.iconUrl,ta:pt.buttonColor}:(yi("Invalid tenant configuration: "+(Ie+" is not configured!"),void 0),Ie=null),Ie&&S.push(Ie)});var L=function(Ie){Ie={tenantId:Ie,providerIds:NI(u.a[d],Ie||"_")},m(Ie)};if(S.length===1){L(S[0].tenantId);return}u.g=new Zh(function(Ie){Es(u),b&&b(),L(Ie)},S,xI(u.a[d]),OI(u.a[d]))}else u.g=new tc(function(){var Ie=u.g.j();if(Ie){for(var pt=0;pt<a.length;pt++){var Gi=NI(u.a[d],a[pt]||"_",Ie);if(Gi.length!==0){Ie={tenantId:a[pt],providerIds:Gi,email:Ie},Es(u),b&&b(),m(Ie);return}}u.g.a(nb({code:"no-matching-tenant-for-email"}).toString())}},xI(u.a[d]),OI(u.a[d]));u.g.render(u.s),(g=ef(u.a[d]).selectTenantUiShown||null)&&g()}else{var ee=Error("Invalid project configuration: API key is invalid!");ee.code="invalid-configuration",u.pb(ee),g(ee)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;_v(this.a[r],a||"_");try{this.i=Se.app(u).auth()}catch{var d=this.a[r].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");r=Se.initializeApp({apiKey:r,authDomain:d},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new en(function(d,m){function g(pt,Gi){u.j=new ur(r),SI(u.j,u.s,pt,Gi)}var b=r.app.options.apiKey;u.a.hasOwnProperty(b)||m(Error("Invalid project configuration: API key is invalid!"));var S=$N(u.a[b],r.tenantId||"_",a&&a.providerIds);Es(u),m={signInSuccessWithAuthResult:function(pt){return d(pt),!1}};var L=ef(u.a[b]).signInUiShown||null,ee=!1;m.uiChanged=function(pt,Gi){pt===null&&Gi==="callback"?((pt=tg("firebaseui-id-page-callback",u.s))&&wi(pt),u.h=new yv,u.h.render(u.s)):ee||pt===null&&Gi==="spinner"||Gi==="blank"||(u.h&&(u.h.m(),u.h=null),ee=!0,L&&L(r.tenantId))},S.callbacks=m,S.credentialHelper="none";var Ie;a&&a.email&&(Ie={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(S,Ie)}):g(S,Ie)})},t.reset=function(){var r=this;return $t().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,Es(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){Es(r),r.h=new yv,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Es(this),this.g=new tI,this.g.render(this.s),$t()};function Es(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=nb({code:r.code}).toString()||r.message;Es(this);var d;r.retry&&typeof r.retry=="function"&&(d=function(){a.reset(),r.retry()}),this.g=new sI(u,d),this.g.render(this.s)},t.Rb=function(r){var a=this;return $t().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(_v(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=ef(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},ke("firebaseui.auth.FirebaseUiHandler",Hi),ke("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Hi.prototype.Ub),ke("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Hi.prototype.Pb),ke("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Hi.prototype.Zb),ke("firebaseui.auth.FirebaseUiHandler.prototype.reset",Hi.prototype.reset),ke("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Hi.prototype.Vb),ke("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Hi.prototype.mb),ke("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Hi.prototype.Bb),ke("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Hi.prototype.pb),ke("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Hi.prototype.Rb),ke("firebaseui.auth.AuthUI",ur),ke("firebaseui.auth.AuthUI.getInstance",function(r){return r=vv(r),ec[r]?ec[r]:null}),ke("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ur.prototype.Db),ke("firebaseui.auth.AuthUI.prototype.start",ur.prototype.start),ke("firebaseui.auth.AuthUI.prototype.setConfig",ur.prototype.ib),ke("firebaseui.auth.AuthUI.prototype.signIn",ur.prototype.Wb),ke("firebaseui.auth.AuthUI.prototype.reset",ur.prototype.reset),ke("firebaseui.auth.AuthUI.prototype.delete",ur.prototype.Wa),ke("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ur.prototype.nb),ke("firebaseui.auth.AuthUIError",au),ke("firebaseui.auth.AuthUIError.prototype.toJSON",au.prototype.toJSON),ke("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",zg),ke("firebaseui.auth.CredentialHelper.NONE",xh),ke("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),en.prototype.catch=en.prototype.Ca,en.prototype.finally=en.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=y$);var _$=firebaseui.auth;const bm=Sp(s9),Ri=CU(bm);At(bm,"northamerica-northeast1");const PP=BC(bm),zK=new _$.AuthUI(PP),w$=_P(bm);yP(w$);const ca=t=>{console.error(`Error fetching documents with conditions: ${t}`)},b$=async t=>{try{return(await Zr(zs(Ri,t))).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return ca(e),[]}},KK=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=Cr(zs(Ri,t),jr(e,n,i));return(await Zr(s)).docs.map(c=>c.data())}catch(s){return ca(s),[]}},JK=async(t,e,n,i)=>{console.log("getPaginatedDocuments",t,e,n,i);try{if(i){const s=Cr(zs(Ri,t),Ks(...e),q0(i),xl(n)),o=await Zr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}else{const s=Cr(zs(Ri,t),Ks(...e),xl(n)),o=await Zr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}}catch(s){return ca(s),{lastVisible:{},docs:[]}}},YK=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=Cr(zs(Ri,t),jr(e,n,i),Ks(e),q0(l),xl(o)),h=await Zr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,p),{lastVisible:p,docs:f}}else{const c=Cr(hm(Ri,t),jr(e,n,i),Ks(...s),xl(o)),h=await Zr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,p),{lastVisible:p,docs:f}}}catch(c){return ca(c),{lastVisible:{},docs:[]}}},QK=async(t,e,n,i,s,o,l,c,h,f)=>{try{if(f){const p=Cr(zs(Ri,t),jr(e,n,i),jr(s,o,l),Ks(e),q0(f),xl(h)),v=await Zr(p),y=v.docs.map(T=>({id:T.id,...T.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}else{const p=Cr(hm(Ri,t),jr(e,n,i),jr(s,o,l),Ks(...c),xl(h)),v=await Zr(p),y=v.docs.map(T=>({id:T.id,...T.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}}catch(p){return ca(p),{lastVisible:{},docs:[]}}},Gy=async(t,e)=>{try{console.log("getDocument",t,e);const n=HR(Ri,t,e),i=await $U(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return ca(n),[]}},dp=async(t,e,n="id")=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const i=Cr(hm(Ri,t),jr(n,"==",e)),s=await Zr(i);if(s.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const o=s.docs[0];return console.log("queryForCollectionGroupDocumentById",o.data()),{id:o.id,...o.data()}}catch(i){return ca(i),null}},XK=t=>t instanceof ln,ZK=t=>t.toDate();function Q0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const St={},fl=[],Ji=()=>{},E$=()=>!1,I$=/^on[^a-z]/,Em=t=>I$.test(t),X0=t=>t.startsWith("onUpdate:"),vn=Object.assign,Z0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},T$=Object.prototype.hasOwnProperty,ct=(t,e)=>T$.call(t,e),Pe=Array.isArray,pl=t=>$d(t)==="[object Map]",Im=t=>$d(t)==="[object Set]",gA=t=>$d(t)==="[object Date]",Ge=t=>typeof t=="function",Kt=t=>typeof t=="string",Ol=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",kP=t=>(_t(t)||Ge(t))&&Ge(t.then)&&Ge(t.catch),xP=Object.prototype.toString,$d=t=>xP.call(t),A$=t=>$d(t).slice(8,-1),OP=t=>$d(t)==="[object Object]",ew=t=>Kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Df=Q0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},S$=/-(\w)/g,Nl=Tm(t=>t.replace(S$,(e,n)=>n?n.toUpperCase():"")),C$=/\B([A-Z])/g,Yl=Tm(t=>t.replace(C$,"-$1").toLowerCase()),NP=Tm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wv=Tm(t=>t?`on${NP(t)}`:""),na=(t,e)=>!Object.is(t,e),Lf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},hp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},fp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},R$=t=>{const e=Kt(t)?Number(t):NaN;return isNaN(e)?t:e};let vA;const Wy=()=>vA||(vA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tw(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Kt(i)?O$(i):tw(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(Kt(t)||_t(t))return t}const P$=/;(?![^(]*\))/g,k$=/:([^]+)/,x$=/\/\*[^]*?\*\//g;function O$(t){const e={};return t.replace(x$,"").split(P$).forEach(n=>{if(n){const i=n.split(k$);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Dn(t){let e="";if(Kt(t))e=t;else if(Pe(t))for(let n=0;n<t.length;n++){const i=Dn(t[n]);i&&(e+=i+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const N$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",D$=Q0(N$);function DP(t){return!!t||t===""}function L$(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Am(t[i],e[i]);return n}function Am(t,e){if(t===e)return!0;let n=gA(t),i=gA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Ol(t),i=Ol(e),n||i)return t===e;if(n=Pe(t),i=Pe(e),n||i)return n&&i?L$(t,e):!1;if(n=_t(t),i=_t(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!Am(t[l],e[l]))return!1}}return String(t)===String(e)}function M$(t,e){return t.findIndex(n=>Am(n,e))}const Rt=t=>Kt(t)?t:t==null?"":Pe(t)||_t(t)&&(t.toString===xP||!Ge(t.toString))?JSON.stringify(t,LP,2):String(t),LP=(t,e)=>e&&e.__v_isRef?LP(t,e.value):pl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Im(e)?{[`Set(${e.size})`]:[...e.values()]}:_t(e)&&!Pe(e)&&!OP(e)?String(e):e;let Ei;class MP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ei,!e&&Ei&&(this.index=(Ei.scopes||(Ei.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ei;try{return Ei=this,e()}finally{Ei=n}}}on(){Ei=this}off(){Ei=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function VP(t){return new MP(t)}function V$(t,e=Ei){e&&e.active&&e.effects.push(t)}function FP(){return Ei}function F$(t){Ei&&Ei.cleanups.push(t)}const nw=t=>{const e=new Set(t);return e.w=0,e.n=0,e},UP=t=>(t.w&Js)>0,$P=t=>(t.n&Js)>0,U$=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Js},$$=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];UP(s)&&!$P(s)?s.delete(t):e[n++]=s,s.w&=~Js,s.n&=~Js}e.length=n}},pp=new WeakMap;let Ic=0,Js=1;const zy=30;let Wi;const Wo=Symbol(""),Ky=Symbol("");class iw{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,V$(this,i)}run(){if(!this.active)return this.fn();let e=Wi,n=Us;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Wi,Wi=this,Us=!0,Js=1<<++Ic,Ic<=zy?U$(this):yA(this),this.fn()}finally{Ic<=zy&&$$(this),Js=1<<--Ic,Wi=this.parent,Us=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wi===this?this.deferStop=!0:this.active&&(yA(this),this.onStop&&this.onStop(),this.active=!1)}}function yA(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Us=!0;const jP=[];function Ql(){jP.push(Us),Us=!1}function Xl(){const t=jP.pop();Us=t===void 0?!0:t}function fi(t,e,n){if(Us&&Wi){let i=pp.get(t);i||pp.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=nw()),BP(s)}}function BP(t,e){let n=!1;Ic<=zy?$P(t)||(t.n|=Js,n=!UP(t)):n=!t.has(Wi),n&&(t.add(Wi),Wi.deps.push(t))}function Wr(t,e,n,i,s,o){const l=pp.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Pe(t)){const h=Number(i);l.forEach((f,p)=>{(p==="length"||!Ol(p)&&p>=h)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Pe(t)?ew(n)&&c.push(l.get("length")):(c.push(l.get(Wo)),pl(t)&&c.push(l.get(Ky)));break;case"delete":Pe(t)||(c.push(l.get(Wo)),pl(t)&&c.push(l.get(Ky)));break;case"set":pl(t)&&c.push(l.get(Wo));break}if(c.length===1)c[0]&&Jy(c[0]);else{const h=[];for(const f of c)f&&h.push(...f);Jy(nw(h))}}function Jy(t,e){const n=Pe(t)?t:[...t];for(const i of n)i.computed&&_A(i);for(const i of n)i.computed||_A(i)}function _A(t,e){(t!==Wi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function j$(t,e){var n;return(n=pp.get(t))==null?void 0:n.get(e)}const B$=Q0("__proto__,__v_isRef,__isVue"),qP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ol)),wA=q$();function q$(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ve(this);for(let o=0,l=this.length;o<l;o++)fi(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ve)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ql();const i=Ve(this)[e].apply(this,n);return Xl(),i}}),t}function H$(t){const e=Ve(this);return fi(e,"has",t),e.hasOwnProperty(t)}class HP{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?ij:KP:o?zP:WP).get(e))return e;const l=Pe(e);if(!s){if(l&&ct(wA,n))return Reflect.get(wA,n,i);if(n==="hasOwnProperty")return H$}const c=Reflect.get(e,n,i);return(Ol(n)?qP.has(n):B$(n))||(s||fi(e,"get",n),o)?c:Lt(c)?l&&ew(n)?c:c.value:_t(c)?s?YP(c):Hn(c):c}}class GP extends HP{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(Dl(o)&&Lt(o)&&!Lt(i))return!1;if(!this._shallow&&(!mp(i)&&!Dl(i)&&(o=Ve(o),i=Ve(i)),!Pe(e)&&Lt(o)&&!Lt(i)))return o.value=i,!0;const l=Pe(e)&&ew(n)?Number(n)<e.length:ct(e,n),c=Reflect.set(e,n,i,s);return e===Ve(s)&&(l?na(i,o)&&Wr(e,"set",n,i):Wr(e,"add",n,i)),c}deleteProperty(e,n){const i=ct(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Wr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Ol(n)||!qP.has(n))&&fi(e,"has",n),i}ownKeys(e){return fi(e,"iterate",Pe(e)?"length":Wo),Reflect.ownKeys(e)}}class G$ extends HP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const W$=new GP,z$=new G$,K$=new GP(!0),rw=t=>t,Sm=t=>Reflect.getPrototypeOf(t);function mf(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ve(t),o=Ve(e);n||(na(e,o)&&fi(s,"get",e),fi(s,"get",o));const{has:l}=Sm(s),c=i?rw:n?aw:ad;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function gf(t,e=!1){const n=this.__v_raw,i=Ve(n),s=Ve(t);return e||(na(t,s)&&fi(i,"has",t),fi(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function vf(t,e=!1){return t=t.__v_raw,!e&&fi(Ve(t),"iterate",Wo),Reflect.get(t,"size",t)}function bA(t){t=Ve(t);const e=Ve(this);return Sm(e).has.call(e,t)||(e.add(t),Wr(e,"add",t,t)),this}function EA(t,e){e=Ve(e);const n=Ve(this),{has:i,get:s}=Sm(n);let o=i.call(n,t);o||(t=Ve(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?na(e,l)&&Wr(n,"set",t,e):Wr(n,"add",t,e),this}function IA(t){const e=Ve(this),{has:n,get:i}=Sm(e);let s=n.call(e,t);s||(t=Ve(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Wr(e,"delete",t,void 0),o}function TA(){const t=Ve(this),e=t.size!==0,n=t.clear();return e&&Wr(t,"clear",void 0,void 0),n}function yf(t,e){return function(i,s){const o=this,l=o.__v_raw,c=Ve(l),h=e?rw:t?aw:ad;return!t&&fi(c,"iterate",Wo),l.forEach((f,p)=>i.call(s,h(f),h(p),o))}}function _f(t,e,n){return function(...i){const s=this.__v_raw,o=Ve(s),l=pl(o),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,f=s[t](...i),p=n?rw:e?aw:ad;return!e&&fi(o,"iterate",h?Ky:Wo),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:c?[p(v[0]),p(v[1])]:p(v),done:y}},[Symbol.iterator](){return this}}}}function Ts(t){return function(...e){return t==="delete"?!1:this}}function J$(){const t={get(o){return mf(this,o)},get size(){return vf(this)},has:gf,add:bA,set:EA,delete:IA,clear:TA,forEach:yf(!1,!1)},e={get(o){return mf(this,o,!1,!0)},get size(){return vf(this)},has:gf,add:bA,set:EA,delete:IA,clear:TA,forEach:yf(!1,!0)},n={get(o){return mf(this,o,!0)},get size(){return vf(this,!0)},has(o){return gf.call(this,o,!0)},add:Ts("add"),set:Ts("set"),delete:Ts("delete"),clear:Ts("clear"),forEach:yf(!0,!1)},i={get(o){return mf(this,o,!0,!0)},get size(){return vf(this,!0)},has(o){return gf.call(this,o,!0)},add:Ts("add"),set:Ts("set"),delete:Ts("delete"),clear:Ts("clear"),forEach:yf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=_f(o,!1,!1),n[o]=_f(o,!0,!1),e[o]=_f(o,!1,!0),i[o]=_f(o,!0,!0)}),[t,n,e,i]}const[Y$,Q$,X$,Z$]=J$();function sw(t,e){const n=e?t?Z$:X$:t?Q$:Y$;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(ct(n,s)&&s in i?n:i,s,o)}const ej={get:sw(!1,!1)},tj={get:sw(!1,!0)},nj={get:sw(!0,!1)},WP=new WeakMap,zP=new WeakMap,KP=new WeakMap,ij=new WeakMap;function rj(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sj(t){return t.__v_skip||!Object.isExtensible(t)?0:rj(A$(t))}function Hn(t){return Dl(t)?t:ow(t,!1,W$,ej,WP)}function JP(t){return ow(t,!1,K$,tj,zP)}function YP(t){return ow(t,!0,z$,nj,KP)}function ow(t,e,n,i,s){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=sj(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function zr(t){return Dl(t)?zr(t.__v_raw):!!(t&&t.__v_isReactive)}function Dl(t){return!!(t&&t.__v_isReadonly)}function mp(t){return!!(t&&t.__v_isShallow)}function QP(t){return zr(t)||Dl(t)}function Ve(t){const e=t&&t.__v_raw;return e?Ve(e):t}function Cm(t){return hp(t,"__v_skip",!0),t}const ad=t=>_t(t)?Hn(t):t,aw=t=>_t(t)?YP(t):t;function XP(t){Us&&Wi&&(t=Ve(t),BP(t.dep||(t.dep=nw())))}function ZP(t,e){t=Ve(t);const n=t.dep;n&&Jy(n)}function Lt(t){return!!(t&&t.__v_isRef===!0)}function J(t){return tk(t,!1)}function ek(t){return tk(t,!0)}function tk(t,e){return Lt(t)?t:new oj(t,e)}class oj{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ve(e),this._value=n?e:ad(e)}get value(){return XP(this),this._value}set value(e){const n=this.__v_isShallow||mp(e)||Dl(e);e=n?e:Ve(e),na(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ad(e),ZP(this))}}function N(t){return Lt(t)?t.value:t}const aj={get:(t,e,n)=>N(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Lt(s)&&!Lt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function nk(t){return zr(t)?t:new Proxy(t,aj)}function lj(t){const e=Pe(t)?new Array(t.length):{};for(const n in t)e[n]=ik(t,n);return e}class uj{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return j$(Ve(this._object),this._key)}}class cj{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function dj(t,e,n){return Lt(t)?t:Ge(t)?new cj(t):_t(t)&&arguments.length>1?ik(t,e,n):J(t)}function ik(t,e,n){const i=t[e];return Lt(i)?i:new uj(t,e,n)}class hj{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new iw(e,()=>{this._dirty||(this._dirty=!0,ZP(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ve(this);return XP(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function fj(t,e,n=!1){let i,s;const o=Ge(t);return o?(i=t,s=Ji):(i=t.get,s=t.set),new hj(i,s,o||!s,n)}function $s(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){Rm(o,e,n)}return s}function Mi(t,e,n,i){if(Ge(t)){const o=$s(t,e,n,i);return o&&kP(o)&&o.catch(l=>{Rm(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(Mi(t[o],e,n,i));return s}function Rm(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){$s(h,null,10,[t,l,c]);return}}pj(t,n,s,i)}function pj(t,e,n,i=!0){console.error(t)}let ld=!1,Yy=!1;const qn=[];let vr=0;const ml=[];let Fr=null,Po=0;const rk=Promise.resolve();let lw=null;function Yi(t){const e=lw||rk;return t?e.then(this?t.bind(this):t):e}function mj(t){let e=vr+1,n=qn.length;for(;e<n;){const i=e+n>>>1,s=qn[i],o=ud(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function uw(t){(!qn.length||!qn.includes(t,ld&&t.allowRecurse?vr+1:vr))&&(t.id==null?qn.push(t):qn.splice(mj(t.id),0,t),sk())}function sk(){!ld&&!Yy&&(Yy=!0,lw=rk.then(ak))}function gj(t){const e=qn.indexOf(t);e>vr&&qn.splice(e,1)}function vj(t){Pe(t)?ml.push(...t):(!Fr||!Fr.includes(t,t.allowRecurse?Po+1:Po))&&ml.push(t),sk()}function AA(t,e=ld?vr+1:0){for(;e<qn.length;e++){const n=qn[e];n&&n.pre&&(qn.splice(e,1),e--,n())}}function ok(t){if(ml.length){const e=[...new Set(ml)];if(ml.length=0,Fr){Fr.push(...e);return}for(Fr=e,Fr.sort((n,i)=>ud(n)-ud(i)),Po=0;Po<Fr.length;Po++)Fr[Po]();Fr=null,Po=0}}const ud=t=>t.id==null?1/0:t.id,yj=(t,e)=>{const n=ud(t)-ud(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function ak(t){Yy=!1,ld=!0,qn.sort(yj);const e=Ji;try{for(vr=0;vr<qn.length;vr++){const n=qn[vr];n&&n.active!==!1&&$s(n,null,14)}}finally{vr=0,qn.length=0,ok(),ld=!1,lw=null,(qn.length||ml.length)&&ak()}}function _j(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||St;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:y}=i[p]||St;y&&(s=n.map(w=>Kt(w)?w.trim():w)),v&&(s=n.map(fp))}let c,h=i[c=Wv(e)]||i[c=Wv(Nl(e))];!h&&o&&(h=i[c=Wv(Yl(e))]),h&&Mi(h,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Mi(f,t,6,s)}}function lk(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!Ge(t)){const h=f=>{const p=lk(f,e,!0);p&&(c=!0,vn(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!o&&!c?(_t(t)&&i.set(t,null),null):(Pe(o)?o.forEach(h=>l[h]=null):vn(l,o),_t(t)&&i.set(t,l),l)}function Pm(t,e){return!t||!Em(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(t,e[0].toLowerCase()+e.slice(1))||ct(t,Yl(e))||ct(t,e))}let Ln=null,uk=null;function gp(t){const e=Ln;return Ln=t,uk=t&&t.type.__scopeId||null,e}function Y(t,e=Ln,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&VA(-1);const o=gp(e);let l;try{l=t(...s)}finally{gp(o),i._d&&VA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function zv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:h,emit:f,render:p,renderCache:v,data:y,setupState:w,ctx:T,inheritAttrs:_}=t;let E,A;const P=gp(t);try{if(n.shapeFlag&4){const x=s||i;E=dr(p.call(x,x,v,o,w,y,T)),A=h}else{const x=e;E=dr(x.length>1?x(o,{attrs:h,slots:c,emit:f}):x(o,null)),A=e.props?h:wj(h)}}catch(x){Fc.length=0,Rm(x,t,1),E=q(Vi)}let k=E;if(A&&_!==!1){const x=Object.keys(A),{shapeFlag:B}=k;x.length&&B&7&&(l&&x.some(X0)&&(A=bj(A,l)),k=es(k,A))}return n.dirs&&(k=es(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),E=k,gp(P),E}const wj=t=>{let e;for(const n in t)(n==="class"||n==="style"||Em(n))&&((e||(e={}))[n]=t[n]);return e},bj=(t,e)=>{const n={};for(const i in t)(!X0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Ej(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:h}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?SA(i,l,f):!!l;if(h&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const y=p[v];if(l[y]!==i[y]&&!Pm(f,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?SA(i,l,f):!0:!!l;return!1}function SA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!Pm(n,o))return!0}return!1}function Ij({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Tj=t=>t.__isSuspense;function Aj(t,e){e&&e.pendingBranch?Pe(t)?e.effects.push(...t):e.effects.push(t):vj(t)}function Pi(t,e){return cw(t,null,e)}const wf={};function hi(t,e,n){return cw(t,e,n)}function cw(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=St){var c;const h=FP()===((c=Tn)==null?void 0:c.scope)?Tn:null;let f,p=!1,v=!1;if(Lt(t)?(f=()=>t.value,p=mp(t)):zr(t)?(f=()=>t,i=!0):Pe(t)?(v=!0,p=t.some(x=>zr(x)||mp(x)),f=()=>t.map(x=>{if(Lt(x))return x.value;if(zr(x))return Fo(x);if(Ge(x))return $s(x,h,2)})):Ge(t)?e?f=()=>$s(t,h,2):f=()=>{if(!(h&&h.isUnmounted))return y&&y(),Mi(t,h,3,[w])}:f=Ji,e&&i){const x=f;f=()=>Fo(x())}let y,w=x=>{y=P.onStop=()=>{$s(x,h,4)}},T;if(hd)if(w=Ji,e?n&&Mi(e,h,3,[f(),v?[]:void 0,w]):f(),s==="sync"){const x=IB();T=x.__watcherHandles||(x.__watcherHandles=[])}else return Ji;let _=v?new Array(t.length).fill(wf):wf;const E=()=>{if(P.active)if(e){const x=P.run();(i||p||(v?x.some((B,F)=>na(B,_[F])):na(x,_)))&&(y&&y(),Mi(e,h,3,[x,_===wf?void 0:v&&_[0]===wf?[]:_,w]),_=x)}else P.run()};E.allowRecurse=!!e;let A;s==="sync"?A=E:s==="post"?A=()=>ui(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),A=()=>uw(E));const P=new iw(f,A);e?n?E():_=P.run():s==="post"?ui(P.run.bind(P),h&&h.suspense):P.run();const k=()=>{P.stop(),h&&h.scope&&Z0(h.scope.effects,P)};return T&&T.push(k),k}function Sj(t,e,n){const i=this.proxy,s=Kt(t)?t.includes(".")?ck(i,t):()=>i[t]:t.bind(i,i);let o;Ge(e)?o=e:(o=e.handler,n=e);const l=Tn;Ll(this);const c=cw(s,o.bind(i),n);return l?Ll(l):zo(),c}function ck(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Fo(t,e){if(!_t(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Lt(t))Fo(t.value,e);else if(Pe(t))for(let n=0;n<t.length;n++)Fo(t[n],e);else if(Im(t)||pl(t))t.forEach(n=>{Fo(n,e)});else if(OP(t))for(const n in t)Fo(t[n],e);return t}function je(t,e){const n=Ln;if(n===null)return t;const i=Lm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,h,f=St]=e[o];l&&(Ge(l)&&(l={mounted:l,updated:l}),l.deep&&Fo(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:h,modifiers:f}))}return t}function Io(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let h=c.dir[i];h&&(Ql(),Mi(h,n,8,[t.el,c,t,e]),Xl())}}const Ps=Symbol("_leaveCb"),bf=Symbol("_enterCb");function Cj(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kt(()=>{t.isMounted=!0}),Om(()=>{t.isUnmounting=!0}),t}const Oi=[Function,Array],dk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Oi,onEnter:Oi,onAfterEnter:Oi,onEnterCancelled:Oi,onBeforeLeave:Oi,onLeave:Oi,onAfterLeave:Oi,onLeaveCancelled:Oi,onBeforeAppear:Oi,onAppear:Oi,onAfterAppear:Oi,onAppearCancelled:Oi},Rj={name:"BaseTransition",props:dk,setup(t,{slots:e}){const n=gB(),i=Cj();let s;return()=>{const o=e.default&&fk(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const _ of o)if(_.type!==Vi){l=_;break}}const c=Ve(t),{mode:h}=c;if(i.isLeaving)return Kv(l);const f=CA(l);if(!f)return Kv(l);const p=Qy(f,c,i,n);Xy(f,p);const v=n.subTree,y=v&&CA(v);let w=!1;const{getTransitionKey:T}=f.type;if(T){const _=T();s===void 0?s=_:_!==s&&(s=_,w=!0)}if(y&&y.type!==Vi&&(!ko(f,y)||w)){const _=Qy(y,c,i,n);if(Xy(y,_),h==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Kv(l);h==="in-out"&&f.type!==Vi&&(_.delayLeave=(E,A,P)=>{const k=hk(i,y);k[String(y.key)]=y,E[Ps]=()=>{A(),E[Ps]=void 0,delete p.delayedLeave},p.delayedLeave=P})}return l}}},Pj=Rj;function hk(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Qy(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:v,onLeave:y,onAfterLeave:w,onLeaveCancelled:T,onBeforeAppear:_,onAppear:E,onAfterAppear:A,onAppearCancelled:P}=e,k=String(t.key),x=hk(n,t),B=(U,te)=>{U&&Mi(U,i,9,te)},F=(U,te)=>{const ve=te[1];B(U,te),Pe(U)?U.every(de=>de.length<=1)&&ve():U.length<=1&&ve()},Z={mode:o,persisted:l,beforeEnter(U){let te=c;if(!n.isMounted)if(s)te=_||c;else return;U[Ps]&&U[Ps](!0);const ve=x[k];ve&&ko(t,ve)&&ve.el[Ps]&&ve.el[Ps](),B(te,[U])},enter(U){let te=h,ve=f,de=p;if(!n.isMounted)if(s)te=E||h,ve=A||f,de=P||p;else return;let ie=!1;const ue=U[bf]=st=>{ie||(ie=!0,st?B(de,[U]):B(ve,[U]),Z.delayedLeave&&Z.delayedLeave(),U[bf]=void 0)};te?F(te,[U,ue]):ue()},leave(U,te){const ve=String(t.key);if(U[bf]&&U[bf](!0),n.isUnmounting)return te();B(v,[U]);let de=!1;const ie=U[Ps]=ue=>{de||(de=!0,te(),ue?B(T,[U]):B(w,[U]),U[Ps]=void 0,x[ve]===t&&delete x[ve])};x[ve]=t,y?F(y,[U,ie]):ie()},clone(U){return Qy(U,e,n,i)}};return Z}function Kv(t){if(km(t))return t=es(t),t.children=null,t}function CA(t){return km(t)?t.children?t.children[0]:void 0:t}function Xy(t,e){t.shapeFlag&6&&t.component?Xy(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fk(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===nt?(l.patchFlag&128&&s++,i=i.concat(fk(l.children,e,c))):(e||l.type!==Vi)&&i.push(c!=null?es(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Oe(t,e){return Ge(t)?(()=>vn({name:t.name},e,{setup:t}))():t}const Lc=t=>!!t.type.__asyncLoader,km=t=>t.type.__isKeepAlive;function kj(t,e){pk(t,"a",e)}function xj(t,e){pk(t,"da",e)}function pk(t,e,n=Tn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(xm(e,i,n),n){let s=n.parent;for(;s&&s.parent;)km(s.parent.vnode)&&Oj(i,e,n,s),s=s.parent}}function Oj(t,e,n,i){const s=xm(e,t,i,!0);pi(()=>{Z0(i[e],s)},n)}function xm(t,e,n=Tn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;Ql(),Ll(n);const c=Mi(e,n,t,l);return zo(),Xl(),c});return i?s.unshift(o):s.push(o),o}}const rs=t=>(e,n=Tn)=>(!hd||t==="sp")&&xm(t,(...i)=>e(...i),n),Nj=rs("bm"),kt=rs("m"),Dj=rs("bu"),Lj=rs("u"),Om=rs("bum"),pi=rs("um"),Mj=rs("sp"),Vj=rs("rtg"),Fj=rs("rtc");function Uj(t,e=Tn){xm("ec",t,e)}const $j=Symbol.for("v-ndc");function Ui(t,e,n,i){let s;const o=n&&n[i];if(Pe(t)||Kt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(_t(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function mk(t,e,n={},i,s){if(Ln.isCE||Ln.parent&&Lc(Ln.parent)&&Ln.parent.isCE)return e!=="default"&&(n.name=e),q("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),j();const l=o&&gk(o(n)),c=Me(nt,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function gk(t){return t.some(e=>yp(e)?!(e.type===Vi||e.type===nt&&!gk(e.children)):!0)?t:null}const Zy=t=>t?Ck(t)?Lm(t)||t.proxy:Zy(t.parent):null,Mc=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zy(t.parent),$root:t=>Zy(t.root),$emit:t=>t.emit,$options:t=>dw(t),$forceUpdate:t=>t.f||(t.f=()=>uw(t.update)),$nextTick:t=>t.n||(t.n=Yi.bind(t.proxy)),$watch:t=>Sj.bind(t)}),Jv=(t,e)=>t!==St&&!t.__isScriptSetup&&ct(t,e),jj={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:h}=t;let f;if(e[0]!=="$"){const w=l[e];if(w!==void 0)switch(w){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Jv(i,e))return l[e]=1,i[e];if(s!==St&&ct(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&ct(f,e))return l[e]=3,o[e];if(n!==St&&ct(n,e))return l[e]=4,n[e];e_&&(l[e]=0)}}const p=Mc[e];let v,y;if(p)return e==="$attrs"&&fi(t,"get",e),p(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==St&&ct(n,e))return l[e]=4,n[e];if(y=h.config.globalProperties,ct(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return Jv(s,e)?(s[e]=n,!0):i!==St&&ct(i,e)?(i[e]=n,!0):ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==St&&ct(t,l)||Jv(e,l)||(c=o[0])&&ct(c,l)||ct(i,l)||ct(Mc,l)||ct(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ct(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function RA(t){return Pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let e_=!0;function Bj(t){const e=dw(t),n=t.proxy,i=t.ctx;e_=!1,e.beforeCreate&&PA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:h,inject:f,created:p,beforeMount:v,mounted:y,beforeUpdate:w,updated:T,activated:_,deactivated:E,beforeDestroy:A,beforeUnmount:P,destroyed:k,unmounted:x,render:B,renderTracked:F,renderTriggered:Z,errorCaptured:U,serverPrefetch:te,expose:ve,inheritAttrs:de,components:ie,directives:ue,filters:st}=e;if(f&&qj(f,i,null),l)for(const me in l){const Re=l[me];Ge(Re)&&(i[me]=Re.bind(n))}if(s){const me=s.call(n,n);_t(me)&&(t.data=Hn(me))}if(e_=!0,o)for(const me in o){const Re=o[me],wt=Ge(Re)?Re.bind(n,n):Ge(Re.get)?Re.get.bind(n,n):Ji,ot=!Ge(Re)&&Ge(Re.set)?Re.set.bind(n):Ji,Qt=Ee({get:wt,set:ot});Object.defineProperty(i,me,{enumerable:!0,configurable:!0,get:()=>Qt.value,set:at=>Qt.value=at})}if(c)for(const me in c)vk(c[me],i,n,me);if(h){const me=Ge(h)?h.call(n):h;Reflect.ownKeys(me).forEach(Re=>{si(Re,me[Re])})}p&&PA(p,t,"c");function se(me,Re){Pe(Re)?Re.forEach(wt=>me(wt.bind(n))):Re&&me(Re.bind(n))}if(se(Nj,v),se(kt,y),se(Dj,w),se(Lj,T),se(kj,_),se(xj,E),se(Uj,U),se(Fj,F),se(Vj,Z),se(Om,P),se(pi,x),se(Mj,te),Pe(ve))if(ve.length){const me=t.exposed||(t.exposed={});ve.forEach(Re=>{Object.defineProperty(me,Re,{get:()=>n[Re],set:wt=>n[Re]=wt})})}else t.exposed||(t.exposed={});B&&t.render===Ji&&(t.render=B),de!=null&&(t.inheritAttrs=de),ie&&(t.components=ie),ue&&(t.directives=ue)}function qj(t,e,n=Ji){Pe(t)&&(t=t_(t));for(const i in t){const s=t[i];let o;_t(s)?"default"in s?o=Nt(s.from||i,s.default,!0):o=Nt(s.from||i):o=Nt(s),Lt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function PA(t,e,n){Mi(Pe(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function vk(t,e,n,i){const s=i.includes(".")?ck(n,i):()=>n[i];if(Kt(t)){const o=e[t];Ge(o)&&hi(s,o)}else if(Ge(t))hi(s,t.bind(n));else if(_t(t))if(Pe(t))t.forEach(o=>vk(o,e,n,i));else{const o=Ge(t.handler)?t.handler.bind(n):e[t.handler];Ge(o)&&hi(s,o,t)}}function dw(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let h;return c?h=c:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(f=>vp(h,f,l,!0)),vp(h,e,l)),_t(e)&&o.set(e,h),h}function vp(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&vp(t,o,n,!0),s&&s.forEach(l=>vp(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=Hj[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const Hj={data:kA,props:xA,emits:xA,methods:Tc,computed:Tc,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:Tc,directives:Tc,watch:Wj,provide:kA,inject:Gj};function kA(t,e){return e?t?function(){return vn(Ge(t)?t.call(this,this):t,Ge(e)?e.call(this,this):e)}:e:t}function Gj(t,e){return Tc(t_(t),t_(e))}function t_(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ei(t,e){return t?[...new Set([].concat(t,e))]:e}function Tc(t,e){return t?vn(Object.create(null),t,e):e}function xA(t,e){return t?Pe(t)&&Pe(e)?[...new Set([...t,...e])]:vn(Object.create(null),RA(t),RA(e??{})):e}function Wj(t,e){if(!t)return e;if(!e)return t;const n=vn(Object.create(null),t);for(const i in e)n[i]=ei(t[i],e[i]);return n}function yk(){return{app:null,config:{isNativeTag:E$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zj=0;function Kj(t,e){return function(i,s=null){Ge(i)||(i=vn({},i)),s!=null&&!_t(s)&&(s=null);const o=yk(),l=new WeakSet;let c=!1;const h=o.app={_uid:zj++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:TB,get config(){return o.config},set config(f){},use(f,...p){return l.has(f)||(f&&Ge(f.install)?(l.add(f),f.install(h,...p)):Ge(f)&&(l.add(f),f(h,...p))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,p){return p?(o.components[f]=p,h):o.components[f]},directive(f,p){return p?(o.directives[f]=p,h):o.directives[f]},mount(f,p,v){if(!c){const y=q(i,s);return y.appContext=o,p&&e?e(y,f):t(y,f,v),c=!0,h._container=f,f.__vue_app__=h,Lm(y.component)||y.component.proxy}},unmount(){c&&(t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return o.provides[f]=p,h},runWithContext(f){cd=h;try{return f()}finally{cd=null}}};return h}}let cd=null;function si(t,e){if(Tn){let n=Tn.provides;const i=Tn.parent&&Tn.parent.provides;i===n&&(n=Tn.provides=Object.create(i)),n[t]=e}}function Nt(t,e,n=!1){const i=Tn||Ln;if(i||cd){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:cd._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ge(e)?e.call(i&&i.proxy):e}}function Jj(){return!!(Tn||Ln||cd)}function Yj(t,e,n,i=!1){const s={},o={};hp(o,Dm,1),t.propsDefaults=Object.create(null),_k(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:JP(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function Qj(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=Ve(s),[h]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let y=p[v];if(Pm(t.emitsOptions,y))continue;const w=e[y];if(h)if(ct(o,y))w!==o[y]&&(o[y]=w,f=!0);else{const T=Nl(y);s[T]=n_(h,c,T,w,t,!1)}else w!==o[y]&&(o[y]=w,f=!0)}}}else{_k(t,e,s,o)&&(f=!0);let p;for(const v in c)(!e||!ct(e,v)&&((p=Yl(v))===v||!ct(e,p)))&&(h?n&&(n[v]!==void 0||n[p]!==void 0)&&(s[v]=n_(h,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!ct(e,v))&&(delete o[v],f=!0)}f&&Wr(t,"set","$attrs")}function _k(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(Df(h))continue;const f=e[h];let p;s&&ct(s,p=Nl(h))?!o||!o.includes(p)?n[p]=f:(c||(c={}))[p]=f:Pm(t.emitsOptions,h)||(!(h in i)||f!==i[h])&&(i[h]=f,l=!0)}if(o){const h=Ve(n),f=c||St;for(let p=0;p<o.length;p++){const v=o[p];n[v]=n_(s,h,v,f[v],t,!ct(f,v))}}return l}function n_(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=ct(l,"default");if(c&&i===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Ge(h)){const{propsDefaults:f}=s;n in f?i=f[n]:(Ll(s),i=f[n]=h.call(null,e),zo())}else i=h}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===Yl(n))&&(i=!0))}return i}function wk(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let h=!1;if(!Ge(t)){const p=v=>{h=!0;const[y,w]=wk(v,e,!0);vn(l,y),w&&c.push(...w)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!h)return _t(t)&&i.set(t,fl),fl;if(Pe(o))for(let p=0;p<o.length;p++){const v=Nl(o[p]);OA(v)&&(l[v]=St)}else if(o)for(const p in o){const v=Nl(p);if(OA(v)){const y=o[p],w=l[v]=Pe(y)||Ge(y)?{type:y}:vn({},y);if(w){const T=LA(Boolean,w.type),_=LA(String,w.type);w[0]=T>-1,w[1]=_<0||T<_,(T>-1||ct(w,"default"))&&c.push(v)}}}const f=[l,c];return _t(t)&&i.set(t,f),f}function OA(t){return t[0]!=="$"}function NA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function DA(t,e){return NA(t)===NA(e)}function LA(t,e){return Pe(e)?e.findIndex(n=>DA(n,t)):Ge(e)&&DA(e,t)?0:-1}const bk=t=>t[0]==="_"||t==="$stable",hw=t=>Pe(t)?t.map(dr):[dr(t)],Xj=(t,e,n)=>{if(e._n)return e;const i=Y((...s)=>hw(e(...s)),n);return i._c=!1,i},Ek=(t,e,n)=>{const i=t._ctx;for(const s in t){if(bk(s))continue;const o=t[s];if(Ge(o))e[s]=Xj(s,o,i);else if(o!=null){const l=hw(o);e[s]=()=>l}}},Ik=(t,e)=>{const n=hw(e);t.slots.default=()=>n},Zj=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ve(e),hp(e,"_",n)):Ek(e,t.slots={})}else t.slots={},e&&Ik(t,e);hp(t.slots,Dm,1)},eB=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=St;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(vn(s,e),!n&&c===1&&delete s._):(o=!e.$stable,Ek(e,s)),l=e}else e&&(Ik(t,e),l={default:1});if(o)for(const c in s)!bk(c)&&l[c]==null&&delete s[c]};function i_(t,e,n,i,s=!1){if(Pe(t)){t.forEach((y,w)=>i_(y,e&&(Pe(e)?e[w]:e),n,i,s));return}if(Lc(i)&&!s)return;const o=i.shapeFlag&4?Lm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:h}=t,f=e&&e.r,p=c.refs===St?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==h&&(Kt(f)?(p[f]=null,ct(v,f)&&(v[f]=null)):Lt(f)&&(f.value=null)),Ge(h))$s(h,c,12,[l,p]);else{const y=Kt(h),w=Lt(h);if(y||w){const T=()=>{if(t.f){const _=y?ct(v,h)?v[h]:p[h]:h.value;s?Pe(_)&&Z0(_,o):Pe(_)?_.includes(o)||_.push(o):y?(p[h]=[o],ct(v,h)&&(v[h]=p[h])):(h.value=[o],t.k&&(p[t.k]=h.value))}else y?(p[h]=l,ct(v,h)&&(v[h]=l)):w&&(h.value=l,t.k&&(p[t.k]=l))};l?(T.id=-1,ui(T,n)):T()}}}const ui=Aj;function tB(t){return nB(t)}function nB(t,e){const n=Wy();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:h,setText:f,setElementText:p,parentNode:v,nextSibling:y,setScopeId:w=Ji,insertStaticContent:T}=t,_=(C,R,O,M=null,G=null,K=null,he=!1,re=null,ae=!!R.dynamicChildren)=>{if(C===R)return;C&&!ko(C,R)&&(M=$(C),at(C,G,K,!0),C=null),R.patchFlag===-2&&(ae=!1,R.dynamicChildren=null);const{type:Q,ref:Ae,shapeFlag:ye}=R;switch(Q){case Nm:E(C,R,O,M);break;case Vi:A(C,R,O,M);break;case Yv:C==null&&P(R,O,M,he);break;case nt:ie(C,R,O,M,G,K,he,re,ae);break;default:ye&1?B(C,R,O,M,G,K,he,re,ae):ye&6?ue(C,R,O,M,G,K,he,re,ae):(ye&64||ye&128)&&Q.process(C,R,O,M,G,K,he,re,ae,oe)}Ae!=null&&G&&i_(Ae,C&&C.ref,K,R||C,!R)},E=(C,R,O,M)=>{if(C==null)i(R.el=c(R.children),O,M);else{const G=R.el=C.el;R.children!==C.children&&f(G,R.children)}},A=(C,R,O,M)=>{C==null?i(R.el=h(R.children||""),O,M):R.el=C.el},P=(C,R,O,M)=>{[C.el,C.anchor]=T(C.children,R,O,M,C.el,C.anchor)},k=({el:C,anchor:R},O,M)=>{let G;for(;C&&C!==R;)G=y(C),i(C,O,M),C=G;i(R,O,M)},x=({el:C,anchor:R})=>{let O;for(;C&&C!==R;)O=y(C),s(C),C=O;s(R)},B=(C,R,O,M,G,K,he,re,ae)=>{he=he||R.type==="svg",C==null?F(R,O,M,G,K,he,re,ae):te(C,R,G,K,he,re,ae)},F=(C,R,O,M,G,K,he,re)=>{let ae,Q;const{type:Ae,props:ye,shapeFlag:we,transition:Le,dirs:V}=C;if(ae=C.el=l(C.type,K,ye&&ye.is,ye),we&8?p(ae,C.children):we&16&&U(C.children,ae,null,M,G,K&&Ae!=="foreignObject",he,re),V&&Io(C,null,M,"created"),Z(ae,C,C.scopeId,he,M),ye){for(const lt in ye)lt!=="value"&&!Df(lt)&&o(ae,lt,null,ye[lt],K,C.children,M,G,Ht);"value"in ye&&o(ae,"value",null,ye.value),(Q=ye.onVnodeBeforeMount)&&cr(Q,M,C)}V&&Io(C,null,M,"beforeMount");const D=iB(G,Le);D&&Le.beforeEnter(ae),i(ae,R,O),((Q=ye&&ye.onVnodeMounted)||D||V)&&ui(()=>{Q&&cr(Q,M,C),D&&Le.enter(ae),V&&Io(C,null,M,"mounted")},G)},Z=(C,R,O,M,G)=>{if(O&&w(C,O),M)for(let K=0;K<M.length;K++)w(C,M[K]);if(G){let K=G.subTree;if(R===K){const he=G.vnode;Z(C,he,he.scopeId,he.slotScopeIds,G.parent)}}},U=(C,R,O,M,G,K,he,re,ae=0)=>{for(let Q=ae;Q<C.length;Q++){const Ae=C[Q]=re?ks(C[Q]):dr(C[Q]);_(null,Ae,R,O,M,G,K,he,re)}},te=(C,R,O,M,G,K,he)=>{const re=R.el=C.el;let{patchFlag:ae,dynamicChildren:Q,dirs:Ae}=R;ae|=C.patchFlag&16;const ye=C.props||St,we=R.props||St;let Le;O&&To(O,!1),(Le=we.onVnodeBeforeUpdate)&&cr(Le,O,R,C),Ae&&Io(R,C,O,"beforeUpdate"),O&&To(O,!0);const V=G&&R.type!=="foreignObject";if(Q?ve(C.dynamicChildren,Q,re,O,M,V,K):he||Re(C,R,re,null,O,M,V,K,!1),ae>0){if(ae&16)de(re,R,ye,we,O,M,G);else if(ae&2&&ye.class!==we.class&&o(re,"class",null,we.class,G),ae&4&&o(re,"style",ye.style,we.style,G),ae&8){const D=R.dynamicProps;for(let lt=0;lt<D.length;lt++){const bt=D[lt],pn=ye[bt],kr=we[bt];(kr!==pn||bt==="value")&&o(re,bt,pn,kr,G,C.children,O,M,Ht)}}ae&1&&C.children!==R.children&&p(re,R.children)}else!he&&Q==null&&de(re,R,ye,we,O,M,G);((Le=we.onVnodeUpdated)||Ae)&&ui(()=>{Le&&cr(Le,O,R,C),Ae&&Io(R,C,O,"updated")},M)},ve=(C,R,O,M,G,K,he)=>{for(let re=0;re<R.length;re++){const ae=C[re],Q=R[re],Ae=ae.el&&(ae.type===nt||!ko(ae,Q)||ae.shapeFlag&70)?v(ae.el):O;_(ae,Q,Ae,null,M,G,K,he,!0)}},de=(C,R,O,M,G,K,he)=>{if(O!==M){if(O!==St)for(const re in O)!Df(re)&&!(re in M)&&o(C,re,O[re],null,he,R.children,G,K,Ht);for(const re in M){if(Df(re))continue;const ae=M[re],Q=O[re];ae!==Q&&re!=="value"&&o(C,re,Q,ae,he,R.children,G,K,Ht)}"value"in M&&o(C,"value",O.value,M.value)}},ie=(C,R,O,M,G,K,he,re,ae)=>{const Q=R.el=C?C.el:c(""),Ae=R.anchor=C?C.anchor:c("");let{patchFlag:ye,dynamicChildren:we,slotScopeIds:Le}=R;Le&&(re=re?re.concat(Le):Le),C==null?(i(Q,O,M),i(Ae,O,M),U(R.children,O,Ae,G,K,he,re,ae)):ye>0&&ye&64&&we&&C.dynamicChildren?(ve(C.dynamicChildren,we,O,G,K,he,re),(R.key!=null||G&&R===G.subTree)&&fw(C,R,!0)):Re(C,R,O,Ae,G,K,he,re,ae)},ue=(C,R,O,M,G,K,he,re,ae)=>{R.slotScopeIds=re,C==null?R.shapeFlag&512?G.ctx.activate(R,O,M,he,ae):st(R,O,M,G,K,he,ae):ke(C,R,ae)},st=(C,R,O,M,G,K,he)=>{const re=C.component=mB(C,M,G);if(km(C)&&(re.ctx.renderer=oe),vB(re),re.asyncDep){if(G&&G.registerDep(re,se),!C.el){const ae=re.subTree=q(Vi);A(null,ae,R,O)}return}se(re,C,R,O,G,K,he)},ke=(C,R,O)=>{const M=R.component=C.component;if(Ej(C,R,O))if(M.asyncDep&&!M.asyncResolved){me(M,R,O);return}else M.next=R,gj(M.update),M.update();else R.el=C.el,M.vnode=R},se=(C,R,O,M,G,K,he)=>{const re=()=>{if(C.isMounted){let{next:Ae,bu:ye,u:we,parent:Le,vnode:V}=C,D=Ae,lt;To(C,!1),Ae?(Ae.el=V.el,me(C,Ae,he)):Ae=V,ye&&Lf(ye),(lt=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&cr(lt,Le,Ae,V),To(C,!0);const bt=zv(C),pn=C.subTree;C.subTree=bt,_(pn,bt,v(pn.el),$(pn),C,G,K),Ae.el=bt.el,D===null&&Ij(C,bt.el),we&&ui(we,G),(lt=Ae.props&&Ae.props.onVnodeUpdated)&&ui(()=>cr(lt,Le,Ae,V),G)}else{let Ae;const{el:ye,props:we}=R,{bm:Le,m:V,parent:D}=C,lt=Lc(R);if(To(C,!1),Le&&Lf(Le),!lt&&(Ae=we&&we.onVnodeBeforeMount)&&cr(Ae,D,R),To(C,!0),ye&&it){const bt=()=>{C.subTree=zv(C),it(ye,C.subTree,C,G,null)};lt?R.type.__asyncLoader().then(()=>!C.isUnmounted&&bt()):bt()}else{const bt=C.subTree=zv(C);_(null,bt,O,M,C,G,K),R.el=bt.el}if(V&&ui(V,G),!lt&&(Ae=we&&we.onVnodeMounted)){const bt=R;ui(()=>cr(Ae,D,bt),G)}(R.shapeFlag&256||D&&Lc(D.vnode)&&D.vnode.shapeFlag&256)&&C.a&&ui(C.a,G),C.isMounted=!0,R=O=M=null}},ae=C.effect=new iw(re,()=>uw(Q),C.scope),Q=C.update=()=>ae.run();Q.id=C.uid,To(C,!0),Q()},me=(C,R,O)=>{R.component=C;const M=C.vnode.props;C.vnode=R,C.next=null,Qj(C,R.props,M,O),eB(C,R.children,O),Ql(),AA(),Xl()},Re=(C,R,O,M,G,K,he,re,ae=!1)=>{const Q=C&&C.children,Ae=C?C.shapeFlag:0,ye=R.children,{patchFlag:we,shapeFlag:Le}=R;if(we>0){if(we&128){ot(Q,ye,O,M,G,K,he,re,ae);return}else if(we&256){wt(Q,ye,O,M,G,K,he,re,ae);return}}Le&8?(Ae&16&&Ht(Q,G,K),ye!==Q&&p(O,ye)):Ae&16?Le&16?ot(Q,ye,O,M,G,K,he,re,ae):Ht(Q,G,K,!0):(Ae&8&&p(O,""),Le&16&&U(ye,O,M,G,K,he,re,ae))},wt=(C,R,O,M,G,K,he,re,ae)=>{C=C||fl,R=R||fl;const Q=C.length,Ae=R.length,ye=Math.min(Q,Ae);let we;for(we=0;we<ye;we++){const Le=R[we]=ae?ks(R[we]):dr(R[we]);_(C[we],Le,O,null,G,K,he,re,ae)}Q>Ae?Ht(C,G,K,!0,!1,ye):U(R,O,M,G,K,he,re,ae,ye)},ot=(C,R,O,M,G,K,he,re,ae)=>{let Q=0;const Ae=R.length;let ye=C.length-1,we=Ae-1;for(;Q<=ye&&Q<=we;){const Le=C[Q],V=R[Q]=ae?ks(R[Q]):dr(R[Q]);if(ko(Le,V))_(Le,V,O,null,G,K,he,re,ae);else break;Q++}for(;Q<=ye&&Q<=we;){const Le=C[ye],V=R[we]=ae?ks(R[we]):dr(R[we]);if(ko(Le,V))_(Le,V,O,null,G,K,he,re,ae);else break;ye--,we--}if(Q>ye){if(Q<=we){const Le=we+1,V=Le<Ae?R[Le].el:M;for(;Q<=we;)_(null,R[Q]=ae?ks(R[Q]):dr(R[Q]),O,V,G,K,he,re,ae),Q++}}else if(Q>we)for(;Q<=ye;)at(C[Q],G,K,!0),Q++;else{const Le=Q,V=Q,D=new Map;for(Q=V;Q<=we;Q++){const yn=R[Q]=ae?ks(R[Q]):dr(R[Q]);yn.key!=null&&D.set(yn.key,Q)}let lt,bt=0;const pn=we-V+1;let kr=!1,qd=0;const ro=new Array(pn);for(Q=0;Q<pn;Q++)ro[Q]=0;for(Q=Le;Q<=ye;Q++){const yn=C[Q];if(bt>=pn){at(yn,G,K,!0);continue}let _n;if(yn.key!=null)_n=D.get(yn.key);else for(lt=V;lt<=we;lt++)if(ro[lt-V]===0&&ko(yn,R[lt])){_n=lt;break}_n===void 0?at(yn,G,K,!0):(ro[_n-V]=Q+1,_n>=qd?qd=_n:kr=!0,_(yn,R[_n],O,null,G,K,he,re,ae),bt++)}const so=kr?rB(ro):fl;for(lt=so.length-1,Q=pn-1;Q>=0;Q--){const yn=V+Q,_n=R[yn],Hd=yn+1<Ae?R[yn+1].el:M;ro[Q]===0?_(null,_n,O,Hd,G,K,he,re,ae):kr&&(lt<0||Q!==so[lt]?Qt(_n,O,Hd,2):lt--)}}},Qt=(C,R,O,M,G=null)=>{const{el:K,type:he,transition:re,children:ae,shapeFlag:Q}=C;if(Q&6){Qt(C.component.subTree,R,O,M);return}if(Q&128){C.suspense.move(R,O,M);return}if(Q&64){he.move(C,R,O,oe);return}if(he===nt){i(K,R,O);for(let ye=0;ye<ae.length;ye++)Qt(ae[ye],R,O,M);i(C.anchor,R,O);return}if(he===Yv){k(C,R,O);return}if(M!==2&&Q&1&&re)if(M===0)re.beforeEnter(K),i(K,R,O),ui(()=>re.enter(K),G);else{const{leave:ye,delayLeave:we,afterLeave:Le}=re,V=()=>i(K,R,O),D=()=>{ye(K,()=>{V(),Le&&Le()})};we?we(K,V,D):D()}else i(K,R,O)},at=(C,R,O,M=!1,G=!1)=>{const{type:K,props:he,ref:re,children:ae,dynamicChildren:Q,shapeFlag:Ae,patchFlag:ye,dirs:we}=C;if(re!=null&&i_(re,null,O,C,!0),Ae&256){R.ctx.deactivate(C);return}const Le=Ae&1&&we,V=!Lc(C);let D;if(V&&(D=he&&he.onVnodeBeforeUnmount)&&cr(D,R,C),Ae&6)ss(C.component,O,M);else{if(Ae&128){C.suspense.unmount(O,M);return}Le&&Io(C,null,R,"beforeUnmount"),Ae&64?C.type.remove(C,R,O,G,oe,M):Q&&(K!==nt||ye>0&&ye&64)?Ht(Q,R,O,!1,!0):(K===nt&&ye&384||!G&&Ae&16)&&Ht(ae,R,O),M&&ki(C)}(V&&(D=he&&he.onVnodeUnmounted)||Le)&&ui(()=>{D&&cr(D,R,C),Le&&Io(C,null,R,"unmounted")},O)},ki=C=>{const{type:R,el:O,anchor:M,transition:G}=C;if(R===nt){mi(O,M);return}if(R===Yv){x(C);return}const K=()=>{s(O),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(C.shapeFlag&1&&G&&!G.persisted){const{leave:he,delayLeave:re}=G,ae=()=>he(O,K);re?re(C.el,K,ae):ae()}else K()},mi=(C,R)=>{let O;for(;C!==R;)O=y(C),s(C),C=O;s(R)},ss=(C,R,O)=>{const{bum:M,scope:G,update:K,subTree:he,um:re}=C;M&&Lf(M),G.stop(),K&&(K.active=!1,at(he,C,R,O)),re&&ui(re,R),ui(()=>{C.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Ht=(C,R,O,M=!1,G=!1,K=0)=>{for(let he=K;he<C.length;he++)at(C[he],R,O,M,G)},$=C=>C.shapeFlag&6?$(C.component.subTree):C.shapeFlag&128?C.suspense.next():y(C.anchor||C.el),pe=(C,R,O)=>{C==null?R._vnode&&at(R._vnode,null,null,!0):_(R._vnode||null,C,R,null,null,null,O),AA(),ok(),R._vnode=C},oe={p:_,um:at,m:Qt,r:ki,mt:st,mc:U,pc:Re,pbc:ve,n:$,o:t};let Te,it;return e&&([Te,it]=e(oe)),{render:pe,hydrate:Te,createApp:Kj(pe,Te)}}function To({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function iB(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function fw(t,e,n=!1){const i=t.children,s=e.children;if(Pe(i)&&Pe(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=ks(s[o]),c.el=l.el),n||fw(l,c)),c.type===Nm&&(c.el=l.el)}}function rB(t){const e=t.slice(),n=[0];let i,s,o,l,c;const h=t.length;for(i=0;i<h;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const sB=t=>t.__isTeleport,Vc=t=>t&&(t.disabled||t.disabled===""),MA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,r_=(t,e)=>{const n=t&&t.to;return Kt(n)?e?e(n):null:n},oB={__isTeleport:!0,process(t,e,n,i,s,o,l,c,h,f){const{mc:p,pc:v,pbc:y,o:{insert:w,querySelector:T,createText:_,createComment:E}}=f,A=Vc(e.props);let{shapeFlag:P,children:k,dynamicChildren:x}=e;if(t==null){const B=e.el=_(""),F=e.anchor=_("");w(B,n,i),w(F,n,i);const Z=e.target=r_(e.props,T),U=e.targetAnchor=_("");Z&&(w(U,Z),l=l||MA(Z));const te=(ve,de)=>{P&16&&p(k,ve,de,s,o,l,c,h)};A?te(n,F):Z&&te(Z,U)}else{e.el=t.el;const B=e.anchor=t.anchor,F=e.target=t.target,Z=e.targetAnchor=t.targetAnchor,U=Vc(t.props),te=U?n:F,ve=U?B:Z;if(l=l||MA(F),x?(y(t.dynamicChildren,x,te,s,o,l,c),fw(t,e,!0)):h||v(t,e,te,ve,s,o,l,c,!1),A)U?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ef(e,n,B,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const de=e.target=r_(e.props,T);de&&Ef(e,de,null,f,0)}else U&&Ef(e,F,Z,f,1)}Tk(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:h,anchor:f,targetAnchor:p,target:v,props:y}=t;if(v&&o(p),l&&o(f),c&16){const w=l||!Vc(y);for(let T=0;T<h.length;T++){const _=h[T];s(_,e,n,w,!!_.dynamicChildren)}}},move:Ef,hydrate:aB};function Ef(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:h,children:f,props:p}=t,v=o===2;if(v&&i(l,e,n),(!v||Vc(p))&&h&16)for(let y=0;y<f.length;y++)s(f[y],e,n,2);v&&i(c,e,n)}function aB(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:h}},f){const p=e.target=r_(e.props,h);if(p){const v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(Vc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let y=v;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,p,n,i,s,o)}Tk(e)}return e.anchor&&l(e.anchor)}const lB=oB;function Tk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const nt=Symbol.for("v-fgt"),Nm=Symbol.for("v-txt"),Vi=Symbol.for("v-cmt"),Yv=Symbol.for("v-stc"),Fc=[];let zi=null;function j(t=!1){Fc.push(zi=t?null:[])}function uB(){Fc.pop(),zi=Fc[Fc.length-1]||null}let dd=1;function VA(t){dd+=t}function Ak(t){return t.dynamicChildren=dd>0?zi||fl:null,uB(),dd>0&&zi&&zi.push(t),t}function le(t,e,n,i,s,o){return Ak(I(t,e,n,i,s,o,!0))}function Me(t,e,n,i,s){return Ak(q(t,e,n,i,s,!0))}function yp(t){return t?t.__v_isVNode===!0:!1}function ko(t,e){return t.type===e.type&&t.key===e.key}const Dm="__vInternal",Sk=({key:t})=>t??null,Mf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Kt(t)||Lt(t)||Ge(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function I(t,e=null,n=null,i=0,s=null,o=t===nt?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Sk(e),ref:e&&Mf(e),scopeId:uk,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ln};return c?(pw(h,n),o&128&&t.normalize(h)):n&&(h.shapeFlag|=Kt(n)?8:16),dd>0&&!l&&zi&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&zi.push(h),h}const q=cB;function cB(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===$j)&&(t=Vi),yp(t)){const c=es(t,e,!0);return n&&pw(c,n),dd>0&&!o&&zi&&(c.shapeFlag&6?zi[zi.indexOf(t)]=c:zi.push(c)),c.patchFlag|=-2,c}if(bB(t)&&(t=t.__vccOpts),e){e=dB(e);let{class:c,style:h}=e;c&&!Kt(c)&&(e.class=Dn(c)),_t(h)&&(QP(h)&&!Pe(h)&&(h=vn({},h)),e.style=tw(h))}const l=Kt(t)?1:Tj(t)?128:sB(t)?64:_t(t)?4:Ge(t)?2:0;return I(t,e,n,i,s,l,o,!0)}function dB(t){return t?QP(t)||Dm in t?vn({},t):t:null}function es(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?hB(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Sk(c),ref:e&&e.ref?n&&s?Pe(s)?s.concat(Mf(e)):[s,Mf(e)]:Mf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==nt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Qe(t=" ",e=0){return q(Nm,null,t,e)}function Ue(t="",e=!1){return e?(j(),Me(Vi,null,t)):q(Vi,null,t)}function dr(t){return t==null||typeof t=="boolean"?q(Vi):Pe(t)?q(nt,null,t.slice()):typeof t=="object"?ks(t):q(Nm,null,String(t))}function ks(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function pw(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Pe(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),pw(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Dm in e)?e._ctx=Ln:s===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ge(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),i&64?(n=16,e=[Qe(e)]):n=8);t.children=e,t.shapeFlag|=n}function hB(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Dn([e.class,i.class]));else if(s==="style")e.style=tw([e.style,i.style]);else if(Em(s)){const o=e[s],l=i[s];l&&o!==l&&!(Pe(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function cr(t,e,n,i=null){Mi(t,e,7,[n,i])}const fB=yk();let pB=0;function mB(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||fB,o={uid:pB++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new MP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wk(i,s),emitsOptions:lk(i,s),emit:null,emitted:null,propsDefaults:St,inheritAttrs:i.inheritAttrs,ctx:St,data:St,props:St,attrs:St,slots:St,refs:St,setupState:St,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=_j.bind(null,o),t.ce&&t.ce(o),o}let Tn=null;const gB=()=>Tn||Ln;let mw,Qa,FA="__VUE_INSTANCE_SETTERS__";(Qa=Wy()[FA])||(Qa=Wy()[FA]=[]),Qa.push(t=>Tn=t),mw=t=>{Qa.length>1?Qa.forEach(e=>e(t)):Qa[0](t)};const Ll=t=>{mw(t),t.scope.on()},zo=()=>{Tn&&Tn.scope.off(),mw(null)};function Ck(t){return t.vnode.shapeFlag&4}let hd=!1;function vB(t,e=!1){hd=e;const{props:n,children:i}=t.vnode,s=Ck(t);Yj(t,n,s,e),Zj(t,i);const o=s?yB(t,e):void 0;return hd=!1,o}function yB(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Cm(new Proxy(t.ctx,jj));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?wB(t):null;Ll(t),Ql();const o=$s(i,t,0,[t.props,s]);if(Xl(),zo(),kP(o)){if(o.then(zo,zo),e)return o.then(l=>{UA(t,l,e)}).catch(l=>{Rm(l,t,0)});t.asyncDep=o}else UA(t,o,e)}else Rk(t,e)}function UA(t,e,n){Ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=nk(e)),Rk(t,n)}let $A;function Rk(t,e,n){const i=t.type;if(!t.render){if(!e&&$A&&!i.render){const s=i.template||dw(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=i,f=vn(vn({isCustomElement:o,delimiters:c},l),h);i.render=$A(s,f)}}t.render=i.render||Ji}{Ll(t),Ql();try{Bj(t)}finally{Xl(),zo()}}}function _B(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return fi(t,"get","$attrs"),e[n]}}))}function wB(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return _B(t)},slots:t.slots,emit:t.emit,expose:e}}function Lm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(nk(Cm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Mc)return Mc[n](t)},has(e,n){return n in e||n in Mc}}))}function bB(t){return Ge(t)&&"__vccOpts"in t}const Ee=(t,e)=>fj(t,e,hd);function on(t,e,n){const i=arguments.length;return i===2?_t(e)&&!Pe(e)?yp(e)?q(t,null,[e]):q(t,e):q(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&yp(n)&&(n=[n]),q(t,e,n))}const EB=Symbol.for("v-scx"),IB=()=>Nt(EB),TB="3.3.7",AB="http://www.w3.org/2000/svg",xo=typeof document<"u"?document:null,jA=xo&&xo.createElement("template"),SB={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?xo.createElementNS(AB,t):xo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>xo.createTextNode(t),createComment:t=>xo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>xo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{jA.innerHTML=i?`<svg>${t}</svg>`:t;const c=jA.content;if(i){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},As="transition",dc="animation",fd=Symbol("_vtc"),Mm=(t,{slots:e})=>on(Pj,CB(t),e);Mm.displayName="Transition";const Pk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Mm.props=vn({},dk,Pk);const Ao=(t,e=[])=>{Pe(t)?t.forEach(n=>n(...e)):t&&t(...e)},BA=t=>t?Pe(t)?t.some(e=>e.length>1):t.length>1:!1;function CB(t){const e={};for(const ie in t)ie in Pk||(e[ie]=t[ie]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:w=`${n}-leave-to`}=t,T=RB(s),_=T&&T[0],E=T&&T[1],{onBeforeEnter:A,onEnter:P,onEnterCancelled:k,onLeave:x,onLeaveCancelled:B,onBeforeAppear:F=A,onAppear:Z=P,onAppearCancelled:U=k}=e,te=(ie,ue,st)=>{So(ie,ue?p:c),So(ie,ue?f:l),st&&st()},ve=(ie,ue)=>{ie._isLeaving=!1,So(ie,v),So(ie,w),So(ie,y),ue&&ue()},de=ie=>(ue,st)=>{const ke=ie?Z:P,se=()=>te(ue,ie,st);Ao(ke,[ue,se]),qA(()=>{So(ue,ie?h:o),Ss(ue,ie?p:c),BA(ke)||HA(ue,i,_,se)})};return vn(e,{onBeforeEnter(ie){Ao(A,[ie]),Ss(ie,o),Ss(ie,l)},onBeforeAppear(ie){Ao(F,[ie]),Ss(ie,h),Ss(ie,f)},onEnter:de(!1),onAppear:de(!0),onLeave(ie,ue){ie._isLeaving=!0;const st=()=>ve(ie,ue);Ss(ie,v),xB(),Ss(ie,y),qA(()=>{ie._isLeaving&&(So(ie,v),Ss(ie,w),BA(x)||HA(ie,i,E,st))}),Ao(x,[ie,st])},onEnterCancelled(ie){te(ie,!1),Ao(k,[ie])},onAppearCancelled(ie){te(ie,!0),Ao(U,[ie])},onLeaveCancelled(ie){ve(ie),Ao(B,[ie])}})}function RB(t){if(t==null)return null;if(_t(t))return[Qv(t.enter),Qv(t.leave)];{const e=Qv(t);return[e,e]}}function Qv(t){return R$(t)}function Ss(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[fd]||(t[fd]=new Set)).add(e)}function So(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[fd];n&&(n.delete(e),n.size||(t[fd]=void 0))}function qA(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let PB=0;function HA(t,e,n,i){const s=t._endId=++PB,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:h}=kB(t,e);if(!l)return i();const f=l+"end";let p=0;const v=()=>{t.removeEventListener(f,y),o()},y=w=>{w.target===t&&++p>=h&&v()};setTimeout(()=>{p<h&&v()},c+1),t.addEventListener(f,y)}function kB(t,e){const n=window.getComputedStyle(t),i=T=>(n[T]||"").split(", "),s=i(`${As}Delay`),o=i(`${As}Duration`),l=GA(s,o),c=i(`${dc}Delay`),h=i(`${dc}Duration`),f=GA(c,h);let p=null,v=0,y=0;e===As?l>0&&(p=As,v=l,y=o.length):e===dc?f>0&&(p=dc,v=f,y=h.length):(v=Math.max(l,f),p=v>0?l>f?As:dc:null,y=p?p===As?o.length:h.length:0);const w=p===As&&/\b(transform|all)(,|$)/.test(i(`${As}Property`).toString());return{type:p,timeout:v,propCount:y,hasTransform:w}}function GA(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>WA(n)+WA(t[i])))}function WA(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function xB(){return document.body.offsetHeight}function OB(t,e,n){const i=t[fd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gw=Symbol("_vod"),zA={beforeMount(t,{value:e},{transition:n}){t[gw]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):hc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),hc(t,!0),i.enter(t)):i.leave(t,()=>{hc(t,!1)}):hc(t,e))},beforeUnmount(t,{value:e}){hc(t,e)}};function hc(t,e){t.style.display=e?t[gw]:"none"}function NB(t,e,n){const i=t.style,s=Kt(n);if(n&&!s){if(e&&!Kt(e))for(const o in e)n[o]==null&&s_(i,o,"");for(const o in n)s_(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),gw in t&&(i.display=o)}}const KA=/\s*!important$/;function s_(t,e,n){if(Pe(n))n.forEach(i=>s_(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=DB(t,e);KA.test(n)?t.setProperty(Yl(i),n.replace(KA,""),"important"):t[i]=n}}const JA=["Webkit","Moz","ms"],Xv={};function DB(t,e){const n=Xv[e];if(n)return n;let i=Nl(e);if(i!=="filter"&&i in t)return Xv[e]=i;i=NP(i);for(let s=0;s<JA.length;s++){const o=JA[s]+i;if(o in t)return Xv[e]=o}return e}const YA="http://www.w3.org/1999/xlink";function LB(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(YA,e.slice(6,e.length)):t.setAttributeNS(YA,e,n);else{const o=D$(e);n==null||o&&!DP(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function MB(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";f!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let h=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=DP(n):n==null&&f==="string"?(n="",h=!0):f==="number"&&(n=0,h=!0)}try{t[e]=n}catch{}h&&t.removeAttribute(e)}function Oo(t,e,n,i){t.addEventListener(e,n,i)}function VB(t,e,n,i){t.removeEventListener(e,n,i)}const QA=Symbol("_vei");function FB(t,e,n,i,s=null){const o=t[QA]||(t[QA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,h]=UB(e);if(i){const f=o[e]=BB(i,s);Oo(t,c,f,h)}else l&&(VB(t,c,l,h),o[e]=void 0)}}const XA=/(?:Once|Passive|Capture)$/;function UB(t){let e;if(XA.test(t)){e={};let i;for(;i=t.match(XA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yl(t.slice(2)),e]}let Zv=0;const $B=Promise.resolve(),jB=()=>Zv||($B.then(()=>Zv=0),Zv=Date.now());function BB(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Mi(qB(i,n.value),e,5,[i])};return n.value=t,n.attached=jB(),n}function qB(t,e){if(Pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const ZA=/^on[a-z]/,HB=(t,e,n,i,s=!1,o,l,c,h)=>{e==="class"?OB(t,i,s):e==="style"?NB(t,n,i):Em(e)?X0(e)||FB(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):GB(t,e,i,s))?MB(t,e,i,o,l,c,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),LB(t,e,i,s))};function GB(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&ZA.test(e)&&Ge(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ZA.test(e)&&Kt(n)?!1:e in t}const _p=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pe(e)?n=>Lf(e,n):e};function WB(t){t.target.composing=!0}function eS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gl=Symbol("_assign"),qe={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[gl]=_p(s);const o=i||s.props&&s.props.type==="number";Oo(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=fp(c)),t[gl](c)}),n&&Oo(t,"change",()=>{t.value=t.value.trim()}),e||(Oo(t,"compositionstart",WB),Oo(t,"compositionend",eS),Oo(t,"change",eS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[gl]=_p(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&fp(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},eJ={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Im(e);Oo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?fp(wp(l)):wp(l));t[gl](t.multiple?s?new Set(o):o:o[0])}),t[gl]=_p(i)},mounted(t,{value:e}){tS(t,e)},beforeUpdate(t,e,n){t[gl]=_p(n)},updated(t,{value:e}){tS(t,e)}};function tS(t,e){const n=t.multiple;if(!(n&&!Pe(e)&&!Im(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=wp(o);if(n)Pe(e)?o.selected=M$(e,l)>-1:o.selected=e.has(l);else if(Am(wp(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function wp(t){return"_value"in t?t._value:t.value}const zB=vn({patchProp:HB},SB);let nS;function KB(){return nS||(nS=tB(zB))}const JB=(...t)=>{const e=KB().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=YB(i);if(!s)return;const o=e._component;!Ge(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function YB(t){return Kt(t)?document.querySelector(t):t}var QB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let kk;const Vm=t=>kk=t,xk=Symbol();function o_(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Uc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Uc||(Uc={}));function XB(){const t=VP(!0),e=t.run(()=>J({}));let n=[],i=[];const s=Cm({install(o){Vm(s),s._a=o,o.provide(xk,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!QB?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const Ok=()=>{};function iS(t,e,n,i=Ok){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&FP()&&F$(s),s}function Xa(t,...e){t.slice().forEach(n=>{n(...e)})}const ZB=t=>t();function a_(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];o_(s)&&o_(i)&&t.hasOwnProperty(n)&&!Lt(i)&&!zr(i)?t[n]=a_(s,i):t[n]=i}return t}const e7=Symbol();function t7(t){return!o_(t)||!t.hasOwnProperty(e7)}const{assign:Rs}=Object;function n7(t){return!!(Lt(t)&&t.effect)}function i7(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let h;function f(){c||(n.state.value[t]=s?s():{});const p=lj(n.state.value[t]);return Rs(p,o,Object.keys(l||{}).reduce((v,y)=>(v[y]=Cm(Ee(()=>{Vm(n);const w=n._s.get(t);return l[y].call(w,w)})),v),{}))}return h=Nk(t,f,e,n,i,!0),h}function Nk(t,e,n={},i,s,o){let l;const c=Rs({actions:{}},n),h={deep:!0};let f,p,v=[],y=[],w;const T=i.state.value[t];!o&&!T&&(i.state.value[t]={}),J({});let _;function E(U){let te;f=p=!1,typeof U=="function"?(U(i.state.value[t]),te={type:Uc.patchFunction,storeId:t,events:w}):(a_(i.state.value[t],U),te={type:Uc.patchObject,payload:U,storeId:t,events:w});const ve=_=Symbol();Yi().then(()=>{_===ve&&(f=!0)}),p=!0,Xa(v,te,i.state.value[t])}const A=o?function(){const{state:te}=n,ve=te?te():{};this.$patch(de=>{Rs(de,ve)})}:Ok;function P(){l.stop(),v=[],y=[],i._s.delete(t)}function k(U,te){return function(){Vm(i);const ve=Array.from(arguments),de=[],ie=[];function ue(se){de.push(se)}function st(se){ie.push(se)}Xa(y,{args:ve,name:U,store:B,after:ue,onError:st});let ke;try{ke=te.apply(this&&this.$id===t?this:B,ve)}catch(se){throw Xa(ie,se),se}return ke instanceof Promise?ke.then(se=>(Xa(de,se),se)).catch(se=>(Xa(ie,se),Promise.reject(se))):(Xa(de,ke),ke)}}const x={_p:i,$id:t,$onAction:iS.bind(null,y),$patch:E,$reset:A,$subscribe(U,te={}){const ve=iS(v,U,te.detached,()=>de()),de=l.run(()=>hi(()=>i.state.value[t],ie=>{(te.flush==="sync"?p:f)&&U({storeId:t,type:Uc.direct,events:w},ie)},Rs({},h,te)));return ve},$dispose:P},B=Hn(x);i._s.set(t,B);const Z=(i._a&&i._a.runWithContext||ZB)(()=>i._e.run(()=>(l=VP()).run(e)));for(const U in Z){const te=Z[U];if(Lt(te)&&!n7(te)||zr(te))o||(T&&t7(te)&&(Lt(te)?te.value=T[U]:a_(te,T[U])),i.state.value[t][U]=te);else if(typeof te=="function"){const ve=k(U,te);Z[U]=ve,c.actions[U]=te}}return Rs(B,Z),Rs(Ve(B),Z),Object.defineProperty(B,"$state",{get:()=>i.state.value[t],set:U=>{E(te=>{Rs(te,U)})}}),i._p.forEach(U=>{Rs(B,l.run(()=>U({store:B,app:i._a,pinia:i,options:c})))}),T&&o&&n.hydrate&&n.hydrate(B.$state,T),f=!0,p=!0,B}function Dk(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,h){const f=Jj();return c=c||(f?Nt(xk,null):null),c&&Vm(c),c=kk,c._s.has(i)||(o?Nk(i,e,s,c):i7(i,s,c)),c._s.get(i)}return l.$id=i,l}function Tt(t){{t=Ve(t);const e={};for(const n in t){const i=t[n];(Lt(i)||zr(i))&&(e[n]=dj(t,n))}return e}}function r7(){return console.log("createUserProfileCallable"),xt(At(void 0,"northamerica-northeast1"),"createUserProfile")}function s7(){return console.log("createAdCallable"),xt(At(void 0,"northamerica-northeast1"),"createAd")}function o7(){return console.log("removeAdCallable"),xt(At(void 0,"northamerica-northeast1"),"removeAd")}function a7(){return console.log("editAdCallable"),xt(At(void 0,"northamerica-northeast1"),"editAd")}function rS(){return console.log("postAdCallable"),xt(At(void 0,"northamerica-northeast1"),"postAd")}function l7(){return console.log("placeBidCallable"),xt(At(void 0,"northamerica-northeast1"),"placeBid")}function u7(){return console.log("cancelBidCallable"),xt(At(void 0,"northamerica-northeast1"),"cancelBid")}function tJ(){return console.log("createTransactionCallable"),xt(At(void 0,"northamerica-northeast1"),"createTransaction")}function nJ(){return console.log("getTransactionCallable"),xt(At(void 0,"northamerica-northeast1"),"getTransaction")}function c7(){return console.log("createEscrowAccountCallable"),xt(At(void 0,"northamerica-northeast1"),"createEscrowAccount")}function d7(){return console.log("linkEscrowAccountCallable"),xt(At(void 0,"northamerica-northeast1"),"linkEscrowAccount")}function h7(){return console.log("createJobPostCallable"),xt(At(void 0,"northamerica-northeast1"),"createJobPost")}function f7(){return console.log("editJobPostCallable"),xt(At(void 0,"northamerica-northeast1"),"editJobPost")}function p7(){return console.log("removeJobPostCallable"),xt(At(void 0,"northamerica-northeast1"),"removeJobPost")}function m7(){return console.log("postJobPostCallable"),xt(At(void 0,"northamerica-northeast1"),"postJobPost")}function g7(){return console.log("takedownJobPostCallable"),xt(At(void 0,"northamerica-northeast1"),"takeDownJobPost")}function v7(){return console.log("createGigPostCallable"),xt(At(void 0,"northamerica-northeast1"),"createGigPost")}function y7(){return console.log("editGigPostCallable"),xt(At(void 0,"northamerica-northeast1"),"editGigPost")}function _7(){return console.log("removeGigPostCallable"),xt(At(void 0,"northamerica-northeast1"),"removeGigPost")}function w7(){return console.log("postGigPostCallable"),xt(At(void 0,"northamerica-northeast1"),"postGigPost")}function b7(){return console.log("takedownGigPostCallable"),xt(At(void 0,"northamerica-northeast1"),"takeDownGigPost")}function E7(){return console.log("sendDmCallable"),xt(At(void 0,"northamerica-northeast1"),"sendDm")}function I7(){return console.log("updateProfileCallable"),xt(At(void 0,"northamerica-northeast1"),"updateProfile")}function T7(){return console.log("submitApplicationCallable"),xt(At(void 0,"northamerica-northeast1"),"submitApplication")}function A7(){return console.log("removeApplicationCallable"),xt(At(void 0,"northamerica-northeast1"),"removeApplication")}const mt=Dk("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=J(null),o=J(!1),l=J(null),c=V=>{s.value=V},h=V=>{console.log("setNewUser",V),o.value=V},f=async V=>{let D=null;if(o.value)console.log("Profile setup mounted for new user"),D=await v(V),y(V);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(D=await Gy("users",s.value.uid),y(V),!D)throw new Error("continueSignup No profile")}y(D)},p=r7(),v=async V=>{try{console.log("createUser start",V),console.log("createUserProfile",p);const D=await p({...V});return console.log("createUser res",D),D}catch(D){throw console.log("createUser error",D),new Error(D)}},y=V=>{if(console.log("setProfile",V),!V)throw new Error("No profile");l.value=V},w=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const V=await Gy("users",s.value.uid);l.value=V},T=s7(),_=async V=>{try{console.log("createUserAd start",V),console.log("createAd",T);const D=await T({...V});return console.log("createUserAd res",D),D}catch(D){throw console.log("createUserAd error",D),new Error(D)}},E=rS(),A=async V=>{try{console.log("postAd start",V);const D=await E({adId:V});return console.log("postAd res",D),D}catch(D){throw console.log("postAd error",D),new Error(D)}},P=rS(),k=async V=>{try{console.log("takedownAd start",V);const D=await P({adId:V});return console.log("takedownAd res",D),D}catch(D){throw console.log("takedownAd error",D),new Error(D)}},x=o7(),B=async V=>{try{console.log("removeUserAd start",V),console.log("createAd",T);const D=await x({adId:V});return console.log("removeUserAd res",D),D}catch(D){throw console.log("removeUserAd error",D),new Error(D)}},F=a7(),Z=async V=>{try{console.log("editUserAd start",V),console.log("editUserAd",F);const D=await F({...V});return console.log("editUserAd res",D),D}catch(D){throw console.log("editUserAd error",D),new Error(D)}},U=async()=>{const V=BC();console.log("signout"),await V.signOut(),c(null),y(null)},te=l7(),ve=async V=>{console.log("placeBid",V);try{console.log("placeBid start",V),console.log("placeBid",te);const D=await te(V);return console.log("placeBid res",D),D}catch(D){throw console.log("placeBid error",D),new Error(D)}},de=u7(),ie=async V=>{try{console.log("cancelBid start",V),console.log("cancelBid",de);const D=await de({bidId:V});return console.log("cancelBid res",D),D}catch(D){throw console.log("cancelBid error",D),new Error(D)}},ue=c7(),st=async V=>{try{console.log("createEscrowUserAccount start"),console.log("createEscrowAccount",ue);const D=await ue(V);return console.log("createEscrowUserAccount res",D),D}catch(D){throw console.log("createEscrowUserAccount error",D),new Error(D)}},ke=d7(),se=async V=>{try{console.log("linkEscrowUserAccount start"),console.log("createEscrowAccount",ue);const D=await ke(V);return console.log("linkEscrowUserAccount res",D),D}catch(D){throw console.log("linkEscrowUserAccount error",D),new Error(D)}},me=async()=>(console.log("getProduce"),await b$("produce")),Re=h7(),wt=async V=>{try{console.log("createJobPostAd start"),console.log("createJobPostAd",Re);const D=await Re(V);return console.log("createJobPostAd res",V),D}catch(D){throw console.log("createJobPostAd error",D),new Error(D)}},ot=m7(),Qt=async V=>{try{console.log("postJobPostAd start",V),console.log("postJobPostAd",ot);const D=await ot({jobId:V});return console.log("postJobPostAd res",V),D}catch(D){throw console.log("postJobPostAd error",D),new Error(D)}},at=g7(),ki=async V=>{try{console.log("takedownJobPostAd start",V),console.log("takedownJobPostAd",at);const D=await at({jobId:V});return console.log("takedownJobPostAd res",V),D}catch(D){throw console.log("takedownJobPostAd error",D),new Error(D)}},mi=f7(),ss=async V=>{try{console.log("editJobPostAd start"),console.log("editJobPostAd",mi);const D=await mi(V);return console.log("editJobPostAd res",V),D}catch(D){throw console.log("editJobPostAd error",D),new Error(D)}},Ht=p7(),$=async V=>{try{console.log("removeJobPostAd start"),console.log("removeJobPostAd",Ht);const D=await Ht({jobId:V});return console.log("removeJobPostAd res",V),D}catch(D){throw console.log("removeJobPostAd error",D),new Error(D)}},pe=v7(),oe=async V=>{try{console.log("createGigPostAd start"),console.log("createGigPostAd",pe);const D=await pe(V);return console.log("createGigPostAd res",V),D}catch(D){throw console.log("createGigPostAd error",D),new Error(D)}},Te=w7(),it=async V=>{try{console.log("postGigPostAd start",V),console.log("postGigPostAd",Te);const D=await Te({gigId:V});return console.log("postGigPostAd res",V),D}catch(D){throw console.log("postGigPostAd error",D),new Error(D)}},C=b7(),R=async V=>{try{console.log("takedownGigPostAd start",V),console.log("takedownGigPostAd",C);const D=await C({gigId:V});return console.log("takedownGigPostAd res",V),D}catch(D){throw console.log("takedownGigPostAd error",D),new Error(D)}},O=y7(),M=async V=>{try{console.log("editGigPostAd start"),console.log("editGigPostAd",O);const D=await O(V);return console.log("editGigPostAd res",V),D}catch(D){throw console.log("editGigPostAd error",D),new Error(D)}},G=_7(),K=async V=>{try{console.log("removeGigPostAd start"),console.log("removeGigPostAd",G);const D=await G({gigId:V});return console.log("removeGigPostAd res",V),D}catch(D){throw console.log("removeGigPostAd error",D),new Error(D)}},he=E7(),re=async V=>{try{console.log("sendDm start"),console.log("sendDm",he);const D=await he(V);return console.log("sendDm res",V),D}catch(D){throw console.log("sendDm error",D),new Error(D)}},ae=I7(),Q=async V=>{try{console.log("updateProfileChanges start"),console.log("updateProfileChanges",V);const D=await ae(V);return console.log("updateProfileChanges res",V),D}catch(D){throw console.log("updateProfileChanges error",D),new Error(D)}},Ae=T7(),ye=async V=>{try{console.log("submitApplication start"),console.log("submitApplication",Ae);const D=await Ae(V);return console.log("submitApplication res",V),D}catch(D){throw console.log("submitApplication error",D),new Error(D)}},we=A7();return{user:s,setUser:c,createUser:v,getProfile:w,setProfile:y,setNewUser:h,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:_,postNewAd:A,takedownUserAd:k,signout:U,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:ve,cancelUserBid:ie,removeUserAd:B,editUserAd:Z,CLAUSE_STATUSES:i,createEscrowUserAccount:st,linkEscrowUserAccount:se,getProduce:me,createJobPostAd:wt,editJobPostAd:ss,removeJobPostAd:$,postJobPostAd:Qt,takedownJobPostAd:ki,createGigPostAd:oe,editGigPostAd:M,removeGigPostAd:K,postGigPostAd:it,takedownGigPostAd:R,sendDm:re,updateProfileChanges:Q,submitApplication:ye,removeApplication:async V=>{try{console.log("removeApplication start"),console.log("removeApplication",we);const D=await we({applicationId:V});return console.log("removeApplication res",V),D}catch(D){throw console.log("removeApplication error",D),new Error(D)}}}}),S7="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const nl=typeof window<"u";function C7(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const vt=Object.assign;function ey(t,e){const n={};for(const i in e){const s=e[i];n[i]=tr(s)?s.map(t):t(s)}return n}const $c=()=>{},tr=Array.isArray,R7=/\/$/,P7=t=>t.replace(R7,"");function ty(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let h=e.indexOf("?");return c<h&&c>=0&&(h=-1),h>-1&&(i=e.slice(0,h),o=e.slice(h+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=N7(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function k7(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function sS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function x7(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Ml(e.matched[i],n.matched[s])&&Lk(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ml(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Lk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!O7(t[n],e[n]))return!1;return!0}function O7(t,e){return tr(t)?oS(t,e):tr(e)?oS(e,t):t===e}function oS(t,e){return tr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function N7(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var pd;(function(t){t.pop="pop",t.push="push"})(pd||(pd={}));var jc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(jc||(jc={}));function D7(t){if(!t)if(nl){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),P7(t)}const L7=/^[^#]+#/;function M7(t,e){return t.replace(L7,"#")+e}function V7(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Fm=()=>({left:window.pageXOffset,top:window.pageYOffset});function F7(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=V7(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function aS(t,e){return(history.state?history.state.position-e:-1)+t}const l_=new Map;function U7(t,e){l_.set(t,e)}function $7(t){const e=l_.get(t);return l_.delete(t),e}let j7=()=>location.protocol+"//"+location.host;function Mk(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,h=s.slice(c);return h[0]!=="/"&&(h="/"+h),sS(h,"")}return sS(n,t)+i+s}function B7(t,e,n,i){let s=[],o=[],l=null;const c=({state:y})=>{const w=Mk(t,location),T=n.value,_=e.value;let E=0;if(y){if(n.value=w,e.value=y,l&&l===T){l=null;return}E=_?y.position-_.position:0}else i(w);s.forEach(A=>{A(n.value,T,{delta:E,type:pd.pop,direction:E?E>0?jc.forward:jc.back:jc.unknown})})};function h(){l=n.value}function f(y){s.push(y);const w=()=>{const T=s.indexOf(y);T>-1&&s.splice(T,1)};return o.push(w),w}function p(){const{history:y}=window;y.state&&y.replaceState(vt({},y.state,{scroll:Fm()}),"")}function v(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:h,listen:f,destroy:v}}function lS(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Fm():null}}function q7(t){const{history:e,location:n}=window,i={value:Mk(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(h,f,p){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+h:j7()+t+h;try{e[p?"replaceState":"pushState"](f,"",y),s.value=f}catch(w){console.error(w),n[p?"replace":"assign"](y)}}function l(h,f){const p=vt({},e.state,lS(s.value.back,h,s.value.forward,!0),f,{position:s.value.position});o(h,p,!0),i.value=h}function c(h,f){const p=vt({},s.value,e.state,{forward:h,scroll:Fm()});o(p.current,p,!0);const v=vt({},lS(i.value,h,null),{position:p.position+1},f);o(h,v,!1),i.value=h}return{location:i,state:s,push:c,replace:l}}function H7(t){t=D7(t);const e=q7(t),n=B7(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=vt({location:"",base:t,go:i,createHref:M7.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function G7(t){return typeof t=="string"||t&&typeof t=="object"}function Vk(t){return typeof t=="string"||typeof t=="symbol"}const Cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fk=Symbol("");var uS;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(uS||(uS={}));function Vl(t,e){return vt(new Error,{type:t,[Fk]:!0},e)}function Vr(t,e){return t instanceof Error&&Fk in t&&(e==null||!!(t.type&e))}const cS="[^/]+?",W7={sensitive:!1,strict:!1,start:!0,end:!0},z7=/[.+*?^${}()[\]/\\]/g;function K7(t,e){const n=vt({},W7,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const y=f[v];let w=40+(n.sensitive?.25:0);if(y.type===0)v||(s+="/"),s+=y.value.replace(z7,"\\$&"),w+=40;else if(y.type===1){const{value:T,repeatable:_,optional:E,regexp:A}=y;o.push({name:T,repeatable:_,optional:E});const P=A||cS;if(P!==cS){w+=10;try{new RegExp(`(${P})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${T}" (${P}): `+x.message)}}let k=_?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(k=E&&f.length<2?`(?:/${k})`:"/"+k),E&&(k+="?"),s+=k,w+=20,E&&(w+=-8),_&&(w+=-20),P===".*"&&(w+=-50)}p.push(w)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(l),v={};if(!p)return null;for(let y=1;y<p.length;y++){const w=p[y]||"",T=o[y-1];v[T.name]=w&&T.repeatable?w.split("/"):w}return v}function h(f){let p="",v=!1;for(const y of t){(!v||!p.endsWith("/"))&&(p+="/"),v=!1;for(const w of y)if(w.type===0)p+=w.value;else if(w.type===1){const{value:T,repeatable:_,optional:E}=w,A=T in f?f[T]:"";if(tr(A)&&!_)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const P=tr(A)?A.join("/"):A;if(!P)if(E)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):v=!0);else throw new Error(`Missing required param "${T}"`);p+=P}}return p||"/"}return{re:l,score:i,keys:o,parse:c,stringify:h}}function J7(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Y7(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=J7(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(dS(i))return 1;if(dS(s))return-1}return s.length-i.length}function dS(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Q7={type:0,value:""},X7=/[a-zA-Z0-9_]/;function Z7(t){if(!t)return[[]];if(t==="/")return[[Q7]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(w){throw new Error(`ERR (${n})/"${f}": ${w}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,h,f="",p="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:p,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=h}for(;c<t.length;){if(h=t[c++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(f&&v(),l()):h===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:h==="("?n=2:X7.test(h)?y():(v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--);break;case 2:h===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+h:n=3:p+=h;break;case 3:v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function e8(t,e,n){const i=K7(Z7(t.path),n),s=vt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function t8(t,e){const n=[],i=new Map;e=pS({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function o(p,v,y){const w=!y,T=n8(p);T.aliasOf=y&&y.record;const _=pS(e,p),E=[T];if("alias"in p){const k=typeof p.alias=="string"?[p.alias]:p.alias;for(const x of k)E.push(vt({},T,{components:y?y.record.components:T.components,path:x,aliasOf:y?y.record:T}))}let A,P;for(const k of E){const{path:x}=k;if(v&&x[0]!=="/"){const B=v.record.path,F=B[B.length-1]==="/"?"":"/";k.path=v.record.path+(x&&F+x)}if(A=e8(k,v,_),y?y.alias.push(A):(P=P||A,P!==A&&P.alias.push(A),w&&p.name&&!fS(A)&&l(p.name)),T.children){const B=T.children;for(let F=0;F<B.length;F++)o(B[F],A,y&&y.children[F])}y=y||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&h(A)}return P?()=>{l(P)}:$c}function l(p){if(Vk(p)){const v=i.get(p);v&&(i.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&i.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function h(p){let v=0;for(;v<n.length&&Y7(p,n[v])>=0&&(p.record.path!==n[v].record.path||!Uk(p,n[v]));)v++;n.splice(v,0,p),p.record.name&&!fS(p)&&i.set(p.record.name,p)}function f(p,v){let y,w={},T,_;if("name"in p&&p.name){if(y=i.get(p.name),!y)throw Vl(1,{location:p});_=y.record.name,w=vt(hS(v.params,y.keys.filter(P=>!P.optional).map(P=>P.name)),p.params&&hS(p.params,y.keys.map(P=>P.name))),T=y.stringify(w)}else if("path"in p)T=p.path,y=n.find(P=>P.re.test(T)),y&&(w=y.parse(T),_=y.record.name);else{if(y=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!y)throw Vl(1,{location:p,currentLocation:v});_=y.record.name,w=vt({},v.params,p.params),T=y.stringify(w)}const E=[];let A=y;for(;A;)E.unshift(A.record),A=A.parent;return{name:_,path:T,params:w,matched:E,meta:r8(E)}}return t.forEach(p=>o(p)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function hS(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function n8(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:i8(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function i8(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function fS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function r8(t){return t.reduce((e,n)=>vt(e,n.meta),{})}function pS(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Uk(t,e){return e.children.some(n=>n===t||Uk(t,n))}const $k=/#/g,s8=/&/g,o8=/\//g,a8=/=/g,l8=/\?/g,jk=/\+/g,u8=/%5B/g,c8=/%5D/g,Bk=/%5E/g,d8=/%60/g,qk=/%7B/g,h8=/%7C/g,Hk=/%7D/g,f8=/%20/g;function vw(t){return encodeURI(""+t).replace(h8,"|").replace(u8,"[").replace(c8,"]")}function p8(t){return vw(t).replace(qk,"{").replace(Hk,"}").replace(Bk,"^")}function u_(t){return vw(t).replace(jk,"%2B").replace(f8,"+").replace($k,"%23").replace(s8,"%26").replace(d8,"`").replace(qk,"{").replace(Hk,"}").replace(Bk,"^")}function m8(t){return u_(t).replace(a8,"%3D")}function g8(t){return vw(t).replace($k,"%23").replace(l8,"%3F")}function v8(t){return t==null?"":g8(t).replace(o8,"%2F")}function bp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function y8(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(jk," "),l=o.indexOf("="),c=bp(l<0?o:o.slice(0,l)),h=l<0?null:bp(o.slice(l+1));if(c in e){let f=e[c];tr(f)||(f=e[c]=[f]),f.push(h)}else e[c]=h}return e}function mS(t){let e="";for(let n in t){const i=t[n];if(n=m8(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(tr(i)?i.map(o=>o&&u_(o)):[i&&u_(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function _8(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=tr(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const w8=Symbol(""),gS=Symbol(""),Um=Symbol(""),Gk=Symbol(""),c_=Symbol("");function fc(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function xs(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=v=>{v===!1?c(Vl(4,{from:n,to:e})):v instanceof Error?c(v):G7(v)?c(Vl(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,h);let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(v=>c(v))})}function ny(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(b8(c)){const f=(c.__vccOpts||c)[e];f&&s.push(xs(f,n,i,o,l))}else{let h=c();s.push(()=>h.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const p=C7(f)?f.default:f;o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&xs(y,n,i,o,l)()}))}}return s}function b8(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vS(t){const e=Nt(Um),n=Nt(Gk),i=Ee(()=>e.resolve(N(t.to))),s=Ee(()=>{const{matched:h}=i.value,{length:f}=h,p=h[f-1],v=n.matched;if(!p||!v.length)return-1;const y=v.findIndex(Ml.bind(null,p));if(y>-1)return y;const w=yS(h[f-2]);return f>1&&yS(p)===w&&v[v.length-1].path!==w?v.findIndex(Ml.bind(null,h[f-2])):y}),o=Ee(()=>s.value>-1&&T8(n.params,i.value.params)),l=Ee(()=>s.value>-1&&s.value===n.matched.length-1&&Lk(n.params,i.value.params));function c(h={}){return I8(h)?e[N(t.replace)?"replace":"push"](N(t.to)).catch($c):Promise.resolve()}return{route:i,href:Ee(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const E8=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vS,setup(t,{slots:e}){const n=Hn(vS(t)),{options:i}=Nt(Um),s=Ee(()=>({[_S(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[_S(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:on("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Ac=E8;function I8(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function T8(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!tr(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function yS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _S=(t,e,n)=>t??e??n,A8=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Nt(c_),s=Ee(()=>t.route||i.value),o=Nt(gS,0),l=Ee(()=>{let f=N(o);const{matched:p}=s.value;let v;for(;(v=p[f])&&!v.components;)f++;return f}),c=Ee(()=>s.value.matched[l.value]);si(gS,Ee(()=>l.value+1)),si(w8,c),si(c_,s);const h=J();return hi(()=>[h.value,c.value,t.name],([f,p,v],[y,w,T])=>{p&&(p.instances[v]=f,w&&w!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=w.leaveGuards),p.updateGuards.size||(p.updateGuards=w.updateGuards))),f&&p&&(!w||!Ml(p,w)||!y)&&(p.enterCallbacks[v]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,v=c.value,y=v&&v.components[p];if(!y)return wS(n.default,{Component:y,route:f});const w=v.props[p],T=w?w===!0?f.params:typeof w=="function"?w(f):w:null,E=on(y,vt({},T,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(v.instances[p]=null)},ref:h}));return wS(n.default,{Component:E,route:f})||E}}});function wS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Wk=A8;function S8(t){const e=t8(t.routes,t),n=t.parseQuery||y8,i=t.stringifyQuery||mS,s=t.history,o=fc(),l=fc(),c=fc(),h=ek(Cs);let f=Cs;nl&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=ey.bind(null,$=>""+$),v=ey.bind(null,v8),y=ey.bind(null,bp);function w($,pe){let oe,Te;return Vk($)?(oe=e.getRecordMatcher($),Te=pe):Te=$,e.addRoute(Te,oe)}function T($){const pe=e.getRecordMatcher($);pe&&e.removeRoute(pe)}function _(){return e.getRoutes().map($=>$.record)}function E($){return!!e.getRecordMatcher($)}function A($,pe){if(pe=vt({},pe||h.value),typeof $=="string"){const O=ty(n,$,pe.path),M=e.resolve({path:O.path},pe),G=s.createHref(O.fullPath);return vt(O,M,{params:y(M.params),hash:bp(O.hash),redirectedFrom:void 0,href:G})}let oe;if("path"in $)oe=vt({},$,{path:ty(n,$.path,pe.path).path});else{const O=vt({},$.params);for(const M in O)O[M]==null&&delete O[M];oe=vt({},$,{params:v(O)}),pe.params=v(pe.params)}const Te=e.resolve(oe,pe),it=$.hash||"";Te.params=p(y(Te.params));const C=k7(i,vt({},$,{hash:p8(it),path:Te.path})),R=s.createHref(C);return vt({fullPath:C,hash:it,query:i===mS?_8($.query):$.query||{}},Te,{redirectedFrom:void 0,href:R})}function P($){return typeof $=="string"?ty(n,$,h.value.path):vt({},$)}function k($,pe){if(f!==$)return Vl(8,{from:pe,to:$})}function x($){return Z($)}function B($){return x(vt(P($),{replace:!0}))}function F($){const pe=$.matched[$.matched.length-1];if(pe&&pe.redirect){const{redirect:oe}=pe;let Te=typeof oe=="function"?oe($):oe;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=P(Te):{path:Te},Te.params={}),vt({query:$.query,hash:$.hash,params:"path"in Te?{}:$.params},Te)}}function Z($,pe){const oe=f=A($),Te=h.value,it=$.state,C=$.force,R=$.replace===!0,O=F(oe);if(O)return Z(vt(P(O),{state:typeof O=="object"?vt({},it,O.state):it,force:C,replace:R}),pe||oe);const M=oe;M.redirectedFrom=pe;let G;return!C&&x7(i,Te,oe)&&(G=Vl(16,{to:M,from:Te}),Qt(Te,Te,!0,!1)),(G?Promise.resolve(G):ve(M,Te)).catch(K=>Vr(K)?Vr(K,2)?K:ot(K):Re(K,M,Te)).then(K=>{if(K){if(Vr(K,2))return Z(vt({replace:R},P(K.to),{state:typeof K.to=="object"?vt({},it,K.to.state):it,force:C}),pe||M)}else K=ie(M,Te,!0,R,it);return de(M,Te,K),K})}function U($,pe){const oe=k($,pe);return oe?Promise.reject(oe):Promise.resolve()}function te($){const pe=mi.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext($):$()}function ve($,pe){let oe;const[Te,it,C]=C8($,pe);oe=ny(Te.reverse(),"beforeRouteLeave",$,pe);for(const O of Te)O.leaveGuards.forEach(M=>{oe.push(xs(M,$,pe))});const R=U.bind(null,$,pe);return oe.push(R),Ht(oe).then(()=>{oe=[];for(const O of o.list())oe.push(xs(O,$,pe));return oe.push(R),Ht(oe)}).then(()=>{oe=ny(it,"beforeRouteUpdate",$,pe);for(const O of it)O.updateGuards.forEach(M=>{oe.push(xs(M,$,pe))});return oe.push(R),Ht(oe)}).then(()=>{oe=[];for(const O of C)if(O.beforeEnter)if(tr(O.beforeEnter))for(const M of O.beforeEnter)oe.push(xs(M,$,pe));else oe.push(xs(O.beforeEnter,$,pe));return oe.push(R),Ht(oe)}).then(()=>($.matched.forEach(O=>O.enterCallbacks={}),oe=ny(C,"beforeRouteEnter",$,pe),oe.push(R),Ht(oe))).then(()=>{oe=[];for(const O of l.list())oe.push(xs(O,$,pe));return oe.push(R),Ht(oe)}).catch(O=>Vr(O,8)?O:Promise.reject(O))}function de($,pe,oe){c.list().forEach(Te=>te(()=>Te($,pe,oe)))}function ie($,pe,oe,Te,it){const C=k($,pe);if(C)return C;const R=pe===Cs,O=nl?history.state:{};oe&&(Te||R?s.replace($.fullPath,vt({scroll:R&&O&&O.scroll},it)):s.push($.fullPath,it)),h.value=$,Qt($,pe,oe,R),ot()}let ue;function st(){ue||(ue=s.listen(($,pe,oe)=>{if(!ss.listening)return;const Te=A($),it=F(Te);if(it){Z(vt(it,{replace:!0}),Te).catch($c);return}f=Te;const C=h.value;nl&&U7(aS(C.fullPath,oe.delta),Fm()),ve(Te,C).catch(R=>Vr(R,12)?R:Vr(R,2)?(Z(R.to,Te).then(O=>{Vr(O,20)&&!oe.delta&&oe.type===pd.pop&&s.go(-1,!1)}).catch($c),Promise.reject()):(oe.delta&&s.go(-oe.delta,!1),Re(R,Te,C))).then(R=>{R=R||ie(Te,C,!1),R&&(oe.delta&&!Vr(R,8)?s.go(-oe.delta,!1):oe.type===pd.pop&&Vr(R,20)&&s.go(-1,!1)),de(Te,C,R)}).catch($c)}))}let ke=fc(),se=fc(),me;function Re($,pe,oe){ot($);const Te=se.list();return Te.length?Te.forEach(it=>it($,pe,oe)):console.error($),Promise.reject($)}function wt(){return me&&h.value!==Cs?Promise.resolve():new Promise(($,pe)=>{ke.add([$,pe])})}function ot($){return me||(me=!$,st(),ke.list().forEach(([pe,oe])=>$?oe($):pe()),ke.reset()),$}function Qt($,pe,oe,Te){const{scrollBehavior:it}=t;if(!nl||!it)return Promise.resolve();const C=!oe&&$7(aS($.fullPath,0))||(Te||!oe)&&history.state&&history.state.scroll||null;return Yi().then(()=>it($,pe,C)).then(R=>R&&F7(R)).catch(R=>Re(R,$,pe))}const at=$=>s.go($);let ki;const mi=new Set,ss={currentRoute:h,listening:!0,addRoute:w,removeRoute:T,hasRoute:E,getRoutes:_,resolve:A,options:t,push:x,replace:B,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:se.add,isReady:wt,install($){const pe=this;$.component("RouterLink",Ac),$.component("RouterView",Wk),$.config.globalProperties.$router=pe,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>N(h)}),nl&&!ki&&h.value===Cs&&(ki=!0,x(s.location).catch(it=>{}));const oe={};for(const it in Cs)Object.defineProperty(oe,it,{get:()=>h.value[it],enumerable:!0});$.provide(Um,pe),$.provide(Gk,JP(oe)),$.provide(c_,h);const Te=$.unmount;mi.add($),$.unmount=function(){mi.delete($),mi.size<1&&(f=Cs,ue&&ue(),ue=null,h.value=Cs,ki=!1,me=!1),Te()}}};function Ht($){return $.reduce((pe,oe)=>pe.then(()=>te(oe)),Promise.resolve())}return ss}function C8(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>Ml(f,c))?i.push(c):n.push(c));const h=t.matched[l];h&&(e.matched.find(f=>Ml(f,h))||s.push(h))}return[n,i,s]}function $m(){return Nt(Um)}const un=Dk("ModalStore",()=>{const t=Hn({addgig:!1,editgig:!1,addjob:!1,editjob:!1,addad:!1,addbid:!1,editad:!1,viewjob:!1,viewgig:!1,confirmremove:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=Hn({show:!1,message:"",type:"",context:{}}),i=Hn({show:!1,message:"",type:"",context:{}}),s=Hn({show:!1,to:null});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.viewjob=!1,t.confirmremove=!1,t.addgig=!1,t.editgig=!1,t.addjob=!1,t.editjob=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}},messaging:s}}),R8={key:0},P8=Oe({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(j(),le("div",R8,[I("div",{class:Dn(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):Ue("",!0)}});const k8=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Fl=k8(P8,[["__scopeId","data-v-634cf170"]]),x8=["disabled"],ir=Oe({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(j(),le("button",{class:Dn([t.classes,"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"]),disabled:t.disabled,onClick:i},[q(Fl,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?Ue("",!0):mk(s.$slots,"default",{key:0})],10,x8))}});function An(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,An),i}var Ul=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ul||{}),Ms=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ms||{});function oi({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=Kk(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return iy(c);if(e&1){let h=(o=l.unmount)==null||o?0:1;return An(h,{0(){return null},1(){return iy({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return iy(c)}function iy({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...h}=yw(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),p={};if(i){let v=!1,y=[];for(let[w,T]of Object.entries(i))typeof T=="boolean"&&(v=!0),T===!0&&y.push(w);v&&(p["data-headlessui-state"]=y.join(" "))}if(c==="template"){if(f=zk(f??[]),Object.keys(h).length>0||Object.keys(e).length>0){let[v,...y]=f??[];if(!N8(v)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(e)).map(_=>_.trim()).filter((_,E,A)=>A.indexOf(_)===E).sort((_,E)=>_.localeCompare(E)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let w=Kk((l=v.props)!=null?l:{},h),T=es(v,w);for(let _ in w)_.startsWith("on")&&(T.props||(T.props={}),T.props[_]=w[_]);return T}return Array.isArray(f)&&f.length===1?f[0]:f}return on(c,Object.assign({},h,p),{default:()=>f})}function zk(t){return t.flatMap(e=>e.type===nt?zk(e.children):[e])}function Kk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function O8(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function yw(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function N8(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let D8=0;function L8(){return++D8}function to(){return L8()}var gn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(gn||{});function M8(t){throw new Error("Unexpected object: "+t)}var ti=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ti||{});function V8(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1,o=(()=>{switch(t.focus){case 0:return n.findIndex(l=>!e.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,h,f)=>s!==-1&&f.length-h-1>=s?!1:!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=s?!1:!e.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>e.resolveId(l)===t.id);case 5:return null;default:M8(t)}})();return o===-1?i:o}function Ke(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let Jk=Symbol("Context");var On=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(On||{});function F8(){return jm()!==null}function jm(){return Nt(Jk,null)}function Yk(t){si(Jk,t)}function bS(t,e){if(t)return t;let n=e??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function U8(t,e){let n=J(bS(t.value.type,t.value.as));return kt(()=>{n.value=bS(t.value.type,t.value.as)}),Pi(()=>{var i;n.value||Ke(e)&&Ke(e)instanceof HTMLButtonElement&&!((i=Ke(e))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var $8=Object.defineProperty,j8=(t,e,n)=>e in t?$8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ES=(t,e,n)=>(j8(t,typeof e!="symbol"?e+"":e,n),n);class B8{constructor(){ES(this,"current",this.detect()),ES(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let jd=new B8;function Zl(t){if(jd.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ke(t);if(e)return e.ownerDocument}return document}let d_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ns=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ns||{}),Qk=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Qk||{}),q8=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(q8||{});function H8(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(d_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var _w=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(_w||{});function Xk(t,e=0){var n;return t===((n=Zl(t))==null?void 0:n.body)?!1:An(e,{0(){return t.matches(d_)},1(){let i=t;for(;i!==null;){if(i.matches(d_))return!0;i=i.parentElement}return!1}})}var G8=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(G8||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ko(t){t==null||t.focus({preventScroll:!0})}let W8=["textarea","input"].join(",");function z8(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,W8))!=null?n:!1}function Zk(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Vf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?Zk(t):t:H8(t);s.length>0&&c.length>1&&(c=c.filter(T=>!s.includes(T))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,y=c.length,w;do{if(v>=y||v+y<=0)return 0;let T=f+v;if(e&16)T=(T+y)%y;else{if(T<0)return 3;if(T>=y)return 1}w=c[T],w==null||w.focus(p),v+=h}while(w!==l.activeElement);return e&6&&z8(w)&&w.select(),2}function If(t,e,n){jd.isServer||Pi(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function ex(t,e,n){jd.isServer||Pi(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function tx(t,e,n=Ee(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:Ke(f);if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!Xk(c,_w.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=J(null);If("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),If("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),If("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),If("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),ex("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var md=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(md||{});let Ep=Oe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return oi({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function nx(t={},e=null,n=[]){for(let[i,s]of Object.entries(t))rx(n,ix(e,i),s);return n}function ix(t,e){return t?t+"["+e+"]":e}function rx(t,e,n){if(Array.isArray(n))for(let[i,s]of n.entries())rx(t,ix(e,i.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):nx(n,e,t)}function K8(t,e,n){let i=J(n==null?void 0:n.value),s=Ee(()=>t.value!==void 0);return[Ee(()=>s.value?t.value:i.value),function(o){return s.value||(i.value=o),e==null?void 0:e(o)}]}function IS(t){return[t.screenX,t.screenY]}function J8(){let t=J([-1,-1]);return{wasMoved(e){let n=IS(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=IS(e)}}}function Y8(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ww(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Bd(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return ww(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=Bd();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var Sc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Sc||{});function Q8(){let t=J(0);return ex("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function sx(t,e,n,i){jd.isServer||Pi(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function X8(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function ox(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=Ke(n);i instanceof HTMLElement&&e.add(i)}return e}var ax=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(ax||{});let pc=Object.assign(Oe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:J(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=J(null);i({el:s,$el:s});let o=Ee(()=>Zl(s)),l=J(!1);kt(()=>l.value=!0),pi(()=>l.value=!1),eq({ownerDocument:o},Ee(()=>l.value&&!!(t.features&16)));let c=tq({ownerDocument:o,container:s,initialFocus:Ee(()=>t.initialFocus)},Ee(()=>l.value&&!!(t.features&2)));nq({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},Ee(()=>l.value&&!!(t.features&8)));let h=Q8();function f(w){let T=Ke(s);T&&(_=>_())(()=>{An(h.value,{[Sc.Forwards]:()=>{Vf(T,Ns.First,{skipElements:[w.relatedTarget]})},[Sc.Backwards]:()=>{Vf(T,Ns.Last,{skipElements:[w.relatedTarget]})}})})}let p=J(!1);function v(w){w.key==="Tab"&&(p.value=!0,requestAnimationFrame(()=>{p.value=!1}))}function y(w){if(!l.value)return;let T=ox(t.containers);Ke(s)instanceof HTMLElement&&T.add(Ke(s));let _=w.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(lx(T,_)||(p.value?Vf(Ke(s),An(h.value,{[Sc.Forwards]:()=>Ns.Next,[Sc.Backwards]:()=>Ns.Previous})|Ns.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&Ko(w.target)))}return()=>{let w={},T={ref:s,onKeydown:v,onFocusout:y},{features:_,initialFocus:E,containers:A,...P}=t;return on(nt,[!!(_&4)&&on(Ep,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:md.Focusable}),oi({ourProps:T,theirProps:{...e,...P},slot:w,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&on(Ep,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:md.Focusable})])}}}),{features:ax}),No=[];X8(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&No[0]!==e.target&&(No.unshift(e.target),No=No.filter(n=>n!=null&&n.isConnected),No.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Z8(t){let e=J(No.slice());return hi([t],([n],[i])=>{i===!0&&n===!1?ww(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=No.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function eq({ownerDocument:t},e){let n=Z8(e);kt(()=>{Pi(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&Ko(n())},{flush:"post"})}),pi(()=>{e.value&&Ko(n())})}function tq({ownerDocument:t,container:e,initialFocus:n},i){let s=J(null),o=J(!1);return kt(()=>o.value=!0),pi(()=>o.value=!1),kt(()=>{hi([e,n,i],(l,c)=>{if(l.every((f,p)=>(c==null?void 0:c[p])===f)||!i.value)return;let h=Ke(e);h&&ww(()=>{var f,p;if(!o.value)return;let v=Ke(n),y=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===y){s.value=y;return}}else if(h.contains(y)){s.value=y;return}v?Ko(v):Vf(h,Ns.First|Ns.NoScroll)===Qk.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(p=t.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),s}function nq({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;sx((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=ox(n);Ke(e)instanceof HTMLElement&&c.add(Ke(e));let h=i.value;if(!h)return;let f=l.target;f&&f instanceof HTMLElement?lx(c,f)?(i.value=f,Ko(f)):(l.preventDefault(),l.stopPropagation(),Ko(h)):Ko(i.value)},!0)}function lx(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let ry=new Map,mc=new Map;function TS(t,e=J(!0)){Pi(n=>{var i;if(!e.value)return;let s=Ke(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=mc.get(s))!=null?l:1;if(c===1?mc.delete(s):mc.set(s,c-1),c!==1)return;let h=ry.get(s);h&&(h["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",h["aria-hidden"]),s.inert=h.inert,ry.delete(s))});let o=(i=mc.get(s))!=null?i:0;mc.set(s,o+1),o===0&&(ry.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let ux=Symbol("ForcePortalRootContext");function iq(){return Nt(ux,!1)}let AS=Oe({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return si(ux,t.force),()=>{let{force:i,...s}=t;return oi({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function rq(t){let e=Zl(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let sq=Oe({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=J(null),s=Ee(()=>Zl(i)),o=iq(),l=Nt(cx,null),c=J(o===!0||l==null?rq(i.value):l.resolveTarget());Pi(()=>{o||l!=null&&(c.value=l.resolveTarget())});let h=Nt(h_,null);return kt(()=>{let f=Ke(i);f&&h&&pi(h.register(f))}),pi(()=>{var f,p;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((p=c.value.parentElement)==null||p.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return on(lB,{to:c.value},oi({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),h_=Symbol("PortalParentContext");function oq(){let t=Nt(h_,null),e=J([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,Oe({name:"PortalWrapper",setup(o,{slots:l}){return si(h_,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let cx=Symbol("PortalGroupContext"),aq=Oe({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=Hn({resolveTarget(){return t.target}});return si(cx,i),()=>{let{target:s,...o}=t;return oi({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),dx=Symbol("StackContext");var f_=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(f_||{});function lq(){return Nt(dx,()=>{})}function uq({type:t,enabled:e,element:n,onUpdate:i}){let s=lq();function o(...l){i==null||i(...l),s(...l)}kt(()=>{hi(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),pi(()=>{e.value&&o(1,t,n)}),si(dx,o)}let hx=Symbol("DescriptionContext");function cq(){let t=Nt(hx,null);if(t===null)throw new Error("Missing parent");return t}function dq({slot:t=J({}),name:e="Description",props:n={}}={}){let i=J([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return si(hx,{register:s,slot:t,name:e,props:n}),Ee(()=>i.value.length>0?i.value.join(" "):void 0)}let hq=Oe({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${to()}`}},setup(t,{attrs:e,slots:n}){let i=cq();return kt(()=>pi(i.register(t.id))),()=>{let{name:s="Description",slot:o=J({}),props:l={}}=i,{id:c,...h}=t,f={...Object.entries(l).reduce((p,[v,y])=>Object.assign(p,{[v]:N(y)}),{}),id:c};return oi({ourProps:f,theirProps:h,slot:o.value,attrs:e,slots:n,name:s})}}});function fq(t){let e=ek(t.getSnapshot());return pi(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function pq(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function mq(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function gq(){if(!Y8())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Bd();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),f=e.querySelector(h);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function vq(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function yq(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Uo=pq(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Bd(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:yq(n)},s=[gq(),mq(),vq()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Uo.subscribe(()=>{let t=Uo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&Uo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Uo.dispatch("TEARDOWN",n)}});function _q(t,e,n){let i=fq(Uo),s=Ee(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return hi([t,e],([o,l],[c],h)=>{if(!o||!l)return;Uo.dispatch("PUSH",o,n);let f=!1;h(()=>{f||(Uo.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function wq({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=J(null),s=Zl(i);function o(){var l;let c=[];for(let h of t)h!==null&&(h instanceof HTMLElement?c.push(h):"value"in h&&h.value instanceof HTMLElement&&c.push(h.value));if(e!=null&&e.value)for(let h of e.value)c.push(h);for(let h of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(Ke(i))||c.some(f=>h.contains(f))||c.push(h));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:on(Ep,{features:md.Hidden,ref:i})}}}var bq=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(bq||{});let p_=Symbol("DialogContext");function bw(t){let e=Nt(p_,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,bw),n}return e}let Tf="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Rr=Oe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Tf},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${to()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=J(!1);kt(()=>{l.value=!0});let c=J(0),h=jm(),f=Ee(()=>t.open===Tf&&h!==null?(h.value&On.Open)===On.Open:t.open),p=J(null),v=Ee(()=>Zl(p));if(s({el:p,$el:p}),!(t.open!==Tf||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===Tf?void 0:t.open}`);let y=Ee(()=>l.value&&f.value?0:1),w=Ee(()=>y.value===0),T=Ee(()=>c.value>1),_=Nt(p_,null)!==null,[E,A]=oq(),{resolveContainers:P,mainTreeNodeRef:k,MainTreeNode:x}=wq({portals:E,defaultContainers:[Ee(()=>{var me;return(me=ue.panelRef.value)!=null?me:p.value})]}),B=Ee(()=>T.value?"parent":"leaf"),F=Ee(()=>h!==null?(h.value&On.Closing)===On.Closing:!1),Z=Ee(()=>_||F.value?!1:w.value),U=Ee(()=>{var me,Re,wt;return(wt=Array.from((Re=(me=v.value)==null?void 0:me.querySelectorAll("body > *"))!=null?Re:[]).find(ot=>ot.id==="headlessui-portal-root"?!1:ot.contains(Ke(k))&&ot instanceof HTMLElement))!=null?wt:null});TS(U,Z);let te=Ee(()=>T.value?!0:w.value),ve=Ee(()=>{var me,Re,wt;return(wt=Array.from((Re=(me=v.value)==null?void 0:me.querySelectorAll("[data-headlessui-portal]"))!=null?Re:[]).find(ot=>ot.contains(Ke(k))&&ot instanceof HTMLElement))!=null?wt:null});TS(ve,te),uq({type:"Dialog",enabled:Ee(()=>y.value===0),element:p,onUpdate:(me,Re)=>{if(Re==="Dialog")return An(me,{[f_.Add]:()=>c.value+=1,[f_.Remove]:()=>c.value-=1})}});let de=dq({name:"DialogDescription",slot:Ee(()=>({open:f.value}))}),ie=J(null),ue={titleId:ie,panelRef:J(null),dialogState:y,setTitleId(me){ie.value!==me&&(ie.value=me)},close(){e("close",!1)}};si(p_,ue);let st=Ee(()=>!(!w.value||T.value));tx(P,(me,Re)=>{ue.close(),Yi(()=>Re==null?void 0:Re.focus())},st);let ke=Ee(()=>!(T.value||y.value!==0));sx((o=v.value)==null?void 0:o.defaultView,"keydown",me=>{ke.value&&(me.defaultPrevented||me.key===gn.Escape&&(me.preventDefault(),me.stopPropagation(),ue.close()))});let se=Ee(()=>!(F.value||y.value!==0||_));return _q(v,se,me=>{var Re;return{containers:[...(Re=me.containers)!=null?Re:[],P]}}),Pi(me=>{if(y.value!==0)return;let Re=Ke(p);if(!Re)return;let wt=new ResizeObserver(ot=>{for(let Qt of ot){let at=Qt.target.getBoundingClientRect();at.x===0&&at.y===0&&at.width===0&&at.height===0&&ue.close()}});wt.observe(Re),me(()=>wt.disconnect())}),()=>{let{id:me,open:Re,initialFocus:wt,...ot}=t,Qt={...n,ref:p,id:me,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":ie.value,"aria-describedby":de.value},at={open:y.value===0};return on(AS,{force:!0},()=>[on(sq,()=>on(aq,{target:p.value},()=>on(AS,{force:!1},()=>on(pc,{initialFocus:wt,containers:P,features:w.value?An(B.value,{parent:pc.features.RestoreFocus,leaf:pc.features.All&~pc.features.FocusLock}):pc.features.None},()=>on(A,{},()=>oi({ourProps:Qt,theirProps:{...ot,...n},slot:at,attrs:n,slots:i,visible:y.value===0,features:Ul.RenderStrategy|Ul.Static,name:"Dialog"})))))),on(x)])}}}),Pr=Oe({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${to()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=bw("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,h={id:l,ref:s.panelRef,onClick:o};return oi({ourProps:h,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),no=Oe({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${to()}`}},setup(t,{attrs:e,slots:n}){let i=bw("DialogTitle");return kt(()=>{i.setTitleId(t.id),pi(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return oi({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),io=hq,SS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function CS(t){var e,n;let i=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":i;return SS.test(l)&&(l=l.replace(SS,"")),l}function Eq(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():CS(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return CS(t).trim()}function Iq(t){let e=J(""),n=J("");return()=>{let i=Ke(t);if(!i)return"";let s=i.innerText;if(e.value===s)return n.value;let o=Eq(i).trim().toLowerCase();return e.value=s,n.value=o,o}}function Tq(t,e){return t===e}var Aq=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Aq||{}),Sq=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Sq||{}),Cq=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Cq||{});function Rq(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let fx=Symbol("ListboxContext");function Bm(t){let e=Nt(fx,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bm),n}return e}let Pq=Oe({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Tq},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:n,emit:i}){let s=J(1),o=J(null),l=J(null),c=J(null),h=J([]),f=J(""),p=J(null),v=J(1);function y(k=x=>x){let x=p.value!==null?h.value[p.value]:null,B=Zk(k(h.value.slice()),Z=>Ke(Z.dataRef.domRef)),F=x?B.indexOf(x):null;return F===-1&&(F=null),{options:B,activeOptionIndex:F}}let w=Ee(()=>t.multiple?1:0),[T,_]=K8(Ee(()=>t.modelValue),k=>i("update:modelValue",k),Ee(()=>t.defaultValue)),E=Ee(()=>T.value===void 0?An(w.value,{1:[],0:void 0}):T.value),A={listboxState:s,value:E,mode:w,compare(k,x){if(typeof t.by=="string"){let B=t.by;return(k==null?void 0:k[B])===(x==null?void 0:x[B])}return t.by(k,x)},orientation:Ee(()=>t.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:l,optionsRef:c,disabled:Ee(()=>t.disabled),options:h,searchQuery:f,activeOptionIndex:p,activationTrigger:v,closeListbox(){t.disabled||s.value!==1&&(s.value=1,p.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(k,x,B){if(t.disabled||s.value===1)return;let F=y(),Z=V8(k===ti.Specific?{focus:ti.Specific,id:x}:{focus:k},{resolveItems:()=>F.options,resolveActiveIndex:()=>F.activeOptionIndex,resolveId:U=>U.id,resolveDisabled:U=>U.dataRef.disabled});f.value="",p.value=Z,v.value=B??1,h.value=F.options},search(k){if(t.disabled||s.value===1)return;let x=f.value!==""?0:1;f.value+=k.toLowerCase();let B=(p.value!==null?h.value.slice(p.value+x).concat(h.value.slice(0,p.value+x)):h.value).find(Z=>Z.dataRef.textValue.startsWith(f.value)&&!Z.dataRef.disabled),F=B?h.value.indexOf(B):-1;F===-1||F===p.value||(p.value=F,v.value=1)},clearSearch(){t.disabled||s.value!==1&&f.value!==""&&(f.value="")},registerOption(k,x){let B=y(F=>[...F,{id:k,dataRef:x}]);h.value=B.options,p.value=B.activeOptionIndex},unregisterOption(k){let x=y(B=>{let F=B.findIndex(Z=>Z.id===k);return F!==-1&&B.splice(F,1),B});h.value=x.options,p.value=x.activeOptionIndex,v.value=1},theirOnChange(k){t.disabled||_(k)},select(k){t.disabled||_(An(w.value,{0:()=>k,1:()=>{let x=Ve(A.value.value).slice(),B=Ve(k),F=x.findIndex(Z=>A.compare(B,Ve(Z)));return F===-1?x.push(B):x.splice(F,1),x}}))}};tx([l,c],(k,x)=>{var B;A.closeListbox(),Xk(x,_w.Loose)||(k.preventDefault(),(B=Ke(l))==null||B.focus())},Ee(()=>s.value===0)),si(fx,A),Yk(Ee(()=>An(s.value,{0:On.Open,1:On.Closed})));let P=Ee(()=>{var k;return(k=Ke(l))==null?void 0:k.closest("form")});return kt(()=>{hi([P],()=>{if(!P.value||t.defaultValue===void 0)return;function k(){A.theirOnChange(t.defaultValue)}return P.value.addEventListener("reset",k),()=>{var x;(x=P.value)==null||x.removeEventListener("reset",k)}},{immediate:!0})}),()=>{let{name:k,modelValue:x,disabled:B,form:F,...Z}=t,U={open:s.value===0,disabled:B,value:E.value};return on(nt,[...k!=null&&E.value!=null?nx({[k]:E.value}).map(([te,ve])=>on(Ep,O8({features:md.Hidden,key:te,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:F,name:te,value:ve}))):[],oi({ourProps:{},theirProps:{...n,...yw(Z,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:U,slots:e,attrs:n,name:"Listbox"})])}}}),kq=Oe({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${to()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Bm("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function o(f){switch(f.key){case gn.Space:case gn.Enter:case gn.ArrowDown:f.preventDefault(),s.openListbox(),Yi(()=>{var p;(p=Ke(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(ti.First)});break;case gn.ArrowUp:f.preventDefault(),s.openListbox(),Yi(()=>{var p;(p=Ke(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(ti.Last)});break}}function l(f){switch(f.key){case gn.Space:f.preventDefault();break}}function c(f){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),Yi(()=>{var p;return(p=Ke(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),s.openListbox(),Rq(()=>{var p;return(p=Ke(s.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=U8(Ee(()=>({as:t.as,type:e.type})),s.buttonRef);return()=>{var f,p;let v={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{id:y,...w}=t,T={ref:s.buttonRef,id:y,type:h.value,"aria-haspopup":"listbox","aria-controls":(f=Ke(s.optionsRef))==null?void 0:f.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(p=Ke(s.labelRef))==null?void 0:p.id,y].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:l,onClick:c};return oi({ourProps:T,theirProps:w,slot:v,attrs:e,slots:n,name:"ListboxButton"})}}}),xq=Oe({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${to()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Bm("ListboxOptions"),o=J(null);i({el:s.optionsRef,$el:s.optionsRef});function l(f){switch(o.value&&clearTimeout(o.value),f.key){case gn.Space:if(s.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case gn.Enter:if(f.preventDefault(),f.stopPropagation(),s.activeOptionIndex.value!==null){let p=s.options.value[s.activeOptionIndex.value];s.select(p.dataRef.value)}s.mode.value===0&&(s.closeListbox(),Yi(()=>{var p;return(p=Ke(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case An(s.orientation.value,{vertical:gn.ArrowDown,horizontal:gn.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption(ti.Next);case An(s.orientation.value,{vertical:gn.ArrowUp,horizontal:gn.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption(ti.Previous);case gn.Home:case gn.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption(ti.First);case gn.End:case gn.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption(ti.Last);case gn.Escape:f.preventDefault(),f.stopPropagation(),s.closeListbox(),Yi(()=>{var p;return(p=Ke(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case gn.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),o.value=setTimeout(()=>s.clearSearch(),350));break}}let c=jm(),h=Ee(()=>c!==null?(c.value&On.Open)===On.Open:s.listboxState.value===0);return()=>{var f,p,v,y;let w={open:s.listboxState.value===0},{id:T,..._}=t,E={"aria-activedescendant":s.activeOptionIndex.value===null||(f=s.options.value[s.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(y=(p=Ke(s.labelRef))==null?void 0:p.id)!=null?y:(v=Ke(s.buttonRef))==null?void 0:v.id,"aria-orientation":s.orientation.value,id:T,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return oi({ourProps:E,theirProps:_,slot:w,attrs:e,slots:n,features:Ul.RenderStrategy|Ul.Static,visible:h.value,name:"ListboxOptions"})}}}),Oq=Oe({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${to()}`}},setup(t,{slots:e,attrs:n,expose:i}){let s=Bm("ListboxOption"),o=J(null);i({el:o,$el:o});let l=Ee(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===t.id:!1),c=Ee(()=>An(s.mode.value,{0:()=>s.compare(Ve(s.value.value),Ve(t.value)),1:()=>Ve(s.value.value).some(A=>s.compare(Ve(A),Ve(t.value)))})),h=Ee(()=>An(s.mode.value,{1:()=>{var A;let P=Ve(s.value.value);return((A=s.options.value.find(k=>P.some(x=>s.compare(Ve(x),Ve(k.dataRef.value)))))==null?void 0:A.id)===t.id},0:()=>c.value})),f=Iq(o),p=Ee(()=>({disabled:t.disabled,value:t.value,get textValue(){return f()},domRef:o}));kt(()=>s.registerOption(t.id,p)),pi(()=>s.unregisterOption(t.id)),kt(()=>{hi([s.listboxState,c],()=>{s.listboxState.value===0&&c.value&&An(s.mode.value,{1:()=>{h.value&&s.goToOption(ti.Specific,t.id)},0:()=>{s.goToOption(ti.Specific,t.id)}})},{immediate:!0})}),Pi(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&Yi(()=>{var A,P;return(P=(A=Ke(o))==null?void 0:A.scrollIntoView)==null?void 0:P.call(A,{block:"nearest"})})});function v(A){if(t.disabled)return A.preventDefault();s.select(t.value),s.mode.value===0&&(s.closeListbox(),Yi(()=>{var P;return(P=Ke(s.buttonRef))==null?void 0:P.focus({preventScroll:!0})}))}function y(){if(t.disabled)return s.goToOption(ti.Nothing);s.goToOption(ti.Specific,t.id)}let w=J8();function T(A){w.update(A)}function _(A){w.wasMoved(A)&&(t.disabled||l.value||s.goToOption(ti.Specific,t.id,0))}function E(A){w.wasMoved(A)&&(t.disabled||l.value&&s.goToOption(ti.Nothing))}return()=>{let{disabled:A}=t,P={active:l.value,selected:c.value,disabled:A},{id:k,value:x,disabled:B,...F}=t,Z={id:k,ref:o,role:"option",tabIndex:A===!0?void 0:-1,"aria-disabled":A===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:v,onFocus:y,onPointerenter:T,onMouseenter:T,onPointermove:_,onMousemove:_,onPointerleave:E,onMouseleave:E};return oi({ourProps:Z,theirProps:F,slot:P,attrs:n,slots:e,name:"ListboxOption"})}}});function Nq(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function sy(t,...e){t&&e.length>0&&t.classList.add(...e)}function Af(t,...e){t&&e.length>0&&t.classList.remove(...e)}var m_=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(m_||{});function Dq(t,e){let n=Bd();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[h=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return h});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function RS(t,e,n,i,s,o){let l=Bd(),c=o!==void 0?Nq(o):()=>{};return Af(t,...s),sy(t,...e,...n),l.nextFrame(()=>{Af(t,...n),sy(t,...i),l.add(Dq(t,h=>(Af(t,...i,...e),sy(t,...s),c(h))))}),l.add(()=>Af(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function Co(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let Ew=Symbol("TransitionContext");var Lq=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Lq||{});function Mq(){return Nt(Ew,null)!==null}function Vq(){let t=Nt(Ew,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function Fq(){let t=Nt(Iw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let Iw=Symbol("NestingContext");function qm(t){return"children"in t?qm(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function px(t){let e=J([]),n=J(!1);kt(()=>n.value=!0),pi(()=>n.value=!1);function i(o,l=Ms.Hidden){let c=e.value.findIndex(({id:h})=>h===o);c!==-1&&(An(l,{[Ms.Unmount](){e.value.splice(c,1)},[Ms.Hidden](){e.value[c].state="hidden"}}),!qm(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,Ms.Unmount)}return{children:e,register:s,unregister:i}}let mx=Ul.RenderStrategy,Jt=Oe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=J(0);function l(){o.value|=On.Opening,e("beforeEnter")}function c(){o.value&=~On.Opening,e("afterEnter")}function h(){o.value|=On.Closing,e("beforeLeave")}function f(){o.value&=~On.Closing,e("afterLeave")}if(!Mq()&&F8())return()=>on(rr,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:h,onAfterLeave:f},i);let p=J(null),v=Ee(()=>t.unmount?Ms.Unmount:Ms.Hidden);s({el:p,$el:p});let{show:y,appear:w}=Vq(),{register:T,unregister:_}=Fq(),E=J(y.value?"visible":"hidden"),A={value:!0},P=to(),k={value:!1},x=px(()=>{!k.value&&E.value!=="hidden"&&(E.value="hidden",_(P),f())});kt(()=>{let ue=T(P);pi(ue)}),Pi(()=>{if(v.value===Ms.Hidden&&P){if(y.value&&E.value!=="visible"){E.value="visible";return}An(E.value,{hidden:()=>_(P),visible:()=>T(P)})}});let B=Co(t.enter),F=Co(t.enterFrom),Z=Co(t.enterTo),U=Co(t.entered),te=Co(t.leave),ve=Co(t.leaveFrom),de=Co(t.leaveTo);kt(()=>{Pi(()=>{if(E.value==="visible"){let ue=Ke(p);if(ue instanceof Comment&&ue.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ie(ue){let st=A.value&&!w.value,ke=Ke(p);!ke||!(ke instanceof HTMLElement)||st||(k.value=!0,y.value&&l(),y.value||h(),ue(y.value?RS(ke,B,F,Z,U,se=>{k.value=!1,se===m_.Finished&&c()}):RS(ke,te,ve,de,U,se=>{k.value=!1,se===m_.Finished&&(qm(x)||(E.value="hidden",_(P),f()))})))}return kt(()=>{hi([y],(ue,st,ke)=>{ie(ke),A.value=!1},{immediate:!0})}),si(Iw,x),Yk(Ee(()=>An(E.value,{visible:On.Open,hidden:On.Closed})|o.value)),()=>{let{appear:ue,show:st,enter:ke,enterFrom:se,enterTo:me,entered:Re,leave:wt,leaveFrom:ot,leaveTo:Qt,...at}=t,ki={ref:p},mi={...at,...w.value&&y.value&&jd.isServer?{class:Dn([n.class,at.class,...B,...F])}:{}};return oi({theirProps:mi,ourProps:ki,slot:{},slots:i,attrs:n,features:mx,visible:E.value==="visible",name:"TransitionChild"})}}}),Uq=Jt,rr=Oe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=jm(),o=Ee(()=>t.show===null&&s!==null?(s.value&On.Open)===On.Open:t.show);Pi(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=J(o.value?"visible":"hidden"),c=px(()=>{l.value="hidden"}),h=J(!0),f={show:o,appear:Ee(()=>t.appear||!h.value)};return kt(()=>{Pi(()=>{h.value=!1,o.value?l.value="visible":qm(c)||(l.value="hidden")})}),si(Iw,c),si(Ew,f),()=>{let p=yw(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return oi({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[on(Uq,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...p},i.default)]},attrs:{},features:mx,visible:l.value==="visible",name:"Transition"})}}});function gx(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function $q(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function jq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function Bq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function qq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})])}function Hq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Gq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function vx(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function yx(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function Wq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})])}function zq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function Kq(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})])}function g_(t,e){return j(),le("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const Jq={class:"relative mt-1 w-72"},Yq={class:"block truncate"},Qq={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Xq={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Ip=Oe({__name:"Listbox",props:{items:Array,modelValue:[String,Number],placeholder:String,itemLabel:{type:String,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=e,s=J(n.modelValue),o=l=>{console.log("onChange",l),i("update:modelValue",l)};return(l,c)=>(j(),le("div",Jq,[q(N(Pq),{modelValue:s.value,"onUpdate:modelValue":o,as:"div",disabled:t.disabled},{default:Y(()=>[q(N(kq),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:Y(()=>[I("span",Yq,Rt(t.modelValue?t.modelValue:t.placeholder),1),I("span",Qq,[q(N(Bq),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),q(N(xq),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:Y(()=>[(j(!0),le(nt,null,Ui(t.items,h=>(j(),Me(N(Oq),{key:t.itemLabel?h[t.itemLabel]:h,value:t.itemLabel?h[t.itemLabel]:h},{default:Y(({active:f,selected:p})=>[I("li",{class:Dn([{"bg-amber-100 text-amber-900":f,"text-gray-900":!f},"relative cursor-default select-none py-2 pl-10 pr-4"])},[I("span",{class:Dn([{"font-medium":p,"font-normal":!p},"block truncate"])},Rt(t.itemLabel?h[t.itemLabel]:h),3),p?(j(),le("span",Xq,[q(N($q),{class:"h-5 w-5","aria-hidden":"true"})])):Ue("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]))}}),Zq={class:"space-y-4 mb-4"},eH=I("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),tH={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},nH=["src"],iH=["onClick"],rH=I("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),sH=I("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),oH=I("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),aH=I("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),lH=I("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),uH=I("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),cH={class:"flex justify-end space-x-2 mt-4"},dH=5*1024*1024,hH=Oe({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Tt(mt()),s=J([]),o=J(null),l=()=>{const A=o.value.files;for(let P=0;P<A.length;P++){const k=A[P];if(k.size>dH){alert("File size should not exceed 5MB");continue}const x=new FileReader;x.onload=B=>{s.value.push({file:k,url:B.target.result})},x.readAsDataURL(k)}},c=A=>{s.value.splice(A,1)},h=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=Hn({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:h,price:0,biddingEndTime:h}),p=J(!1),v=async()=>{if(p.value=!0,y()&&i.value){const A=s.value.map(k=>k.url.split(",")[1]),P=JSON.parse(JSON.stringify(f));P.biddingEndTime=new Date(P.biddingEndTime).toISOString(),P.expectedHarvestDate=new Date(P.expectedHarvestDate).toISOString(),await mt().createUserAd({images:A,...P,adType:i.value.accountType}),p.value=!1,n("close")}else p.value=!1},y=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime),w=J(!1),T=J([]),_=async()=>{w.value=!0,T.value=await mt().getProduce(),console.log("produce",T.value),w.value=!1},E=Ee(()=>{if(f.type==="")return[];const A=T.value.find(P=>P.id===f.type);return A?A.sub:[]});return kt(async()=>{console.log("mounted"),await _()}),(A,P)=>(j(),le(nt,null,[I("div",Zq,[eH,I("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),I("div",tH,[(j(!0),le(nt,null,Ui(s.value,(k,x)=>(j(),le("div",{key:x,class:"mr-2 relative"},[I("img",{src:k.url,class:"w-16 h-16 object-cover"},null,8,nH),I("button",{onClick:B=>c(x)},"Remove",8,iH)]))),128))]),rH,q(Ip,{items:T.value,modelValue:f.type,"onUpdate:modelValue":P[0]||(P[0]=k=>f.type=k),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),sH,q(Ip,{items:E.value,modelValue:f.variety,"onUpdate:modelValue":P[1]||(P[1]=k=>f.variety=k),placeholder:"Select a Variety",disabled:!f.type},null,8,["items","modelValue","disabled"]),oH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":P[2]||(P[2]=k=>f.yieldTonnage=k)},null,512),[[qe,f.yieldTonnage]]),aH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":P[3]||(P[3]=k=>f.expectedHarvestDate=k)},null,512),[[qe,f.expectedHarvestDate]]),lH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":P[4]||(P[4]=k=>f.price=k)},null,512),[[qe,f.price]]),uH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":P[5]||(P[5]=k=>f.biddingEndTime=k)},null,512),[[qe,f.biddingEndTime]])]),I("div",cH,[I("button",{onClick:P[6]||(P[6]=k=>A.$emit("close")),type:"button",class:"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),q(ir,{onClick:v,isLoading:p.value},{default:Y(()=>[Qe(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),fH={class:"space-y-4 mb-4"},pH=I("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),mH=I("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),gH=I("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),vH=I("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),yH={class:"flex justify-end space-x-2 mt-4"},_H=Oe({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Tt(mt());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=Hn({type:"",yieldTonnage:0,requestDate:s,price:0}),l=J(!1),c=async()=>{if(l.value=!0,h()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await mt().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},h=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,p)=>(j(),le(nt,null,[I("div",fH,[pH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":p[0]||(p[0]=v=>o.type=v)},null,512),[[qe,o.type]]),mH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":p[1]||(p[1]=v=>o.yieldTonnage=v)},null,512),[[qe,o.yieldTonnage]]),gH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":p[2]||(p[2]=v=>o.requestDate=v)},null,512),[[qe,o.requestDate]]),vH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":p[3]||(p[3]=v=>o.price=v)},null,512),[[qe,o.price]])]),I("div",yH,[I("button",{onClick:p[4]||(p[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),q(ir,{onClick:c,isLoading:l.value},{default:Y(()=>[Qe(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),wH=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),bH={class:"fixed inset-0 overflow-y-auto"},EH={class:"flex min-h-full items-center justify-center p-4 text-center"},IH=I("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),TH=Oe({__name:"AddAdModal",setup(t){const{modals:e}=Tt(un()),{profile:n}=Tt(mt()),i=mt().ACCOUNT_TYPES,s=J(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(j(),Me(N(rr),{appear:"",show:s.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[wH]),_:1}),I("div",bH,[I("div",EH,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>{var h,f;return[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" New Ad ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[IH]),_:1}),((h=N(n))==null?void 0:h.accountType)===N(i).SELLER?(j(),Me(hH,{key:0,onClose:c[0]||(c[0]=p=>o(!1))})):Ue("",!0),((f=N(n))==null?void 0:f.accountType)===N(i).BUYER?(j(),Me(_H,{key:1,onClose:c[1]||(c[1]=p=>o(!1))})):Ue("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),AH={class:"space-y-4 mb-4"},SH=I("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),CH={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},RH=["src"],PH=["onClick"],kH=["src"],xH=["onClick"],OH=I("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),NH=I("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),DH=I("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),LH=I("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),MH=I("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),VH={class:"flex justify-end space-x-2 mt-4"},FH=5*1024*1024,UH=Oe({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Tt(mt());const s=J([]),o=J(null),l=()=>{const w=o.value.files;for(let T=0;T<w.length;T++){const _=w[T];if(_.size>FH){alert("File size should not exceed 5MB");continue}const E=new FileReader;E.onload=A=>{s.value.push({file:_,url:A.target.result})},E.readAsDataURL(_)}},c=w=>{s.value.splice(w,1)},h=w=>{p.resizedImages.splice(w,1)},f=JSON.parse(JSON.stringify(n.ad)),p=Hn({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=J(!1),y=async()=>{v.value=!0;const w=Object.keys(p).reduce((T,_)=>(p[_]!==n.ad[_]&&(T[_]=p[_]),T),{});if(o.value.files.length>0){const T=s.value.map(_=>_.url.split(",")[1]);w.newImages=T}await mt().editUserAd({changes:w,adId:n.ad.id}),v.value=!1,i("close")};return(w,T)=>(j(),le(nt,null,[I("div",AH,[SH,I("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),I("div",CH,[(j(!0),le(nt,null,Ui(s.value,(_,E)=>(j(),le("div",{key:E,class:"mr-2 relative"},[I("img",{src:_.url,class:"w-16 h-16 object-cover"},null,8,RH),I("button",{onClick:A=>c(E)},"Remove",8,PH)]))),128)),(j(!0),le(nt,null,Ui(p.resizedImages,(_,E)=>(j(),le("div",{key:E,class:"mr-2 relative"},[I("img",{src:_,class:"w-16 h-16 object-cover"},null,8,kH),I("button",{onClick:A=>h(E)},"Remove",8,xH)]))),128))]),OH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":T[0]||(T[0]=_=>p.type=_)},null,512),[[qe,p.type]]),NH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":T[1]||(T[1]=_=>p.variety=_)},null,512),[[qe,p.variety]]),DH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":T[2]||(T[2]=_=>p.yieldTonnage=_)},null,512),[[qe,p.yieldTonnage]]),LH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":T[3]||(T[3]=_=>p.expectedHarvestDate=_)},null,512),[[qe,p.expectedHarvestDate]]),MH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":T[4]||(T[4]=_=>p.price=_)},null,512),[[qe,p.price]])]),I("div",VH,[I("button",{onClick:T[5]||(T[5]=_=>w.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),q(ir,{onClick:y,isLoading:v.value},{default:Y(()=>[Qe(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),$H={class:"space-y-4 mb-4"},jH=I("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),BH=I("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),qH=I("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),HH=I("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),GH={class:"flex justify-end space-x-2 mt-4"},WH=Oe({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Tt(mt());const s=JSON.parse(JSON.stringify(n.ad)),o=Hn({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=J(!1),c=async()=>{l.value=!0;const h=Object.keys(o).reduce((f,p)=>(o[p]!==n.ad[p]&&(f[p]=o[p]),f),{});await mt().editUserAd({changes:h,adId:n.ad.id}),l.value=!1,i("close")};return(h,f)=>(j(),le(nt,null,[I("div",$H,[jH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=p=>o.type=p)},null,512),[[qe,o.type]]),BH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=p=>o.yieldTonnage=p)},null,512),[[qe,o.yieldTonnage]]),qH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=p=>o.requestDate=p)},null,512),[[qe,o.requestDate]]),HH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=p=>o.price=p)},null,512),[[qe,o.price]])]),I("div",GH,[I("button",{onClick:f[4]||(f[4]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),q(ir,{onClick:c,isLoading:l.value},{default:Y(()=>[Qe(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),zH=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),KH={class:"fixed inset-0 overflow-y-auto"},JH={class:"flex min-h-full items-center justify-center p-4 text-center"},YH=I("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),QH=Oe({__name:"EditAdModal",setup(t){const{modals:e}=Tt(un()),{profile:n}=Tt(mt()),i=mt().ACCOUNT_TYPES,s=J(!0);function o(l){s.value=l,e.value.editad=l,e.value.context={}}return(l,c)=>(j(),Me(N(rr),{appear:"",show:s.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[zH]),_:1}),I("div",KH,[I("div",JH,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>{var h,f;return[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" Edit Ad ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[YH]),_:1}),((h=N(n))==null?void 0:h.accountType)===N(i).SELLER?(j(),Me(UH,{key:0,onClose:c[0]||(c[0]=p=>o(!1)),ad:N(e).context},null,8,["ad"])):Ue("",!0),((f=N(n))==null?void 0:f.accountType)===N(i).BUYER?(j(),Me(WH,{key:1,onClose:c[1]||(c[1]=p=>o(!1)),ad:N(e).context},null,8,["ad"])):Ue("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),XH={class:"space-y-4 mb-4"},ZH=I("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),eG={class:"flex justify-end space-x-2 mt-4"},tG=Oe({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=Hn({adId:t.adId,price:0}),o=J(!1),l=async()=>{o.value=!0,c()?(await mt().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(h,f)=>(j(),le(nt,null,[I("div",XH,[ZH,je(I("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=p=>s.price=p)},null,512),[[qe,s.price]])]),I("div",eG,[I("button",{onClick:f[1]||(f[1]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),q(ir,{onClick:l,isLoading:o.value},{default:Y(()=>[Qe(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),nG=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),iG={class:"fixed inset-0 overflow-y-auto"},rG={class:"flex min-h-full items-center justify-center p-4 text-center"},sG=I("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),oG=Oe({__name:"AddBidModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(l){n.value=l,e.value.addad=l}const s=$m(),o=J("");return kt(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:c[1]||(c[1]=h=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[nG]),_:1}),I("div",iG,[I("div",rG,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" Place bid ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[sG]),_:1}),q(tG,{onClose:c[0]||(c[0]=h=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ki=Oe({__name:"CardButton",props:{classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){return(n,i)=>(j(),le("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:Dn([[t.classes],"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"])},[mk(n.$slots,"default")],2))}}),aG={class:"max-w-md mx-auto"},lG={class:"mb-4"},uG=I("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),cG={class:"mb-4"},dG=I("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),hG={class:"mb-4"},fG=I("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),pG={class:"mb-4"},mG=I("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),gG={class:"mb-4 space-y-2"},vG=I("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),yG=["onUpdate:modelValue"],_G=["onClick"],wG={class:"flex items-center justify-between mt-4"},bG=Oe({__name:"JobPostAddForm",emits:["close"],setup(t,{emit:e}){const n=e,i=J({createdAt:null,title:"",type:"",description:"",location:"",salary:"",tasks:[]}),s=()=>{i.value.tasks.push("")},o=f=>{i.value.tasks.splice(f,1)},l=()=>{if(!i.value.title||!i.value.description||!i.value.location||!i.value.salary||!i.value.type||!i.value.tasks.length){if(i.value.tasks.length>0){for(const f in i.value.tasks)if(!f){const p=i.value.tasks.indexOf(f);i.value.tasks.splice(p,1)}}return!1}else return!0},c=J(!1),h=async()=>{if(c.value=!0,l()){const f=JSON.parse(JSON.stringify(i.value));await mt().createJobPostAd(f),n("close")}c.value=!1};return(f,p)=>(j(),le("div",aG,[I("div",null,[I("div",lG,[uG,je(I("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>i.value.title=v),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,i.value.title]])]),I("div",cG,[dG,je(I("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>i.value.description=v),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[qe,i.value.description]])]),q(Ip,{items:["Full Time","Part Time","Contract"],modelValue:i.value.type,"onUpdate:modelValue":p[2]||(p[2]=v=>i.value.type=v),placeholder:"Select an Employment Type"},null,8,["modelValue"]),I("div",hG,[fG,je(I("input",{"onUpdate:modelValue":p[3]||(p[3]=v=>i.value.location=v),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,i.value.location]])]),I("div",pG,[mG,je(I("input",{"onUpdate:modelValue":p[4]||(p[4]=v=>i.value.salary=v),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,i.value.salary]])]),I("div",gG,[I("span",{class:"w-full flex items-center justify-between"},[vG,I("button",{onClick:s,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(j(!0),le(nt,null,Ui(i.value.tasks,(v,y)=>(j(),le("div",{key:y,class:"flex items-center space-x-2"},[je(I("input",{"onUpdate:modelValue":w=>i.value.tasks[y]=w,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,yG),[[qe,i.value.tasks[y]]]),I("button",{onClick:w=>o(y),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,_G)]))),128))]),I("div",wG,[q(Ki,{onClick:p[5]||(p[5]=v=>f.$emit("close")),classes:"w-20"},{default:Y(()=>[Qe(" Cancel ")]),_:1}),q(ir,{onClick:h,isLoading:c.value},{default:Y(()=>[Qe("Create Job ")]),_:1},8,["isLoading"])])])]))}}),EG=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),IG={class:"fixed inset-0 overflow-y-auto"},TG={class:"flex min-h-full items-center justify-center p-4 text-center"},AG=I("p",{class:"text-sm text-gray-500"}," Add a Job Post ",-1),SG=Oe({__name:"AddJobModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(s){n.value=s,e.value.addjob=s}return(s,o)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[EG]),_:1}),I("div",IG,[I("div",TG,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" New Job Post ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[AG]),_:1}),q(bG,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),CG={class:"max-w-md mx-auto"},RG={class:"mb-4"},PG=I("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),kG={class:"mb-4"},xG=I("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),OG={class:"mb-4"},NG=I("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),DG={class:"mb-4"},LG=I("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),MG={class:"mb-4 space-y-2"},VG=I("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),FG=["onUpdate:modelValue"],UG=["onClick"],$G={class:"flex items-center justify-between mt-4"},jG=Oe({__name:"JobPostEditForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=JSON.parse(JSON.stringify(i.job)),o=J({createdAt:s.createdAt,title:s.title,type:s.type,description:s.description,location:s.location,salary:s.salary,tasks:s.tasks}),l=()=>{o.value.tasks.push("")},c=v=>{o.value.tasks.splice(v,1)},h=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.salary||!o.value.tasks.length){if(o.value.tasks.length>0){for(const v in o.value.tasks)if(!v){const y=o.value.tasks.indexOf(v);o.value.tasks.splice(y,1)}}return!1}else return!0},f=J(!1),p=async()=>{if(f.value=!0,h()){const v=i.job,y=Object.keys(o.value).reduce((T,_)=>_==="tasks"?(T[_]=o.value[_].filter(E=>E!==""),T):(_==="createdAt"||o.value[_]!==v[_]&&(T[_]=o.value[_]),T),{}),w=JSON.parse(JSON.stringify(y));console.log(y);try{const T=i.job.jobId;await mt().editJobPostAd({jobId:T,changes:w}),n("close")}catch(T){f.value=!1,console.log(T)}}f.value=!1};return(v,y)=>(j(),le("div",CG,[I("div",null,[I("div",RG,[PG,je(I("input",{"onUpdate:modelValue":y[0]||(y[0]=w=>o.value.title=w),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,o.value.title]])]),I("div",kG,[xG,je(I("textarea",{"onUpdate:modelValue":y[1]||(y[1]=w=>o.value.description=w),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[qe,o.value.description]])]),q(Ip,{items:["Full Time","Part Time","Contract"],modelValue:o.value.type,"onUpdate:modelValue":y[2]||(y[2]=w=>o.value.type=w),placeholder:"Select an Employment Type"},null,8,["modelValue"]),I("div",OG,[NG,je(I("input",{"onUpdate:modelValue":y[3]||(y[3]=w=>o.value.location=w),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,o.value.location]])]),I("div",DG,[LG,je(I("input",{"onUpdate:modelValue":y[4]||(y[4]=w=>o.value.salary=w),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,o.value.salary]])]),I("div",MG,[I("span",{class:"w-full flex items-center justify-between"},[VG,I("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(j(!0),le(nt,null,Ui(o.value.tasks,(w,T)=>(j(),le("div",{key:T,class:"flex items-center space-x-2"},[je(I("input",{"onUpdate:modelValue":_=>t.job.tasks[T]=_,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,FG),[[qe,t.job.tasks[T]]]),I("button",{onClick:_=>c(T),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,UG)]))),128))]),I("div",$G,[q(Ki,{onClick:y[5]||(y[5]=w=>v.$emit("close")),classes:"w-20"},{default:Y(()=>[Qe(" Cancel ")]),_:1}),q(ir,{onClick:p,isLoading:f.value},{default:Y(()=>[Qe("Edit Job ")]),_:1},8,["isLoading"])])])]))}}),BG=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),qG={class:"fixed inset-0 overflow-y-auto"},HG={class:"flex min-h-full items-center justify-center p-4 text-center"},GG=I("p",{class:"text-sm text-gray-500"}," Edit a Job Post ",-1),WG=Oe({__name:"EditJobModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(s){n.value=s,e.value.editjob=s,e.value.context={}}return(s,o)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[BG]),_:1}),I("div",qG,[I("div",HG,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" Edit Job Post ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[GG]),_:1}),q(jG,{onClose:o[0]||(o[0]=l=>i(!1)),job:N(e).context},null,8,["job"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),zG={class:"max-w-md mx-auto"},KG={class:"mb-4"},JG=I("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),YG={class:"mb-4"},QG=I("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),XG={class:"mb-4"},ZG=I("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),eW={class:"mb-4 space-y-2"},tW=I("label",{class:"block text-sm font-medium text-gray-700"},"Milestones",-1),nW=["onUpdate:modelValue"],iW=["onUpdate:modelValue"],rW=["onClick"],sW={class:"flex items-center justify-between mt-4"},oW=Oe({__name:"GigPostAddForm",emits:["close"],setup(t,{emit:e}){const n=e,i=J({createdAt:null,title:"",description:"",location:"",milestones:[]}),s=()=>{i.value.milestones.push({name:"",price:0})},o=f=>{i.value.milestones.splice(f,1)},l=()=>{if(!i.value.title||!i.value.description||!i.value.location||!i.value.milestones.length){if(i.value.milestones.length>0){for(const f in i.value.milestones)if(!f){const p=i.value.milestones.indexOf(i.value.milestones[f]);i.value.milestones.splice(p,1)}}return!1}else return!0},c=J(!1),h=async()=>{if(c.value=!0,l()){const f=JSON.parse(JSON.stringify(i.value));await mt().createGigPostAd(f),n("close")}c.value=!1};return(f,p)=>(j(),le("div",zG,[I("div",null,[I("div",KG,[JG,je(I("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>i.value.title=v),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,i.value.title]])]),I("div",YG,[QG,je(I("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>i.value.description=v),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[qe,i.value.description]])]),I("div",XG,[ZG,je(I("input",{"onUpdate:modelValue":p[2]||(p[2]=v=>i.value.location=v),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,i.value.location]])]),I("div",eW,[I("span",{class:"w-full flex items-center justify-between"},[tW,I("button",{onClick:s,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Milestone")]),(j(!0),le(nt,null,Ui(i.value.milestones,(v,y)=>(j(),le("div",{key:y,class:"flex items-center space-x-2"},[je(I("input",{"onUpdate:modelValue":w=>i.value.milestones[y].name=w,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Milestone",required:""},null,8,nW),[[qe,i.value.milestones[y].name]]),je(I("input",{"onUpdate:modelValue":w=>i.value.milestones[y].price=w,type:"number",class:"p-2 w-full border rounded-md",placeholder:"Milestone",required:""},null,8,iW),[[qe,i.value.milestones[y].price]]),I("button",{onClick:w=>o(y),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,rW)]))),128))]),I("div",sW,[q(Ki,{onClick:p[3]||(p[3]=v=>f.$emit("close")),classes:"w-20"},{default:Y(()=>[Qe(" Cancel ")]),_:1}),q(ir,{onClick:h,isLoading:c.value},{default:Y(()=>[Qe("Create Gig ")]),_:1},8,["isLoading"])])])]))}}),aW=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),lW={class:"fixed inset-0 overflow-y-auto"},uW={class:"flex min-h-full items-center justify-center p-4 text-center"},cW=I("p",{class:"text-sm text-gray-500"}," Add a Gig Post ",-1),dW=Oe({__name:"AddGigModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(s){n.value=s,e.value.addgig=s}return(s,o)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[aW]),_:1}),I("div",lW,[I("div",uW,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" New Gig Post ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[cW]),_:1}),q(oW,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),hW={class:"max-w-md mx-auto"},fW={class:"mb-4"},pW=I("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),mW={class:"mb-4"},gW=I("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),vW={class:"mb-4"},yW=I("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),_W={class:"mb-4 space-y-2"},wW=I("label",{class:"block text-sm font-medium text-gray-700"},"Milestones",-1),bW=["onUpdate:modelValue"],EW=["onUpdate:modelValue"],IW=["onClick"],TW={class:"flex items-center justify-between mt-4"},AW=Oe({__name:"GigPostEditForm",props:{gig:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=JSON.parse(JSON.stringify(i.gig)),o=J({createdAt:s.createdAt,title:s.title,description:s.description,location:s.location,milestones:s.milestones}),l=()=>{o.value.milestones.push("")},c=v=>{o.value.milestones.splice(v,1)},h=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.milestones.length){if(o.value.milestones.length>0){for(const v in o.value.milestones)if(!v){const y=o.value.milestones.indexOf(v);o.value.milestones.splice(y,1)}}return!1}else return!0},f=J(!1),p=async()=>{if(f.value=!0,h()){const v=i.gig,y=Object.keys(o.value).reduce((T,_)=>(_==="createdAt"||o.value[_]!==v[_]&&(T[_]=o.value[_]),T),{}),w=JSON.parse(JSON.stringify(y));console.log(y);try{const T=i.gig.gigId;await mt().editGigPostAd({gigId:T,changes:w}),n("close")}catch(T){f.value=!1,console.log(T)}}f.value=!1};return(v,y)=>(j(),le("div",hW,[I("div",null,[I("div",fW,[pW,je(I("input",{"onUpdate:modelValue":y[0]||(y[0]=w=>o.value.title=w),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,o.value.title]])]),I("div",mW,[gW,je(I("textarea",{"onUpdate:modelValue":y[1]||(y[1]=w=>o.value.description=w),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[qe,o.value.description]])]),I("div",vW,[yW,je(I("input",{"onUpdate:modelValue":y[2]||(y[2]=w=>o.value.location=w),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,o.value.location]])]),I("div",_W,[I("span",{class:"w-full flex items-center justify-between"},[wW,I("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Milestone")]),(j(!0),le(nt,null,Ui(o.value.milestones,(w,T)=>(j(),le("div",{key:T,class:"flex items-center space-x-2"},[je(I("input",{"onUpdate:modelValue":_=>t.gig.milestones[T].name=_,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Milestone",required:""},null,8,bW),[[qe,t.gig.milestones[T].name]]),je(I("input",{"onUpdate:modelValue":_=>t.gig.milestones[T].price=_,type:"number",class:"p-2 w-full border rounded-md",placeholder:"Milestone",required:""},null,8,EW),[[qe,t.gig.milestones[T].price]]),I("button",{onClick:_=>c(T),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,IW)]))),128))]),I("div",TW,[q(Ki,{onClick:y[3]||(y[3]=w=>v.$emit("close")),classes:"w-20"},{default:Y(()=>[Qe(" Cancel ")]),_:1}),q(ir,{onClick:p,isLoading:f.value},{default:Y(()=>[Qe("Edit Gig ")]),_:1},8,["isLoading"])])])]))}}),SW=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),CW={class:"fixed inset-0 overflow-y-auto"},RW={class:"flex min-h-full items-center justify-center p-4 text-center"},PW=I("p",{class:"text-sm text-gray-500"}," Edit a Gig Post ",-1),kW=Oe({__name:"EditGigModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(s){n.value=s,e.value.editgig=s,e.value.context={}}return(s,o)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[SW]),_:1}),I("div",CW,[I("div",RW,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" Edit Gig Post ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[PW]),_:1}),q(AW,{onClose:o[0]||(o[0]=l=>i(!1)),gig:N(e).context},null,8,["gig"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),xW={class:"max-w-md mx-auto"},OW={class:"mb-4"},NW={class:"flex items-center justify-between mt-4"},DW=Oe({__name:"ConfirmRemoveForm",props:{context:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=J(!1),o=J(""),l=async()=>{s.value=!0,o.value==i.context.__key&&(await c(),n("close")),s.value=!1},c=async()=>{i.context.__key=="job"&&await mt().removeJobPostAd(i.context.jobId),i.context.__key=="gig"&&await mt().removeGigPostAd(i.context.gigId),i.context.__key=="application"&&await mt().removeApplication(i.context.applicationId)};return(h,f)=>(j(),le("div",xW,[I("div",null,[I("div",OW,[je(I("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),type:"text",id:"confirmKeyword",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[qe,o.value]])]),I("div",NW,[q(Ki,{onClick:f[1]||(f[1]=p=>h.$emit("close")),classes:"w-20"},{default:Y(()=>[Qe(" Cancel ")]),_:1}),q(ir,{disabled:o.value!=i.context.__key,onClick:l,isLoading:s.value},{default:Y(()=>[Qe("Delete ")]),_:1},8,["disabled","isLoading"])])])]))}}),LW=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),MW={class:"fixed inset-0 overflow-y-auto"},VW={class:"flex min-h-full items-center justify-center p-4 text-center"},FW={class:"text-sm text-gray-500"},UW={class:"font-bold"},$W=Oe({__name:"ConfirmRemoveModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(s){n.value=s,e.value.confirmremove=s}return(s,o)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[LW]),_:1}),I("div",MW,[I("div",VW,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[q(N(no),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Qe(" Are you sure? ")]),_:1}),q(N(io),{class:"mt-2 mb-4"},{default:Y(()=>[I("p",FW,[Qe(" Type "),I("span",UW,Rt(N(e).context.__key),1),Qe(" to confirm ")])]),_:1}),q(DW,{onClose:o[0]||(o[0]=l=>i(!1)),context:N(e).context},null,8,["context"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),jW=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),BW={class:"fixed inset-0 overflow-y-auto"},qW={class:"flex min-h-full items-center justify-center text-center"},HW={key:0},GW={class:"flex flex-col gap-2 justify-start items-start border rounded-md"},WW={class:"px-5 pt-5 text-left"},zW={class:"text-xl font-bold"},KW={class:"text-md"},JW={class:"text-md"},YW={class:"text-md"},QW={class:"w-full border-t-2 h-64 overflow-y-scroll"},XW={class:"text-md text-left p-5"},ZW={class:"w-full flex flex-col gap-2 justify-start items-start px-5 pb-5"},ez={class:"text-md"},tz={key:1,class:"w-full border-t-2 h-96 overflow-y-scroll"},nz=I("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),iz={class:"mt-1"},rz=I("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1),sz={class:"mt-1"},oz=I("label",{from:"phone",class:"block text-sm font-medium text-gray-700"}," Phone ",-1),az={class:"mt-1"},lz=I("label",{for:"resume",class:"block text-sm font-medium text-gray-700"}," Resume ",-1),uz={class:"mt-1"},cz={key:1},dz=Oe({__name:"JobViewModal",setup(t){const{user:e}=Tt(mt()),n=async _=>{const E=_P(),A=yP(E,`resumes/${e.value.uid}/`+_.name);return await m6(A,_),A.fullPath},i=J(!1),s=()=>{i.value=!0},{modals:o}=Tt(un()),l=J(!0);function c(_){l.value=_,o.value.viewjob=_}const h=J({}),f=J(!1),p=async()=>{const _=o.value.context.__key;_&&(f.value=!0,h.value=await dp("jobs",_,"jobId"),f.value=!1)},v=Hn({name:"",email:"",phone:"",resume:""}),y=_=>{const E=_.target.files[0];v.resume=E},w=J(!1),T=async()=>{w.value=!0,console.log("application",v),v.parentId=h.value.jobId,v.parentType="job",v.ownerId=h.value.posterId;const _=await n(v.resume);v.resume=_;const E=JSON.parse(JSON.stringify(v));await mt().submitApplication(E),w.value=!1};return kt(async()=>{await p()}),(_,E)=>(j(),Me(N(rr),{appear:"",show:l.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:E[3]||(E[3]=A=>c(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[jW]),_:1}),I("div",BW,[I("div",qW,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white text-left align-middle shadow-xl transition-all"},{default:Y(()=>[h.value&&!f.value?(j(),le("div",HW,[I("div",GW,[I("span",WW,[I("h1",zW,Rt(h.value.title),1),I("p",KW,Rt(h.value.location),1),I("p",JW,"$"+Rt(h.value.salary),1),I("p",YW,Rt(h.value.type),1),q(Ki,{onClick:s},{default:Y(()=>[Qe(" Apply ")]),_:1})]),i.value?(j(),le("div",tz,[I("div",null,[nz,I("div",iz,[je(I("input",{type:"text",name:"name",id:"name",autocomplete:"given-name","onUpdate:modelValue":E[0]||(E[0]=A=>v.name=A),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[qe,v.name]])]),rz,I("div",sz,[je(I("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":E[1]||(E[1]=A=>v.email=A),autocomplete:"email",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[qe,v.email]])]),oz,I("div",az,[je(I("input",{id:"phone",name:"phone",type:"tel",autocomplete:"tel","onUpdate:modelValue":E[2]||(E[2]=A=>v.phone=A),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[qe,v.phone]])]),lz,I("div",uz,[I("input",{id:"resume",name:"resume",type:"file",ref:"resume",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",onChange:y},null,544)]),q(ir,{isLoading:w.value,onClick:T,classes:"w-full"},{default:Y(()=>[Qe(" Submit ")]),_:1},8,["isLoading"])])])):(j(),le(nt,{key:0},[I("div",QW,[I("p",XW,Rt(h.value.description),1)]),I("div",ZW,[(j(!0),le(nt,null,Ui(h.value.tasks,A=>(j(),le("div",null,[I("p",ez,Rt(A),1)]))),256))])],64))])])):(j(),le("div",cz,[q(Fl,{isLoading:f.value},null,8,["isLoading"])]))]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),hz=I("div",{class:"fixed inset-0 bg-black/25"},null,-1),fz={class:"fixed inset-0 overflow-y-auto"},pz={class:"flex min-h-full items-center justify-center text-center"},mz={key:0},gz={class:"flex flex-col gap-2 justify-start items-start border rounded-md"},vz={class:"px-5 pt-5 text-left"},yz={class:"text-xl font-bold"},_z={class:"text-md"},wz={class:"text-md"},bz={class:"w-full border-t-2 h-64 overflow-y-scroll"},Ez={class:"text-md text-left p-5"},Iz={class:"w-full flex flex-col gap-2 justify-start items-start px-5 pb-5"},Tz={class:"text-md"},Az={key:1},Sz=Oe({__name:"GigViewModal",setup(t){const{modals:e}=Tt(un()),n=J(!0);function i(c){n.value=c,e.value.viewgig=c}const s=J({}),o=J(!1),l=async()=>{const c=e.value.context.__key;c&&(o.value=!0,s.value=await dp("gigs",c,"gigId"),o.value=!1)};return kt(async()=>{await l()}),(c,h)=>(j(),Me(N(rr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[q(N(Rr),{as:"div",onClose:h[0]||(h[0]=f=>i(!1)),class:"relative z-10"},{default:Y(()=>[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[hz]),_:1}),I("div",fz,[I("div",pz,[q(N(Jt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[q(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white text-left align-middle shadow-xl transition-all"},{default:Y(()=>[s.value&&!o.value?(j(),le("div",mz,[I("div",gz,[I("span",vz,[I("h1",yz,Rt(s.value.title),1),I("p",_z,Rt(s.value.location),1),I("p",wz,Rt(s.value.type),1),q(Ki,null,{default:Y(()=>[Qe(" Apply ")]),_:1})]),I("div",bz,[I("p",Ez,Rt(s.value.description),1)]),I("div",Iz,[(j(!0),le(nt,null,Ui(s.value.milestones,f=>(j(),le("div",null,[I("p",Tz,Rt(f),1)]))),256))])])])):(j(),le("div",Az,[q(Fl,{isLoading:o.value},null,8,["isLoading"])]))]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Cz={key:0},Rz={key:1,class:"text-sm font-medium"},PS=5e3,Pz=Oe({__name:"StateNotificationToast",setup(t){const{notifications:e}=Tt(un()),n=un().NOTIFICATION_TYPES,i=J(PS),s=()=>{i.value=PS;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),un().resetNotification())},1e3)};hi(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=Ee(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(j(),Me(Mm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:Y(()=>[N(e).show?(j(),le("div",{key:0,class:Dn(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[N(e).type?(j(),le("div",Cz,[N(e).type===N(n).SUCCESS?(j(),Me(N(gx),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):Ue("",!0),N(e).type===N(n).ERROR?(j(),Me(N(g_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):Ue("",!0),N(e).type===N(n).WARNING?(j(),Me(N(vx),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):Ue("",!0),N(e).type===N(n).INFO?(j(),Me(N(yx),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):Ue("",!0)])):Ue("",!0),N(e).message?(j(),le("div",Rz,[I("p",null,Rt(N(e).message),1)])):Ue("",!0)],2)):Ue("",!0)]),_:1}))}}),kz={key:0},xz={key:1,class:"text-sm font-medium text-black"},Oz=Oe({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=Tt(un()),n=un().NOTIFICATION_TYPES,i=Ee(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(j(),Me(Mm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:Y(()=>[N(e).show?(j(),le("div",{key:0,class:Dn(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[N(e).type?(j(),le("div",kz,[N(e).type===N(n).SUCCESS?(j(),Me(N(gx),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):Ue("",!0),N(e).type===N(n).ERROR?(j(),Me(N(g_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):Ue("",!0),N(e).type===N(n).WARNING?(j(),Me(N(vx),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):Ue("",!0),N(e).type===N(n).INFO?(j(),Me(N(yx),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):Ue("",!0)])):Ue("",!0),N(e).message?(j(),le("div",xz,[I("p",null,Rt(N(e).message),1)])):Ue("",!0),q(N(g_),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):Ue("",!0)]),_:1}))}}),Nz={class:"py-2 bg-white flex flex-row items-center gap-4 hover:bg-slate-200/50 transition duration-300 first:border-none border-t-2 last:border-b-2"},Dz=["src"],Lz={class:"flex flex-row space-x-4 items-center"},Mz={class:"block text-sm font-medium text-gray-700"},Vz={class:"block text-sm text-gray-500 truncate italic"},Fz=Oe({__name:"DirectMessageCard",props:{dm:{type:Object,required:!0}},emits:["view"],setup(t,{emit:e}){return $m(),(n,i)=>(j(),le("span",Nz,[t.dm.senderProfilePic?(j(),le("img",{key:0,src:t.dm.senderProfilePic,class:"h-12 w-12 rounded-full bg-slate-400"},null,8,Dz)):(j(),Me(N(Kq),{key:1,class:"h-12 w-12"})),I("div",Lz,[I("p",Mz,Rt(t.dm.lastSender?`${t.dm.lastSender.substring(0,5)} says:`:""),1),I("p",Vz,Rt(t.dm.lastMessage?t.dm.lastMessage:""),1)])]))}}),Uz={key:0,class:"flex flex-col overflow-y-auto w-full flex-1 max-h-72"},$z={key:1},jz=Oe({__name:"DirectMessagingContentComponent",emits:["view"],setup(t,{emit:e}){const{user:n,profile:i}=Tt(mt()),s=e,o=J({lastVisible:null,docs:[]}),l=J(!1);let c=null,h=[];const f=async()=>{const w=i.value.accountType=="seller"?"sellerId":"buyerId";c=sP(Cr(hm(Ri,"dms"),jr(w,"==",n.value.uid),Ks("createdAt","desc")),T=>{l.value=!0,h=T.docs.map(_=>({..._.data()})),p(),l.value=!1})},p=()=>{o.value.docs=h},v=()=>{c&&c()},y=w=>{s("view",w)};return kt(async()=>{console.log("mounted"),await f()}),Om(()=>{v()}),(w,T)=>o.value.docs&&o.value.docs.length>0&&!l.value?(j(),le("div",Uz,[(j(!0),le(nt,null,Ui(o.value.docs,(_,E)=>(j(),Me(Fz,{key:E,dm:_,onClick:A=>y(_.dmId)},null,8,["dm","onClick"]))),128))])):o.value.docs&&o.value.docs.length==0&&!l.value?(j(),le("p",$z,"No direct messages yet")):(j(),Me(Fl,{key:2,isLoading:l.value},null,8,["isLoading"]))}}),Bz={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 p-5"},qz={class:"flex flex-row space-x-4 w-full border-b pb-2 mb-4"},Hz={class:"text-md font-bold"},Gz={class:"space-y-2"},Wz={class:"flex flex-row space-x-4"},zz={class:"text-sm"},Kz={class:"flex flex-row space-x-4"},Jz={class:"text-sm"},Yz={class:"w-full flex justify-end gap-4"},Qz=Oe({__name:"JobThumbnailCard",props:{job:{type:Object,required:!0}},emits:["edit","remove"],setup(t,{emit:e}){const{modals:n}=Tt(un());$m();const i=s=>{s&&(n.value.viewjob=!0,n.value.context.__key=s)};return(s,o)=>(j(),le("span",Bz,[I("div",qz,[I("p",Hz,Rt(t.job.title),1)]),I("div",Gz,[I("div",Wz,[q(N(Wq),{class:"w-5 h-5"}),I("p",zz,Rt(t.job.location),1)]),I("div",Kz,[q(N(Hq),{class:"w-5 h-5"}),I("p",Jz,Rt(t.job.salary),1)])]),I("div",Yz,[I("p",{onClick:o[0]||(o[0]=l=>i(t.job.jobId)),class:"underline text-sm cursor-pointer"},"View")])]))}}),Xz={class:"duration-300 transition transform ease-in-out"},Zz={class:"flex justify-between items-center flex-row gap-4"},eK={class:"flex justify-center items-center flex-row gap-4"},tK=I("h1",{class:"text-lg font-bold"},"Messaging",-1),nK={key:1,class:"w-80 h-96 fixed bottom-0 right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},iK={class:"p-4 w-full mx-auto rounded-lg flex flex-col space-y-4"},rK=I("h1",{class:"text-xl font-semibold"},"Messaging",-1),sK={key:2,class:"w-96 h-96 fixed bottom-0 right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},oK={class:"flex flex-col h-full p-4 w-full mx-auto rounded-lg space-y-4"},aK={class:"flex-grow overflow-y-auto"},lK={key:0,class:"w-full flex flex-col"},uK={key:0,class:"flex justify-center items-center h-32"},cK={key:1,class:"grid grid-cols-1 p-2 rounded-md"},dK={class:"text-xs italic font-bold"},hK={key:1,class:"flex flex-col space-y-2 h-full"},fK={class:"break-words"},pK={key:0,class:"flex justify-between mb-2"},mK={class:"text-sm font-medium"},gK={class:"text-sm font-medium"},vK={key:2,class:"flex justify-center items-center h-32"},yK=I("p",{class:"text-gray-500"},"No messages yet",-1),_K=[yK],wK={key:3,class:"flex justify-center items-center h-32"},bK={class:"flex flex-row gap-2"},EK={class:"border rounded-md w-full p-2"},IK={class:"h-full flex items-start"},TK=Oe({__name:"DirectMessageComponent",setup(t){const e="dms",n="messages",{user:i,profile:s}=Tt(mt()),{messaging:o}=Tt(un()),l=J(!1),c=F=>{l.value=F},h=F=>{o.value.show=F,o.value.to=null},f=async F=>{console.log("onViewDm",F),o.value.show=!0,o.value.dmId=F},p=J(""),v=J([]),y=J(!1);let w;const T=async(F,Z)=>{if(Z)try{const U=await dp(e,F,"dmId");U.context&&(o.value.context=U.context,o.value.context.__key=="application"&&(_.value=await B("jobs",o.value.context.application.parentId,"jobId")))}catch(U){console.log(U)}w=sP(Cr(zs(Ri,`${e}/${F}/${n}`),Ks("createdAt","asc")),U=>{y.value=!0,v.value=U.docs.map(te=>({...te.data()})),y.value=!1})},_=J(null);hi(o,async F=>{console.log("messaging",F),F&&F.show&&F.dmId&&!w&&(console.log("loadMessages"),await T(F.dmId,!0)),F&&F.show&&!F.dmId&&F.context&&F.context.__key=="application"&&(_.value=await B("jobs",F.context.application.parentId,"jobId"))},{deep:!0});const E=J(!1),A=async()=>{var F,Z,U;if(p.value&&i.value&&s.value&&i.value.uid!=((F=o.value.to)==null?void 0:F.id)){if(E.value=!0,v.value.length==0&&((Z=o.value.to)!=null&&Z.id)&&!o.value.dmId){const ve=(await mt().sendDm({text:p.value,senderId:i.value.uid,receiverId:(U=o.value.to)==null?void 0:U.id,context:o.value.context?o.value.context:null})).data.dmId;console.log("dmId",ve),await T(ve,!1)}else{const te=zs(Ri,e,o.value.dmId,n);await jU(te,{text:p.value,senderId:i.value.uid,createdAt:new Date})}p.value="",E.value=!1}},P=F=>{const Z=new Date,U=F.toDate(),te=Z.getTime()-U.getTime(),ve=Math.floor(te/1e3),de=Math.floor(ve/60),ie=Math.floor(de/60),ue=Math.floor(ie/24);return ue>0?`${ue} days ago`:ie>0?`${ie} hours ago`:de>0?`${de} minutes ago`:ve>0?`${ve} seconds ago`:"just now"},k=F=>{if(F===0)return!0;const Z=v.value[F-1],U=v.value[F];return Z.senderId!==U.senderId},x=J(!1),B=async(F,Z,U)=>{x.value=!0;const te=await dp(F,Z,U);return x.value=!1,te};return Om(()=>{w&&w()}),(F,Z)=>(j(),le("span",Xz,[l.value?Ue("",!0):(j(),le("div",{key:0,class:"w-56 rounded rounded-t-md fixed bottom-0 right-1 h-10 bg-white z-10 border-x-4 border-t-4 flex justify-center items-center",onClick:Z[0]||(Z[0]=U=>c(!0))},[I("div",Zz,[I("span",eK,[q(N(Gq),{class:"h-6 w-6"}),tK]),q(N(qq),{class:"h-6 w-6"})])])),l.value&&!N(o).show?(j(),le("div",nK,[I("div",iK,[I("div",{class:"flex justify-between items-center flex-row gap-4 border-b pb-2",onClick:Z[1]||(Z[1]=U=>c(!1))},[rK,q(N(jq),{class:"h-6 w-6"})]),q(jz,{onView:f})])])):Ue("",!0),N(o).show?(j(),le("div",sK,[I("div",oK,[I("h1",{class:"text-xl font-semibold border-b pb-2",onClick:Z[2]||(Z[2]=U=>h(!1))},"Send a Message"),I("div",aK,[N(o).context?(j(),le("div",lK,[x.value?(j(),le("div",uK,[q(Fl,{isLoading:x.value},null,8,["isLoading"])])):Ue("",!0),N(o).context.__key=="application"&&!x.value?(j(),le("div",cK,[I("p",dK,"Reaching out to "+Rt(N(o).context.application.name)+" about:",1),_.value?(j(),Me(Qz,{key:0,job:_.value},null,8,["job"])):Ue("",!0)])):Ue("",!0)])):Ue("",!0),v.value.length>0&&!y.value?(j(),le("div",hK,[(j(!0),le(nt,null,Ui(v.value,(U,te)=>(j(),le("span",fK,[k(te)?(j(),le("div",pK,[I("p",mK,Rt(U.senderId.substring(0,5))+" says:",1),I("p",gK,Rt(P(U.createdAt)),1)])):Ue("",!0),I("div",{class:Dn([U.senderId!=N(i).uid?"justify-end":"justify-start","flex"])},[I("p",{class:Dn([U.senderId===N(i).uid?"bg-blue-500 text-white":"bg-gray-100","rounded-md p-2 max-w-xs md:max-w-md",U.quote?"ml-2":""])},Rt(U.text),3)],2)]))),256))])):v.value.length==0&&!y.value?(j(),le("div",vK,_K)):y.value?(j(),le("div",wK,[q(Fl,{isLoading:y.value},null,8,["isLoading"])])):Ue("",!0)]),I("div",bK,[I("div",EK,[je(I("textarea",{"onUpdate:modelValue":Z[3]||(Z[3]=U=>p.value=U),class:"h-full w-full resize-none focus:outline-none",placeholder:"Type your message here..."},null,512),[[qe,p.value]])]),I("div",IK,[q(N(zq),{onClick:A,class:"h-6 w-6 text-blue-500"})])])])])):Ue("",!0)]))}}),AK={class:"relative bg-blue-900 text-white p-4 sticky top-0 z-50"},SK={class:"container mx-auto flex justify-between items-center"},CK=I("div",{class:"flex items-center"},[I("img",{src:S7,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),I("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),RK={class:"space-x-4"},PK={class:"w-full"},kK=Oe({__name:"App",setup(t){const{profile:e}=Tt(mt()),{modals:n,notifications:i,dropdowns:s}=Tt(un()),o=J(0),l=$m();l.beforeEach((h,f,p)=>{h.matched.some(y=>y.meta.requiresAuth)&&!e.value?p("/signup"):p()});const c=async()=>{await mt().signout(),l.push("/signup")};return(h,f)=>(j(),le(nt,null,[I("header",AK,[I("div",SK,[CK,I("nav",RK,[N(e)?(j(),Me(N(Ac),{key:0,class:Dn(["hover:underline",{"bg-blue-700 text-white":o.value==1}]),to:"/userboard",onClick:f[0]||(f[0]=p=>o.value=1)},{default:Y(()=>[Qe("Dashboard")]),_:1},8,["class"])):Ue("",!0),N(e)?Ue("",!0):(j(),Me(N(Ac),{key:1,class:Dn(["hover:underline",{"bg-blue-700 text-white":o.value==2}]),to:"/signup",onClick:f[1]||(f[1]=p=>o.value=2)},{default:Y(()=>[Qe("Signin")]),_:1},8,["class"])),N(e)?(j(),Me(N(Ac),{key:2,class:Dn(["hover:underline",{"bg-blue-700 text-white":o.value==3}]),to:"/profile",onClick:f[2]||(f[2]=p=>o.value=3)},{default:Y(()=>[Qe("Profile")]),_:1},8,["class"])):Ue("",!0),N(e)?(j(),Me(N(Ac),{key:3,class:Dn(["hover:underline",{"bg-blue-700 text-white":o.value==4}]),to:"/feed",onClick:f[3]||(f[3]=p=>o.value=4)},{default:Y(()=>[Qe("Feed")]),_:1},8,["class"])):Ue("",!0),I("a",{class:"hover:underline",onClick:c},"Signout")])]),je(q(Oz,null,null,512),[[zA,N(s).show]])]),N(n).addad?(j(),Me(TH,{key:0})):Ue("",!0),N(n).editad?(j(),Me(QH,{key:1})):Ue("",!0),N(n).addbid?(j(),Me(oG,{key:2})):Ue("",!0),N(n).editjob?(j(),Me(WG,{key:3})):Ue("",!0),N(n).addjob?(j(),Me(SG,{key:4})):Ue("",!0),N(n).editgig?(j(),Me(kW,{key:5})):Ue("",!0),N(n).addgig?(j(),Me(dW,{key:6})):Ue("",!0),N(n).confirmremove?(j(),Me($W,{key:7})):Ue("",!0),N(n).viewjob?(j(),Me(dz,{key:8})):Ue("",!0),N(n).viewgig?(j(),Me(Sz,{key:9})):Ue("",!0),je(q(Pz,null,null,512),[[zA,N(i).show]]),I("div",PK,[q(N(Wk))]),N(e)?(j(),Me(TK,{key:10})):Ue("",!0)],64))}}),xK="modulepreload",OK=function(t){return"/"+t},kS={},Ni=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=OK(o),o in kS)return;kS[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const v=s[p];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":xK,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},NK=I("h1",null,"HomeView",-1),DK=Oe({__name:"HomeView",setup(t){const{dropdowns:e}=Tt(un()),n=un().NOTIFICATION_TYPES,i=s=>{s==n.ERROR&&(e.value.show=!0,e.value.type=n.ERROR,e.value.message="Failed to create escrow account"),s==n.SUCCESS&&(e.value.show=!0,e.value.type=n.SUCCESS,e.value.message="Successfully created escrow account"),s==n.WARNING&&(e.value.show=!0,e.value.type=n.WARNING,e.value.message="Warning: This is a warning"),s==n.INFO&&(e.value.show=!0,e.value.type=n.INFO,e.value.message="Info: This is an info message")};return(s,o)=>(j(),le(nt,null,[NK,q(Ki,{onClick:o[0]||(o[0]=l=>i(N(n).ERROR))},{default:Y(()=>[Qe("Error")]),_:1}),q(Ki,{onClick:o[1]||(o[1]=l=>i(N(n).SUCCESS))},{default:Y(()=>[Qe("Success")]),_:1}),q(Ki,{onClick:o[2]||(o[2]=l=>i(N(n).WARNING))},{default:Y(()=>[Qe("Warning")]),_:1}),q(Ki,{onClick:o[3]||(o[3]=l=>i(N(n).INFO))},{default:Y(()=>[Qe("Info")]),_:1})],64))}}),LK=S8({history:H7("/"),routes:[{path:"/",name:"home",component:DK},{path:"/signup",name:"signup",component:()=>Ni(()=>import("./SignupView-aba5b574.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>Ni(()=>import("./ProfileSetupView-d5cdf85e.js"),[])},{path:"/profile",name:"profile",component:()=>Ni(()=>import("./UserProfileView-cc5e51de.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>Ni(()=>import("./AboutView-fe5afe01.js"),[])},{path:"/feed",name:"feed",component:()=>Ni(()=>import("./FeedView-cd9f0668.js"),["assets/FeedView-cd9f0668.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-62b56017.js","assets/ImageCarousel-86bf2d28.js","assets/ImageCarousel-b21701ad.css"])},{path:"/seller/:sellerName/:id",name:"seller-ads",component:()=>Ni(()=>import("./SellerAdsView-1b386356.js"),["assets/SellerAdsView-1b386356.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-62b56017.js","assets/ImageCarousel-86bf2d28.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-efaa3f2f.js"]),props:!0},{path:"/ad/:adId",name:"ad",component:()=>Ni(()=>import("./AdView-bbaf2538.js"),["assets/AdView-bbaf2538.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-c1f27fd2.js","assets/ImageCarousel-86bf2d28.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-0c8291d6.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/jobs/:jobId",name:"job",component:()=>Ni(()=>import("./JobView-b6fb3ab0.js"),[]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>Ni(()=>import("./UserBoardView-39f00a50.js"),["assets/UserBoardView-39f00a50.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-62b56017.js","assets/ImageCarousel-86bf2d28.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-efaa3f2f.js","assets/BidCard.vue_vue_type_script_setup_true_lang-0c8291d6.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>Ni(()=>import("./MessagingView-5e4370d5.js"),[]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId/:contractId/",name:"banking",component:()=>Ni(()=>import("./BankingView-198d6083.js"),["assets/BankingView-198d6083.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-c1f27fd2.js","assets/ImageCarousel-86bf2d28.js","assets/ImageCarousel-b21701ad.css"]),meta:{requiresAuth:!0},props:!0},{path:"/devHelper/",name:"devHelper",component:()=>Ni(()=>import("./DevHelper-bdf2d7bf.js"),[]),meta:{requiresAuth:!0}}]});let $o,oy;QM(PP,async t=>{if(t){try{oy=await Gy("users",t.uid),oy&&($o||ay(),mt().setProfile(oy))}catch(e){console.log("Error getting profile",e)}$o||ay(),console.log("User is signed in"),mt().setUser(t)}else $o||ay(),console.log("User is signed out")});const ay=()=>{$o=JB(kK),$o.use(XB()),$o.use(LK),$o.mount("#app")};export{hi as $,HR as A,Ri as B,k8 as C,JK as D,Ys as E,nt as F,YK as G,Ee as H,Wq as I,Hq as J,Gy as K,Fl as L,QK as M,Gq as N,Qz as O,dp as P,Cr as Q,Ks as R,jr as S,hm as T,ZK as U,on as V,md as W,Ep as X,Zk as Y,si as Z,Ki as _,mt as a,Pi as a0,Ke as a1,oi as a2,yw as a3,to as a4,pi as a5,Nt as a6,U8 as a7,Ul as a8,An as a9,gn as aa,Qk as ab,ww as ac,Zl as ad,Vf as ae,Ns as af,XK as ag,Dn as ah,KK as ai,zs as aj,zq as ak,jU as al,tJ as am,BK as an,qK as ao,GK as ap,WK as aq,LK as ar,HK as as,nJ as at,tw as au,Zr as av,ln as aw,zK as b,Om as c,Oe as d,j as e,le as f,I as g,J as h,Qe as i,eJ as j,Ui as k,q as l,Y as m,ir as n,kt as o,Ue as p,Me as q,Hn as r,Tt as s,Rt as t,$m as u,qe as v,je as w,un as x,N as y,sP as z};

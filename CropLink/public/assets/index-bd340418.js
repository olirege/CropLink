(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},gS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(y=64)),i.push(n[p],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new IN;const y=o<<2|c>>4;if(i.push(y),f!==64){const b=c<<4&240|f>>2;if(i.push(b),v!==64){const T=f<<6&192|v;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(t){const e=mS(t);return gS.encodeByteArray(e,!0)},kf=function(t){return TN(t).replace(/\./g,"")},vS=function(t){try{return gS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Of(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AN(n)||(t[n]=Of(t[n],e[n]));return t}function AN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>SN().__FIREBASE_DEFAULTS__,RN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vS(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return CN()||RN()||PN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yS=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},r_=t=>{const e=yS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},_S=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},wS=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[kf(JSON.stringify(n)),kf(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function ES(){var t;const e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xN(){return typeof self=="object"&&self.self===self}function IS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xf(){try{return typeof indexedDB=="object"}catch{return!1}}function NN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="FirebaseError";class Rn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=DN,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?LN(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Rn(s,c,i)}}function LN(t,e){return t.replace(MN,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const MN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(bI(o)&&bI(l)){if(!Nf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function bI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function cc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AS(t,e){const n=new FN(t,e);return n.subscribe.bind(n)}class FN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=cv),s.error===void 0&&(s.error=cv),s.complete===void 0&&(s.complete=cv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(t){return t===mo?void 0:t}function jN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $N(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=[];var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const SS={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},qN=ze.INFO,WN={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},KN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=WN[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=KN,this._userLogHandler=null,o_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}function zN(t){o_.forEach(e=>{e.setLogLevel(t)})}function GN(t,e){for(const n of o_){let i=null;e&&e.level&&(i=SS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(h=>{if(h==null)return null;if(typeof h=="string")return h;if(typeof h=="number"||typeof h=="boolean")return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch{return null}}).filter(h=>h).join(" ");o>=(i??s.logLevel)&&t({level:ze[o].toLowerCase(),message:c,args:l,type:s.name})}}}const YN=(t,e)=>e.some(n=>t instanceof n);let EI,II;function JN(){return EI||(EI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return II||(II=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,Yv=new WeakMap,RS=new WeakMap,dv=new WeakMap,a_=new WeakMap;function XN(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(As(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&CS.set(n,t)}).catch(()=>{}),a_.set(e,t),e}function ZN(t){if(Yv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Yv.set(t,e)}let Jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eD(t){Jv=t(Jv)}function tD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(hv(this),e,...n);return RS.set(i,e.sort?e.sort():[e]),As(i)}:QN().includes(t)?function(...e){return t.apply(hv(this),e),As(CS.get(this))}:function(...e){return As(t.apply(hv(this),e))}}function nD(t){return typeof t=="function"?tD(t):(t instanceof IDBTransaction&&ZN(t),YN(t,JN())?new Proxy(t,Jv):t)}function As(t){if(t instanceof IDBRequest)return XN(t);if(dv.has(t))return dv.get(t);const e=nD(t);return e!==t&&(dv.set(t,e),a_.set(e,t)),e}const hv=t=>a_.get(t);function iD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=As(l);return i&&l.addEventListener("upgradeneeded",h=>{i(As(l.result),h.oldVersion,h.newVersion,As(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const rD=["get","getKey","getAll","getAllKeys","count"],sD=["put","add","delete","clear"],fv=new Map;function TI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fv.get(e))return fv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=sD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||rD.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return fv.set(e,o),o}eD(t=>({...t,get:(e,n,i)=>TI(e,n)||t.get(e,n,i),has:(e,n)=>!!TI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qv="@firebase/app",AI="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new gp("@firebase/app"),lD="@firebase/app-compat",uD="@firebase/analytics-compat",cD="@firebase/analytics",dD="@firebase/app-check-compat",hD="@firebase/app-check",fD="@firebase/auth",pD="@firebase/auth-compat",mD="@firebase/database",gD="@firebase/database-compat",vD="@firebase/functions",yD="@firebase/functions-compat",_D="@firebase/installations",wD="@firebase/installations-compat",bD="@firebase/messaging",ED="@firebase/messaging-compat",ID="@firebase/performance",TD="@firebase/performance-compat",AD="@firebase/remote-config",SD="@firebase/remote-config-compat",CD="@firebase/storage",RD="@firebase/storage-compat",PD="@firebase/firestore",kD="@firebase/firestore-compat",OD="firebase",xD="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]",ND={[Qv]:"fire-core",[lD]:"fire-core-compat",[cD]:"fire-analytics",[uD]:"fire-analytics-compat",[hD]:"fire-app-check",[dD]:"fire-app-check-compat",[fD]:"fire-auth",[pD]:"fire-auth-compat",[mD]:"fire-rtdb",[gD]:"fire-rtdb-compat",[vD]:"fire-fn",[yD]:"fire-fn-compat",[_D]:"fire-iid",[wD]:"fire-iid-compat",[bD]:"fire-fcm",[ED]:"fire-fcm-compat",[ID]:"fire-perf",[TD]:"fire-perf-compat",[AD]:"fire-rc",[SD]:"fire-rc-compat",[CD]:"fire-gcs",[RD]:"fire-gcs-compat",[PD]:"fire-fst",[kD]:"fire-fst-compat","fire-js":"fire-js",[OD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Map,Dc=new Map;function Df(t,e){try{t.container.addComponent(e)}catch(n){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function PS(t,e){t.container.addOrOverwriteComponent(e)}function gr(t){const e=t.name;if(Dc.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;Dc.set(e,t);for(const n of ks.values())Df(n,t);return!0}function Ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function DD(t,e,n=Ps){Ko(t,e).clearInstance(n)}function LD(){Dc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xr=new Wo("app","Firebase",MD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=xD;function vp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ps,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw xr.create("bad-app-name",{appName:String(s)});if(n||(n=_S()),!n)throw xr.create("no-options");const o=ks.get(s);if(o){if(Nf(n,o.options)&&Nf(i,o.config))return o;throw xr.create("duplicate-app",{appName:s})}const l=new HN(s);for(const h of Dc.values())l.addComponent(h);const c=new VD(n,i,l);return ks.set(s,c),c}function ud(t=Ps){const e=ks.get(t);if(!e&&t===Ps&&_S())return vp();if(!e)throw xr.create("no-app",{appName:t});return e}function FD(){return Array.from(ks.values())}async function kS(t){const e=t.name;ks.has(e)&&(ks.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Yn(t,e,n){var i;let s=(i=ND[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(c.join(" "));return}gr(new Hi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function OS(t,e){if(t!==null&&typeof t!="function")throw xr.create("invalid-log-argument");GN(t,e)}function xS(t){zN(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebase-heartbeat-database",$D=1,Lc="firebase-heartbeat-store";let pv=null;function NS(){return pv||(pv=iD(UD,$D,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lc)}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),pv}async function BD(t){try{return await(await NS()).transaction(Lc).objectStore(Lc).get(DS(t))}catch(e){if(e instanceof Rn)Vo.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vo.warn(n.message)}}}async function SI(t,e){try{const i=(await NS()).transaction(Lc,"readwrite");await i.objectStore(Lc).put(e,DS(t)),await i.done}catch(n){if(n instanceof Rn)Vo.warn(n.message);else{const i=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vo.warn(i.message)}}}function DS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=1024,HD=30*24*60*60*1e3;class qD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=HD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CI(),{heartbeatsToSend:n,unsentEntries:i}=WD(this._heartbeatsCache.heartbeats),s=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function CI(){return new Date().toISOString().substring(0,10)}function WD(t,e=jD){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),RI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class KD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xf()?NN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await BD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return SI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return SI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function RI(t){return kf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){gr(new Hi("platform-logger",e=>new oD(e),"PRIVATE")),gr(new Hi("heartbeat",e=>new qD(e),"PRIVATE")),Yn(Qv,AI,t),Yn(Qv,AI,"esm2017"),Yn("fire-js","")}zD("");const GD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Rn,SDK_VERSION:qr,_DEFAULT_ENTRY_NAME:Ps,_addComponent:Df,_addOrOverwriteComponent:PS,_apps:ks,_clearComponents:LD,_components:Dc,_getProvider:Ko,_registerComponent:gr,_removeServiceInstance:DD,deleteApp:kS,getApp:ud,getApps:FD,initializeApp:vp,onLog:OS,registerVersion:Yn,setLogLevel:xS},Symbol.toStringTag,{value:"Module"}));function l_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const Zu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Fa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function LS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=YD,QD=LS,MS=new Wo("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new gp("@firebase/auth");function XD(t,...e){Lf.logLevel<=ze.WARN&&Lf.warn(`Auth (${qr}): ${t}`,...e)}function yf(t,...e){Lf.logLevel<=ze.ERROR&&Lf.error(`Auth (${qr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw u_(t,...e)}function Pn(t,...e){return u_(t,...e)}function VS(t,e,n){const i=Object.assign(Object.assign({},QD()),{[e]:n});return new Wo("auth","Firebase",i).create(e,{appName:t.name})}function xl(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&yn(t,"argument-error"),VS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function u_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return MS.create(t,...e)}function G(t,e,...n){if(!t)throw u_(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function qi(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c_(){return PI()==="http:"||PI()==="https:"}function PI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c_()||IS()||"connection"in navigator)?navigator.onLine:!0}function eL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=ON()||s_()}get(){return ZD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new cd(3e4,6e4);function Wt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sn(t,e,n,i,s={}){return US(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Ol(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),FS.fetch()($S(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function US(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},tL),e);try{const s=new rL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw dc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw dc(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw VS(t,p,f);yn(t,p)}}catch(s){if(s instanceof Rn)throw s;yn(t,"network-request-failed",{message:String(s)})}}async function Wr(t,e,n,i,s={}){const o=await sn(t,e,n,i,s);return"mfaPendingCredential"in o&&yn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function $S(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?d_(t.config,s):`${t.config.apiScheme}://${s}`}function iL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Pn(this.auth,"network-request-failed")),nL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Pn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){return t!==void 0&&t.getResponse!==void 0}function OI(t){return t!==void 0&&t.enterprise!==void 0}class sL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t){return(await sn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aL(t,e){return sn(t,"GET","/v2/recaptchaConfig",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return sn(t,"POST","/v1/accounts:delete",e)}async function uL(t,e){return sn(t,"POST","/v1/accounts:update",e)}async function cL(t,e){return sn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dL(t,e=!1){const n=Pe(t),i=await n.getIdToken(e),s=yp(i);G(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:wc(mv(s.auth_time)),issuedAtTime:wc(mv(s.iat)),expirationTime:wc(mv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function mv(t){return Number(t)*1e3}function yp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const s=vS(n);return s?JSON.parse(s):(yf("Failed to decode base64 JWT payload"),null)}catch(s){return yf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hL(t){const e=yp(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Rn&&fL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function fL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Vr(t,cL(n,{idToken:i}));G(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vL(o.providerUserInfo):[],c=gL(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new BS(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function mL(t){const e=Pe(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function vL(t){return t.map(e=>{var{providerId:n}=e,i=l_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){const n=await US(t,{},async()=>{const i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=$S(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",FS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await yL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Fc;return i&&(G(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(G(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(G(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ko{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=l_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new BS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vr(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dL(this,e)}reload(){return mL(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vr(this,lL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,h,f,p;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:x,isAnonymous:V,providerData:K,stsTokenManager:re}=n;G(k&&re,e,"internal-error");const j=Fc.fromJSON(this.name,re);G(typeof k=="string",e,"internal-error"),ds(v,e.name),ds(y,e.name),G(typeof x=="boolean",e,"internal-error"),G(typeof V=="boolean",e,"internal-error"),ds(b,e.name),ds(T,e.name),ds(_,e.name),ds(E,e.name),ds(I,e.name),ds(P,e.name);const ee=new ko({uid:k,auth:e,email:y,emailVerified:x,displayName:v,isAnonymous:V,photoURL:T,phoneNumber:b,tenantId:_,stsTokenManager:j,createdAt:I,lastLoginAt:P});return K&&Array.isArray(K)&&(ee.providerData=K.map(we=>Object.assign({},we))),E&&(ee._redirectEventId=E),ee}static async _fromIdTokenResponse(e,n,i=!1){const s=new Fc;s.updateFromServerResponse(n);const o=new ko({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Vc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;function yi(t){qi(t instanceof Function,"Expected a class definition");let e=xI.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jS.type="NONE";const ol=jS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e,n){return`firebase:${t}:${e}:${n}`}class Ga{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Oo(this.userKey,s.apiKey,o),this.fullPersistenceKey=Oo("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ko._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ga(yi(ol),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||yi(ol);const l=Oo(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){const v=ko._fromJSON(e,p);f!==o&&(c=v),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ga(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ga(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if(zS(e))return"Webos";if(h_(e))return"Safari";if((e.includes("chrome/")||qS(e))&&!e.includes("edge/"))return"Chrome";if(dd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HS(t=rn()){return/firefox\//i.test(t)}function h_(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qS(t=rn()){return/crios\//i.test(t)}function WS(t=rn()){return/iemobile/i.test(t)}function dd(t=rn()){return/android/i.test(t)}function KS(t=rn()){return/blackberry/i.test(t)}function zS(t=rn()){return/webos/i.test(t)}function Nl(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _L(t=rn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function wL(t=rn()){var e;return Nl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bL(){return TS()&&document.documentMode===10}function GS(t=rn()){return Nl(t)||dd(t)||zS(t)||KS(t)||/windows phone/i.test(t)||WS(t)}function EL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e=[]){let n;switch(t){case"Browser":n=NI(rn());break;case"Worker":n=`${NI(rn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e={}){return sn(t,"GET","/v2/passwordPolicy",Wt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=6;class SL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:AL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DI(this),this.idTokenSubscription=new DI(this),this.beforeStateQueue=new IL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pe(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TL(this),n=new SL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ft(t){return Pe(t)}class DI{constructor(e){this.auth=e,this.observer=null,this.addObserver=AS(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function f_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Pn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",RL().appendChild(i)})}function JS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const PL="https://www.google.com/recaptcha/enterprise.js?render=",kL="recaptcha-enterprise",OL="NO_RECAPTCHA";class xL{constructor(e){this.type=kL,this.auth=Ft(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{aL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new sL(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;OI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(OL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&OI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}f_(PL+c).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function LI(t,e,n,i=!1){const s=new xL(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function _p(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await LI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){const n=Ko(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Nf(o,e??{}))return s;yn(s,"already-initialized")}return n.initialize({options:e})}function DL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QS(t,e,n){const i=Ft(t);G(i._canInitEmulator,i,"emulator-config-failed"),G(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=XS(e),{host:l,port:c}=LL(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||ML()}function XS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LL(t){const e=XS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:MI(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:MI(l)}}}function MI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ML(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(t,e){return sn(t,"POST","/v1/accounts:resetPassword",Wt(t,e))}async function eC(t,e){return sn(t,"POST","/v1/accounts:update",e)}async function VL(t,e){return sn(t,"POST","/v1/accounts:update",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return Wr(t,"POST","/v1/accounts:signInWithPassword",Wt(t,e))}async function wp(t,e){return sn(t,"POST","/v1/accounts:sendOobCode",Wt(t,e))}async function UL(t,e){return wp(t,e)}async function $L(t,e){return wp(t,e)}async function BL(t,e){return wp(t,e)}async function jL(t,e){return wp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){return Wr(t,"POST","/v1/accounts:signInWithEmailLink",Wt(t,e))}async function qL(t,e){return Wr(t,"POST","/v1/accounts:signInWithEmailLink",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Dl{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Uc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Uc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _p(e,n,"signInWithPassword",FL);case"emailLink":return HL(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return eC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return qL(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nr(t,e){return Wr(t,"POST","/v1/accounts:signInWithIdp",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="http://localhost";class vr extends Dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=l_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new vr(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Nr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Nr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nr(e,n)}buildRequest(){const e={requestUri:WL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return sn(t,"POST","/v1/accounts:sendVerificationCode",Wt(t,e))}async function zL(t,e){return Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wt(t,e))}async function GL(t,e){const n=await Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wt(t,e));if(n.temporaryProof)throw dc(t,"account-exists-with-different-credential",n);return n}const YL={USER_NOT_FOUND:"user-not-found"};async function JL(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wt(t,n),YL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Dl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new xo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new xo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return zL(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return GL(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return JL(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new xo({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XL(t){const e=Ka(cc(t)).link,n=e?Ka(cc(e)).deep_link_id:null,i=Ka(cc(t)).deep_link_id;return(i?Ka(cc(i)).link:null)||i||n||e||t}class bp{constructor(e){var n,i,s,o,l,c;const h=Ka(cc(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=QL((s=h.mode)!==null&&s!==void 0?s:null);G(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=XL(e);try{return new bp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(e,n){return Uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=bp.parseLink(n);return G(i,"argument-error"),Uc._fromEmailAndCode(e,i.code,i.tenantId)}}Vs.PROVIDER_ID="password";Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ya extends Ll{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return G("providerId"in n&&"signInMethod"in n,"argument-error"),vr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return G(e.idToken||e.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ya.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ya.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new Ya(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Ll{constructor(){super("facebook.com")}static credential(e){return vr._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vr._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return or.credential(n,i)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Ll{constructor(){super("github.com")}static credential(e){return vr._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="http://localhost";class al extends Dl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Nr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Nr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new al(i,o)}static _create(e,n){return new al(e,n)}buildRequest(){return{requestUri:ZL,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="saml.";class Mf extends Kr{constructor(e){G(e.startsWith(eM),"argument-error"),super(e)}static credentialFromResult(e){return Mf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Mf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=al.fromJSON(e);return G(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return al._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Ll{constructor(){super("twitter.com")}static credential(e,n){return vr._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(t,e){return Wr(t,"POST","/v1/accounts:signUp",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await ko._fromIdTokenResponse(e,i,s),l=VI(i);return new xi({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=VI(i);return new xi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function VI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t){var e;const n=Ft(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new xi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await tC(n,{returnSecureToken:!0}),s=await xi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Rn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Vf(e,n,i,s)}}function nC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){const n=Pe(t);await Ep(!0,n,e);const{providerUserInfo:i}=await uL(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=iC(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function p_(t,e,n=!1){const i=await Vr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",i)}async function Ep(t,e,n){await Vc(e);const i=iC(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";G(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Vr(t,nC(i,s,e,t),n);G(o.idToken,i,"internal-error");const l=yp(o.idToken);G(l,i,"internal-error");const{sub:c}=l;return G(t.uid===c,i,"user-mismatch"),xi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e,n=!1){const i="signIn",s=await nC(t,i,e),o=await xi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function Ip(t,e){return sC(Ft(t),e)}async function oC(t,e){const n=Pe(t);return await Ep(!1,n,e.providerId),p_(n,e)}async function aC(t,e){return rC(Pe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return Wr(t,"POST","/v1/accounts:signInWithCustomToken",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){const n=Ft(t),i=await iM(n,{token:e,returnSecureToken:!0}),s=await xi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?m_._fromServerResponse(e,n):"totpInfo"in n?g_._fromServerResponse(e,n):yn(e,"internal-error")}}class m_ extends hd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new m_(n)}}class g_ extends hd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new g_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,n){var i;G(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),G(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(G(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(G(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_(t){const e=Ft(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sM(t,e,n){const i=Ft(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Tp(i,s,n),await _p(i,s,"getOobCode",$L)}async function oM(t,e,n){await ZS(Pe(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&v_(t),i})}async function aM(t,e){await VL(Pe(t),{oobCode:e})}async function lC(t,e){const n=Pe(t),i=await ZS(n,{oobCode:e}),s=i.requestType;switch(G(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(i.mfaInfo,n,"internal-error");default:G(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=hd._fromServerResponse(Ft(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function lM(t,e){const{data:n}=await lC(Pe(t),e);return n.email}async function uM(t,e,n){const i=Ft(t),l=await _p(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tC).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&v_(t),h}),c=await xi._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function cM(t,e,n){return Ip(Pe(t),Vs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&v_(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e,n){const i=Ft(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){G(c.handleCodeInApp,i,"argument-error"),c&&Tp(i,l,c)}o(s,n),await _p(i,s,"getOobCode",BL)}function hM(t,e){const n=bp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function fM(t,e,n){const i=Pe(t),s=Vs.credentialWithLink(e,n||Mc());return G(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Ip(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){return sn(t,"POST","/v1/accounts:createAuthUri",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e){const n=c_()?Mc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await pM(Pe(t),i);return s||[]}async function gM(t,e){const n=Pe(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Tp(n.auth,s,e);const{email:o}=await UL(n.auth,s);o!==t.email&&await t.reload()}async function vM(t,e,n){const i=Pe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Tp(i.auth,o,n);const{email:l}=await jL(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){return sn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Pe(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Vr(i,yM(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function wM(t,e){return uC(Pe(t),e,null)}function bM(t,e){return uC(Pe(t),null,e)}async function uC(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Vr(t,eC(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=yp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Ja(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new IM(o,s);case"github.com":return new TM(o,s);case"google.com":return new AM(o,s);case"twitter.com":return new SM(o,s,t.screenName||null);case"custom":case"anonymous":return new Ja(o,null);default:return new Ja(o,i,s)}}class Ja{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class cC extends Ja{constructor(e,n,i,s){super(e,n,i),this.username=s}}class IM extends Ja{constructor(e,n){super(e,"facebook.com",n)}}class TM extends cC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class AM extends Ja{constructor(e,n){super(e,"google.com",n)}}class SM extends cC{constructor(e,n,i){super(e,"twitter.com",n,i)}}function CM(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:EM(n)}function RM(t,e,n,i){return Pe(t).onIdTokenChanged(e,n,i)}function PM(t,e,n){return Pe(t).beforeAuthStateChanged(e,n)}function kM(t,e,n,i){return Pe(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new Eo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Eo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Eo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Eo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Ft(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>hd._fromServerResponse(i,c));G(s.mfaPendingCredential,i,"internal-error");const l=Eo._fromMfaPendingCredential(s.mfaPendingCredential);return new y_(l,o,async c=>{const h=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:h.idToken,refreshToken:h.refreshToken});switch(n.operationType){case"signIn":const p=await xi._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(p.user),p;case"reauthenticate":return G(n.user,i,"internal-error"),xi._forOperation(n.user,n.operationType,f);default:yn(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function OM(t,e){var n;const i=Pe(t),s=e;return G(e.customData.operationType,i,"argument-error"),G((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),y_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:start",Wt(t,e))}function NM(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(t,e))}function DM(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(t,e))}class __{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>hd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new __(e)}async getSession(){return Eo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await Vr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Vr(this.user,DM(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const gv=new WeakMap;function LM(t){const e=Pe(t);return gv.has(e)||gv.set(e,__._fromUser(e)),gv.get(e)}const Ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(){const t=rn();return h_(t)||Nl(t)}const VM=1e3,FM=10;class hC extends dC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=MM()&&EL(),this.fallbackToPolling=GS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);bL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FM):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hC.type="LOCAL";const Ap=hC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends dC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fC.type="SESSION";const Os=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Sp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await UM(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=fd("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function BM(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function jM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qM(){return w_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebaseLocalStorageDb",WM=1,Uf="firebaseLocalStorage",mC="fbase_key";class pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cp(t,e){return t.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function KM(){const t=indexedDB.deleteDatabase(pC);return new pd(t).toPromise()}function Xv(){const t=indexedDB.open(pC,WM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Uf,{keyPath:mC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Uf)?e(i):(i.close(),await KM(),e(await Xv()))})})}async function FI(t,e,n){const i=Cp(t,!0).put({[mC]:e,value:n});return new pd(i).toPromise()}async function zM(t,e){const n=Cp(t,!1).get(e),i=await new pd(n).toPromise();return i===void 0?null:i.value}function UI(t,e){const n=Cp(t,!0).delete(e);return new pd(n).toPromise()}const GM=800,YM=3;class gC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>YM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sp._getInstance(qM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xv();return await FI(e,Ff,"1"),await UI(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>FI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>zM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Cp(s,!1).getAll();return new pd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gC.type="LOCAL";const ll=gC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t,e){return sn(t,"POST","/v2/accounts/mfaSignIn:start",Wt(t,e))}function QM(t,e){return sn(t,"POST","/v2/accounts/mfaSignIn:finalize",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=500,ZM=6e4,Jh=1e12;class eV{constructor(e){this.auth=e,this.counter=Jh,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new tV(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||Jh;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||Jh;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||Jh;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class tV{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;G(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=nV(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ZM)},XM))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function nV(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=JS("rcb"),iV=new cd(3e4,6e4),rV="https://www.google.com/recaptcha/api.js?";class sV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Xt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return G(oV(n),e,"argument-error"),this.shouldResolveImmediately(n)&&kI(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((i,s)=>{const o=Xt().setTimeout(()=>{s(Pn(e,"network-request-failed"))},iV.get());Xt()[vv]=()=>{Xt().clearTimeout(o),delete Xt()[vv];const c=Xt().grecaptcha;if(!c||!kI(c)){s(Pn(e,"internal-error"));return}const h=c.render;c.render=(f,p)=>{const v=h(f,p);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${rV}?${Ol({onload:vv,render:"explicit",hl:n})}`;f_(l).catch(()=>{clearTimeout(o),s(Pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Xt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function oV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class aV{async load(e){return new eV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="recaptcha",lV={theme:"light",type:"image"};let uV=class{constructor(e,n,i=Object.assign({},lV)){this.parameters=i,this.type=vC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(e),this.isInvisible=this.parameters.size==="invisible",G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;G(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aV:new sV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=Xt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){G(c_()&&!w_(),this.auth,"internal-error"),await cV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await oL(this.auth);G(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function cV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=xo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function dV(t,e,n){const i=Ft(t),s=await Rp(i,e,Pe(n));return new b_(s,o=>Ip(i,o))}async function hV(t,e,n){const i=Pe(t);await Ep(!1,i,"phone");const s=await Rp(i.auth,e,Pe(n));return new b_(s,o=>oC(i,o))}async function fV(t,e,n){const i=Pe(t),s=await Rp(i.auth,e,Pe(n));return new b_(s,o=>aC(i,o))}async function Rp(t,e,n){var i;const s=await n.verify();try{G(typeof s=="string",t,"argument-error"),G(n.type===vC,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return G(l.type==="enroll",t,"internal-error"),(await xM(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{G(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return G(c,t,"missing-multi-factor-info"),(await JM(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await KL(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function pV(t,e){await p_(Pe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo=class _f{constructor(e){this.providerId=_f.PROVIDER_ID,this.auth=Ft(e)}verifyPhoneNumber(e,n){return Rp(this.auth,e,Pe(n))}static credential(e,n){return xo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return _f.credentialFromTaggedObject(n)}static credentialFromError(e){return _f.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?xo._fromTokenResponse(n,i):null}};Fo.PROVIDER_ID="phone";Fo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){return e?yi(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends Dl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mV(t){return sC(t.auth,new E_(t),t.bypassAuthState)}function gV(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),rC(n,new E_(t),t.bypassAuthState)}async function vV(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),p_(n,new E_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return vV;case"reauthViaPopup":case"reauthViaRedirect":return gV;default:yn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new cd(2e3,1e4);async function _V(t,e,n){const i=Ft(t);xl(t,e,Kr);const s=zo(i,n);return new Pr(i,"signInViaPopup",e,s).executeNotNull()}async function wV(t,e,n){const i=Pe(t);xl(i.auth,e,Kr);const s=zo(i.auth,n);return new Pr(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function bV(t,e,n){const i=Pe(t);xl(i.auth,e,Kr);const s=zo(i.auth,n);return new Pr(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class Pr extends yC{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Pr.currentPopupAction&&Pr.currentPopupAction.cancel(),Pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=fd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yV.get())};e()}}Pr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="pendingRedirect",bc=new Map;class IV extends yC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const i=await TV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TV(t,e){const n=wC(e),i=_C(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function I_(t,e){return _C(t)._set(wC(e),"true")}function AV(){bc.clear()}function T_(t,e){bc.set(t._key(),e)}function _C(t){return yi(t._redirectPersistence)}function wC(t){return Oo(EV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e,n){return CV(t,e,n)}async function CV(t,e,n){const i=Ft(t);xl(t,e,Kr),await i._initializationPromise;const s=zo(i,n);return await I_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function RV(t,e,n){return PV(t,e,n)}async function PV(t,e,n){const i=Pe(t);xl(i.auth,e,Kr),await i.auth._initializationPromise;const s=zo(i.auth,n);await I_(s,i.auth);const o=await bC(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function kV(t,e,n){return OV(t,e,n)}async function OV(t,e,n){const i=Pe(t);xl(i.auth,e,Kr),await i.auth._initializationPromise;const s=zo(i.auth,n);await Ep(!1,i,e.providerId),await I_(s,i.auth);const o=await bC(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function xV(t,e){return await Ft(t)._initializationPromise,Pp(t,e,!1)}async function Pp(t,e,n=!1){const i=Ft(t),s=zo(i,e),l=await new IV(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function bC(t){const e=fd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=10*60*1e3;class EC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!IC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NV&&this.cachedEventUids.clear(),this.cachedEventUids.has($I(e))}saveEventToCache(e){this.cachedEventUids.add($I(e)),this.lastProcessedEventTime=Date.now()}}function $I(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e={}){return sn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MV=/^https?/;async function VV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TC(t);for(const n of e)try{if(FV(n))return}catch{}yn(t,"unauthorized-domain")}function FV(t){const e=Mc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!MV.test(n))return!1;if(LV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=new cd(3e4,6e4);function BI(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $V(t){return new Promise((e,n)=>{var i,s,o;function l(){BI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BI(),n(Pn(t,"network-request-failed"))},timeout:UV.get()})}if(!((s=(i=Xt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Xt().gapi)===null||o===void 0)&&o.load)l();else{const c=JS("iframefcb");return Xt()[c]=()=>{gapi.load?l():n(Pn(t,"network-request-failed"))},f_(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw wf=null,e})}let wf=null;function BV(t){return wf=wf||$V(t),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new cd(5e3,15e3),HV="__/auth/iframe",qV="emulator/auth/iframe",WV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zV(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d_(e,qV):`https://${t.config.authDomain}/${HV}`,i={apiKey:e.apiKey,appName:t.name,v:qr},s=KV.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Ol(i).slice(1)}`}async function GV(t){const e=await BV(t),n=Xt().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:zV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Pn(t,"network-request-failed"),c=Xt().setTimeout(()=>{o(l)},jV.get());function h(){Xt().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JV=500,QV=600,XV="_blank",ZV="http://localhost";class jI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e4(t,e,n,i=JV,s=QV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},YV),{width:i.toString(),height:s.toString(),top:o,left:l}),f=rn().toLowerCase();n&&(c=qS(f)?XV:n),HS(f)&&(e=e||ZV,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[b,T])=>`${y}${b}=${T},`,"");if(wL(f)&&c!=="_self")return t4(e||"",c),new jI(null);const v=window.open(e||"",c,p);G(v,t,"popup-blocked");try{v.focus()}catch{}return new jI(v)}function t4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="__/auth/handler",i4="emulator/auth/handler",r4=encodeURIComponent("fac");async function Zv(t,e,n,i,s,o){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:qr,eventId:s};if(e instanceof Kr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",VN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(o||{}))l[p]=v}if(e instanceof Ll){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${r4}=${encodeURIComponent(h)}`:"";return`${s4(t)}?${Ol(c).slice(1)}${f}`}function s4({config:t}){return t.emulator?d_(t,i4):`https://${t.authDomain}/${n4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="webStorageSupport";class o4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Pp,this._overrideRedirectResult=T_}async _openPopup(e,n,i,s){var o;qi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Zv(e,n,i,Mc(),s);return e4(e,l,fd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await Zv(e,n,i,Mc(),s);return BM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(qi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await GV(e),i=new EC(e);return n.register("authEvent",s=>(G(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yv,{type:yv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[yv];l!==void 0&&n(!!l),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GS()||h_()||Nl()}}const AC=o4;class a4{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return dr("unexpected MultiFactorSessionType")}}}class A_ extends a4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new A_(e)}_finalizeEnroll(e,n,i){return NM(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return QM(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class SC{constructor(){}static assertion(e){return A_._fromCredential(e)}}SC.FACTOR_ID="phone";var HI="@firebase/auth",qI="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function c4(t){gr(new Hi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;G(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(t)},f=new CL(i,s,o,h);return DL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),gr(new Hi("auth-internal",e=>{const n=Ft(e.getProvider("auth").getImmediate());return(i=>new l4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(HI,qI,u4(t)),Yn(HI,qI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=5*60,h4=wS("authIdTokenMaxAge")||d4;let WI=null;const f4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>h4)return;const s=n==null?void 0:n.token;WI!==s&&(WI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CC(t=ud()){const e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NL(t,{popupRedirectResolver:AC,persistence:[ll,Ap,Os]}),i=wS("authTokenSyncURL");if(i){const o=f4(i);PM(n,o,()=>o(n.currentUser)),RM(n,l=>o(l))}const s=yS("auth");return s&&QS(n,`http://${s}`),n}c4("Browser");var p4="firebase",m4="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(p4,m4,"app");var g4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,S_=S_||{},Le=g4||self;function kp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function md(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function v4(t){return Object.prototype.hasOwnProperty.call(t,_v)&&t[_v]||(t[_v]=++y4)}var _v="closure_uid_"+(1e9*Math.random()>>>0),y4=0;function _4(t,e,n){return t.call.apply(t.bind,arguments)}function w4(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vn=_4:Vn=w4,Vn.apply(null,arguments)}function Qh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function wn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Fs(){this.s=this.s,this.o=this.o}var b4=0;Fs.prototype.s=!1;Fs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),b4!=0)&&v4(this)};Fs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const RC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function C_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function KI(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(kp(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Fn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Fn.prototype.h=function(){this.defaultPrevented=!0};var E4=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Le.addEventListener("test",()=>{},e),Le.removeEventListener("test",()=>{},e)}catch{}return t}();function $c(t){return/^[\s\xa0]*$/.test(t)}function Op(){var t=Le.navigator;return t&&(t=t.userAgent)?t:""}function ur(t){return Op().indexOf(t)!=-1}function R_(t){return R_[" "](t),t}R_[" "]=function(){};function I4(t,e){var n=mF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var T4=ur("Opera"),ul=ur("Trident")||ur("MSIE"),PC=ur("Edge"),ey=PC||ul,kC=ur("Gecko")&&!(Op().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge"))&&!(ur("Trident")||ur("MSIE"))&&!ur("Edge"),A4=Op().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge");function OC(){var t=Le.document;return t?t.documentMode:void 0}var ty;e:{var wv="",bv=function(){var t=Op();if(kC)return/rv:([^\);]+)(\)|;)/.exec(t);if(PC)return/Edge\/([\d\.]+)/.exec(t);if(ul)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(A4)return/WebKit\/(\S+)/.exec(t);if(T4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(bv&&(wv=bv?bv[1]:""),ul){var Ev=OC();if(Ev!=null&&Ev>parseFloat(wv)){ty=String(Ev);break e}}ty=wv}var ny;if(Le.document&&ul){var zI=OC();ny=zI||parseInt(ty,10)||void 0}else ny=void 0;var S4=ny;function Bc(t,e){if(Fn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kC){e:{try{R_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:C4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bc.$.h.call(this)}}wn(Bc,Fn);var C4={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),R4=0;function P4(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++R4,this.fa=this.ia=!1}function xp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function P_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function k4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function xC(t){const e={};for(const n in t)e[n]=t[n];return e}const GI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NC(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<GI.length;o++)n=GI[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Np(t){this.src=t,this.g={},this.h=0}Np.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=ry(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new P4(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function iy(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=RC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(xp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ry(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var k_="closure_lm_"+(1e6*Math.random()|0),Iv={};function DC(t,e,n,i,s){if(i&&i.once)return MC(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)DC(t,e[o],n,i,s);return null}return n=N_(n),t&&t[gd]?t.O(e,n,md(i)?!!i.capture:!!i,s):LC(t,e,n,!1,i,s)}function LC(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=md(s)?!!s.capture:!!s,c=x_(t);if(c||(t[k_]=c=new Np(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=O4(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)E4||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(FC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function O4(){function t(n){return e.call(t.src,t.listener,n)}const e=x4;return t}function MC(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)MC(t,e[o],n,i,s);return null}return n=N_(n),t&&t[gd]?t.P(e,n,md(i)?!!i.capture:!!i,s):LC(t,e,n,!0,i,s)}function VC(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)VC(t,e[o],n,i,s);else i=md(i)?!!i.capture:!!i,n=N_(n),t&&t[gd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ry(o,n,i,s),-1<n&&(xp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=x_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ry(e,n,i,s)),(n=-1<t?e[t]:null)&&O_(n))}function O_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gd])iy(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(FC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=x_(e))?(iy(n,t),n.h==0&&(n.src=null,e[k_]=null)):xp(t)}}}function FC(t){return t in Iv?Iv[t]:Iv[t]="on"+t}function x4(t,e){if(t.fa)t=!0;else{e=new Bc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&O_(t),t=n.call(i,e)}return t}function x_(t){return t=t[k_],t instanceof Np?t:null}var Tv="__closure_events_fn_"+(1e9*Math.random()>>>0);function N_(t){return typeof t=="function"?t:(t[Tv]||(t[Tv]=function(e){return t.handleEvent(e)}),t[Tv])}function _n(){Fs.call(this),this.i=new Np(this),this.S=this,this.J=null}wn(_n,Fs);_n.prototype[gd]=!0;_n.prototype.removeEventListener=function(t,e,n,i){VC(this,t,e,n,i)};function kn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Fn(e,t);else if(e instanceof Fn)e.target=e.target||t;else{var s=e;e=new Fn(i,t),NC(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=Xh(l,i,!0,e)&&s}if(l=e.g=t,s=Xh(l,i,!0,e)&&s,s=Xh(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=Xh(l,i,!1,e)&&s}_n.prototype.N=function(){if(_n.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)xp(n[i]);delete t.g[e],t.h--}}this.J=null};_n.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};_n.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Xh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&iy(t.i,l),s=c.call(h,i)!==!1&&s}}return s&&!i.defaultPrevented}var D_=Le.JSON.stringify;class N4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function D4(){var t=L_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class L4{constructor(){this.h=this.g=null}add(e,n){const i=UC.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var UC=new N4(()=>new M4,t=>t.reset());class M4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function F4(t){Le.setTimeout(()=>{throw t},0)}let jc,Hc=!1,L_=new L4,$C=()=>{const t=Le.Promise.resolve(void 0);jc=()=>{t.then(U4)}};var U4=()=>{for(var t;t=D4();){try{t.h.call(t.g)}catch(n){F4(n)}var e=UC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hc=!1};function Dp(t,e){_n.call(this),this.h=t||1,this.g=e||Le,this.j=Vn(this.qb,this),this.l=Date.now()}wn(Dp,_n);oe=Dp.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kn(this,"tick"),this.ga&&(M_(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function M_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){Dp.$.N.call(this),M_(this),delete this.g};function V_(t,e,n){if(typeof t=="function")n&&(t=Vn(t,n));else if(t&&typeof t.handleEvent=="function")t=Vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Le.setTimeout(t,e||0)}function BC(t){t.g=V_(()=>{t.g=null,t.i&&(t.i=!1,BC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $4 extends Fs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:BC(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(t){Fs.call(this),this.h=t,this.g={}}wn(qc,Fs);var YI=[];function jC(t,e,n,i){Array.isArray(n)||(n&&(YI[0]=n.toString()),n=YI);for(var s=0;s<n.length;s++){var o=DC(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function HC(t){P_(t.g,function(e,n){this.g.hasOwnProperty(n)&&O_(e)},t),t.g={}}qc.prototype.N=function(){qc.$.N.call(this),HC(this)};qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lp(){this.g=!0}Lp.prototype.Ea=function(){this.g=!1};function B4(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");l=2<=v.length&&v[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function j4(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function za(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+q4(t,n)+(i?" "+i:"")})}function H4(t,e){t.info(function(){return"TIMEOUT: "+e})}Lp.prototype.info=function(){};function q4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return D_(n)}catch{return e}}var Go={},JI=null;function Mp(){return JI=JI||new _n}Go.Ta="serverreachability";function qC(t){Fn.call(this,Go.Ta,t)}wn(qC,Fn);function Wc(t){const e=Mp();kn(e,new qC(e))}Go.STAT_EVENT="statevent";function WC(t,e){Fn.call(this,Go.STAT_EVENT,t),this.stat=e}wn(WC,Fn);function Gn(t){const e=Mp();kn(e,new WC(e,t))}Go.Ua="timingevent";function KC(t,e){Fn.call(this,Go.Ua,t),this.size=e}wn(KC,Fn);function vd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){t()},e)}var Vp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function F_(){}F_.prototype.h=null;function QI(t){return t.h||(t.h=t.i())}function GC(){}var yd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function U_(){Fn.call(this,"d")}wn(U_,Fn);function $_(){Fn.call(this,"c")}wn($_,Fn);var sy;function Fp(){}wn(Fp,F_);Fp.prototype.g=function(){return new XMLHttpRequest};Fp.prototype.i=function(){return{}};sy=new Fp;function _d(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new qc(this),this.P=W4,t=ey?125:void 0,this.V=new Dp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YC}function YC(){this.i=null,this.g="",this.h=!1}var W4=45e3,oy={},$f={};oe=_d.prototype;oe.setTimeout=function(t){this.P=t};function ay(t,e,n){t.L=1,t.v=$p(Fr(e)),t.s=n,t.S=!0,JC(t,null)}function JC(t,e){t.G=Date.now(),wd(t),t.A=Fr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),rR(n.i,"t",i),t.C=0,n=t.l.J,t.h=new YC,t.g=AR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $4(Vn(t.Pa,t,t.g),t.O)),jC(t.U,t.g,"readystatechange",t.nb),e=t.I?xC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Wc(),B4(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const p=hr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||ey||this.g&&(this.h.h||this.g.ja()||tT(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Wc(3):Wc(2)),Up(this);var n=this.g.da();this.ca=n;t:if(QC(this)){var i=tT(this.g);t="";var s=i.length,o=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),Ec(this);var l="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,j4(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$c(c)){var f=c;break t}}f=null}if(n=f)za(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,n);else{this.i=!1,this.o=3,Gn(12),Io(this),Ec(this);break e}}this.S?(XC(this,p,l),ey&&this.i&&p==3&&(jC(this.U,this.V,"tick",this.mb),this.V.start())):(za(this.j,this.m,l,null),ly(this,l)),p==4&&Io(this),this.i&&!this.J&&(p==4?bR(this.l,this):(this.i=!1,wd(this)))}else hF(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),Io(this),Ec(this)}}}catch{}finally{}};function QC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function XC(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=K4(t,n),s==$f){e==4&&(t.o=4,Gn(14),i=!1),za(t.j,t.m,null,"[Incomplete Response]");break}else if(s==oy){t.o=4,Gn(15),za(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else za(t.j,t.m,s,null),ly(t,s);QC(t)&&s!=$f&&s!=oy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Gn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),K_(e),e.M=!0,Gn(11))):(za(t.j,t.m,n,"[Invalid Chunked Response]"),Io(t),Ec(t))}oe.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.C<e.length&&(Up(this),XC(this,t,e),this.i&&t!=4&&wd(this))}};function K4(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?$f:(n=Number(e.substring(n,i)),isNaN(n)?oy:(i+=1,i+n>e.length?$f:(e=e.slice(i,i+n),t.C=i+n,e)))}oe.cancel=function(){this.J=!0,Io(this)};function wd(t){t.Y=Date.now()+t.P,ZC(t,t.P)}function ZC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=vd(Vn(t.lb,t),e)}function Up(t){t.B&&(Le.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(H4(this.j,this.A),this.L!=2&&(Wc(),Gn(17)),Io(this),this.o=2,Ec(this)):ZC(this,this.Y-t)};function Ec(t){t.l.H==0||t.J||bR(t.l,t)}function Io(t){Up(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,M_(t.V),HC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ly(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||uy(n.i,t))){if(!t.K&&uy(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hf(n),Hp(n);else break e;W_(n),Gn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=vd(Vn(n.ib,n),6e3));if(1>=aR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else To(n,11)}else if((t.K||n.g==t)&&Hf(n),!$c(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const b=t.g;if(b){const T=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var o=i.i;o.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(B_(o,o.h),o.h=null))}if(i.F){const _=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,At(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=TR(i,i.J?i.pa:null,i.Y),l.K){lR(i.i,l);var c=l,h=i.L;h&&c.setTimeout(h),c.B&&(Up(c),wd(c)),i.g=l}else _R(i);0<n.j.length&&qp(n)}else f[0]!="stop"&&f[0]!="close"||To(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?To(n,7):q_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Wc(4)}catch{}}function z4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function G4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function eR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=G4(t),i=z4(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var tR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Y4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function No(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof No){this.h=t.h,Bf(this,t.j),this.s=t.s,this.g=t.g,jf(this,t.m),this.l=t.l;var e=t.i,n=new Kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),XI(this,n),this.o=t.o}else t&&(e=String(t).match(tR))?(this.h=!1,Bf(this,e[1]||"",!0),this.s=hc(e[2]||""),this.g=hc(e[3]||"",!0),jf(this,e[4]),this.l=hc(e[5]||"",!0),XI(this,e[6]||"",!0),this.o=hc(e[7]||"")):(this.h=!1,this.i=new Kc(null,this.h))}No.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fc(e,ZI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fc(e,ZI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fc(n,n.charAt(0)=="/"?X4:Q4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fc(n,eF)),t.join("")};function Fr(t){return new No(t)}function Bf(t,e,n){t.j=n?hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function jf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XI(t,e,n){e instanceof Kc?(t.i=e,tF(t.i,t.h)):(n||(e=fc(e,Z4)),t.i=new Kc(e,t.h))}function At(t,e,n){t.i.set(e,n)}function $p(t){return At(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,J4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function J4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZI=/[#\/\?@]/g,Q4=/[#\?:]/g,X4=/[#\?]/g,Z4=/[#\?@]/g,eF=/#/g;function Kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Us(t){t.g||(t.g=new Map,t.h=0,t.i&&Y4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Kc.prototype;oe.add=function(t,e){Us(this),this.i=null,t=Ml(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nR(t,e){Us(t),e=Ml(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function iR(t,e){return Us(t),e=Ml(t,e),t.g.has(e)}oe.forEach=function(t,e){Us(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};oe.ta=function(){Us(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};oe.Z=function(t){Us(this);let e=[];if(typeof t=="string")iR(this,t)&&(e=e.concat(this.g.get(Ml(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return Us(this),this.i=null,t=Ml(this,t),iR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rR(t,e,n){nR(t,e),0<n.length&&(t.i=null,t.g.set(Ml(t,e),C_(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Ml(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tF(t,e){e&&!t.j&&(Us(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(nR(this,i),rR(this,s,n))},t)),t.j=e}var nF=class{constructor(t,e){this.g=t,this.map=e}};function sR(t){this.l=t||iF,Le.PerformanceNavigationTiming?(t=Le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iF=10;function oR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aR(t){return t.h?1:t.g?t.g.size:0}function uy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function B_(t,e){t.g?t.g.add(e):t.h=e}function lR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}sR.prototype.cancel=function(){if(this.i=uR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return C_(t.i)}var rF=class{stringify(t){return Le.JSON.stringify(t,void 0)}parse(t){return Le.JSON.parse(t,void 0)}};function sF(){this.g=new rF}function oF(t,e,n){const i=n||"";try{eR(t,function(s,o){let l=s;md(s)&&(l=D_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function aF(t,e){const n=new Lp;if(Le.Image){const i=new Image;i.onload=Qh(Zh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Qh(Zh,n,i,"TestLoadImage: error",!1,e),i.onabort=Qh(Zh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Qh(Zh,n,i,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Zh(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function bd(t){this.l=t.ec||null,this.j=t.ob||!1}wn(bd,F_);bd.prototype.g=function(){return new Bp(this.l,this.j)};bd.prototype.i=function(t){return function(){return t}}({});function Bp(t,e){_n.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=j_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(Bp,_n);var j_=0;oe=Bp.prototype;oe.open=function(t,e){if(this.readyState!=j_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zc(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=j_};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zc(this)),this.g&&(this.readyState=3,zc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function cR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ed(this):zc(this),this.readyState==3&&cR(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,Ed(this))};oe.Ya=function(t){this.g&&(this.response=t,Ed(this))};oe.ka=function(){this.g&&Ed(this)};function Ed(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zc(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lF=Le.JSON.parse;function Ut(t){_n.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dR,this.L=this.M=!1}wn(Ut,_n);var dR="",uF=/^https?$/i,cF=["POST","PUT"];oe=Ut.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():sy.g(),this.C=this.u?QI(this.u):QI(sy),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){eT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Le.FormData&&t instanceof Le.FormData,!(0<=RC(cF,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pR(this),0<this.B&&((this.L=dF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=V_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){eT(this,o)}};function dF(t){return ul&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof S_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))};function eT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hR(t),jp(t)}function hR(t){t.F||(t.F=!0,kn(t,"complete"),kn(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kn(this,"complete"),kn(this,"abort"),jp(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jp(this,!0)),Ut.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?fR(this):this.kb())};oe.kb=function(){fR(this)};function fR(t){if(t.h&&typeof S_<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)V_(t.La,0,t);else if(kn(t,"readystatechange"),hr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(tR)[1]||null;!s&&Le.self&&Le.self.location&&(s=Le.self.location.protocol.slice(0,-1)),i=!uF.test(s?s.toLowerCase():"")}n=i}if(n)kn(t,"complete"),kn(t,"success");else{t.m=6;try{var o=2<hr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",hR(t)}}finally{jp(t)}}}}function jp(t,e){if(t.g){pR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||kn(t,"ready");try{n.onreadystatechange=i}catch{}}}function pR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Le.clearTimeout(t.A),t.A=null)}oe.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lF(e)}};function tT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hF(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if($c(t[i]))continue;var n=V4(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}k4(e,function(i){return i.join(", ")})}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mR(t){let e="";return P_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function H_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=mR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):At(t,e,n))}function ec(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gR(t){this.Ga=0,this.j=[],this.l=new Lp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,t),this.hb=ec("retryDelaySeedMs",1e4,t),this.eb=ec("forwardChannelMaxRetries",2,t),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new sR(t&&t.concurrentRequestLimit),this.Ja=new sF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}oe=gR.prototype;oe.ra=8;oe.H=1;function q_(t){if(vR(t),t.H==3){var e=t.W++,n=Fr(t.I);if(At(n,"SID",t.K),At(n,"RID",e),At(n,"TYPE","terminate"),Id(t,n),e=new _d(t,t.l,e),e.L=2,e.v=$p(Fr(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon)try{n=Le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Le.Image&&(new Image().src=e.v,n=!0),n||(e.g=AR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wd(e)}IR(t)}function Hp(t){t.g&&(K_(t),t.g.cancel(),t.g=null)}function vR(t){Hp(t),t.u&&(Le.clearTimeout(t.u),t.u=null),Hf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Le.clearTimeout(t.m),t.m=null)}function qp(t){if(!oR(t.i)&&!t.m){t.m=!0;var e=t.Na;jc||$C(),Hc||(jc(),Hc=!0),L_.add(e,t),t.C=0}}function fF(t,e){return aR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vd(Vn(t.Na,t,e),ER(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new _d(this,this.l,t);let o=this.s;if(this.U&&(o?(o=xC(o),NC(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yR(this,s,e),n=Fr(this.I),At(n,"RID",t),At(n,"CVER",22),this.F&&At(n,"X-HTTP-Session-Id",this.F),Id(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(mR(o)))+"&"+e:this.o&&H_(n,this.o,o)),B_(this.i,s),this.bb&&At(n,"TYPE","init"),this.P?(At(n,"$req",e),At(n,"SID","null"),s.aa=!0,ay(s,n,null)):ay(s,n,e),this.H=2}}else this.H==3&&(t?nT(this,t):this.j.length==0||oR(this.i)||nT(this))};function nT(t,e){var n;e?n=e.m:n=t.W++;const i=Fr(t.I);At(i,"SID",t.K),At(i,"RID",n),At(i,"AID",t.V),Id(t,i),t.o&&t.s&&H_(i,t.o,t.s),n=new _d(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),B_(t.i,n),ay(n,i,e)}function Id(t,e){t.na&&P_(t.na,function(n,i){At(e,i,n)}),t.h&&eR({},function(n,i){At(e,i,n)})}function yR(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Vn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=s[h].g;const p=s[h].map;if(f-=o,0>f)o=Math.max(0,s[h].g-100),c=!1;else try{oF(p,l,"req"+f+"_")}catch{i&&i(p)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function _R(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jc||$C(),Hc||(jc(),Hc=!0),L_.add(e,t),t.A=0}}function W_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vd(Vn(t.Ma,t),ER(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,wR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vd(Vn(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),Hp(this),wR(this))};function K_(t){t.B!=null&&(Le.clearTimeout(t.B),t.B=null)}function wR(t){t.g=new _d(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fr(t.wa);At(e,"RID","rpc"),At(e,"SID",t.K),At(e,"AID",t.V),At(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&At(e,"TO",t.qa),At(e,"TYPE","xmlhttp"),Id(t,e),t.o&&t.s&&H_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$p(Fr(e)),n.s=null,n.S=!0,JC(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,Hp(this),W_(this),Gn(19))};function Hf(t){t.v!=null&&(Le.clearTimeout(t.v),t.v=null)}function bR(t,e){var n=null;if(t.g==e){Hf(t),K_(t),t.g=null;var i=2}else if(uy(t.i,e))n=e.F,lR(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Mp(),kn(i,new KC(i,n)),qp(t)}else _R(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&fF(t,e)||i==2&&W_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:To(t,5);break;case 4:To(t,10);break;case 3:To(t,6);break;default:To(t,2)}}}function ER(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function To(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Vn(t.pb,t);n||(n=new No("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Bf(n,"https"),$p(n)),aF(n.toString(),i)}else Gn(2);t.H=0,t.h&&t.h.za(e),IR(t),vR(t)}oe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function IR(t){if(t.H=0,t.ma=[],t.h){const e=uR(t.i);(e.length!=0||t.j.length!=0)&&(KI(t.ma,e),KI(t.ma,t.j),t.i.i.length=0,C_(t.j),t.j.length=0),t.h.ya()}}function TR(t,e,n){var i=n instanceof No?Fr(n):new No(n);if(i.g!="")e&&(i.g=e+"."+i.g),jf(i,i.m);else{var s=Le.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new No(null);i&&Bf(o,i),e&&(o.g=e),s&&jf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&At(i,n,e),At(i,"VER",t.ra),Id(t,i),i}function AR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ut(new bd({ob:!0})):new Ut(t.va),e.Oa(t.J),e}oe.isActive=function(){return!!this.h&&this.h.isActive(this)};function SR(){}oe=SR.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.isActive=function(){return!0};oe.Va=function(){};function qf(){if(ul&&!(10<=Number(S4)))throw Error("Environmental error: no available transport.")}qf.prototype.g=function(t,e){return new bi(t,e)};function bi(t,e){_n.call(this),this.g=new gR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$c(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vl(this)}wn(bi,_n);bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=TR(t,null,t.Y),qp(t)};bi.prototype.close=function(){q_(this.g)};bi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=D_(t),t=n);e.j.push(new nF(e.fb++,t)),e.H==3&&qp(e)};bi.prototype.N=function(){this.g.h=null,delete this.j,q_(this.g),delete this.g,bi.$.N.call(this)};function CR(t){U_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wn(CR,U_);function RR(){$_.call(this),this.status=1}wn(RR,$_);function Vl(t){this.g=t}wn(Vl,SR);Vl.prototype.Ba=function(){kn(this.g,"a")};Vl.prototype.Aa=function(t){kn(this.g,new CR(t))};Vl.prototype.za=function(t){kn(this.g,new RR)};Vl.prototype.ya=function(){kn(this.g,"b")};function pF(){this.blockSize=-1}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}wn(Wi,pF);Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Av(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Wi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)Av(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){Av(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){Av(this,i),s=0;break}}this.h=s,this.i+=e};Wi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function vt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var mF={};function z_(t){return-128<=t&&128>t?I4(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function fr(t){if(isNaN(t)||!isFinite(t))return Qa;if(0>t)return In(fr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=cy;return new vt(e,0)}function PR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return In(PR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(e,8)),i=Qa,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=fr(Math.pow(e,o)),i=i.R(o).add(fr(l))):(i=i.R(n),i=i.add(fr(l)))}return i}var cy=4294967296,Qa=z_(0),dy=z_(1),iT=z_(16777216);oe=vt.prototype;oe.ea=function(){if(Ci(this))return-In(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:cy+i)*e,e*=cy}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(kr(this))return"0";if(Ci(this))return"-"+In(this).toString(t);for(var e=fr(Math.pow(t,6)),n=this,i="";;){var s=Kf(n,e).g;n=Wf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,kr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ci(t){return t.h==-1}oe.X=function(t){return t=Wf(this,t),Ci(t)?-1:kr(t)?0:1};function In(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new vt(n,~t.h).add(dy)}oe.abs=function(){return Ci(this)?In(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function Wf(t,e){return t.add(In(e))}oe.R=function(t){if(kr(this)||kr(t))return Qa;if(Ci(this))return Ci(t)?In(this).R(In(t)):In(In(this).R(t));if(Ci(t))return In(this.R(In(t)));if(0>this.X(iT)&&0>t.X(iT))return fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,h=t.D(s)&65535;n[2*i+2*s]+=l*h,ef(n,2*i+2*s),n[2*i+2*s+1]+=o*h,ef(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,ef(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,ef(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new vt(n,0)};function ef(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tc(t,e){this.g=t,this.h=e}function Kf(t,e){if(kr(e))throw Error("division by zero");if(kr(t))return new tc(Qa,Qa);if(Ci(t))return e=Kf(In(t),e),new tc(In(e.g),In(e.h));if(Ci(e))return e=Kf(t,In(e)),new tc(In(e.g),e.h);if(30<t.g.length){if(Ci(t)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dy,i=e;0>=i.X(t);)n=rT(n),i=rT(i);var s=Ua(n,1),o=Ua(i,1);for(i=Ua(i,2),n=Ua(n,2);!kr(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=Ua(i,1),n=Ua(n,1)}return e=Wf(t,s.R(e)),new tc(s,e)}for(s=Qa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=fr(n),l=o.R(e);Ci(l)||0<l.X(t);)n-=i,o=fr(n),l=o.R(e);kr(o)&&(o=dy),s=s.add(o),t=Wf(t,l)}return new tc(s,t)}oe.gb=function(t){return Kf(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new vt(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new vt(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new vt(n,this.h^t.h)};function rT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new vt(n,t.h)}function Ua(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new vt(s,t.h)}qf.prototype.createWebChannel=qf.prototype.g;bi.prototype.send=bi.prototype.u;bi.prototype.open=bi.prototype.m;bi.prototype.close=bi.prototype.close;Vp.NO_ERROR=0;Vp.TIMEOUT=8;Vp.HTTP_ERROR=6;zC.COMPLETE="complete";GC.EventType=yd;yd.OPEN="a";yd.CLOSE="b";yd.ERROR="c";yd.MESSAGE="d";_n.prototype.listen=_n.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;Wi.prototype.digest=Wi.prototype.l;Wi.prototype.reset=Wi.prototype.reset;Wi.prototype.update=Wi.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=fr;vt.fromString=PR;var gF=function(){return new qf},vF=function(){return Mp()},Sv=Vp,yF=zC,_F=Go,sT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wF=bd,tf=GC,bF=Ut,EF=Wi,Xa=vt;const oT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new gp("@firebase/firestore");function nc(){return Uo.logLevel}function ve(t,...e){if(Uo.logLevel<=ze.DEBUG){const n=e.map(G_);Uo.debug(`Firestore (${Fl}): ${t}`,...n)}}function Ur(t,...e){if(Uo.logLevel<=ze.ERROR){const n=e.map(G_);Uo.error(`Firestore (${Fl}): ${t}`,...n)}}function cl(t,...e){if(Uo.logLevel<=ze.WARN){const n=e.map(G_);Uo.warn(`Firestore (${Fl}): ${t}`,...n)}}function G_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t="Unexpected state"){const e=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function St(t,e){t||De()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class TF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AF{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St(typeof i.accessToken=="string"),new kR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return St(e===null||typeof e=="string"),new Dn(e)}}class SF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new SF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(St(typeof n.token=="string"),this.R=n.token,new RF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=kF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function at(t,e){return t<e?-1:t>e?1:0}function dl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new nn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new nn(0,0))}static max(){return new Me(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(),i===void 0?i=e.length-n:i>e.length-n&&De(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class It extends Gc{construct(e,n,i){return new It(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new se(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new It(n)}static emptyPath(){return new It([])}}const OF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Gc{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return OF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new se(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new se(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new se(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new se(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(It.fromString(e))}static fromName(e){return new Te(It.fromString(e).popFirst(5))}static empty(){return new Te(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new It(e.slice()))}}function xF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(i===1e9?new nn(n+1,0):new nn(n,i));return new xs(s,Te.empty(),e)}function NF(t){return new xs(t.readTime,t.key,-1)}class xs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new xs(Me.min(),Te.empty(),-1)}static max(){return new xs(Me.max(),Te.empty(),-1)}}function DF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==LF)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,i)=>{n(e)})}static reject(e){return new q((n,i)=>{i(e)})}static waitFor(e){return new q((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},h=>i(h))}),l=!0,o===s&&n()})}static or(e){let n=q.resolve(!1);for(const i of e)n=n.next(s=>s?q.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new q((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++c,c===o&&i(l)},p=>s(p))}})}static doWhile(e,n){return new q((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function Ad(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Y_._e=-1;function Wp(t){return t==null}function zf(t){return t===0&&1/t==-1/0}function VF(t){return typeof t=="number"&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??En.RED,this.left=s??En.EMPTY,this.right=o??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new En(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,i,s,o){return this}insert(e,n,i){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new On(this.comparator);return n.data=e,n}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new On(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NR("Invalid base64 string: "+o):o}}(e);return new $n(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const FF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(St(!!t),typeof t=="string"){let e=0;const n=FF.exec(t);if(St(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function J_(t){const e=t.mapValue.fields.__previous_value__;return Kp(e)?J_(e):e}function Yc(t){const e=Ns(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n,i,s,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Jc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kp(t)?4:$F(t)?9007199254740991:10:De()}function yr(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Ns(s.timestampValue),c=Ns(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return $o(s.bytesValue).isEqual($o(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Zt(s.geoPointValue.latitude)===Zt(o.geoPointValue.latitude)&&Zt(s.geoPointValue.longitude)===Zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Zt(s.integerValue)===Zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Zt(s.doubleValue),c=Zt(o.doubleValue);return l===c?zf(l)===zf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(aT(l)!==aT(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!yr(l[h],c[h])))return!1;return!0}(t,e);default:return De()}}function Qc(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=Bo(t),i=Bo(e);if(n!==i)return at(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Zt(o.integerValue||o.doubleValue),h=Zt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return uT(t.timestampValue,e.timestampValue);case 4:return uT(Yc(t),Yc(e));case 5:return at(t.stringValue,e.stringValue);case 6:return function(o,l){const c=$o(o),h=$o(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=at(c[f],h[f]);if(p!==0)return p}return at(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=at(Zt(o.latitude),Zt(l.latitude));return c!==0?c:at(Zt(o.longitude),Zt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],h=l.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=hl(c[f],h[f]);if(p)return p}return at(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===rf.mapValue&&l===rf.mapValue)return 0;if(o===rf.mapValue)return 1;if(l===rf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const y=at(h[v],p[v]);if(y!==0)return y;const b=hl(c[h[v]],f[p[v]]);if(b!==0)return b}return at(h.length,p.length)}(t.mapValue,e.mapValue);default:throw De()}}function uT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Ns(t),i=Ns(e),s=at(n.seconds,i.seconds);return s!==0?s:at(n.nanos,i.nanos)}function fl(t){return hy(t)}function hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ns(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=hy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${hy(n.fields[l])}`;return s+"}"}(t.mapValue):De()}function Gf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fy(t){return!!t&&"integerValue"in t}function Q_(t){return!!t&&"arrayValue"in t}function cT(t){return!!t&&"nullValue"in t}function dT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ic(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $F(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=Sn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Ic(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];bf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Yo(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new ri(Ic(this.value))}}function DR(t){const e=[];return Yo(t.fields,(n,i)=>{const s=new Sn([n]);if(bf(i)){const o=DR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Ln(e,0,Me.min(),Me.min(),Me.min(),ri.empty(),0)}static newFoundDocument(e,n,i,s){return new Ln(e,1,n,Me.min(),i,s,0)}static newNoDocument(e,n){return new Ln(e,2,n,Me.min(),Me.min(),ri.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,Me.min(),Me.min(),ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.position=e,this.inclusive=n}}function hT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=Te.comparator(Te.fromName(l.referenceValue),n.key):i=hl(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function BF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class tn extends LR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new HF(e,n,i):n==="array-contains"?new KF(e,i):n==="in"?new zF(e,i):n==="not-in"?new GF(e,i):n==="array-contains-any"?new YF(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new qF(e,i):new WF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&Bo(this.value)===Bo(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends LR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ki(e,n)}matches(e){return MR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function MR(t){return t.op==="and"}function VR(t){return jF(t)&&MR(t)}function jF(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function py(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(VR(t))return t.filters.map(e=>py(e)).join(",");{const e=t.filters.map(n=>py(n)).join(",");return`${t.op}(${e})`}}function FR(t,e){return t instanceof tn?function(i,s){return s instanceof tn&&i.op===s.op&&i.field.isEqual(s.field)&&yr(i.value,s.value)}(t,e):t instanceof Ki?function(i,s){return s instanceof Ki&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&FR(l,s.filters[c]),!0):!1}(t,e):void De()}function UR(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`}(t):t instanceof Ki?function(n){return n.op.toString()+" {"+n.getFilters().map(UR).join(" ,")+"}"}(t):"Filter"}class HF extends tn{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class qF extends tn{constructor(e,n){super(e,"in",n),this.keys=$R("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WF extends tn{constructor(e,n){super(e,"not-in",n),this.keys=$R("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $R(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class KF extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q_(n)&&Qc(n.arrayValue,this.value)}}class zF extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qc(this.value.arrayValue,n)}}class GF extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qc(this.value.arrayValue,n)}}class YF extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function pT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new JF(t,e,n,i,s,o,l)}function X_(t){const e=Ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>py(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Wp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>fl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>fl(i)).join(",")),e.ce=n}return e.ce}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function my(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function QF(t,e,n,i,s,o,l,c){return new $s(t,e,n,i,s,o,l,c)}function zp(t){return new $s(t)}function mT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e0(t){return t.collectionGroup!==null}function Za(t){const e=Ue(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new On(Sn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Xc(o,i))}),n.has(Sn.keyField().canonicalString())||e.le.push(new Xc(Sn.keyField(),i))}return e.le}function pr(t){const e=Ue(t);return e.he||(e.he=XF(e,Za(t))),e.he}function XF(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Xc(s.field,o)});const n=t.endAt?new pl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new pl(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function gy(t,e){const n=t.filters.concat([e]);return new $s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yf(t,e,n){return new $s(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gp(t,e){return Z_(pr(t),pr(e))&&t.limitType===e.limitType}function BR(t){return`${X_(pr(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>UR(s)).join(", ")}]`),Wp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>fl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>fl(s)).join(",")),`Target(${i})`}(pr(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Za(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=hT(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Za(i),s)||i.endAt&&!function(l,c,h){const f=hT(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Za(i),s))}(t,e)}function ZF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jR(t){return(e,n)=>{let i=!1;for(const s of Za(t)){const o=eU(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function eU(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?hl(h,f):De()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return xR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new xt(Te.comparator);function $r(){return tU}const HR=new xt(Te.comparator);function pc(...t){let e=HR;for(const n of t)e=e.insert(n.key,n);return e}function qR(t){let e=HR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ao(){return Tc()}function WR(){return Tc()}function Tc(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const nU=new xt(Te.comparator),iU=new On(Te.comparator);function Ge(...t){let e=iU;for(const n of t)e=e.add(n);return e}const rU=new On(at);function sU(){return rU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function zR(t){return{integerValue:""+t}}function oU(t,e){return VF(e)?zR(e):KR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this._=void 0}}function aU(t,e,n){return t instanceof Jf?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Kp(o)&&(o=J_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof ml?YR(t,e):t instanceof gl?JR(t,e):function(s,o){const l=GR(s,o),c=gT(l)+gT(s.Ie);return fy(l)&&fy(s.Ie)?zR(c):KR(s.serializer,c)}(t,e)}function lU(t,e,n){return t instanceof ml?YR(t,e):t instanceof gl?JR(t,e):n}function GR(t,e){return t instanceof Qf?function(i){return fy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Jf extends Jp{}class ml extends Jp{constructor(e){super(),this.elements=e}}function YR(t,e){const n=QR(e);for(const i of t.elements)n.some(s=>yr(s,i))||n.push(i);return{arrayValue:{values:n}}}class gl extends Jp{constructor(e){super(),this.elements=e}}function JR(t,e){let n=QR(e);for(const i of t.elements)n=n.filter(s=>!yr(s,i));return{arrayValue:{values:n}}}class Qf extends Jp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gT(t){return Zt(t.integerValue||t.doubleValue)}function QR(t){return Q_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.field=e,this.transform=n}}function uU(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof ml&&s instanceof ml||i instanceof gl&&s instanceof gl?dl(i.elements,s.elements,yr):i instanceof Qf&&s instanceof Qf?yr(i.Ie,s.Ie):i instanceof Jf&&s instanceof Jf}(t.transform,e.transform)}class cU{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qp{}function ZR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new t0(t.key,Pi.none()):new Sd(t.key,t.data,Pi.none());{const n=t.data,i=ri.empty();let s=new On(Sn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Bs(t.key,i,new _i(s.toArray()),Pi.none())}}function dU(t,e,n){t instanceof Sd?function(s,o,l){const c=s.value.clone(),h=yT(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Bs?function(s,o,l){if(!Ef(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=yT(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(eP(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,i){return t instanceof Sd?function(o,l,c,h){if(!Ef(o.precondition,l))return c;const f=o.value.clone(),p=_T(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Bs?function(o,l,c,h){if(!Ef(o.precondition,l))return c;const f=_T(o.fieldTransforms,h,l),p=l.data;return p.setAll(eP(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return Ef(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function hU(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=GR(i.transform,s||null);o!=null&&(n===null&&(n=ri.empty()),n.set(i.field,o))}return n||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&dl(i,s,(o,l)=>uU(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Qp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bs extends Qp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function eP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function yT(t,e,n){const i=new Map;St(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,lU(l,c,n[s]))}return i}function _T(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,aU(o,l,e))}return i}class t0 extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fU extends Qp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&dU(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ac(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ac(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=WR();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const h=ZR(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(n,i)=>vT(n,i))&&dl(this.baseMutations,e.baseMutations,(n,i)=>vT(n,i))}}class n0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){St(e.mutations.length===i.length);let s=function(){return nU}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new n0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Qe;function vU(t){switch(t){default:return De();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function tP(t){if(t===void 0)return Ur("GRPC error has no .code"),F.UNKNOWN;switch(t){case Qt.OK:return F.OK;case Qt.CANCELLED:return F.CANCELLED;case Qt.UNKNOWN:return F.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return F.INTERNAL;case Qt.UNAVAILABLE:return F.UNAVAILABLE;case Qt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Qt.NOT_FOUND:return F.NOT_FOUND;case Qt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Qt.ABORTED:return F.ABORTED;case Qt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Qt.DATA_LOSS:return F.DATA_LOSS;default:return De()}}(Qe=Qt||(Qt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Xa([4294967295,4294967295],0);function wT(t){const e=yU().encode(t),n=new EF;return n.update(e),new Uint8Array(n.digest())}function bT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xa([n,i],0),new Xa([s,o],0)]}class i0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(i<0)throw new mc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xa.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(Xa.fromNumber(i)));return s.compare(_U)===1&&(s=new Xa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=wT(e),[i,s]=bT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new i0(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=wT(e),[i,s]=bT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Xp(Me.min(),s,new xt(at),$r(),Ge())}}class Cd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Cd(i,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class nP{constructor(e,n){this.targetId=e,this.fe=n}}class iP{constructor(e,n,i=$n.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class ET{constructor(){this.ge=0,this.pe=TT(),this.ye=$n.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ge(),n=Ge(),i=Ge();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:De()}}),new Cd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=TT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class wU{constructor(e){this.Le=e,this.ke=new Map,this.qe=$r(),this.Qe=IT(),this.Ke=new xt(at)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(my(o))if(i===0){const l=new Te(o.path);this.We(n,l,Ln.newNoDocument(l,Me.min()))}else St(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=$o(i).toUint8Array()}catch(h){if(h instanceof NR)return cl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new i0(l,s,o)}catch(h){return cl(h instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&my(c.target)){const h=new Te(c.target.path);this.qe.get(h)!==null||this.st(l,h)||this.We(l,h,Ln.newNoDocument(h,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=Ge();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new Xp(e,n,this.Ke,this.qe,i);return this.qe=$r(),this.Qe=IT(),this.Ke=new xt(at),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ET,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new On(at),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ET),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function IT(){return new xt(Te.comparator)}function TT(){return new xt(Te.comparator)}const bU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),EU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),IU=(()=>({and:"AND",or:"OR"}))();class TU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Wp(e)?e:{value:e}}function Xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AU(t,e){return Xf(t,e.toTimestamp())}function mr(t){return St(!!t),Me.fromTimestamp(function(n){const i=Ns(n);return new nn(i.seconds,i.nanos)}(t))}function r0(t,e){return function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function sP(t){const e=It.fromString(t);return St(uP(e)),e}function yy(t,e){return r0(t.databaseId,e.path)}function Cv(t,e){const n=sP(e);if(n.get(1)!==t.databaseId.projectId)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(oP(n))}function _y(t,e){return r0(t.databaseId,e)}function SU(t){const e=sP(t);return e.length===4?It.emptyPath():oP(e)}function wy(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oP(t){return St(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function AT(t,e,n){return{name:yy(t,e),fields:n.value.mapValue.fields}}function CU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(St(p===void 0||typeof p=="string"),$n.fromBase64String(p||"")):(St(p===void 0||p instanceof Uint8Array),$n.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?F.UNKNOWN:tP(f.code);return new se(p,f.message||"")}(l);n=new iP(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cv(t,i.document.name),o=mr(i.document.updateTime),l=i.document.createTime?mr(i.document.createTime):Me.min(),c=new ri({mapValue:{fields:i.document.fields}}),h=Ln.newFoundDocument(s,o,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new If(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cv(t,i.document),o=i.readTime?mr(i.readTime):Me.min(),l=Ln.newNoDocument(s,o),c=i.removedTargetIds||[];n=new If([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cv(t,i.document),o=i.removedTargetIds||[];n=new If([],o,s,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new gU(s,o),c=i.targetId;n=new nP(c,l)}}return n}function RU(t,e){let n;if(e instanceof Sd)n={update:AT(t,e.key,e.value)};else if(e instanceof t0)n={delete:yy(t,e.key)};else if(e instanceof Bs)n={update:AT(t,e.key,e.data),updateMask:VU(e.fieldMask)};else{if(!(e instanceof fU))return De();n={verify:yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Jf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ml)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof gl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw De()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:AU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De()}(t,e.precondition)),n}function PU(t,e){return t&&t.length>0?(St(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?mr(s.updateTime):mr(o);return l.isEqual(Me.min())&&(l=mr(o)),new cU(l,s.transformResults||[])}(n,e))):[]}function kU(t,e){return{documents:[_y(t,e.path)]}}function OU(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=_y(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_y(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(h.length!==0)return lP(Ki.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:Ha(v.field),direction:DU(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=vy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function xU(t){let e=SU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){St(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const y=aP(v);return y instanceof Ki&&VR(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(y=>function(T){return new Xc(qa(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,Wp(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(v){const y=!!v.before,b=v.values||[];return new pl(b,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const y=!v.before,b=v.values||[];return new pl(b,y)}(n.endAt)),QF(e,s,l,o,c,"F",h,f)}function NU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=qa(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=qa(n.unaryFilter.field);return tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(n.unaryFilter.field);return tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qa(n.unaryFilter.field);return tn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):t.fieldFilter!==void 0?function(n){return tn.create(qa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ki.create(n.compositeFilter.filters.map(i=>aP(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De()}function DU(t){return bU[t]}function LU(t){return EU[t]}function MU(t){return IU[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function qa(t){return Sn.fromServerFormat(t.fieldPath)}function lP(t){return t instanceof tn?function(n){if(n.op==="=="){if(dT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(cT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(cT(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:LU(n.op),value:n.value}}}(t):t instanceof Ki?function(n){const i=n.getFilters().map(s=>lP(s));return i.length===1?i[0]:{compositeFilter:{op:MU(n.op),filters:i}}}(t):De()}function VU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,i,s,o=Me.min(),l=Me.min(),c=$n.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.ut=e}}function UU(t){const e=xU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.on=new BU}addToCollectionParentIndex(e,n){return this.on.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(xs.min())}updateCollectionGroup(e,n,i){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class BU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new On(It.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new On(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new vl(0)}static Nn(){return new vl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Ac(i.mutation,s,_i.empty(),nn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ge()){const s=Ao();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=pc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ge()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=$r();const l=Tc(),c=function(){return Tc()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Bs)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Ac(p.mutation,f,p.mutation.getFieldMask(),nn.now())):l.set(f.key,_i.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var v;return c.set(f,new HU(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Tc();let s=new xt((l,c)=>l-c),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||_i.empty();p=c.applyToLocalView(f,p),i.set(h,p);const v=(s.get(c.batchId)||Ge()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,v=WR();p.forEach(y=>{if(!o.has(y)){const b=ZR(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return q.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Te.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):q.resolve(Ao());let c=-1,h=o;return l.next(f=>q.forEach(f,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?q.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ge())).next(p=>({batchId:c,changes:qR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let s=pc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=pc();return this.indexManager.getCollectionParents(e,o).next(c=>q.forEach(c,h=>{const f=function(v,y){return new $s(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Ln.newInvalidDocument(p)))});let c=pc();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&Ac(p.mutation,f,_i.empty(),nn.now()),Yp(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return q.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:mr(s.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:UU(s.bundledQuery),readTime:mr(s.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.overlays=new xt(Te.comparator),this.lr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ao();return q.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),q.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),q.resolve()}getOverlaysForCollection(e,n,i){const s=Ao(),o=n.length+1,l=new Te(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return q.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new xt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Ao(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Ao(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return q.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new mU(n,i));let o=this.lr.get(n);o===void 0&&(o=Ge(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.hr=new On(mn.Pr),this.Ir=new On(mn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new mn(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new mn(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Te(new It([])),i=new mn(n,e),s=new mn(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Te(new It([])),i=new mn(n,e),s=new mn(n,e+1);let o=Ge();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new mn(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Te.comparator(e.key,n.key)||at(e.gr,n.gr)}static Tr(e,n){return at(e.gr,n.gr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new On(mn.Pr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pU(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return q.resolve(l)}lookupMutationBatch(e,n){return q.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new On(at);return n.forEach(s=>{const o=new mn(s,0),l=new mn(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),q.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Te.isDocumentKey(o)||(o=o.child(""));const l=new mn(new Te(o),0);let c=new On(at);return this.yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.gr)),!0)},l),q.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){St(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return q.forEach(n.mutations,s=>{const o=new mn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new mn(n,0),s=this.yr.firstAfterOrEqual(i);return q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.Cr=e,this.docs=function(){return new xt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return q.resolve(i?i.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let i=$r();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Ln.newInvalidDocument(s))}),q.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=$r();const l=n.path,c=new Te(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||DF(NF(p),i)<=0||(s.has(p.key)||Yp(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,i,s){De()}vr(e,n){return q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new YU(this)}getSize(e){return q.resolve(this.size)}}class YU extends jU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),q.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.persistence=e,this.Fr=new Ul(n=>X_(n),Z_),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new s0,this.targetCount=0,this.Nr=vl.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),q.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.kn(n),q.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),q.waitFor(o).next(()=>s)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return q.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),q.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return q.resolve(i)}containsKey(e,n){return q.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Y_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new JU(this),this.indexManager=new $U,this.remoteDocumentCache=function(s){return new GU(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new FU(n),this.Kr=new WU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new zU(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const s=new XU(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return q.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class XU extends MF{constructor(e){super(),this.currentSequenceNumber=e}}class o0{constructor(e){this.persistence=e,this.Gr=new s0,this.zr=null}static jr(e){return new o0(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),q.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Hr,i=>{const s=Te.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Me.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return q.or([()=>q.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=Ge(),s=Ge();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new a0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new ZU;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(nc()<=ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),q.resolve()):(nc()<=ze.DEBUG&&ve("QueryEngine","Query:",ja(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(nc()<=ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):q.resolve())}zi(e,n){if(mT(n))return q.resolve(null);let i=pr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yf(n,null,"F"),i=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ge(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Yi(n,c);return this.Zi(n,f,l,h.readTime)?this.zi(e,Yf(n,null,"F")):this.Xi(e,f,n,h)}))})))}ji(e,n,i,s){return mT(n)||s.isEqual(Me.min())?q.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?q.resolve(null):(nc()<=ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ja(n)),this.Xi(e,l,n,xF(s,-1)).next(c=>c))})}Yi(e,n){let i=new On(jR(e));return n.forEach((s,o)=>{Yp(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return nc()<=ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",ja(n)),this.Gi.getDocumentsMatchingQuery(e,n,xs.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new xt(at),this.ns=new Ul(o=>X_(o),Z_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function n3(t,e,n,i){return new t3(t,e,n,i)}async function cP(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=Ge();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function i3(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const v=f.batch,y=v.keys();let b=q.resolve();return y.forEach(T=>{b=b.next(()=>p.getEntry(h,T)).next(_=>{const E=f.docVersions.get(T);St(E!==null),_.version.compareTo(E)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Ge();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function dP(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function r3(t,e){const n=Ue(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((p,v)=>{const y=s.get(v);if(!y)return;c.push(n.qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,p.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken($n.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(v,b),function(_,E,I){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,b,p)&&c.push(n.qr.updateTargetData(o,b))});let h=$r(),f=Ge();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(s3(o,l,e.documentUpdates).next(p=>{h=p.us,f=p.cs})),!i.isEqual(Me.min())){const p=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(p)}return q.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ts=s,o))}function s3(t,e,n){let i=Ge(),s=Ge();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=$r();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ve("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{us:l,cs:s}})}function o3(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function a3(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,q.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new bs(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function by(t,e,n){const i=Ue(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ad(l))throw l;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function ST(t,e,n){const i=Ue(t);let s=Me.min(),o=Ge();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=Ue(h),y=v.ns.get(p);return y!==void 0?q.resolve(v.ts.get(y)):v.qr.getTargetData(f,p)}(i,l,pr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:Me.min(),n?o:Ge())).next(c=>(l3(i,ZF(e),c),{documents:c,ls:o})))}function l3(t,e,n){let i=t.rs.get(e)||Me.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class CT{constructor(){this.activeTargetIds=sU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u3{constructor(){this.eo=new CT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new CT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Rv(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class f3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=Rv(),h=this.So(n,i);ve("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,h,f,s).then(p=>(ve("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw cl("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",s),p})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=d3[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=Rv();return new Promise((l,c)=>{const h=new bF;h.setWithCredentials(!0),h.listenOnce(yF.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Sv.NO_ERROR:const p=h.getResponseJson();ve(Nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Sv.TIMEOUT:ve(Nn,`RPC '${e}' ${o} timed out`),c(new se(F.DEADLINE_EXCEEDED,"Request time out"));break;case Sv.HTTP_ERROR:const v=h.getStatus();if(ve(Nn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const T=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(b.status);c(new se(T,b.message))}else c(new se(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new se(F.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ve(Nn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);ve(Nn,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,i,15)})}vo(e,n,i){const s=Rv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gF(),c=vF(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new wF({})),this.bo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");ve(Nn,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);let y=!1,b=!1;const T=new h3({co:E=>{b?ve(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(ve(Nn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),ve(Nn,`RPC '${e}' stream ${s} sending:`,E),v.send(E))},lo:()=>v.close()}),_=(E,I,P)=>{E.listen(I,k=>{try{P(k)}catch(x){setTimeout(()=>{throw x},0)}})};return _(v,tf.EventType.OPEN,()=>{b||ve(Nn,`RPC '${e}' stream ${s} transport opened.`)}),_(v,tf.EventType.CLOSE,()=>{b||(b=!0,ve(Nn,`RPC '${e}' stream ${s} transport closed`),T.Ro())}),_(v,tf.EventType.ERROR,E=>{b||(b=!0,cl(Nn,`RPC '${e}' stream ${s} transport errored:`,E),T.Ro(new se(F.UNAVAILABLE,"The operation could not be completed")))}),_(v,tf.EventType.MESSAGE,E=>{var I;if(!b){const P=E.data[0];St(!!P);const k=P,x=k.error||((I=k[0])===null||I===void 0?void 0:I.error);if(x){ve(Nn,`RPC '${e}' stream ${s} received error:`,x);const V=x.status;let K=function(ee){const we=Qt[ee];if(we!==void 0)return tP(we)}(V),re=x.message;K===void 0&&(K=F.INTERNAL,re="Unknown error status: "+V+" with message "+x.message),b=!0,T.Ro(new se(K,re)),v.close()}else ve(Nn,`RPC '${e}' stream ${s} received:`,P),T.Vo(P)}}),_(c,_F.STAT_EVENT,E=>{E.stat===sT.PROXY?ve(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===sT.NOPROXY&&ve(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.Ao()},0),T}}function Pv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new TU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,i,s,o,l,c,h){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new hP(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new se(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p3 extends fP{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=CU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?mr(l.readTime):Me.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=wy(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=my(h)?{documents:kU(o,h)}:{query:OU(o,h)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=rP(o,l.resumeToken);const f=vy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Xf(o,l.snapshotVersion.toTimestamp());const f=vy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=NU(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=wy(this.serializer),n.removeTarget=e,this.e_(n)}}class m3 extends fP{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(St(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=PU(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.I_(i,n)}return St(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=wy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>RU(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(F.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(F.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class v3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ur(n),this.f_=!1):ve("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{Jo(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=Ue(h);f.C_.add(4),await Rd(f),f.M_.set("Unknown"),f.C_.delete(4),await em(f)}(this))})}),this.M_=new v3(i,s)}}async function em(t){if(Jo(t))for(const e of t.v_)await e(!0)}async function Rd(t){for(const e of t.v_)await e(!1)}function pP(t,e){const n=Ue(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),c0(n)?u0(n):$l(n).Ho()&&l0(n,e))}function mP(t,e){const n=Ue(t),i=$l(n);n.D_.delete(e),i.Ho()&&gP(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Jo(n)&&n.M_.set("Unknown"))}function l0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).u_(e)}function gP(t,e){t.x_.Oe(e),$l(t).c_(e)}function u0(t){t.x_=new wU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.M_.g_()}function c0(t){return Jo(t)&&!$l(t).jo()&&t.D_.size>0}function Jo(t){return Ue(t).C_.size===0}function vP(t){t.x_=void 0}async function _3(t){t.D_.forEach((e,n)=>{l0(t,e)})}async function w3(t,e){vP(t),c0(t)?(t.M_.w_(e),u0(t)):t.M_.set("Unknown")}async function b3(t,e,n){if(t.M_.set("Online"),e instanceof iP&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zf(t,i)}else if(e instanceof If?t.x_.$e(e):e instanceof nP?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Me.min()))try{const i=await dP(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.D_.get(f);p&&o.D_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=o.D_.get(h);if(!p)return;o.D_.set(h,p.withResumeToken($n.EMPTY_BYTE_STRING,p.snapshotVersion)),gP(o,h);const v=new bs(p.target,h,f,p.sequenceNumber);l0(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){ve("RemoteStore","Failed to raise snapshot:",i),await Zf(t,i)}}async function Zf(t,e,n){if(!Ad(e))throw e;t.C_.add(1),await Rd(t),t.M_.set("Offline"),n||(n=()=>dP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await em(t)})}function yP(t,e){return e().catch(n=>Zf(t,n,e))}async function tm(t){const e=Ue(t),n=Ds(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;E3(e);)try{const s=await o3(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,I3(e,s)}catch(s){await Zf(e,s)}_P(e)&&wP(e)}function E3(t){return Jo(t)&&t.b_.length<10}function I3(t,e){t.b_.push(e);const n=Ds(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function _P(t){return Jo(t)&&!Ds(t).jo()&&t.b_.length>0}function wP(t){Ds(t).start()}async function T3(t){Ds(t).E_()}async function A3(t){const e=Ds(t);for(const n of t.b_)e.P_(n.mutations)}async function S3(t,e,n){const i=t.b_.shift(),s=n0.from(i,e,n);await yP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await tm(t)}async function C3(t,e){e&&Ds(t).h_&&await async function(i,s){if(function(l){return vU(l)&&l!==F.ABORTED}(s.code)){const o=i.b_.shift();Ds(i).Yo(),await yP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await tm(i)}}(t,e),_P(t)&&wP(t)}async function PT(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const i=Jo(n);n.C_.add(3),await Rd(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await em(n)}async function R3(t,e){const n=Ue(t);e?(n.C_.delete(2),await em(n)):e||(n.C_.add(2),await Rd(n),n.M_.set("Unknown"))}function $l(t){return t.O_||(t.O_=function(n,i,s){const o=Ue(n);return o.A_(),new p3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:_3.bind(null,t),Io:w3.bind(null,t),a_:b3.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),c0(t)?u0(t):t.M_.set("Unknown")):(await t.O_.stop(),vP(t))})),t.O_}function Ds(t){return t.N_||(t.N_=function(n,i,s){const o=Ue(n);return o.A_(),new m3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:T3.bind(null,t),Io:C3.bind(null,t),T_:A3.bind(null,t),I_:S3.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await tm(t)):(await t.N_.stop(),t.b_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new d0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),Ad(t))return new se(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=pc(),this.sortedSet=new xt(this.comparator)}static emptySet(e){return new el(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new el;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.B_=new xt(Te.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class yl{constructor(e,n,i,s,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new yl(e,n,el.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.k_=void 0,this.listeners=[]}}class k3{constructor(){this.queries=new Ul(e=>BR(e),Gp),this.onlineState="Unknown",this.q_=new Set}}async function f0(t,e){const n=Ue(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new P3),s)try{o.k_=await n.onListen(i)}catch(l){const c=h0(l,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&m0(n)}async function p0(t,e){const n=Ue(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function O3(t,e){const n=Ue(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&m0(n)}function x3(t,e,n){const i=Ue(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function m0(t){t.q_.forEach(e=>{e.next()})}class g0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.key=e}}class EP{constructor(e){this.key=e}}class N3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ge(),this.mutatedKeys=Ge(),this._a=jR(e),this.aa=new el(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new kT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const y=s.get(p),b=Yp(this.query,v)?v:null,T=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?T!==_&&(i.track({type:3,doc:b}),E=!0):this.ha(y,b)||(i.track({type:2,doc:b}),E=!0,(h&&this._a(b,h)>0||f&&this._a(b,f)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),E=!0):y&&!b&&(i.track({type:1,doc:y}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),o=_?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,p)=>function(y,b){const T=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return T(y)-T(b)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,h=c!==this.sa;return this.sa=c,o.length!==0||h?{snapshot:new yl(this.query,e.aa,s,o,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new kT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ge(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new EP(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new bP(i))}),n}da(e){this.ia=e.ls,this.oa=Ge();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return yl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class D3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class L3{constructor(e){this.key=e,this.Ra=!1}}class M3{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new Ul(c=>BR(c),Gp),this.fa=new Map,this.ga=new Set,this.pa=new xt(Te.comparator),this.ya=new Map,this.wa=new s0,this.Sa={},this.ba=new Map,this.Da=vl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function V3(t,e){const n=z3(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await a3(n.localStore,pr(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await F3(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&pP(n.remoteStore,l)}return s}async function F3(t,e,n,i,s){t.va=(v,y,b)=>async function(_,E,I,P){let k=E.view.ca(I);k.Zi&&(k=await ST(_.localStore,E.query,!1).then(({documents:K})=>E.view.ca(K,k)));const x=P&&P.targetChanges.get(E.targetId),V=E.view.applyChanges(k,_.isPrimaryClient,x);return xT(_,E.targetId,V.Ta),V.snapshot}(t,v,y,b);const o=await ST(t.localStore,e,!0),l=new N3(e,o.ls),c=l.ca(o.documents),h=Cd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,h);xT(t,n,f.Ta);const p=new D3(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function U3(t,e){const n=Ue(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!Gp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await by(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),mP(n.remoteStore,i.targetId),Ey(n,i.targetId)}).catch(Td)):(Ey(n,i.targetId),await by(n.localStore,i.targetId,!0))}async function $3(t,e,n){const i=G3(t);try{const s=await function(l,c){const h=Ue(l),f=nn.now(),p=c.reduce((b,T)=>b.add(T.key),Ge());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=$r(),_=Ge();return h.ss.getEntries(b,p).next(E=>{T=E,T.forEach((I,P)=>{P.isValidDocument()||(_=_.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,T)).next(E=>{v=E;const I=[];for(const P of c){const k=hU(P,v.get(P.key).overlayedDocument);k!=null&&I.push(new Bs(P.key,k,DR(k.value.mapValue),Pi.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,I,c)}).next(E=>{y=E;const I=E.applyToLocalDocumentSet(v,_);return h.documentOverlayCache.saveOverlays(b,E.batchId,I)})}).then(()=>({batchId:y.batchId,changes:qR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Sa[l.currentUser.toKey()];f||(f=new xt(at)),f=f.insert(c,h),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await Pd(i,s.changes),await tm(i.remoteStore)}catch(s){const o=h0(s,"Failed to persist write");n.reject(o)}}async function IP(t,e){const n=Ue(t);try{const i=await r3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(St(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?St(l.Ra):s.removedDocuments.size>0&&(St(l.Ra),l.Ra=!1))}),await Pd(n,i,e)}catch(i){await Td(i)}}function OT(t,e,n){const i=Ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ue(l);h.onlineState=c;let f=!1;h.queries.forEach((p,v)=>{for(const y of v.listeners)y.Q_(c)&&(f=!0)}),f&&m0(h)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B3(t,e,n){const i=Ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new xt(Te.comparator);l=l.insert(o,Ln.newNoDocument(o,Me.min()));const c=Ge().add(o),h=new Xp(Me.min(),new Map,new xt(at),l,c);await IP(i,h),i.pa=i.pa.remove(o),i.ya.delete(e),v0(i)}else await by(i.localStore,e,!1).then(()=>Ey(i,e,n)).catch(Td)}async function j3(t,e){const n=Ue(t),i=e.batch.batchId;try{const s=await i3(n.localStore,e);AP(n,i,null),TP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pd(n,s)}catch(s){await Td(s)}}async function H3(t,e,n){const i=Ue(t);try{const s=await function(l,c){const h=Ue(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(St(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);AP(i,e,n),TP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pd(i,s)}catch(s){await Td(s)}}function TP(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function AP(t,e,n){const i=Ue(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function Ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||SP(t,i)})}function SP(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(mP(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),v0(t))}function xT(t,e,n){for(const i of n)i instanceof bP?(t.wa.addReference(i.key,e),q3(t,i)):i instanceof EP?(ve("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||SP(t,i.key)):De()}function q3(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(ve("SyncEngine","New document in limbo: "+n),t.ga.add(i),v0(t))}function v0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Te(It.fromString(e)),i=t.Da.next();t.ya.set(i,new L3(n)),t.pa=t.pa.insert(n,i),pP(t.remoteStore,new bs(pr(zp(n.path)),i,"TargetPurposeLimboResolution",Y_._e))}}async function Pd(t,e,n){const i=Ue(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,h)=>{l.push(i.va(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const p=a0.Qi(h.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Va.a_(s),await async function(h,f){const p=Ue(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>q.forEach(f,y=>q.forEach(y.ki,b=>p.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>q.forEach(y.qi,b=>p.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!Ad(v))throw v;ve("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const b=p.ts.get(y),T=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(T);p.ts=p.ts.insert(y,_)}}}(i.localStore,o))}async function W3(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const i=await cP(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(h=>{h.reject(new se(F.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pd(n,i._s)}}function K3(t,e){const n=Ue(t),i=n.ya.get(e);if(i&&i.Ra)return Ge().add(i.key);{let s=Ge();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function z3(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B3.bind(null,e),e.Va.a_=O3.bind(null,e.eventManager),e.Va.Fa=x3.bind(null,e.eventManager),e}function G3(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}class NT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n3(this.persistence,new e3,e.initialUser,this.serializer)}createPersistence(e){return new QU(o0.jr,this.serializer)}createSharedClientState(e){return new u3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Y3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W3.bind(null,this.syncEngine),await R3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new k3}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),i=function(o){return new f3(o)}(e.databaseInfo);return function(o,l,c,h){return new g3(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new y3(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>OT(this.syncEngine,n,0),function(){return RT.D()?new RT:new c3}())}createSyncEngine(e,n){return function(s,o,l,c,h,f,p){const v=new M3(s,o,l,c,h,f);return p&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=Ue(n);ve("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Rd(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Dn.UNAUTHENTICATED,this.clientId=OR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{ve("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=h0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function kv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await cP(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function DT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X3(t);ve("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>PT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>PT(e.remoteStore,o)),t._onlineComponents=e}function Q3(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function X3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await kv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Q3(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await kv(t,new NT)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await kv(t,new NT);return t._offlineComponents}async function CP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await DT(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await DT(t,new Y3))),t._onlineComponents}function Z3(t){return CP(t).then(e=>e.syncEngine)}async function ep(t){const e=await CP(t),n=e.eventManager;return n.onListen=V3.bind(null,e.syncEngine),n.onUnlisten=U3.bind(null,e.syncEngine),n}function e9(t,e,n={}){const i=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new y0({next:y=>{l.enqueueAndForget(()=>p0(o,v));const b=y.docs.has(c);!b&&y.fromCache?f.reject(new se(F.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?f.reject(new se(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new g0(zp(c.path),p,{includeMetadataChanges:!0,J_:!0});return f0(o,v)}(await ep(t),t.asyncQueue,e,n,i)),i.promise}function t9(t,e,n={}){const i=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new y0({next:y=>{l.enqueueAndForget(()=>p0(o,v)),y.fromCache&&h.source==="server"?f.reject(new se(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new g0(c,p,{includeMetadataChanges:!0,J_:!0});return f0(o,v)}(await ep(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t,e,n){if(!n)throw new se(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n9(t,e,n,i){if(e===!0&&i===!0)throw new se(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MT(t){if(!Te.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VT(t){if(Te.isDocumentKey(t))throw new se(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new se(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function i9(t,e){if(e<=0)throw new se(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new se(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new IF;switch(i.type){case"firstParty":return new CF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new se(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=LT.get(n);i&&(ve("ComponentProvider","Removing Datastore"),LT.delete(n),i.terminate())}(this),Promise.resolve()}}function r9(t,e,n,i={}){var s;const o=(t=Jn(t,kd))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Dn.MOCK_USER;else{c=bS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new se(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Dn(f)}t._authCredentials=new TF(new kR(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Un{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class Ss extends Yi{constructor(e,n,i){super(e,n,zp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new Te(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function _l(t,e,...n){if(t=Pe(t),_0("collection","path",e),t instanceof kd){const i=It.fromString(e,...n);return VT(i),new Ss(t,null,i)}{if(!(t instanceof Un||t instanceof Ss))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return VT(i),new Ss(t.firestore,null,i)}}function w0(t,e){if(t=Jn(t,kd),_0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new se(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(t,null,function(i){return new $s(It.emptyPath(),i)}(e))}function PP(t,e,...n){if(t=Pe(t),arguments.length===1&&(e=OR.newId()),_0("doc","path",e),t instanceof kd){const i=It.fromString(e,...n);return MT(i),new Un(t,null,new Te(i))}{if(!(t instanceof Un||t instanceof Ss))throw new se(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(It.fromString(e,...n));return MT(i),new Un(t.firestore,t instanceof Ss?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new hP(this,"async_queue_retry"),this.iu=()=>{const n=Pv();n&&ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Pv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Pv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Dr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ad(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=d0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&De()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function UT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Br extends kd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new s9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kP(this),this._firestoreClient.terminate()}}function o9(t,e){const n=typeof t=="object"?t:ud(),i=typeof t=="string"?t:e||"(default)",s=Ko(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=r_("firestore");o&&r9(s,...o)}return s}function im(t){return t._firestoreClient||kP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kP(t){var e,n,i;const s=t._freezeSettings(),o=function(c,h,f,p){return new UF(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,RP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new J3(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl($n.fromBase64String(e))}catch(n){throw new se(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=/^__.*__$/;class l9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}class OP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class sm{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return tp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(xP(this.Iu)&&a9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class u9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zp(e)}pu(e,n,i,s=!1){return new sm({Iu:e,methodName:n,gu:i,path:Sn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new u9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NP(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);E0("Data must be an object, but it was:",l,i);const c=MP(i,l);let h,f;if(o.merge)h=new _i(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const y=Iy(e,v,n);if(!l.contains(y))throw new se(F.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);FP(p,y)||p.push(y)}h=new _i(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new l9(new ri(c),h,f)}class om extends Od{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function DP(t,e,n){return new sm({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class c9 extends Od{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=DP(this,e,!0),i=this.yu.map(o=>Qo(o,n)),s=new ml(i);return new XR(e.path,s)}isEqual(e){return this===e}}class d9 extends Od{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=DP(this,e,!0),i=this.yu.map(o=>Qo(o,n)),s=new gl(i);return new XR(e.path,s)}isEqual(e){return this===e}}function h9(t,e,n,i){const s=t.pu(1,e,n);E0("Data must be an object, but it was:",s,i);const o=[],l=ri.empty();Yo(i,(h,f)=>{const p=I0(e,h,n);f=Pe(f);const v=s.Ru(p);if(f instanceof om)o.push(p);else{const y=Qo(f,v);y!=null&&(o.push(p),l.set(p,y))}});const c=new _i(o);return new OP(l,c,s.fieldTransforms)}function f9(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[Iy(e,i,n)],h=[s];if(o.length%2!=0)throw new se(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Iy(e,o[y])),h.push(o[y+1]);const f=[],p=ri.empty();for(let y=c.length-1;y>=0;--y)if(!FP(f,c[y])){const b=c[y];let T=h[y];T=Pe(T);const _=l.Ru(b);if(T instanceof om)f.push(b);else{const E=Qo(T,_);E!=null&&(f.push(b),p.set(b,E))}}const v=new _i(f);return new OP(p,v,l.fieldTransforms)}function LP(t,e,n,i=!1){return Qo(n,t.pu(i?4:3,e))}function Qo(t,e){if(VP(t=Pe(t)))return E0("Unsupported field value:",e,t),MP(t,e);if(t instanceof Od)return function(i,s){if(!xP(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=Qo(c,s.Vu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=Pe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return oU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=nn.fromDate(i);return{timestampValue:Xf(s.serializer,o)}}if(i instanceof nn){const o=new nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xf(s.serializer,o)}}if(i instanceof b0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wl)return{bytesValue:rP(s.serializer,i._byteString)};if(i instanceof Un){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:r0(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${nm(i)}`)}(t,e)}function MP(t,e){const n={};return xR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(i,s)=>{const o=Qo(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function VP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof b0||t instanceof wl||t instanceof Un||t instanceof Od)}function E0(t,e,n){if(!VP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=nm(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Iy(t,e,n){if((e=Pe(e))instanceof rm)return e._internalPath;if(typeof e=="string")return I0(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const p9=new RegExp("[~\\*/\\[\\]]");function I0(t,e,n){if(e.search(p9)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tp(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new se(F.INVALID_ARGUMENT,c+t+h)}function FP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m9 extends T0{data(){return super.data()}}function am(t,e){return typeof e=="string"?I0(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A0{}class lm extends A0{}function Ls(t,e,...n){let i=[];e instanceof A0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(h=>h instanceof S0).length,c=o.filter(h=>h instanceof um).length;if(l>1||l>0&&c>0)throw new se(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class um extends lm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new um(e,n,i)}_apply(e){const n=this._parse(e);return $P(e._query,n),new Yi(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=xd(e.firestore);return function(o,l,c,h,f,p,v){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new se(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){BT(v,p);const b=[];for(const T of v)b.push($T(h,o,T));y={arrayValue:{values:b}}}else y=$T(h,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||BT(v,p),y=LP(c,l,v,p==="in"||p==="not-in");return tn.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Es(t,e,n){const i=e,s=am("where",t);return um._create(s,i,n)}class S0 extends A0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const h of c)$P(l,h),l=gy(l,h)}(e._query,n),new Yi(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class C0 extends lm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new C0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new se(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(o,l)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new $s(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function bl(t,e="asc"){const n=e,i=am("orderBy",t);return C0._create(i,n)}class R0 extends lm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new R0(e,n,i)}_apply(e){return new Yi(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function El(t){return i9("limit",t),R0._create("limit",t,"F")}class P0 extends lm{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new P0(e,n,i)}_apply(e){const n=g9(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,function(s,o){return new $s(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function k0(...t){return P0._create("startAfter",t,!1)}function g9(t,e,n,i){if(n[0]=Pe(n[0]),n[0]instanceof T0)return function(o,l,c,h,f){if(!h)throw new se(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const v of Za(o))if(v.field.isKeyField())p.push(Gf(l,h.key));else{const y=h.data.field(v.field);if(Kp(y))throw new se(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=v.field.canonicalString();throw new se(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(y)}return new pl(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=xd(t.firestore);return function(l,c,h,f,p,v){const y=l.explicitOrderBy;if(p.length>y.length)throw new se(F.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let T=0;T<p.length;T++){const _=p[T];if(y[T].field.isKeyField()){if(typeof _!="string")throw new se(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof _}`);if(!e0(l)&&_.indexOf("/")!==-1)throw new se(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${_}' contains a slash.`);const E=l.path.child(It.fromString(_));if(!Te.isDocumentKey(E))throw new se(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const I=new Te(E);b.push(Gf(c,I))}else{const E=LP(h,f,_);b.push(E)}}return new pl(b,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function $T(t,e,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new se(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e0(e)&&n.indexOf("/")!==-1)throw new se(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(It.fromString(n));if(!Te.isDocumentKey(i))throw new se(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gf(t,new Te(i))}if(n instanceof Un)return Gf(t,n._key);throw new se(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new se(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $P(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v9{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Yo(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new b0(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=J_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=It.fromString(e);St(uP(i));const s=new Jc(i.get(1),i.get(3)),o=new Te(i.popFirst(5));return s.isEqual(n)||Ur(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jP extends T0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Tf extends jP{data(e={}){return super.data(e)}}class HP{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Tf(this._firestore,this._userDataWriter,i.key,i,new gc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Tf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new gc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Tf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new gc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:y9(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t){t=Jn(t,Un);const e=Jn(t.firestore,Br);return e9(im(e),t._key).then(n=>qP(e,t,n))}class O0 extends v9{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function jr(t){t=Jn(t,Yi);const e=Jn(t.firestore,Br),n=im(e),i=new O0(e);return UP(t._query),t9(n,t._query).then(s=>new HP(e,i,t,s))}function dW(t,e,n){t=Jn(t,Un);const i=Jn(t.firestore,Br),s=BP(t.converter,e,n);return cm(i,[NP(xd(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Pi.none())])}function hW(t,e,n,...i){t=Jn(t,Un);const s=Jn(t.firestore,Br),o=xd(s);let l;return l=typeof(e=Pe(e))=="string"||e instanceof rm?f9(o,"updateDoc",t._key,e,n,i):h9(o,"updateDoc",t._key,e),cm(s,[l.toMutation(t._key,Pi.exists(!0))])}function fW(t){return cm(Jn(t.firestore,Br),[new t0(t._key,Pi.none())])}function pW(t,e){const n=Jn(t.firestore,Br),i=PP(t),s=BP(t.converter,e);return cm(n,[NP(xd(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Pi.exists(!1))]).then(()=>i)}function mW(t,...e){var n,i,s;t=Pe(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||UT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(UT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,f,p;if(t instanceof Un)f=Jn(t.firestore,Br),p=zp(t._key.path),h={next:v=>{e[l]&&e[l](qP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Jn(t,Yi);f=Jn(v.firestore,Br),p=v._query;const y=new O0(f);h={next:b=>{e[l]&&e[l](new HP(f,y,v,b))},error:e[l+1],complete:e[l+2]},UP(t._query)}return function(y,b,T,_){const E=new y0(_),I=new g0(b,E,T);return y.asyncQueue.enqueueAndForget(async()=>f0(await ep(y),I)),()=>{E.Na(),y.asyncQueue.enqueueAndForget(async()=>p0(await ep(y),I))}}(im(f),p,c,h)}function cm(t,e){return function(i,s){const o=new Dr;return i.asyncQueue.enqueueAndForget(async()=>$3(await Z3(i),s,o)),o.promise}(im(t),e)}function qP(t,e,n){const i=n.docs.get(e._key),s=new O0(t);return new jP(t,s,e._key,i,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function gW(...t){return new c9("arrayUnion",t)}function vW(...t){return new d9("arrayRemove",t)}(function(e,n=!0){(function(s){Fl=s})(qr),gr(new Hi("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Br(new AF(i.getProvider("auth-internal")),new PF(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new se(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Yn(oT,"4.3.2",e),Yn(oT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="type.googleapis.com/google.protobuf.Int64Value",b9="type.googleapis.com/google.protobuf.UInt64Value";function WP(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Ty(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ty(e));if(typeof t=="function"||typeof t=="object")return WP(t,e=>Ty(e));throw new Error("Data cannot be encoded in JSON: "+t)}function np(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case w9:case b9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>np(e)):typeof t=="function"||typeof t=="object"?WP(t,e=>np(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tl extends Rn{constructor(e,n,i){super(`${x0}/${e}`,n||""),this.details=i}}function E9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function I9(t,e){let n=E9(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!jT[l])return new tl("internal","internal");n=jT[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=np(s))}}catch{}return n==="ok"?null:new tl(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="us-central1";function A9(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new tl("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class S9{constructor(e,n,i,s,o=Ay,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new T9(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Ay}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function C9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function R9(t,e,n){return i=>k9(t,e,i,n||{})}async function P9(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function k9(t,e,n,i){const s=t._url(e);return O9(t,s,n,i)}async function O9(t,e,n,i){n=Ty(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,h=A9(c),f=await Promise.race([P9(e,s,o,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new tl("cancelled","Firebase Functions instance was deleted.");const p=I9(f.status,f.json);if(p)throw p;if(!f.json)throw new tl("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new tl("internal","Response is missing data field.");return{data:np(v)}}const HT="@firebase/functions",qT="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="auth-internal",N9="app-check-internal",D9="messaging-internal";function L9(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(x9),c=i.getProvider(D9),h=i.getProvider(N9);return new S9(o,l,c,h,s,t)};gr(new Hi(x0,n,"PUBLIC").setMultipleInstances(!0)),Yn(HT,qT,e),Yn(HT,qT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t=ud(),e=Ay){const i=Ko(Pe(t),x0).getImmediate({identifier:e}),s=r_("functions");return s&&M9(i,...s),i}function M9(t,e,n){C9(Pe(t),e,n)}function Xn(t,e,n){return R9(Pe(t),e,n)}L9(fetch.bind(self));const V9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="firebasestorage.googleapis.com",zP="storageBucket",F9=2*60*1e3,U9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Rn{constructor(e,n,i=0){super(Ov(e),`Firebase Storage: ${n} (${Ov(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ov(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zi||(zi={}));function Ov(t){return"storage/"+t}function $9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ji(zi.UNKNOWN,t)}function B9(){return new Ji(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j9(){return new Ji(zi.CANCELED,"User canceled the upload/download.")}function H9(t){return new Ji(zi.INVALID_URL,"Invalid URL '"+t+"'.")}function q9(t){return new Ji(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function W9(){return new Ji(zi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zP+"' property when initializing the app?")}function Sy(t){return new Ji(zi.INVALID_ARGUMENT,t)}function GP(){return new Ji(zi.APP_DELETED,"The Firebase app was deleted.")}function K9(t){return new Ji(zi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ri.makeFromUrl(e,n)}catch{return new Ri(e,"")}if(i.path==="")return i;throw q9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${p}/b/${s}/o${y}`,"i"),T={bucket:1,path:3},_=n===KP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp(`^https?://${_}/${s}/${E}`,"i"),k=[{regex:c,indices:h,postModify:o},{regex:b,indices:T,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<k.length;x++){const V=k[x],K=V.regex.exec(e);if(K){const re=K[V.indices.bucket];let j=K[V.indices.path];j||(j=""),i=new Ri(re,j),V.postModify(i);break}}if(i==null)throw H9(e);return i}}class z9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function v(E){s=setTimeout(()=>{s=null,t(b,h())},E)}function y(){o&&clearTimeout(o)}function b(E,...I){if(f){y();return}if(E){y(),p.call(null,E,...I);return}if(h()||l){y(),p.call(null,E,...I);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,v(k)}let T=!1;function _(E){T||(T=!0,y(),!f&&(s!==null?(E||(c=2),clearTimeout(s),v(0)):E||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,_(!0)},n),_}function Y9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){return t!==void 0}function WT(t,e,n,i){if(i<e)throw Sy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Sy(`Invalid value for '${t}'. Expected ${n} or less.`)}function Q9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ip||(ip={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,i,s,o,l,c,h,f,p,v,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,T)=>{this.resolve_=b,this.reject_=T,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new of(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ip.NO_ERROR,h=o.getStatus();if(!c||X9(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===ip.ABORT;i(!1,new of(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new of(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());J9(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=$9();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?GP():j9();l(h)}else{const h=B9();l(h)}};this.canceled_?n(!1,new of(!1,null,!0)):this.backoffId_=G9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function e5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function i5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r5(t,e,n,i,s,o,l=!0){const c=Q9(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return n5(f,e),e5(f,n),t5(f,o),i5(f,i),new Z9(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o5(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function a5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this._service=e,n instanceof Ri?this._location=n:this._location=Ri.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jo(e,n)}get root(){const e=new Ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a5(this._location.path)}get storage(){return this._service}get parent(){const e=s5(this._location.path);if(e===null)return null;const n=new Ri(this._location.bucket,e);return new jo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K9(e)}}function l5(t,e){const n=o5(t._location.path,e),i=new Ri(t._location.bucket,n);return new jo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t){return/^[A-Za-z]+:\/\//.test(t)}function c5(t,e){return new jo(t,e)}function YP(t,e){if(t instanceof N0){const n=t;if(n._bucket==null)throw W9();const i=new jo(n,n._bucket);return e!=null?YP(i,e):i}else return e!==void 0?l5(t,e):t}function d5(t,e){if(e&&u5(e)){if(t instanceof N0)return c5(t,e);throw Sy("To use ref(service, url), the first argument must be a Storage instance.")}else return YP(t,e)}function KT(t,e){const n=e==null?void 0:e[zP];return n==null?null:Ri.makeFromBucketSpec(n,t)}function h5(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:bS(s,t.app.options.projectId))}class N0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=KP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=F9,this._maxUploadRetryTime=U9,this._requests=new Set,s!=null?this._bucket=Ri.makeFromBucketSpec(s,this._host):this._bucket=KT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ri.makeFromBucketSpec(this._url,e):this._bucket=KT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jo(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new z9(GP());{const l=r5(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const zT="@firebase/storage",GT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="storage";function f5(t,e){return t=Pe(t),d5(t,e)}function p5(t=ud(),e){t=Pe(t);const i=Ko(t,JP).getImmediate({identifier:e}),s=r_("storage");return s&&m5(i,...s),i}function m5(t,e,n,i={}){h5(t,e,n,i)}function g5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new N0(n,i,s,e,qr)}function v5(){gr(new Hi(JP,g5,"PUBLIC").setMultipleInstances(!0)),Yn(zT,GT,""),Yn(zT,GT,"esm2017")}v5();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this._delegate=e,this.firebase=n,Df(e,new Hi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),kS(this._delegate)))}_getService(e,n=Ps){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ps){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Df(this._delegate,e)}_addOrOverwriteComponent(e){PS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},YT=new Wo("app-compat","Firebase",_5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:Yn,setLogLevel:xS,onLog:OS,apps:null,SDK_VERSION:qr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:GD}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||Ps,!wI(e,f))throw YT.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,p={}){const v=vp(f,p);if(wI(e,v.name))return e[v.name];const y=new t(v,n);return e[v.name]=y,y}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,v=p.replace("-compat","");if(gr(f)&&f.type==="PUBLIC"){const y=(b=s())=>{if(typeof b[v]!="function")throw YT.create("invalid-app-argument",{appName:p});return b[v]()};f.serviceProps!==void 0&&Of(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?n[v]:null}function h(f,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){const t=w5(y5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:QP,extendNamespace:e,createSubscribe:AS,ErrorFactory:Wo,deepExtend:Of});function e(n){Of(t,n)}return t}const b5=QP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new gp("@firebase/app-compat"),E5="@firebase/app-compat",I5="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){Yn(E5,I5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(xN()&&self.firebase!==void 0){JT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&JT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ie=b5;T5();var A5="firebase",S5="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ie.registerVersion(A5,S5,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=2e3;async function R5(t,e,n){var i;const{BuildInfo:s}=Ho();qi(e.sessionId,"AuthEvent did not contain a session ID");const o=await N5(e.sessionId),l={};return Nl()?l.ibi=s.packageName:dd()?l.apn=s.packageName:yn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,Zv(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function P5(t){const{BuildInfo:e}=Ho(),n={};Nl()?n.iosBundleId=e.packageName:dd()?n.androidPackageName=e.packageName:yn(t,"operation-not-supported-in-this-environment"),await TC(t,n)}function k5(t){const{cordova:e}=Ho();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,_L()?"_blank":"_system","location=yes"),n(s)})})}async function O5(t,e,n){const{cordova:i}=Ho();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function h(){var v;o();const y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(Pn(t,"redirect-cancelled-by-user"))},C5))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(h),document.addEventListener("resume",f,!1),dd()&&document.addEventListener("visibilitychange",p,!1),s=()=>{e.removePassiveListener(h),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{s()}}function x5(t){var e,n,i,s,o,l,c,h,f,p;const v=Ho();G(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G(typeof((h=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||h===void 0?void 0:h.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G(typeof((p=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function N5(t){const e=D5(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function D5(t){if(qi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=20;class M5 extends EC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function V5(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:$5(),postBody:null,tenantId:t.tenantId,error:Pn(t,"no-auth-event")}}function F5(t,e){return Cy()._set(Ry(t),e)}async function QT(t){const e=await Cy()._get(Ry(t));return e&&await Cy()._remove(Ry(t)),e}function U5(t,e){var n,i;const s=j5(e);if(s.includes("/__/auth/callback")){const o=Af(s),l=o.firebaseError?B5(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],h=c?Pn(c):null;return h?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:h,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function $5(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<L5;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function Cy(){return yi(Ap)}function Ry(t){return Oo("authEvent",t.config.apiKey,t.name)}function B5(t){try{return JSON.parse(t)}catch{return null}}function j5(t){const e=Af(t),n=e.link?decodeURIComponent(e.link):void 0,i=Af(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Af(s).link||s||i||n||t}function Af(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ka(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=500;class q5{constructor(){this._redirectPersistence=Os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pp,this._overrideRedirectResult=T_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new M5(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){yn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){x5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),AV(),await this._originValidation(e);const l=V5(e,i,s);await F5(e,l);const c=await R5(e,l,n),h=await k5(c);return O5(e,o,h)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P5(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=Ho(),l=setTimeout(async()=>{await QT(e),n.onEvent(XT())},H5),c=async p=>{clearTimeout(l);const v=await QT(e);let y=null;v&&(p!=null&&p.url)&&(y=U5(v,p.url)),n.onEvent(y||XT())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const h=s,f=`${o.packageName.toLowerCase()}://`;Ho().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof h=="function")try{h(p)}catch(v){console.error(v)}}}}const W5=q5;function XT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e){Ft(t)._logFramework(e)}var z5="@firebase/auth-compat",G5="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=1e3;function Sc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function J5(){return Sc()==="http:"||Sc()==="https:"}function XP(t=rn()){return!!((Sc()==="file:"||Sc()==="ionic:"||Sc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Q5(){return s_()||ES()}function X5(){return TS()&&(document==null?void 0:document.documentMode)===11}function Z5(t=rn()){return/Edge\/\d+/.test(t)}function e6(t=rn()){return X5()||Z5(t)}function ZP(){try{const t=self.localStorage,e=fd();if(t)return t.setItem(e,"1"),t.removeItem(e),e6()?xf():!0}catch{return D0()&&xf()}return!1}function D0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xv(){return(J5()||IS()||XP())&&!Q5()&&ZP()&&!D0()}function ek(){return XP()&&typeof document<"u"}async function t6(){return ek()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Y5);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function n6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi={LOCAL:"local",NONE:"none",SESSION:"session"},ic=G,tk="persistence";function i6(t,e){if(ic(Object.values(vi).includes(e),t,"invalid-persistence-type"),s_()){ic(e!==vi.SESSION,t,"unsupported-persistence-type");return}if(ES()){ic(e===vi.NONE,t,"unsupported-persistence-type");return}if(D0()){ic(e===vi.NONE||e===vi.LOCAL&&xf(),t,"unsupported-persistence-type");return}ic(e===vi.NONE||ZP(),t,"unsupported-persistence-type")}async function Py(t){await t._initializationPromise;const e=nk(),n=Oo(tk,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function r6(t,e){const n=nk();if(!n)return[];const i=Oo(tk,t,e);switch(n.getItem(i)){case vi.NONE:return[ol];case vi.LOCAL:return[ll,Os];case vi.SESSION:return[Os];default:return[]}}function nk(){var t;try{return((t=n6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=G;class Is{constructor(){this.browserResolver=yi(AC),this.cordovaResolver=yi(W5),this.underlyingResolver=null,this._redirectPersistence=Os,this._completeRedirectFn=Pp,this._overrideRedirectResult=T_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return ek()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return s6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await t6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){return t.unwrap()}function o6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){return rk(t)}function l6(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new u6(t,OM(t,e))}else if(i){const s=rk(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function rk(t){const{_tokenResponse:e}=t instanceof Rn?t.customData:t;if(!e)return null;if(!(t instanceof Rn)&&"temporaryProof"in e&&"phoneNumber"in e)return Fo.credentialFromResult(t);const n=e.providerId;if(!n||n===Zu.PASSWORD)return null;let i;switch(n){case Zu.GOOGLE:i=or;break;case Zu.FACEBOOK:i=sr;break;case Zu.GITHUB:i=ar;break;case Zu.TWITTER:i=lr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:h}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?al._create(n,c):vr._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new Ya(n).credential({idToken:s,accessToken:o,rawNonce:h})}return t instanceof Rn?i.credentialFromError(t):i.credentialFromResult(t)}function ii(t,e){return e.catch(n=>{throw n instanceof Rn&&l6(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:a6(n),additionalUserInfo:CM(n),user:Or.getOrCreate(s)}})}async function ky(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>ii(t,n.confirm(i))}}class u6{constructor(e,n){this.resolver=n,this.auth=o6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ii(ik(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._delegate=e,this.multiFactor=LM(e)}static getOrCreate(e){return Or.USER_MAP.has(e)||Or.USER_MAP.set(e,new Or(e)),Or.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ii(this.auth,oC(this._delegate,e))}async linkWithPhoneNumber(e,n){return ky(this.auth,hV(this._delegate,e,n))}async linkWithPopup(e){return ii(this.auth,bV(this._delegate,e,Is))}async linkWithRedirect(e){return await Py(Ft(this.auth)),kV(this._delegate,e,Is)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ii(this.auth,aC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ky(this.auth,fV(this._delegate,e,n))}reauthenticateWithPopup(e){return ii(this.auth,wV(this._delegate,e,Is))}async reauthenticateWithRedirect(e){return await Py(Ft(this.auth)),RV(this._delegate,e,Is)}sendEmailVerification(e){return gM(this._delegate,e)}async unlink(e){return await nM(this._delegate,e),this}updateEmail(e){return wM(this._delegate,e)}updatePassword(e){return bM(this._delegate,e)}updatePhoneNumber(e){return pV(this._delegate,e)}updateProfile(e){return _M(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return vM(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Or.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=G;class Oy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;rc(i,"invalid-api-key",{appName:e.name}),rc(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Is:void 0;this._delegate=n.initialize({options:{persistence:c6(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(JD),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){QS(this._delegate,e,n)}applyActionCode(e){return aM(this._delegate,e)}checkActionCode(e){return lC(this._delegate,e)}confirmPasswordReset(e,n){return oM(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ii(this._delegate,uM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return mM(this._delegate,e)}isSignInWithEmailLink(e){return hM(this._delegate,e)}async getRedirectResult(){rc(xv(),this._delegate,"operation-not-supported-in-this-environment");const e=await xV(this._delegate,Is);return e?ii(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){K5(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=ZT(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=ZT(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return dM(this._delegate,e,n)}sendPasswordResetEmail(e,n){return sM(this._delegate,e,n||void 0)}async setPersistence(e){i6(this._delegate,e);let n;switch(e){case vi.SESSION:n=Os;break;case vi.LOCAL:n=await yi(ll)._isAvailable()?ll:Ap;break;case vi.NONE:n=ol;break;default:return yn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ii(this._delegate,tM(this._delegate))}signInWithCredential(e){return ii(this._delegate,Ip(this._delegate,e))}signInWithCustomToken(e){return ii(this._delegate,rM(this._delegate,e))}signInWithEmailAndPassword(e,n){return ii(this._delegate,cM(this._delegate,e,n))}signInWithEmailLink(e,n){return ii(this._delegate,fM(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ky(this._delegate,dV(this._delegate,e,n))}async signInWithPopup(e){return rc(xv(),this._delegate,"operation-not-supported-in-this-environment"),ii(this._delegate,_V(this._delegate,e,Is))}async signInWithRedirect(e){return rc(xv(),this._delegate,"operation-not-supported-in-this-environment"),await Py(this._delegate),SV(this._delegate,e,Is)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return lM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Oy.Persistence=vi;function ZT(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Or.getOrCreate(l)),error:e,complete:n}}function c6(t,e){const n=r6(t,e);if(typeof self<"u"&&!n.includes(ll)&&n.push(ll),typeof window<"u")for(const i of[Ap,Os])n.includes(i)||n.push(i);return n.includes(ol)||n.push(ol),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.providerId="phone",this._delegate=new Fo(ik(Ie.auth()))}static credential(e,n){return Fo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}L0.PHONE_SIGN_IN_METHOD=Fo.PHONE_SIGN_IN_METHOD;L0.PROVIDER_ID=Fo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=G;class h6{constructor(e,n,i=Ie.app()){var s;d6((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new uV(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="auth-compat";function p6(t){t.INTERNAL.registerComponent(new Hi(f6,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Oy(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fa.EMAIL_SIGNIN,PASSWORD_RESET:Fa.PASSWORD_RESET,RECOVER_EMAIL:Fa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Fa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Fa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Fa.VERIFY_EMAIL}},EmailAuthProvider:Vs,FacebookAuthProvider:sr,GithubAuthProvider:ar,GoogleAuthProvider:or,OAuthProvider:Ya,SAMLAuthProvider:Mf,PhoneAuthProvider:L0,PhoneMultiFactorGenerator:SC,RecaptchaVerifier:h6,TwitterAuthProvider:lr,Auth:Oy,AuthCredential:Dl,Error:Rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(z5,G5)}p6(Ie);function m6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sk={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(E,I){I=I||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(E,!!I.bubbles,!!I.cancelable,I.detail||null),P},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var E=window.getComputedStyle(_),I=function(P,k){return!(E[P]===void 0||E[P]===k)};if(E.opacity<1||I("zIndex","auto")||I("transform","none")||I("mixBlendMode","normal")||I("filter","none")||I("perspective","none")||E.isolation==="isolate"||E.position==="fixed"||E.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function o(_,E){for(var I=0;I<_.length;++I)if(_[I]===E)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var E=new MutationObserver(this.maybeHideModal.bind(this));E.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var I=!1,P=(function(){I?this.downgradeModal():this.maybeHideModal(),I=!1}).bind(this),k,x=function(V){if(V.target===_){var K="DOMNodeRemoved";I|=V.type.substr(0,K.length)===K,window.clearTimeout(k),k=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(V){_.addEventListener(V,x)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),h.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var E=document.createElement("div");this.dialog_.insertBefore(E,this.dialog_.firstChild),E.tabIndex=-1,E.focus(),this.dialog_.removeChild(E)}var I=document.createEvent("MouseEvents");I.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(I),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var E=["button","input","keygen","select","textarea"],I=E.map(function(P){return P+":not([disabled])"});I.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(I.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,E){if(_<E)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=E},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!h.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,h.needsCentering(this.dialog_)?(h.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var E=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(E)}};var h={};if(h.reposition=function(_){var E=document.body.scrollTop||document.documentElement.scrollTop,I=E+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(E,I)+"px"},h.isInlinePositionSetByStylesheet=function(_){for(var E=0;E<document.styleSheets.length;++E){var I=document.styleSheets[E],P=null;try{P=I.cssRules}catch{}if(P)for(var k=0;k<P.length;++k){var x=P[k],V=null;try{V=document.querySelectorAll(x.selectorText)}catch{}if(!(!V||!o(V,_))){var K=x.style.getPropertyValue("top"),re=x.style.getPropertyValue("bottom");if(K&&K!=="auto"||re&&re!=="auto")return!0}}}return!1},h.needsCentering=function(_){var E=window.getComputedStyle(_);return E.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!h.isInlinePositionSetByStylesheet(_)},h.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},h.registerDialog=function(_){_.showModal||h.forceRegisterDialog(_)},h.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(E){this.forwardTab_=void 0,E.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(E){var I=[];E.forEach(function(P){for(var k=0,x;x=P.removedNodes[k];++k){if(x instanceof Element)x.localName==="dialog"&&I.push(x);else continue;I=I.concat(x.querySelectorAll("dialog"))}}),I.length&&_(I)}))},h.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},h.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},h.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,E=0,I;I=this.pendingDialogStack[E];++E)I.updateZIndex(--_,--_),E===0&&(this.overlay.style.zIndex=--_);var P=this.pendingDialogStack[0];if(P){var k=P.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},h.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var E=0,I;I=this.pendingDialogStack[E];++E)if(I.dialog===_)return E===0;_=_.parentElement}return!1},h.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var E=this.pendingDialogStack[0],I=E.dialog,P=I.compareDocumentPosition(_.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?E.focus_():document.documentElement.focus()),!1}},h.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var E=new e("cancel",{bubbles:!1,cancelable:!0}),I=this.pendingDialogStack[0];I&&I.dialog.dispatchEvent(E)&&I.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},h.DialogManager.prototype.checkDOM_=function(_){var E=this.pendingDialogStack.slice();E.forEach(function(I){_.indexOf(I.dialog)!==-1?I.downgradeModal():I.maybeHideModal()})},h.DialogManager.prototype.pushDialog=function(_){var E=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=E?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},h.DialogManager.prototype.removeDialog=function(_){var E=this.pendingDialogStack.indexOf(_);E!==-1&&(this.pendingDialogStack.splice(E,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},h.dm=new h.DialogManager,h.formSubmitter=null,h.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var v=p.get;p.get=function(){return l(this)?"dialog":v.call(this)};var y=p.set;p.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(_){if(h.formSubmitter=null,h.useValue=null,!_.defaultPrevented){var E=_.target;if(!(!E||!l(E.form))){var I=E.type==="submit"&&["button","input"].indexOf(E.localName)>-1;if(!I){if(!(E.localName==="input"&&E.type==="image"))return;h.useValue=_.offsetX+","+_.offsetY}var P=i(E);P&&(h.formSubmitter=E)}}},!1);var b=HTMLFormElement.prototype.submit,T=function(){if(!l(this))return b.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=T,document.addEventListener("submit",function(_){var E=_.target;if(l(E)){_.preventDefault();var I=i(E);if(I){var P=h.formSubmitter;P&&P.form===E?I.close(h.useValue||P.value):I.close(),h.formSubmitter=null}}},!0)}h.forceRegisterDialog=h.forceRegisterDialog,h.registerDialog=h.registerDialog,typeof t.exports=="object"?t.exports=h:window.dialogPolyfill=h})()})(sk);var g6=sk.exports;const v6=m6(g6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Ot=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,E){for(var I=0;I<t.length;I++)if(t[I].className===_)return typeof E<"u"&&(t[I]=E),t[I];return!1}function s(_){var E=_.getAttribute("data-upgraded");return E===null?[""]:E.split(",")}function o(_,E){var I=s(_);return I.indexOf(E)!==-1}function l(_,E,I){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:E,cancelable:I});var P=document.createEvent("Events");return P.initEvent(_,E,I),P}function c(_,E){if(typeof _>"u"&&typeof E>"u")for(var I=0;I<t.length;I++)c(t[I].className,t[I].cssClass);else{var P=_;if(typeof E>"u"){var k=i(P);k&&(E=k.cssClass)}for(var x=document.querySelectorAll("."+E),V=0;V<x.length;V++)h(x[V],P)}}function h(_,E){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var I=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(I),!I.defaultPrevented){var P=s(_),k=[];if(E)o(_,E)||k.push(i(E));else{var x=_.classList;t.forEach(function(Q){x.contains(Q.cssClass)&&k.indexOf(Q)===-1&&!o(_,Q.className)&&k.push(Q)})}for(var V=0,K=k.length,re;V<K;V++){if(re=k[V],re){P.push(re.className),_.setAttribute("data-upgraded",P.join(","));var j=new re.classConstructor(_);j[n]=re,e.push(j);for(var ee=0,we=re.callbacks.length;ee<we;ee++)re.callbacks[ee](_);re.widget&&(_[re.className]=j)}else throw new Error("Unable to find a registered component for the given class.");var le=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(le)}}}function f(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var E=0,I=_.length,P;E<I;E++)P=_[E],P instanceof HTMLElement&&(h(P),P.children.length>0&&f(P.children))}function p(_){var E=typeof _.widget>"u"&&typeof _.widget>"u",I=!0;E||(I=_.widget||_.widget);var P={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:I,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===P.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var k=i(_.classAsString,P);k||t.push(P)}function v(_,E){var I=i(_);I&&I.callbacks.push(E)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function b(_){if(_){var E=e.indexOf(_);e.splice(E,1);var I=_.element_.getAttribute("data-upgraded").split(","),P=I.indexOf(_[n].classAsString);I.splice(P,1),_.element_.setAttribute("data-upgraded",I.join(","));var k=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(k)}}function T(_){var E=function(P){e.filter(function(k){return k.element_===P}).forEach(b)};if(_ instanceof Array||_ instanceof NodeList)for(var I=0;I<_.length;I++)E(_[I]);else if(_ instanceof Node)E(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:h,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:T}}();Ot.ComponentConfigPublic;Ot.ComponentConfig;Ot.Component;Ot.upgradeDom=Ot.upgradeDom;Ot.upgradeElement=Ot.upgradeElement;Ot.upgradeElements=Ot.upgradeElements;Ot.upgradeAllRegistered=Ot.upgradeAllRegistered;Ot.registerUpgradedCallback=Ot.registerUpgradedCallback;Ot.register=Ot.register;Ot.downgradeElements=Ot.downgradeElements;window.componentHandler=Ot;window.componentHandler=Ot;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Ot.upgradeAllRegistered()):(Ot.upgradeElement=function(){},Ot.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var h=document.createElement("div");h.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(h)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(r,u,d)}else r[u]=a[u];r.K=a.prototype}var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(r,a){if(a){var u=f;r=r.split(".");for(var d=0;d<r.length-1;d++){var m=r[d];m in u||(u[m]={}),u=u[m]}r=r[r.length-1],d=u[r],a=a(d),a!=d&&a!=null&&h(u,r,{configurable:!0,writable:!0,value:a})}}p("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),p("Array.prototype.includes",function(r){return r||function(a,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=d[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function y(r){return r!==void 0}function b(r){return typeof r=="string"}var T=/^[\w+/_-]+[=]{0,2}$/,_=null;function E(){}function I(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function P(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function k(r){return P(r)=="array"}function x(r){var a=P(r);return a=="array"||a=="object"&&typeof r.length=="number"}function V(r){return P(r)=="function"}function K(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var re="closure_uid_"+(1e9*Math.random()>>>0),j=0;function ee(r,a,u){return r.call.apply(r.bind,arguments)}function we(r,a,u){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),r.apply(a,m)}}return function(){return r.apply(a,arguments)}}function le(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?le=ee:le=we,le.apply(null,arguments)}function Q(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function ae(r,a){for(var u in a)r[u]=a[u]}var Xe=Date.now||function(){return+new Date};function Re(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)!r.length&&y(a)?u[d]=a:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function Y(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(d,m,g){for(var w=Array(arguments.length-2),A=2;A<arguments.length;A++)w[A-2]=arguments[A];return a.prototype[m].apply(d,w)}}function de(r){if(Error.captureStackTrace)Error.captureStackTrace(this,de);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}Y(de,Error),de.prototype.name="CustomError";var Ae;function wt(r,a){r=r.split("%s");for(var u="",d=r.length-1,m=0;m<d;m++)u+=r[m]+(m<a.length?a[m]:"%s");de.call(this,u+r[d])}Y(wt,de),wt.prototype.name="AssertionError";function Ze(r,a){throw new wt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var Kt=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(b(r))return b(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},et=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var d=r.length,m=b(r)?r.split(""):r,g=0;g<d;g++)g in m&&a.call(u,m[g],g,r)};function Ti(r,a){for(var u=b(r)?r.split(""):r,d=r.length-1;0<=d;--d)d in u&&a.call(void 0,u[d],d,r)}var ui=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=[],m=0,g=b(r)?r.split(""):r,w=0;w<u;w++)if(w in g){var A=g[w];a.call(void 0,A,w,r)&&(d[m++]=A)}return d},qs=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=Array(u),m=b(r)?r.split(""):r,g=0;g<u;g++)g in m&&(d[g]=a.call(void 0,m[g],g,r));return d},te=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r))return!0;return!1};function R(r,a){return 0<=Kt(r,a)}function fe(r,a){a=Kt(r,a);var u;return(u=0<=a)&&Z(r,a),u}function Z(r,a){return Array.prototype.splice.call(r,a,1).length==1}function Ee(r,a){e:{for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r)){a=m;break e}a=-1}0<=a&&Z(r,a)}function st(r,a){var u=0;Ti(r,function(d,m){a.call(void 0,d,m,r)&&Z(r,m)&&u++})}function S(r){return Array.prototype.concat.apply([],arguments)}function C(r){var a=r.length;if(0<a){for(var u=Array(a),d=0;d<a;d++)u[d]=r[d];return u}return[]}function O(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var L=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},$=/&/g,H=/</g,ue=/>/g,J=/"/g,ne=/'/g,W=/\x00/g,Se=/[\x00&<>"']/;function me(r,a){return r<a?-1:r>a?1:0}function be(r){return Se.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace($,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(H,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ue,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(J,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(ne,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(W,"&#0;"))),r}function xe(r,a,u){for(var d in r)a.call(u,r[d],d,r)}function $e(r){var a={},u;for(u in r)a[u]=r[u];return a}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(r,a){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)r[u]=d[u];for(var g=0;g<ft.length;g++)u=ft[g],Object.prototype.hasOwnProperty.call(d,u)&&(r[u]=d[u])}}var bt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function on(){}on.prototype.next=function(){throw bt},on.prototype.ha=function(){return this};function wr(r){if(r instanceof on)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var a=0,u=new on;return u.next=function(){for(;;){if(a>=r.length)throw bt;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function Md(r,a){if(x(r))try{et(r,a,void 0)}catch(u){if(u!==bt)throw u}else{r=wr(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==bt)throw u}}}function Ws(r){if(x(r))return C(r);r=wr(r);var a=[];return Md(r,function(u){a.push(u)}),a}function Ks(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof Ks)for(u=r.ja(),d=0;d<u.length;d++)this.set(u[d],r.get(u[d]));else for(d in r)this.set(d,r[d])}t=Ks.prototype,t.la=function(){cn(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return cn(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function cn(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var d=r.a[a];dn(r.g,d)&&(r.a[u++]=d),a++}r.a.length=u}if(r.h!=r.a.length){var m={};for(u=a=0;a<r.a.length;)d=r.a[a],dn(m,d)||(r.a[u++]=d,m[d]=1),a++;r.a.length=u}}t.get=function(r,a){return dn(this.g,r)?this.g[r]:a},t.set=function(r,a){dn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],g=this.get(m);r.call(a,g,m,this)}},t.ha=function(r){cn(this);var a=0,u=this.j,d=this,m=new on;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(a>=d.a.length)throw bt;var g=d.a[a++];return r?g:d.g[g]},m};function dn(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function X2(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var d=r[u].indexOf("="),m=null;if(0<=d){var g=r[u].substring(0,d);m=r[u].substring(d+1)}else g=r[u];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function uw(r,a,u,d){for(var m=u.length;0<=(a=r.indexOf(u,a))&&a<d;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+m),!g||g==61||g==38||g==35))return a;a+=m+1}return-1}var cw=/#|$/;function Fd(r,a){var u=r.search(cw),d=uw(r,0,a,u);if(0>d)return null;var m=r.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=a.length+1,decodeURIComponent(r.substr(d,m-d).replace(/\+/g," "))}var Z2=/[?&]($|#)/;function Gr(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof Gr?(this.i=y(a)?a:r.i,xm(this,r.j),this.A=r.A,this.h=r.h,Nm(this,r.C),this.g=r.g,Dm(this,fw(r.a)),this.s=r.s):r&&(u=String(r).match(Vd))?(this.i=!!a,xm(this,u[1]||"",!0),this.A=Yl(u[2]||""),this.h=Yl(u[3]||"",!0),Nm(this,u[4]),this.g=Yl(u[5]||"",!0),Dm(this,u[6]||"",!0),this.s=Yl(u[7]||"")):(this.i=!!a,this.a=new Ql(null,this.i))}Gr.prototype.toString=function(){var r=[],a=this.j;a&&r.push(Jl(a,dw,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(Jl(a,dw,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(Jl(u,u.charAt(0)=="/"?nO:tO,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",Jl(u,rO)),r.join("")};function xm(r,a,u){r.j=u?Yl(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function Nm(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Dm(r,a,u){a instanceof Ql?(r.a=a,sO(r.a,r.i)):(u||(a=Jl(a,iO)),r.a=new Ql(a,r.i))}function Lm(r){return r instanceof Gr?new Gr(r):new Gr(r,void 0)}function Yl(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Jl(r,a,u){return b(r)?(r=encodeURI(r).replace(a,eO),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function eO(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var dw=/[#\/\?@]/g,tO=/[#\?:]/g,nO=/[#\?]/g,iO=/[#\?@]/g,rO=/#/g;function Ql(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function Yr(r){r.a||(r.a=new Ks,r.g=0,r.h&&X2(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Ql.prototype,t.add=function(r,a){Yr(this),this.h=null,r=ea(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function zs(r,a){Yr(r),a=ea(r,a),dn(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,dn(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&cn(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function hw(r,a){return Yr(r),a=ea(r,a),dn(r.a.g,a)}t.forEach=function(r,a){Yr(this),this.a.forEach(function(u,d){et(u,function(m){r.call(a,m,d,this)},this)},this)},t.ja=function(){Yr(this);for(var r=this.a.la(),a=this.a.ja(),u=[],d=0;d<a.length;d++)for(var m=r[d],g=0;g<m.length;g++)u.push(a[d]);return u},t.la=function(r){Yr(this);var a=[];if(b(r))hw(this,r)&&(a=S(a,this.a.get(ea(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=S(a,r[u])}return a},t.set=function(r,a){return Yr(this),this.h=null,r=ea(this,r),hw(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var d=a[u],m=encodeURIComponent(String(d));d=this.la(d);for(var g=0;g<d.length;g++){var w=m;d[g]!==""&&(w+="="+encodeURIComponent(String(d[g]))),r.push(w)}}return this.h=r.join("&")};function fw(r){var a=new Ql;return a.h=r.h,r.a&&(a.a=new Ks(r.a),a.g=r.g),a}function ea(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function sO(r,a){a&&!r.j&&(Yr(r),r.h=null,r.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(zs(this,d),zs(this,m),0<u.length&&(this.h=null,this.a.set(ea(this,m),C(u)),this.g+=u.length))},r)),r.j=a}function Gs(r){this.a=Lm(r)}function oO(r,a){a?r.a.a.set(zt.Sa,a):zs(r.a.a,zt.Sa)}function aO(r,a){a!==null?r.a.a.set(zt.Qa,a?"1":"0"):zs(r.a.a,zt.Qa)}function pw(r){return r.a.a.get(zt.Pa)||null}function mw(r,a){a?r.a.a.set(zt.PROVIDER_ID,a):zs(r.a.a,zt.PROVIDER_ID)}Gs.prototype.toString=function(){return this.a.toString()};var zt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},ta;e:{var gw=v.navigator;if(gw){var vw=gw.userAgent;if(vw){ta=vw;break e}}ta=""}function We(r){return ta.indexOf(r)!=-1}function yw(){return(We("Chrome")||We("CriOS"))&&!We("Edge")}function Mm(r){return Mm[" "](r),r}Mm[" "]=E;function lO(r,a){var u=dO;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var _w=We("Opera"),Nt=We("Trident")||We("MSIE"),Jr=We("Edge"),uO=Jr||Nt,Ni=We("Gecko")&&!(ta.toLowerCase().indexOf("webkit")!=-1&&!We("Edge"))&&!(We("Trident")||We("MSIE"))&&!We("Edge"),jn=ta.toLowerCase().indexOf("webkit")!=-1&&!We("Edge"),cO=jn&&We("Mobile"),Qr=We("Macintosh");function ww(){var r=v.document;return r?r.documentMode:void 0}var Ud;e:{var Vm="",Fm=function(){var r=ta;if(Ni)return/rv:([^\);]+)(\)|;)/.exec(r);if(Jr)return/Edge\/([\d\.]+)/.exec(r);if(Nt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(jn)return/WebKit\/(\S+)/.exec(r);if(_w)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Fm&&(Vm=Fm?Fm[1]:""),Nt){var Um=ww();if(Um!=null&&Um>parseFloat(Vm)){Ud=String(Um);break e}}Ud=Vm}var dO={};function Ys(r){return lO(r,function(){for(var a=0,u=L(String(Ud)).split("."),d=L(String(r)).split("."),m=Math.max(u.length,d.length),g=0;a==0&&g<m;g++){var w=u[g]||"",A=d[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],w[0].length==0&&A[0].length==0)break;a=me(w[1].length==0?0:parseInt(w[1],10),A[1].length==0?0:parseInt(A[1],10))||me(w[2].length==0,A[2].length==0)||me(w[2],A[2]),w=w[3],A=A[3]}while(a==0)}return 0<=a})}var Xl,bw=v.document;Xl=bw&&Nt?ww()||(bw.compatMode=="CSS1Compat"?parseInt(Ud,10):5):void 0;function na(r,a){this.a=r===Iw&&a||"",this.g=Ew}na.prototype.ma=!0,na.prototype.ka=function(){return this.a},na.prototype.toString=function(){return"Const{"+this.a+"}"};var Ew={},Iw={};function Js(){this.a="",this.h=Aw}Js.prototype.ma=!0,Js.prototype.ka=function(){return this.a.toString()},Js.prototype.g=function(){return 1},Js.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Tw(r){return r instanceof Js&&r.constructor===Js&&r.h===Aw?r.a:(Ze("expected object of type TrustedResourceUrl, got '"+r+"' of type "+P(r)),"type_error:TrustedResourceUrl")}function hO(){var r=ix;r instanceof na&&r.constructor===na&&r.g===Ew?r=r.a:(Ze("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new Js;return a.a=r,a}var Aw={};function ci(){this.a="",this.h=Rw}ci.prototype.ma=!0,ci.prototype.ka=function(){return this.a.toString()},ci.prototype.g=function(){return 1},ci.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Xr(r){return r instanceof ci&&r.constructor===ci&&r.h===Rw?r.a:(Ze("expected object of type SafeUrl, got '"+r+"' of type "+P(r)),"type_error:SafeUrl")}var Sw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function $d(r){return r instanceof ci?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Sw.test(r)||(r="about:invalid#zClosurez"),$m(r))}function Cw(r){return r instanceof ci?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Sw.test(r)||(r="about:invalid#zClosurez"),$m(r))}var Rw={};function $m(r){var a=new ci;return a.a=r,a}$m("about:blank");function ia(){this.a="",this.g=Pw}ia.prototype.ma=!0;var Pw={};ia.prototype.ka=function(){return this.a},ia.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Zr(){this.a="",this.j=kw,this.h=null}Zr.prototype.g=function(){return this.h},Zr.prototype.ma=!0,Zr.prototype.ka=function(){return this.a.toString()},Zr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Bd(r){return r instanceof Zr&&r.constructor===Zr&&r.j===kw?r.a:(Ze("expected object of type SafeHtml, got '"+r+"' of type "+P(r)),"type_error:SafeHtml")}var kw={};function Zl(r,a){var u=new Zr;return u.a=r,u.h=a,u}Zl("<!DOCTYPE html>",0);var fO=Zl("",0);Zl("<br>",0);var pO=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=Bd(fO),!a.parentElement):!1});function mO(r,a){if(r.src=Tw(a),_===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&T.test(a)){_=a;break e}_=""}a=_,a&&r.setAttribute("nonce",a)}function ra(r,a){a=a instanceof ci?a:Cw(a),r.assign(Xr(a))}function es(r,a){this.a=y(r)?r:0,this.g=y(a)?a:0}es.prototype.toString=function(){return"("+this.a+", "+this.g+")"},es.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},es.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},es.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Bm(r,a){this.width=r,this.height=a}t=Bm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function jd(r){return r?new Wm(eu(r)):Ae||(Ae=new Wm)}function jm(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):Ow(document,r,a)}function Hm(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var d=a||u;r=d.querySelectorAll&&d.querySelector&&r?d.querySelector(r?"."+r:""):Ow(u,r,a)[0]||null}return r||null}function Ow(r,a,u){var d;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var m=r.getElementsByClassName(a);return m}if(m=r.getElementsByTagName("*"),a){var g={};for(u=d=0;r=m[u];u++){var w=r.className;typeof w.split=="function"&&R(w.split(/\s+/),a)&&(g[d++]=r)}return g.length=d,g}return m}function gO(r,a){xe(a,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?r.style.cssText=u:d=="class"?r.className=u:d=="for"?r.htmlFor=u:xw.hasOwnProperty(d)?r.setAttribute(xw[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,u):r[d]=u})}var xw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hd(r){return r.scrollingElement?r.scrollingElement:(jn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function Qs(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function eu(r){return r.nodeType==9?r:r.ownerDocument||r.document}function qm(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(eu(r).createTextNode(String(a)))}}function Nw(r,a){return a?vO(r,function(u){return!a||b(u.className)&&R(u.className.split(/\s+/),a)}):null}function vO(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function Wm(r){this.a=r||v.document||document}Wm.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var qd={Fc:!0},Dw={Hc:!0},yO={Ec:!0},Lw={Gc:!0};function ts(){throw Error("Do not instantiate directly")}ts.prototype.va=null,ts.prototype.toString=function(){return this.content};function tu(r,a,u,d){if(r=r(a||bO,void 0,u),d=(d||jd()).a.createElement("DIV"),r=_O(r),r.match(wO),r=Zl(r,null),pO())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=Bd(r),d.childNodes.length==1&&(r=d.firstChild,r.nodeType==1&&(d=r)),d}function _O(r){if(!K(r))return be(String(r));if(r instanceof ts){if(r.fa===qd)return r.content;if(r.fa===Lw)return be(r.content)}return Ze("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var wO=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,bO={};function EO(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Wd(){ts.call(this)}Y(Wd,ts),Wd.prototype.fa=qd;function Oe(r){return r!=null&&r.fa===qd?r:r instanceof Zr?pe(Bd(r).toString(),r.g()):pe(be(String(String(r))),EO(r))}function Kd(){ts.call(this)}Y(Kd,ts),Kd.prototype.fa=Dw,Kd.prototype.va=1;function zd(r,a){this.content=String(r),this.va=a??null}Y(zd,ts),zd.prototype.fa=Lw;function nt(r){return new zd(r,void 0)}var pe=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=new a(String(u)),d!==void 0&&(u.va=d),u}}(Wd),IO=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(Kd);function TO(r){function a(){}var u={label:Dt("New password")};a.prototype=r,r=new a;for(var d in u)r[d]=u[d];return r}function Dt(r){return(r=String(r))?new zd(r,void 0):""}var Mw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=String(u),u?(u=new a(u),d!==void 0&&(u.va=d),u):""}}(Wd);function Hn(r){return r!=null&&r.fa===qd?String(String(r.content).replace(OO,"").replace(xO,"&lt;")).replace(RO,SO):be(String(r))}function Xs(r){return r!=null&&r.fa===Dw?r=String(r).replace(zm,Km):r instanceof ci?r=String(Xr(r).toString()).replace(zm,Km):(r=String(r),kO.test(r)?r=r.replace(zm,Km):(Ze("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function Vw(r){return r!=null&&r.fa===yO?r=r.content:r==null?r="":r instanceof ia?r instanceof ia&&r.constructor===ia&&r.g===Pw?r=r.a:(Ze("expected object of type SafeStyle, got '"+r+"' of type "+P(r)),r="type_error:SafeStyle"):(r=String(r),PO.test(r)||(Ze("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var AO={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function SO(r){return AO[r]}var CO={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function Km(r){return CO[r]}var RO=/[\x00\x22\x27\x3c\x3e]/g,zm=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,PO=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,kO=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,OO=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,xO=/</g;function Gm(){return nt("Enter a valid phone number")}function Fw(){return nt("Unable to send password reset code to specified email")}function Uw(){return nt("Something went wrong. Please try again.")}function $w(){return nt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Bw(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return nt(a)}function jw(){return nt("Please login again to perform this operation")}function nu(r,a,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=NO+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=Uw()}r=nt(r).toString()}this.message=r||"",this.credential=u||null}c(nu,Error),nu.prototype.toJSON=function(){return{code:this.code,message:this.message}};var NO="firebaseui/";function Zs(){this.T=this.T,this.C=this.C}var DO=0;Zs.prototype.T=!1,Zs.prototype.m=function(){!this.T&&(this.T=!0,this.o(),DO!=0)&&(this[re]||(this[re]=++j))};function iu(r,a){r.T?y(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(y(void 0)?le(a,void 0):a))}Zs.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ru(r){r&&typeof r.m=="function"&&r.m()}var LO=Object.freeze||function(r){return r},Hw=!Nt||9<=Number(Xl),MO=Nt&&!Ys("9"),VO=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",E,a),v.removeEventListener("test",E,a)}catch{}return r}();function br(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}br.prototype.stopPropagation=function(){this.h=!0},br.prototype.preventDefault=function(){this.qb=!1};function qn(r,a){if(br.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if(Ni){e:{try{Mm(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=b(r.pointerType)?r.pointerType:FO[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Y(qn,br);var FO=LO({2:"touch",3:"pen",4:"mouse"});qn.prototype.stopPropagation=function(){qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},qn.prototype.preventDefault=function(){qn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,MO)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var su="closure_listenable_"+(1e6*Math.random()|0),UO=0;function $O(r,a,u,d,m){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.La=m,this.key=++UO,this.sa=this.Ia=!1}function Gd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function Yd(r){this.src=r,this.a={},this.g=0}Yd.prototype.add=function(r,a,u,d,m){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var w=Jm(r,a,d,m);return-1<w?(a=r[w],u||(a.Ia=!1)):(a=new $O(a,this.src,g,!!d,m),a.Ia=u,r.push(a)),a};function Ym(r,a){var u=a.type;u in r.a&&fe(r.a[u],a)&&(Gd(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function Jm(r,a,u,d){for(var m=0;m<r.length;++m){var g=r[m];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==d)return m}return-1}var Qm="closure_lm_"+(1e6*Math.random()|0),Xm={};function Di(r,a,u,d,m){if(d&&d.once)return ou(r,a,u,d,m);if(k(a)){for(var g=0;g<a.length;g++)Di(r,a[g],u,d,m);return null}return u=eg(u),r&&r[su]?r.J.add(String(a),u,!1,K(d)?!!d.capture:!!d,m):qw(r,a,u,!1,d,m)}function qw(r,a,u,d,m,g){if(!a)throw Error("Invalid event type");var w=K(m)?!!m.capture:!!m,A=Jd(r);if(A||(r[Qm]=A=new Yd(r)),u=A.add(a,u,d,w,g),u.proxy)return u;if(d=BO(),u.proxy=d,d.src=r,d.listener=u,r.addEventListener)VO||(m=w),m===void 0&&(m=!1),r.addEventListener(a.toString(),d,m);else if(r.attachEvent)r.attachEvent(Ww(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function BO(){var r=jO,a=Hw?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function ou(r,a,u,d,m){if(k(a)){for(var g=0;g<a.length;g++)ou(r,a[g],u,d,m);return null}return u=eg(u),r&&r[su]?r.J.add(String(a),u,!0,K(d)?!!d.capture:!!d,m):qw(r,a,u,!0,d,m)}function eo(r,a,u,d,m){if(k(a))for(var g=0;g<a.length;g++)eo(r,a[g],u,d,m);else d=K(d)?!!d.capture:!!d,u=eg(u),r&&r[su]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=Jm(g,u,d,m),-1<u&&(Gd(g[u]),Z(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=Jd(r))&&(a=r.a[a.toString()],r=-1,a&&(r=Jm(a,u,d,m)),(u=-1<r?a[r]:null)&&ns(u))}function ns(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[su])Ym(a.J,r);else{var u=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(u,d,r.capture):a.detachEvent?a.detachEvent(Ww(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=Jd(a))?(Ym(u,r),u.g==0&&(u.src=null,a[Qm]=null)):Gd(r)}}}function Ww(r){return r in Xm?Xm[r]:Xm[r]="on"+r}function Kw(r,a,u,d){var m=!0;if((r=Jd(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=zw(g,d),m=m&&g!==!1)}return m}function zw(r,a){var u=r.listener,d=r.La||r.src;return r.Ia&&ns(r),u.call(d,a)}function jO(r,a){if(r.sa)return!0;if(!Hw){if(!a)e:{a=["window","event"];for(var u=v,d=0;d<a.length;d++)if(u=u[a[d]],u==null){a=null;break e}a=u}if(d=a,a=new qn(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.g;m;m=m.parentNode)d.push(m);for(r=r.type,m=d.length-1;!a.h&&0<=m;m--){a.g=d[m];var g=Kw(d[m],r,!0,a);u=u&&g}for(m=0;!a.h&&m<d.length;m++)a.g=d[m],g=Kw(d[m],r,!1,a),u=u&&g}return u}return zw(r,new qn(a,this))}function Jd(r){return r=r[Qm],r instanceof Yd?r:null}var Zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function eg(r){return V(r)?r:(r[Zm]||(r[Zm]=function(a){return r.handleEvent(a)}),r[Zm])}function Gt(){Zs.call(this),this.J=new Yd(this),this.wb=this,this.Ha=null}Y(Gt,Zs),Gt.prototype[su]=!0,Gt.prototype.Za=function(r){this.Ha=r},Gt.prototype.removeEventListener=function(r,a,u,d){eo(this,r,a,u,d)};function is(r,a){var u,d=r.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(r=r.wb,d=a.type||a,b(a))a=new br(a,r);else if(a instanceof br)a.target=a.target||r;else{var m=a;a=new br(d,r),tt(a,m)}if(m=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];m=Qd(w,d,!0,a)&&m}if(a.h||(w=a.g=r,m=Qd(w,d,!0,a)&&m,a.h||(m=Qd(w,d,!1,a)&&m)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],m=Qd(w,d,!1,a)&&m;return m}Gt.prototype.o=function(){if(Gt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],d=0;d<u.length;d++)Gd(u[d]);delete r.a[a],r.g--}}this.Ha=null};function Qd(r,a,u,d){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var A=w.listener,D=w.La||w.src;w.Ia&&Ym(r.J,w),m=A.call(D,d)!==!1&&m}}return m&&d.qb!=0}var di={},Gw=0;function Yw(r,a){if(!r)throw Error("Event target element must be provided!");if(r=tg(r),di[r]&&di[r].length)for(var u=0;u<di[r].length;u++)is(di[r][u],a)}function HO(r){var a=tg(r.N());di[a]&&di[a].length&&(Ee(di[a],function(u){return u==r}),di[a].length||delete di[a])}function tg(r){return typeof r.a>"u"&&(r.a=Gw,Gw++),r.a}function Xd(r){if(!r)throw Error("Event target element must be provided!");Gt.call(this),this.a=r}c(Xd,Gt),Xd.prototype.N=function(){return this.a},Xd.prototype.register=function(){var r=tg(this.N());di[r]?R(di[r],this)||di[r].push(this):di[r]=[this]};function Jw(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function ng(r,a){this.h=r,this.j=a,this.g=0,this.a=null}ng.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Qw(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function Xw(){this.g=this.a=null}var Zw=new ng(function(){return new ig},function(r){r.reset()});Xw.prototype.add=function(r,a){var u=Zw.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function qO(){var r=tb,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function ig(){this.next=this.g=this.a=null}ig.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},ig.prototype.reset=function(){this.next=this.g=this.a=null};function eb(r){v.setTimeout(function(){throw r},0)}var rg;function WO(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!We("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var w="callImmediate"+Math.random(),A=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=le(function(D){(A=="*"||D.origin==A)&&D.data==w&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,A)}}}),typeof r<"u"&&!We("Trident")&&!We("MSIE")){var a=new r,u={},d=u;return a.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function sg(r,a){Zd||KO(),og||(Zd(),og=!0),tb.add(r,a)}var Zd;function KO(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);Zd=function(){r.then(nb)}}else Zd=function(){var a=nb;!V(v.setImmediate)||v.Window&&v.Window.prototype&&!We("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(rg||(rg=WO()),rg(a)):v.setImmediate(a)}}var og=!1,tb=new Xw;function nb(){for(var r;r=qO();){try{r.a.call(r.g)}catch(a){eb(a)}Qw(Zw,r)}og=!1}function Yt(r){if(this.a=to,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=E)try{var a=this;r.call(void 0,function(u){no(a,au,u)},function(u){if(!(u instanceof oa))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}no(a,Er,u)})}catch(u){no(this,Er,u)}}var to=0,au=2,Er=3;function ib(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}ib.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var rb=new ng(function(){return new ib},function(r){r.reset()});function ag(r,a,u){var d=rb.get();return d.s=r,d.g=a,d.j=u,d}function Lt(r){if(r instanceof Yt)return r;var a=new Yt(E);return no(a,au,r),a}function sa(r){return new Yt(function(a,u){u(r)})}Yt.prototype.then=function(r,a,u){return ob(this,V(r)?r:null,V(a)?a:null,u)},Yt.prototype.$goog_Thenable=!0,t=Yt.prototype,t.fc=function(r,a){return r=ag(r,r,a),r.h=!0,lg(this,r),this},t.Ca=function(r,a){return ob(this,null,r,a)},t.cancel=function(r){this.a==to&&sg(function(){var a=new oa(r);sb(this,a)},this)};function sb(r,a){if(r.a==to)if(r.h){var u=r.h;if(u.g){for(var d=0,m=null,g=null,w=u.g;w&&(w.h||(d++,w.a==r&&(m=w),!(m&&1<d)));w=w.next)m||(g=w);m&&(u.a==to&&d==1?sb(u,a):(g?(d=g,d.next==u.j&&(u.j=d),d.next=d.next.next):lb(u),ub(u,m,Er,a)))}r.h=null}else no(r,Er,a)}function lg(r,a){r.g||r.a!=au&&r.a!=Er||ab(r),r.j?r.j.next=a:r.g=a,r.j=a}function ob(r,a,u,d){var m=ag(null,null,null);return m.a=new Yt(function(g,w){m.s=a?function(A){try{var D=a.call(d,A);g(D)}catch(z){w(z)}}:g,m.g=u?function(A){try{var D=u.call(d,A);!y(D)&&A instanceof oa?w(A):g(D)}catch(z){w(z)}}:w}),m.a.h=r,lg(r,m),m.a}t.hc=function(r){this.a=to,no(this,au,r)},t.ic=function(r){this.a=to,no(this,Er,r)};function no(r,a,u){if(r.a==to){r===u&&(a=Er,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var d=u,m=r.hc,g=r.ic;if(d instanceof Yt){lg(d,ag(m||E,g||null,r));var w=!0}else if(Jw(d))d.then(m,g,r),w=!0;else{if(K(d))try{var A=d.then;if(V(A)){zO(d,A,m,g,r),w=!0;break e}}catch(D){g.call(r,D),w=!0;break e}w=!1}}w||(r.A=u,r.a=a,r.h=null,ab(r),a!=Er||u instanceof oa||GO(r,u))}}function zO(r,a,u,d,m){function g(D){A||(A=!0,d.call(m,D))}function w(D){A||(A=!0,u.call(m,D))}var A=!1;try{a.call(r,w,g)}catch(D){g(D)}}function ab(r){r.i||(r.i=!0,sg(r.Hb,r))}function lb(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=lb(this);)ub(this,r,this.a,this.A);this.i=!1};function ub(r,a,u,d){if(u==Er&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,cb(a,u,d);else try{a.h?a.s.call(a.j):cb(a,u,d)}catch(m){db.call(null,m)}Qw(rb,a)}function cb(r,a,u){a==au?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function GO(r,a){r.s=!0,sg(function(){r.s&&db.call(null,a)})}var db=eb;function oa(r){de.call(this,r)}Y(oa,de),oa.prototype.name="cancel";function hb(r,a,u){a||(a={}),u=u||window;var d=r instanceof ci?r:$d(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var m=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(a[g]?1:0))}var g=m.join(",");return(We("iPhone")&&!We("iPod")&&!We("iPad")||We("iPad")||We("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),d=d instanceof ci?d:Cw(d),g.href=Xr(d),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=Xr(d).toString(),u&&(uO&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Zl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+be(a)+'">',null),u.document.write(Bd(a)),u.document.close())):(u=u.open(Xr(d).toString(),r,g))&&a.noopener&&(u.opener=null),u}function fb(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function aa(r){hb(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function eh(r,a){if(r=K(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function Ir(){return window.location.href}function YO(){var r=null;return new Yt(function(a){v.document.readyState=="complete"?a():(r=function(){a()},ou(window,"load",r))}).Ca(function(a){throw eo(window,"load",r),a})}function JO(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function QO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(d){return a.includes(d)}).reduce(function(d,m){return d[m]=r[m],d},u)}function rs(r){var a=ex;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}rs.prototype.cancel=function(r){if(this.a)this.h instanceof rs&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new uu,th(this),lu(this,!1,r))}},rs.prototype.L=function(r,a){this.A=!1,lu(this,r,a)};function lu(r,a,u){r.a=!0,r.h=u,r.j=!a,gb(r)}function th(r){if(r.a){if(!r.J)throw new nh;r.J=!1}}rs.prototype.callback=function(r){th(this),lu(this,!0,r)};function pb(r,a,u){r.s.push([a,u,void 0]),r.a&&gb(r)}rs.prototype.then=function(r,a,u){var d,m,g=new Yt(function(w,A){d=w,m=A});return pb(this,d,function(w){w instanceof uu?g.cancel():m(w)}),g.then(r,a,u)},rs.prototype.$goog_Thenable=!0;function mb(r){return te(r.s,function(a){return V(a[1])})}function gb(r){if(r.i&&r.a&&mb(r)){var a=r.i,u=ih[a];u&&(v.clearTimeout(u.a),delete ih[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var d=u=!1;r.s.length&&!r.A;){var m=r.s.shift(),g=m[0],w=m[1];if(m=m[2],g=r.j?w:g)try{var A=g.call(m||r.O,a);y(A)&&(r.j=r.j&&(A==a||A instanceof Error),r.h=a=A),(Jw(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(d=!0,r.A=!0)}catch(D){a=D,r.j=!0,mb(r)||(u=!0)}}r.h=a,d&&(A=le(r.L,r,!0),d=le(r.L,r,!1),a instanceof rs?(pb(a,A,d),a.l=!0):a.then(A,d)),u&&(a=new vb(a),ih[a.a]=a,r.i=a.a)}function nh(){de.call(this)}Y(nh,de),nh.prototype.message="Deferred has already fired",nh.prototype.name="AlreadyCalledError";function uu(){de.call(this)}Y(uu,de),uu.prototype.message="Deferred was canceled",uu.prototype.name="CanceledError";function vb(r){this.a=v.setTimeout(le(this.h,this),0),this.g=r}vb.prototype.h=function(){throw delete ih[this.a],this.g};var ih={};function XO(r){var a={},u=a.document||document,d=Tw(r).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},w=new rs(g),A=null,D=a.timeout!=null?a.timeout:5e3;return 0<D&&(A=window.setTimeout(function(){rh(m,!0);var z=new ug(nx,"Timeout reached for loading script "+d);th(w),lu(w,!1,z)},D),g.sb=A),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(rh(m,a.xc||!1,A),w.callback(null))},m.onerror=function(){rh(m,!0,A);var z=new ug(tx,"Error while loading script "+d);th(w),lu(w,!1,z)},g=a.attributes||{},tt(g,{type:"text/javascript",charset:"UTF-8"}),gO(m,g),mO(m,r),ZO(u).appendChild(m),w}function ZO(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function ex(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&rh(r,!0,this.sb)}}function rh(r,a,u){u!=null&&v.clearTimeout(u),r.onload=E,r.onerror=E,r.onreadystatechange=E,a&&window.setTimeout(function(){Qs(r)},0)}var tx=0,nx=1;function ug(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),de.call(this,u),this.code=r}Y(ug,de);function cu(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function cg(r){this.a=r||cu(),this.h=!1,this.g=null}cg.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function yb(r,a,u){if(r.a&&a)return function(){return r.h=!0,new Yt(function(m){r.g=m,r.a.initialize({client_id:a,callback:m,auto_select:!u}),r.a.prompt()})}();if(a){var d=dg.Xa().load().then(function(){return r.a=cu(),yb(r,a,u)}).Ca(function(){return null});return Lt(d)}return Lt(null)}I(cg);var ix=new na(Iw,"https://accounts.google.com/gsi/client");function dg(){this.a=null}dg.prototype.load=function(){var r=this;if(this.a)return this.a;var a=hO();return cu()?Lt():this.a=YO().then(function(){if(!cu())return new Yt(function(u,d){var m=setTimeout(function(){r.a=null,d(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},Lt(XO(a)).then(function(){cu()&&u()}).Ca(function(g){clearTimeout(m),r.a=null,d(g)})})})},I(dg);function hg(r,a){this.a=r,this.g=a||function(u){throw u}}hg.prototype.confirm=function(r){return Lt(this.a.confirm(r)).Ca(this.g)};function fg(r,a,u){this.reset(r,a,u,void 0,void 0)}fg.prototype.a=null,fg.prototype.reset=function(r,a,u,d,m){this.h=d||Xe(),this.j=r,this.s=a,this.g=u,delete this.a};function pg(r){this.s=r,this.a=this.h=this.j=this.g=null}function sh(r,a){this.name=r,this.value=a}sh.prototype.toString=function(){return this.name};var _b=new sh("SEVERE",1e3),wb=new sh("WARNING",900),bb=new sh("CONFIG",700);function Eb(r){return r.j?r.j:r.g?Eb(r.g):(Ze("Root logger has no level set."),null)}pg.prototype.log=function(r,a,u){if(r.value>=Eb(this).value)for(V(a)&&(a=a()),r=new fg(r,String(a),this.s),u&&(r.a=u),u=this;u;){var d=u,m=r;if(d.a)for(var g=0;a=d.a[g];g++)a(m);u=u.g}};var mg={},du=null;function Ib(){du||(du=new pg(""),mg[""]=du,du.j=bb)}function Tb(r){Ib();var a;if(!(a=mg[r])){a=new pg(r);var u=r.lastIndexOf("."),d=r.substr(u+1);u=Tb(r.substr(0,u)),u.h||(u.h={}),u.h[d]=a,a.g=u,mg[r]=a}return a}function oh(){this.a=Xe()}var gg=null;oh.prototype.set=function(r){this.a=r},oh.prototype.reset=function(){this.set(Xe())},oh.prototype.get=function(){return this.a};function hu(r){this.j=r||"",gg||(gg=new oh),this.s=gg}hu.prototype.a=!0,hu.prototype.g=!0,hu.prototype.h=!1;function io(r){return 10>r?"0"+r:String(r)}function rx(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function Ab(r){hu.call(this,r)}Y(Ab,hu);function sx(r,a){var u=[];if(u.push(r.j," "),r.g){var d=new Date(a.h);u.push("[",io(d.getFullYear()-2e3)+io(d.getMonth()+1)+io(d.getDate())+" "+io(d.getHours())+":"+io(d.getMinutes())+":"+io(d.getSeconds())+"."+io(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",rx(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function Sb(){this.s=le(this.h,this),this.a=new Ab,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Sb.prototype.h=function(r){function a(g){if(g){if(g.value>=_b.value)return"error";if(g.value>=wb.value)return"warn";if(g.value>=bb.value)return"log"}return"debug"}if(!this.j[r.g]){var u=sx(this.a,r),d=ox;if(d){var m=a(r.j);ax(d,m,u,r.a)}}};var ox=v.console;function ax(r,a,u,d){r[a]?r[a](u,d||""):r.log(u,d||"")}function hi(r,a){var u=vg;u&&u.log(_b,r,a)}var vg;vg=Tb("firebaseui");var yg=new Sb;if(yg.g!=1){var ah;Ib(),ah=du;var lx=yg.s;ah.a||(ah.a=[]),ah.a.push(lx),yg.g=!0}function ss(r){var a=vg;a&&a.log(wb,r,void 0)}function Cb(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=Cb.prototype,t.set=function(r,a,u,d,m,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');y(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Xe()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+m+d+u+g},t.get=function(r,a){for(var u=r+"=",d=(this.a.cookie||"").split(";"),m=0,g;m<d.length;m++){if(g=L(d[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return _g(this).keys},t.la=function(){return _g(this).values},t.clear=function(){for(var r=_g(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function _g(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],d,m,g=0;g<r.length;g++)m=L(r[g]),d=m.indexOf("="),d==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:a,values:u}}var lh=new Cb;function Rb(){}function la(r,a,u,d){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!d}c(la,Rb),la.prototype.set=function(r,a){lh.set(r,a,this.h,this.g,this.a,this.j)},la.prototype.get=function(r){return lh.get(r)||null},la.prototype.ra=function(r){var a=this.g,u=this.a;lh.get(r),lh.set(r,"",0,a,u)};function wg(r,a){this.g=r,this.a=a||null}function Pb(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function kb(r){if(r&&r.email){var a=r.credential&&Ie.auth.AuthCredential.fromJSON(r.credential);return new wg(r.email,a)}return null}function Ob(r){this.a=r||null}function xb(r){for(var a=[],u=0,d=0;d<r.length;d++){var m=r.charCodeAt(d);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function ux(r){return qs(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function uh(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(ua*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<ua*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,Vb(a),a[0]^=dh[r/this.g][0],a[1]^=dh[r/this.g][1],a[2]^=dh[r/this.g][2],a[3]^=dh[r/this.g][3]}else 6<this.g&&r%this.g==4&&Vb(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}uh.prototype.A=16;var ua=uh.prototype.A/4;function Nb(r,a){for(var u,d=0;d<ua;d++)for(var m=0;4>m;m++)u=4*m+d,u=a[u],r.h[d][m]=u}function Db(r){for(var a=[],u=0;u<ua;u++)for(var d=0;4>d;d++)a[4*d+u]=r.h[u][d];return a}function ca(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]^=r.a[4*a+d][u]}function ch(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]=a[r.h[u][d]]}function Lb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%ua]}function Mb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%ua]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function Vb(r){r[0]=da[r[0]],r[1]=da[r[1]],r[2]=da[r[2]],r[3]=da[r[3]]}var da=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Fb=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],dh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],hh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],fh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ph=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],mh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],gh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],vh=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Ub(r,a){r=new uh(Bb(r)),a=xb(a);for(var u=a.splice(0,16),d="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=r,Nb(m,u),ca(m,0),u=1;u<m.j;++u){ch(m,da),Lb(m),g=m.h;for(var w=m.s[0],A=0;4>A;A++)w[0]=g[0][A],w[1]=g[1][A],w[2]=g[2][A],w[3]=g[3][A],g[0][A]=hh[w[0]]^fh[w[1]]^w[2]^w[3],g[1][A]=w[0]^hh[w[1]]^fh[w[2]]^w[3],g[2][A]=w[0]^w[1]^hh[w[2]]^fh[w[3]],g[3][A]=fh[w[0]]^w[1]^w[2]^hh[w[3]];ca(m,u)}ch(m,da),Lb(m),ca(m,m.j),d+=ux(Db(m)),u=a.splice(0,16)}return d}function $b(r,a){r=new uh(Bb(r));for(var u=[],d=0;d<a.length;d+=2)u.push(parseInt(a.substring(d,d+2),16));var m=u.splice(0,16);for(a="";m.length;){for(d=r,Nb(d,m),ca(d,d.j),m=1;m<d.j;++m){Mb(d),ch(d,Fb),ca(d,d.j-m);for(var g=d.h,w=d.s[0],A=0;4>A;A++)w[0]=g[0][A],w[1]=g[1][A],w[2]=g[2][A],w[3]=g[3][A],g[0][A]=vh[w[0]]^mh[w[1]]^gh[w[2]]^ph[w[3]],g[1][A]=ph[w[0]]^vh[w[1]]^mh[w[2]]^gh[w[3]],g[2][A]=gh[w[0]]^ph[w[1]]^vh[w[2]]^mh[w[3]],g[3][A]=mh[w[0]]^gh[w[1]]^ph[w[2]]^vh[w[3]]}if(Mb(d),ch(d,Fb),ca(d,0),d=Db(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",g=0;g<d.length;g+=8192)m+=String.fromCharCode.apply(null,O(d,g,g+8192));d=m}a+=d,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function Bb(r){r=xb(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function jb(r){var a=[];return bg(new cx,r,a),a.join("")}function cx(){}function bg(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(k(a)){var d=a;a=d.length,u.push("[");for(var m="",g=0;g<a;g++)u.push(m),bg(r,d[g],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(g=a[d],typeof g!="function"&&(u.push(m),qb(d,u),u.push(":"),bg(r,g,u),m=","));u.push("}");return}}switch(typeof a){case"string":qb(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},dx=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function qb(r,a){a.push('"',r.replace(dx,function(u){var d=Hb[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),Hb[u]=d),d}),'"')}function fu(r){this.a=r}fu.prototype.set=function(r,a){y(a)?this.a.set(r,jb(a)):this.a.ra(r)},fu.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function yh(){}Y(yh,Rb),yh.prototype.clear=function(){var r=Ws(this.ha(!0)),a=this;et(r,function(u){a.ra(u)})};function _h(r){this.a=r}Y(_h,yh);function wh(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=_h.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!b(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,d=new on;return d.next=function(){if(a>=u.length)throw bt;var m=u.key(a++);if(r)return m;if(m=u.getItem(m),!b(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function Eg(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}Y(Eg,_h);function Ig(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}Y(Ig,_h);function ha(r,a){this.g=r,this.a=a+"::"}Y(ha,yh),ha.prototype.set=function(r,a){this.g.set(this.a+r,a)},ha.prototype.get=function(r){return this.g.get(this.a+r)},ha.prototype.ra=function(r){this.g.ra(this.a+r)},ha.prototype.ha=function(r){var a=this.g.ha(!0),u=this,d=new on;return d.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return r?m.substr(u.a.length):u.g.get(m)},d},wh(new Eg);var Wb,Kb=new Ig;Wb=wh(Kb)?new ha(Kb,"firebaseui"):null;var Tg=new fu(Wb),Ag={name:"pendingEmailCredential",storage:Tg},ro={name:"redirectStatus",storage:Tg},pu={name:"redirectUrl",storage:Tg},fa={name:"emailForSignIn",storage:new fu(new la(3600,"/"))},mu={name:"pendingEncryptedCredential",storage:new fu(new la(3600,"/"))};function pa(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function ei(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function ma(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function zb(r){return pa(pu,r)||null}function Qi(r){return r=pa(Ag,r)||null,kb(r)}function Xi(r){ei(Ag,r)}function Gb(r,a){ma(Ag,Pb(r),a)}function Sg(r){return(r=pa(ro,r)||null)&&typeof r.tenantId<"u"?new Ob(r.tenantId):null}function hx(r,a){ma(ro,{tenantId:r.a},a)}function fx(r,a){a=pa(fa,a);var u=null;if(a)try{var d=$b(r,a),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function px(r,a){a=pa(mu,a);var u=null;if(a)try{var d=$b(r,a);u=JSON.parse(d)}catch{}return kb(u||null)}function mx(r,a,u){ma(mu,Ub(r,JSON.stringify(Pb(a))),u)}function Cg(){this.W={}}function $t(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function Rg(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}Cg.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function Pg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function kg(){this.g=void 0,this.a={}}t=kg.prototype,t.set=function(r,a){Yb(this,r,a,!1)},t.add=function(r,a){Yb(this,r,a,!0)};function Yb(r,a,u,d){for(var m=0;m<a.length;m++){var g=a.charAt(m);r.a[g]||(r.a[g]=new kg),r=r.a[g]}if(d&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return Jb(this,r),r};function Jb(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)Jb(r.a[u],a)}t.ja=function(){var r=[];return Qb(this,"",r),r};function Qb(r,a,u){r.g!==void 0&&u.push(a);for(var d in r.a)Qb(r.a[d],a+d,u)}t.clear=function(){this.a={},this.g=void 0};function Xb(r){for(this.a=r,this.g=new kg,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function bh(r,a){r=r.g;var u={},d=0;for(r.g!==void 0&&(u[d]=r.g);d<a.length;d++){var m=a.charAt(d);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(u[d]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function so(r){for(var a=0;a<Wn.length;a++)if(Wn[a].c===r)return Wn[a];return null}function Zb(r){r=r.toUpperCase();for(var a=[],u=0;u<Wn.length;u++)Wn[u].f===r&&a.push(Wn[u]);return a}function e1(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Wn.length;u++)Wn[u].b==r&&a.push(Wn[u]);r=a}else r=Zb(r);return r}function t1(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Wn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];t1(Wn);var gu=new Xb(Wn);function n1(r,a){this.a=r,this.Aa=a}function i1(r){r=L(r);var a=bh(gu,r);return 0<a.length?new n1(a[0].b=="1"?"1-US-0":a[0].c,L(r.substr(a[0].b.length+1))):null}function Og(r){var a=so(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function r1(r,a){for(var u=0;u<r.length;u++)if(!R(s1,r[u])&&(ga!==null&&r[u]in ga||R(a,r[u])))return r[u];return null}var s1=["emailLink","password","phone"],ga={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function gx(){this.a=new Cg,$t(this.a,"autoUpgradeAnonymousUsers"),$t(this.a,"callbacks"),$t(this.a,"credentialHelper",Th),$t(this.a,"immediateFederatedRedirect",!1),$t(this.a,"popupMode",!1),$t(this.a,"privacyPolicyUrl"),$t(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),$t(this.a,"queryParameterForWidgetMode","mode"),$t(this.a,"signInFlow"),$t(this.a,"signInOptions"),$t(this.a,"signInSuccessUrl"),$t(this.a,"siteName"),$t(this.a,"tosUrl"),$t(this.a,"widgetUrl"),$t(this.a,"adminRestrictedOperation")}function Eh(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!m1(r)&&hi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function Ih(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var d=r[u];d=K(d)?d:{provider:d},d.provider&&a.push(d)}return a}function fi(r,a){r=Ih(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function va(r){return Ih(r).map(function(a){return a.provider})}function vu(r,a){r=o1(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function o1(r){return Ih(r).map(function(a){if(ga[a.provider]||R(Sx,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Xr($d(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Xr($d(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function a1(r){var a=fi(r,Ie.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in r=r.a.get("credentialHelper"),Mg)if(Mg[d]===r){var d=Mg[d];break e}}d=Th}u=d===Lg}return u&&a.clientId||null}function l1(r){return r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function oo(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function vx(r){var a=null;if(Ih(r).forEach(function(d){d.provider==Ie.auth.PhoneAuthProvider.PROVIDER_ID&&K(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(a=$e(d.recaptchaParameters))}),a){var u=[];Cx.forEach(function(d){typeof a[d]<"u"&&(u.push(d),delete a[d])}),u.length&&ss('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function yx(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function _x(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){aa(a)}}return null}function wx(r){return(r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function bx(r){if((r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){aa(a)}}return null}function u1(r,a){return r=(r=fi(r,a))&&r.scopes,Array.isArray(r)?r:[]}function c1(r,a){return r=(r=fi(r,a))&&r.customParameters,K(r)?(r=$e(r),a===Ie.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===Ie.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function Ex(r){r=fi(r,Ie.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=i1(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function Ix(r){var a=(r=fi(r,Ie.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&Zb(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=i1(r.loginHint)),a&&a[0]||u&&so(u.a)||null}function xg(r){if(r=fi(r,Ie.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Wn;if(r=[],a){u={};for(var d=0;d<a.length;d++)for(var m=e1(a[d]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var w in u)u.hasOwnProperty(w)&&r.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(m=e1(u[a]),d=0;d<m.length;d++)w[m[d].c]=m[d];for(m=0;m<Wn.length;m++)w!==null&&Wn[m].c in w||r.push(Wn[m])}return r}function d1(r){return Pg(r.a,"queryParameterForWidgetMode")}function Bt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&ss("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){aa(a)}}return null}function jt(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&ss("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){aa(u)}}return null}function h1(r){return(r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function ya(r){return r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==Ie.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Tx(r){return r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function Ax(r){if(ya(r)){var a={url:Ir(),handleCodeInApp:!0};(r=fi(r,Ie.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&tt(a,r.emailLinkSignIn()),r=a.url;var u=Ir();u instanceof Gr||(u=Lm(u)),r instanceof Gr||(r=Lm(r));var d=u;u=new Gr(d);var m=!!r.j;m?xm(u,r.j):m=!!r.A,m?u.A=r.A:m=!!r.h,m?u.h=r.h:m=r.C!=null;var g=r.g;if(m)Nm(u,r.C);else if(m=!!r.g){if(g.charAt(0)!="/"&&(d.h&&!d.g?g="/"+g:(d=u.g.lastIndexOf("/"),d!=-1&&(g=u.g.substr(0,d+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],A=0;A<g.length;){var D=g[A++];D=="."?d&&A==g.length&&w.push(""):D==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&A==g.length&&w.push("")):(w.push(D),d=!0)}g=w.join("/")}}return m?u.g=g:m=r.a.toString()!=="",m?Dm(u,fw(r.a)):m=!!r.s,m&&(u.s=r.s),a.url=u.toString(),a}return null}function Ng(r){var a=!!r.a.get("immediateFederatedRedirect"),u=va(r);return r=f1(r),a&&u.length==1&&!R(s1,u[0])&&r==Ah}function f1(r){r=r.a.get("signInFlow");for(var a in Vg)if(Vg[a]==r)return Vg[a];return Ah}function Dg(r){return yu(r).signInSuccess||null}function p1(r){return yu(r).signInSuccessWithAuthResult||null}function m1(r){return yu(r).signInFailure||null}function yu(r){return r.a.get("callbacks")||{}}var Lg="googleyolo",Th="none",Mg={nc:Lg,NONE:Th},Ah="redirect",Vg={qc:"popup",rc:Ah},Fg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Sx=["anonymous"],Cx=["sitekey","tabindex","callback","expired-callback"],_u,_a,Ug,g1,ot={};function ge(r,a,u,d){ot[r].apply(null,Array.prototype.slice.call(arguments,1))}function v1(r){return r.classList?r.classList:(r=r.className,b(r)&&r.match(/\S+/g)||[])}function wu(r,a){return r.classList?r.classList.contains(a):R(v1(r),a)}function Zi(r,a){r.classList?r.classList.add(a):wu(r,a)||(r.className+=0<r.className.length?" "+a:a)}function er(r,a){r.classList?r.classList.remove(a):wu(r,a)&&(r.className=ui(v1(r),function(u){return u!=a}).join(" "))}function hn(r){var a=r.type;switch(b(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,d=0;u=r.options[d];d++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function y1(r,a){var u=r.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,b(a)){for(var d=0;u=r.options[d];d++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(b(a)&&(a=[a]),d=0;u=r.options[d];d++)if(u.selected=!1,a)for(var m,g=0;m=a[g];g++)u.value==m&&(u.selected=!0);break;default:r.value=a??""}}function Rx(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(bu(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Ni;default:return 166>r.keyCode||183<r.keyCode}}function _1(r,a,u,d,m,g){if(jn&&!Ys("525"))return!0;if(Qr&&m)return bu(r);if(m&&!d)return!1;if(!Ni){typeof a=="number"&&(a=$g(a));var w=a==17||a==18||Qr&&a==91;if((!u||Qr)&&w||Qr&&a==16&&(d||g))return!1}if((jn||Jr)&&d&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Nt&&d&&a==r)return!1;switch(r){case 13:return Ni?g||m?!1:!(u&&d):!0;case 27:return!(jn||Jr||Ni)}return Ni&&(d||m||g)?!1:bu(r)}function bu(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(jn||Jr)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Ni;default:return!1}}function $g(r){if(Ni)r=Px(r);else if(Qr&&jn)switch(r){case 93:r=91}return r}function Px(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function wa(r){Gt.call(this),this.a=r,Di(r,"keydown",this.g,!1,this),Di(r,"click",this.h,!1,this)}Y(wa,Gt),wa.prototype.g=function(r){(r.keyCode==13||jn&&r.keyCode==3)&&w1(this,r)},wa.prototype.h=function(r){w1(this,r)};function w1(r,a){var u=new E1(a);if(is(r,u)){u=new b1(a);try{is(r,u)}finally{a.stopPropagation()}}}wa.prototype.o=function(){wa.K.o.call(this),eo(this.a,"keydown",this.g,!1,this),eo(this.a,"click",this.h,!1,this),delete this.a};function b1(r){qn.call(this,r.a),this.type="action"}Y(b1,qn);function E1(r){qn.call(this,r.a),this.type="beforeaction"}Y(E1,qn);function ba(r){Gt.call(this),this.a=r,r=Nt?"focusout":"blur",this.g=Di(this.a,Nt?"focusin":"focus",this,!Nt),this.h=Di(this.a,r,this,!Nt)}Y(ba,Gt),ba.prototype.handleEvent=function(r){var a=new qn(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",is(this,a)},ba.prototype.o=function(){ba.K.o.call(this),ns(this.g),ns(this.h),delete this.a};function Sh(r,a){Gt.call(this),this.g=r||1,this.a=a||v,this.h=le(this.gc,this),this.j=Xe()}Y(Sh,Gt),t=Sh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=Xe()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),is(this,"tick"),this.Ka&&(Ch(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Xe())};function Ch(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){Sh.K.o.call(this),Ch(this),delete this.a};function kx(r,a){if(V(r))a&&(r=le(r,a));else if(r&&typeof r.handleEvent=="function")r=le(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function Ea(r){Zs.call(this),this.g=r,this.a={}}Y(Ea,Zs);var I1=[];function Ia(r,a,u,d){k(u)||(u&&(I1[0]=u.toString()),u=I1);for(var m=0;m<u.length;m++){var g=Di(a,u[m],d||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function T1(r){xe(r.a,function(a,u){this.a.hasOwnProperty(u)&&ns(a)},r),r.a={}}Ea.prototype.o=function(){Ea.K.o.call(this),T1(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eu(r){Gt.call(this),this.a=null,this.g=r,r=Nt||Jr||jn&&!Ys("531")&&r.tagName=="TEXTAREA",this.h=new Ea(this),Ia(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}Y(Eu,Gt),Eu.prototype.handleEvent=function(r){if(r.type=="input")Nt&&Ys(10)&&r.keyCode==0&&r.j==0||(Bg(this),is(this,A1(r)));else if(r.type!="keydown"||Rx(r)){var a=r.type=="keydown"?this.g.value:null;Nt&&r.keyCode==229&&(a=null);var u=A1(r);Bg(this),this.a=kx(function(){this.a=null,this.g.value!=a&&is(this,u)},this)}};function Bg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function A1(r){return r=new qn(r.a),r.type="input",r}Eu.prototype.o=function(){Eu.K.o.call(this),this.h.m(),Bg(this),delete this.g};function Iu(r,a){Gt.call(this),r&&(this.Oa&&k1(this),this.qa=r,this.Na=Di(this.qa,"keypress",this,a),this.Ya=Di(this.qa,"keydown",this.Jb,a,this),this.Oa=Di(this.qa,"keyup",this.Kb,a,this))}Y(Iu,Gt),t=Iu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var S1={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},C1={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},R1=!jn||Ys("525"),P1=Qr&&Ni;t=Iu.prototype,t.Jb=function(r){(jn||Jr)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||Qr&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),R1&&!_1(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=$g(r.keyCode),P1&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Nt&&r.type=="keypress")var d=this.X,m=d!=13&&d!=27?a.keyCode:0;else(jn||Jr)&&r.type=="keypress"?(d=this.X,m=0<=a.charCode&&63232>a.charCode&&bu(d)?a.charCode:0):_w&&!jn?(d=this.X,m=bu(d)?a.keyCode:0):(r.type=="keypress"?(P1&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(d=a.keyCode,m=0):(d=this.X,m=a.charCode):(d=a.keyCode||this.X,m=a.charCode||0)):(d=a.keyCode||this.X,m=a.charCode||0),Qr&&m==63&&d==224&&(d=191));var g=d=$g(d);d?63232<=d&&d in S1?g=S1[d]:d==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in C1&&(g=C1[a.keyIdentifier]),Ni&&R1&&r.type=="keypress"&&!_1(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new O1(g,m,r,a),a.altKey=u,is(this,a))},t.N=function(){return this.qa};function k1(r){r.Na&&(ns(r.Na),ns(r.Ya),ns(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){Iu.K.o.call(this),k1(this)};function O1(r,a,u,d){qn.call(this,d),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}Y(O1,qn);function Ta(r,a,u,d){this.top=r,this.right=a,this.bottom=u,this.left=d}Ta.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ta.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ta.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ta.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Rh(r,a){var u=eu(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function x1(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Nt&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function Ox(r,a){a=a||Hd(document);var u=a||Hd(document),d=N1(r),m=N1(u);if(!Nt||9<=Number(Xl)){w=Rh(u,"borderLeftWidth");var g=Rh(u,"borderRightWidth");A=Rh(u,"borderTopWidth"),D=Rh(u,"borderBottomWidth"),g=new Ta(parseFloat(A),parseFloat(g),parseFloat(D),parseFloat(w))}else{var w=Ph(u,"borderLeft");g=Ph(u,"borderRight");var A=Ph(u,"borderTop"),D=Ph(u,"borderBottom");g=new Ta(A,g,D,w)}u==Hd(document)?(w=d.a-u.scrollLeft,d=d.g-u.scrollTop,!Nt||10<=Number(Xl)||(w+=g.left,d+=g.top)):(w=d.a-m.a-g.left,d=d.g-m.g-g.top),m=r.offsetWidth,g=r.offsetHeight,A=jn&&!m&&!g,y(m)&&!A||!r.getBoundingClientRect?r=new Bm(m,g):(r=x1(r),r=new Bm(r.right-r.left,r.bottom-r.top)),m=u.clientHeight-r.height,g=u.scrollLeft,A=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-r.width),0)),A+=Math.min(d,Math.max(d-m,0)),u=new es(g,A),a.scrollLeft=u.a,a.scrollTop=u.g}function N1(r){var a=eu(r),u=new es(0,0),d=a?eu(a):document;return d=!Nt||9<=Number(Xl)||jd(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,r==d||(r=x1(r),d=jd(a).a,a=Hd(d),d=d.parentWindow||d.defaultView,a=Nt&&Ys("10")&&d.pageYOffset!=a.scrollTop?new es(a.scrollLeft,a.scrollTop):new es(d.pageXOffset||a.scrollLeft,d.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var D1={thin:2,medium:4,thick:6};function Ph(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in D1)r=D1[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var d=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=d,r=+u}return r}function jg(){}I(jg),jg.prototype.a=0;function ao(r){Gt.call(this),this.s=r||jd(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Y(ao,Gt),t=ao.prototype,t.Lb=jg.Xa(),t.N=function(){return this.g};function Ye(r,a){return r.g?Hm(a,r.g||r.s.a):null}function Tu(r){return r.L||(r.L=new Ea(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");ao.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Hg(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){Hg(this,function(r){r.na&&r.ya()}),this.L&&T1(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Hg(this,function(r){r.m()}),this.g&&Qs(this.g),this.Y=this.g=this.oa=this.Ea=null,ao.K.o.call(this)};function Hg(r,a){r.Ea&&et(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=b(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var d=this.oa;if(u in d&&delete d[u],fe(this.Ea,r),a&&(r.ya(),r.g&&Qs(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,ao.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function Mt(r,a){var u=Nw(r,"firebaseui-textfield");a?(er(r,"firebaseui-input-invalid"),Zi(r,"firebaseui-input"),u&&er(u,"firebaseui-textfield-invalid")):(er(r,"firebaseui-input"),Zi(r,"firebaseui-input-invalid"),u&&Zi(u,"firebaseui-textfield-invalid"))}function Aa(r,a,u){a=new Eu(a),iu(r,Q(ru,a)),Ia(Tu(r),a,"input",u)}function Au(r,a,u){a=new Iu(a),iu(r,Q(ru,a)),Ia(Tu(r),a,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function xx(r,a,u){a=new ba(a),iu(r,Q(ru,a)),Ia(Tu(r),a,"focusin",u)}function Nx(r,a,u){a=new ba(a),iu(r,Q(ru,a)),Ia(Tu(r),a,"focusout",u)}function Pt(r,a,u){a=new wa(a),iu(r,Q(ru,a)),Ia(Tu(r),a,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function pi(r){Zi(r,"firebaseui-hidden")}function fn(r,a){a&&qm(r,a),er(r,"firebaseui-hidden")}function Sa(r){return!wu(r,"firebaseui-hidden")&&r.style.display!="none"}function Ca(r){r=r||{};var a=r.email,u=r.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=r.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Hn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',pe(d)}function ti(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+Oe(r):a+"Next",pe(a+"</button>")}function qg(){var r=""+ti({label:Dt("Sign In")});return pe(r)}function L1(){var r=""+ti({label:Dt("Save")});return pe(r)}function Li(){var r=""+ti({label:Dt("Continue")});return pe(r)}function M1(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+Oe(r):a+"Choose password",pe(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function V1(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",pe(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function F1(){return pe('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function mi(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+Oe(r):a+"Cancel",pe(a+"</button>")}function bn(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),pe(a)}function Ra(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),pe(a)}function U1(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',pe(r)}U1.a="firebaseui.auth.soy2.element.infoBar";function $1(r){var a=r.content;return r=r.Ab,pe('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Hn(r):"")+'">'+Oe(a)+"</dialog>")}function B1(r){var a=r.message;return pe($1({content:Mw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Hn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(a)+"</div>")}))}B1.a="firebaseui.auth.soy2.element.progressDialog";function j1(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,d=0;d<u;d++){var m=r[d];a+='<button type="button" data-listboxid="'+Hn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Hn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(m.label)+"</div></button>"}return a=""+$1({Ab:Dt("firebaseui-list-box-dialog"),content:Mw(a+"</div>")}),pe(a)}j1.a="firebaseui.auth.soy2.element.listBoxDialog";function kh(r){return r=r||{},pe(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}kh.a="firebaseui.auth.soy2.element.busyIndicator";function os(r,a){return r=r||{},r=r.ga,nt(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function Wg(r){H1(r,"upgradeElement")}function Kg(r){H1(r,"downgradeElements")}var Dx=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function H1(r,a){r&&window.componentHandler&&window.componentHandler[a]&&Dx.forEach(function(u){wu(r,u)&&window.componentHandler[a](r),et(jm(u,r),function(d){window.componentHandler[a](d)})})}function q1(r,a,u){if(Oh.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),Wg(r),a&&Pt(this,r,function(g){var w=r.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&Oh.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,w=d.getBoundingClientRect().height,A=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,D=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,z=r.getBoundingClientRect().width,_e=d.getBoundingClientRect().width;r.style.top=(A+(w-g)/2).toString()+"px",g=D+(_e-z)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-z).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Oh(){var r=zg.call(this);r&&(Kg(r),r.open&&r.close(),Qs(r),this.da&&window.removeEventListener("resize",this.da))}function zg(){return Hm("firebaseui-id-dialog")}function W1(){Qs(K1.call(this))}function K1(){return Ye(this,"firebaseui-id-info-bar")}function z1(){return Ye(this,"firebaseui-id-dismiss-info-bar")}var Lx={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Gg(r,a,u){br.call(this,r,a);for(var d in u)this[d]=u[d]}Y(Gg,br);function U(r,a,u,d,m){ao.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=$e(Lx),tt(this.Z,m||{})}Y(U,ao),t=U.prototype,t.kb=function(){var r=tu(this.fb,this.eb,this.Z,this.s);Wg(r),this.g=r},t.v=function(){if(U.K.v.call(this),Yw(Ct(this),new Gg("pageEnter",Ct(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;Pt(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;Pt(this,this.ab(),function(){a()})}},t.ya=function(){Yw(Ct(this),new Gg("pageExit",Ct(this),{pageId:this.Ga})),U.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Kg(this.N()),U.K.o.call(this)};function Mx(r){r.Fa=!0;var a=wu(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=tu(kh,{tb:a},null,r.s),r.N().appendChild(r.A),Wg(r.A))},500)}t.I=function(r,a,u,d){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(Kg(g.A),Qs(g.A),g.A=null)}var g=this;return g.Fa?null:(Mx(g),r.apply(null,a).then(u,d).then(m,m))};function Ct(r){return r.N().parentElement||r.N().parentNode}function Su(r,a,u){Au(r,a,function(){u.focus()})}function Pa(r,a,u){Au(r,a,function(){u()})}ae(U.prototype,{a:function(r){W1.call(this);var a=tu(U1,{message:r},null,this.s);this.N().appendChild(a),Pt(this,z1.call(this),function(){Qs(a)})},yc:W1,Ac:K1,zc:z1,$:function(r,a){r=tu(B1,{Ma:r,message:a},null,this.s),q1.call(this,r)},h:Oh,Cb:zg,Cc:function(){return Ye(this,"firebaseui-tos")},bb:function(){return Ye(this,"firebaseui-tos-link")},ab:function(){return Ye(this,"firebaseui-pp-link")},Dc:function(){return Ye(this,"firebaseui-tos-list")}});function G1(r,a,u){r=r||{},a=r.Va;var d=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ca(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?mi(null):"")+ti(null)+'</div></div><div class="firebaseui-card-footer">'+(d?Ra(u):bn(u))+"</div></form></div>",pe(r)}G1.a="firebaseui.auth.soy2.page.signIn";function Y1(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Ca(r)+V1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+F1()+'</div><div class="firebaseui-form-actions">'+qg()+'</div></div><div class="firebaseui-card-footer">'+(a?Ra(u):bn(u))+"</div></form></div>",pe(r)}Y1.a="firebaseui.auth.soy2.page.passwordSignIn";function J1(r,a,u){r=r||{};var d=r.Tb;a=r.Ta;var m=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Ca(r);return d?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Hn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=pe(r)):r="",u=g+r+M1(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?mi(null):"")+L1()+'</div></div><div class="firebaseui-card-footer">'+(m?Ra(u):bn(u))+"</div></form></div>",pe(u)}J1.a="firebaseui.auth.soy2.page.passwordSignUp";function Q1(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Ca(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?mi(null):"")+ti({label:Dt("Send")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(r)}Q1.a="firebaseui.auth.soy2.page.passwordRecovery";function X1(r,a,u){a=r.G;var d="";return r="Follow the instructions sent to <strong>"+(Oe(r.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(d+='<div class="firebaseui-form-actions">'+ti({label:Dt("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+bn(u)+"</div></div>",pe(d)}X1.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function Z1(r,a,u){return pe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+kh(null)+"</div></div>")}Z1.a="firebaseui.auth.soy2.page.callback";function eE(r,a,u){return pe('<div class="firebaseui-container firebaseui-id-page-spinner">'+kh({tb:!0})+"</div>")}eE.a="firebaseui.auth.soy2.page.spinner";function tE(){return pe('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}tE.a="firebaseui.auth.soy2.page.blank";function nE(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(Oe(r.email)+"</strong>. Check your email to complete sign-in.");var d=pe('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+mi({label:Dt("Back")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}nE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function iE(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+pe('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+mi({label:Dt("Back")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(r)}iE.a="firebaseui.auth.soy2.page.emailNotReceived";function rE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Ca(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti(null)+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(r)}rE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function sE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi({label:Dt("Dismiss")})+"</div></div></div>";return pe(r)}sE.a="firebaseui.auth.soy2.page.differentDeviceError";function oE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi({label:Dt("Dismiss")})+"</div></div></div>";return pe(r)}oE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function aE(r,a,u){return a="",r="Youve already used <strong>"+(Oe(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+V1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+F1()+'</div><div class="firebaseui-form-actions">'+qg()+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}aE.a="firebaseui.auth.soy2.page.passwordLinking";function lE(r,a,u){var d=r.email;return a="",r=""+os(r,u),r=Dt(r),d="Youve already used <strong>"+(Oe(d)+("</strong>. You can connect your <strong>"+(Oe(r)+("</strong> account with <strong>"+(Oe(d)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Oe(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+qg()+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}lE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function uE(r,a,u){a="";var d=""+os(r,u);return d=Dt(d),r="You originally intended to connect <strong>"+(Oe(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(Oe(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Li()+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}uE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function cE(r,a,u){var d=r.email;return a="",r=""+os(r,u),r=Dt(r),d="Youve already used <strong>"+(Oe(d)+("</strong>. Sign in with "+(Oe(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti({label:Dt("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}cE.a="firebaseui.auth.soy2.page.federatedLinking";function dE(r,a,u){r=r||{};var d=r.kc;a=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(Oe(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(Oe(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+mi({label:Dt("Back")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(m)}dE.a="firebaseui.auth.soy2.page.unauthorizedUser";function hE(r,a,u){return a="",r="To continue sign in with <strong>"+(Oe(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti({label:Dt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}hE.a="firebaseui.auth.soy2.page.unsupportedProvider";function fE(r){var a="",u='<p class="firebaseui-text">for <strong>'+(Oe(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+M1(TO(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+L1()+"</div></div></form></div>",pe(a)}fE.a="firebaseui.auth.soy2.page.passwordReset";function pE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}pE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function mE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}mE.a="firebaseui.auth.soy2.page.passwordResetFailure";function gE(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(Oe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></form></div>",pe(u)}gE.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function vE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}vE.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function yE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}yE.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function _E(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}_E.a="firebaseui.auth.soy2.page.emailVerificationFailure";function wE(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(Oe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(u)}wE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function bE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}bE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function EE(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Oe(a)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),d+=a;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></form></div>",pe(d)}EE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function IE(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Li()+"</div>":"")+"</div></div>",pe(r)}IE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function TE(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=ti({label:Dt("Retry")})),pe(r+"</div></div></div>")}TE.a="firebaseui.auth.soy2.page.recoverableError";function AE(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(r.errorMessage)+"</p></div></div>",pe(r)}AE.a="firebaseui.auth.soy2.page.unrecoverableError";function SE(r,a,u){var d=r.Qb;return a="",r="Continue with "+(Oe(r.jc)+"?"),d="You originally wanted to sign in with "+Oe(d),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti({label:Dt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form></div>",pe(a)}SE.a="firebaseui.auth.soy2.page.emailMismatch";function CE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var m=0;m<a;m++){var g={ga:r[m]},w=u;g=g||{};var A=g.ga,D=g;D=D||{};var z="";switch(D.ga.providerId){case"google.com":z+="firebaseui-idp-google";break;case"github.com":z+="firebaseui-idp-github";break;case"facebook.com":z+="firebaseui-idp-facebook";break;case"twitter.com":z+="firebaseui-idp-twitter";break;case"phone":z+="firebaseui-idp-phone";break;case"anonymous":z+="firebaseui-idp-anonymous";break;case"password":z+="firebaseui-idp-password";break;default:z+="firebaseui-idp-generic"}D='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Hn(nt(z))+' firebaseui-id-idp-button" data-provider-id="'+Hn(A.providerId)+'" style="background-color:',z=(z=g)||{},z=z.ga,D=D+Hn(Vw(nt(z.ta?z.ta:w.wa[z.providerId]?""+w.wa[z.providerId]:z.providerId.indexOf("saml.")==0?""+w.wa.saml:z.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var _e=g;z=w,_e=_e||{},_e=_e.ga,z=IO(_e.za?Xs(_e.za):z.xa[_e.providerId]?Xs(z.xa[_e.providerId]):_e.providerId.indexOf("saml.")==0?Xs(z.xa.saml):_e.providerId.indexOf("oidc.")==0?Xs(z.xa.oidc):Xs(z.xa.password)),D=D+Hn(Xs(z))+'"></span>',A.providerId=="password"?(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=Oe(A.V):A.S?(g="Sign in with "+Oe(os(g,w)),D+=g):D+="Sign in with email",D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',D=A.S?D+Oe(A.S):D+"Email",D+="</span>"):A.providerId=="phone"?(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=Oe(A.V):A.S?(g="Sign in with "+Oe(os(g,w)),D+=g):D+="Sign in with phone",D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',D=A.S?D+Oe(A.S):D+"Phone",D+="</span>"):A.providerId=="anonymous"?(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=Oe(A.V):A.S?(g="Sign in with "+Oe(os(g,w)),D+=g):D+="Continue as guest",D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',D=A.S?D+Oe(A.S):D+"Guest",D+="</span>"):(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=Oe(A.V):(z="Sign in with "+Oe(os(g,w)),D+=z),D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(A.S?Oe(A.S):Oe(os(g,w)))+"</span>"),A=pe(D+"</button>"),d+='<li class="firebaseui-list-item">'+A+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ra(u)+"</div></div>",pe(d)}CE.a="firebaseui.auth.soy2.page.providerSignIn";function RE(r,a,u){r=r||{};var d=r.Gb,m=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Hn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+pe(r);var g;return d?g=pe('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?mi(null):"")+ti({label:Dt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=pe(a+"</p>")):u=pe('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+bn(u),pe(g+u+"</div></form></div>")}RE.a="firebaseui.auth.soy2.page.phoneSignInStart";function PE(r,a,u){r=r||{},a=r.phoneNumber;var d="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(a)+"</a>"),Oe(a),a=d,d=pe('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti({label:Dt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+bn(u)+"</div></form>",r=pe('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),pe(a+(u+r+"</div>"))}PE.a="firebaseui.auth.soy2.page.phoneSignInFinish";function kE(){return pe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}kE.a="firebaseui.auth.soy2.page.signOut";function OE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var m=0;m<a;m++){var g=r[m],w="",A=Oe(g.displayName),D=g.tenantId?g.tenantId:"top-level-project";D=Dt(D),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Hn(D)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Hn(g.tenantId)+'"':"")+'style="background-color:'+Hn(Vw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Hn(Xs(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),w+=g),w=pe(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+A+"</span></button>")),d+='<li class="firebaseui-list-item">'+w+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Ra(u)+"</div></div>",pe(d)}OE.a="firebaseui.auth.soy2.page.selectTenant";function xE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ca(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti(null)+'</div></div><div class="firebaseui-card-footer">'+Ra(u)+"</div></form></div>",pe(r)}xE.a="firebaseui.auth.soy2.page.providerMatchByEmail";function an(){return Ye(this,"firebaseui-id-submit")}function Jt(){return Ye(this,"firebaseui-id-secondary-link")}function pn(r,a){Pt(this,an.call(this),function(d){r(d)});var u=Jt.call(this);u&&a&&Pt(this,u,function(d){a(d)})}function xh(){return Ye(this,"firebaseui-id-password")}function Nh(){return Ye(this,"firebaseui-id-password-error")}function NE(){var r=xh.call(this),a=Nh.call(this);Aa(this,r,function(){Sa(a)&&(Mt(r,!0),pi(a))})}function DE(){var r=xh.call(this),a=Nh.call(this);return hn(r)?(Mt(r,!0),pi(a),a=!0):(Mt(r,!1),fn(a,nt("Enter your password").toString()),a=!1),a?hn(r):null}function ka(r,a,u,d,m,g){U.call(this,aE,{email:r},g,"passwordLinking",{F:d,D:m}),this.w=a,this.H=u}c(ka,U),ka.prototype.v=function(){this.P(),this.M(this.w,this.H),Pa(this,this.i(),this.w),this.i().focus(),U.prototype.v.call(this)},ka.prototype.o=function(){this.w=null,U.prototype.o.call(this)},ka.prototype.j=function(){return hn(Ye(this,"firebaseui-id-email"))},ae(ka.prototype,{i:xh,B:Nh,P:NE,u:DE,ea:an,ba:Jt,M:pn});var Vx=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Tr(){return Ye(this,"firebaseui-id-email")}function as(){return Ye(this,"firebaseui-id-email-error")}function Oa(r){var a=Tr.call(this),u=as.call(this);Aa(this,a,function(){Sa(u)&&(Mt(a,!0),pi(u))}),r&&Au(this,a,function(){r()})}function xa(){return L(hn(Tr.call(this))||"")}function Na(){var r=Tr.call(this),a=as.call(this),u=hn(r)||"";return u?Vx.test(u)?(Mt(r,!0),pi(a),a=!0):(Mt(r,!1),fn(a,nt("That email address isn't correct").toString()),a=!1):(Mt(r,!1),fn(a,nt("Enter your email address to continue").toString()),a=!1),a?L(hn(r)):null}function Cu(r,a,u,d,m,g,w){U.call(this,Y1,{email:u,ia:!!g},w,"passwordSignIn",{F:d,D:m}),this.w=r,this.H=a}c(Cu,U),Cu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Su(this,this.l(),this.i()),Pa(this,this.i(),this.w),hn(this.l())?this.i().focus():this.l().focus(),U.prototype.v.call(this)},Cu.prototype.o=function(){this.H=this.w=null,U.prototype.o.call(this)},ae(Cu.prototype,{l:Tr,U:as,P:Oa,M:xa,j:Na,i:xh,B:Nh,ea:NE,u:DE,ua:an,pa:Jt,ba:pn});function ct(r,a,u,d,m,g){U.call(this,r,a,d,m||"notice",g),this.i=u||null}Y(ct,U),ct.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ct.K.v.call(this)},ct.prototype.o=function(){this.i=null,ct.K.o.call(this)},ae(ct.prototype,{l:an,w:Jt,u:pn});function Dh(r,a,u,d,m){ct.call(this,X1,{email:r,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:d})}Y(Dh,ct);function LE(r,a){ct.call(this,yE,{G:!!r},r,a,"emailVerificationSuccess")}Y(LE,ct);function ME(r,a){ct.call(this,_E,{G:!!r},r,a,"emailVerificationFailure")}Y(ME,ct);function VE(r,a,u){ct.call(this,wE,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}Y(VE,ct);function FE(r,a){ct.call(this,bE,{G:!!r},r,a,"verifyAndChangeEmailFailure")}Y(FE,ct);function UE(r,a){ct.call(this,IE,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}Y(UE,ct);function $E(r){ct.call(this,kE,void 0,void 0,r,"signOut")}Y($E,ct);function BE(r,a){ct.call(this,pE,{G:!!r},r,a,"passwordResetSuccess")}Y(BE,ct);function jE(r,a){ct.call(this,mE,{G:!!r},r,a,"passwordResetFailure")}Y(jE,ct);function HE(r,a){ct.call(this,vE,{G:!!r},r,a,"emailChangeRevokeFailure")}Y(HE,ct);function qE(r,a,u){ct.call(this,TE,{errorMessage:r,zb:!!a},a,u,"recoverableError")}Y(qE,ct);function WE(r,a){ct.call(this,AE,{errorMessage:r},void 0,a,"unrecoverableError")}Y(WE,ct);function Ru(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function Ar(r,a,u,d){function m(w){if(!w.name||w.name!="cancel"){e:{var A=w.message;try{var D=((JSON.parse(A).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(D&&D.length){var z=!0;break e}}catch{}z=!1}if(z)w=Ct(a),a.m(),Et(r,w,void 0,nt("Your sign-in session has expired. Please try again.").toString());else{if(z=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;z=pt(w)}a.a(z)}}}if(fI(r),d)return KE(r,u),Lt();if(!u.credential)throw Error("No credential found!");if(!Ke(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=mN(r,u)}catch(w){return hi(w.code||w.message,w),a.a(w.code||w.message),Lt()}return u=g.then(function(w){KE(r,w)},m).then(void 0,m),Ve(r,g),Lt(u)}function KE(r,a){if(!a.user)throw Error("No user found");var u=p1(B(r));if(Dg(B(r))&&u&&ss("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=p1(B(r));var d=zb(ke(r))||void 0;ei(pu,ke(r));var m=!1;fb()?((!u||u(a,d))&&(m=!0,ra(window.opener.location,Lh(r,d))),u||window.close()):(!u||u(a,d))&&(m=!0,ra(window.location,Lh(r,d))),m||r.reset()}else{u=a.user,a=a.credential,d=Dg(B(r)),m=zb(ke(r))||void 0,ei(pu,ke(r));var g=!1;fb()?((!d||d(u,a,m))&&(g=!0,ra(window.opener.location,Lh(r,m))),d||window.close()):(!d||d(u,a,m))&&(g=!0,ra(window.location,Lh(r,m))),g||r.reset()}}function Lh(r,a){if(r=a||B(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function pt(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=jw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=jw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=Gm();break;case"auth/invalid-verification-code":u+=nt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=nt(u).toString())return a;try{return JSON.parse(r.message),hi("Internal error: "+r.message,void 0),Uw().toString()}catch{return r.message}}function Fx(r,a,u){var d=ga[a]&&Ie.auth[ga[a]]?new Ie.auth[ga[a]]:a.indexOf("saml.")==0?new Ie.auth.SAMLAuthProvider(a):new Ie.auth.OAuthProvider(a);if(!d)throw Error("Invalid Firebase Auth provider!");var m=u1(B(r),a);if(d.addScope)for(var g=0;g<m.length;g++)d.addScope(m[g]);return m=c1(B(r),a)||{},u&&(a==Ie.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==Ie.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=vu(B(r),a))&&r.Ob,r&&(m[r]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function Pu(r,a,u,d){function m(){hx(new Ob(r.h.tenantId||null),ke(r)),Ve(r,a.I(le(r.dc,r),[D],function(){if((window.location&&window.location.protocol)==="file:")return Ve(r,lI(r).then(function(z){a.m(),ei(ro,ke(r)),ge("callback",r,A,Lt(z))},g))},w))}function g(z){if(ei(ro,ke(r)),!z.name||z.name!="cancel")switch(z=Ru(z),z.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(pt(z));break;case"auth/admin-restricted-operation":a.m(),oo(B(r))?ge("handleUnauthorizedUser",r,A,null,u):ge("callback",r,A,sa(z));break;default:a.m(),ge("callback",r,A,sa(z))}}function w(z){ei(ro,ke(r)),z.name&&z.name=="cancel"||(hi("signInWithRedirect: "+z.code,void 0),z=pt(z),a.Ga=="blank"&&Ng(B(r))?(a.m(),ge("providerSignIn",r,A,z)):a.a(z))}var A=Ct(a),D=Fx(r,u,d);f1(B(r))==Ah?m():Ve(r,pN(r,D).then(function(z){a.m(),ge("callback",r,A,Lt(z))},g))}function Ux(r,a){Ve(r,a.I(le(r.$b,r),[],function(u){return a.m(),Ar(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(hi("ContinueAsGuest: "+u.code,void 0),u=pt(u),a.a(u))}))}function $x(r,a,u){function d(g){var w=!1;return g=a.I(le(r.ac,r),[g],function(A){var D=Ct(a);a.m(),ge("callback",r,D,Lt(A)),w=!0},function(A){if((!A.name||A.name!="cancel")&&(!A||A.code!="auth/credential-already-in-use"))if(A&&A.code=="auth/email-already-in-use"&&A.email&&A.credential){var D=Ct(a);a.m(),ge("callback",r,D,sa(A))}else A&&A.code=="auth/admin-restricted-operation"&&oo(B(r))?(A=Ct(a),a.m(),ge("handleUnauthorizedUser",r,A,null,Ie.auth.GoogleAuthProvider.PROVIDER_ID)):(A=pt(A),a.a(A))}),Ve(r,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===a1(B(r))){if(u1(B(r),Ie.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Pu(r,a,Ie.auth.GoogleAuthProvider.PROVIDER_ID,m),Lt(!0)}return d(Ie.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(nt("The selected credential for the authentication provider is not supported!").toString()),Lt(!1)}function Bx(r,a){var u=a.j(),d=a.u();if(u)if(d){var m=Ie.auth.EmailAuthProvider.credential(u,d);Ve(r,a.I(le(r.bc,r),[u,d],function(g){return Ar(r,a,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":Mt(a.l(),!1),fn(a.U(),pt(g));break;case"auth/too-many-requests":case"auth/wrong-password":Mt(a.i(),!1),fn(a.B(),pt(g));break;default:hi("verifyPassword: "+g.message,void 0),a.a(pt(g))}}))}else a.i().focus();else a.l().focus()}function Mh(r){return r=va(B(r)),r.length==1&&r[0]==Ie.auth.EmailAuthProvider.PROVIDER_ID}function zE(r){return r=va(B(r)),r.length==1&&r[0]==Ie.auth.PhoneAuthProvider.PROVIDER_ID}function Et(r,a,u,d){Mh(r)?d?ge("signIn",r,a,u,d):Jg(r,a,u):r&&zE(r)&&!d?ge("phoneSignInStart",r,a):r&&Ng(B(r))&&!d?ge("federatedRedirect",r,a,u):ge("providerSignIn",r,a,d,u)}function GE(r,a,u,d){var m=Ct(a);Ve(r,a.I(le(Ke(r).fetchSignInMethodsForEmail,Ke(r)),[u],function(g){a.m(),YE(r,m,g,u,d)},function(g){g=pt(g),a.a(g)}))}function YE(r,a,u,d,m,g){u.length||ya(B(r))&&!ya(B(r))?R(u,Ie.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ge("passwordSignIn",r,a,d,g):u.length==1&&u[0]===Ie.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ya(B(r))?ge("sendEmailLinkForSignIn",r,a,d,function(){ge("signIn",r,a)}):ge("unsupportedProvider",r,a,d):(u=r1(u,va(B(r))))?(Gb(new wg(d),ke(r)),ge("federatedSignIn",r,a,d,u,m)):ge("unsupportedProvider",r,a,d):l1(B(r))?ge("handleUnauthorizedUser",r,a,d,Ie.auth.EmailAuthProvider.PROVIDER_ID):ya(B(r))?ge("sendEmailLinkForSignIn",r,a,d,function(){ge("signIn",r,a)}):ge("passwordSignUp",r,a,d,void 0,void 0,g)}function Yg(r,a,u,d,m,g){var w=Ct(a);Ve(r,a.I(le(r.Ib,r),[u,g],function(){a.m(),ge("emailLinkSignInSent",r,w,u,d,g)},m))}function Jg(r,a,u){u?ge("prefilledEmailSignIn",r,a,u):ge("signIn",r,a)}function ku(){return Fd(Ir(),"oobCode")}function Qg(){var r=Fd(Ir(),"continueUrl");return r?function(){ra(window.location,r)}:null}function Ou(r,a){U.call(this,oE,void 0,a,"anonymousUserMismatch"),this.i=r}c(Ou,U),Ou.prototype.v=function(){var r=this;Pt(this,this.l(),function(){r.i()}),this.l().focus(),U.prototype.v.call(this)},Ou.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(Ou.prototype,{l:Jt}),ot.anonymousUserMismatch=function(r,a){var u=new Ou(function(){u.m(),Et(r,a)});u.render(a),Be(r,u)};function Vh(r){U.call(this,Z1,void 0,r,"callback")}c(Vh,U),Vh.prototype.I=function(r,a,u,d){return r.apply(null,a).then(u,d)};function JE(r,a,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=Qi(ke(r)),g=m&&m.g;if(g&&!Hx(u.user,g))jx(r,a,d);else{var w=m&&m.a;w?Ve(r,u.user.linkWithCredential(w).then(function(A){d={user:A.user,credential:w,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo},QE(r,a,d)},function(A){Fh(r,a,A)})):QE(r,a,d)}}else u=Ct(a),a.m(),Xi(ke(r)),Et(r,u)}function QE(r,a,u){Xi(ke(r)),Ar(r,a,u)}function Fh(r,a,u){var d=Ct(a);Xi(ke(r)),u=pt(u),a.m(),Et(r,d,void 0,u)}function XE(r,a,u,d){var m=Ct(a);Ve(r,Ke(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?R(g,Ie.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ge("passwordLinking",r,m,u):g.length==1&&g[0]===Ie.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ge("emailLinkSignInLinking",r,m,u):(g=r1(g,va(B(r))))?ge("federatedLinking",r,m,u,g,d):(Xi(ke(r)),ge("unsupportedProvider",r,m,u)):(Xi(ke(r)),ge("passwordRecovery",r,m,u,!1,$w().toString()))},function(g){Fh(r,a,g)}))}function jx(r,a,u){var d=Ct(a);Ve(r,ls(r).then(function(){a.m(),ge("emailMismatch",r,d,u)},function(m){m.name&&m.name=="cancel"||(m=pt(m.code),a.a(m))}))}function Hx(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}ot.callback=function(r,a,u){var d=new Vh;d.render(a),Be(r,d),u=u||lI(r),Ve(r,u.then(function(m){JE(r,d,m)},function(m){if((m=Ru(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)Gb(new wg(m.email,m.credential),ke(r)),XE(r,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=Qi(ke(r)),w=pt(m);g&&g.a?XE(r,d,g.g,w):g?GE(r,d,g.g,w):Fh(r,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Mh(r)?JE(r,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&oo(B(r))?(d.m(),Xi(ke(r)),ge("handleUnauthorizedUser",r,a,null,null)):Fh(r,d,m))}))};function xu(r,a){U.call(this,sE,void 0,a,"differentDeviceError"),this.i=r}c(xu,U),xu.prototype.v=function(){var r=this;Pt(this,this.l(),function(){r.i()}),this.l().focus(),U.prototype.v.call(this)},xu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(xu.prototype,{l:Jt}),ot.differentDeviceError=function(r,a){var u=new xu(function(){u.m(),Et(r,a)});u.render(a),Be(r,u)};function Nu(r,a,u,d){U.call(this,gE,{email:r,G:!!u},d,"emailChangeRevoke"),this.l=a,this.i=u||null}c(Nu,U),Nu.prototype.v=function(){var r=this;Pt(this,Ye(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),U.prototype.v.call(this)},Nu.prototype.o=function(){this.l=this.i=null,U.prototype.o.call(this)},ae(Nu.prototype,{u:an,B:Jt,w:pn});function Du(){return Ye(this,"firebaseui-id-new-password")}function Uh(){return Ye(this,"firebaseui-id-password-toggle")}function qx(){this.Ra=!this.Ra;var r=Uh.call(this),a=Du.call(this);this.Ra?(a.type="text",Zi(r,"firebaseui-input-toggle-off"),er(r,"firebaseui-input-toggle-on")):(a.type="password",Zi(r,"firebaseui-input-toggle-on"),er(r,"firebaseui-input-toggle-off")),a.focus()}function $h(){return Ye(this,"firebaseui-id-new-password-error")}function ZE(){this.Ra=!1;var r=Du.call(this);r.type="password";var a=$h.call(this);Aa(this,r,function(){Sa(a)&&(Mt(r,!0),pi(a))});var u=Uh.call(this);Zi(u,"firebaseui-input-toggle-on"),er(u,"firebaseui-input-toggle-off"),xx(this,r,function(){Zi(u,"firebaseui-input-toggle-focus"),er(u,"firebaseui-input-toggle-blur")}),Nx(this,r,function(){Zi(u,"firebaseui-input-toggle-blur"),er(u,"firebaseui-input-toggle-focus")}),Pt(this,u,le(qx,this))}function eI(){var r=Du.call(this),a=$h.call(this);return hn(r)?(Mt(r,!0),pi(a),a=!0):(Mt(r,!1),fn(a,nt("Enter your password").toString()),a=!1),a?hn(r):null}function Lu(r,a,u){U.call(this,fE,{email:r},u,"passwordReset"),this.l=a}c(Lu,U),Lu.prototype.v=function(){this.H(),this.B(this.l),Pa(this,this.i(),this.l),this.i().focus(),U.prototype.v.call(this)},Lu.prototype.o=function(){this.l=null,U.prototype.o.call(this)},ae(Lu.prototype,{i:Du,w:$h,M:Uh,H:ZE,u:eI,U:an,P:Jt,B:pn});function Mu(r,a,u,d,m){U.call(this,EE,{factorId:r,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=d||null}c(Mu,U),Mu.prototype.v=function(){var r=this;Pt(this,Ye(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),U.prototype.v.call(this)},Mu.prototype.o=function(){this.l=this.i=null,U.prototype.o.call(this)},ae(Mu.prototype,{u:an,B:Jt,w:pn});function Wx(r,a,u,d,m){var g=u.u();g&&Ve(r,u.I(le(Ke(r).confirmPasswordReset,Ke(r)),[d,g],function(){u.m();var w=new BE(m);w.render(a),Be(r,w)},function(w){tI(r,a,u,w)}))}function tI(r,a,u,d){(d&&d.code)=="auth/weak-password"?(r=pt(d),Mt(u.i(),!1),fn(u.w(),r),u.i().focus()):(u&&u.m(),u=new jE,u.render(a),Be(r,u))}function Kx(r,a,u){var d=new Nu(u,function(){Ve(r,d.I(le(Ke(r).sendPasswordResetEmail,Ke(r)),[u],function(){d.m(),d=new Dh(u,void 0,Bt(B(r)),jt(B(r))),d.render(a),Be(r,d)},function(){d.a(Fw().toString())}))});d.render(a),Be(r,d)}function zx(r,a,u,d){var m=new Mu(d.factorId,function(){m.I(le(Ke(r).sendPasswordResetEmail,Ke(r)),[u],function(){m.m(),m=new Dh(u,void 0,Bt(B(r)),jt(B(r))),m.render(a),Be(r,m)},function(){m.a(Fw().toString())})},d.phoneNumber);m.render(a),Be(r,m)}ot.passwordReset=function(r,a,u,d){Ve(r,Ke(r).verifyPasswordResetCode(u).then(function(m){var g=new Lu(m,function(){Wx(r,a,g,u,d)});g.render(a),Be(r,g)},function(){tI(r,a)}))},ot.emailChangeRevocation=function(r,a,u){var d=null;Ve(r,Ke(r).checkActionCode(u).then(function(m){return d=m.data.email,Ke(r).applyActionCode(u)}).then(function(){Kx(r,a,d)},function(){var m=new HE;m.render(a),Be(r,m)}))},ot.emailVerification=function(r,a,u,d){Ve(r,Ke(r).applyActionCode(u).then(function(){var m=new LE(d);m.render(a),Be(r,m)},function(){var m=new ME;m.render(a),Be(r,m)}))},ot.revertSecondFactorAddition=function(r,a,u){var d=null,m=null;Ve(r,Ke(r).checkActionCode(u).then(function(g){return d=g.data.email,m=g.data.multiFactorInfo,Ke(r).applyActionCode(u)}).then(function(){zx(r,a,d,m)},function(){var g=new UE;g.render(a),Be(r,g)}))},ot.verifyAndChangeEmail=function(r,a,u,d){var m=null;Ve(r,Ke(r).checkActionCode(u).then(function(g){return m=g.data.email,Ke(r).applyActionCode(u)}).then(function(){var g=new VE(m,d);g.render(a),Be(r,g)},function(){var g=new FE;g.render(a),Be(r,g)}))};function Bh(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Nt&&!Ys("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function Vu(r,a,u,d,m,g){U.call(this,rE,{email:u},g,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=r,this.u=a}c(Vu,U),Vu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Bh(this.i(),(this.i().value||"").length),U.prototype.v.call(this)},Vu.prototype.o=function(){this.u=this.l=null,U.prototype.o.call(this)},ae(Vu.prototype,{i:Tr,M:as,w:Oa,H:xa,j:Na,U:an,P:Jt,B:pn}),ot.emailLinkConfirmation=function(r,a,u,d,m,g){var w=new Vu(function(){var A=w.j();A?(w.m(),d(r,a,A,u)):w.i().focus()},function(){w.m(),Et(r,a,m||void 0)},m||void 0,Bt(B(r)),jt(B(r)));w.render(a),Be(r,w),g&&w.a(g)};function Fu(r,a,u,d,m){U.call(this,uE,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=a}c(Fu,U),Fu.prototype.v=function(){this.u(this.i),this.l().focus(),U.prototype.v.call(this)},Fu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(Fu.prototype,{l:an,u:pn}),ot.emailLinkNewDeviceLinking=function(r,a,u,d){var m=new Gs(u);if(u=m.a.a.get(zt.PROVIDER_ID)||null,mw(m,null),u){var g=new Fu(vu(B(r),u),function(){g.m(),d(r,a,m.toString())},Bt(B(r)),jt(B(r)));g.render(a),Be(r,g)}else Et(r,a)};function jh(r){U.call(this,tE,void 0,r,"blank")}c(jh,U);function Xg(r,a,u,d,m){var g=new jh,w=new Gs(u),A=w.a.a.get(zt.$a)||"",D=w.a.a.get(zt.Sa)||"",z=w.a.a.get(zt.Qa)==="1",_e=pw(w),dt=w.a.a.get(zt.PROVIDER_ID)||null;w=w.a.a.get(zt.vb)||null,pI(r,w);var Fi=!pa(fa,ke(r)),_I=d||fx(D,ke(r)),Qu=(d=px(D,ke(r)))&&d.a;dt&&Qu&&Qu.providerId!==dt&&(Qu=null),g.render(a),Be(r,g),Ve(r,g.I(function(){var Ai=Lt(null);Ai=_e&&Fi||Fi&&z?sa(Error("anonymous-user-not-found")):dN(r,u).then(function(uv){if(dt&&!Qu)throw Error("pending-credential-not-found");return uv});var Xu=null;return Ai.then(function(uv){return Xu=uv,m?null:Ke(r).checkActionCode(A)}).then(function(){return Xu})},[],function(Ai){_I?Yx(r,g,_I,u,Qu,Ai):z?(g.m(),ge("differentDeviceError",r,a)):(g.m(),ge("emailLinkConfirmation",r,a,u,nI))},function(Ai){var Xu=void 0;if(!Ai||!Ai.name||Ai.name!="cancel")switch(g.m(),Ai&&Ai.message){case"anonymous-user-not-found":ge("differentDeviceError",r,a);break;case"anonymous-user-mismatch":ge("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":ge("emailLinkNewDeviceLinking",r,a,u,Gx);break;default:Ai&&(Xu=pt(Ai)),Et(r,a,void 0,Xu)}}))}function nI(r,a,u,d){Xg(r,a,d,u,!0)}function Gx(r,a,u){Xg(r,a,u)}function Yx(r,a,u,d,m,g){var w=Ct(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",nt("Signing in...").toString());var A=null;m=(g?hN(r,g,u,d,m):fN(r,u,d,m)).then(function(D){ei(mu,ke(r)),ei(fa,ke(r)),a.h(),a.$("firebaseui-icon-done",nt("Signed in!").toString()),A=setTimeout(function(){a.h(),Ar(r,a,D,!0)},1e3),Ve(r,function(){a&&(a.h(),a.m()),clearTimeout(A)})},function(D){if(a.h(),a.m(),!D.name||D.name!="cancel"){D=Ru(D);var z=pt(D);D.code=="auth/email-already-in-use"||D.code=="auth/credential-already-in-use"?(ei(mu,ke(r)),ei(fa,ke(r))):D.code=="auth/invalid-email"?(z=nt("The email provided does not match the current sign-in session.").toString(),ge("emailLinkConfirmation",r,w,d,nI,null,z)):Et(r,w,u,z)}}),Ve(r,m)}ot.emailLinkSignInCallback=Xg;function Uu(r,a,u,d,m,g){U.call(this,lE,{email:r,ga:a},g,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}c(Uu,U),Uu.prototype.v=function(){this.u(this.i),this.l().focus(),U.prototype.v.call(this)},Uu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(Uu.prototype,{l:an,u:pn});function Jx(r,a,u,d){var m=Ct(a);Yg(r,a,u,function(){Et(r,m,u)},function(g){if(!g.name||g.name!="cancel"){var w=pt(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),Et(r,m,u,w))}},d)}ot.emailLinkSignInLinking=function(r,a,u){var d=Qi(ke(r));if(Xi(ke(r)),d){var m=d.a.providerId,g=new Uu(u,vu(B(r),m),function(){Jx(r,g,u,d)},Bt(B(r)),jt(B(r)));g.render(a),Be(r,g)}else Et(r,a)};function $u(r,a,u,d,m,g){U.call(this,nE,{email:r},g,"emailLinkSignInSent",{F:d,D:m}),this.u=a,this.i=u}c($u,U),$u.prototype.v=function(){var r=this;Pt(this,this.l(),function(){r.i()}),Pt(this,Ye(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),U.prototype.v.call(this)},$u.prototype.o=function(){this.i=this.u=null,U.prototype.o.call(this)},ae($u.prototype,{l:Jt}),ot.emailLinkSignInSent=function(r,a,u,d,m){var g=new $u(u,function(){g.m(),ge("emailNotReceived",r,a,u,d,m)},function(){g.m(),d()},Bt(B(r)),jt(B(r)));g.render(a),Be(r,g)};function Bu(r,a,u,d,m,g,w){U.call(this,SE,{jc:r,Qb:a},w,"emailMismatch",{F:m,D:g}),this.l=u,this.i=d}c(Bu,U),Bu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),U.prototype.v.call(this)},Bu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(Bu.prototype,{u:an,B:Jt,w:pn}),ot.emailMismatch=function(r,a,u){var d=Qi(ke(r));if(d){var m=new Bu(u.user.email,d.g,function(){var g=m;Xi(ke(r)),Ar(r,g,u)},function(){var g=u.credential.providerId,w=Ct(m);m.m(),d.a?ge("federatedLinking",r,w,d.g,g):ge("federatedSignIn",r,w,d.g,g)},Bt(B(r)),jt(B(r)));m.render(a),Be(r,m)}else Et(r,a)};function Da(r,a,u,d,m){U.call(this,iE,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=r,this.i=a}c(Da,U),Da.prototype.v=function(){var r=this;Pt(this,this.u(),function(){r.i()}),Pt(this,this.Da(),function(){r.l()}),this.u().focus(),U.prototype.v.call(this)},Da.prototype.Da=function(){return Ye(this,"firebaseui-id-resend-email-link")},Da.prototype.o=function(){this.i=this.l=null,U.prototype.o.call(this)},ae(Da.prototype,{u:Jt}),ot.emailNotReceived=function(r,a,u,d,m){var g=new Da(function(){Yg(r,g,u,d,function(w){w=pt(w),g.a(w)},m)},function(){g.m(),Et(r,a,u)},Bt(B(r)),jt(B(r)));g.render(a),Be(r,g)};function La(r,a,u,d,m,g){U.call(this,cE,{email:r,ga:a},g,"federatedLinking",{F:d,D:m}),this.i=u}c(La,U),La.prototype.v=function(){this.u(this.i),this.l().focus(),U.prototype.v.call(this)},La.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(La.prototype,{l:an,u:pn}),ot.federatedLinking=function(r,a,u,d,m){var g=Qi(ke(r));if(g&&g.a){var w=new La(u,vu(B(r),d),function(){Pu(r,w,d,u)},Bt(B(r)),jt(B(r)));w.render(a),Be(r,w),m&&w.a(m)}else Et(r,a)},ot.federatedRedirect=function(r,a,u){var d=new jh;d.render(a),Be(r,d),a=va(B(r))[0],Pu(r,d,a,u)},ot.federatedSignIn=function(r,a,u,d,m){var g=new La(u,vu(B(r),d),function(){Pu(r,g,d,u)},Bt(B(r)),jt(B(r)));g.render(a),Be(r,g),m&&g.a(m)};function Qx(r,a,u,d){var m=a.u();m?Ve(r,a.I(le(r.Xb,r),[u,m],function(g){return g=g.user.linkWithCredential(d).then(function(w){return Ar(r,a,{user:w.user,credential:d,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Ve(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":Mt(a.i(),!1),fn(a.B(),pt(g));break;case"auth/too-many-requests":a.a(pt(g));break;default:hi("signInWithEmailAndPassword: "+g.message,void 0),a.a(pt(g))}})):a.i().focus()}ot.passwordLinking=function(r,a,u){var d=Qi(ke(r));Xi(ke(r));var m=d&&d.a;if(m){var g=new ka(u,function(){Qx(r,g,u,m)},function(){g.m(),ge("passwordRecovery",r,a,u)},Bt(B(r)),jt(B(r)));g.render(a),Be(r,g)}else Et(r,a)};function ju(r,a,u,d,m,g){U.call(this,Q1,{email:u,Ta:!!a},g,"passwordRecovery",{F:d,D:m}),this.l=r,this.u=a}c(ju,U),ju.prototype.v=function(){this.B(),this.H(this.l,this.u),hn(this.i())||this.i().focus(),Pa(this,this.i(),this.l),U.prototype.v.call(this)},ju.prototype.o=function(){this.u=this.l=null,U.prototype.o.call(this)},ae(ju.prototype,{i:Tr,w:as,B:Oa,M:xa,j:Na,U:an,P:Jt,H:pn});function Xx(r,a){var u=a.j();if(u){var d=Ct(a);Ve(r,a.I(le(Ke(r).sendPasswordResetEmail,Ke(r)),[u],function(){a.m();var m=new Dh(u,function(){m.m(),Et(r,d)},Bt(B(r)),jt(B(r)));m.render(d),Be(r,m)},function(m){Mt(a.i(),!1),fn(a.w(),pt(m))}))}else a.i().focus()}ot.passwordRecovery=function(r,a,u,d,m){var g=new ju(function(){Xx(r,g)},d?void 0:function(){g.m(),Et(r,a)},u,Bt(B(r)),jt(B(r)));g.render(a),Be(r,g),m&&g.a(m)},ot.passwordSignIn=function(r,a,u,d){var m=new Cu(function(){Bx(r,m)},function(){var g=m.M();m.m(),ge("passwordRecovery",r,a,g)},u,Bt(B(r)),jt(B(r)),d);m.render(a),Be(r,m)};function Zg(){return Ye(this,"firebaseui-id-name")}function ev(){return Ye(this,"firebaseui-id-name-error")}function Hu(r,a,u,d,m,g,w,A,D){U.call(this,J1,{email:d,Tb:r,name:m,Ta:!!u,ia:!!A},D,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=r}c(Hu,U),Hu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Su(this,this.i(),this.u()),Su(this,this.u(),this.l())):Su(this,this.i(),this.l()),this.w&&Pa(this,this.l(),this.w),hn(this.i())?this.B&&!hn(this.u())?this.u().focus():this.l().focus():this.i().focus(),U.prototype.v.call(this)},Hu.prototype.o=function(){this.H=this.w=null,U.prototype.o.call(this)},ae(Hu.prototype,{i:Tr,U:as,ea:Oa,jb:xa,j:Na,u:Zg,Bc:ev,Ja:function(){var r=Zg.call(this),a=ev.call(this);Aa(this,r,function(){Sa(a)&&(Mt(r,!0),pi(a))})},M:function(){var r=Zg.call(this),a=ev.call(this),u=hn(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Mt(r,u),u?(pi(a),a=!0):(fn(a,nt("Enter your account name").toString()),a=!1),a?L(hn(r)):null},l:Du,ba:$h,lb:Uh,ua:ZE,P:eI,Nb:an,Mb:Jt,pa:pn});function Zx(r,a){var u=h1(B(r)),d=a.j(),m=null;u&&(m=a.M());var g=a.P();if(d){if(u)if(m)m=be(m);else{a.u().focus();return}if(g){var w=Ie.auth.EmailAuthProvider.credential(d,g);Ve(r,a.I(le(r.Yb,r),[d,g],function(A){var D={user:A.user,credential:w,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo};return u?(A=A.user.updateProfile({displayName:m}).then(function(){return Ar(r,a,D)}),Ve(r,A),A):Ar(r,a,D)},function(A){if(!A.name||A.name!="cancel"){var D=Ru(A);switch(A=pt(D),D.code){case"auth/email-already-in-use":return eN(r,a,d,D);case"auth/too-many-requests":A=nt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Mt(a.l(),!1),fn(a.ba(),A);break;case"auth/admin-restricted-operation":oo(B(r))?(A=Ct(a),a.m(),ge("handleUnauthorizedUser",r,A,d,Ie.auth.EmailAuthProvider.PROVIDER_ID)):a.a(A);break;default:D="setAccountInfo: "+jb(D),hi(D,void 0),a.a(A)}}}))}else a.l().focus()}else a.i().focus()}function eN(r,a,u,d){function m(){var w=pt(d);Mt(a.i(),!1),fn(a.U(),w),a.i().focus()}var g=Ke(r).fetchSignInMethodsForEmail(u).then(function(w){w.length?m():(w=Ct(a),a.m(),ge("passwordRecovery",r,w,u,!1,$w().toString()))},function(){m()});return Ve(r,g),g}ot.passwordSignUp=function(r,a,u,d,m,g){function w(){A.m(),Et(r,a)}var A=new Hu(h1(B(r)),function(){Zx(r,A)},m?void 0:w,u,d,Bt(B(r)),jt(B(r)),g);A.render(a),Be(r,A)};function tv(){return Ye(this,"firebaseui-id-phone-confirmation-code")}function iI(){return Ye(this,"firebaseui-id-phone-confirmation-code-error")}function rI(){return Ye(this,"firebaseui-id-resend-countdown")}function Ma(r,a,u,d,m,g,w,A,D){U.call(this,PE,{phoneNumber:m},D,"phoneSignInFinish",{F:w,D:A}),this.jb=g,this.i=new Sh(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=d}c(Ma,U),Ma.prototype.v=function(){var r=this;this.U(this.jb),Di(this.i,"tick",this.w,!1,this),this.i.start(),Pt(this,Ye(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),Pt(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),U.prototype.v.call(this)},Ma.prototype.o=function(){this.M=this.H=this.l=this.P=null,Ch(this.i),eo(this.i,"tick",this.w),this.i=null,U.prototype.o.call(this)},Ma.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ch(this.i),eo(this.i,"tick",this.w),this.ua(),this.lb())},ae(Ma.prototype,{u:tv,pa:iI,Ja:function(r){var a=tv.call(this),u=iI.call(this);Aa(this,a,function(){Sa(u)&&(Mt(a,!0),pi(u))}),r&&Au(this,a,function(){r()})},ba:function(){var r=L(hn(tv.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:rI,U:function(r){qm(rI.call(this),nt("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){pi(this.Fb())},Da:function(){return Ye(this,"firebaseui-id-resend-link")},lb:function(){fn(this.Da())},Nb:an,Mb:Jt,ea:pn});function tN(r,a,u,d){function m(w){a.u().focus(),Mt(a.u(),!1),fn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",nt("Verifying...").toString()),Ve(r,a.I(le(d.confirm,d),[g],function(w){a.h(),a.$("firebaseui-icon-done",nt("Verified!").toString());var A=setTimeout(function(){a.h(),a.m();var D={user:Mi(r).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};Ar(r,a,D,!0)},1e3);Ve(r,function(){a&&a.h(),clearTimeout(A)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var A=Ru(w);switch(w=pt(A),A.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":A=Ct(a),a.h(),a.m(),ge("phoneSignInStart",r,A,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(w);break;default:a.h(),a.a(w)}}}))):m(nt("Wrong code. Try again.").toString())}ot.phoneSignInFinish=function(r,a,u,d,m,g){var w=new Ma(function(){w.m(),ge("phoneSignInStart",r,a,u)},function(){tN(r,w,u,m)},function(){w.m(),Et(r,a)},function(){w.m(),ge("phoneSignInStart",r,a,u)},Og(u),d,Bt(B(r)),jt(B(r)));w.render(a),Be(r,w),g&&w.a(g)};var nN=!Nt&&!(We("Safari")&&!(yw()||We("Coast")||We("Opera")||We("Edge")||We("Firefox")||We("FxiOS")||We("Silk")||We("Android")));function Hh(r,a){return/-[a-z]/.test(a)?null:nN&&r.dataset?!We("Android")||yw()||We("Firefox")||We("FxiOS")||We("Opera")||We("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function iN(r,a,u){var d=this;r=tu(j1,{items:r},null,this.s),q1.call(this,r,!0,!0),u&&(u=rN(r,u))&&(u.focus(),Ox(u,r)),Pt(this,r,function(m){(m=(m=Nw(m.target,"firebaseui-id-list-box-dialog-button"))&&Hh(m,"listboxid"))&&(Oh.call(d),a(m))})}function rN(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(Hh(r[u],"listboxid")===a)return r[u];return null}function lo(){return Ye(this,"firebaseui-id-phone-number")}function sI(){return Ye(this,"firebaseui-id-country-selector")}function nv(){return Ye(this,"firebaseui-id-phone-number-error")}function sN(r,a){var u=r.a,d=iv("1-US-0",u),m=null;if(a&&iv(a,u)?m=a:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");qh.call(this,m,r)}function iv(r,a){return r=so(r),!(!r||!R(a,r))}function oN(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+rv(a),label:a.name+" "+("+"+a.b)}})}function rv(r){return"firebaseui-flag-"+r.f}function aN(r){var a=this;iN.call(this,oN(r.a),function(u){qh.call(a,u,r,!0),a.O().focus()},this.Ba)}function qh(r,a,u){var d=so(r);d&&(u&&(u=L(hn(lo.call(this))||""),a=bh(a,u),a.length&&a[0].b!=d.b&&(u="+"+d.b+u.substr(a[0].b.length+1),y1(lo.call(this),u))),a=so(this.Ba),this.Ba=r,r=Ye(this,"firebaseui-id-country-selector-flag"),a&&er(r,rv(a)),Zi(r,rv(d)),qm(Ye(this,"firebaseui-id-country-selector-code"),"+"+d.b))}function qu(r,a,u,d,m,g,w,A,D,z){U.call(this,RE,{Gb:a,Aa:D||null,Va:!!u,ia:!!g},z,"phoneSignInStart",{F:d,D:m}),this.H=A||null,this.M=a,this.l=r,this.w=u||null,this.pa=w||null}c(qu,U),qu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Su(this,this.O(),this.i()),Pa(this,this.i(),this.l),this.O().focus(),Bh(this.O(),(this.O().value||"").length),U.prototype.v.call(this)},qu.prototype.o=function(){this.w=this.l=null,U.prototype.o.call(this)},ae(qu.prototype,{Cb:zg,O:lo,B:nv,ea:function(r,a,u){var d=this,m=lo.call(this),g=sI.call(this),w=nv.call(this),A=r||gu,D=A.a;if(D.length==0)throw Error("No available countries provided.");sN.call(d,A,a),Pt(this,g,function(){aN.call(d,A)}),Aa(this,m,function(){Sa(w)&&(Mt(m,!0),pi(w));var z=L(hn(m)||""),_e=so(this.Ba),dt=bh(A,z);z=iv("1-US-0",D),dt.length&&dt[0].b!=_e.b&&(_e=dt[0],qh.call(d,_e.b=="1"&&z?"1-US-0":_e.c,A))}),u&&Au(this,m,function(){u()})},U:function(r){var a=L(hn(lo.call(this))||"");r=r||gu;var u=r.a,d=bh(gu,a);if(d.length&&!R(u,d[0]))throw y1(lo.call(this)),lo.call(this).focus(),fn(nv.call(this),nt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=so(this.Ba),d.length&&d[0].b!=u.b&&qh.call(this,d[0].c,r),d.length&&(a=a.substr(d[0].b.length+1)),a?new n1(this.Ba,a):null},Ja:sI,ba:function(){return Ye(this,"firebaseui-recaptcha-container")},u:function(){return Ye(this,"firebaseui-id-recaptcha-error")},i:an,ua:Jt,P:pn});function oI(r,a,u,d){try{var m=a.U(Ug)}catch{return}m?_u?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",nt("Verifying...").toString()),Ve(r,a.I(le(r.cc,r),[Og(m),u],function(g){var w=Ct(a);a.$("firebaseui-icon-done",nt("Code sent!").toString());var A=setTimeout(function(){a.h(),a.m(),ge("phoneSignInFinish",r,w,m,15,g)},1e3);Ve(r,function(){a&&a.h(),clearTimeout(A)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(g1),_u=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=nt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),fn(a.B(),Gm().toString());return;case"auth/admin-restricted-operation":if(oo(B(r))){g=Ct(a),a.m(),ge("handleUnauthorizedUser",r,g,Og(m),Ie.auth.PhoneAuthProvider.PROVIDER_ID);return}w=pt(g);break;default:w=pt(g)}a.a(w)}}))):_a?fn(a.u(),nt("Solve the reCAPTCHA").toString()):!_a&&d&&a.i().click():(a.O().focus(),fn(a.B(),Gm().toString()))}ot.phoneSignInStart=function(r,a,u,d){var m=vx(B(r))||{};_u=null,_a=!(m&&m.size==="invisible");var g=zE(r),w=Ix(B(r)),A=g?Ex(B(r)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||A,(A=xg(B(r)))&&t1(A),Ug=A?new Xb(xg(B(r))):gu;var D=new qu(function(_e){oI(r,D,z,!(!_e||!_e.keyCode))},_a,g?null:function(){z.clear(),D.m(),Et(r,a)},Bt(B(r)),jt(B(r)),g,Ug,w,u);D.render(a),Be(r,D),d&&D.a(d),m.callback=function(_e){D.u()&&pi(D.u()),_u=_e,_a||oI(r,D,z)},m["expired-callback"]=function(){_u=null};var z=new Ie.auth.RecaptchaVerifier(_a?D.ba():D.i(),m,Mi(r).app);Ve(r,D.I(le(z.render,z),[],function(_e){g1=_e},function(_e){_e.name&&_e.name=="cancel"||(_e=pt(_e),D.m(),Et(r,a,void 0,_e))}))},ot.prefilledEmailSignIn=function(r,a,u){var d=new jh;d.render(a),Be(r,d),Ve(r,d.I(le(Ke(r).fetchSignInMethodsForEmail,Ke(r)),[u],function(m){d.m();var g=!(!Mh(r)||!uI(r));YE(r,a,m,u,void 0,g)},function(m){m=pt(m),d.m(),ge("signIn",r,a,u,m)}))};function Wu(r,a,u,d,m){U.call(this,CE,{Sb:a},m,"providerSignIn",{F:u,D:d}),this.i=r}c(Wu,U),Wu.prototype.v=function(){this.l(this.i),U.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(Wu.prototype,{l:function(r){function a(w){r(w)}for(var u=this.g?jm("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],g=Hh(m,"providerId");Pt(this,m,Q(a,g))}}}),ot.providerSignIn=function(r,a,u,d){var m=new Wu(function(g){g==Ie.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),Jg(r,a,d)):g==Ie.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ge("phoneSignInStart",r,a)):g=="anonymous"?Ux(r,m):Pu(r,m,g,d),Je(r),r.l.cancel()},o1(B(r)),Bt(B(r)),jt(B(r)));m.render(a),Be(r,m),u&&m.a(u),cN(r)},ot.sendEmailLinkForSignIn=function(r,a,u,d){var m=new Vh;m.render(a),Be(r,m),Yg(r,m,u,d,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&oo(B(r))?ge("handleUnauthorizedUser",r,a,u,Ie.auth.EmailAuthProvider.PROVIDER_ID):(g=pt(g),ge("signIn",r,a,u,g))})};function Ku(r,a,u,d,m,g,w){U.call(this,G1,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:d,D:m}),this.i=r,this.u=a}c(Ku,U),Ku.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Bh(this.l(),(this.l().value||"").length),U.prototype.v.call(this)},Ku.prototype.o=function(){this.u=this.i=null,U.prototype.o.call(this)},ae(Ku.prototype,{l:Tr,M:as,w:Oa,H:xa,j:Na,U:an,P:Jt,B:pn}),ot.signIn=function(r,a,u,d){var m=Mh(r),g=new Ku(function(){var w=g,A=w.j()||"";A&&GE(r,w,A)},m?null:function(){g.m(),Et(r,a,u)},u,Bt(B(r)),jt(B(r)),m);g.render(a),Be(r,g),d&&g.a(d)};function zu(r,a,u,d,m,g,w){U.call(this,dE,{kc:r,yb:u,Eb:!!d},w,"unauthorizedUser",{F:m,D:g}),this.l=a,this.i=d}c(zu,U),zu.prototype.v=function(){var r=this,a=Ye(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&Pt(this,a,function(){r.i()}),Pt(this,this.u(),function(){r.l()}),this.u().focus(),U.prototype.v.call(this)},zu.prototype.o=function(){this.i=this.l=null,U.prototype.o.call(this)},ae(zu.prototype,{u:Jt}),ot.handleUnauthorizedUser=function(r,a,u,d){function m(){Et(r,a)}d===Ie.auth.EmailAuthProvider.PROVIDER_ID?m=function(){Jg(r,a)}:d===Ie.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ge("phoneSignInStart",r,a)});var g=null,w=null;d===Ie.auth.EmailAuthProvider.PROVIDER_ID&&l1(B(r))?(g=wx(B(r)),w=bx(B(r))):oo(B(r))&&(g=yx(B(r)),w=_x(B(r)));var A=new zu(u,function(){A.m(),m()},g,w,Bt(B(r)),jt(B(r)));A.render(a),Be(r,A)};function Gu(r,a,u,d,m,g){U.call(this,hE,{email:r},g,"unsupportedProvider",{F:d,D:m}),this.l=a,this.i=u}c(Gu,U),Gu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),U.prototype.v.call(this)},Gu.prototype.o=function(){this.i=this.l=null,U.prototype.o.call(this)},ae(Gu.prototype,{u:an,B:Jt,w:pn}),ot.unsupportedProvider=function(r,a,u){var d=new Gu(u,function(){d.m(),ge("passwordRecovery",r,a,u)},function(){d.m(),Et(r,a,u)},Bt(B(r)),jt(B(r)));d.render(a),Be(r,d)};function tr(r,a){this.$=!1;var u=sv(a);if(Yu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Yu[u]=this,this.a=r,this.u=null,this.Y=!1,aI(this.a),this.h=Ie.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),aI(this.h),this.h.setPersistence&&this.h.setPersistence(Ie.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new gx,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=cg.Xa(),this.j=this.C=null,this.da=this.A=!1}function aI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Yu={};function sv(r){return r||"[DEFAULT]"}function lI(r){return Je(r),r.i||(r.i=Sr(r,function(a){return a&&!Qi(ke(r))?Lt(Mi(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return us(r,u)})):Lt(Ke(r).getRedirectResult().then(function(u){return Eh(B(r))&&!u.user&&r.j&&!r.j.isAnonymous?Mi(r).getRedirectResult():u}))})),r.i}function Be(r,a){Je(r),r.g=a}var Va=null;function Ke(r){return Je(r),r.h}function Mi(r){return Je(r),r.a}function ke(r){return Je(r),r.oa}function uI(r){return Je(r),r.O?r.O.emailHint:void 0}t=tr.prototype,t.nb=function(){return Je(this),!!Sg(ke(this))||cI(Ir())};function cI(r){return r=new Gs(r),(r.a.a.get(zt.ub)||null)==="signIn"&&!!r.a.a.get(zt.$a)}t.start=function(r,a){dI(this,r,a)};function dI(r,a,u,d){Je(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=d||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?Wh(r,a):ou(window,"load",function(){Wh(r,a)})}):g.readyState=="complete"?Wh(r,a):ou(window,"load",function(){Wh(r,a)})}function Wh(r,a){var u=eh(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Va){var d=Va;Je(d),Qi(ke(d))&&ss("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Va.reset()}if(Va=r,r.T=u,uN(r,u),wh(new Eg)&&wh(new Ig)){a=eh(a,"Could not find the FirebaseUI widget element on the page."),u=Ir(),d=Pg(B(r).a,"queryParameterForSignInSuccessUrl"),u=(u=Fd(u,d))?Xr($d(u)).toString():null;e:{d=Ir();var m=d1(B(r));d=Fd(d,m)||"";for(g in Fg)if(Fg[g].toLowerCase()==d.toLowerCase()){var g=Fg[g];break e}g="callback"}switch(g){case"callback":u&&(g=ke(r),ma(pu,u,g)),r.nb()?ge("callback",r,a):Et(r,a,uI(r));break;case"resetPassword":ge("passwordReset",r,a,ku(),Qg());break;case"recoverEmail":ge("emailChangeRevocation",r,a,ku());break;case"revertSecondFactorAddition":ge("revertSecondFactorAddition",r,a,ku());break;case"verifyEmail":ge("emailVerification",r,a,ku(),Qg());break;case"verifyAndChangeEmail":ge("verifyAndChangeEmail",r,a,ku(),Qg());break;case"signIn":ge("emailLinkSignInCallback",r,a,Ir()),mI();break;case"select":u&&(g=ke(r),ma(pu,u,g)),Et(r,a);break;default:throw Error("Unhandled widget operation.")}a=B(r),(a=yu(a).uiShown||null)&&a()}else a=eh(a,"Could not find the FirebaseUI widget element on the page."),g=new WE(nt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),Be(r,g);a=r.g&&r.g.Ga=="blank"&&Ng(B(r)),Sg(ke(r))&&!a&&(a=Sg(ke(r)),pI(r,a.a),ei(ro,ke(r)))}function Sr(r,a){if(r.A)return a(hI(r));if(Ve(r,function(){r.A=!1}),Eh(B(r))){var u=new Yt(function(d){Ve(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,d(a(hI(r))))}))});return Ve(r,u),u}return r.A=!0,a(null)}function hI(r){return Je(r),Eh(B(r))&&r.j&&r.j.isAnonymous?r.j:null}function Ve(r,a){if(Je(r),a){r.s.push(a);var u=function(){st(r.s,function(d){return d==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){Je(this),this.Z=!0};function lN(r){Je(r);var a;return(a=r.Z)||(r=B(r),r=c1(r,Ie.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function fI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function pI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){Je(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&HO(this.J),fI(this),this.O=null,mI(),ei(ro,ke(this)),Je(this),this.l.cancel(),this.i=Lt({user:null,credential:null}),Va==this&&(Va=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],Xi(ke(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=ls(this).then(function(){r.C=null},function(){r.C=null}))};function uN(r,a){r.L=null,r.J=new Xd(a),r.J.register(),Di(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var d=B(r);(d=yu(d).uiChanged||null)&&d(r.L,u),r.L=u}})}t.ib=function(r){Je(this);var a=this.ca,u;for(u in r)try{Rg(a.a,u,r[u])}catch{hi('Invalid config: "'+u+'"',void 0)}cO&&Rg(a.a,"popupMode",!1),xg(a),!this.da&&Dg(B(this))&&(ss("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function B(r){return Je(r),r.ca}t.Wb=function(){Je(this);var r=B(this),a=Pg(r.a,"widgetUrl");r=d1(r);for(var u=a.search(cw),d=0,m,g=[];0<=(m=uw(a,d,r,u));)g.push(a.substring(d,m)),d=Math.min(a.indexOf("&",m)+1||u,u);g.push(a.substr(d)),a=g.join("").replace(Z2,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),d=a.indexOf("?"),0>d||d>u?(d=u,m=""):m=a.substring(d+1,u),a=[a.substr(0,d),m,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,B(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=hb(u,r))&&r.focus()):ra(window.location,u)};function Je(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return Je(this),this.h.app.delete().then(function(){var a=sv(ke(r));delete Yu[a],r.reset(),r.$=!0})};function cN(r){Je(r);try{yb(r.l,a1(B(r)),lN(r)).then(function(a){return r.g?$x(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){Je(this);var u=this,d=JO();if(!ya(B(this)))return sa(Error("Email link sign-in should be enabled to trigger email sending."));var m=Ax(B(this)),g=new Gs(m.url);return oO(g,d),a&&a.a&&(mx(d,a,ke(this)),mw(g,a.a.providerId)),aO(g,Tx(B(this))),Sr(this,function(w){return w&&((w=w.uid)?g.a.a.set(zt.Pa,w):zs(g.a.a,zt.Pa)),m.url=g.toString(),Ke(u).sendSignInLinkToEmail(r,m)}).then(function(){var w=ke(u),A={};A.email=r,ma(fa,Ub(d,JSON.stringify(A)),w)},function(w){throw ei(mu,ke(u)),ei(fa,ke(u)),w})};function dN(r,a){var u=pw(new Gs(a));return u?(a=new Yt(function(d,m){var g=Mi(r).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?d(w):w&&w.isAnonymous&&w.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Ve(r,g)}),Ve(r,a),a):Lt(null)}function hN(r,a,u,d,m){Je(r);var g=m||null,w=Ie.auth.EmailAuthProvider.credentialWithLink(u,d);return u=g?Ke(r).signInWithEmailLink(u,d).then(function(A){return A.user.linkWithCredential(g)}).then(function(){return ls(r)}).then(function(){return us(r,{code:"auth/email-already-in-use"},g)}):Ke(r).fetchSignInMethodsForEmail(u).then(function(A){return A.length?us(r,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Ve(r,u),u}function fN(r,a,u,d){Je(r);var m=d||null,g;return a=Ke(r).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},m)return w.user.linkWithCredential(m).then(function(A){g={user:A.user,credential:m,operationType:g.operationType,additionalUserInfo:A.additionalUserInfo}})}).then(function(){ls(r)}).then(function(){return Mi(r).updateCurrentUser(g.user)}).then(function(){return g.user=Mi(r).currentUser,g}),Ve(r,a),a}function mI(){var r=Ir();if(cI(r)){r=new Gs(r);for(var a in zt)zt.hasOwnProperty(a)&&zs(r.a.a,zt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){Je(this);var u=this;return Ke(this).signInWithEmailAndPassword(r,a).then(function(d){return Sr(u,function(m){return m?ls(u).then(function(){return us(u,{code:"auth/email-already-in-use"},Ie.auth.EmailAuthProvider.credential(r,a))}):d})})},t.Yb=function(r,a){Je(this);var u=this;return Sr(this,function(d){if(d){var m=Ie.auth.EmailAuthProvider.credential(r,a);return d.linkWithCredential(m)}return Ke(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){Je(this);var a=this;return Sr(this,function(u){return u?u.linkWithCredential(r).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return us(a,d,r)}):Ke(a).signInWithCredential(r)})};function pN(r,a){return Je(r),Sr(r,function(u){return u&&!Qi(ke(r))?u.linkWithPopup(a).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return us(r,d)}):Ke(r).signInWithPopup(a)})}t.dc=function(r){Je(this);var a=this,u=this.i;return this.i=null,Sr(this,function(d){return d&&!Qi(ke(a))?d.linkWithRedirect(r):Ke(a).signInWithRedirect(r)}).then(function(){},function(d){throw a.i=u,d})},t.cc=function(r,a){Je(this);var u=this;return Sr(this,function(d){return d?d.linkWithPhoneNumber(r,a).then(function(m){return new hg(m,function(g){if(g.code=="auth/credential-already-in-use")return us(u,g);throw g})}):Mi(u).signInWithPhoneNumber(r,a).then(function(m){return new hg(m)})})},t.$b=function(){return Je(this),Mi(this).signInAnonymously()};function mN(r,a){return Je(r),Sr(r,function(u){if(r.j&&!r.j.isAnonymous&&Eh(B(r))&&!Ke(r).currentUser)return ls(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return ls(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(d){return a.user=d.user,a.credential=d.credential,a.operationType=d.operationType,a.additionalUserInfo=d.additionalUserInfo,a},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return us(r,d,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return ls(r).then(function(){return Mi(r).updateCurrentUser(a.user)}).then(function(){return a.user=Mi(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return Je(this),Ke(this).signInWithEmailAndPassword(r,a)};function ls(r){return Je(r),Ke(r).signOut()}function us(r,a,u){if(Je(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var d=m1(B(r));return Lt().then(function(){return d(new nu("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return sa(a)}function Ju(r,a,u,d){U.call(this,xE,void 0,d,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(Ju,U),Ju.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Bh(this.l(),(this.l().value||"").length),U.prototype.v.call(this)},Ju.prototype.o=function(){this.i=null,U.prototype.o.call(this)},ae(Ju.prototype,{l:Tr,H:as,u:Oa,B:xa,j:Na,M:an,w:pn});function Kh(r,a,u,d,m){U.call(this,OE,{ec:a},m,"selectTenant",{F:u,D:d}),this.i=r}c(Kh,U),Kh.prototype.v=function(){gN(this,this.i),U.prototype.v.call(this)},Kh.prototype.o=function(){this.i=null,U.prototype.o.call(this)};function gN(r,a){function u(A){a(A)}for(var d=r.g?jm("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<d.length;m++){var g=d[m],w=Hh(g,"tenantId");Pt(r,g,Q(u,w))}}function ov(r){U.call(this,eE,void 0,r,"spinner")}c(ov,U);function vN(r){this.a=new Cg,$t(this.a,"authDomain"),$t(this.a,"displayMode",Gh),$t(this.a,"tenants"),$t(this.a,"callbacks"),$t(this.a,"tosUrl"),$t(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{Rg(this.a,a,r[a])}catch{hi('Invalid config: "'+a+'"',void 0)}}function yN(r){r=r.a.get("displayMode");for(var a in lv)if(lv[a]===r)return lv[a];return Gh}function zh(r){return r.a.get("callbacks")||{}}function gI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&ss("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){aa(a)}}return null}function vI(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&ss("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){aa(u)}}return null}function av(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(Yh))throw Error("Invalid tenant configuration!")}function yI(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var d=[];if(r=r[a]||r[Yh],!r)return hi("Invalid tenant configuration: "+(a+" is not configured!"),void 0),d;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),hi(m,void 0)}),d}function _N(r,a,u){return r=wN(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),r.signInOptions=a),r}function wN(r,a){var u=bN,d=d===void 0?{}:d;return av(r,a),r=r.a.get("tenants"),QO(r[a]||r[Yh],u,d)}var bN=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Gh="optionFirst",lv={pc:Gh,oc:"identifierFirst"},Yh="*";function Vi(r,a){var u=this;this.s=eh(r),this.a={},Object.keys(a).forEach(function(d){u.a[d]=new vN(a[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=Vi.prototype,t.Ub=function(r,a){var u=this;cs(this);var d=r.apiKey;return new Yt(function(m,g){if(u.a.hasOwnProperty(d)){var w=zh(u.a[d]).selectTenantUiHidden||null;if(yN(u.a[d])===Gh){var A=[];a.forEach(function(_e){_e=_e||"_";var dt=u.a[d].a.get("tenants");if(!dt)throw Error("Invalid tenant configuration!");(dt=dt[_e]||dt[Yh])?_e={tenantId:_e!=="_"?_e:null,V:dt.fullLabel||null,displayName:dt.displayName,za:dt.iconUrl,ta:dt.buttonColor}:(hi("Invalid tenant configuration: "+(_e+" is not configured!"),void 0),_e=null),_e&&A.push(_e)});var D=function(_e){_e={tenantId:_e,providerIds:yI(u.a[d],_e||"_")},m(_e)};if(A.length===1){D(A[0].tenantId);return}u.g=new Kh(function(_e){cs(u),w&&w(),D(_e)},A,gI(u.a[d]),vI(u.a[d]))}else u.g=new Ju(function(){var _e=u.g.j();if(_e){for(var dt=0;dt<a.length;dt++){var Fi=yI(u.a[d],a[dt]||"_",_e);if(Fi.length!==0){_e={tenantId:a[dt],providerIds:Fi,email:_e},cs(u),w&&w(),m(_e);return}}u.g.a(Bw({code:"no-matching-tenant-for-email"}).toString())}},gI(u.a[d]),vI(u.a[d]));u.g.render(u.s),(g=zh(u.a[d]).selectTenantUiShown||null)&&g()}else{var z=Error("Invalid project configuration: API key is invalid!");z.code="invalid-configuration",u.pb(z),g(z)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;av(this.a[r],a||"_");try{this.i=Ie.app(u).auth()}catch{var d=this.a[r].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");r=Ie.initializeApp({apiKey:r,authDomain:d},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new Yt(function(d,m){function g(dt,Fi){u.j=new tr(r),dI(u.j,u.s,dt,Fi)}var w=r.app.options.apiKey;u.a.hasOwnProperty(w)||m(Error("Invalid project configuration: API key is invalid!"));var A=_N(u.a[w],r.tenantId||"_",a&&a.providerIds);cs(u),m={signInSuccessWithAuthResult:function(dt){return d(dt),!1}};var D=zh(u.a[w]).signInUiShown||null,z=!1;m.uiChanged=function(dt,Fi){dt===null&&Fi==="callback"?((dt=Hm("firebaseui-id-page-callback",u.s))&&pi(dt),u.h=new ov,u.h.render(u.s)):z||dt===null&&Fi==="spinner"||Fi==="blank"||(u.h&&(u.h.m(),u.h=null),z=!0,D&&D(r.tenantId))},A.callbacks=m,A.credentialHelper="none";var _e;a&&a.email&&(_e={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(A,_e)}):g(A,_e)})},t.reset=function(){var r=this;return Lt().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,cs(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){cs(r),r.h=new ov,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return cs(this),this.g=new $E,this.g.render(this.s),Lt()};function cs(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=Bw({code:r.code}).toString()||r.message;cs(this);var d;r.retry&&typeof r.retry=="function"&&(d=function(){a.reset(),r.retry()}),this.g=new qE(u,d),this.g.render(this.s)},t.Rb=function(r){var a=this;return Lt().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(av(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=zh(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},Re("firebaseui.auth.FirebaseUiHandler",Vi),Re("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Vi.prototype.Ub),Re("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Vi.prototype.Pb),Re("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Vi.prototype.Zb),Re("firebaseui.auth.FirebaseUiHandler.prototype.reset",Vi.prototype.reset),Re("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Vi.prototype.Vb),Re("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Vi.prototype.mb),Re("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Vi.prototype.Bb),Re("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Vi.prototype.pb),Re("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Vi.prototype.Rb),Re("firebaseui.auth.AuthUI",tr),Re("firebaseui.auth.AuthUI.getInstance",function(r){return r=sv(r),Yu[r]?Yu[r]:null}),Re("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",tr.prototype.Db),Re("firebaseui.auth.AuthUI.prototype.start",tr.prototype.start),Re("firebaseui.auth.AuthUI.prototype.setConfig",tr.prototype.ib),Re("firebaseui.auth.AuthUI.prototype.signIn",tr.prototype.Wb),Re("firebaseui.auth.AuthUI.prototype.reset",tr.prototype.reset),Re("firebaseui.auth.AuthUI.prototype.delete",tr.prototype.Wa),Re("firebaseui.auth.AuthUI.prototype.isPendingRedirect",tr.prototype.nb),Re("firebaseui.auth.AuthUIError",nu),Re("firebaseui.auth.AuthUIError.prototype.toJSON",nu.prototype.toJSON),Re("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Lg),Re("firebaseui.auth.CredentialHelper.NONE",Th),Re("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Yt.prototype.catch=Yt.prototype.Ca,Yt.prototype.finally=Yt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=v6);var y6=firebaseui.auth;const dm=vp(V9),_r=o9(dm);Bn(dm,"northamerica-northeast1");const ok=CC(dm),yW=new y6.AuthUI(ok),_6=p5(dm);f5(_6);const Xo=t=>{console.error(`Error fetching documents with conditions: ${t}`)},w6=async t=>{try{return(await jr(_l(_r,t))).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return Xo(e),[]}},_W=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=Ls(_l(_r,t),Es(e,n,i));return(await jr(s)).docs.map(c=>c.data())}catch(s){return Xo(s),[]}},wW=async(t,e,n,i)=>{console.log("getPaginatedDocuments",t,e,n,i);try{if(i){const s=Ls(_l(_r,t),bl(...e),k0(i),El(n)),o=await jr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}else{const s=Ls(_l(_r,t),bl(...e),El(n)),o=await jr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}}catch(s){return Xo(s),{lastVisible:{},docs:[]}}},bW=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=Ls(_l(_r,t),Es(e,n,i),bl(e),k0(l),El(o)),h=await jr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,p),{lastVisible:p,docs:f}}else{const c=Ls(w0(_r,t),Es(e,n,i),bl(...s),El(o)),h=await jr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,p),{lastVisible:p,docs:f}}}catch(c){return Xo(c),{lastVisible:{},docs:[]}}},EW=async(t,e,n,i,s,o,l,c,h,f)=>{try{if(f){const p=Ls(_l(_r,t),Es(e,n,i),Es(s,o,l),bl(e),k0(f),El(h)),v=await jr(p),y=v.docs.map(T=>({id:T.id,...T.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}else{const p=Ls(w0(_r,t),Es(e,n,i),Es(s,o,l),bl(...c),El(h)),v=await jr(p),y=v.docs.map(T=>({id:T.id,...T.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}}catch(p){return Xo(p),{lastVisible:{},docs:[]}}},xy=async(t,e)=>{try{console.log("getDocument",t,e);const n=PP(_r,t,e),i=await _9(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return Xo(n),[]}},IW=async(t,e)=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const n=Ls(w0(_r,t),Es("id","==",e)),i=await jr(n);if(i.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const s=i.docs[0];return console.log("queryForCollectionGroupDocumentById",s.data()),{id:s.id,...s.data()}}catch(n){return Xo(n),null}},TW=t=>t instanceof nn,AW=t=>t.toDate();function M0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Tt={},nl=[],Bi=()=>{},b6=()=>!1,E6=/^on[^a-z]/,hm=t=>E6.test(t),V0=t=>t.startsWith("onUpdate:"),un=Object.assign,F0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},I6=Object.prototype.hasOwnProperty,it=(t,e)=>I6.call(t,e),Ce=Array.isArray,il=t=>Nd(t)==="[object Map]",fm=t=>Nd(t)==="[object Set]",eA=t=>Nd(t)==="[object Date]",Fe=t=>typeof t=="function",qt=t=>typeof t=="string",Il=t=>typeof t=="symbol",_t=t=>t!==null&&typeof t=="object",ak=t=>(_t(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),lk=Object.prototype.toString,Nd=t=>lk.call(t),T6=t=>Nd(t).slice(8,-1),uk=t=>Nd(t)==="[object Object]",U0=t=>qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sf=M0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},A6=/-(\w)/g,Tl=pm(t=>t.replace(A6,(e,n)=>n?n.toUpperCase():"")),S6=/\B([A-Z])/g,Bl=pm(t=>t.replace(S6,"-$1").toLowerCase()),ck=pm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nv=pm(t=>t?`on${ck(t)}`:""),qo=(t,e)=>!Object.is(t,e),Cf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},sp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},C6=t=>{const e=qt(t)?Number(t):NaN;return isNaN(e)?t:e};let tA;const Ny=()=>tA||(tA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $0(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=qt(i)?O6(i):$0(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(qt(t)||_t(t))return t}const R6=/;(?![^(]*\))/g,P6=/:([^]+)/,k6=/\/\*[^]*?\*\//g;function O6(t){const e={};return t.replace(k6,"").split(R6).forEach(n=>{if(n){const i=n.split(P6);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Tn(t){let e="";if(qt(t))e=t;else if(Ce(t))for(let n=0;n<t.length;n++){const i=Tn(t[n]);i&&(e+=i+" ")}else if(_t(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const x6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",N6=M0(x6);function dk(t){return!!t||t===""}function D6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=mm(t[i],e[i]);return n}function mm(t,e){if(t===e)return!0;let n=eA(t),i=eA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Il(t),i=Il(e),n||i)return t===e;if(n=Ce(t),i=Ce(e),n||i)return n&&i?D6(t,e):!1;if(n=_t(t),i=_t(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!mm(t[l],e[l]))return!1}}return String(t)===String(e)}function L6(t,e){return t.findIndex(n=>mm(n,e))}const Zc=t=>qt(t)?t:t==null?"":Ce(t)||_t(t)&&(t.toString===lk||!Fe(t.toString))?JSON.stringify(t,hk,2):String(t),hk=(t,e)=>e&&e.__v_isRef?hk(t,e.value):il(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:fm(e)?{[`Set(${e.size})`]:[...e.values()]}:_t(e)&&!Ce(e)&&!uk(e)?String(e):e;let gi;class fk{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gi,!e&&gi&&(this.index=(gi.scopes||(gi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=gi;try{return gi=this,e()}finally{gi=n}}}on(){gi=this}off(){gi=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function pk(t){return new fk(t)}function M6(t,e=gi){e&&e.active&&e.effects.push(t)}function mk(){return gi}function V6(t){gi&&gi.cleanups.push(t)}const B0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},gk=t=>(t.w&Ms)>0,vk=t=>(t.n&Ms)>0,F6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ms},U6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];gk(s)&&!vk(s)?s.delete(t):e[n++]=s,s.w&=~Ms,s.n&=~Ms}e.length=n}},op=new WeakMap;let vc=0,Ms=1;const Dy=30;let Ui;const Do=Symbol(""),Ly=Symbol("");class j0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,M6(this,i)}run(){if(!this.active)return this.fn();let e=Ui,n=Cs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ui,Ui=this,Cs=!0,Ms=1<<++vc,vc<=Dy?F6(this):nA(this),this.fn()}finally{vc<=Dy&&U6(this),Ms=1<<--vc,Ui=this.parent,Cs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ui===this?this.deferStop=!0:this.active&&(nA(this),this.onStop&&this.onStop(),this.active=!1)}}function nA(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Cs=!0;const yk=[];function jl(){yk.push(Cs),Cs=!1}function Hl(){const t=yk.pop();Cs=t===void 0?!0:t}function ai(t,e,n){if(Cs&&Ui){let i=op.get(t);i||op.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=B0()),_k(s)}}function _k(t,e){let n=!1;vc<=Dy?vk(t)||(t.n|=Ms,n=!gk(t)):n=!t.has(Ui),n&&(t.add(Ui),Ui.deps.push(t))}function Lr(t,e,n,i,s,o){const l=op.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Ce(t)){const h=Number(i);l.forEach((f,p)=>{(p==="length"||!Il(p)&&p>=h)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Ce(t)?U0(n)&&c.push(l.get("length")):(c.push(l.get(Do)),il(t)&&c.push(l.get(Ly)));break;case"delete":Ce(t)||(c.push(l.get(Do)),il(t)&&c.push(l.get(Ly)));break;case"set":il(t)&&c.push(l.get(Do));break}if(c.length===1)c[0]&&My(c[0]);else{const h=[];for(const f of c)f&&h.push(...f);My(B0(h))}}function My(t,e){const n=Ce(t)?t:[...t];for(const i of n)i.computed&&iA(i);for(const i of n)i.computed||iA(i)}function iA(t,e){(t!==Ui||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function $6(t,e){var n;return(n=op.get(t))==null?void 0:n.get(e)}const B6=M0("__proto__,__v_isRef,__isVue"),wk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Il)),rA=j6();function j6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ne(this);for(let o=0,l=this.length;o<l;o++)ai(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ne)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){jl();const i=Ne(this)[e].apply(this,n);return Hl(),i}}),t}function H6(t){const e=Ne(this);return ai(e,"has",t),e.hasOwnProperty(t)}class bk{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?n$:Ak:o?Tk:Ik).get(e))return e;const l=Ce(e);if(!s){if(l&&it(rA,n))return Reflect.get(rA,n,i);if(n==="hasOwnProperty")return H6}const c=Reflect.get(e,n,i);return(Il(n)?wk.has(n):B6(n))||(s||ai(e,"get",n),o)?c:kt(c)?l&&U0(n)?c:c.value:_t(c)?s?Ck(c):si(c):c}}class Ek extends bk{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(Al(o)&&kt(o)&&!kt(i))return!1;if(!this._shallow&&(!ap(i)&&!Al(i)&&(o=Ne(o),i=Ne(i)),!Ce(e)&&kt(o)&&!kt(i)))return o.value=i,!0;const l=Ce(e)&&U0(n)?Number(n)<e.length:it(e,n),c=Reflect.set(e,n,i,s);return e===Ne(s)&&(l?qo(i,o)&&Lr(e,"set",n,i):Lr(e,"add",n,i)),c}deleteProperty(e,n){const i=it(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Lr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Il(n)||!wk.has(n))&&ai(e,"has",n),i}ownKeys(e){return ai(e,"iterate",Ce(e)?"length":Do),Reflect.ownKeys(e)}}class q6 extends bk{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const W6=new Ek,K6=new q6,z6=new Ek(!0),H0=t=>t,gm=t=>Reflect.getPrototypeOf(t);function af(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ne(t),o=Ne(e);n||(qo(e,o)&&ai(s,"get",e),ai(s,"get",o));const{has:l}=gm(s),c=i?H0:n?K0:ed;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function lf(t,e=!1){const n=this.__v_raw,i=Ne(n),s=Ne(t);return e||(qo(t,s)&&ai(i,"has",t),ai(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function uf(t,e=!1){return t=t.__v_raw,!e&&ai(Ne(t),"iterate",Do),Reflect.get(t,"size",t)}function sA(t){t=Ne(t);const e=Ne(this);return gm(e).has.call(e,t)||(e.add(t),Lr(e,"add",t,t)),this}function oA(t,e){e=Ne(e);const n=Ne(this),{has:i,get:s}=gm(n);let o=i.call(n,t);o||(t=Ne(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?qo(e,l)&&Lr(n,"set",t,e):Lr(n,"add",t,e),this}function aA(t){const e=Ne(this),{has:n,get:i}=gm(e);let s=n.call(e,t);s||(t=Ne(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Lr(e,"delete",t,void 0),o}function lA(){const t=Ne(this),e=t.size!==0,n=t.clear();return e&&Lr(t,"clear",void 0,void 0),n}function cf(t,e){return function(i,s){const o=this,l=o.__v_raw,c=Ne(l),h=e?H0:t?K0:ed;return!t&&ai(c,"iterate",Do),l.forEach((f,p)=>i.call(s,h(f),h(p),o))}}function df(t,e,n){return function(...i){const s=this.__v_raw,o=Ne(s),l=il(o),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,f=s[t](...i),p=n?H0:e?K0:ed;return!e&&ai(o,"iterate",h?Ly:Do),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:c?[p(v[0]),p(v[1])]:p(v),done:y}},[Symbol.iterator](){return this}}}}function hs(t){return function(...e){return t==="delete"?!1:this}}function G6(){const t={get(o){return af(this,o)},get size(){return uf(this)},has:lf,add:sA,set:oA,delete:aA,clear:lA,forEach:cf(!1,!1)},e={get(o){return af(this,o,!1,!0)},get size(){return uf(this)},has:lf,add:sA,set:oA,delete:aA,clear:lA,forEach:cf(!1,!0)},n={get(o){return af(this,o,!0)},get size(){return uf(this,!0)},has(o){return lf.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:cf(!0,!1)},i={get(o){return af(this,o,!0,!0)},get size(){return uf(this,!0)},has(o){return lf.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:cf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=df(o,!1,!1),n[o]=df(o,!0,!1),e[o]=df(o,!1,!0),i[o]=df(o,!0,!0)}),[t,n,e,i]}const[Y6,J6,Q6,X6]=G6();function q0(t,e){const n=e?t?X6:Q6:t?J6:Y6;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(it(n,s)&&s in i?n:i,s,o)}const Z6={get:q0(!1,!1)},e$={get:q0(!1,!0)},t$={get:q0(!0,!1)},Ik=new WeakMap,Tk=new WeakMap,Ak=new WeakMap,n$=new WeakMap;function i$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function r$(t){return t.__v_skip||!Object.isExtensible(t)?0:i$(T6(t))}function si(t){return Al(t)?t:W0(t,!1,W6,Z6,Ik)}function Sk(t){return W0(t,!1,z6,e$,Tk)}function Ck(t){return W0(t,!0,K6,t$,Ak)}function W0(t,e,n,i,s){if(!_t(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=r$(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Mr(t){return Al(t)?Mr(t.__v_raw):!!(t&&t.__v_isReactive)}function Al(t){return!!(t&&t.__v_isReadonly)}function ap(t){return!!(t&&t.__v_isShallow)}function Rk(t){return Mr(t)||Al(t)}function Ne(t){const e=t&&t.__v_raw;return e?Ne(e):t}function vm(t){return rp(t,"__v_skip",!0),t}const ed=t=>_t(t)?si(t):t,K0=t=>_t(t)?Ck(t):t;function Pk(t){Cs&&Ui&&(t=Ne(t),_k(t.dep||(t.dep=B0())))}function kk(t,e){t=Ne(t);const n=t.dep;n&&My(n)}function kt(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return xk(t,!1)}function Ok(t){return xk(t,!0)}function xk(t,e){return kt(t)?t:new s$(t,e)}class s${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ne(e),this._value=n?e:ed(e)}get value(){return Pk(this),this._value}set value(e){const n=this.__v_isShallow||ap(e)||Al(e);e=n?e:Ne(e),qo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ed(e),kk(this))}}function M(t){return kt(t)?t.value:t}const o$={get:(t,e,n)=>M(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return kt(s)&&!kt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function Nk(t){return Mr(t)?t:new Proxy(t,o$)}function a$(t){const e=Ce(t)?new Array(t.length):{};for(const n in t)e[n]=Dk(t,n);return e}class l${constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $6(Ne(this._object),this._key)}}class u${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function c$(t,e,n){return kt(t)?t:Fe(t)?new u$(t):_t(t)&&arguments.length>1?Dk(t,e,n):ie(t)}function Dk(t,e,n){const i=t[e];return kt(i)?i:new l$(t,e,n)}class d${constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new j0(e,()=>{this._dirty||(this._dirty=!0,kk(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ne(this);return Pk(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function h$(t,e,n=!1){let i,s;const o=Fe(t);return o?(i=t,s=Bi):(i=t.get,s=t.set),new d$(i,s,o||!s,n)}function Rs(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){ym(o,e,n)}return s}function ki(t,e,n,i){if(Fe(t)){const o=Rs(t,e,n,i);return o&&ak(o)&&o.catch(l=>{ym(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(ki(t[o],e,n,i));return s}function ym(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){Rs(h,null,10,[t,l,c]);return}}f$(t,n,s,i)}function f$(t,e,n,i=!0){console.error(t)}let td=!1,Vy=!1;const Mn=[];let cr=0;const rl=[];let Rr=null,vo=0;const Lk=Promise.resolve();let z0=null;function ji(t){const e=z0||Lk;return t?e.then(this?t.bind(this):t):e}function p$(t){let e=cr+1,n=Mn.length;for(;e<n;){const i=e+n>>>1,s=Mn[i],o=nd(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function G0(t){(!Mn.length||!Mn.includes(t,td&&t.allowRecurse?cr+1:cr))&&(t.id==null?Mn.push(t):Mn.splice(p$(t.id),0,t),Mk())}function Mk(){!td&&!Vy&&(Vy=!0,z0=Lk.then(Fk))}function m$(t){const e=Mn.indexOf(t);e>cr&&Mn.splice(e,1)}function g$(t){Ce(t)?rl.push(...t):(!Rr||!Rr.includes(t,t.allowRecurse?vo+1:vo))&&rl.push(t),Mk()}function uA(t,e=td?cr+1:0){for(;e<Mn.length;e++){const n=Mn[e];n&&n.pre&&(Mn.splice(e,1),e--,n())}}function Vk(t){if(rl.length){const e=[...new Set(rl)];if(rl.length=0,Rr){Rr.push(...e);return}for(Rr=e,Rr.sort((n,i)=>nd(n)-nd(i)),vo=0;vo<Rr.length;vo++)Rr[vo]();Rr=null,vo=0}}const nd=t=>t.id==null?1/0:t.id,v$=(t,e)=>{const n=nd(t)-nd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Fk(t){Vy=!1,td=!0,Mn.sort(v$);const e=Bi;try{for(cr=0;cr<Mn.length;cr++){const n=Mn[cr];n&&n.active!==!1&&Rs(n,null,14)}}finally{cr=0,Mn.length=0,Vk(),td=!1,z0=null,(Mn.length||rl.length)&&Fk()}}function y$(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Tt;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:y}=i[p]||Tt;y&&(s=n.map(b=>qt(b)?b.trim():b)),v&&(s=n.map(sp))}let c,h=i[c=Nv(e)]||i[c=Nv(Tl(e))];!h&&o&&(h=i[c=Nv(Bl(e))]),h&&ki(h,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,ki(f,t,6,s)}}function Uk(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!Fe(t)){const h=f=>{const p=Uk(f,e,!0);p&&(c=!0,un(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!o&&!c?(_t(t)&&i.set(t,null),null):(Ce(o)?o.forEach(h=>l[h]=null):un(l,o),_t(t)&&i.set(t,l),l)}function _m(t,e){return!t||!hm(e)?!1:(e=e.slice(2).replace(/Once$/,""),it(t,e[0].toLowerCase()+e.slice(1))||it(t,Bl(e))||it(t,e))}let Cn=null,$k=null;function lp(t){const e=Cn;return Cn=t,$k=t&&t.type.__scopeId||null,e}function he(t,e=Cn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&bA(-1);const o=lp(e);let l;try{l=t(...s)}finally{lp(o),i._d&&bA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Dv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:h,emit:f,render:p,renderCache:v,data:y,setupState:b,ctx:T,inheritAttrs:_}=t;let E,I;const P=lp(t);try{if(n.shapeFlag&4){const x=s||i;E=rr(p.call(x,x,v,o,b,y,T)),I=h}else{const x=e;E=rr(x.length>1?x(o,{attrs:h,slots:c,emit:f}):x(o,null)),I=e.props?h:_$(h)}}catch(x){kc.length=0,ym(x,t,1),E=X(Oi)}let k=E;if(I&&_!==!1){const x=Object.keys(I),{shapeFlag:V}=k;x.length&&V&7&&(l&&x.some(V0)&&(I=w$(I,l)),k=Hr(k,I))}return n.dirs&&(k=Hr(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),E=k,lp(P),E}const _$=t=>{let e;for(const n in t)(n==="class"||n==="style"||hm(n))&&((e||(e={}))[n]=t[n]);return e},w$=(t,e)=>{const n={};for(const i in t)(!V0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function b$(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:h}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?cA(i,l,f):!!l;if(h&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const y=p[v];if(l[y]!==i[y]&&!_m(f,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?cA(i,l,f):!0:!!l;return!1}function cA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!_m(n,o))return!0}return!1}function E$({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const I$=t=>t.__isSuspense;function T$(t,e){e&&e.pendingBranch?Ce(t)?e.effects.push(...t):e.effects.push(t):g$(t)}function Ei(t,e){return Y0(t,null,e)}const hf={};function wi(t,e,n){return Y0(t,e,n)}function Y0(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=Tt){var c;const h=mk()===((c=gn)==null?void 0:c.scope)?gn:null;let f,p=!1,v=!1;if(kt(t)?(f=()=>t.value,p=ap(t)):Mr(t)?(f=()=>t,i=!0):Ce(t)?(v=!0,p=t.some(x=>Mr(x)||ap(x)),f=()=>t.map(x=>{if(kt(x))return x.value;if(Mr(x))return So(x);if(Fe(x))return Rs(x,h,2)})):Fe(t)?e?f=()=>Rs(t,h,2):f=()=>{if(!(h&&h.isUnmounted))return y&&y(),ki(t,h,3,[b])}:f=Bi,e&&i){const x=f;f=()=>So(x())}let y,b=x=>{y=P.onStop=()=>{Rs(x,h,4)}},T;if(sd)if(b=Bi,e?n&&ki(e,h,3,[f(),v?[]:void 0,b]):f(),s==="sync"){const x=EB();T=x.__watcherHandles||(x.__watcherHandles=[])}else return Bi;let _=v?new Array(t.length).fill(hf):hf;const E=()=>{if(P.active)if(e){const x=P.run();(i||p||(v?x.some((V,K)=>qo(V,_[K])):qo(x,_)))&&(y&&y(),ki(e,h,3,[x,_===hf?void 0:v&&_[0]===hf?[]:_,b]),_=x)}else P.run()};E.allowRecurse=!!e;let I;s==="sync"?I=E:s==="post"?I=()=>ni(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),I=()=>G0(E));const P=new j0(f,I);e?n?E():_=P.run():s==="post"?ni(P.run.bind(P),h&&h.suspense):P.run();const k=()=>{P.stop(),h&&h.scope&&F0(h.scope.effects,P)};return T&&T.push(k),k}function A$(t,e,n){const i=this.proxy,s=qt(t)?t.includes(".")?Bk(i,t):()=>i[t]:t.bind(i,i);let o;Fe(e)?o=e:(o=e.handler,n=e);const l=gn;Cl(this);const c=Y0(s,o.bind(i),n);return l?Cl(l):Lo(),c}function Bk(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function So(t,e){if(!_t(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),kt(t))So(t.value,e);else if(Ce(t))for(let n=0;n<t.length;n++)So(t[n],e);else if(fm(t)||il(t))t.forEach(n=>{So(n,e)});else if(uk(t))for(const n in t)So(t[n],e);return t}function ut(t,e){const n=Cn;if(n===null)return t;const i=Tm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,h,f=Tt]=e[o];l&&(Fe(l)&&(l={mounted:l,updated:l}),l.deep&&So(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:h,modifiers:f}))}return t}function uo(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let h=c.dir[i];h&&(jl(),ki(h,n,8,[t.el,c,t,e]),Hl())}}const vs=Symbol("_leaveCb"),ff=Symbol("_enterCb");function S$(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{t.isMounted=!0}),Kk(()=>{t.isUnmounting=!0}),t}const Si=[Function,Array],jk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Si,onEnter:Si,onAfterEnter:Si,onEnterCancelled:Si,onBeforeLeave:Si,onLeave:Si,onAfterLeave:Si,onLeaveCancelled:Si,onBeforeAppear:Si,onAppear:Si,onAfterAppear:Si,onAppearCancelled:Si},C$={name:"BaseTransition",props:jk,setup(t,{slots:e}){const n=mB(),i=S$();let s;return()=>{const o=e.default&&qk(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const _ of o)if(_.type!==Oi){l=_;break}}const c=Ne(t),{mode:h}=c;if(i.isLeaving)return Lv(l);const f=dA(l);if(!f)return Lv(l);const p=Fy(f,c,i,n);Uy(f,p);const v=n.subTree,y=v&&dA(v);let b=!1;const{getTransitionKey:T}=f.type;if(T){const _=T();s===void 0?s=_:_!==s&&(s=_,b=!0)}if(y&&y.type!==Oi&&(!yo(f,y)||b)){const _=Fy(y,c,i,n);if(Uy(y,_),h==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Lv(l);h==="in-out"&&f.type!==Oi&&(_.delayLeave=(E,I,P)=>{const k=Hk(i,y);k[String(y.key)]=y,E[vs]=()=>{I(),E[vs]=void 0,delete p.delayedLeave},p.delayedLeave=P})}return l}}},R$=C$;function Hk(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Fy(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:v,onLeave:y,onAfterLeave:b,onLeaveCancelled:T,onBeforeAppear:_,onAppear:E,onAfterAppear:I,onAppearCancelled:P}=e,k=String(t.key),x=Hk(n,t),V=(j,ee)=>{j&&ki(j,i,9,ee)},K=(j,ee)=>{const we=ee[1];V(j,ee),Ce(j)?j.every(le=>le.length<=1)&&we():j.length<=1&&we()},re={mode:o,persisted:l,beforeEnter(j){let ee=c;if(!n.isMounted)if(s)ee=_||c;else return;j[vs]&&j[vs](!0);const we=x[k];we&&yo(t,we)&&we.el[vs]&&we.el[vs](),V(ee,[j])},enter(j){let ee=h,we=f,le=p;if(!n.isMounted)if(s)ee=E||h,we=I||f,le=P||p;else return;let Q=!1;const ae=j[ff]=Xe=>{Q||(Q=!0,Xe?V(le,[j]):V(we,[j]),re.delayedLeave&&re.delayedLeave(),j[ff]=void 0)};ee?K(ee,[j,ae]):ae()},leave(j,ee){const we=String(t.key);if(j[ff]&&j[ff](!0),n.isUnmounting)return ee();V(v,[j]);let le=!1;const Q=j[vs]=ae=>{le||(le=!0,ee(),ae?V(T,[j]):V(b,[j]),j[vs]=void 0,x[we]===t&&delete x[we])};x[we]=t,y?K(y,[j,Q]):Q()},clone(j){return Fy(j,e,n,i)}};return re}function Lv(t){if(wm(t))return t=Hr(t),t.children=null,t}function dA(t){return wm(t)?t.children?t.children[0]:void 0:t}function Uy(t,e){t.shapeFlag&6&&t.component?Uy(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function qk(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===yt?(l.patchFlag&128&&s++,i=i.concat(qk(l.children,e,c))):(e||l.type!==Oi)&&i.push(c!=null?Hr(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function je(t,e){return Fe(t)?(()=>un({name:t.name},e,{setup:t}))():t}const Cc=t=>!!t.type.__asyncLoader,wm=t=>t.type.__isKeepAlive;function P$(t,e){Wk(t,"a",e)}function k$(t,e){Wk(t,"da",e)}function Wk(t,e,n=gn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(bm(e,i,n),n){let s=n.parent;for(;s&&s.parent;)wm(s.parent.vnode)&&O$(i,e,n,s),s=s.parent}}function O$(t,e,n,i){const s=bm(e,t,i,!0);li(()=>{F0(i[e],s)},n)}function bm(t,e,n=gn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;jl(),Cl(n);const c=ki(e,n,t,l);return Lo(),Hl(),c});return i?s.unshift(o):s.push(o),o}}const zr=t=>(e,n=gn)=>(!sd||t==="sp")&&bm(t,(...i)=>e(...i),n),x$=zr("bm"),Vt=zr("m"),N$=zr("bu"),D$=zr("u"),Kk=zr("bum"),li=zr("um"),L$=zr("sp"),M$=zr("rtg"),V$=zr("rtc");function F$(t,e=gn){bm("ec",t,e)}const U$=Symbol.for("v-ndc");function Sl(t,e,n,i){let s;const o=n&&n[i];if(Ce(t)||qt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(_t(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function zk(t,e,n={},i,s){if(Cn.isCE||Cn.parent&&Cc(Cn.parent)&&Cn.parent.isCE)return e!=="default"&&(n.name=e),X("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),ce();const l=o&&Gk(o(n)),c=rt(yt,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Gk(t){return t.some(e=>cp(e)?!(e.type===Oi||e.type===yt&&!Gk(e.children)):!0)?t:null}const $y=t=>t?s2(t)?Tm(t)||t.proxy:$y(t.parent):null,Rc=un(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$y(t.parent),$root:t=>$y(t.root),$emit:t=>t.emit,$options:t=>J0(t),$forceUpdate:t=>t.f||(t.f=()=>G0(t.update)),$nextTick:t=>t.n||(t.n=ji.bind(t.proxy)),$watch:t=>A$.bind(t)}),Mv=(t,e)=>t!==Tt&&!t.__isScriptSetup&&it(t,e),$$={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:h}=t;let f;if(e[0]!=="$"){const b=l[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Mv(i,e))return l[e]=1,i[e];if(s!==Tt&&it(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&it(f,e))return l[e]=3,o[e];if(n!==Tt&&it(n,e))return l[e]=4,n[e];By&&(l[e]=0)}}const p=Rc[e];let v,y;if(p)return e==="$attrs"&&ai(t,"get",e),p(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==Tt&&it(n,e))return l[e]=4,n[e];if(y=h.config.globalProperties,it(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return Mv(s,e)?(s[e]=n,!0):i!==Tt&&it(i,e)?(i[e]=n,!0):it(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==Tt&&it(t,l)||Mv(e,l)||(c=o[0])&&it(c,l)||it(i,l)||it(Rc,l)||it(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:it(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function hA(t){return Ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let By=!0;function B$(t){const e=J0(t),n=t.proxy,i=t.ctx;By=!1,e.beforeCreate&&fA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:h,inject:f,created:p,beforeMount:v,mounted:y,beforeUpdate:b,updated:T,activated:_,deactivated:E,beforeDestroy:I,beforeUnmount:P,destroyed:k,unmounted:x,render:V,renderTracked:K,renderTriggered:re,errorCaptured:j,serverPrefetch:ee,expose:we,inheritAttrs:le,components:Q,directives:ae,filters:Xe}=e;if(f&&j$(f,i,null),l)for(const de in l){const Ae=l[de];Fe(Ae)&&(i[de]=Ae.bind(n))}if(s){const de=s.call(n,n);_t(de)&&(t.data=si(de))}if(By=!0,o)for(const de in o){const Ae=o[de],wt=Fe(Ae)?Ae.bind(n,n):Fe(Ae.get)?Ae.get.bind(n,n):Bi,Ze=!Fe(Ae)&&Fe(Ae.set)?Ae.set.bind(n):Bi,Kt=ye({get:wt,set:Ze});Object.defineProperty(i,de,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:et=>Kt.value=et})}if(c)for(const de in c)Yk(c[de],i,n,de);if(h){const de=Fe(h)?h.call(n):h;Reflect.ownKeys(de).forEach(Ae=>{Qn(Ae,de[Ae])})}p&&fA(p,t,"c");function Y(de,Ae){Ce(Ae)?Ae.forEach(wt=>de(wt.bind(n))):Ae&&de(Ae.bind(n))}if(Y(x$,v),Y(Vt,y),Y(N$,b),Y(D$,T),Y(P$,_),Y(k$,E),Y(F$,j),Y(V$,K),Y(M$,re),Y(Kk,P),Y(li,x),Y(L$,ee),Ce(we))if(we.length){const de=t.exposed||(t.exposed={});we.forEach(Ae=>{Object.defineProperty(de,Ae,{get:()=>n[Ae],set:wt=>n[Ae]=wt})})}else t.exposed||(t.exposed={});V&&t.render===Bi&&(t.render=V),le!=null&&(t.inheritAttrs=le),Q&&(t.components=Q),ae&&(t.directives=ae)}function j$(t,e,n=Bi){Ce(t)&&(t=jy(t));for(const i in t){const s=t[i];let o;_t(s)?"default"in s?o=Rt(s.from||i,s.default,!0):o=Rt(s.from||i):o=Rt(s),kt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function fA(t,e,n){ki(Ce(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Yk(t,e,n,i){const s=i.includes(".")?Bk(n,i):()=>n[i];if(qt(t)){const o=e[t];Fe(o)&&wi(s,o)}else if(Fe(t))wi(s,t.bind(n));else if(_t(t))if(Ce(t))t.forEach(o=>Yk(o,e,n,i));else{const o=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(o)&&wi(s,o,t)}}function J0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let h;return c?h=c:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(f=>up(h,f,l,!0)),up(h,e,l)),_t(e)&&o.set(e,h),h}function up(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&up(t,o,n,!0),s&&s.forEach(l=>up(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=H$[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const H$={data:pA,props:mA,emits:mA,methods:yc,computed:yc,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:yc,directives:yc,watch:W$,provide:pA,inject:q$};function pA(t,e){return e?t?function(){return un(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function q$(t,e){return yc(jy(t),jy(e))}function jy(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kn(t,e){return t?[...new Set([].concat(t,e))]:e}function yc(t,e){return t?un(Object.create(null),t,e):e}function mA(t,e){return t?Ce(t)&&Ce(e)?[...new Set([...t,...e])]:un(Object.create(null),hA(t),hA(e??{})):e}function W$(t,e){if(!t)return e;if(!e)return t;const n=un(Object.create(null),t);for(const i in e)n[i]=Kn(t[i],e[i]);return n}function Jk(){return{app:null,config:{isNativeTag:b6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let K$=0;function z$(t,e){return function(i,s=null){Fe(i)||(i=un({},i)),s!=null&&!_t(s)&&(s=null);const o=Jk(),l=new WeakSet;let c=!1;const h=o.app={_uid:K$++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:IB,get config(){return o.config},set config(f){},use(f,...p){return l.has(f)||(f&&Fe(f.install)?(l.add(f),f.install(h,...p)):Fe(f)&&(l.add(f),f(h,...p))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,p){return p?(o.components[f]=p,h):o.components[f]},directive(f,p){return p?(o.directives[f]=p,h):o.directives[f]},mount(f,p,v){if(!c){const y=X(i,s);return y.appContext=o,p&&e?e(y,f):t(y,f,v),c=!0,h._container=f,f.__vue_app__=h,Tm(y.component)||y.component.proxy}},unmount(){c&&(t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return o.provides[f]=p,h},runWithContext(f){id=h;try{return f()}finally{id=null}}};return h}}let id=null;function Qn(t,e){if(gn){let n=gn.provides;const i=gn.parent&&gn.parent.provides;i===n&&(n=gn.provides=Object.create(i)),n[t]=e}}function Rt(t,e,n=!1){const i=gn||Cn;if(i||id){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:id._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Fe(e)?e.call(i&&i.proxy):e}}function G$(){return!!(gn||Cn||id)}function Y$(t,e,n,i=!1){const s={},o={};rp(o,Im,1),t.propsDefaults=Object.create(null),Qk(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:Sk(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function J$(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=Ne(s),[h]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let y=p[v];if(_m(t.emitsOptions,y))continue;const b=e[y];if(h)if(it(o,y))b!==o[y]&&(o[y]=b,f=!0);else{const T=Tl(y);s[T]=Hy(h,c,T,b,t,!1)}else b!==o[y]&&(o[y]=b,f=!0)}}}else{Qk(t,e,s,o)&&(f=!0);let p;for(const v in c)(!e||!it(e,v)&&((p=Bl(v))===v||!it(e,p)))&&(h?n&&(n[v]!==void 0||n[p]!==void 0)&&(s[v]=Hy(h,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!it(e,v))&&(delete o[v],f=!0)}f&&Lr(t,"set","$attrs")}function Qk(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(Sf(h))continue;const f=e[h];let p;s&&it(s,p=Tl(h))?!o||!o.includes(p)?n[p]=f:(c||(c={}))[p]=f:_m(t.emitsOptions,h)||(!(h in i)||f!==i[h])&&(i[h]=f,l=!0)}if(o){const h=Ne(n),f=c||Tt;for(let p=0;p<o.length;p++){const v=o[p];n[v]=Hy(s,h,v,f[v],t,!it(f,v))}}return l}function Hy(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=it(l,"default");if(c&&i===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Fe(h)){const{propsDefaults:f}=s;n in f?i=f[n]:(Cl(s),i=f[n]=h.call(null,e),Lo())}else i=h}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===Bl(n))&&(i=!0))}return i}function Xk(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let h=!1;if(!Fe(t)){const p=v=>{h=!0;const[y,b]=Xk(v,e,!0);un(l,y),b&&c.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!h)return _t(t)&&i.set(t,nl),nl;if(Ce(o))for(let p=0;p<o.length;p++){const v=Tl(o[p]);gA(v)&&(l[v]=Tt)}else if(o)for(const p in o){const v=Tl(p);if(gA(v)){const y=o[p],b=l[v]=Ce(y)||Fe(y)?{type:y}:un({},y);if(b){const T=_A(Boolean,b.type),_=_A(String,b.type);b[0]=T>-1,b[1]=_<0||T<_,(T>-1||it(b,"default"))&&c.push(v)}}}const f=[l,c];return _t(t)&&i.set(t,f),f}function gA(t){return t[0]!=="$"}function vA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function yA(t,e){return vA(t)===vA(e)}function _A(t,e){return Ce(e)?e.findIndex(n=>yA(n,t)):Fe(e)&&yA(e,t)?0:-1}const Zk=t=>t[0]==="_"||t==="$stable",Q0=t=>Ce(t)?t.map(rr):[rr(t)],Q$=(t,e,n)=>{if(e._n)return e;const i=he((...s)=>Q0(e(...s)),n);return i._c=!1,i},e2=(t,e,n)=>{const i=t._ctx;for(const s in t){if(Zk(s))continue;const o=t[s];if(Fe(o))e[s]=Q$(s,o,i);else if(o!=null){const l=Q0(o);e[s]=()=>l}}},t2=(t,e)=>{const n=Q0(e);t.slots.default=()=>n},X$=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ne(e),rp(e,"_",n)):e2(e,t.slots={})}else t.slots={},e&&t2(t,e);rp(t.slots,Im,1)},Z$=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=Tt;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(un(s,e),!n&&c===1&&delete s._):(o=!e.$stable,e2(e,s)),l=e}else e&&(t2(t,e),l={default:1});if(o)for(const c in s)!Zk(c)&&l[c]==null&&delete s[c]};function qy(t,e,n,i,s=!1){if(Ce(t)){t.forEach((y,b)=>qy(y,e&&(Ce(e)?e[b]:e),n,i,s));return}if(Cc(i)&&!s)return;const o=i.shapeFlag&4?Tm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:h}=t,f=e&&e.r,p=c.refs===Tt?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==h&&(qt(f)?(p[f]=null,it(v,f)&&(v[f]=null)):kt(f)&&(f.value=null)),Fe(h))Rs(h,c,12,[l,p]);else{const y=qt(h),b=kt(h);if(y||b){const T=()=>{if(t.f){const _=y?it(v,h)?v[h]:p[h]:h.value;s?Ce(_)&&F0(_,o):Ce(_)?_.includes(o)||_.push(o):y?(p[h]=[o],it(v,h)&&(v[h]=p[h])):(h.value=[o],t.k&&(p[t.k]=h.value))}else y?(p[h]=l,it(v,h)&&(v[h]=l)):b&&(h.value=l,t.k&&(p[t.k]=l))};l?(T.id=-1,ni(T,n)):T()}}}const ni=T$;function eB(t){return tB(t)}function tB(t,e){const n=Ny();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:h,setText:f,setElementText:p,parentNode:v,nextSibling:y,setScopeId:b=Bi,insertStaticContent:T}=t,_=(S,C,O,L=null,$=null,H=null,ue=!1,J=null,ne=!!C.dynamicChildren)=>{if(S===C)return;S&&!yo(S,C)&&(L=R(S),et(S,$,H,!0),S=null),C.patchFlag===-2&&(ne=!1,C.dynamicChildren=null);const{type:W,ref:Se,shapeFlag:me}=C;switch(W){case Em:E(S,C,O,L);break;case Oi:I(S,C,O,L);break;case Vv:S==null&&P(C,O,L,ue);break;case yt:Q(S,C,O,L,$,H,ue,J,ne);break;default:me&1?V(S,C,O,L,$,H,ue,J,ne):me&6?ae(S,C,O,L,$,H,ue,J,ne):(me&64||me&128)&&W.process(S,C,O,L,$,H,ue,J,ne,Z)}Se!=null&&$&&qy(Se,S&&S.ref,H,C||S,!C)},E=(S,C,O,L)=>{if(S==null)i(C.el=c(C.children),O,L);else{const $=C.el=S.el;C.children!==S.children&&f($,C.children)}},I=(S,C,O,L)=>{S==null?i(C.el=h(C.children||""),O,L):C.el=S.el},P=(S,C,O,L)=>{[S.el,S.anchor]=T(S.children,C,O,L,S.el,S.anchor)},k=({el:S,anchor:C},O,L)=>{let $;for(;S&&S!==C;)$=y(S),i(S,O,L),S=$;i(C,O,L)},x=({el:S,anchor:C})=>{let O;for(;S&&S!==C;)O=y(S),s(S),S=O;s(C)},V=(S,C,O,L,$,H,ue,J,ne)=>{ue=ue||C.type==="svg",S==null?K(C,O,L,$,H,ue,J,ne):ee(S,C,$,H,ue,J,ne)},K=(S,C,O,L,$,H,ue,J)=>{let ne,W;const{type:Se,props:me,shapeFlag:be,transition:xe,dirs:$e}=S;if(ne=S.el=l(S.type,H,me&&me.is,me),be&8?p(ne,S.children):be&16&&j(S.children,ne,null,L,$,H&&Se!=="foreignObject",ue,J),$e&&uo(S,null,L,"created"),re(ne,S,S.scopeId,ue,L),me){for(const tt in me)tt!=="value"&&!Sf(tt)&&o(ne,tt,null,me[tt],H,S.children,L,$,te);"value"in me&&o(ne,"value",null,me.value),(W=me.onVnodeBeforeMount)&&nr(W,L,S)}$e&&uo(S,null,L,"beforeMount");const ft=nB($,xe);ft&&xe.beforeEnter(ne),i(ne,C,O),((W=me&&me.onVnodeMounted)||ft||$e)&&ni(()=>{W&&nr(W,L,S),ft&&xe.enter(ne),$e&&uo(S,null,L,"mounted")},$)},re=(S,C,O,L,$)=>{if(O&&b(S,O),L)for(let H=0;H<L.length;H++)b(S,L[H]);if($){let H=$.subTree;if(C===H){const ue=$.vnode;re(S,ue,ue.scopeId,ue.slotScopeIds,$.parent)}}},j=(S,C,O,L,$,H,ue,J,ne=0)=>{for(let W=ne;W<S.length;W++){const Se=S[W]=J?ys(S[W]):rr(S[W]);_(null,Se,C,O,L,$,H,ue,J)}},ee=(S,C,O,L,$,H,ue)=>{const J=C.el=S.el;let{patchFlag:ne,dynamicChildren:W,dirs:Se}=C;ne|=S.patchFlag&16;const me=S.props||Tt,be=C.props||Tt;let xe;O&&co(O,!1),(xe=be.onVnodeBeforeUpdate)&&nr(xe,O,C,S),Se&&uo(C,S,O,"beforeUpdate"),O&&co(O,!0);const $e=$&&C.type!=="foreignObject";if(W?we(S.dynamicChildren,W,J,O,L,$e,H):ue||Ae(S,C,J,null,O,L,$e,H,!1),ne>0){if(ne&16)le(J,C,me,be,O,L,$);else if(ne&2&&me.class!==be.class&&o(J,"class",null,be.class,$),ne&4&&o(J,"style",me.style,be.style,$),ne&8){const ft=C.dynamicProps;for(let tt=0;tt<ft.length;tt++){const bt=ft[tt],on=me[bt],wr=be[bt];(wr!==on||bt==="value")&&o(J,bt,on,wr,$,S.children,O,L,te)}}ne&1&&S.children!==C.children&&p(J,C.children)}else!ue&&W==null&&le(J,C,me,be,O,L,$);((xe=be.onVnodeUpdated)||Se)&&ni(()=>{xe&&nr(xe,O,C,S),Se&&uo(C,S,O,"updated")},L)},we=(S,C,O,L,$,H,ue)=>{for(let J=0;J<C.length;J++){const ne=S[J],W=C[J],Se=ne.el&&(ne.type===yt||!yo(ne,W)||ne.shapeFlag&70)?v(ne.el):O;_(ne,W,Se,null,L,$,H,ue,!0)}},le=(S,C,O,L,$,H,ue)=>{if(O!==L){if(O!==Tt)for(const J in O)!Sf(J)&&!(J in L)&&o(S,J,O[J],null,ue,C.children,$,H,te);for(const J in L){if(Sf(J))continue;const ne=L[J],W=O[J];ne!==W&&J!=="value"&&o(S,J,W,ne,ue,C.children,$,H,te)}"value"in L&&o(S,"value",O.value,L.value)}},Q=(S,C,O,L,$,H,ue,J,ne)=>{const W=C.el=S?S.el:c(""),Se=C.anchor=S?S.anchor:c("");let{patchFlag:me,dynamicChildren:be,slotScopeIds:xe}=C;xe&&(J=J?J.concat(xe):xe),S==null?(i(W,O,L),i(Se,O,L),j(C.children,O,Se,$,H,ue,J,ne)):me>0&&me&64&&be&&S.dynamicChildren?(we(S.dynamicChildren,be,O,$,H,ue,J),(C.key!=null||$&&C===$.subTree)&&X0(S,C,!0)):Ae(S,C,O,Se,$,H,ue,J,ne)},ae=(S,C,O,L,$,H,ue,J,ne)=>{C.slotScopeIds=J,S==null?C.shapeFlag&512?$.ctx.activate(C,O,L,ue,ne):Xe(C,O,L,$,H,ue,ne):Re(S,C,ne)},Xe=(S,C,O,L,$,H,ue)=>{const J=S.component=pB(S,L,$);if(wm(S)&&(J.ctx.renderer=Z),gB(J),J.asyncDep){if($&&$.registerDep(J,Y),!S.el){const ne=J.subTree=X(Oi);I(null,ne,C,O)}return}Y(J,S,C,O,$,H,ue)},Re=(S,C,O)=>{const L=C.component=S.component;if(b$(S,C,O))if(L.asyncDep&&!L.asyncResolved){de(L,C,O);return}else L.next=C,m$(L.update),L.update();else C.el=S.el,L.vnode=C},Y=(S,C,O,L,$,H,ue)=>{const J=()=>{if(S.isMounted){let{next:Se,bu:me,u:be,parent:xe,vnode:$e}=S,ft=Se,tt;co(S,!1),Se?(Se.el=$e.el,de(S,Se,ue)):Se=$e,me&&Cf(me),(tt=Se.props&&Se.props.onVnodeBeforeUpdate)&&nr(tt,xe,Se,$e),co(S,!0);const bt=Dv(S),on=S.subTree;S.subTree=bt,_(on,bt,v(on.el),R(on),S,$,H),Se.el=bt.el,ft===null&&E$(S,bt.el),be&&ni(be,$),(tt=Se.props&&Se.props.onVnodeUpdated)&&ni(()=>nr(tt,xe,Se,$e),$)}else{let Se;const{el:me,props:be}=C,{bm:xe,m:$e,parent:ft}=S,tt=Cc(C);if(co(S,!1),xe&&Cf(xe),!tt&&(Se=be&&be.onVnodeBeforeMount)&&nr(Se,ft,C),co(S,!0),me&&st){const bt=()=>{S.subTree=Dv(S),st(me,S.subTree,S,$,null)};tt?C.type.__asyncLoader().then(()=>!S.isUnmounted&&bt()):bt()}else{const bt=S.subTree=Dv(S);_(null,bt,O,L,S,$,H),C.el=bt.el}if($e&&ni($e,$),!tt&&(Se=be&&be.onVnodeMounted)){const bt=C;ni(()=>nr(Se,ft,bt),$)}(C.shapeFlag&256||ft&&Cc(ft.vnode)&&ft.vnode.shapeFlag&256)&&S.a&&ni(S.a,$),S.isMounted=!0,C=O=L=null}},ne=S.effect=new j0(J,()=>G0(W),S.scope),W=S.update=()=>ne.run();W.id=S.uid,co(S,!0),W()},de=(S,C,O)=>{C.component=S;const L=S.vnode.props;S.vnode=C,S.next=null,J$(S,C.props,L,O),Z$(S,C.children,O),jl(),uA(),Hl()},Ae=(S,C,O,L,$,H,ue,J,ne=!1)=>{const W=S&&S.children,Se=S?S.shapeFlag:0,me=C.children,{patchFlag:be,shapeFlag:xe}=C;if(be>0){if(be&128){Ze(W,me,O,L,$,H,ue,J,ne);return}else if(be&256){wt(W,me,O,L,$,H,ue,J,ne);return}}xe&8?(Se&16&&te(W,$,H),me!==W&&p(O,me)):Se&16?xe&16?Ze(W,me,O,L,$,H,ue,J,ne):te(W,$,H,!0):(Se&8&&p(O,""),xe&16&&j(me,O,L,$,H,ue,J,ne))},wt=(S,C,O,L,$,H,ue,J,ne)=>{S=S||nl,C=C||nl;const W=S.length,Se=C.length,me=Math.min(W,Se);let be;for(be=0;be<me;be++){const xe=C[be]=ne?ys(C[be]):rr(C[be]);_(S[be],xe,O,null,$,H,ue,J,ne)}W>Se?te(S,$,H,!0,!1,me):j(C,O,L,$,H,ue,J,ne,me)},Ze=(S,C,O,L,$,H,ue,J,ne)=>{let W=0;const Se=C.length;let me=S.length-1,be=Se-1;for(;W<=me&&W<=be;){const xe=S[W],$e=C[W]=ne?ys(C[W]):rr(C[W]);if(yo(xe,$e))_(xe,$e,O,null,$,H,ue,J,ne);else break;W++}for(;W<=me&&W<=be;){const xe=S[me],$e=C[be]=ne?ys(C[be]):rr(C[be]);if(yo(xe,$e))_(xe,$e,O,null,$,H,ue,J,ne);else break;me--,be--}if(W>me){if(W<=be){const xe=be+1,$e=xe<Se?C[xe].el:L;for(;W<=be;)_(null,C[W]=ne?ys(C[W]):rr(C[W]),O,$e,$,H,ue,J,ne),W++}}else if(W>be)for(;W<=me;)et(S[W],$,H,!0),W++;else{const xe=W,$e=W,ft=new Map;for(W=$e;W<=be;W++){const cn=C[W]=ne?ys(C[W]):rr(C[W]);cn.key!=null&&ft.set(cn.key,W)}let tt,bt=0;const on=be-$e+1;let wr=!1,Md=0;const Ws=new Array(on);for(W=0;W<on;W++)Ws[W]=0;for(W=xe;W<=me;W++){const cn=S[W];if(bt>=on){et(cn,$,H,!0);continue}let dn;if(cn.key!=null)dn=ft.get(cn.key);else for(tt=$e;tt<=be;tt++)if(Ws[tt-$e]===0&&yo(cn,C[tt])){dn=tt;break}dn===void 0?et(cn,$,H,!0):(Ws[dn-$e]=W+1,dn>=Md?Md=dn:wr=!0,_(cn,C[dn],O,null,$,H,ue,J,ne),bt++)}const Ks=wr?iB(Ws):nl;for(tt=Ks.length-1,W=on-1;W>=0;W--){const cn=$e+W,dn=C[cn],Vd=cn+1<Se?C[cn+1].el:L;Ws[W]===0?_(null,dn,O,Vd,$,H,ue,J,ne):wr&&(tt<0||W!==Ks[tt]?Kt(dn,O,Vd,2):tt--)}}},Kt=(S,C,O,L,$=null)=>{const{el:H,type:ue,transition:J,children:ne,shapeFlag:W}=S;if(W&6){Kt(S.component.subTree,C,O,L);return}if(W&128){S.suspense.move(C,O,L);return}if(W&64){ue.move(S,C,O,Z);return}if(ue===yt){i(H,C,O);for(let me=0;me<ne.length;me++)Kt(ne[me],C,O,L);i(S.anchor,C,O);return}if(ue===Vv){k(S,C,O);return}if(L!==2&&W&1&&J)if(L===0)J.beforeEnter(H),i(H,C,O),ni(()=>J.enter(H),$);else{const{leave:me,delayLeave:be,afterLeave:xe}=J,$e=()=>i(H,C,O),ft=()=>{me(H,()=>{$e(),xe&&xe()})};be?be(H,$e,ft):ft()}else i(H,C,O)},et=(S,C,O,L=!1,$=!1)=>{const{type:H,props:ue,ref:J,children:ne,dynamicChildren:W,shapeFlag:Se,patchFlag:me,dirs:be}=S;if(J!=null&&qy(J,null,O,S,!0),Se&256){C.ctx.deactivate(S);return}const xe=Se&1&&be,$e=!Cc(S);let ft;if($e&&(ft=ue&&ue.onVnodeBeforeUnmount)&&nr(ft,C,S),Se&6)qs(S.component,O,L);else{if(Se&128){S.suspense.unmount(O,L);return}xe&&uo(S,null,C,"beforeUnmount"),Se&64?S.type.remove(S,C,O,$,Z,L):W&&(H!==yt||me>0&&me&64)?te(W,C,O,!1,!0):(H===yt&&me&384||!$&&Se&16)&&te(ne,C,O),L&&Ti(S)}($e&&(ft=ue&&ue.onVnodeUnmounted)||xe)&&ni(()=>{ft&&nr(ft,C,S),xe&&uo(S,null,C,"unmounted")},O)},Ti=S=>{const{type:C,el:O,anchor:L,transition:$}=S;if(C===yt){ui(O,L);return}if(C===Vv){x(S);return}const H=()=>{s(O),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(S.shapeFlag&1&&$&&!$.persisted){const{leave:ue,delayLeave:J}=$,ne=()=>ue(O,H);J?J(S.el,H,ne):ne()}else H()},ui=(S,C)=>{let O;for(;S!==C;)O=y(S),s(S),S=O;s(C)},qs=(S,C,O)=>{const{bum:L,scope:$,update:H,subTree:ue,um:J}=S;L&&Cf(L),$.stop(),H&&(H.active=!1,et(ue,S,C,O)),J&&ni(J,C),ni(()=>{S.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},te=(S,C,O,L=!1,$=!1,H=0)=>{for(let ue=H;ue<S.length;ue++)et(S[ue],C,O,L,$)},R=S=>S.shapeFlag&6?R(S.component.subTree):S.shapeFlag&128?S.suspense.next():y(S.anchor||S.el),fe=(S,C,O)=>{S==null?C._vnode&&et(C._vnode,null,null,!0):_(C._vnode||null,S,C,null,null,null,O),uA(),Vk(),C._vnode=S},Z={p:_,um:et,m:Kt,r:Ti,mt:Xe,mc:j,pc:Ae,pbc:we,n:R,o:t};let Ee,st;return e&&([Ee,st]=e(Z)),{render:fe,hydrate:Ee,createApp:z$(fe,Ee)}}function co({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function nB(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function X0(t,e,n=!1){const i=t.children,s=e.children;if(Ce(i)&&Ce(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=ys(s[o]),c.el=l.el),n||X0(l,c)),c.type===Em&&(c.el=l.el)}}function iB(t){const e=t.slice(),n=[0];let i,s,o,l,c;const h=t.length;for(i=0;i<h;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const rB=t=>t.__isTeleport,Pc=t=>t&&(t.disabled||t.disabled===""),wA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Wy=(t,e)=>{const n=t&&t.to;return qt(n)?e?e(n):null:n},sB={__isTeleport:!0,process(t,e,n,i,s,o,l,c,h,f){const{mc:p,pc:v,pbc:y,o:{insert:b,querySelector:T,createText:_,createComment:E}}=f,I=Pc(e.props);let{shapeFlag:P,children:k,dynamicChildren:x}=e;if(t==null){const V=e.el=_(""),K=e.anchor=_("");b(V,n,i),b(K,n,i);const re=e.target=Wy(e.props,T),j=e.targetAnchor=_("");re&&(b(j,re),l=l||wA(re));const ee=(we,le)=>{P&16&&p(k,we,le,s,o,l,c,h)};I?ee(n,K):re&&ee(re,j)}else{e.el=t.el;const V=e.anchor=t.anchor,K=e.target=t.target,re=e.targetAnchor=t.targetAnchor,j=Pc(t.props),ee=j?n:K,we=j?V:re;if(l=l||wA(K),x?(y(t.dynamicChildren,x,ee,s,o,l,c),X0(t,e,!0)):h||v(t,e,ee,we,s,o,l,c,!1),I)j?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):pf(e,n,V,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const le=e.target=Wy(e.props,T);le&&pf(e,le,null,f,0)}else j&&pf(e,K,re,f,1)}n2(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:h,anchor:f,targetAnchor:p,target:v,props:y}=t;if(v&&o(p),l&&o(f),c&16){const b=l||!Pc(y);for(let T=0;T<h.length;T++){const _=h[T];s(_,e,n,b,!!_.dynamicChildren)}}},move:pf,hydrate:oB};function pf(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:h,children:f,props:p}=t,v=o===2;if(v&&i(l,e,n),(!v||Pc(p))&&h&16)for(let y=0;y<f.length;y++)s(f[y],e,n,2);v&&i(c,e,n)}function oB(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:h}},f){const p=e.target=Wy(e.props,h);if(p){const v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(Pc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let y=v;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,p,n,i,s,o)}n2(e)}return e.anchor&&l(e.anchor)}const aB=sB;function n2(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const yt=Symbol.for("v-fgt"),Em=Symbol.for("v-txt"),Oi=Symbol.for("v-cmt"),Vv=Symbol.for("v-stc"),kc=[];let $i=null;function ce(t=!1){kc.push($i=t?null:[])}function lB(){kc.pop(),$i=kc[kc.length-1]||null}let rd=1;function bA(t){rd+=t}function i2(t){return t.dynamicChildren=rd>0?$i||nl:null,lB(),rd>0&&$i&&$i.push(t),t}function qe(t,e,n,i,s,o){return i2(N(t,e,n,i,s,o,!0))}function rt(t,e,n,i,s){return i2(X(t,e,n,i,s,!0))}function cp(t){return t?t.__v_isVNode===!0:!1}function yo(t,e){return t.type===e.type&&t.key===e.key}const Im="__vInternal",r2=({key:t})=>t??null,Rf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qt(t)||kt(t)||Fe(t)?{i:Cn,r:t,k:e,f:!!n}:t:null);function N(t,e=null,n=null,i=0,s=null,o=t===yt?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&r2(e),ref:e&&Rf(e),scopeId:$k,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Cn};return c?(Z0(h,n),o&128&&t.normalize(h)):n&&(h.shapeFlag|=qt(n)?8:16),rd>0&&!l&&$i&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&$i.push(h),h}const X=uB;function uB(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===U$)&&(t=Oi),cp(t)){const c=Hr(t,e,!0);return n&&Z0(c,n),rd>0&&!o&&$i&&(c.shapeFlag&6?$i[$i.indexOf(t)]=c:$i.push(c)),c.patchFlag|=-2,c}if(wB(t)&&(t=t.__vccOpts),e){e=cB(e);let{class:c,style:h}=e;c&&!qt(c)&&(e.class=Tn(c)),_t(h)&&(Rk(h)&&!Ce(h)&&(h=un({},h)),e.style=$0(h))}const l=qt(t)?1:I$(t)?128:rB(t)?64:_t(t)?4:Fe(t)?2:0;return N(t,e,n,i,s,l,o,!0)}function cB(t){return t?Rk(t)||Im in t?un({},t):t:null}function Hr(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?dB(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&r2(c),ref:e&&e.ref?n&&s?Ce(s)?s.concat(Rf(e)):[s,Rf(e)]:Rf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hr(t.ssContent),ssFallback:t.ssFallback&&Hr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ht(t=" ",e=0){return X(Em,null,t,e)}function lt(t="",e=!1){return e?(ce(),rt(Oi,null,t)):X(Oi,null,t)}function rr(t){return t==null||typeof t=="boolean"?X(Oi):Ce(t)?X(yt,null,t.slice()):typeof t=="object"?ys(t):X(Em,null,String(t))}function ys(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hr(t)}function Z0(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ce(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Z0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Im in e)?e._ctx=Cn:s===3&&Cn&&(Cn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:Cn},n=32):(e=String(e),i&64?(n=16,e=[ht(e)]):n=8);t.children=e,t.shapeFlag|=n}function dB(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Tn([e.class,i.class]));else if(s==="style")e.style=$0([e.style,i.style]);else if(hm(s)){const o=e[s],l=i[s];l&&o!==l&&!(Ce(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function nr(t,e,n,i=null){ki(t,e,7,[n,i])}const hB=Jk();let fB=0;function pB(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||hB,o={uid:fB++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new fk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xk(i,s),emitsOptions:Uk(i,s),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:i.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=y$.bind(null,o),t.ce&&t.ce(o),o}let gn=null;const mB=()=>gn||Cn;let ew,$a,EA="__VUE_INSTANCE_SETTERS__";($a=Ny()[EA])||($a=Ny()[EA]=[]),$a.push(t=>gn=t),ew=t=>{$a.length>1?$a.forEach(e=>e(t)):$a[0](t)};const Cl=t=>{ew(t),t.scope.on()},Lo=()=>{gn&&gn.scope.off(),ew(null)};function s2(t){return t.vnode.shapeFlag&4}let sd=!1;function gB(t,e=!1){sd=e;const{props:n,children:i}=t.vnode,s=s2(t);Y$(t,n,s,e),X$(t,i);const o=s?vB(t,e):void 0;return sd=!1,o}function vB(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=vm(new Proxy(t.ctx,$$));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?_B(t):null;Cl(t),jl();const o=Rs(i,t,0,[t.props,s]);if(Hl(),Lo(),ak(o)){if(o.then(Lo,Lo),e)return o.then(l=>{IA(t,l,e)}).catch(l=>{ym(l,t,0)});t.asyncDep=o}else IA(t,o,e)}else o2(t,e)}function IA(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:_t(e)&&(t.setupState=Nk(e)),o2(t,n)}let TA;function o2(t,e,n){const i=t.type;if(!t.render){if(!e&&TA&&!i.render){const s=i.template||J0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=i,f=un(un({isCustomElement:o,delimiters:c},l),h);i.render=TA(s,f)}}t.render=i.render||Bi}{Cl(t),jl();try{B$(t)}finally{Hl(),Lo()}}}function yB(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ai(t,"get","$attrs"),e[n]}}))}function _B(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return yB(t)},slots:t.slots,emit:t.emit,expose:e}}function Tm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Nk(vm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Rc)return Rc[n](t)},has(e,n){return n in e||n in Rc}}))}function wB(t){return Fe(t)&&"__vccOpts"in t}const ye=(t,e)=>h$(t,e,sd);function en(t,e,n){const i=arguments.length;return i===2?_t(e)&&!Ce(e)?cp(e)?X(t,null,[e]):X(t,e):X(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&cp(n)&&(n=[n]),X(t,e,n))}const bB=Symbol.for("v-scx"),EB=()=>Rt(bB),IB="3.3.7",TB="http://www.w3.org/2000/svg",_o=typeof document<"u"?document:null,AA=_o&&_o.createElement("template"),AB={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?_o.createElementNS(TB,t):_o.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>_o.createTextNode(t),createComment:t=>_o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{AA.innerHTML=i?`<svg>${t}</svg>`:t;const c=AA.content;if(i){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},fs="transition",sc="animation",od=Symbol("_vtc"),Am=(t,{slots:e})=>en(R$,SB(t),e);Am.displayName="Transition";const a2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Am.props=un({},jk,a2);const ho=(t,e=[])=>{Ce(t)?t.forEach(n=>n(...e)):t&&t(...e)},SA=t=>t?Ce(t)?t.some(e=>e.length>1):t.length>1:!1;function SB(t){const e={};for(const Q in t)Q in a2||(e[Q]=t[Q]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,T=CB(s),_=T&&T[0],E=T&&T[1],{onBeforeEnter:I,onEnter:P,onEnterCancelled:k,onLeave:x,onLeaveCancelled:V,onBeforeAppear:K=I,onAppear:re=P,onAppearCancelled:j=k}=e,ee=(Q,ae,Xe)=>{fo(Q,ae?p:c),fo(Q,ae?f:l),Xe&&Xe()},we=(Q,ae)=>{Q._isLeaving=!1,fo(Q,v),fo(Q,b),fo(Q,y),ae&&ae()},le=Q=>(ae,Xe)=>{const Re=Q?re:P,Y=()=>ee(ae,Q,Xe);ho(Re,[ae,Y]),CA(()=>{fo(ae,Q?h:o),ps(ae,Q?p:c),SA(Re)||RA(ae,i,_,Y)})};return un(e,{onBeforeEnter(Q){ho(I,[Q]),ps(Q,o),ps(Q,l)},onBeforeAppear(Q){ho(K,[Q]),ps(Q,h),ps(Q,f)},onEnter:le(!1),onAppear:le(!0),onLeave(Q,ae){Q._isLeaving=!0;const Xe=()=>we(Q,ae);ps(Q,v),kB(),ps(Q,y),CA(()=>{Q._isLeaving&&(fo(Q,v),ps(Q,b),SA(x)||RA(Q,i,E,Xe))}),ho(x,[Q,Xe])},onEnterCancelled(Q){ee(Q,!1),ho(k,[Q])},onAppearCancelled(Q){ee(Q,!0),ho(j,[Q])},onLeaveCancelled(Q){we(Q),ho(V,[Q])}})}function CB(t){if(t==null)return null;if(_t(t))return[Fv(t.enter),Fv(t.leave)];{const e=Fv(t);return[e,e]}}function Fv(t){return C6(t)}function ps(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[od]||(t[od]=new Set)).add(e)}function fo(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[od];n&&(n.delete(e),n.size||(t[od]=void 0))}function CA(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let RB=0;function RA(t,e,n,i){const s=t._endId=++RB,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:h}=PB(t,e);if(!l)return i();const f=l+"end";let p=0;const v=()=>{t.removeEventListener(f,y),o()},y=b=>{b.target===t&&++p>=h&&v()};setTimeout(()=>{p<h&&v()},c+1),t.addEventListener(f,y)}function PB(t,e){const n=window.getComputedStyle(t),i=T=>(n[T]||"").split(", "),s=i(`${fs}Delay`),o=i(`${fs}Duration`),l=PA(s,o),c=i(`${sc}Delay`),h=i(`${sc}Duration`),f=PA(c,h);let p=null,v=0,y=0;e===fs?l>0&&(p=fs,v=l,y=o.length):e===sc?f>0&&(p=sc,v=f,y=h.length):(v=Math.max(l,f),p=v>0?l>f?fs:sc:null,y=p?p===fs?o.length:h.length:0);const b=p===fs&&/\b(transform|all)(,|$)/.test(i(`${fs}Property`).toString());return{type:p,timeout:v,propCount:y,hasTransform:b}}function PA(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>kA(n)+kA(t[i])))}function kA(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function kB(){return document.body.offsetHeight}function OB(t,e,n){const i=t[od];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const tw=Symbol("_vod"),OA={beforeMount(t,{value:e},{transition:n}){t[tw]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):oc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),oc(t,!0),i.enter(t)):i.leave(t,()=>{oc(t,!1)}):oc(t,e))},beforeUnmount(t,{value:e}){oc(t,e)}};function oc(t,e){t.style.display=e?t[tw]:"none"}function xB(t,e,n){const i=t.style,s=qt(n);if(n&&!s){if(e&&!qt(e))for(const o in e)n[o]==null&&Ky(i,o,"");for(const o in n)Ky(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),tw in t&&(i.display=o)}}const xA=/\s*!important$/;function Ky(t,e,n){if(Ce(n))n.forEach(i=>Ky(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=NB(t,e);xA.test(n)?t.setProperty(Bl(i),n.replace(xA,""),"important"):t[i]=n}}const NA=["Webkit","Moz","ms"],Uv={};function NB(t,e){const n=Uv[e];if(n)return n;let i=Tl(e);if(i!=="filter"&&i in t)return Uv[e]=i;i=ck(i);for(let s=0;s<NA.length;s++){const o=NA[s]+i;if(o in t)return Uv[e]=o}return e}const DA="http://www.w3.org/1999/xlink";function DB(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(DA,e.slice(6,e.length)):t.setAttributeNS(DA,e,n);else{const o=N6(e);n==null||o&&!dk(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function LB(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";f!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let h=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=dk(n):n==null&&f==="string"?(n="",h=!0):f==="number"&&(n=0,h=!0)}try{t[e]=n}catch{}h&&t.removeAttribute(e)}function wo(t,e,n,i){t.addEventListener(e,n,i)}function MB(t,e,n,i){t.removeEventListener(e,n,i)}const LA=Symbol("_vei");function VB(t,e,n,i,s=null){const o=t[LA]||(t[LA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,h]=FB(e);if(i){const f=o[e]=BB(i,s);wo(t,c,f,h)}else l&&(MB(t,c,l,h),o[e]=void 0)}}const MA=/(?:Once|Passive|Capture)$/;function FB(t){let e;if(MA.test(t)){e={};let i;for(;i=t.match(MA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Bl(t.slice(2)),e]}let $v=0;const UB=Promise.resolve(),$B=()=>$v||(UB.then(()=>$v=0),$v=Date.now());function BB(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ki(jB(i,n.value),e,5,[i])};return n.value=t,n.attached=$B(),n}function jB(t,e){if(Ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const VA=/^on[a-z]/,HB=(t,e,n,i,s=!1,o,l,c,h)=>{e==="class"?OB(t,i,s):e==="style"?xB(t,n,i):hm(e)?V0(e)||VB(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qB(t,e,i,s))?LB(t,e,i,o,l,c,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),DB(t,e,i,s))};function qB(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&VA.test(e)&&Fe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||VA.test(e)&&qt(n)?!1:e in t}const dp=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ce(e)?n=>Cf(e,n):e};function WB(t){t.target.composing=!0}function FA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const sl=Symbol("_assign"),gt={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[sl]=dp(s);const o=i||s.props&&s.props.type==="number";wo(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=sp(c)),t[sl](c)}),n&&wo(t,"change",()=>{t.value=t.value.trim()}),e||(wo(t,"compositionstart",WB),wo(t,"compositionend",FA),wo(t,"change",FA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[sl]=dp(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&sp(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},SW={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=fm(e);wo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?sp(hp(l)):hp(l));t[sl](t.multiple?s?new Set(o):o:o[0])}),t[sl]=dp(i)},mounted(t,{value:e}){UA(t,e)},beforeUpdate(t,e,n){t[sl]=dp(n)},updated(t,{value:e}){UA(t,e)}};function UA(t,e){const n=t.multiple;if(!(n&&!Ce(e)&&!fm(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=hp(o);if(n)Ce(e)?o.selected=L6(e,l)>-1:o.selected=e.has(l);else if(mm(hp(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function hp(t){return"_value"in t?t._value:t.value}const KB=un({patchProp:HB},AB);let $A;function zB(){return $A||($A=eB(KB))}const GB=(...t)=>{const e=zB().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=YB(i);if(!s)return;const o=e._component;!Fe(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function YB(t){return qt(t)?document.querySelector(t):t}var JB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let l2;const Sm=t=>l2=t,u2=Symbol();function zy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Oc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Oc||(Oc={}));function QB(){const t=pk(!0),e=t.run(()=>ie({}));let n=[],i=[];const s=vm({install(o){Sm(s),s._a=o,o.provide(u2,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!JB?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const c2=()=>{};function BA(t,e,n,i=c2){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&mk()&&V6(s),s}function Ba(t,...e){t.slice().forEach(n=>{n(...e)})}const XB=t=>t();function Gy(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];zy(s)&&zy(i)&&t.hasOwnProperty(n)&&!kt(i)&&!Mr(i)?t[n]=Gy(s,i):t[n]=i}return t}const ZB=Symbol();function ej(t){return!zy(t)||!t.hasOwnProperty(ZB)}const{assign:gs}=Object;function tj(t){return!!(kt(t)&&t.effect)}function nj(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let h;function f(){c||(n.state.value[t]=s?s():{});const p=a$(n.state.value[t]);return gs(p,o,Object.keys(l||{}).reduce((v,y)=>(v[y]=vm(ye(()=>{Sm(n);const b=n._s.get(t);return l[y].call(b,b)})),v),{}))}return h=d2(t,f,e,n,i,!0),h}function d2(t,e,n={},i,s,o){let l;const c=gs({actions:{}},n),h={deep:!0};let f,p,v=[],y=[],b;const T=i.state.value[t];!o&&!T&&(i.state.value[t]={}),ie({});let _;function E(j){let ee;f=p=!1,typeof j=="function"?(j(i.state.value[t]),ee={type:Oc.patchFunction,storeId:t,events:b}):(Gy(i.state.value[t],j),ee={type:Oc.patchObject,payload:j,storeId:t,events:b});const we=_=Symbol();ji().then(()=>{_===we&&(f=!0)}),p=!0,Ba(v,ee,i.state.value[t])}const I=o?function(){const{state:ee}=n,we=ee?ee():{};this.$patch(le=>{gs(le,we)})}:c2;function P(){l.stop(),v=[],y=[],i._s.delete(t)}function k(j,ee){return function(){Sm(i);const we=Array.from(arguments),le=[],Q=[];function ae(Y){le.push(Y)}function Xe(Y){Q.push(Y)}Ba(y,{args:we,name:j,store:V,after:ae,onError:Xe});let Re;try{Re=ee.apply(this&&this.$id===t?this:V,we)}catch(Y){throw Ba(Q,Y),Y}return Re instanceof Promise?Re.then(Y=>(Ba(le,Y),Y)).catch(Y=>(Ba(Q,Y),Promise.reject(Y))):(Ba(le,Re),Re)}}const x={_p:i,$id:t,$onAction:BA.bind(null,y),$patch:E,$reset:I,$subscribe(j,ee={}){const we=BA(v,j,ee.detached,()=>le()),le=l.run(()=>wi(()=>i.state.value[t],Q=>{(ee.flush==="sync"?p:f)&&j({storeId:t,type:Oc.direct,events:b},Q)},gs({},h,ee)));return we},$dispose:P},V=si(x);i._s.set(t,V);const re=(i._a&&i._a.runWithContext||XB)(()=>i._e.run(()=>(l=pk()).run(e)));for(const j in re){const ee=re[j];if(kt(ee)&&!tj(ee)||Mr(ee))o||(T&&ej(ee)&&(kt(ee)?ee.value=T[j]:Gy(ee,T[j])),i.state.value[t][j]=ee);else if(typeof ee=="function"){const we=k(j,ee);re[j]=we,c.actions[j]=ee}}return gs(V,re),gs(Ne(V),re),Object.defineProperty(V,"$state",{get:()=>i.state.value[t],set:j=>{E(ee=>{gs(ee,j)})}}),i._p.forEach(j=>{gs(V,l.run(()=>j({store:V,app:i._a,pinia:i,options:c})))}),T&&o&&n.hydrate&&n.hydrate(V.$state,T),f=!0,p=!0,V}function h2(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,h){const f=G$();return c=c||(f?Rt(u2,null):null),c&&Sm(c),c=l2,c._s.has(i)||(o?d2(i,e,s,c):nj(i,s,c)),c._s.get(i)}return l.$id=i,l}function xn(t){{t=Ne(t);const e={};for(const n in t){const i=t[n];(kt(i)||Mr(i))&&(e[n]=c$(t,n))}return e}}function ij(){return console.log("createUserProfileCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"createUserProfile")}function rj(){return console.log("createAdCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"createAd")}function sj(){return console.log("removeAdCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"removeAd")}function oj(){return console.log("editAdCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"editAd")}function aj(){return console.log("postAdCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"postAd")}function lj(){return console.log("placeBidCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"placeBid")}function uj(){return console.log("cancelBidCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"cancelBid")}function CW(){return console.log("createTransactionCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"createTransaction")}function cj(){return console.log("createEscrowAccountCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"createEscrowAccount")}function dj(){return console.log("linkEscrowAccountCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"linkEscrowAccount")}function hj(){return console.log("createJobPostCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"createJobPost")}function fj(){return console.log("editJobPostCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"editJobPost")}function pj(){return console.log("removeJobPostCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"removeJobPost")}function mj(){return console.log("postJobPostCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"postJobPost")}function gj(){return console.log("takedownJobPostCallable"),Xn(Bn(void 0,"northamerica-northeast1"),"takeDownJobPost")}const Ht=h2("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=ie(null),o=ie(!1),l=ie(null),c=te=>{s.value=te},h=te=>{console.log("setNewUser",te),o.value=te},f=async te=>{let R=null;if(o.value)console.log("Profile setup mounted for new user"),R=await v(te),y(te);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(R=await xy("users",s.value.uid),y(te),!R)throw new Error("continueSignup No profile")}y(R)},p=ij(),v=async te=>{try{console.log("createUser start",te),console.log("createUserProfile",p);const R=await p({...te});return console.log("createUser res",R),R}catch(R){throw console.log("createUser error",R),new Error(R)}},y=te=>{if(console.log("setProfile",te),!te)throw new Error("No profile");l.value=te},b=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const te=await xy("users",s.value.uid);l.value=te},T=rj(),_=async te=>{try{console.log("createUserAd start",te),console.log("createAd",T);const R=await T({...te});return console.log("createUserAd res",R),R}catch(R){throw console.log("createUserAd error",R),new Error(R)}},E=aj(),I=async te=>{try{console.log("postAd start",te),console.log("createAd",T);const R=await E({adId:te});return console.log("postAd res",R),R}catch(R){throw console.log("postAd error",R),new Error(R)}},P=sj(),k=async te=>{try{console.log("removeUserAd start",te),console.log("createAd",T);const R=await P({adId:te});return console.log("removeUserAd res",R),R}catch(R){throw console.log("removeUserAd error",R),new Error(R)}},x=oj(),V=async te=>{try{console.log("editUserAd start",te),console.log("editUserAd",x);const R=await x({...te});return console.log("editUserAd res",R),R}catch(R){throw console.log("editUserAd error",R),new Error(R)}},K=async()=>{const te=CC();console.log("signout"),await te.signOut(),c(null),y(null)},re=lj(),j=async te=>{console.log("placeBid",te);try{console.log("placeBid start",te),console.log("placeBid",re);const R=await re(te);return console.log("placeBid res",R),R}catch(R){throw console.log("placeBid error",R),new Error(R)}},ee=uj(),we=async te=>{try{console.log("cancelBid start",te),console.log("cancelBid",ee);const R=await ee({bidId:te});return console.log("cancelBid res",R),R}catch(R){throw console.log("cancelBid error",R),new Error(R)}},le=cj(),Q=async te=>{try{console.log("createEscrowUserAccount start"),console.log("createEscrowAccount",le);const R=await le(te);return console.log("createEscrowUserAccount res",R),R}catch(R){throw console.log("createEscrowUserAccount error",R),new Error(R)}},ae=dj(),Xe=async te=>{try{console.log("linkEscrowUserAccount start"),console.log("createEscrowAccount",le);const R=await ae(te);return console.log("linkEscrowUserAccount res",R),R}catch(R){throw console.log("linkEscrowUserAccount error",R),new Error(R)}},Re=async()=>(console.log("getProduce"),await w6("produce")),Y=hj(),de=async te=>{try{console.log("createJobPostAd start"),console.log("createJobPostAd",Y);const R=await Y(te);return console.log("createJobPostAd res",te),R}catch(R){throw console.log("createJobPostAd error",R),new Error(R)}},Ae=mj(),wt=async te=>{try{console.log("postJobPostAd start",te),console.log("postJobPostAd",Ae);const R=await Ae({jobId:te});return console.log("postJobPostAd res",te),R}catch(R){throw console.log("postJobPostAd error",R),new Error(R)}},Ze=gj(),Kt=async te=>{try{console.log("takedownJobPostAd start",te),console.log("takedownJobPostAd",Ze);const R=await Ze({jobId:te});return console.log("takedownJobPostAd res",te),R}catch(R){throw console.log("takedownJobPostAd error",R),new Error(R)}},et=fj(),Ti=async te=>{try{console.log("editJobPostAd start"),console.log("editJobPostAd",et);const R=await et(te);return console.log("editJobPostAd res",te),R}catch(R){throw console.log("editJobPostAd error",R),new Error(R)}},ui=pj();return{user:s,setUser:c,createUser:v,getProfile:b,setProfile:y,setNewUser:h,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:_,postNewAd:I,signout:K,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:j,cancelUserBid:we,removeUserAd:k,editUserAd:V,CLAUSE_STATUSES:i,createEscrowUserAccount:Q,linkEscrowUserAccount:Xe,getProduce:Re,createJobPostAd:de,editJobPostAd:Ti,removeJobPostAd:async te=>{try{console.log("removeJobPostAd start"),console.log("removeJobPostAd",ui);const R=await ui({jobId:te});return console.log("removeJobPostAd res",te),R}catch(R){throw console.log("removeJobPostAd error",R),new Error(R)}},postJobPostAd:wt,takedownJobPostAd:Kt}}),vj="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Wa=typeof window<"u";function yj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const mt=Object.assign;function Bv(t,e){const n={};for(const i in e){const s=e[i];n[i]=Gi(s)?s.map(t):t(s)}return n}const xc=()=>{},Gi=Array.isArray,_j=/\/$/,wj=t=>t.replace(_j,"");function jv(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let h=e.indexOf("?");return c<h&&c>=0&&(h=-1),h>-1&&(i=e.slice(0,h),o=e.slice(h+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=Tj(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function bj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ej(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Rl(e.matched[i],n.matched[s])&&f2(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Rl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function f2(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Ij(t[n],e[n]))return!1;return!0}function Ij(t,e){return Gi(t)?HA(t,e):Gi(e)?HA(e,t):t===e}function HA(t,e){return Gi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function Tj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var ad;(function(t){t.pop="pop",t.push="push"})(ad||(ad={}));var Nc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Nc||(Nc={}));function Aj(t){if(!t)if(Wa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),wj(t)}const Sj=/^[^#]+#/;function Cj(t,e){return t.replace(Sj,"#")+e}function Rj(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Cm=()=>({left:window.pageXOffset,top:window.pageYOffset});function Pj(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Rj(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function qA(t,e){return(history.state?history.state.position-e:-1)+t}const Yy=new Map;function kj(t,e){Yy.set(t,e)}function Oj(t){const e=Yy.get(t);return Yy.delete(t),e}let xj=()=>location.protocol+"//"+location.host;function p2(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,h=s.slice(c);return h[0]!=="/"&&(h="/"+h),jA(h,"")}return jA(n,t)+i+s}function Nj(t,e,n,i){let s=[],o=[],l=null;const c=({state:y})=>{const b=p2(t,location),T=n.value,_=e.value;let E=0;if(y){if(n.value=b,e.value=y,l&&l===T){l=null;return}E=_?y.position-_.position:0}else i(b);s.forEach(I=>{I(n.value,T,{delta:E,type:ad.pop,direction:E?E>0?Nc.forward:Nc.back:Nc.unknown})})};function h(){l=n.value}function f(y){s.push(y);const b=()=>{const T=s.indexOf(y);T>-1&&s.splice(T,1)};return o.push(b),b}function p(){const{history:y}=window;y.state&&y.replaceState(mt({},y.state,{scroll:Cm()}),"")}function v(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:h,listen:f,destroy:v}}function WA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Cm():null}}function Dj(t){const{history:e,location:n}=window,i={value:p2(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(h,f,p){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+h:xj()+t+h;try{e[p?"replaceState":"pushState"](f,"",y),s.value=f}catch(b){console.error(b),n[p?"replace":"assign"](y)}}function l(h,f){const p=mt({},e.state,WA(s.value.back,h,s.value.forward,!0),f,{position:s.value.position});o(h,p,!0),i.value=h}function c(h,f){const p=mt({},s.value,e.state,{forward:h,scroll:Cm()});o(p.current,p,!0);const v=mt({},WA(i.value,h,null),{position:p.position+1},f);o(h,v,!1),i.value=h}return{location:i,state:s,push:c,replace:l}}function Lj(t){t=Aj(t);const e=Dj(t),n=Nj(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=mt({location:"",base:t,go:i,createHref:Cj.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Mj(t){return typeof t=="string"||t&&typeof t=="object"}function m2(t){return typeof t=="string"||typeof t=="symbol"}const ms={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},g2=Symbol("");var KA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(KA||(KA={}));function Pl(t,e){return mt(new Error,{type:t,[g2]:!0},e)}function Cr(t,e){return t instanceof Error&&g2 in t&&(e==null||!!(t.type&e))}const zA="[^/]+?",Vj={sensitive:!1,strict:!1,start:!0,end:!0},Fj=/[.+*?^${}()[\]/\\]/g;function Uj(t,e){const n=mt({},Vj,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const y=f[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(s+="/"),s+=y.value.replace(Fj,"\\$&"),b+=40;else if(y.type===1){const{value:T,repeatable:_,optional:E,regexp:I}=y;o.push({name:T,repeatable:_,optional:E});const P=I||zA;if(P!==zA){b+=10;try{new RegExp(`(${P})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${T}" (${P}): `+x.message)}}let k=_?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(k=E&&f.length<2?`(?:/${k})`:"/"+k),E&&(k+="?"),s+=k,b+=20,E&&(b+=-8),_&&(b+=-20),P===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(l),v={};if(!p)return null;for(let y=1;y<p.length;y++){const b=p[y]||"",T=o[y-1];v[T.name]=b&&T.repeatable?b.split("/"):b}return v}function h(f){let p="",v=!1;for(const y of t){(!v||!p.endsWith("/"))&&(p+="/"),v=!1;for(const b of y)if(b.type===0)p+=b.value;else if(b.type===1){const{value:T,repeatable:_,optional:E}=b,I=T in f?f[T]:"";if(Gi(I)&&!_)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const P=Gi(I)?I.join("/"):I;if(!P)if(E)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):v=!0);else throw new Error(`Missing required param "${T}"`);p+=P}}return p||"/"}return{re:l,score:i,keys:o,parse:c,stringify:h}}function $j(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Bj(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=$j(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(GA(i))return 1;if(GA(s))return-1}return s.length-i.length}function GA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const jj={type:0,value:""},Hj=/[a-zA-Z0-9_]/;function qj(t){if(!t)return[[]];if(t==="/")return[[jj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${f}": ${b}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,h,f="",p="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:p,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=h}for(;c<t.length;){if(h=t[c++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(f&&v(),l()):h===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:h==="("?n=2:Hj.test(h)?y():(v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--);break;case 2:h===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+h:n=3:p+=h;break;case 3:v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function Wj(t,e,n){const i=Uj(qj(t.path),n),s=mt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Kj(t,e){const n=[],i=new Map;e=QA({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function o(p,v,y){const b=!y,T=zj(p);T.aliasOf=y&&y.record;const _=QA(e,p),E=[T];if("alias"in p){const k=typeof p.alias=="string"?[p.alias]:p.alias;for(const x of k)E.push(mt({},T,{components:y?y.record.components:T.components,path:x,aliasOf:y?y.record:T}))}let I,P;for(const k of E){const{path:x}=k;if(v&&x[0]!=="/"){const V=v.record.path,K=V[V.length-1]==="/"?"":"/";k.path=v.record.path+(x&&K+x)}if(I=Wj(k,v,_),y?y.alias.push(I):(P=P||I,P!==I&&P.alias.push(I),b&&p.name&&!JA(I)&&l(p.name)),T.children){const V=T.children;for(let K=0;K<V.length;K++)o(V[K],I,y&&y.children[K])}y=y||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&h(I)}return P?()=>{l(P)}:xc}function l(p){if(m2(p)){const v=i.get(p);v&&(i.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&i.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function h(p){let v=0;for(;v<n.length&&Bj(p,n[v])>=0&&(p.record.path!==n[v].record.path||!v2(p,n[v]));)v++;n.splice(v,0,p),p.record.name&&!JA(p)&&i.set(p.record.name,p)}function f(p,v){let y,b={},T,_;if("name"in p&&p.name){if(y=i.get(p.name),!y)throw Pl(1,{location:p});_=y.record.name,b=mt(YA(v.params,y.keys.filter(P=>!P.optional).map(P=>P.name)),p.params&&YA(p.params,y.keys.map(P=>P.name))),T=y.stringify(b)}else if("path"in p)T=p.path,y=n.find(P=>P.re.test(T)),y&&(b=y.parse(T),_=y.record.name);else{if(y=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!y)throw Pl(1,{location:p,currentLocation:v});_=y.record.name,b=mt({},v.params,p.params),T=y.stringify(b)}const E=[];let I=y;for(;I;)E.unshift(I.record),I=I.parent;return{name:_,path:T,params:b,matched:E,meta:Yj(E)}}return t.forEach(p=>o(p)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function YA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function zj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Gj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Gj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function JA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Yj(t){return t.reduce((e,n)=>mt(e,n.meta),{})}function QA(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function v2(t,e){return e.children.some(n=>n===t||v2(t,n))}const y2=/#/g,Jj=/&/g,Qj=/\//g,Xj=/=/g,Zj=/\?/g,_2=/\+/g,e7=/%5B/g,t7=/%5D/g,w2=/%5E/g,n7=/%60/g,b2=/%7B/g,i7=/%7C/g,E2=/%7D/g,r7=/%20/g;function nw(t){return encodeURI(""+t).replace(i7,"|").replace(e7,"[").replace(t7,"]")}function s7(t){return nw(t).replace(b2,"{").replace(E2,"}").replace(w2,"^")}function Jy(t){return nw(t).replace(_2,"%2B").replace(r7,"+").replace(y2,"%23").replace(Jj,"%26").replace(n7,"`").replace(b2,"{").replace(E2,"}").replace(w2,"^")}function o7(t){return Jy(t).replace(Xj,"%3D")}function a7(t){return nw(t).replace(y2,"%23").replace(Zj,"%3F")}function l7(t){return t==null?"":a7(t).replace(Qj,"%2F")}function fp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function u7(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(_2," "),l=o.indexOf("="),c=fp(l<0?o:o.slice(0,l)),h=l<0?null:fp(o.slice(l+1));if(c in e){let f=e[c];Gi(f)||(f=e[c]=[f]),f.push(h)}else e[c]=h}return e}function XA(t){let e="";for(let n in t){const i=t[n];if(n=o7(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Gi(i)?i.map(o=>o&&Jy(o)):[i&&Jy(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function c7(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Gi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const d7=Symbol(""),ZA=Symbol(""),Rm=Symbol(""),I2=Symbol(""),Qy=Symbol("");function ac(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function _s(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=v=>{v===!1?c(Pl(4,{from:n,to:e})):v instanceof Error?c(v):Mj(v)?c(Pl(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,h);let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(v=>c(v))})}function Hv(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(h7(c)){const f=(c.__vccOpts||c)[e];f&&s.push(_s(f,n,i,o,l))}else{let h=c();s.push(()=>h.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const p=yj(f)?f.default:f;o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&_s(y,n,i,o,l)()}))}}return s}function h7(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function eS(t){const e=Rt(Rm),n=Rt(I2),i=ye(()=>e.resolve(M(t.to))),s=ye(()=>{const{matched:h}=i.value,{length:f}=h,p=h[f-1],v=n.matched;if(!p||!v.length)return-1;const y=v.findIndex(Rl.bind(null,p));if(y>-1)return y;const b=tS(h[f-2]);return f>1&&tS(p)===b&&v[v.length-1].path!==b?v.findIndex(Rl.bind(null,h[f-2])):y}),o=ye(()=>s.value>-1&&m7(n.params,i.value.params)),l=ye(()=>s.value>-1&&s.value===n.matched.length-1&&f2(n.params,i.value.params));function c(h={}){return p7(h)?e[M(t.replace)?"replace":"push"](M(t.to)).catch(xc):Promise.resolve()}return{route:i,href:ye(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const f7=je({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:eS,setup(t,{slots:e}){const n=si(eS(t)),{options:i}=Rt(Rm),s=ye(()=>({[nS(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[nS(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:en("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),go=f7;function p7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function m7(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Gi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function tS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nS=(t,e,n)=>t??e??n,g7=je({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Rt(Qy),s=ye(()=>t.route||i.value),o=Rt(ZA,0),l=ye(()=>{let f=M(o);const{matched:p}=s.value;let v;for(;(v=p[f])&&!v.components;)f++;return f}),c=ye(()=>s.value.matched[l.value]);Qn(ZA,ye(()=>l.value+1)),Qn(d7,c),Qn(Qy,s);const h=ie();return wi(()=>[h.value,c.value,t.name],([f,p,v],[y,b,T])=>{p&&(p.instances[v]=f,b&&b!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),f&&p&&(!b||!Rl(p,b)||!y)&&(p.enterCallbacks[v]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,v=c.value,y=v&&v.components[p];if(!y)return iS(n.default,{Component:y,route:f});const b=v.props[p],T=b?b===!0?f.params:typeof b=="function"?b(f):b:null,E=en(y,mt({},T,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(v.instances[p]=null)},ref:h}));return iS(n.default,{Component:E,route:f})||E}}});function iS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const T2=g7;function v7(t){const e=Kj(t.routes,t),n=t.parseQuery||u7,i=t.stringifyQuery||XA,s=t.history,o=ac(),l=ac(),c=ac(),h=Ok(ms);let f=ms;Wa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Bv.bind(null,R=>""+R),v=Bv.bind(null,l7),y=Bv.bind(null,fp);function b(R,fe){let Z,Ee;return m2(R)?(Z=e.getRecordMatcher(R),Ee=fe):Ee=R,e.addRoute(Ee,Z)}function T(R){const fe=e.getRecordMatcher(R);fe&&e.removeRoute(fe)}function _(){return e.getRoutes().map(R=>R.record)}function E(R){return!!e.getRecordMatcher(R)}function I(R,fe){if(fe=mt({},fe||h.value),typeof R=="string"){const O=jv(n,R,fe.path),L=e.resolve({path:O.path},fe),$=s.createHref(O.fullPath);return mt(O,L,{params:y(L.params),hash:fp(O.hash),redirectedFrom:void 0,href:$})}let Z;if("path"in R)Z=mt({},R,{path:jv(n,R.path,fe.path).path});else{const O=mt({},R.params);for(const L in O)O[L]==null&&delete O[L];Z=mt({},R,{params:v(O)}),fe.params=v(fe.params)}const Ee=e.resolve(Z,fe),st=R.hash||"";Ee.params=p(y(Ee.params));const S=bj(i,mt({},R,{hash:s7(st),path:Ee.path})),C=s.createHref(S);return mt({fullPath:S,hash:st,query:i===XA?c7(R.query):R.query||{}},Ee,{redirectedFrom:void 0,href:C})}function P(R){return typeof R=="string"?jv(n,R,h.value.path):mt({},R)}function k(R,fe){if(f!==R)return Pl(8,{from:fe,to:R})}function x(R){return re(R)}function V(R){return x(mt(P(R),{replace:!0}))}function K(R){const fe=R.matched[R.matched.length-1];if(fe&&fe.redirect){const{redirect:Z}=fe;let Ee=typeof Z=="function"?Z(R):Z;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=P(Ee):{path:Ee},Ee.params={}),mt({query:R.query,hash:R.hash,params:"path"in Ee?{}:R.params},Ee)}}function re(R,fe){const Z=f=I(R),Ee=h.value,st=R.state,S=R.force,C=R.replace===!0,O=K(Z);if(O)return re(mt(P(O),{state:typeof O=="object"?mt({},st,O.state):st,force:S,replace:C}),fe||Z);const L=Z;L.redirectedFrom=fe;let $;return!S&&Ej(i,Ee,Z)&&($=Pl(16,{to:L,from:Ee}),Kt(Ee,Ee,!0,!1)),($?Promise.resolve($):we(L,Ee)).catch(H=>Cr(H)?Cr(H,2)?H:Ze(H):Ae(H,L,Ee)).then(H=>{if(H){if(Cr(H,2))return re(mt({replace:C},P(H.to),{state:typeof H.to=="object"?mt({},st,H.to.state):st,force:S}),fe||L)}else H=Q(L,Ee,!0,C,st);return le(L,Ee,H),H})}function j(R,fe){const Z=k(R,fe);return Z?Promise.reject(Z):Promise.resolve()}function ee(R){const fe=ui.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(R):R()}function we(R,fe){let Z;const[Ee,st,S]=y7(R,fe);Z=Hv(Ee.reverse(),"beforeRouteLeave",R,fe);for(const O of Ee)O.leaveGuards.forEach(L=>{Z.push(_s(L,R,fe))});const C=j.bind(null,R,fe);return Z.push(C),te(Z).then(()=>{Z=[];for(const O of o.list())Z.push(_s(O,R,fe));return Z.push(C),te(Z)}).then(()=>{Z=Hv(st,"beforeRouteUpdate",R,fe);for(const O of st)O.updateGuards.forEach(L=>{Z.push(_s(L,R,fe))});return Z.push(C),te(Z)}).then(()=>{Z=[];for(const O of S)if(O.beforeEnter)if(Gi(O.beforeEnter))for(const L of O.beforeEnter)Z.push(_s(L,R,fe));else Z.push(_s(O.beforeEnter,R,fe));return Z.push(C),te(Z)}).then(()=>(R.matched.forEach(O=>O.enterCallbacks={}),Z=Hv(S,"beforeRouteEnter",R,fe),Z.push(C),te(Z))).then(()=>{Z=[];for(const O of l.list())Z.push(_s(O,R,fe));return Z.push(C),te(Z)}).catch(O=>Cr(O,8)?O:Promise.reject(O))}function le(R,fe,Z){c.list().forEach(Ee=>ee(()=>Ee(R,fe,Z)))}function Q(R,fe,Z,Ee,st){const S=k(R,fe);if(S)return S;const C=fe===ms,O=Wa?history.state:{};Z&&(Ee||C?s.replace(R.fullPath,mt({scroll:C&&O&&O.scroll},st)):s.push(R.fullPath,st)),h.value=R,Kt(R,fe,Z,C),Ze()}let ae;function Xe(){ae||(ae=s.listen((R,fe,Z)=>{if(!qs.listening)return;const Ee=I(R),st=K(Ee);if(st){re(mt(st,{replace:!0}),Ee).catch(xc);return}f=Ee;const S=h.value;Wa&&kj(qA(S.fullPath,Z.delta),Cm()),we(Ee,S).catch(C=>Cr(C,12)?C:Cr(C,2)?(re(C.to,Ee).then(O=>{Cr(O,20)&&!Z.delta&&Z.type===ad.pop&&s.go(-1,!1)}).catch(xc),Promise.reject()):(Z.delta&&s.go(-Z.delta,!1),Ae(C,Ee,S))).then(C=>{C=C||Q(Ee,S,!1),C&&(Z.delta&&!Cr(C,8)?s.go(-Z.delta,!1):Z.type===ad.pop&&Cr(C,20)&&s.go(-1,!1)),le(Ee,S,C)}).catch(xc)}))}let Re=ac(),Y=ac(),de;function Ae(R,fe,Z){Ze(R);const Ee=Y.list();return Ee.length?Ee.forEach(st=>st(R,fe,Z)):console.error(R),Promise.reject(R)}function wt(){return de&&h.value!==ms?Promise.resolve():new Promise((R,fe)=>{Re.add([R,fe])})}function Ze(R){return de||(de=!R,Xe(),Re.list().forEach(([fe,Z])=>R?Z(R):fe()),Re.reset()),R}function Kt(R,fe,Z,Ee){const{scrollBehavior:st}=t;if(!Wa||!st)return Promise.resolve();const S=!Z&&Oj(qA(R.fullPath,0))||(Ee||!Z)&&history.state&&history.state.scroll||null;return ji().then(()=>st(R,fe,S)).then(C=>C&&Pj(C)).catch(C=>Ae(C,R,fe))}const et=R=>s.go(R);let Ti;const ui=new Set,qs={currentRoute:h,listening:!0,addRoute:b,removeRoute:T,hasRoute:E,getRoutes:_,resolve:I,options:t,push:x,replace:V,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:Y.add,isReady:wt,install(R){const fe=this;R.component("RouterLink",go),R.component("RouterView",T2),R.config.globalProperties.$router=fe,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>M(h)}),Wa&&!Ti&&h.value===ms&&(Ti=!0,x(s.location).catch(st=>{}));const Z={};for(const st in ms)Object.defineProperty(Z,st,{get:()=>h.value[st],enumerable:!0});R.provide(Rm,fe),R.provide(I2,Sk(Z)),R.provide(Qy,h);const Ee=R.unmount;ui.add(R),R.unmount=function(){ui.delete(R),ui.size<1&&(f=ms,ae&&ae(),ae=null,h.value=ms,Ti=!1,de=!1),Ee()}}};function te(R){return R.reduce((fe,Z)=>fe.then(()=>ee(Z)),Promise.resolve())}return qs}function y7(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>Rl(f,c))?i.push(c):n.push(c));const h=t.matched[l];h&&(e.matched.find(f=>Rl(f,h))||s.push(h))}return[n,i,s]}function A2(){return Rt(Rm)}const oi=h2("ModalStore",()=>{const t=si({addjob:!1,editjob:!1,addad:!1,addbid:!1,editad:!1,confirmremove:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=si({show:!1,message:"",type:"",context:{}}),i=si({show:!1,message:"",type:"",context:{}});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}}}}),_7={key:0},w7=je({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(ce(),qe("div",_7,[N("div",{class:Tn(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):lt("",!0)}});const b7=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},E7=b7(w7,[["__scopeId","data-v-634cf170"]]),I7=["disabled"],js=je({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(ce(),qe("button",{class:Tn([t.classes,"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"]),disabled:t.disabled,onClick:i},[X(E7,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?lt("",!0):zk(s.$slots,"default",{key:0})],10,I7))}});function vn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,vn),i}var kl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(kl||{}),Ts=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ts||{});function Zn({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=C2(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return qv(c);if(e&1){let h=(o=l.unmount)==null||o?0:1;return vn(h,{0(){return null},1(){return qv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return qv(c)}function qv({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...h}=iw(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),p={};if(i){let v=!1,y=[];for(let[b,T]of Object.entries(i))typeof T=="boolean"&&(v=!0),T===!0&&y.push(b);v&&(p["data-headlessui-state"]=y.join(" "))}if(c==="template"){if(f=S2(f??[]),Object.keys(h).length>0||Object.keys(e).length>0){let[v,...y]=f??[];if(!A7(v)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(e)).map(_=>_.trim()).filter((_,E,I)=>I.indexOf(_)===E).sort((_,E)=>_.localeCompare(E)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let b=C2((l=v.props)!=null?l:{},h),T=Hr(v,b);for(let _ in b)_.startsWith("on")&&(T.props||(T.props={}),T.props[_]=b[_]);return T}return Array.isArray(f)&&f.length===1?f[0]:f}return en(c,Object.assign({},h,p),{default:()=>f})}function S2(t){return t.flatMap(e=>e.type===yt?S2(e.children):[e])}function C2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function T7(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function iw(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function A7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let S7=0;function C7(){return++S7}function Hs(){return C7()}var ln=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ln||{});function R7(t){throw new Error("Unexpected object: "+t)}var zn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(zn||{});function P7(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1,o=(()=>{switch(t.focus){case 0:return n.findIndex(l=>!e.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,h,f)=>s!==-1&&f.length-h-1>=s?!1:!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=s?!1:!e.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>e.resolveId(l)===t.id);case 5:return null;default:R7(t)}})();return o===-1?i:o}function He(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let R2=Symbol("Context");var An=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(An||{});function k7(){return Pm()!==null}function Pm(){return Rt(R2,null)}function P2(t){Qn(R2,t)}function rS(t,e){if(t)return t;let n=e??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function O7(t,e){let n=ie(rS(t.value.type,t.value.as));return Vt(()=>{n.value=rS(t.value.type,t.value.as)}),Ei(()=>{var i;n.value||He(e)&&He(e)instanceof HTMLButtonElement&&!((i=He(e))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var x7=Object.defineProperty,N7=(t,e,n)=>e in t?x7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sS=(t,e,n)=>(N7(t,typeof e!="symbol"?e+"":e,n),n);class D7{constructor(){sS(this,"current",this.detect()),sS(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Dd=new D7;function ql(t){if(Dd.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=He(t);if(e)return e.ownerDocument}return document}let Xy=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ws=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ws||{}),k2=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(k2||{}),L7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(L7||{});function M7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Xy)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var rw=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(rw||{});function O2(t,e=0){var n;return t===((n=ql(t))==null?void 0:n.body)?!1:vn(e,{0(){return t.matches(Xy)},1(){let i=t;for(;i!==null;){if(i.matches(Xy))return!0;i=i.parentElement}return!1}})}var V7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(V7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Mo(t){t==null||t.focus({preventScroll:!0})}let F7=["textarea","input"].join(",");function U7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,F7))!=null?n:!1}function x2(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Pf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?x2(t):t:M7(t);s.length>0&&c.length>1&&(c=c.filter(T=>!s.includes(T))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,y=c.length,b;do{if(v>=y||v+y<=0)return 0;let T=f+v;if(e&16)T=(T+y)%y;else{if(T<0)return 3;if(T>=y)return 1}b=c[T],b==null||b.focus(p),v+=h}while(b!==l.activeElement);return e&6&&U7(b)&&b.select(),2}function mf(t,e,n){Dd.isServer||Ei(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function N2(t,e,n){Dd.isServer||Ei(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function D2(t,e,n=ye(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:He(f);if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!O2(c,rw.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=ie(null);mf("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),mf("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),mf("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),mf("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),N2("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var ld=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ld||{});let pp=je({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Zn({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function L2(t={},e=null,n=[]){for(let[i,s]of Object.entries(t))V2(n,M2(e,i),s);return n}function M2(t,e){return t?t+"["+e+"]":e}function V2(t,e,n){if(Array.isArray(n))for(let[i,s]of n.entries())V2(t,M2(e,i.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):L2(n,e,t)}function $7(t,e,n){let i=ie(n==null?void 0:n.value),s=ye(()=>t.value!==void 0);return[ye(()=>s.value?t.value:i.value),function(o){return s.value||(i.value=o),e==null?void 0:e(o)}]}function oS(t){return[t.screenX,t.screenY]}function B7(){let t=ie([-1,-1]);return{wasMoved(e){let n=oS(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=oS(e)}}}function j7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function sw(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ld(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return sw(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=Ld();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var _c=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(_c||{});function H7(){let t=ie(0);return N2("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function F2(t,e,n,i){Dd.isServer||Ei(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function q7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function U2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=He(n);i instanceof HTMLElement&&e.add(i)}return e}var $2=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))($2||{});let lc=Object.assign(je({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:ie(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=ie(null);i({el:s,$el:s});let o=ye(()=>ql(s)),l=ie(!1);Vt(()=>l.value=!0),li(()=>l.value=!1),K7({ownerDocument:o},ye(()=>l.value&&!!(t.features&16)));let c=z7({ownerDocument:o,container:s,initialFocus:ye(()=>t.initialFocus)},ye(()=>l.value&&!!(t.features&2)));G7({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},ye(()=>l.value&&!!(t.features&8)));let h=H7();function f(b){let T=He(s);T&&(_=>_())(()=>{vn(h.value,{[_c.Forwards]:()=>{Pf(T,ws.First,{skipElements:[b.relatedTarget]})},[_c.Backwards]:()=>{Pf(T,ws.Last,{skipElements:[b.relatedTarget]})}})})}let p=ie(!1);function v(b){b.key==="Tab"&&(p.value=!0,requestAnimationFrame(()=>{p.value=!1}))}function y(b){if(!l.value)return;let T=U2(t.containers);He(s)instanceof HTMLElement&&T.add(He(s));let _=b.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(B2(T,_)||(p.value?Pf(He(s),vn(h.value,{[_c.Forwards]:()=>ws.Next,[_c.Backwards]:()=>ws.Previous})|ws.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&Mo(b.target)))}return()=>{let b={},T={ref:s,onKeydown:v,onFocusout:y},{features:_,initialFocus:E,containers:I,...P}=t;return en(yt,[!!(_&4)&&en(pp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:ld.Focusable}),Zn({ourProps:T,theirProps:{...e,...P},slot:b,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&en(pp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:ld.Focusable})])}}}),{features:$2}),bo=[];q7(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&bo[0]!==e.target&&(bo.unshift(e.target),bo=bo.filter(n=>n!=null&&n.isConnected),bo.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function W7(t){let e=ie(bo.slice());return wi([t],([n],[i])=>{i===!0&&n===!1?sw(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=bo.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function K7({ownerDocument:t},e){let n=W7(e);Vt(()=>{Ei(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&Mo(n())},{flush:"post"})}),li(()=>{e.value&&Mo(n())})}function z7({ownerDocument:t,container:e,initialFocus:n},i){let s=ie(null),o=ie(!1);return Vt(()=>o.value=!0),li(()=>o.value=!1),Vt(()=>{wi([e,n,i],(l,c)=>{if(l.every((f,p)=>(c==null?void 0:c[p])===f)||!i.value)return;let h=He(e);h&&sw(()=>{var f,p;if(!o.value)return;let v=He(n),y=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===y){s.value=y;return}}else if(h.contains(y)){s.value=y;return}v?Mo(v):Pf(h,ws.First|ws.NoScroll)===k2.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(p=t.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),s}function G7({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;F2((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=U2(n);He(e)instanceof HTMLElement&&c.add(He(e));let h=i.value;if(!h)return;let f=l.target;f&&f instanceof HTMLElement?B2(c,f)?(i.value=f,Mo(f)):(l.preventDefault(),l.stopPropagation(),Mo(h)):Mo(i.value)},!0)}function B2(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let Wv=new Map,uc=new Map;function aS(t,e=ie(!0)){Ei(n=>{var i;if(!e.value)return;let s=He(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=uc.get(s))!=null?l:1;if(c===1?uc.delete(s):uc.set(s,c-1),c!==1)return;let h=Wv.get(s);h&&(h["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",h["aria-hidden"]),s.inert=h.inert,Wv.delete(s))});let o=(i=uc.get(s))!=null?i:0;uc.set(s,o+1),o===0&&(Wv.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let j2=Symbol("ForcePortalRootContext");function Y7(){return Rt(j2,!1)}let lS=je({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Qn(j2,t.force),()=>{let{force:i,...s}=t;return Zn({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function J7(t){let e=ql(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let Q7=je({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=ie(null),s=ye(()=>ql(i)),o=Y7(),l=Rt(H2,null),c=ie(o===!0||l==null?J7(i.value):l.resolveTarget());Ei(()=>{o||l!=null&&(c.value=l.resolveTarget())});let h=Rt(Zy,null);return Vt(()=>{let f=He(i);f&&h&&li(h.register(f))}),li(()=>{var f,p;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((p=c.value.parentElement)==null||p.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return en(aB,{to:c.value},Zn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Zy=Symbol("PortalParentContext");function X7(){let t=Rt(Zy,null),e=ie([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,je({name:"PortalWrapper",setup(o,{slots:l}){return Qn(Zy,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let H2=Symbol("PortalGroupContext"),Z7=je({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=si({resolveTarget(){return t.target}});return Qn(H2,i),()=>{let{target:s,...o}=t;return Zn({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),q2=Symbol("StackContext");var e_=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(e_||{});function e8(){return Rt(q2,()=>{})}function t8({type:t,enabled:e,element:n,onUpdate:i}){let s=e8();function o(...l){i==null||i(...l),s(...l)}Vt(()=>{wi(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),li(()=>{e.value&&o(1,t,n)}),Qn(q2,o)}let W2=Symbol("DescriptionContext");function n8(){let t=Rt(W2,null);if(t===null)throw new Error("Missing parent");return t}function i8({slot:t=ie({}),name:e="Description",props:n={}}={}){let i=ie([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return Qn(W2,{register:s,slot:t,name:e,props:n}),ye(()=>i.value.length>0?i.value.join(" "):void 0)}let r8=je({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${Hs()}`}},setup(t,{attrs:e,slots:n}){let i=n8();return Vt(()=>li(i.register(t.id))),()=>{let{name:s="Description",slot:o=ie({}),props:l={}}=i,{id:c,...h}=t,f={...Object.entries(l).reduce((p,[v,y])=>Object.assign(p,{[v]:M(y)}),{}),id:c};return Zn({ourProps:f,theirProps:h,slot:o.value,attrs:e,slots:n,name:s})}}});function s8(t){let e=Ok(t.getSnapshot());return li(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function o8(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function a8(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function l8(){if(!j7())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Ld();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),f=e.querySelector(h);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function u8(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function c8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Co=o8(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ld(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:c8(n)},s=[l8(),a8(),u8()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Co.subscribe(()=>{let t=Co.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&Co.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Co.dispatch("TEARDOWN",n)}});function d8(t,e,n){let i=s8(Co),s=ye(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return wi([t,e],([o,l],[c],h)=>{if(!o||!l)return;Co.dispatch("PUSH",o,n);let f=!1;h(()=>{f||(Co.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function h8({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=ie(null),s=ql(i);function o(){var l;let c=[];for(let h of t)h!==null&&(h instanceof HTMLElement?c.push(h):"value"in h&&h.value instanceof HTMLElement&&c.push(h.value));if(e!=null&&e.value)for(let h of e.value)c.push(h);for(let h of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(He(i))||c.some(f=>h.contains(f))||c.push(h));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:en(pp,{features:ld.Hidden,ref:i})}}}var f8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(f8||{});let t_=Symbol("DialogContext");function ow(t){let e=Rt(t_,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ow),n}return e}let gf="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Wl=je({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:gf},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Hs()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=ie(!1);Vt(()=>{l.value=!0});let c=ie(0),h=Pm(),f=ye(()=>t.open===gf&&h!==null?(h.value&An.Open)===An.Open:t.open),p=ie(null),v=ye(()=>ql(p));if(s({el:p,$el:p}),!(t.open!==gf||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===gf?void 0:t.open}`);let y=ye(()=>l.value&&f.value?0:1),b=ye(()=>y.value===0),T=ye(()=>c.value>1),_=Rt(t_,null)!==null,[E,I]=X7(),{resolveContainers:P,mainTreeNodeRef:k,MainTreeNode:x}=h8({portals:E,defaultContainers:[ye(()=>{var de;return(de=ae.panelRef.value)!=null?de:p.value})]}),V=ye(()=>T.value?"parent":"leaf"),K=ye(()=>h!==null?(h.value&An.Closing)===An.Closing:!1),re=ye(()=>_||K.value?!1:b.value),j=ye(()=>{var de,Ae,wt;return(wt=Array.from((Ae=(de=v.value)==null?void 0:de.querySelectorAll("body > *"))!=null?Ae:[]).find(Ze=>Ze.id==="headlessui-portal-root"?!1:Ze.contains(He(k))&&Ze instanceof HTMLElement))!=null?wt:null});aS(j,re);let ee=ye(()=>T.value?!0:b.value),we=ye(()=>{var de,Ae,wt;return(wt=Array.from((Ae=(de=v.value)==null?void 0:de.querySelectorAll("[data-headlessui-portal]"))!=null?Ae:[]).find(Ze=>Ze.contains(He(k))&&Ze instanceof HTMLElement))!=null?wt:null});aS(we,ee),t8({type:"Dialog",enabled:ye(()=>y.value===0),element:p,onUpdate:(de,Ae)=>{if(Ae==="Dialog")return vn(de,{[e_.Add]:()=>c.value+=1,[e_.Remove]:()=>c.value-=1})}});let le=i8({name:"DialogDescription",slot:ye(()=>({open:f.value}))}),Q=ie(null),ae={titleId:Q,panelRef:ie(null),dialogState:y,setTitleId(de){Q.value!==de&&(Q.value=de)},close(){e("close",!1)}};Qn(t_,ae);let Xe=ye(()=>!(!b.value||T.value));D2(P,(de,Ae)=>{ae.close(),ji(()=>Ae==null?void 0:Ae.focus())},Xe);let Re=ye(()=>!(T.value||y.value!==0));F2((o=v.value)==null?void 0:o.defaultView,"keydown",de=>{Re.value&&(de.defaultPrevented||de.key===ln.Escape&&(de.preventDefault(),de.stopPropagation(),ae.close()))});let Y=ye(()=>!(K.value||y.value!==0||_));return d8(v,Y,de=>{var Ae;return{containers:[...(Ae=de.containers)!=null?Ae:[],P]}}),Ei(de=>{if(y.value!==0)return;let Ae=He(p);if(!Ae)return;let wt=new ResizeObserver(Ze=>{for(let Kt of Ze){let et=Kt.target.getBoundingClientRect();et.x===0&&et.y===0&&et.width===0&&et.height===0&&ae.close()}});wt.observe(Ae),de(()=>wt.disconnect())}),()=>{let{id:de,open:Ae,initialFocus:wt,...Ze}=t,Kt={...n,ref:p,id:de,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":Q.value,"aria-describedby":le.value},et={open:y.value===0};return en(lS,{force:!0},()=>[en(Q7,()=>en(Z7,{target:p.value},()=>en(lS,{force:!1},()=>en(lc,{initialFocus:wt,containers:P,features:b.value?vn(V.value,{parent:lc.features.RestoreFocus,leaf:lc.features.All&~lc.features.FocusLock}):lc.features.None},()=>en(I,{},()=>Zn({ourProps:Kt,theirProps:{...Ze,...n},slot:et,attrs:n,slots:i,visible:y.value===0,features:kl.RenderStrategy|kl.Static,name:"Dialog"})))))),en(x)])}}}),Kl=je({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${Hs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=ow("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,h={id:l,ref:s.panelRef,onClick:o};return Zn({ourProps:h,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),zl=je({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${Hs()}`}},setup(t,{attrs:e,slots:n}){let i=ow("DialogTitle");return Vt(()=>{i.setTitleId(t.id),li(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return Zn({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),Gl=r8,uS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function cS(t){var e,n;let i=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":i;return uS.test(l)&&(l=l.replace(uS,"")),l}function p8(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():cS(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return cS(t).trim()}function m8(t){let e=ie(""),n=ie("");return()=>{let i=He(t);if(!i)return"";let s=i.innerText;if(e.value===s)return n.value;let o=p8(i).trim().toLowerCase();return e.value=s,n.value=o,o}}function g8(t,e){return t===e}var v8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(v8||{}),y8=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(y8||{}),_8=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(_8||{});function w8(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let K2=Symbol("ListboxContext");function km(t){let e=Rt(K2,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,km),n}return e}let b8=je({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>g8},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:n,emit:i}){let s=ie(1),o=ie(null),l=ie(null),c=ie(null),h=ie([]),f=ie(""),p=ie(null),v=ie(1);function y(k=x=>x){let x=p.value!==null?h.value[p.value]:null,V=x2(k(h.value.slice()),re=>He(re.dataRef.domRef)),K=x?V.indexOf(x):null;return K===-1&&(K=null),{options:V,activeOptionIndex:K}}let b=ye(()=>t.multiple?1:0),[T,_]=$7(ye(()=>t.modelValue),k=>i("update:modelValue",k),ye(()=>t.defaultValue)),E=ye(()=>T.value===void 0?vn(b.value,{1:[],0:void 0}):T.value),I={listboxState:s,value:E,mode:b,compare(k,x){if(typeof t.by=="string"){let V=t.by;return(k==null?void 0:k[V])===(x==null?void 0:x[V])}return t.by(k,x)},orientation:ye(()=>t.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:l,optionsRef:c,disabled:ye(()=>t.disabled),options:h,searchQuery:f,activeOptionIndex:p,activationTrigger:v,closeListbox(){t.disabled||s.value!==1&&(s.value=1,p.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(k,x,V){if(t.disabled||s.value===1)return;let K=y(),re=P7(k===zn.Specific?{focus:zn.Specific,id:x}:{focus:k},{resolveItems:()=>K.options,resolveActiveIndex:()=>K.activeOptionIndex,resolveId:j=>j.id,resolveDisabled:j=>j.dataRef.disabled});f.value="",p.value=re,v.value=V??1,h.value=K.options},search(k){if(t.disabled||s.value===1)return;let x=f.value!==""?0:1;f.value+=k.toLowerCase();let V=(p.value!==null?h.value.slice(p.value+x).concat(h.value.slice(0,p.value+x)):h.value).find(re=>re.dataRef.textValue.startsWith(f.value)&&!re.dataRef.disabled),K=V?h.value.indexOf(V):-1;K===-1||K===p.value||(p.value=K,v.value=1)},clearSearch(){t.disabled||s.value!==1&&f.value!==""&&(f.value="")},registerOption(k,x){let V=y(K=>[...K,{id:k,dataRef:x}]);h.value=V.options,p.value=V.activeOptionIndex},unregisterOption(k){let x=y(V=>{let K=V.findIndex(re=>re.id===k);return K!==-1&&V.splice(K,1),V});h.value=x.options,p.value=x.activeOptionIndex,v.value=1},theirOnChange(k){t.disabled||_(k)},select(k){t.disabled||_(vn(b.value,{0:()=>k,1:()=>{let x=Ne(I.value.value).slice(),V=Ne(k),K=x.findIndex(re=>I.compare(V,Ne(re)));return K===-1?x.push(V):x.splice(K,1),x}}))}};D2([l,c],(k,x)=>{var V;I.closeListbox(),O2(x,rw.Loose)||(k.preventDefault(),(V=He(l))==null||V.focus())},ye(()=>s.value===0)),Qn(K2,I),P2(ye(()=>vn(s.value,{0:An.Open,1:An.Closed})));let P=ye(()=>{var k;return(k=He(l))==null?void 0:k.closest("form")});return Vt(()=>{wi([P],()=>{if(!P.value||t.defaultValue===void 0)return;function k(){I.theirOnChange(t.defaultValue)}return P.value.addEventListener("reset",k),()=>{var x;(x=P.value)==null||x.removeEventListener("reset",k)}},{immediate:!0})}),()=>{let{name:k,modelValue:x,disabled:V,form:K,...re}=t,j={open:s.value===0,disabled:V,value:E.value};return en(yt,[...k!=null&&E.value!=null?L2({[k]:E.value}).map(([ee,we])=>en(pp,T7({features:ld.Hidden,key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:K,name:ee,value:we}))):[],Zn({ourProps:{},theirProps:{...n,...iw(re,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:j,slots:e,attrs:n,name:"Listbox"})])}}}),E8=je({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${Hs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=km("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function o(f){switch(f.key){case ln.Space:case ln.Enter:case ln.ArrowDown:f.preventDefault(),s.openListbox(),ji(()=>{var p;(p=He(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(zn.First)});break;case ln.ArrowUp:f.preventDefault(),s.openListbox(),ji(()=>{var p;(p=He(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(zn.Last)});break}}function l(f){switch(f.key){case ln.Space:f.preventDefault();break}}function c(f){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),ji(()=>{var p;return(p=He(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),s.openListbox(),w8(()=>{var p;return(p=He(s.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=O7(ye(()=>({as:t.as,type:e.type})),s.buttonRef);return()=>{var f,p;let v={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{id:y,...b}=t,T={ref:s.buttonRef,id:y,type:h.value,"aria-haspopup":"listbox","aria-controls":(f=He(s.optionsRef))==null?void 0:f.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(p=He(s.labelRef))==null?void 0:p.id,y].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:l,onClick:c};return Zn({ourProps:T,theirProps:b,slot:v,attrs:e,slots:n,name:"ListboxButton"})}}}),I8=je({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${Hs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=km("ListboxOptions"),o=ie(null);i({el:s.optionsRef,$el:s.optionsRef});function l(f){switch(o.value&&clearTimeout(o.value),f.key){case ln.Space:if(s.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case ln.Enter:if(f.preventDefault(),f.stopPropagation(),s.activeOptionIndex.value!==null){let p=s.options.value[s.activeOptionIndex.value];s.select(p.dataRef.value)}s.mode.value===0&&(s.closeListbox(),ji(()=>{var p;return(p=He(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case vn(s.orientation.value,{vertical:ln.ArrowDown,horizontal:ln.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption(zn.Next);case vn(s.orientation.value,{vertical:ln.ArrowUp,horizontal:ln.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption(zn.Previous);case ln.Home:case ln.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption(zn.First);case ln.End:case ln.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption(zn.Last);case ln.Escape:f.preventDefault(),f.stopPropagation(),s.closeListbox(),ji(()=>{var p;return(p=He(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case ln.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),o.value=setTimeout(()=>s.clearSearch(),350));break}}let c=Pm(),h=ye(()=>c!==null?(c.value&An.Open)===An.Open:s.listboxState.value===0);return()=>{var f,p,v,y;let b={open:s.listboxState.value===0},{id:T,..._}=t,E={"aria-activedescendant":s.activeOptionIndex.value===null||(f=s.options.value[s.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(y=(p=He(s.labelRef))==null?void 0:p.id)!=null?y:(v=He(s.buttonRef))==null?void 0:v.id,"aria-orientation":s.orientation.value,id:T,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return Zn({ourProps:E,theirProps:_,slot:b,attrs:e,slots:n,features:kl.RenderStrategy|kl.Static,visible:h.value,name:"ListboxOptions"})}}}),T8=je({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${Hs()}`}},setup(t,{slots:e,attrs:n,expose:i}){let s=km("ListboxOption"),o=ie(null);i({el:o,$el:o});let l=ye(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===t.id:!1),c=ye(()=>vn(s.mode.value,{0:()=>s.compare(Ne(s.value.value),Ne(t.value)),1:()=>Ne(s.value.value).some(I=>s.compare(Ne(I),Ne(t.value)))})),h=ye(()=>vn(s.mode.value,{1:()=>{var I;let P=Ne(s.value.value);return((I=s.options.value.find(k=>P.some(x=>s.compare(Ne(x),Ne(k.dataRef.value)))))==null?void 0:I.id)===t.id},0:()=>c.value})),f=m8(o),p=ye(()=>({disabled:t.disabled,value:t.value,get textValue(){return f()},domRef:o}));Vt(()=>s.registerOption(t.id,p)),li(()=>s.unregisterOption(t.id)),Vt(()=>{wi([s.listboxState,c],()=>{s.listboxState.value===0&&c.value&&vn(s.mode.value,{1:()=>{h.value&&s.goToOption(zn.Specific,t.id)},0:()=>{s.goToOption(zn.Specific,t.id)}})},{immediate:!0})}),Ei(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&ji(()=>{var I,P;return(P=(I=He(o))==null?void 0:I.scrollIntoView)==null?void 0:P.call(I,{block:"nearest"})})});function v(I){if(t.disabled)return I.preventDefault();s.select(t.value),s.mode.value===0&&(s.closeListbox(),ji(()=>{var P;return(P=He(s.buttonRef))==null?void 0:P.focus({preventScroll:!0})}))}function y(){if(t.disabled)return s.goToOption(zn.Nothing);s.goToOption(zn.Specific,t.id)}let b=B7();function T(I){b.update(I)}function _(I){b.wasMoved(I)&&(t.disabled||l.value||s.goToOption(zn.Specific,t.id,0))}function E(I){b.wasMoved(I)&&(t.disabled||l.value&&s.goToOption(zn.Nothing))}return()=>{let{disabled:I}=t,P={active:l.value,selected:c.value,disabled:I},{id:k,value:x,disabled:V,...K}=t,re={id:k,ref:o,role:"option",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:v,onFocus:y,onPointerenter:T,onMouseenter:T,onPointermove:_,onMousemove:_,onPointerleave:E,onMouseleave:E};return Zn({ourProps:re,theirProps:K,slot:P,attrs:n,slots:e,name:"ListboxOption"})}}});function A8(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Kv(t,...e){t&&e.length>0&&t.classList.add(...e)}function vf(t,...e){t&&e.length>0&&t.classList.remove(...e)}var n_=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(n_||{});function S8(t,e){let n=Ld();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[h=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return h});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function dS(t,e,n,i,s,o){let l=Ld(),c=o!==void 0?A8(o):()=>{};return vf(t,...s),Kv(t,...e,...n),l.nextFrame(()=>{vf(t,...n),Kv(t,...i),l.add(S8(t,h=>(vf(t,...i,...e),Kv(t,...s),c(h))))}),l.add(()=>vf(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function po(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let aw=Symbol("TransitionContext");var C8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(C8||{});function R8(){return Rt(aw,null)!==null}function P8(){let t=Rt(aw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function k8(){let t=Rt(lw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let lw=Symbol("NestingContext");function Om(t){return"children"in t?Om(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function z2(t){let e=ie([]),n=ie(!1);Vt(()=>n.value=!0),li(()=>n.value=!1);function i(o,l=Ts.Hidden){let c=e.value.findIndex(({id:h})=>h===o);c!==-1&&(vn(l,{[Ts.Unmount](){e.value.splice(c,1)},[Ts.Hidden](){e.value[c].state="hidden"}}),!Om(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,Ts.Unmount)}return{children:e,register:s,unregister:i}}let G2=kl.RenderStrategy,Ii=je({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=ie(0);function l(){o.value|=An.Opening,e("beforeEnter")}function c(){o.value&=~An.Opening,e("afterEnter")}function h(){o.value|=An.Closing,e("beforeLeave")}function f(){o.value&=~An.Closing,e("afterLeave")}if(!R8()&&k7())return()=>en(Zo,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:h,onAfterLeave:f},i);let p=ie(null),v=ye(()=>t.unmount?Ts.Unmount:Ts.Hidden);s({el:p,$el:p});let{show:y,appear:b}=P8(),{register:T,unregister:_}=k8(),E=ie(y.value?"visible":"hidden"),I={value:!0},P=Hs(),k={value:!1},x=z2(()=>{!k.value&&E.value!=="hidden"&&(E.value="hidden",_(P),f())});Vt(()=>{let ae=T(P);li(ae)}),Ei(()=>{if(v.value===Ts.Hidden&&P){if(y.value&&E.value!=="visible"){E.value="visible";return}vn(E.value,{hidden:()=>_(P),visible:()=>T(P)})}});let V=po(t.enter),K=po(t.enterFrom),re=po(t.enterTo),j=po(t.entered),ee=po(t.leave),we=po(t.leaveFrom),le=po(t.leaveTo);Vt(()=>{Ei(()=>{if(E.value==="visible"){let ae=He(p);if(ae instanceof Comment&&ae.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Q(ae){let Xe=I.value&&!b.value,Re=He(p);!Re||!(Re instanceof HTMLElement)||Xe||(k.value=!0,y.value&&l(),y.value||h(),ae(y.value?dS(Re,V,K,re,j,Y=>{k.value=!1,Y===n_.Finished&&c()}):dS(Re,ee,we,le,j,Y=>{k.value=!1,Y===n_.Finished&&(Om(x)||(E.value="hidden",_(P),f()))})))}return Vt(()=>{wi([y],(ae,Xe,Re)=>{Q(Re),I.value=!1},{immediate:!0})}),Qn(lw,x),P2(ye(()=>vn(E.value,{visible:An.Open,hidden:An.Closed})|o.value)),()=>{let{appear:ae,show:Xe,enter:Re,enterFrom:Y,enterTo:de,entered:Ae,leave:wt,leaveFrom:Ze,leaveTo:Kt,...et}=t,Ti={ref:p},ui={...et,...b.value&&y.value&&Dd.isServer?{class:Tn([n.class,et.class,...V,...K])}:{}};return Zn({theirProps:ui,ourProps:Ti,slot:{},slots:i,attrs:n,features:G2,visible:E.value==="visible",name:"TransitionChild"})}}}),O8=Ii,Zo=je({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=Pm(),o=ye(()=>t.show===null&&s!==null?(s.value&An.Open)===An.Open:t.show);Ei(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=ie(o.value?"visible":"hidden"),c=z2(()=>{l.value="hidden"}),h=ie(!0),f={show:o,appear:ye(()=>t.appear||!h.value)};return Vt(()=>{Ei(()=>{h.value=!1,o.value?l.value="visible":Om(c)||(l.value="hidden")})}),Qn(lw,c),Qn(aw,f),()=>{let p=iw(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return Zn({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[en(O8,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...p},i.default)]},attrs:{},features:G2,visible:l.value==="visible",name:"Transition"})}}});function Y2(t,e){return ce(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function x8(t,e){return ce(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function N8(t,e){return ce(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function J2(t,e){return ce(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function Q2(t,e){return ce(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function i_(t,e){return ce(),qe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[N("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const D8={class:"relative mt-1 w-72"},L8={class:"block truncate"},M8={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},V8={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},hS=je({__name:"Listbox",props:{items:Array,modelValue:[String,Number],placeholder:String,itemLabel:{type:String,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=e,s=ie(n.modelValue),o=l=>{console.log("onChange",l),i("update:modelValue",l)};return(l,c)=>(ce(),qe("div",D8,[X(M(b8),{modelValue:s.value,"onUpdate:modelValue":o,as:"div",disabled:t.disabled},{default:he(()=>[X(M(E8),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:he(()=>[N("span",L8,Zc(s.value||t.placeholder),1),N("span",M8,[X(M(N8),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),X(M(I8),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:he(()=>[(ce(!0),qe(yt,null,Sl(t.items,h=>(ce(),rt(M(T8),{key:t.itemLabel?h[t.itemLabel]:h,value:t.itemLabel?h[t.itemLabel]:h},{default:he(({active:f,selected:p})=>[N("li",{class:Tn([{"bg-amber-100 text-amber-900":f,"text-gray-900":!f},"relative cursor-default select-none py-2 pl-10 pr-4"])},[N("span",{class:Tn([{"font-medium":p,"font-normal":!p},"block truncate"])},Zc(t.itemLabel?h[t.itemLabel]:h),3),p?(ce(),qe("span",V8,[X(M(x8),{class:"h-5 w-5","aria-hidden":"true"})])):lt("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]))}}),F8={class:"space-y-4 mb-4"},U8=N("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),$8={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},B8=["src"],j8=["onClick"],H8=N("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),q8=N("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),W8=N("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),K8=N("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),z8=N("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),G8=N("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),Y8={class:"flex justify-end space-x-2 mt-4"},J8=5*1024*1024,Q8=je({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=xn(Ht()),s=ie([]),o=ie(null),l=()=>{const I=o.value.files;for(let P=0;P<I.length;P++){const k=I[P];if(k.size>J8){alert("File size should not exceed 5MB");continue}const x=new FileReader;x.onload=V=>{s.value.push({file:k,url:V.target.result})},x.readAsDataURL(k)}},c=I=>{s.value.splice(I,1)},h=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=si({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:h,price:0,biddingEndTime:h}),p=ie(!1),v=async()=>{if(p.value=!0,y()&&i.value){const I=s.value.map(k=>k.url.split(",")[1]),P=JSON.parse(JSON.stringify(f));P.biddingEndTime=new Date(P.biddingEndTime).toISOString(),P.expectedHarvestDate=new Date(P.expectedHarvestDate).toISOString(),await Ht().createUserAd({images:I,...P,adType:i.value.accountType}),p.value=!1,n("close")}else p.value=!1},y=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime),b=ie(!1),T=ie([]),_=async()=>{b.value=!0,T.value=await Ht().getProduce(),console.log("produce",T.value),b.value=!1},E=ye(()=>{if(f.type==="")return[];const I=T.value.find(P=>P.id===f.type);return I?I.sub:[]});return Vt(async()=>{console.log("mounted"),await _()}),(I,P)=>(ce(),qe(yt,null,[N("div",F8,[U8,N("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),N("div",$8,[(ce(!0),qe(yt,null,Sl(s.value,(k,x)=>(ce(),qe("div",{key:x,class:"mr-2 relative"},[N("img",{src:k.url,class:"w-16 h-16 object-cover"},null,8,B8),N("button",{onClick:V=>c(x)},"Remove",8,j8)]))),128))]),H8,X(hS,{items:T.value,modelValue:f.type,"onUpdate:modelValue":P[0]||(P[0]=k=>f.type=k),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),q8,X(hS,{items:E.value,modelValue:f.variety,"onUpdate:modelValue":P[1]||(P[1]=k=>f.variety=k),placeholder:"Select a Variety",disabled:!f.type},null,8,["items","modelValue","disabled"]),W8,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":P[2]||(P[2]=k=>f.yieldTonnage=k)},null,512),[[gt,f.yieldTonnage]]),K8,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":P[3]||(P[3]=k=>f.expectedHarvestDate=k)},null,512),[[gt,f.expectedHarvestDate]]),z8,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":P[4]||(P[4]=k=>f.price=k)},null,512),[[gt,f.price]]),G8,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":P[5]||(P[5]=k=>f.biddingEndTime=k)},null,512),[[gt,f.biddingEndTime]])]),N("div",Y8,[N("button",{onClick:P[6]||(P[6]=k=>I.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),X(js,{onClick:v,isLoading:p.value},{default:he(()=>[ht(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),X8={class:"space-y-4 mb-4"},Z8=N("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),eH=N("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),tH=N("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),nH=N("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),iH={class:"flex justify-end space-x-2 mt-4"},rH=je({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=xn(Ht());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=si({type:"",yieldTonnage:0,requestDate:s,price:0}),l=ie(!1),c=async()=>{if(l.value=!0,h()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await Ht().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},h=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,p)=>(ce(),qe(yt,null,[N("div",X8,[Z8,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":p[0]||(p[0]=v=>o.type=v)},null,512),[[gt,o.type]]),eH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":p[1]||(p[1]=v=>o.yieldTonnage=v)},null,512),[[gt,o.yieldTonnage]]),tH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":p[2]||(p[2]=v=>o.requestDate=v)},null,512),[[gt,o.requestDate]]),nH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":p[3]||(p[3]=v=>o.price=v)},null,512),[[gt,o.price]])]),N("div",iH,[N("button",{onClick:p[4]||(p[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),X(js,{onClick:c,isLoading:l.value},{default:he(()=>[ht(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),sH=N("div",{class:"fixed inset-0 bg-black/25"},null,-1),oH={class:"fixed inset-0 overflow-y-auto"},aH={class:"flex min-h-full items-center justify-center p-4 text-center"},lH=N("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),uH=je({__name:"AddAdModal",setup(t){const{modals:e}=xn(oi()),{profile:n}=xn(Ht()),i=Ht().ACCOUNT_TYPES,s=ie(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(ce(),rt(M(Zo),{appear:"",show:s.value,as:"template"},{default:he(()=>[X(M(Wl),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:he(()=>[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[sH]),_:1}),N("div",oH,[N("div",aH,[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[X(M(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>{var h,f;return[X(M(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[ht(" New Ad ")]),_:1}),X(M(Gl),{class:"mt-2 mb-4"},{default:he(()=>[lH]),_:1}),((h=M(n))==null?void 0:h.accountType)===M(i).SELLER?(ce(),rt(Q8,{key:0,onClose:c[0]||(c[0]=p=>o(!1))})):lt("",!0),((f=M(n))==null?void 0:f.accountType)===M(i).BUYER?(ce(),rt(rH,{key:1,onClose:c[1]||(c[1]=p=>o(!1))})):lt("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),cH={class:"space-y-4 mb-4"},dH=N("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),hH={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},fH=["src"],pH=["onClick"],mH=["src"],gH=["onClick"],vH=N("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),yH=N("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),_H=N("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),wH=N("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),bH=N("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),EH={class:"flex justify-end space-x-2 mt-4"},IH=5*1024*1024,TH=je({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;xn(Ht());const s=ie([]),o=ie(null),l=()=>{const b=o.value.files;for(let T=0;T<b.length;T++){const _=b[T];if(_.size>IH){alert("File size should not exceed 5MB");continue}const E=new FileReader;E.onload=I=>{s.value.push({file:_,url:I.target.result})},E.readAsDataURL(_)}},c=b=>{s.value.splice(b,1)},h=b=>{p.resizedImages.splice(b,1)},f=JSON.parse(JSON.stringify(n.ad)),p=si({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=ie(!1),y=async()=>{v.value=!0;const b=Object.keys(p).reduce((T,_)=>(p[_]!==n.ad[_]&&(T[_]=p[_]),T),{});if(o.value.files.length>0){const T=s.value.map(_=>_.url.split(",")[1]);b.newImages=T}await Ht().editUserAd({changes:b,adId:n.ad.id}),v.value=!1,i("close")};return(b,T)=>(ce(),qe(yt,null,[N("div",cH,[dH,N("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),N("div",hH,[(ce(!0),qe(yt,null,Sl(s.value,(_,E)=>(ce(),qe("div",{key:E,class:"mr-2 relative"},[N("img",{src:_.url,class:"w-16 h-16 object-cover"},null,8,fH),N("button",{onClick:I=>c(E)},"Remove",8,pH)]))),128)),(ce(!0),qe(yt,null,Sl(p.resizedImages,(_,E)=>(ce(),qe("div",{key:E,class:"mr-2 relative"},[N("img",{src:_,class:"w-16 h-16 object-cover"},null,8,mH),N("button",{onClick:I=>h(E)},"Remove",8,gH)]))),128))]),vH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":T[0]||(T[0]=_=>p.type=_)},null,512),[[gt,p.type]]),yH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":T[1]||(T[1]=_=>p.variety=_)},null,512),[[gt,p.variety]]),_H,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":T[2]||(T[2]=_=>p.yieldTonnage=_)},null,512),[[gt,p.yieldTonnage]]),wH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":T[3]||(T[3]=_=>p.expectedHarvestDate=_)},null,512),[[gt,p.expectedHarvestDate]]),bH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":T[4]||(T[4]=_=>p.price=_)},null,512),[[gt,p.price]])]),N("div",EH,[N("button",{onClick:T[5]||(T[5]=_=>b.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),X(js,{onClick:y,isLoading:v.value},{default:he(()=>[ht(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),AH={class:"space-y-4 mb-4"},SH=N("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),CH=N("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),RH=N("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),PH=N("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),kH={class:"flex justify-end space-x-2 mt-4"},OH=je({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;xn(Ht());const s=JSON.parse(JSON.stringify(n.ad)),o=si({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=ie(!1),c=async()=>{l.value=!0;const h=Object.keys(o).reduce((f,p)=>(o[p]!==n.ad[p]&&(f[p]=o[p]),f),{});await Ht().editUserAd({changes:h,adId:n.ad.id}),l.value=!1,i("close")};return(h,f)=>(ce(),qe(yt,null,[N("div",AH,[SH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=p=>o.type=p)},null,512),[[gt,o.type]]),CH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=p=>o.yieldTonnage=p)},null,512),[[gt,o.yieldTonnage]]),RH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=p=>o.requestDate=p)},null,512),[[gt,o.requestDate]]),PH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=p=>o.price=p)},null,512),[[gt,o.price]])]),N("div",kH,[N("button",{onClick:f[4]||(f[4]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),X(js,{onClick:c,isLoading:l.value},{default:he(()=>[ht(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),xH=N("div",{class:"fixed inset-0 bg-black/25"},null,-1),NH={class:"fixed inset-0 overflow-y-auto"},DH={class:"flex min-h-full items-center justify-center p-4 text-center"},LH=N("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),MH=je({__name:"EditAdModal",setup(t){const{modals:e}=xn(oi()),{profile:n}=xn(Ht()),i=Ht().ACCOUNT_TYPES,s=ie(!0);function o(l){s.value=l,e.value.editad=l,e.value.context={}}return(l,c)=>(ce(),rt(M(Zo),{appear:"",show:s.value,as:"template"},{default:he(()=>[X(M(Wl),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:he(()=>[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[xH]),_:1}),N("div",NH,[N("div",DH,[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[X(M(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>{var h,f;return[X(M(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[ht(" Edit Ad ")]),_:1}),X(M(Gl),{class:"mt-2 mb-4"},{default:he(()=>[LH]),_:1}),((h=M(n))==null?void 0:h.accountType)===M(i).SELLER?(ce(),rt(TH,{key:0,onClose:c[0]||(c[0]=p=>o(!1)),ad:M(e).context},null,8,["ad"])):lt("",!0),((f=M(n))==null?void 0:f.accountType)===M(i).BUYER?(ce(),rt(OH,{key:1,onClose:c[1]||(c[1]=p=>o(!1)),ad:M(e).context},null,8,["ad"])):lt("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),VH={class:"space-y-4 mb-4"},FH=N("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),UH={class:"flex justify-end space-x-2 mt-4"},$H=je({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=si({adId:t.adId,price:0}),o=ie(!1),l=async()=>{o.value=!0,c()?(await Ht().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(h,f)=>(ce(),qe(yt,null,[N("div",VH,[FH,ut(N("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=p=>s.price=p)},null,512),[[gt,s.price]])]),N("div",UH,[N("button",{onClick:f[1]||(f[1]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),X(js,{onClick:l,isLoading:o.value},{default:he(()=>[ht(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),BH=N("div",{class:"fixed inset-0 bg-black/25"},null,-1),jH={class:"fixed inset-0 overflow-y-auto"},HH={class:"flex min-h-full items-center justify-center p-4 text-center"},qH=N("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),WH=je({__name:"AddBidModal",setup(t){const{modals:e}=xn(oi()),n=ie(!0);function i(l){n.value=l,e.value.addad=l}const s=A2(),o=ie("");return Vt(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(ce(),rt(M(Zo),{appear:"",show:n.value,as:"template"},{default:he(()=>[X(M(Wl),{as:"div",onClose:c[1]||(c[1]=h=>i(!1)),class:"relative z-10"},{default:he(()=>[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[BH]),_:1}),N("div",jH,[N("div",HH,[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[X(M(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[X(M(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[ht(" Place bid ")]),_:1}),X(M(Gl),{class:"mt-2 mb-4"},{default:he(()=>[qH]),_:1}),X($H,{onClose:c[0]||(c[0]=h=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ro=je({__name:"CardButton",props:{classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){return(n,i)=>(ce(),qe("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:Tn([[t.classes],"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"])},[zk(n.$slots,"default")],2))}}),KH={class:"max-w-md mx-auto"},zH={class:"mb-4"},GH=N("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),YH={class:"mb-4"},JH=N("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),QH={class:"mb-4"},XH=N("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),ZH={class:"mb-4"},eq=N("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),tq={class:"mb-4 space-y-2"},nq=N("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),iq=["onUpdate:modelValue"],rq=["onClick"],sq={class:"flex items-center justify-between mt-4"},oq=je({__name:"JobPostAddForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=ie({createdAt:null,title:"",description:"",location:"",salary:"",tasks:[]}),s=()=>{i.value.tasks.push("")},o=f=>{i.value.tasks.splice(f,1)},l=()=>{if(!i.value.title||!i.value.description||!i.value.location||!i.value.salary||!i.value.tasks.length){if(i.value.tasks.length>0){for(const f in i.value.tasks)if(!f){const p=i.value.tasks.indexOf(f);i.value.tasks.splice(p,1)}}return!1}else return!0},c=ie(!1),h=async()=>{if(c.value=!0,l()){const f=JSON.parse(JSON.stringify(i.value));await Ht().createJobPostAd(f),n("close")}c.value=!1};return(f,p)=>(ce(),qe("div",KH,[N("div",null,[N("div",zH,[GH,ut(N("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>i.value.title=v),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,i.value.title]])]),N("div",YH,[JH,ut(N("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>i.value.description=v),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[gt,i.value.description]])]),N("div",QH,[XH,ut(N("input",{"onUpdate:modelValue":p[2]||(p[2]=v=>i.value.location=v),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,i.value.location]])]),N("div",ZH,[eq,ut(N("input",{"onUpdate:modelValue":p[3]||(p[3]=v=>i.value.salary=v),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,i.value.salary]])]),N("div",tq,[N("span",{class:"w-full flex items-center justify-between"},[nq,N("button",{onClick:s,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(ce(!0),qe(yt,null,Sl(i.value.tasks,(v,y)=>(ce(),qe("div",{key:y,class:"flex items-center space-x-2"},[ut(N("input",{"onUpdate:modelValue":b=>i.value.tasks[y]=b,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,iq),[[gt,i.value.tasks[y]]]),N("button",{onClick:b=>o(y),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,rq)]))),128))]),N("div",sq,[X(Ro,{onClick:p[4]||(p[4]=v=>f.$emit("close")),classes:"w-20"},{default:he(()=>[ht(" Cancel ")]),_:1}),X(js,{onClick:h,isLoading:c.value},{default:he(()=>[ht("Create Job ")]),_:1},8,["isLoading"])])])]))}}),aq=N("div",{class:"fixed inset-0 bg-black/25"},null,-1),lq={class:"fixed inset-0 overflow-y-auto"},uq={class:"flex min-h-full items-center justify-center p-4 text-center"},cq=N("p",{class:"text-sm text-gray-500"}," Add a Job Post ",-1),dq=je({__name:"AddJobModal",setup(t){const{modals:e}=xn(oi()),n=ie(!0);function i(s){n.value=s,e.value.addjob=s}return(s,o)=>(ce(),rt(M(Zo),{appear:"",show:n.value,as:"template"},{default:he(()=>[X(M(Wl),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:he(()=>[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[aq]),_:1}),N("div",lq,[N("div",uq,[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[X(M(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[X(M(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[ht(" New Job Post ")]),_:1}),X(M(Gl),{class:"mt-2 mb-4"},{default:he(()=>[cq]),_:1}),X(oq,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),hq={class:"max-w-md mx-auto"},fq={class:"mb-4"},pq=N("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),mq={class:"mb-4"},gq=N("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),vq={class:"mb-4"},yq=N("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),_q={class:"mb-4"},wq=N("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),bq={class:"mb-4 space-y-2"},Eq=N("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),Iq=["onUpdate:modelValue"],Tq=["onClick"],Aq={class:"flex items-center justify-between mt-4"},Sq=je({__name:"JobPostEditForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=JSON.parse(JSON.stringify(i.job)),o=ie({createdAt:s.createdAt,title:s.title,description:s.description,location:s.location,salary:s.salary,tasks:s.tasks}),l=()=>{o.value.tasks.push("")},c=v=>{o.value.tasks.splice(v,1)},h=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.salary||!o.value.tasks.length){if(o.value.tasks.length>0){for(const v in o.value.tasks)if(!v){const y=o.value.tasks.indexOf(v);o.value.tasks.splice(y,1)}}return!1}else return!0},f=ie(!1),p=async()=>{if(f.value=!0,h()){const v=i.job,y=Object.keys(o.value).reduce((T,_)=>(o.value[_]!==v[_]&&(T[_]=o.value[_]),T),{}),b=JSON.parse(JSON.stringify(y));try{const T=i.job.jobId;await Ht().editJobPostAd({jobId:T,changes:b}),n("close")}catch(T){f.value=!1,console.log(T)}}f.value=!1};return(v,y)=>(ce(),qe("div",hq,[N("div",null,[N("div",fq,[pq,ut(N("input",{"onUpdate:modelValue":y[0]||(y[0]=b=>o.value.title=b),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,o.value.title]])]),N("div",mq,[gq,ut(N("textarea",{"onUpdate:modelValue":y[1]||(y[1]=b=>o.value.description=b),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[gt,o.value.description]])]),N("div",vq,[yq,ut(N("input",{"onUpdate:modelValue":y[2]||(y[2]=b=>o.value.location=b),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,o.value.location]])]),N("div",_q,[wq,ut(N("input",{"onUpdate:modelValue":y[3]||(y[3]=b=>o.value.salary=b),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,o.value.salary]])]),N("div",bq,[N("span",{class:"w-full flex items-center justify-between"},[Eq,N("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(ce(!0),qe(yt,null,Sl(o.value.tasks,(b,T)=>(ce(),qe("div",{key:T,class:"flex items-center space-x-2"},[ut(N("input",{"onUpdate:modelValue":_=>t.job.tasks[T]=_,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,Iq),[[gt,t.job.tasks[T]]]),N("button",{onClick:_=>c(T),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,Tq)]))),128))]),N("div",Aq,[X(Ro,{onClick:y[4]||(y[4]=b=>v.$emit("close")),classes:"w-20"},{default:he(()=>[ht(" Cancel ")]),_:1}),X(js,{onClick:p,isLoading:f.value},{default:he(()=>[ht("Edit Job ")]),_:1},8,["isLoading"])])])]))}}),Cq=N("div",{class:"fixed inset-0 bg-black/25"},null,-1),Rq={class:"fixed inset-0 overflow-y-auto"},Pq={class:"flex min-h-full items-center justify-center p-4 text-center"},kq=N("p",{class:"text-sm text-gray-500"}," Edit a Job Post ",-1),Oq=je({__name:"EditJobModal",setup(t){const{modals:e}=xn(oi()),n=ie(!0);function i(s){n.value=s,e.value.editjob=s,e.value.context={}}return(s,o)=>(ce(),rt(M(Zo),{appear:"",show:n.value,as:"template"},{default:he(()=>[X(M(Wl),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:he(()=>[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[Cq]),_:1}),N("div",Rq,[N("div",Pq,[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[X(M(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[X(M(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[ht(" Edit Job Post ")]),_:1}),X(M(Gl),{class:"mt-2 mb-4"},{default:he(()=>[kq]),_:1}),X(Sq,{onClose:o[0]||(o[0]=l=>i(!1)),job:M(e).context},null,8,["job"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),xq={class:"max-w-md mx-auto"},Nq={class:"mb-4"},Dq={class:"flex items-center justify-between mt-4"},Lq=je({__name:"ConfirmRemoveForm",props:{context:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=ie(!1),o=ie(""),l=async()=>{s.value=!0,o.value==i.context.__key&&(await c(),n("close")),s.value=!1},c=async()=>{i.context.__key=="job"&&await Ht().removeJobPostAd(i.context.jobId)};return(h,f)=>(ce(),qe("div",xq,[N("div",null,[N("div",Nq,[ut(N("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),type:"text",id:"confirmKeyword",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[gt,o.value]])]),N("div",Dq,[X(Ro,{onClick:f[1]||(f[1]=p=>h.$emit("close")),classes:"w-20"},{default:he(()=>[ht(" Cancel ")]),_:1}),X(js,{disabled:o.value!=i.context.__key,onClick:l,isLoading:s.value},{default:he(()=>[ht("Delete ")]),_:1},8,["disabled","isLoading"])])])]))}}),Mq=N("div",{class:"fixed inset-0 bg-black/25"},null,-1),Vq={class:"fixed inset-0 overflow-y-auto"},Fq={class:"flex min-h-full items-center justify-center p-4 text-center"},Uq={class:"text-sm text-gray-500"},$q={class:"font-bold"},Bq=je({__name:"ConfirmRemoveModal",setup(t){const{modals:e}=xn(oi()),n=ie(!0);function i(s){n.value=s,e.value.confirmremove=s}return(s,o)=>(ce(),rt(M(Zo),{appear:"",show:n.value,as:"template"},{default:he(()=>[X(M(Wl),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:he(()=>[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[Mq]),_:1}),N("div",Vq,[N("div",Fq,[X(M(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[X(M(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[X(M(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[ht(" Are you sure? ")]),_:1}),X(M(Gl),{class:"mt-2 mb-4"},{default:he(()=>[N("p",Uq,[ht(" Type "),N("span",$q,Zc(M(e).context.__key),1),ht(" to confirm ")])]),_:1}),X(Lq,{onClose:o[0]||(o[0]=l=>i(!1)),context:M(e).context},null,8,["context"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),jq={key:0},Hq={key:1,class:"text-sm font-medium"},fS=5e3,qq=je({__name:"StateNotificationToast",setup(t){const{notifications:e}=xn(oi()),n=oi().NOTIFICATION_TYPES,i=ie(fS),s=()=>{i.value=fS;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),oi().resetNotification())},1e3)};wi(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=ye(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(ce(),rt(Am,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:he(()=>[M(e).show?(ce(),qe("div",{key:0,class:Tn(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[M(e).type?(ce(),qe("div",jq,[M(e).type===M(n).SUCCESS?(ce(),rt(M(Y2),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):lt("",!0),M(e).type===M(n).ERROR?(ce(),rt(M(i_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):lt("",!0),M(e).type===M(n).WARNING?(ce(),rt(M(J2),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):lt("",!0),M(e).type===M(n).INFO?(ce(),rt(M(Q2),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):lt("",!0)])):lt("",!0),M(e).message?(ce(),qe("div",Hq,[N("p",null,Zc(M(e).message),1)])):lt("",!0)],2)):lt("",!0)]),_:1}))}}),Wq={key:0},Kq={key:1,class:"text-sm font-medium text-black"},zq=je({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=xn(oi()),n=oi().NOTIFICATION_TYPES,i=ye(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(ce(),rt(Am,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:he(()=>[M(e).show?(ce(),qe("div",{key:0,class:Tn(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[M(e).type?(ce(),qe("div",Wq,[M(e).type===M(n).SUCCESS?(ce(),rt(M(Y2),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):lt("",!0),M(e).type===M(n).ERROR?(ce(),rt(M(i_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):lt("",!0),M(e).type===M(n).WARNING?(ce(),rt(M(J2),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):lt("",!0),M(e).type===M(n).INFO?(ce(),rt(M(Q2),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):lt("",!0)])):lt("",!0),M(e).message?(ce(),qe("div",Kq,[N("p",null,Zc(M(e).message),1)])):lt("",!0),X(M(i_),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):lt("",!0)]),_:1}))}}),Gq={class:"relative bg-blue-900 text-white p-4"},Yq={class:"container mx-auto flex justify-between items-center"},Jq=N("div",{class:"flex items-center"},[N("img",{src:vj,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),N("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),Qq={class:"space-x-4"},Xq={class:"w-full"},Zq=je({__name:"App",setup(t){const{profile:e}=xn(Ht()),{modals:n,notifications:i,dropdowns:s}=xn(oi()),o=ie(0),l=A2();l.beforeEach((h,f,p)=>{h.matched.some(y=>y.meta.requiresAuth)&&!e.value?p("/signup"):p()});const c=async()=>{await Ht().signout(),l.push("/signup")};return(h,f)=>(ce(),qe(yt,null,[N("header",Gq,[N("div",Yq,[Jq,N("nav",Qq,[X(M(go),{class:Tn(["hover:underline",{"bg-blue-700 text-white":o.value==0}]),to:"/",onClick:f[0]||(f[0]=p=>o.value=0)},{default:he(()=>[ht("Home")]),_:1},8,["class"]),M(e)?(ce(),rt(M(go),{key:0,class:Tn(["hover:underline",{"bg-blue-700 text-white":o.value==1}]),to:"/userboard",onClick:f[1]||(f[1]=p=>o.value=1)},{default:he(()=>[ht("Dashboard")]),_:1},8,["class"])):lt("",!0),M(e)?lt("",!0):(ce(),rt(M(go),{key:1,class:Tn(["hover:underline",{"bg-blue-700 text-white":o.value==2}]),to:"/signup",onClick:f[2]||(f[2]=p=>o.value=2)},{default:he(()=>[ht("Signin")]),_:1},8,["class"])),M(e)?(ce(),rt(M(go),{key:2,class:Tn(["hover:underline",{"bg-blue-700 text-white":o.value==3}]),to:"/profile",onClick:f[3]||(f[3]=p=>o.value=3)},{default:he(()=>[ht("Profile")]),_:1},8,["class"])):lt("",!0),M(e)?(ce(),rt(M(go),{key:3,class:Tn(["hover:underline",{"bg-blue-700 text-white":o.value==4}]),to:"/feed",onClick:f[4]||(f[4]=p=>o.value=4)},{default:he(()=>[ht("Feed")]),_:1},8,["class"])):lt("",!0),X(M(go),{class:Tn(["hover:underline",{"bg-blue-700 text-white":o.value==5}]),to:"/about",onClick:f[5]||(f[5]=p=>o.value=5)},{default:he(()=>[ht("About")]),_:1},8,["class"]),N("a",{class:"hover:underline",onClick:c},"Signout")])]),ut(X(zq,null,null,512),[[OA,M(s).show]])]),M(n).addad?(ce(),rt(uH,{key:0})):lt("",!0),M(n).editad?(ce(),rt(MH,{key:1})):lt("",!0),M(n).addbid?(ce(),rt(WH,{key:2})):lt("",!0),M(n).editjob?(ce(),rt(Oq,{key:3})):lt("",!0),M(n).addjob?(ce(),rt(dq,{key:4})):lt("",!0),M(n).confirmremove?(ce(),rt(Bq,{key:5})):lt("",!0),ut(X(qq,null,null,512),[[OA,M(i).show]]),N("div",Xq,[X(M(T2))])],64))}}),eW="modulepreload",tW=function(t){return"/"+t},pS={},ir=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=tW(o),o in pS)return;pS[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const v=s[p];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":eW,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},nW=N("h1",null,"HomeView",-1),iW=je({__name:"HomeView",setup(t){const{dropdowns:e}=xn(oi()),n=oi().NOTIFICATION_TYPES,i=s=>{s==n.ERROR&&(e.value.show=!0,e.value.type=n.ERROR,e.value.message="Failed to create escrow account"),s==n.SUCCESS&&(e.value.show=!0,e.value.type=n.SUCCESS,e.value.message="Successfully created escrow account"),s==n.WARNING&&(e.value.show=!0,e.value.type=n.WARNING,e.value.message="Warning: This is a warning"),s==n.INFO&&(e.value.show=!0,e.value.type=n.INFO,e.value.message="Info: This is an info message")};return(s,o)=>(ce(),qe(yt,null,[nW,X(Ro,{onClick:o[0]||(o[0]=l=>i(M(n).ERROR))},{default:he(()=>[ht("Error")]),_:1}),X(Ro,{onClick:o[1]||(o[1]=l=>i(M(n).SUCCESS))},{default:he(()=>[ht("Success")]),_:1}),X(Ro,{onClick:o[2]||(o[2]=l=>i(M(n).WARNING))},{default:he(()=>[ht("Warning")]),_:1}),X(Ro,{onClick:o[3]||(o[3]=l=>i(M(n).INFO))},{default:he(()=>[ht("Info")]),_:1})],64))}}),rW=v7({history:Lj("/"),routes:[{path:"/",name:"home",component:iW},{path:"/signup",name:"signup",component:()=>ir(()=>import("./SignupView-7f4967fe.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>ir(()=>import("./ProfileSetupView-d9c5189c.js"),[])},{path:"/profile",name:"profile",component:()=>ir(()=>import("./UserProfileView-080f7ca3.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>ir(()=>import("./AboutView-4d0eb133.js"),[])},{path:"/feed",name:"feed",component:()=>ir(()=>import("./FeedView-e417e112.js"),["assets/FeedView-e417e112.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-8f4625c1.js","assets/ImageCarousel-df949461.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-3a3b6389.js"])},{path:"/seller/:sellerName/:id",name:"seller-ads",component:()=>ir(()=>import("./SellerAdsView-a4926640.js"),["assets/SellerAdsView-a4926640.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-39ac11b1.js","assets/ImageCarousel-df949461.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-3a3b6389.js"]),props:!0},{path:"/ad/:adId",name:"ad",component:()=>ir(()=>import("./AdView-0a8dc7e9.js"),["assets/AdView-0a8dc7e9.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-39ac11b1.js","assets/ImageCarousel-df949461.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-a858b237.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>ir(()=>import("./UserBoardView-f4db2a21.js"),["assets/UserBoardView-f4db2a21.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-8f4625c1.js","assets/ImageCarousel-df949461.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-3a3b6389.js","assets/BidCard.vue_vue_type_script_setup_true_lang-a858b237.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>ir(()=>import("./MessagingView-254f92ec.js"),[]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId",name:"banking",component:()=>ir(()=>import("./BankingView-42894d2e.js"),["assets/BankingView-42894d2e.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-39ac11b1.js","assets/ImageCarousel-df949461.js","assets/ImageCarousel-b21701ad.css"]),meta:{requiresAuth:!0},props:!0}]});let Po,zv;kM(ok,async t=>{if(t){try{zv=await xy("users",t.uid),zv&&(Po||Gv(),Ht().setProfile(zv))}catch(e){console.log("Error getting profile",e)}Po||Gv(),console.log("User is signed in"),Ht().setUser(t)}else Po||Gv(),console.log("User is signed out")});const Gv=()=>{Po=GB(Zq),Po.use(QB()),Po.use(rW),Po.mount("#app")};export{Hs as $,PP as A,_r as B,b7 as C,wW as D,Vs as E,yt as F,bW as G,EW as H,IW as I,Ls as J,bl as K,E7 as L,Es as M,w0 as N,AW as O,en as P,ld as Q,pp as R,ye as S,x2 as T,Qn as U,wi as V,Ei as W,He as X,Zn as Y,iw as Z,Ro as _,Ht as a,li as a0,Rt as a1,O7 as a2,kl as a3,vn as a4,ln as a5,k2 as a6,sw as a7,ql as a8,Pf as a9,ws as aa,TW as ab,Tn as ac,_W as ad,_l as ae,pW as af,dW as ag,hW as ah,gW as ai,vW as aj,rW as ak,fW as al,CW as am,$0 as an,yW as b,Kk as c,je as d,ce as e,qe as f,N as g,ie as h,ht as i,SW as j,Sl as k,X as l,he as m,js as n,Vt as o,lt as p,rt as q,si as r,xn as s,Zc as t,A2 as u,gt as v,ut as w,oi as x,M as y,mW as z};

import{e as s,f as t,k as e,d as X,a as Y,r as c,s as q,n as K,o as H,$ as Q,M as k,G as B,t as n,p as v,C as f,A as r,X as S,F as _,j as I,m as g,L as N,z as Z,a0 as ee,B as j}from"./index-6a45da86.js";import{a as se,b as te,_ as le}from"./GigStoreCard.vue_vue_type_script_setup_true_lang-44c3ca73.js";import{_ as oe}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-3b09634a.js";import{r as G}from"./CheckCircleIcon-e1fc4ba4.js";import"./ImageCarousel-cfb1ab57.js";import"./PencilIcon-108862d9.js";function O(A,L){return s(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])}const ie={class:"sm:p-4 flex flex-col gap-2 sm:gap-4"},ae={class:"rounded-md"},ne={id:"seller-ad-banner",class:"w-full h-96 relative"},re=["src"],ce={key:1,class:"bg-slate-500 w-full h-48 animate-pulse"},de={class:"absolute bottom-0 left-4 sm:left-20 flex flex-row"},ue=["src"],pe={key:1,class:"z-10 border-4 border-white rounded-full w-36 h-36 bg-indigo-500 animate-pulse"},_e={class:"relative ml-5 p-1 hidden sm:block"},ve={class:"absolute bottom-1 truncate flex flex-row"},he={class:"text-4xl font-bold"},fe={class:"absolute bottom-20 right-4 sm:right-20"},ge=e("p",{class:"text-white font-semibold"},"Contact",-1),me={class:"relative p-1 sm:hidden"},xe={class:"text-2xl font-bold"},ye={key:0,class:"flex flex-col gap-2 sm:p-4 rounded-b-md sm:hidden"},be={class:"flex flex-row items-center gap-2"},we={key:0,class:"flex flex-row gap-1 items-center"},ke=e("p",null,"Verified",-1),Ce={class:"p-1 px-2"},Se={class:"p-1 px-2"},je={class:"p-1 px-2"},Le={class:"flex flex-row gap-2 italic"},ze={class:"hidden sm:flex flex-row gap-4 pt-6 border-y mt-4 sticky bg-white top-16 h-16 z-[9]"},Me={class:"border rounded-md shadow"},Pe={key:0,class:"flex flex-col gap-2 p-4 rounded-b-md hidden"},Ie={class:"flex flex-row items-center gap-2"},Ne={key:0,class:"flex flex-row gap-1 items-center"},Ae=e("p",null,"Verified",-1),Ve={class:"p-1 px-2"},Re={class:"p-1 px-2"},$e={class:"p-1 px-2"},Te={class:"flex flex-row gap-2 italic"},Be={class:"grid grid-rows-2 sm:grid-rows-1 sm:grid-cols-2",id:"Information"},Ge={class:"flex items-center justify-center"},Oe={key:0,class:"sm:p-4 flex flex-row gap-2 divide-x"},Ee={class:"flex flex-row gap-2 px-4 py-2"},We={class:"font-bold"},Fe={class:"text-6xl"},Je={class:"flex flex-col justify-end"},De={class:"font-bold"},Ue=e("span",{class:"text-xs text-slate-400"},"reviews",-1),Xe={key:1,class:"font-bold"},Ye=e("span",{class:"flex flex-col justify-center items-center px-4 py-2"},[e("p",{class:"italic text-sm"},"average response rate"),e("p",{class:"font-bold"},n("â‰¤2")+" hrs")],-1),qe={class:"grid grid-cols-3 p-4"},Ke=["src"],He=["src"],Qe=["src"],Ze={class:"sm:grid flex flex-col sm:grid-cols-4 gap-2 w-full divide-y sm:divide-y-0 sm:divide-x py-4 shadow border rounded-md"},es={class:"p-2 sm:p-4"},ss=e("p",{class:"text-xl font-bold"},"Machinery",-1),ts={class:"list-disc pl-6"},ls={class:"italic"},os={class:"p-2 sm:p-4"},is=e("p",{class:"text-xl mb-2 font-bold"},"Plant Count",-1),as={class:"flex flex-row gap-1 items-center justify-between w-full space-y-1"},ns={class:"truncate ..."},rs={class:""},cs={class:"p-2 sm:p-4 space-y-2"},ds=e("p",{class:"text-xl mb-2 font-bold"},"Shipping",-1),us={class:"flex flex-col"},ps={class:"italic pl-2"},_s={class:"italic pl-2"},vs={class:"p-2 sm:p-4"},hs=e("p",{class:"text-xl mb-2 font-bold"},"Capabilities",-1),fs={class:"list-disc pl-4"},gs={key:1,class:"border rounded-md shadow p-2 sm:p-4",id:"Work Opportunities"},ms=e("div",{class:"flex items-center justify-start h-12 bg-gradient-to-r from-sky-500/40 to-white rounded-t-md"},[e("h2",{class:"pl-2 text-white text-2xl font-bold p-1"},"Work Opportunities")],-1),xs={class:"flex flex-col gap-6 w-full sm:p-2"},ys={key:0,class:"relative flex flex-col h-full w-full h-96"},bs=e("h2",{class:"text-xl font-bold italic my-2 pl-2"},"Job Openings",-1),ws={key:0,class:"grid gap-x-2 sm:gap-x-6 gap-y-2 sm:gap-y-10 grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},ks={key:1},Cs=e("p",{class:"text-center"},"No jobs to show",-1),Ss=[Cs],js=e("p",{class:"text-sm underline cursor-pointer"},"View more jobs",-1),Ls=[js],zs={key:3,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-8 flex justify-center items-center min-h-96"},Ms={key:1,class:"flex flex-col h-full w-full relative h-96"},Ps=e("h2",{class:"text-xl font-bold italic my-2 pl-2"},"Small Gigs",-1),Is={key:0,class:"grid grid-cols-2 gap-x-2 sm:gap-x-6 gap-y-2 sm:gap-y-10 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},Ns={key:1},As=e("p",{class:"text-center"},"No gigs to show",-1),Vs=[As],Rs=e("p",{class:"text-sm underline cursor-pointer"},"View more gigs",-1),$s=[Rs],Ts={key:3,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-8 flex justify-center items-center min-h-96"},Bs={key:2,class:"p-2 sm:p-4 border rounded-md shadow",id:"Product Listings"},Gs=e("div",{class:"flex items-center justify-start h-12 bg-gradient-to-r from-sky-500/40 to-white rounded-t-md"},[e("h2",{class:"pl-2 text-white text-2xl font-bold p-1"},"Product listings")],-1),Os={key:0,class:"grid grid-cols-2 gap-x-2 sm:gap-x-6 gap-y-2 sm:gap-y-10 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},Es={key:1},Ws=e("p",{class:"text-center"},"No ads to show",-1),Fs=[Ws],Js={key:2},Hs=X({__name:"SellerAdsView",props:{id:{type:String,required:!0},sellerName:{type:String,required:!0}},setup(A){const L=Y().ACCOUNT_TYPES,y=c([]),d=c([]),u=c([]),b=c(!1),m=c(!1),x=c(!1),h=c(!1),w=c("Information"),z=c(2),M=c(2),p=A,C=l=>{const i=document.getElementById(l);i&&(i.scrollIntoView({behavior:"smooth"}),w.value=l)},{messaging:V}=q(K()),E=async()=>{V.value.show=!0,V.value.to={id:p.id,name:p.sellerName}},o=c({name:"",profilePicResized:"",bannerPic:""}),W=async()=>{x.value=!0;const l=u.value[u.value.length-1],i=await k("gigs","live","==",!0,"posterId","==",p.id,["updatedAt","desc"],10,l);u.value=[...u.value,...i.docs],x.value=!1,M.value=M.value+10},F=async()=>{m.value=!0;const l=d.value[d.value.length-1],i=await k("jobs","live","==",!0,"posterId","==",p.id,["updatedAt","desc"],10,l);d.value=[...d.value,...i.docs],m.value=!1,z.value=z.value+10};H(async()=>{h.value=!0,b.value=!0,m.value=!0,x.value=!0;const l=[];l.push(Q("ads",p.id).then(i=>{o.value=i,h.value=!1})),l.push(k("ads","live","==",!0,"uid","==",p.id,["postedOn","desc"],25).then(i=>{y.value=i.docs,b.value=!1})),l.push(k("jobs","live","==",!0,"posterId","==",p.id,["updatedAt","desc"],5).then(i=>{d.value=i.docs,m.value=!1})),l.push(k("gigs","live","==",!0,"posterId","==",p.id,["updatedAt","desc"],5).then(i=>{u.value=i.docs,x.value=!1})),l.push(U(p.id)),await Promise.all(l)});const R=B(()=>{if(!o.value||!o.value.createdAt)return;const l=new Date,i=new Date(o.value.createdAt.toDate().toString()),a=l.getTime()-i.getTime(),$=Math.floor(a/(1e3*60*60*24)),P=Math.floor($/31),T=Math.floor(P/12);return T>0?`${T} yrs`:P>0?`${P} mths`:`${$} days`}),J=B(()=>{if(!o.value||!o.value.rating)return;const l=o.value.rating;if(l==0)return"No ratings yet";if(l>0&&l<1)return"Poor";if(l>=1&&l<2)return"Fair";if(l>=2&&l<3)return"Average";if(l>=3&&l<4)return"Good";if(l>=4&&l<5)return"Excellent"}),D=c(!1),U=async l=>{if(!l)return;const{callFunction:i}=Z("increaseStoreViewCount",{adId:l},D);await i()};return(l,i)=>(s(),t("div",ie,[e("span",ae,[e("div",ne,[h.value?(s(),t("div",ce)):(s(),t("img",{key:0,src:o.value.storeBannerPic,class:"bg-slate-500 w-full h-80 object-cover rounded-md",ref:"bannerPic"},null,8,re)),e("div",de,[h.value?(s(),t("div",pe)):(s(),t("img",{key:0,src:o.value.storeLogoResized,class:"z-9 border-4 border-white rounded-full w-36 h-36 bg-indigo-500",ref:"profilePic"},null,8,ue)),e("div",_e,[e("div",ve,[e("p",he,n(p.sellerName),1)])])]),e("div",fe,[e("button",{class:"bg-slate-600/70 px-4 py-2 rounded-md flex flex-row gap-2 items-center",onClick:E},[v(f(ee),{class:"w-6 h-6 text-white"}),ge])])])]),e("div",me,[e("p",xe,n(p.sellerName),1)]),h.value?r("",!0):(s(),t("div",ye,[e("div",be,[o.value.verifiedSeller?(s(),t("span",we,[v(f(G),{class:"h-4 w-4 text-sky-500"}),ke])):r("",!0),e("p",Ce,n(R.value),1),e("p",Se,n(o.value.staffNumber)+" staff",1),e("p",je,n(o.value.acreage)+" acres",1)]),e("div",Le,[v(f(O),{class:"w-5 h-5"}),e("p",null,n(o.value.location),1)])])),e("div",ze,[e("div",{onClick:i[0]||(i[0]=a=>C("Information")),class:S([w.value=="Information"?"text-cyan-500 underline":"","cursor-pointer font-bold hover:underline"])}," Information ",2),e("div",{onClick:i[1]||(i[1]=a=>C("Reviews")),class:S([w.value=="Reviews"?"text-cyan-500 underline":"","cursor-pointer font-bold hover:underline"])}," Reviews ",2),e("div",{onClick:i[2]||(i[2]=a=>C("Work Opportunities")),class:S([w.value=="Work Opportunities"?"text-cyan-500 underline":"","cursor-pointer font-bold hover:underline"])}," Work Opportunities ",2),e("div",{onClick:i[3]||(i[3]=a=>C("Product Listings")),class:S([w.value=="Product Listings"?"text-cyan-500 underline":"","cursor-pointer font-bold hover:underline"])}," Product Listings ",2)]),e("span",Me,[h.value?r("",!0):(s(),t("div",Pe,[e("div",Ie,[o.value.verifiedSeller?(s(),t("span",Ne,[v(f(G),{class:"h-4 w-4 text-sky-500"}),Ae])):r("",!0),e("p",Ve,n(R.value),1),e("p",Re,n(o.value.staffNumber)+" staff",1),e("p",$e,n(o.value.acreage)+" acres",1)]),e("div",Te,[v(f(O),{class:"w-5 h-5"}),e("p",null,n(o.value.location),1)])])),e("span",Be,[e("span",Ge,[h.value?r("",!0):(s(),t("div",Oe,[e("div",Ee,[o.value.rating>0?(s(),t(_,{key:0},[e("p",We,[e("span",Fe,n(o.value.rating),1),I(" /5")]),e("span",Je,[e("p",De,n(J.value),1),e("p",null,[I("("+n(o.value.reviewsCount?o.value.reviewsCount:0)+" ",1),Ue,I(")")])])],64)):(s(),t("p",Xe,"Not yet rated"))]),Ye]))]),e("div",qe,[o.value.storeImagesResized&&o.value.storeImagesResized.length>0?(s(),t(_,{key:0},[e("img",{class:"bg-slate-500 rounded-l-md flex col-span-2 object-cover",src:o.value.storeImagesResized[0]},null,8,Ke),e("div",null,[e("img",{class:"bg-slate-500 rounded-tr-md object-cover",src:o.value.storeImagesResized[1]},null,8,He),e("img",{class:"bg-slate-500 rounded-br-md object-cover",src:o.value.storeImagesResized[2]},null,8,Qe)])],64)):r("",!0)])])]),e("span",Ze,[e("div",es,[ss,e("ul",ts,[(s(!0),t(_,null,g(o.value.machinery,a=>(s(),t("li",null,[e("p",ls,n(a),1)]))),256))])]),e("div",os,[is,e("span",null,[(s(!0),t(_,null,g(o.value.plants,a=>(s(),t("div",as,[e("p",ns,n(a.variety),1),e("p",rs,n(a.amount),1)]))),256))])]),e("div",cs,[ds,(s(!0),t(_,null,g(o.value.shipping,a=>(s(),t("div",us,[e("p",null,n(a.type),1),e("p",ps,"Up to "+n(a.distance)+"KMs",1),e("p",_s,"Max: "+n(a.weight)+"KGs",1)]))),256))]),e("div",vs,[hs,e("ul",fs,[(s(!0),t(_,null,g(o.value.capabilities,a=>(s(),t("li",null,[e("p",null,n(a),1)]))),256))])])]),d.value.length>0&&u.value.length>0?(s(),t("span",gs,[ms,e("div",xs,[d.value.length>0?(s(),t("div",ys,[bs,d.value.length>0?(s(),t("div",ws,[(s(!0),t(_,null,g(d.value.slice(0,z.value),a=>(s(),j(se,{job:a},null,8,["job"]))),256))])):d.value.length==0?(s(),t("div",ks,Ss)):r("",!0),d.value.length==2?(s(),t("div",{key:2,class:"flex w-full justify-end",onClick:F},Ls)):r("",!0),m.value?(s(),t("div",zs,[v(N,{isLoading:m.value,class:"z-9"},null,8,["isLoading"])])):r("",!0)])):r("",!0),u.value.length>0?(s(),t("div",Ms,[Ps,u.value.length>0?(s(),t("div",Is,[(s(!0),t(_,null,g(u.value.slice(0,M.value),a=>(s(),j(te,{gig:a},null,8,["gig"]))),256))])):u.value.length==0?(s(),t("div",Ns,Vs)):r("",!0),u.value.length==2?(s(),t("div",{key:2,class:"flex w-full justify-end",onClick:W},$s)):r("",!0),x.value?(s(),t("div",Ts,[v(N,{isLoading:x.value,class:"z-9"},null,8,["isLoading"])])):r("",!0)])):r("",!0)])])):r("",!0),y.value.length>0?(s(),t("div",Bs,[Gs,y.value.length>0&&!b.value?(s(),t("div",Os,[(s(!0),t(_,null,g(y.value,a=>(s(),t("div",null,[a.adType==f(L).SELLER?(s(),j(le,{key:0,ad:a,showButtons:!1},null,8,["ad"])):r("",!0),a.adType==f(L).BUYER?(s(),j(oe,{key:1,ad:a},null,8,["ad"])):r("",!0)]))),256))])):y.value.length==0&&!b.value?(s(),t("div",Es,Fs)):(s(),t("div",Js,[v(N,{isLoading:b.value},null,8,["isLoading"])]))])):r("",!0)]))}});export{Hs as default};

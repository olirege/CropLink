(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},BO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,v=(a&3)<<4|h>>4;let w=(h&15)<<2|p>>6,E=p&63;d||(E=64,l||(w=64)),r.push(n[g],n[v],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||v==null)throw new $O;const w=a<<2|h>>4;if(r.push(w),p!==64){const E=h<<4&240|p>>2;if(r.push(E),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HO=function(t){const e=JT(t);return XT.encodeByteArray(e,!0)},Ld=function(t){return HO(t).replace(/\./g,"")},ZT=function(t){try{return XT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Md(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qO(n)||(t[n]=Md(t[n],e[n]));return t}function qO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=()=>WO().__FIREBASE_DEFAULTS__,GO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZT(t[1]);return e&&JSON.parse(e)},_f=()=>{try{return KO()||GO()||zO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eA=t=>{var e,n;return(n=(e=_f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ey=t=>{const e=eA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tA=()=>{var t;return(t=_f())===null||t===void 0?void 0:t.config},nA=t=>{var e;return(e=_f())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),h="";return[Ld(JSON.stringify(n)),Ld(JSON.stringify(l)),h].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function rA(){var t;const e=(t=_f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JO(){return typeof self=="object"&&self.self===self}function sA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ty(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oA(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vd(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="FirebaseError";class fn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ZO,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?eN(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new fn(s,h,r)}}function eN(t,e){return t.replace(tN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const tN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(h1(a)&&h1(l)){if(!Fd(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function h1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aA(t,e){const n=new iN(t,e);return n.subscribe.bind(n)}class iN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=og),s.error===void 0&&(s.error=og),s.complete===void 0&&(s.complete=og);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aN(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oN(t){return t===js?void 0:t}function aN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=[];var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const lA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},uN=Me.INFO,cN={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},hN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wf{constructor(e){this.name=e,this._logLevel=uN,this._logHandler=hN,this._userLogHandler=null,ny.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}function dN(t){ny.forEach(e=>{e.setLogLevel(t)})}function fN(t,e){for(const n of ny){let r=null;e&&e.level&&(r=lA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,a,...l)=>{const h=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");a>=(r??s.logLevel)&&t({level:Me[a].toLowerCase(),message:h,args:l,type:s.name})}}}const pN=(t,e)=>e.some(n=>t instanceof n);let d1,f1;function mN(){return d1||(d1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gN(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uA=new WeakMap,qg=new WeakMap,cA=new WeakMap,ag=new WeakMap,iy=new WeakMap;function vN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ts(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function yN(t){if(qg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});qg.set(t,e)}let Wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _N(t){Wg=t(Wg)}function wN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lg(this),e,...n);return cA.set(r,e.sort?e.sort():[e]),ts(r)}:gN().includes(t)?function(...e){return t.apply(lg(this),e),ts(uA.get(this))}:function(...e){return ts(t.apply(lg(this),e))}}function EN(t){return typeof t=="function"?wN(t):(t instanceof IDBTransaction&&yN(t),pN(t,mN())?new Proxy(t,Wg):t)}function ts(t){if(t instanceof IDBRequest)return vN(t);if(ag.has(t))return ag.get(t);const e=EN(t);return e!==t&&(ag.set(t,e),iy.set(e,t)),e}const lg=t=>iy.get(t);function bN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=ts(l);return r&&l.addEventListener("upgradeneeded",d=>{r(ts(l.result),d.oldVersion,d.newVersion,ts(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const IN=["get","getKey","getAll","getAllKeys","count"],TN=["put","add","delete","clear"],ug=new Map;function p1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=TN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||IN.includes(n)))return;const a=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&d.done]))[0]};return ug.set(e,a),a}_N(t=>({...t,get:(e,n,r)=>p1(e,n)||t.get(e,n,r),has:(e,n)=>!!p1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kg="@firebase/app",m1="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new wf("@firebase/app"),RN="@firebase/app-compat",CN="@firebase/analytics-compat",PN="@firebase/analytics",kN="@firebase/app-check-compat",ON="@firebase/app-check",NN="@firebase/auth",DN="@firebase/auth-compat",xN="@firebase/database",LN="@firebase/database-compat",MN="@firebase/functions",VN="@firebase/functions-compat",FN="@firebase/installations",UN="@firebase/installations-compat",jN="@firebase/messaging",BN="@firebase/messaging-compat",$N="@firebase/performance",HN="@firebase/performance-compat",qN="@firebase/remote-config",WN="@firebase/remote-config-compat",KN="@firebase/storage",GN="@firebase/storage-compat",zN="@firebase/firestore",YN="@firebase/firestore-compat",QN="firebase",JN="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]",XN={[Kg]:"fire-core",[RN]:"fire-core-compat",[PN]:"fire-analytics",[CN]:"fire-analytics-compat",[ON]:"fire-app-check",[kN]:"fire-app-check-compat",[NN]:"fire-auth",[DN]:"fire-auth-compat",[xN]:"fire-rtdb",[LN]:"fire-rtdb-compat",[MN]:"fire-fn",[VN]:"fire-fn-compat",[FN]:"fire-iid",[UN]:"fire-iid-compat",[jN]:"fire-fcm",[BN]:"fire-fcm-compat",[$N]:"fire-perf",[HN]:"fire-perf-compat",[qN]:"fire-rc",[WN]:"fire-rc-compat",[KN]:"fire-gcs",[GN]:"fire-gcs-compat",[zN]:"fire-fst",[YN]:"fire-fst-compat","fire-js":"fire-js",[QN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Map,Gu=new Map;function Ud(t,e){try{t.container.addComponent(e)}catch(n){ao.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hA(t,e){t.container.addOrOverwriteComponent(e)}function Gi(t){const e=t.name;if(Gu.has(e))return ao.debug(`There were multiple attempts to register component ${e}.`),!1;Gu.set(e,t);for(const n of ls.values())Ud(n,t);return!0}function yo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ZN(t,e,n=as){yo(t,e).clearInstance(n)}function eD(){Gu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},mr=new vo("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nD=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=JN;function Ef(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:as,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw mr.create("bad-app-name",{appName:String(s)});if(n||(n=tA()),!n)throw mr.create("no-options");const a=ls.get(s);if(a){if(Fd(n,a.options)&&Fd(r,a.config))return a;throw mr.create("duplicate-app",{appName:s})}const l=new lN(s);for(const d of Gu.values())l.addComponent(d);const h=new nD(n,r,l);return ls.set(s,h),h}function _c(t=as){const e=ls.get(t);if(!e&&t===as&&tA())return Ef();if(!e)throw mr.create("no-app",{appName:t});return e}function iD(){return Array.from(ls.values())}async function dA(t){const e=t.name;ls.has(e)&&(ls.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Dn(t,e,n){var r;let s=(r=XN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ao.warn(h.join(" "));return}Gi(new mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function fA(t,e){if(t!==null&&typeof t!="function")throw mr.create("invalid-log-argument");fN(t,e)}function pA(t){dN(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebase-heartbeat-database",sD=1,zu="firebase-heartbeat-store";let cg=null;function mA(){return cg||(cg=bN(rD,sD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zu)}}}).catch(t=>{throw mr.create("idb-open",{originalErrorMessage:t.message})})),cg}async function oD(t){try{return await(await mA()).transaction(zu).objectStore(zu).get(gA(t))}catch(e){if(e instanceof fn)ao.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ao.warn(n.message)}}}async function g1(t,e){try{const r=(await mA()).transaction(zu,"readwrite");await r.objectStore(zu).put(e,gA(t)),await r.done}catch(n){if(n instanceof fn)ao.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ao.warn(r.message)}}}function gA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1024,lD=30*24*60*60*1e3;class uD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=lD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v1(),{heartbeatsToSend:n,unsentEntries:r}=cD(this._heartbeatsCache.heartbeats),s=Ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function v1(){return new Date().toISOString().substring(0,10)}function cD(t,e=aD){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),y1(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),y1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vd()?XO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await oD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return g1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return g1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function y1(t){return Ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){Gi(new mi("platform-logger",e=>new AN(e),"PRIVATE")),Gi(new mi("heartbeat",e=>new uD(e),"PRIVATE")),Dn(Kg,m1,t),Dn(Kg,m1,"esm2017"),Dn("fire-js","")}dD("");const fD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:fn,SDK_VERSION:br,_DEFAULT_ENTRY_NAME:as,_addComponent:Ud,_addOrOverwriteComponent:hA,_apps:ls,_clearComponents:eD,_components:Gu,_getProvider:yo,_registerComponent:Gi,_removeServiceInstance:ZN,deleteApp:dA,getApp:_c,getApps:iD,initializeApp:Ef,onLog:fA,registerVersion:Dn,setLogLevel:pA},Symbol.toStringTag,{value:"Module"}));function ry(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const fu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mD=pD,gD=vA,yA=new vo("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new wf("@firebase/auth");function vD(t,...e){jd.logLevel<=Me.WARN&&jd.warn(`Auth (${br}): ${t}`,...e)}function Td(t,...e){jd.logLevel<=Me.ERROR&&jd.error(`Auth (${br}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,...e){throw sy(t,...e)}function pn(t,...e){return sy(t,...e)}function _A(t,e,n){const r=Object.assign(Object.assign({},gD()),{[e]:n});return new vo("auth","Firebase",r).create(e,{appName:t.name})}function Qa(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rn(t,"argument-error"),_A(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yA.create(t,...e)}function H(t,e,...n){if(!t)throw sy(e,...n)}function $i(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function gi(t,e){t||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oy(){return _1()==="http:"||_1()==="https:"}function _1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oy()||sA()||"connection"in navigator)?navigator.onLine:!0}function _D(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=QO()||ty()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new wc(3e4,6e4);function Pt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jt(t,e,n,r,s={}){return EA(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Ya(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),wA.fetch()(bA(t,t.config.apiHost,n,h),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},a))})}async function EA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wD),e);try{const s=new ID(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Tu(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Tu(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _A(t,g,p);rn(t,g)}}catch(s){if(s instanceof fn)throw s;rn(t,"network-request-failed",{message:String(s)})}}async function Ir(t,e,n,r,s={}){const a=await jt(t,e,n,r,s);return"mfaPendingCredential"in a&&rn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function bA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ay(t.config,s):`${t.config.apiScheme}://${s}`}function bD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ID{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),ED.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=pn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){return t!==void 0&&t.getResponse!==void 0}function E1(t){return t!==void 0&&t.enterprise!==void 0}class TD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t){return(await jt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function SD(t,e){return jt(t,"GET","/v2/recaptchaConfig",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return jt(t,"POST","/v1/accounts:delete",e)}async function CD(t,e){return jt(t,"POST","/v1/accounts:update",e)}async function PD(t,e){return jt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kD(t,e=!1){const n=be(t),r=await n.getIdToken(e),s=bf(r);H(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Du(hg(s.auth_time)),issuedAtTime:Du(hg(s.iat)),expirationTime:Du(hg(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hg(t){return Number(t)*1e3}function bf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZT(n);return s?JSON.parse(s):(Td("Failed to decode base64 JWT payload"),null)}catch(s){return Td("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function OD(t){const e=bf(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _r(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fn&&ND(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ND({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _r(t,PD(n,{idToken:r}));H(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?MD(a.providerUserInfo):[],h=LD(t.providerData,l),d=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new IA(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function xD(t){const e=be(t);await Qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function MD(t){return t.map(e=>{var{providerId:n}=e,r=ry(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){const n=await EA(t,{},async()=>{const r=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=bA(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",wA.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await VD(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Ju;return r&&(H(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(H(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(H(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new IA(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await _r(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kD(this,e)}reload(){return xD(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _r(this,RD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,h,d,p,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,R=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(h=n.tenantId)!==null&&h!==void 0?h:void 0,b=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,S=(p=n.createdAt)!==null&&p!==void 0?p:void 0,P=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:F,emailVerified:x,isAnonymous:z,providerData:ie,stsTokenManager:pe}=n;H(F&&pe,e,"internal-error");const oe=Ju.fromJSON(this.name,pe);H(typeof F=="string",e,"internal-error"),qr(v,e.name),qr(w,e.name),H(typeof x=="boolean",e,"internal-error"),H(typeof z=="boolean",e,"internal-error"),qr(E,e.name),qr(R,e.name),qr(_,e.name),qr(b,e.name),qr(S,e.name),qr(P,e.name);const he=new Zs({uid:F,auth:e,email:w,emailVerified:x,displayName:v,isAnonymous:z,photoURL:R,phoneNumber:E,tenantId:_,stsTokenManager:oe,createdAt:S,lastLoginAt:P});return ie&&Array.isArray(ie)&&(he.providerData=ie.map(De=>Object.assign({},De))),b&&(he._redirectEventId=b),he}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ju;s.updateFromServerResponse(n);const a=new Zs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qu(a),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map;function Qn(t){gi(t instanceof Function,"Expected a class definition");let e=b1.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TA.type="NONE";const ka=TA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e,n){return`firebase:${t}:${e}:${n}`}class va{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=eo(this.userKey,s.apiKey,a),this.fullPersistenceKey=eo("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new va(Qn(ka),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Qn(ka);const l=eo(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){const v=Zs._fromJSON(e,g);p!==a&&(h=v),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new va(a,e,r):(a=d[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new va(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CA(e))return"Blackberry";if(PA(e))return"Webos";if(ly(e))return"Safari";if((e.includes("chrome/")||SA(e))&&!e.includes("edge/"))return"Chrome";if(Ec(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AA(t=Ft()){return/firefox\//i.test(t)}function ly(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SA(t=Ft()){return/crios\//i.test(t)}function RA(t=Ft()){return/iemobile/i.test(t)}function Ec(t=Ft()){return/android/i.test(t)}function CA(t=Ft()){return/blackberry/i.test(t)}function PA(t=Ft()){return/webos/i.test(t)}function Ja(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FD(t=Ft()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function UD(t=Ft()){var e;return Ja(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jD(){return oA()&&document.documentMode===10}function kA(t=Ft()){return Ja(t)||Ec(t)||PA(t)||CA(t)||/windows phone/i.test(t)||RA(t)}function BD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e=[]){let n;switch(t){case"Browser":n=I1(Ft());break;case"Worker":n=`${I1(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const d=e(a);l(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return jt(t,"GET","/v2/passwordPolicy",Pt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=6;class WD{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:qD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T1(this),this.idTokenSubscription=new T1(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await va.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===h)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?be(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HD(this),n=new WD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await va.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bt(t){return be(t)}class T1{constructor(e){this.auth=e,this.observer=null,this.addObserver=aA(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uy(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=pn("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",GD().appendChild(r)})}function NA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zD="https://www.google.com/recaptcha/enterprise.js?render=",YD="recaptcha-enterprise",QD="NO_RECAPTCHA";class JD{constructor(e){this.type=YD,this.auth=bt(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{SD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new TD(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{h(d)})})}function s(a,l,h){const d=window.grecaptcha;E1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(QD)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&E1(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}uy(zD+h).then(()=>{s(h,a,l)}).catch(d=>{l(d)})}}).catch(h=>{l(h)})})}}async function A1(t,e,n,r=!1){const s=new JD(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function If(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await A1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await A1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){const n=yo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Fd(a,e??{}))return s;rn(s,"already-initialized")}return n.initialize({options:e})}function ZD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DA(t,e,n){const r=bt(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),a=xA(e),{host:l,port:h}=ex(e),d=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||tx()}function xA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ex(t){const e=xA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:S1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:S1(l)}}}function S1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(t,e){return jt(t,"POST","/v1/accounts:resetPassword",Pt(t,e))}async function MA(t,e){return jt(t,"POST","/v1/accounts:update",e)}async function nx(t,e){return jt(t,"POST","/v1/accounts:update",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e){return Ir(t,"POST","/v1/accounts:signInWithPassword",Pt(t,e))}async function Tf(t,e){return jt(t,"POST","/v1/accounts:sendOobCode",Pt(t,e))}async function rx(t,e){return Tf(t,e)}async function sx(t,e){return Tf(t,e)}async function ox(t,e){return Tf(t,e)}async function ax(t,e){return Tf(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t,e){return Ir(t,"POST","/v1/accounts:signInWithEmailLink",Pt(t,e))}async function ux(t,e){return Ir(t,"POST","/v1/accounts:signInWithEmailLink",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Xa{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return If(e,n,"signInWithPassword",ix);case"emailLink":return lx(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return MA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ux(e,{idToken:n,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gr(t,e){return Ir(t,"POST","/v1/accounts:signInWithIdp",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="http://localhost";class zi extends Xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=ry(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new zi(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return gr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gr(e,n)}buildRequest(){const e={requestUri:cx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ya(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e){return jt(t,"POST","/v1/accounts:sendVerificationCode",Pt(t,e))}async function dx(t,e){return Ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Pt(t,e))}async function fx(t,e){const n=await Ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Pt(t,e));if(n.temporaryProof)throw Tu(t,"account-exists-with-different-credential",n);return n}const px={USER_NOT_FOUND:"user-not-found"};async function mx(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ir(t,"POST","/v1/accounts:signInWithPhoneNumber",Pt(t,n),px)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Xa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new to({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new to({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return dx(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return fx(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return mx(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:a}=e;return!r&&!n&&!s&&!a?null:new to({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vx(t){const e=ma(Iu(t)).link,n=e?ma(Iu(e)).deep_link_id:null,r=ma(Iu(t)).deep_link_id;return(r?ma(Iu(r)).link:null)||r||n||e||t}class Af{constructor(e){var n,r,s,a,l,h;const d=ma(Iu(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,v=gx((s=d.mode)!==null&&s!==void 0?s:null);H(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=vx(e);try{return new Af(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.providerId=ms.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Af.parseLink(n);return H(r,"argument-error"),Xu._fromEmailAndCode(e,r.code,r.tenantId)}}ms.PROVIDER_ID="password";ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ya extends Za{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return H("providerId"in n&&"signInMethod"in n,"argument-error"),zi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return H(e.idToken||e.accessToken,"argument-error"),zi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ya.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ya.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:a,nonce:l,providerId:h}=e;if(!r&&!s&&!n&&!a||!h)return null;try{return new ya(h)._credential({idToken:n,accessToken:r,nonce:l,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Za{constructor(){super("facebook.com")}static credential(e){return zi._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Za{constructor(){super("github.com")}static credential(e){return zi._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="http://localhost";class Oa extends Xa{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return gr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:a}=n;return!r||!s||!a||r!==s?null:new Oa(r,a)}static _create(e,n){return new Oa(e,n)}buildRequest(){return{requestUri:yx,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="saml.";class Bd extends Tr{constructor(e){H(e.startsWith(_x),"argument-error"),super(e)}static credentialFromResult(e){return Bd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Bd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Oa.fromJSON(e);return H(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Oa._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Za{constructor(){super("twitter.com")}static credential(e,n){return zi._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e){return Ir(t,"POST","/v1/accounts:signUp",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Zs._fromIdTokenResponse(e,r,s),l=R1(r);return new ri({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=R1(r);return new ri({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function R1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(t){var e;const n=bt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ri({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await VA(n,{returnSecureToken:!0}),s=await ri._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends fn{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $d(e,n,r,s)}}function FA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ex(t,e){const n=be(t);await Sf(!0,n,e);const{providerUserInfo:r}=await CD(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=UA(r||[]);return n.providerData=n.providerData.filter(a=>s.has(a.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function cy(t,e,n=!1){const r=await _r(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ri._forOperation(t,"link",r)}async function Sf(t,e,n){await Qu(e);const r=UA(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";H(r.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const a=await _r(t,FA(r,s,e,t),n);H(a.idToken,r,"internal-error");const l=bf(a.idToken);H(l,r,"internal-error");const{sub:h}=l;return H(t.uid===h,r,"user-mismatch"),ri._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&rn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e,n=!1){const r="signIn",s=await FA(t,r,e),a=await ri._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function Rf(t,e){return BA(bt(t),e)}async function $A(t,e){const n=be(t);return await Sf(!1,n,e.providerId),cy(n,e)}async function HA(t,e){return jA(be(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(t,e){return Ir(t,"POST","/v1/accounts:signInWithCustomToken",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e){const n=bt(t),r=await bx(n,{token:e,returnSecureToken:!0}),s=await ri._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?hy._fromServerResponse(e,n):"totpInfo"in n?dy._fromServerResponse(e,n):rn(e,"internal-error")}}class hy extends bc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new hy(n)}}class dy extends bc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new dy(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(t){const e=bt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tx(t,e,n){const r=bt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Cf(r,s,n),await If(r,s,"getOobCode",sx)}async function Ax(t,e,n){await LA(be(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fy(t),r})}async function Sx(t,e){await nx(be(t),{oobCode:e})}async function qA(t,e){const n=be(t),r=await LA(n,{oobCode:e}),s=r.requestType;switch(H(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(r.mfaInfo,n,"internal-error");default:H(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=bc._fromServerResponse(bt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function Rx(t,e){const{data:n}=await qA(be(t),e);return n.email}async function Cx(t,e,n){const r=bt(t),l=await If(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&fy(t),d}),h=await ri._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function Px(t,e,n){return Rf(be(t),ms.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fy(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e,n){const r=bt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(l,h){H(h.handleCodeInApp,r,"argument-error"),h&&Cf(r,l,h)}a(s,n),await If(r,s,"getOobCode",ox)}function Ox(t,e){const n=Af.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Nx(t,e,n){const r=be(t),s=ms.credentialWithLink(e,n||Yu());return H(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Rf(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(t,e){return jt(t,"POST","/v1/accounts:createAuthUri",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t,e){const n=oy()?Yu():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await Dx(be(t),r);return s||[]}async function Lx(t,e){const n=be(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Cf(n.auth,s,e);const{email:a}=await rx(n.auth,s);a!==t.email&&await t.reload()}async function Mx(t,e,n){const r=be(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Cf(r.auth,a,n);const{email:l}=await ax(r.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(t,e){return jt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=be(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await _r(r,Vx(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Ux(t,e){return WA(be(t),e,null)}function jx(t,e){return WA(be(t),null,e)}async function WA(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const l=await _r(t,MA(r,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){var e,n;if(!t)return null;const{providerId:r}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},a=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const l=(n=(e=bf(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const h=l!=="anonymous"&&l!=="custom"?l:null;return new _a(a,h)}}if(!r)return null;switch(r){case"facebook.com":return new $x(a,s);case"github.com":return new Hx(a,s);case"google.com":return new qx(a,s);case"twitter.com":return new Wx(a,s,t.screenName||null);case"custom":case"anonymous":return new _a(a,null);default:return new _a(a,r,s)}}class _a{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class KA extends _a{constructor(e,n,r,s){super(e,n,r),this.username=s}}class $x extends _a{constructor(e,n){super(e,"facebook.com",n)}}class Hx extends KA{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class qx extends _a{constructor(e,n){super(e,"google.com",n)}}class Wx extends KA{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Kx(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Bx(n)}function Gx(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function zx(t,e,n){return be(t).beforeAuthStateChanged(e,n)}function Yx(t,e,n,r){return be(t).onAuthStateChanged(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Ks("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ks("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ks._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ks._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=bt(e),s=n.customData._serverResponse,a=(s.mfaInfo||[]).map(h=>bc._fromServerResponse(r,h));H(s.mfaPendingCredential,r,"internal-error");const l=Ks._fromMfaPendingCredential(s.mfaPendingCredential);return new py(l,a,async h=>{const d=await h._process(r,l);delete s.mfaInfo,delete s.mfaPendingCredential;const p=Object.assign(Object.assign({},s),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":const g=await ri._fromIdTokenResponse(r,n.operationType,p);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return H(n.user,r,"internal-error"),ri._forOperation(n.user,n.operationType,p);default:rn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Qx(t,e){var n;const r=be(t),s=e;return H(e.customData.operationType,r,"argument-error"),H((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),py._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t,e){return jt(t,"POST","/v2/accounts/mfaEnrollment:start",Pt(t,e))}function Xx(t,e){return jt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(t,e))}function Zx(t,e){return jt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(t,e))}class my{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>bc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new my(e)}async getSession(){return Ks._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,s=await this.getSession(),a=await _r(this.user,r._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await _r(this.user,Zx(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const dg=new WeakMap;function eL(t){const e=be(t);return dg.has(e)||dg.set(e,my._fromUser(e)),dg.get(e)}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){const t=Ft();return ly(t)||Ja(t)}const nL=1e3,iL=10;class zA extends GA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=tL()&&BD(),this.fallbackToPolling=kA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,d)=>{this.notifyListeners(l,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);jD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,iL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zA.type="LOCAL";const Pf=zA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends GA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YA.type="SESSION";const us=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),d=await rL(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,d)=>{const p=Ic("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(w.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return window}function oL(t){Lt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){return typeof Lt().WorkerGlobalScope<"u"&&typeof Lt().importScripts=="function"}async function aL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uL(){return gy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebaseLocalStorageDb",cL=1,qd="firebaseLocalStorage",JA="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(t,e){return t.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function hL(){const t=indexedDB.deleteDatabase(QA);return new Tc(t).toPromise()}function Gg(){const t=indexedDB.open(QA,cL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qd,{keyPath:JA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qd)?e(r):(r.close(),await hL(),e(await Gg()))})})}async function C1(t,e,n){const r=Of(t,!0).put({[JA]:e,value:n});return new Tc(r).toPromise()}async function dL(t,e){const n=Of(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function P1(t,e){const n=Of(t,!0).delete(e);return new Tc(n).toPromise()}const fL=800,pL=3;class XA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>pL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(uL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aL(),!this.activeServiceWorker)return;this.sender=new sL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gg();return await C1(e,Hd,"1"),await P1(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Of(s,!1).getAll();return new Tc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XA.type="LOCAL";const Na=XA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e){return jt(t,"POST","/v2/accounts/mfaSignIn:start",Pt(t,e))}function gL(t,e){return jt(t,"POST","/v2/accounts/mfaSignIn:finalize",Pt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=500,yL=6e4,rd=1e12;class _L{constructor(e){this.auth=e,this.counter=rd,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new wL(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||rd;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||rd;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||rd;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class wL{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;H(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=EL(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},yL)},vL))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function EL(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=NA("rcb"),bL=new wc(3e4,6e4),IL="https://www.google.com/recaptcha/api.js?";class TL{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Lt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return H(AL(n),e,"argument-error"),this.shouldResolveImmediately(n)&&w1(Lt().grecaptcha)?Promise.resolve(Lt().grecaptcha):new Promise((r,s)=>{const a=Lt().setTimeout(()=>{s(pn(e,"network-request-failed"))},bL.get());Lt()[fg]=()=>{Lt().clearTimeout(a),delete Lt()[fg];const h=Lt().grecaptcha;if(!h||!w1(h)){s(pn(e,"internal-error"));return}const d=h.render;h.render=(p,g)=>{const v=d(p,g);return this.counter++,v},this.hostLanguage=n,r(h)};const l=`${IL}?${Ya({onload:fg,render:"explicit",hl:n})}`;uy(l).catch(()=>{clearTimeout(a),s(pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Lt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function AL(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class SL{async load(e){return new _L(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="recaptcha",RL={theme:"light",type:"image"};let CL=class{constructor(e,n,r=Object.assign({},RL)){this.parameters=r,this.type=ZA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(e),this.isInvisible=this.parameters.size==="invisible",H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;H(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SL:new TL,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const a=l=>{l&&(this.tokenChangeListeners.delete(a),s(l))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Lt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){H(oy()&&!gy(),this.auth,"internal-error"),await PL(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await AD(this.auth);H(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function PL(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=to._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function kL(t,e,n){const r=bt(t),s=await Nf(r,e,be(n));return new vy(s,a=>Rf(r,a))}async function OL(t,e,n){const r=be(t);await Sf(!1,r,"phone");const s=await Nf(r.auth,e,be(n));return new vy(s,a=>$A(r,a))}async function NL(t,e,n){const r=be(t),s=await Nf(r.auth,e,be(n));return new vy(s,a=>HA(r,a))}async function Nf(t,e,n){var r;const s=await n.verify();try{H(typeof s=="string",t,"argument-error"),H(n.type===ZA,t,"argument-error");let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const l=a.session;if("phoneNumber"in a)return H(l.type==="enroll",t,"internal-error"),(await Jx(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{H(l.type==="signin",t,"internal-error");const h=((r=a.multiFactorHint)===null||r===void 0?void 0:r.uid)||a.multiFactorUid;return H(h,t,"missing-multi-factor-info"),(await mL(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:h,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await hx(t,{phoneNumber:a.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function DL(t,e){await cy(be(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo=class Ad{constructor(e){this.providerId=Ad.PROVIDER_ID,this.auth=bt(e)}verifyPhoneNumber(e,n){return Nf(this.auth,e,be(n))}static credential(e,n){return to._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Ad.credentialFromTaggedObject(n)}static credentialFromError(e){return Ad.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?to._fromTokenResponse(n,r):null}};lo.PROVIDER_ID="phone";lo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){return e?Qn(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends Xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xL(t){return BA(t.auth,new yy(t),t.bypassAuthState)}function LL(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),jA(n,new yy(t),t.bypassAuthState)}async function ML(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),cy(n,new yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xL;case"linkViaPopup":case"linkViaRedirect":return ML;case"reauthViaPopup":case"reauthViaRedirect":return LL;default:rn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new wc(2e3,1e4);async function FL(t,e,n){const r=bt(t);Qa(t,e,Tr);const s=_o(r,n);return new dr(r,"signInViaPopup",e,s).executeNotNull()}async function UL(t,e,n){const r=be(t);Qa(r.auth,e,Tr);const s=_o(r.auth,n);return new dr(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function jL(t,e,n){const r=be(t);Qa(r.auth,e,Tr);const s=_o(r.auth,n);return new dr(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class dr extends eS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,dr.currentPopupAction&&dr.currentPopupAction.cancel(),dr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Ic();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VL.get())};e()}}dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="pendingRedirect",xu=new Map;class $L extends eS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xu.get(this.auth._key());if(!e){try{const r=await HL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xu.set(this.auth._key(),e)}return this.bypassAuthState||xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HL(t,e){const n=nS(e),r=tS(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function _y(t,e){return tS(t)._set(nS(e),"true")}function qL(){xu.clear()}function wy(t,e){xu.set(t._key(),e)}function tS(t){return Qn(t._redirectPersistence)}function nS(t){return eo(BL,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e,n){return KL(t,e,n)}async function KL(t,e,n){const r=bt(t);Qa(t,e,Tr),await r._initializationPromise;const s=_o(r,n);return await _y(s,r),s._openRedirect(r,e,"signInViaRedirect")}function GL(t,e,n){return zL(t,e,n)}async function zL(t,e,n){const r=be(t);Qa(r.auth,e,Tr),await r.auth._initializationPromise;const s=_o(r.auth,n);await _y(s,r.auth);const a=await iS(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",a)}function YL(t,e,n){return QL(t,e,n)}async function QL(t,e,n){const r=be(t);Qa(r.auth,e,Tr),await r.auth._initializationPromise;const s=_o(r.auth,n);await Sf(!1,r,e.providerId),await _y(s,r.auth);const a=await iS(r);return s._openRedirect(r.auth,e,"linkViaRedirect",a)}async function JL(t,e){return await bt(t)._initializationPromise,Df(t,e,!1)}async function Df(t,e,n=!1){const r=bt(t),s=_o(r,e),l=await new $L(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function iS(t){const e=Ic(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=10*60*1e3;class rS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XL&&this.cachedEventUids.clear(),this.cachedEventUids.has(k1(e))}saveEventToCache(e){this.cachedEventUids.add(k1(e)),this.lastProcessedEventTime=Date.now()}}function k1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(t,e={}){return jt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tM=/^https?/;async function nM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oS(t);for(const n of e)try{if(iM(n))return}catch{}rn(t,"unauthorized-domain")}function iM(t){const e=Yu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!tM.test(n))return!1;if(eM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new wc(3e4,6e4);function O1(){const t=Lt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sM(t){return new Promise((e,n)=>{var r,s,a;function l(){O1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O1(),n(pn(t,"network-request-failed"))},timeout:rM.get()})}if(!((s=(r=Lt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Lt().gapi)===null||a===void 0)&&a.load)l();else{const h=NA("iframefcb");return Lt()[h]=()=>{gapi.load?l():n(pn(t,"network-request-failed"))},uy(`https://apis.google.com/js/api.js?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function oM(t){return Sd=Sd||sM(t),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new wc(5e3,15e3),lM="__/auth/iframe",uM="emulator/auth/iframe",cM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dM(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ay(e,uM):`https://${t.config.authDomain}/${lM}`,r={apiKey:e.apiKey,appName:t.name,v:br},s=hM.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ya(r).slice(1)}`}async function fM(t){const e=await oM(t),n=Lt().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:dM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cM,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=pn(t,"network-request-failed"),h=Lt().setTimeout(()=>{a(l)},aM.get());function d(){Lt().clearTimeout(h),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mM=500,gM=600,vM="_blank",yM="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _M(t,e,n,r=mM,s=gM){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},pM),{width:r.toString(),height:s.toString(),top:a,left:l}),p=Ft().toLowerCase();n&&(h=SA(p)?vM:n),AA(p)&&(e=e||yM,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[E,R])=>`${w}${E}=${R},`,"");if(UD(p)&&h!=="_self")return wM(e||"",h),new N1(null);const v=window.open(e||"",h,g);H(v,t,"popup-blocked");try{v.focus()}catch{}return new N1(v)}function wM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="__/auth/handler",bM="emulator/auth/handler",IM=encodeURIComponent("fac");async function zg(t,e,n,r,s,a){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:br,eventId:s};if(e instanceof Tr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",nN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(a||{}))l[g]=v}if(e instanceof Za){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${IM}=${encodeURIComponent(d)}`:"";return`${TM(t)}?${Ya(h).slice(1)}${p}`}function TM({config:t}){return t.emulator?ay(t,bM):`https://${t.authDomain}/${EM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="webStorageSupport";class AM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=Df,this._overrideRedirectResult=wy}async _openPopup(e,n,r,s){var a;gi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await zg(e,n,r,Yu(),s);return _M(e,l,Ic())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await zg(e,n,r,Yu(),s);return oL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(gi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fM(e),r=new rS(e);return n.register("authEvent",s=>(H(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pg,{type:pg},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[pg];l!==void 0&&n(!!l),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kA()||ly()||Ja()}}const aS=AM;class SM{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return $i("unexpected MultiFactorSessionType")}}}class Ey extends SM{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Ey(e)}_finalizeEnroll(e,n,r){return Xx(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return gL(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lS{constructor(){}static assertion(e){return Ey._fromCredential(e)}}lS.FACTOR_ID="phone";var D1="@firebase/auth",x1="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function PM(t){Gi(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;H(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OA(t)},p=new KD(r,s,a,d);return ZD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gi(new mi("auth-internal",e=>{const n=bt(e.getProvider("auth").getImmediate());return(r=>new RM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(D1,x1,CM(t)),Dn(D1,x1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=5*60,OM=nA("authIdTokenMaxAge")||kM;let L1=null;const NM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OM)return;const s=n==null?void 0:n.token;L1!==s&&(L1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function uS(t=_c()){const e=yo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XD(t,{popupRedirectResolver:aS,persistence:[Na,Pf,us]}),r=nA("authTokenSyncURL");if(r){const a=NM(r);zx(n,a,()=>a(n.currentUser)),Gx(n,l=>a(l))}const s=eA("auth");return s&&DA(n,`http://${s}`),n}PM("Browser");var DM="firebase",xM="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(DM,xM,"app");var LM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,by=by||{},Ie=LM||self;function xf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ac(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MM(t){return Object.prototype.hasOwnProperty.call(t,mg)&&t[mg]||(t[mg]=++VM)}var mg="closure_uid_"+(1e9*Math.random()>>>0),VM=0;function FM(t,e,n){return t.call.apply(t.bind,arguments)}function UM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tn=FM:Tn=UM,Tn.apply(null,arguments)}function sd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function on(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[s].apply(r,l)}}function gs(){this.s=this.s,this.o=this.o}var jM=0;gs.prototype.s=!1;gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jM!=0)&&MM(this)};gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Iy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function M1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xf(r)){const s=t.length||0,a=r.length||0;t.length=s+a;for(let l=0;l<a;l++)t[s+l]=r[l]}else t.push(r)}}function An(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};var BM=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ie.addEventListener("test",()=>{},e),Ie.removeEventListener("test",()=>{},e)}catch{}return t}();function Zu(t){return/^[\s\xa0]*$/.test(t)}function Lf(){var t=Ie.navigator;return t&&(t=t.userAgent)?t:""}function Fi(t){return Lf().indexOf(t)!=-1}function Ty(t){return Ty[" "](t),t}Ty[" "]=function(){};function $M(t,e){var n=xV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var HM=Fi("Opera"),Da=Fi("Trident")||Fi("MSIE"),hS=Fi("Edge"),Yg=hS||Da,dS=Fi("Gecko")&&!(Lf().toLowerCase().indexOf("webkit")!=-1&&!Fi("Edge"))&&!(Fi("Trident")||Fi("MSIE"))&&!Fi("Edge"),qM=Lf().toLowerCase().indexOf("webkit")!=-1&&!Fi("Edge");function fS(){var t=Ie.document;return t?t.documentMode:void 0}var Qg;e:{var gg="",vg=function(){var t=Lf();if(dS)return/rv:([^\);]+)(\)|;)/.exec(t);if(hS)return/Edge\/([\d\.]+)/.exec(t);if(Da)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(qM)return/WebKit\/(\S+)/.exec(t);if(HM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vg&&(gg=vg?vg[1]:""),Da){var yg=fS();if(yg!=null&&yg>parseFloat(gg)){Qg=String(yg);break e}}Qg=gg}var Jg;if(Ie.document&&Da){var V1=fS();Jg=V1||parseInt(Qg,10)||void 0}else Jg=void 0;var WM=Jg;function ec(t,e){if(An.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(dS){e:{try{Ty(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:KM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ec.$.h.call(this)}}on(ec,An);var KM={2:"touch",3:"pen",4:"mouse"};ec.prototype.h=function(){ec.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Sc="closure_listenable_"+(1e6*Math.random()|0),GM=0;function zM(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++GM,this.fa=this.ia=!1}function Mf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ay(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function YM(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function pS(t){const e={};for(const n in t)e[n]=t[n];return e}const F1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let a=0;a<F1.length;a++)n=F1[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vf(t){this.src=t,this.g={},this.h=0}Vf.prototype.add=function(t,e,n,r,s){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var l=Zg(t,e,r,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new zM(e,this.src,a,!!r,s),e.ia=n,t.push(e)),e};function Xg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=cS(r,e),a;(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(Mf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Zg(t,e,n,r){for(var s=0;s<t.length;++s){var a=t[s];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==r)return s}return-1}var Sy="closure_lm_"+(1e6*Math.random()|0),_g={};function gS(t,e,n,r,s){if(r&&r.once)return yS(t,e,n,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)gS(t,e[a],n,r,s);return null}return n=Py(n),t&&t[Sc]?t.O(e,n,Ac(r)?!!r.capture:!!r,s):vS(t,e,n,!1,r,s)}function vS(t,e,n,r,s,a){if(!e)throw Error("Invalid event type");var l=Ac(s)?!!s.capture:!!s,h=Cy(t);if(h||(t[Sy]=h=new Vf(t)),n=h.add(e,n,r,l,a),n.proxy)return n;if(r=QM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BM||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(wS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QM(){function t(n){return e.call(t.src,t.listener,n)}const e=JM;return t}function yS(t,e,n,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)yS(t,e[a],n,r,s);return null}return n=Py(n),t&&t[Sc]?t.P(e,n,Ac(r)?!!r.capture:!!r,s):vS(t,e,n,!0,r,s)}function _S(t,e,n,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)_S(t,e[a],n,r,s);else r=Ac(r)?!!r.capture:!!r,n=Py(n),t&&t[Sc]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=Zg(a,n,r,s),-1<n&&(Mf(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zg(e,n,r,s)),(n=-1<t?e[t]:null)&&Ry(n))}function Ry(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Sc])Xg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cy(e))?(Xg(n,t),n.h==0&&(n.src=null,e[Sy]=null)):Mf(t)}}}function wS(t){return t in _g?_g[t]:_g[t]="on"+t}function JM(t,e){if(t.fa)t=!0;else{e=new ec(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Ry(t),t=n.call(r,e)}return t}function Cy(t){return t=t[Sy],t instanceof Vf?t:null}var wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Py(t){return typeof t=="function"?t:(t[wg]||(t[wg]=function(e){return t.handleEvent(e)}),t[wg])}function sn(){gs.call(this),this.i=new Vf(this),this.S=this,this.J=null}on(sn,gs);sn.prototype[Sc]=!0;sn.prototype.removeEventListener=function(t,e,n,r){_S(this,t,e,n,r)};function mn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new An(e,t);else if(e instanceof An)e.target=e.target||t;else{var s=e;e=new An(r,t),mS(e,s)}if(s=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];s=od(l,r,!0,e)&&s}if(l=e.g=t,s=od(l,r,!0,e)&&s,s=od(l,r,!1,e)&&s,n)for(a=0;a<n.length;a++)l=e.g=n[a],s=od(l,r,!1,e)&&s}sn.prototype.N=function(){if(sn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mf(n[r]);delete t.g[e],t.h--}}this.J=null};sn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};sn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function od(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==n){var h=l.listener,d=l.la||l.src;l.ia&&Xg(t.i,l),s=h.call(d,r)!==!1&&s}}return s&&!r.defaultPrevented}var ky=Ie.JSON.stringify;class XM{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZM(){var t=Oy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eV{constructor(){this.h=this.g=null}add(e,n){const r=ES.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ES=new XM(()=>new tV,t=>t.reset());class tV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function iV(t){Ie.setTimeout(()=>{throw t},0)}let tc,nc=!1,Oy=new eV,bS=()=>{const t=Ie.Promise.resolve(void 0);tc=()=>{t.then(rV)}};var rV=()=>{for(var t;t=ZM();){try{t.h.call(t.g)}catch(n){iV(n)}var e=ES;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nc=!1};function Ff(t,e){sn.call(this),this.h=t||1,this.g=e||Ie,this.j=Tn(this.qb,this),this.l=Date.now()}on(Ff,sn);Y=Ff.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mn(this,"tick"),this.ga&&(Ny(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ny(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Ff.$.N.call(this),Ny(this),delete this.g};function Dy(t,e,n){if(typeof t=="function")n&&(t=Tn(t,n));else if(t&&typeof t.handleEvent=="function")t=Tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ie.setTimeout(t,e||0)}function IS(t){t.g=Dy(()=>{t.g=null,t.i&&(t.i=!1,IS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sV extends gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:IS(this)}N(){super.N(),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(t){gs.call(this),this.h=t,this.g={}}on(ic,gs);var U1=[];function TS(t,e,n,r){Array.isArray(n)||(n&&(U1[0]=n.toString()),n=U1);for(var s=0;s<n.length;s++){var a=gS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function AS(t){Ay(t.g,function(e,n){this.g.hasOwnProperty(n)&&Ry(e)},t),t.g={}}ic.prototype.N=function(){ic.$.N.call(this),AS(this)};ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uf(){this.g=!0}Uf.prototype.Ea=function(){this.g=!1};function oV(t,e,n,r,s,a){t.info(function(){if(t.g)if(a)for(var l="",h=a.split("&"),d=0;d<h.length;d++){var p=h[d].split("=");if(1<p.length){var g=p[0];p=p[1];var v=g.split("_");l=2<=v.length&&v[1]=="type"?l+(g+"="+p+"&"):l+(g+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function aV(t,e,n,r,s,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+a+" "+l})}function ga(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uV(t,n)+(r?" "+r:"")})}function lV(t,e){t.info(function(){return"TIMEOUT: "+e})}Uf.prototype.info=function(){};function uV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return ky(n)}catch{return e}}var wo={},j1=null;function jf(){return j1=j1||new sn}wo.Ta="serverreachability";function SS(t){An.call(this,wo.Ta,t)}on(SS,An);function rc(t){const e=jf();mn(e,new SS(e))}wo.STAT_EVENT="statevent";function RS(t,e){An.call(this,wo.STAT_EVENT,t),this.stat=e}on(RS,An);function Nn(t){const e=jf();mn(e,new RS(e,t))}wo.Ua="timingevent";function CS(t,e){An.call(this,wo.Ua,t),this.size=e}on(CS,An);function Rc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){t()},e)}var Bf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xy(){}xy.prototype.h=null;function B1(t){return t.h||(t.h=t.i())}function kS(){}var Cc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ly(){An.call(this,"d")}on(Ly,An);function My(){An.call(this,"c")}on(My,An);var ev;function $f(){}on($f,xy);$f.prototype.g=function(){return new XMLHttpRequest};$f.prototype.i=function(){return{}};ev=new $f;function Pc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ic(this),this.P=cV,t=Yg?125:void 0,this.V=new Ff(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OS}function OS(){this.i=null,this.g="",this.h=!1}var cV=45e3,tv={},Wd={};Y=Pc.prototype;Y.setTimeout=function(t){this.P=t};function nv(t,e,n){t.L=1,t.v=qf(wr(e)),t.s=n,t.S=!0,NS(t,null)}function NS(t,e){t.G=Date.now(),kc(t),t.A=wr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),jS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new OS,t.g=aR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sV(Tn(t.Pa,t,t.g),t.O)),TS(t.U,t.g,"readystatechange",t.nb),e=t.I?pS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),rc(),oV(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&Hi(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const g=Hi(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>g)&&(g!=3||Yg||this.g&&(this.h.h||this.g.ja()||W1(this.g)))){this.J||g!=4||e==7||(e==8||0>=v?rc(3):rc(2)),Hf(this);var n=this.g.da();this.ca=n;t:if(DS(this)){var r=W1(this.g);t="";var s=r.length,a=Hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gs(this),Lu(this);var l="";break t}this.h.i=new Ie.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,aV(this.j,this.u,this.A,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zu(h)){var p=h;break t}}p=null}if(n=p)ga(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,iv(this,n);else{this.i=!1,this.o=3,Nn(12),Gs(this),Lu(this);break e}}this.S?(xS(this,g,l),Yg&&this.i&&g==3&&(TS(this.U,this.V,"tick",this.mb),this.V.start())):(ga(this.j,this.m,l,null),iv(this,l)),g==4&&Gs(this),this.i&&!this.J&&(g==4?iR(this.l,this):(this.i=!1,kc(this)))}else OV(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Gs(this),Lu(this)}}}catch{}finally{}};function DS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function xS(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=hV(t,n),s==Wd){e==4&&(t.o=4,Nn(14),r=!1),ga(t.j,t.m,null,"[Incomplete Response]");break}else if(s==tv){t.o=4,Nn(15),ga(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ga(t.j,t.m,s,null),iv(t,s);DS(t)&&s!=Wd&&s!=tv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Nn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$y(e),e.M=!0,Nn(11))):(ga(t.j,t.m,n,"[Invalid Chunked Response]"),Gs(t),Lu(t))}Y.mb=function(){if(this.g){var t=Hi(this.g),e=this.g.ja();this.C<e.length&&(Hf(this),xS(this,t,e),this.i&&t!=4&&kc(this))}};function hV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Wd:(n=Number(e.substring(n,r)),isNaN(n)?tv:(r+=1,r+n>e.length?Wd:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,Gs(this)};function kc(t){t.Y=Date.now()+t.P,LS(t,t.P)}function LS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rc(Tn(t.lb,t),e)}function Hf(t){t.B&&(Ie.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(lV(this.j,this.A),this.L!=2&&(rc(),Nn(17)),Gs(this),this.o=2,Lu(this)):LS(this,this.Y-t)};function Lu(t){t.l.H==0||t.J||iR(t.l,t)}function Gs(t){Hf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ny(t.V),AS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function iv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||rv(n.i,t))){if(!t.K&&rv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)zd(n),Gf(n);else break e;By(n),Nn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rc(Tn(n.ib,n),6e3));if(1>=HS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zs(n,11)}else if((t.K||n.g==t)&&zd(n),!Zu(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let p=s[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const g=p[3];g!=null&&(n.ra=g,n.l.info("VER="+n.ra));const v=p[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const w=p[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const R=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var a=r.i;a.g||R.indexOf("spdy")==-1&&R.indexOf("quic")==-1&&R.indexOf("h2")==-1||(a.j=a.l,a.g=new Set,a.h&&(Vy(a,a.h),a.h=null))}if(r.F){const _=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,dt(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var l=t;if(r.wa=oR(r,r.J?r.pa:null,r.Y),l.K){qS(r.i,l);var h=l,d=r.L;d&&h.setTimeout(d),h.B&&(Hf(h),kc(h)),r.g=l}else tR(r);0<n.j.length&&zf(n)}else p[0]!="stop"&&p[0]!="close"||zs(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?zs(n,7):jy(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}rc(4)}catch{}}function dV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function MS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fV(t),r=dV(t),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],n&&n[a],t)}var VS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var a=t[n].substring(0,r);s=t[n].substring(r+1)}else a=t[n];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function no(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof no){this.h=t.h,Kd(this,t.j),this.s=t.s,this.g=t.g,Gd(this,t.m),this.l=t.l;var e=t.i,n=new sc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$1(this,n),this.o=t.o}else t&&(e=String(t).match(VS))?(this.h=!1,Kd(this,e[1]||"",!0),this.s=Au(e[2]||""),this.g=Au(e[3]||"",!0),Gd(this,e[4]),this.l=Au(e[5]||"",!0),$1(this,e[6]||"",!0),this.o=Au(e[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}no.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Su(e,H1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Su(e,H1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Su(n,n.charAt(0)=="/"?vV:gV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Su(n,_V)),t.join("")};function wr(t){return new no(t)}function Kd(t,e,n){t.j=n?Au(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $1(t,e,n){e instanceof sc?(t.i=e,wV(t.i,t.h)):(n||(e=Su(e,yV)),t.i=new sc(e,t.h))}function dt(t,e,n){t.i.set(e,n)}function qf(t){return dt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Au(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Su(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var H1=/[#\/\?@]/g,gV=/[#\?:]/g,vV=/[#\?]/g,yV=/[#\?@]/g,_V=/#/g;function sc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vs(t){t.g||(t.g=new Map,t.h=0,t.i&&pV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=sc.prototype;Y.add=function(t,e){vs(this),this.i=null,t=el(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function FS(t,e){vs(t),e=el(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function US(t,e){return vs(t),e=el(t,e),t.g.has(e)}Y.forEach=function(t,e){vs(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Y.ta=function(){vs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let a=0;a<s.length;a++)n.push(e[r])}return n};Y.Z=function(t){vs(this);let e=[];if(typeof t=="string")US(this,t)&&(e=e.concat(this.g.get(el(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return vs(this),this.i=null,t=el(this,t),US(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jS(t,e,n){FS(t,e),0<n.length&&(t.i=null,t.g.set(el(t,e),Iy(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=a;l[r]!==""&&(s+="="+encodeURIComponent(String(l[r]))),t.push(s)}}return this.i=t.join("&")};function el(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wV(t,e){e&&!t.j&&(vs(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(FS(this,r),jS(this,s,n))},t)),t.j=e}var EV=class{constructor(t,e){this.g=t,this.map=e}};function BS(t){this.l=t||bV,Ie.PerformanceNavigationTiming?(t=Ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ie.g&&Ie.g.Ka&&Ie.g.Ka()&&Ie.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bV=10;function $S(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function HS(t){return t.h?1:t.g?t.g.size:0}function rv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vy(t,e){t.g?t.g.add(e):t.h=e}function qS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}BS.prototype.cancel=function(){if(this.i=WS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function WS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Iy(t.i)}var IV=class{stringify(t){return Ie.JSON.stringify(t,void 0)}parse(t){return Ie.JSON.parse(t,void 0)}};function TV(){this.g=new IV}function AV(t,e,n){const r=n||"";try{MS(t,function(s,a){let l=s;Ac(s)&&(l=ky(s)),e.push(r+a+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function SV(t,e){const n=new Uf;if(Ie.Image){const r=new Image;r.onload=sd(ad,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sd(ad,n,r,"TestLoadImage: error",!1,e),r.onabort=sd(ad,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sd(ad,n,r,"TestLoadImage: timeout",!1,e),Ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ad(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Oc(t){this.l=t.ec||null,this.j=t.ob||!1}on(Oc,xy);Oc.prototype.g=function(){return new Wf(this.l,this.j)};Oc.prototype.i=function(t){return function(){return t}}({});function Wf(t,e){sn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}on(Wf,sn);var Fy=0;Y=Wf.prototype;Y.open=function(t,e){if(this.readyState!=Fy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,oc(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nc(this)),this.readyState=Fy};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nc(this):oc(this),this.readyState==3&&KS(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Nc(this))};Y.Ya=function(t){this.g&&(this.response=t,Nc(this))};Y.ka=function(){this.g&&Nc(this)};function Nc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,oc(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function oc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RV=Ie.JSON.parse;function It(t){sn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=GS,this.L=this.M=!1}on(It,sn);var GS="",CV=/^https?$/i,PV=["POST","PUT"];Y=It.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ev.g(),this.C=this.u?B1(this.u):B1(ev),this.g.onreadystatechange=Tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){q1(this,a);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const a of r.keys())n.set(a,r.get(a));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(a=>a.toLowerCase()=="content-type"),s=Ie.FormData&&t instanceof Ie.FormData,!(0<=cS(PV,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of n)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QS(this),0<this.B&&((this.L=kV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.ua,this)):this.A=Dy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){q1(this,a)}};function kV(t){return Da&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof by<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mn(this,"timeout"),this.abort(8))};function q1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zS(t),Kf(t)}function zS(t){t.F||(t.F=!0,mn(t,"complete"),mn(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mn(this,"complete"),mn(this,"abort"),Kf(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kf(this,!0)),It.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?YS(this):this.kb())};Y.kb=function(){YS(this)};function YS(t){if(t.h&&typeof by<"u"&&(!t.C[1]||Hi(t)!=4||t.da()!=2)){if(t.v&&Hi(t)==4)Dy(t.La,0,t);else if(mn(t,"readystatechange"),Hi(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=l===0){var s=String(t.I).match(VS)[1]||null;!s&&Ie.self&&Ie.self.location&&(s=Ie.self.location.protocol.slice(0,-1)),r=!CV.test(s?s.toLowerCase():"")}n=r}if(n)mn(t,"complete"),mn(t,"success");else{t.m=6;try{var a=2<Hi(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",zS(t)}}finally{Kf(t)}}}}function Kf(t,e){if(t.g){QS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mn(t,"ready");try{n.onreadystatechange=r}catch{}}}function QS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ie.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Hi(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RV(e)}};function W1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case GS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function OV(t){const e={};t=(t.g&&2<=Hi(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Zu(t[r]))continue;var n=nV(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const a=e[s]||[];e[s]=a,a.push(n)}YM(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function JS(t){let e="";return Ay(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Uy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):dt(t,e,n))}function pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function XS(t){this.Ga=0,this.j=[],this.l=new Uf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pu("baseRetryDelayMs",5e3,t),this.hb=pu("retryDelaySeedMs",1e4,t),this.eb=pu("forwardChannelMaxRetries",2,t),this.xa=pu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new BS(t&&t.concurrentRequestLimit),this.Ja=new TV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=XS.prototype;Y.ra=8;Y.H=1;function jy(t){if(ZS(t),t.H==3){var e=t.W++,n=wr(t.I);if(dt(n,"SID",t.K),dt(n,"RID",e),dt(n,"TYPE","terminate"),Dc(t,n),e=new Pc(t,t.l,e),e.L=2,e.v=qf(wr(n)),n=!1,Ie.navigator&&Ie.navigator.sendBeacon)try{n=Ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=aR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kc(e)}sR(t)}function Gf(t){t.g&&($y(t),t.g.cancel(),t.g=null)}function ZS(t){Gf(t),t.u&&(Ie.clearTimeout(t.u),t.u=null),zd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ie.clearTimeout(t.m),t.m=null)}function zf(t){if(!$S(t.i)&&!t.m){t.m=!0;var e=t.Na;tc||bS(),nc||(tc(),nc=!0),Oy.add(e,t),t.C=0}}function NV(t,e){return HS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rc(Tn(t.Na,t,e),rR(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Pc(this,this.l,t);let a=this.s;if(this.U&&(a?(a=pS(a),mS(a,this.U)):a=this.U),this.o!==null||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eR(this,s,e),n=wr(this.I),dt(n,"RID",t),dt(n,"CVER",22),this.F&&dt(n,"X-HTTP-Session-Id",this.F),Dc(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(JS(a)))+"&"+e:this.o&&Uy(n,this.o,a)),Vy(this.i,s),this.bb&&dt(n,"TYPE","init"),this.P?(dt(n,"$req",e),dt(n,"SID","null"),s.aa=!0,nv(s,n,null)):nv(s,n,e),this.H=2}}else this.H==3&&(t?K1(this,t):this.j.length==0||$S(this.i)||K1(this))};function K1(t,e){var n;e?n=e.m:n=t.W++;const r=wr(t.I);dt(r,"SID",t.K),dt(r,"RID",n),dt(r,"AID",t.V),Dc(t,r),t.o&&t.s&&Uy(r,t.o,t.s),n=new Pc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vy(t.i,n),nv(n,r,e)}function Dc(t,e){t.na&&Ay(t.na,function(n,r){dt(e,r,n)}),t.h&&MS({},function(n,r){dt(e,r,n)})}function eR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Tn(t.h.Va,t.h,t):null;e:{var s=t.j;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=s[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let d=0;d<n;d++){let p=s[d].g;const g=s[d].map;if(p-=a,0>p)a=Math.max(0,s[d].g-100),h=!1;else try{AV(g,l,"req"+p+"_")}catch{r&&r(g)}}if(h){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tc||bS(),nc||(tc(),nc=!0),Oy.add(e,t),t.A=0}}function By(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rc(Tn(t.Ma,t),rR(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,nR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rc(Tn(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nn(10),Gf(this),nR(this))};function $y(t){t.B!=null&&(Ie.clearTimeout(t.B),t.B=null)}function nR(t){t.g=new Pc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wr(t.wa);dt(e,"RID","rpc"),dt(e,"SID",t.K),dt(e,"AID",t.V),dt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&dt(e,"TO",t.qa),dt(e,"TYPE","xmlhttp"),Dc(t,e),t.o&&t.s&&Uy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=qf(wr(e)),n.s=null,n.S=!0,NS(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Gf(this),By(this),Nn(19))};function zd(t){t.v!=null&&(Ie.clearTimeout(t.v),t.v=null)}function iR(t,e){var n=null;if(t.g==e){zd(t),$y(t),t.g=null;var r=2}else if(rv(t.i,e))n=e.F,qS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=jf(),mn(r,new CS(r,n)),zf(t)}else tR(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&NV(t,e)||r==2&&By(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:zs(t,5);break;case 4:zs(t,10);break;case 3:zs(t,6);break;default:zs(t,2)}}}function rR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function zs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Tn(t.pb,t);n||(n=new no("//www.google.com/images/cleardot.gif"),Ie.location&&Ie.location.protocol=="http"||Kd(n,"https"),qf(n)),SV(n.toString(),r)}else Nn(2);t.H=0,t.h&&t.h.za(e),sR(t),ZS(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nn(2)):(this.l.info("Failed to ping google.com"),Nn(1))};function sR(t){if(t.H=0,t.ma=[],t.h){const e=WS(t.i);(e.length!=0||t.j.length!=0)&&(M1(t.ma,e),M1(t.ma,t.j),t.i.i.length=0,Iy(t.j),t.j.length=0),t.h.ya()}}function oR(t,e,n){var r=n instanceof no?wr(n):new no(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gd(r,r.m);else{var s=Ie.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new no(null);r&&Kd(a,r),e&&(a.g=e),s&&Gd(a,s),n&&(a.l=n),r=a}return n=t.F,e=t.Da,n&&e&&dt(r,n,e),dt(r,"VER",t.ra),Dc(t,r),r}function aR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new It(new Oc({ob:!0})):new It(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function lR(){}Y=lR.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Yd(){if(Da&&!(10<=Number(WM)))throw Error("Environmental error: no available transport.")}Yd.prototype.g=function(t,e){return new Xn(t,e)};function Xn(t,e){sn.call(this),this.g=new XS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Zu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new tl(this)}on(Xn,sn);Xn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oR(t,null,t.Y),zf(t)};Xn.prototype.close=function(){jy(this.g)};Xn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ky(t),t=n);e.j.push(new EV(e.fb++,t)),e.H==3&&zf(e)};Xn.prototype.N=function(){this.g.h=null,delete this.j,jy(this.g),delete this.g,Xn.$.N.call(this)};function uR(t){Ly.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}on(uR,Ly);function cR(){My.call(this),this.status=1}on(cR,My);function tl(t){this.g=t}on(tl,lR);tl.prototype.Ba=function(){mn(this.g,"a")};tl.prototype.Aa=function(t){mn(this.g,new uR(t))};tl.prototype.za=function(t){mn(this.g,new cR)};tl.prototype.ya=function(){mn(this.g,"b")};function DV(){this.blockSize=-1}function vi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}on(vi,DV);vi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Eg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var a=t.g[3],l=e+(a^n&(s^a))+r[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=a+(s^e&(n^s))+r[1]+3905402710&4294967295,a=e+(l<<12&4294967295|l>>>20),l=s+(n^a&(e^n))+r[2]+606105819&4294967295,s=a+(l<<17&4294967295|l>>>15),l=n+(e^s&(a^e))+r[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(a^n&(s^a))+r[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=a+(s^e&(n^s))+r[5]+1200080426&4294967295,a=e+(l<<12&4294967295|l>>>20),l=s+(n^a&(e^n))+r[6]+2821735955&4294967295,s=a+(l<<17&4294967295|l>>>15),l=n+(e^s&(a^e))+r[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(a^n&(s^a))+r[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=a+(s^e&(n^s))+r[9]+2336552879&4294967295,a=e+(l<<12&4294967295|l>>>20),l=s+(n^a&(e^n))+r[10]+4294925233&4294967295,s=a+(l<<17&4294967295|l>>>15),l=n+(e^s&(a^e))+r[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(a^n&(s^a))+r[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=a+(s^e&(n^s))+r[13]+4254626195&4294967295,a=e+(l<<12&4294967295|l>>>20),l=s+(n^a&(e^n))+r[14]+2792965006&4294967295,s=a+(l<<17&4294967295|l>>>15),l=n+(e^s&(a^e))+r[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^a&(n^s))+r[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=a+(n^s&(e^n))+r[6]+3225465664&4294967295,a=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(a^e))+r[11]+643717713&4294967295,s=a+(l<<14&4294967295|l>>>18),l=n+(a^e&(s^a))+r[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^a&(n^s))+r[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=a+(n^s&(e^n))+r[10]+38016083&4294967295,a=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(a^e))+r[15]+3634488961&4294967295,s=a+(l<<14&4294967295|l>>>18),l=n+(a^e&(s^a))+r[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^a&(n^s))+r[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=a+(n^s&(e^n))+r[14]+3275163606&4294967295,a=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(a^e))+r[3]+4107603335&4294967295,s=a+(l<<14&4294967295|l>>>18),l=n+(a^e&(s^a))+r[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^a&(n^s))+r[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=a+(n^s&(e^n))+r[2]+4243563512&4294967295,a=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(a^e))+r[7]+1735328473&4294967295,s=a+(l<<14&4294967295|l>>>18),l=n+(a^e&(s^a))+r[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^a)+r[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=a+(e^n^s)+r[8]+2272392833&4294967295,a=e+(l<<11&4294967295|l>>>21),l=s+(a^e^n)+r[11]+1839030562&4294967295,s=a+(l<<16&4294967295|l>>>16),l=n+(s^a^e)+r[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^a)+r[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=a+(e^n^s)+r[4]+1272893353&4294967295,a=e+(l<<11&4294967295|l>>>21),l=s+(a^e^n)+r[7]+4139469664&4294967295,s=a+(l<<16&4294967295|l>>>16),l=n+(s^a^e)+r[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^a)+r[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=a+(e^n^s)+r[0]+3936430074&4294967295,a=e+(l<<11&4294967295|l>>>21),l=s+(a^e^n)+r[3]+3572445317&4294967295,s=a+(l<<16&4294967295|l>>>16),l=n+(s^a^e)+r[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^a)+r[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=a+(e^n^s)+r[12]+3873151461&4294967295,a=e+(l<<11&4294967295|l>>>21),l=s+(a^e^n)+r[15]+530742520&4294967295,s=a+(l<<16&4294967295|l>>>16),l=n+(s^a^e)+r[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~a))+r[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=a+(n^(e|~s))+r[7]+1126891415&4294967295,a=e+(l<<10&4294967295|l>>>22),l=s+(e^(a|~n))+r[14]+2878612391&4294967295,s=a+(l<<15&4294967295|l>>>17),l=n+(a^(s|~e))+r[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~a))+r[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=a+(n^(e|~s))+r[3]+2399980690&4294967295,a=e+(l<<10&4294967295|l>>>22),l=s+(e^(a|~n))+r[10]+4293915773&4294967295,s=a+(l<<15&4294967295|l>>>17),l=n+(a^(s|~e))+r[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~a))+r[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=a+(n^(e|~s))+r[15]+4264355552&4294967295,a=e+(l<<10&4294967295|l>>>22),l=s+(e^(a|~n))+r[6]+2734768916&4294967295,s=a+(l<<15&4294967295|l>>>17),l=n+(a^(s|~e))+r[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~a))+r[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=a+(n^(e|~s))+r[11]+3174756917&4294967295,a=e+(l<<10&4294967295|l>>>22),l=s+(e^(a|~n))+r[2]+718787259&4294967295,s=a+(l<<15&4294967295|l>>>17),l=n+(a^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+a&4294967295}vi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(s==0)for(;a<=n;)Eg(this,t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<e;)if(r[s++]=t.charCodeAt(a++),s==this.blockSize){Eg(this,r),s=0;break}}else for(;a<e;)if(r[s++]=t[a++],s==this.blockSize){Eg(this,r),s=0;break}}this.h=s,this.i+=e};vi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rt(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var a=t[s]|0;r&&a==e||(n[s]=a,r=!1)}this.g=n}var xV={};function Hy(t){return-128<=t&&128>t?$M(t,function(e){return new rt([e|0],0>e?-1:0)}):new rt([t|0],0>t?-1:0)}function qi(t){if(isNaN(t)||!isFinite(t))return wa;if(0>t)return cn(qi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sv;return new rt(e,0)}function hR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return cn(hR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qi(Math.pow(e,8)),r=wa,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+a),e);8>a?(a=qi(Math.pow(e,a)),r=r.R(a).add(qi(l))):(r=r.R(n),r=r.add(qi(l)))}return r}var sv=4294967296,wa=Hy(0),ov=Hy(1),G1=Hy(16777216);Y=rt.prototype;Y.ea=function(){if(ni(this))return-cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sv+r)*e,e*=sv}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fr(this))return"0";if(ni(this))return"-"+cn(this).toString(t);for(var e=qi(Math.pow(t,6)),n=this,r="";;){var s=Jd(n,e).g;n=Qd(n,s.R(e));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,fr(n))return a+r;for(;6>a.length;)a="0"+a;r=a+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ni(t){return t.h==-1}Y.X=function(t){return t=Qd(this,t),ni(t)?-1:fr(t)?0:1};function cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rt(n,~t.h).add(ov)}Y.abs=function(){return ni(this)?cn(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var a=r+(this.D(s)&65535)+(t.D(s)&65535),l=(a>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=l>>>16,a&=65535,l&=65535,n[s]=l<<16|a}return new rt(n,n[n.length-1]&-2147483648?-1:0)};function Qd(t,e){return t.add(cn(e))}Y.R=function(t){if(fr(this)||fr(t))return wa;if(ni(this))return ni(t)?cn(this).R(cn(t)):cn(cn(this).R(t));if(ni(t))return cn(this.R(cn(t)));if(0>this.X(G1)&&0>t.X(G1))return qi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var a=this.D(r)>>>16,l=this.D(r)&65535,h=t.D(s)>>>16,d=t.D(s)&65535;n[2*r+2*s]+=l*d,ld(n,2*r+2*s),n[2*r+2*s+1]+=a*d,ld(n,2*r+2*s+1),n[2*r+2*s+1]+=l*h,ld(n,2*r+2*s+1),n[2*r+2*s+2]+=a*h,ld(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rt(n,0)};function ld(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function mu(t,e){this.g=t,this.h=e}function Jd(t,e){if(fr(e))throw Error("division by zero");if(fr(t))return new mu(wa,wa);if(ni(t))return e=Jd(cn(t),e),new mu(cn(e.g),cn(e.h));if(ni(e))return e=Jd(t,cn(e)),new mu(cn(e.g),e.h);if(30<t.g.length){if(ni(t)||ni(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ov,r=e;0>=r.X(t);)n=z1(n),r=z1(r);var s=aa(n,1),a=aa(r,1);for(r=aa(r,2),n=aa(n,2);!fr(r);){var l=a.add(r);0>=l.X(t)&&(s=s.add(n),a=l),r=aa(r,1),n=aa(n,1)}return e=Qd(t,s.R(e)),new mu(s,e)}for(s=wa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),a=qi(n),l=a.R(e);ni(l)||0<l.X(t);)n-=r,a=qi(n),l=a.R(e);fr(a)&&(a=ov),s=s.add(a),t=Qd(t,l)}return new mu(s,t)}Y.gb=function(t){return Jd(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rt(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rt(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rt(n,this.h^t.h)};function z1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rt(n,t.h)}function aa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],a=0;a<r;a++)s[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new rt(s,t.h)}Yd.prototype.createWebChannel=Yd.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;Bf.NO_ERROR=0;Bf.TIMEOUT=8;Bf.HTTP_ERROR=6;PS.COMPLETE="complete";kS.EventType=Cc;Cc.OPEN="a";Cc.CLOSE="b";Cc.ERROR="c";Cc.MESSAGE="d";sn.prototype.listen=sn.prototype.O;It.prototype.listenOnce=It.prototype.P;It.prototype.getLastError=It.prototype.Sa;It.prototype.getLastErrorCode=It.prototype.Ia;It.prototype.getStatus=It.prototype.da;It.prototype.getResponseJson=It.prototype.Wa;It.prototype.getResponseText=It.prototype.ja;It.prototype.send=It.prototype.ha;It.prototype.setWithCredentials=It.prototype.Oa;vi.prototype.digest=vi.prototype.l;vi.prototype.reset=vi.prototype.reset;vi.prototype.update=vi.prototype.j;rt.prototype.add=rt.prototype.add;rt.prototype.multiply=rt.prototype.R;rt.prototype.modulo=rt.prototype.gb;rt.prototype.compare=rt.prototype.X;rt.prototype.toNumber=rt.prototype.ea;rt.prototype.toString=rt.prototype.toString;rt.prototype.getBits=rt.prototype.D;rt.fromNumber=qi;rt.fromString=hR;var LV=function(){return new Yd},MV=function(){return jf()},bg=Bf,VV=PS,FV=wo,Y1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UV=Oc,ud=kS,jV=It,BV=vi,Ea=rt;const Q1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new wf("@firebase/firestore");function gu(){return uo.logLevel}function se(t,...e){if(uo.logLevel<=Me.DEBUG){const n=e.map(qy);uo.debug(`Firestore (${nl}): ${t}`,...n)}}function Er(t,...e){if(uo.logLevel<=Me.ERROR){const n=e.map(qy);uo.error(`Firestore (${nl}): ${t}`,...n)}}function xa(t,...e){if(uo.logLevel<=Me.WARN){const n=e.map(qy);uo.warn(`Firestore (${nl}): ${t}`,...n)}}function qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function Wt(t,e){t||Pe()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_n.UNAUTHENTICATED))}shutdown(){}}class HV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qV{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ns,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ns)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string"),new dR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string"),new _n(e)}}class WV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=a=>{a.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Wt(typeof n.token=="string"),this.R=n.token,new GV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=YV(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function et(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nn(0,0))}static max(){return new Ae(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ac.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ac?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),l=n.get(s);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends ac{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new at(n)}static emptyPath(){return new at([])}}const QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends ac{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return QV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new Q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(at.fromString(e))}static fromName(e){return new fe(at.fromString(e).popFirst(5))}static empty(){return new fe(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new at(e.slice()))}}function JV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new cs(s,fe.empty(),e)}function XV(t){return new cs(t.readTime,t.key,-1)}class cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cs(Ae.min(),fe.empty(),-1)}static max(){return new cs(Ae.max(),fe.empty(),-1)}}function ZV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wy(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==e4)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new B((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ky._e=-1;function Yf(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function n4(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??ln.RED,this.left=s??ln.EMPTY,this.right=a??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new ln(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ln.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X1(this.data.getIterator())}getIteratorFrom(e){return new X1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class X1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Jr([])}unionWith(e){let n=new gn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mR("Invalid base64 string: "+a):a}}(e);return new Sn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const i4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(Wt(!!t),typeof t=="string"){let e=0;const n=i4.exec(t);if(Wt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gy(t){const e=t.mapValue.fields.__previous_value__;return Qf(e)?Gy(e):e}function lc(t){const e=hs(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,s,a,l,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}class uc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qf(t)?4:s4(t)?9007199254740991:10:Pe()}function Yi(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lc(t).isEqual(lc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=hs(s.timestampValue),h=hs(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return co(s.bytesValue).isEqual(co(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Mt(s.geoPointValue.latitude)===Mt(a.geoPointValue.latitude)&&Mt(s.geoPointValue.longitude)===Mt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Mt(s.integerValue)===Mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Mt(s.doubleValue),h=Mt(a.doubleValue);return l===h?Xd(l)===Xd(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(J1(l)!==J1(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!Yi(l[d],h[d])))return!1;return!0}(t,e);default:return Pe()}}function cc(t,e){return(t.values||[]).find(n=>Yi(n,e))!==void 0}function Ma(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return et(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=Mt(a.integerValue||a.doubleValue),d=Mt(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return Z1(t.timestampValue,e.timestampValue);case 4:return Z1(lc(t),lc(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(a,l){const h=co(a),d=co(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),d=l.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=et(h[p],d[p]);if(g!==0)return g}return et(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=et(Mt(a.latitude),Mt(l.latitude));return h!==0?h:et(Mt(a.longitude),Mt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],d=l.values||[];for(let p=0;p<h.length&&p<d.length;++p){const g=Ma(h[p],d[p]);if(g)return g}return et(h.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===hd.mapValue&&l===hd.mapValue)return 0;if(a===hd.mapValue)return 1;if(l===hd.mapValue)return-1;const h=a.fields||{},d=Object.keys(h),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=et(d[v],g[v]);if(w!==0)return w;const E=Ma(h[d[v]],p[g[v]]);if(E!==0)return E}return et(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function Z1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=hs(t),r=hs(e),s=et(n.seconds,r.seconds);return s!==0?s:et(n.nanos,r.nanos)}function Va(t){return av(t)}function av(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=av(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${av(n.fields[l])}`;return s+"}"}(t.mapValue):Pe()}function Zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lv(t){return!!t&&"integerValue"in t}function zy(t){return!!t&&"arrayValue"in t}function eI(t){return!!t&&"nullValue"in t}function tI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ig(t){return!!t&&"mapValue"in t}function Mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Lc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function s4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.value=e}static empty(){return new Ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ig(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=Mu(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Ig(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ig(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Lc(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Ui(Mu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new En(e,0,Ae.min(),Ae.min(),Ae.min(),Ui.empty(),0)}static newFoundDocument(e,n,r,s){return new En(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new En(e,2,n,Ae.min(),Ae.min(),Ui.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ae.min(),Ae.min(),Ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function nI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=fe.comparator(fe.fromName(l.referenceValue),n.key):r=Ma(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function o4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{}class Vt extends gR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l4(e,n,r):n==="array-contains"?new h4(e,r):n==="in"?new d4(e,r):n==="not-in"?new f4(e,r):n==="array-contains-any"?new p4(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u4(e,r):new c4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ma(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends gR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new yi(e,n)}matches(e){return vR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function vR(t){return t.op==="and"}function yR(t){return a4(t)&&vR(t)}function a4(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function uv(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Va(t.value);if(yR(t))return t.filters.map(e=>uv(e)).join(",");{const e=t.filters.map(n=>uv(n)).join(",");return`${t.op}(${e})`}}function _R(t,e){return t instanceof Vt?function(r,s){return s instanceof Vt&&r.op===s.op&&r.field.isEqual(s.field)&&Yi(r.value,s.value)}(t,e):t instanceof yi?function(r,s){return s instanceof yi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&_R(l,s.filters[h]),!0):!1}(t,e):void Pe()}function wR(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Va(n.value)}`}(t):t instanceof yi?function(n){return n.op.toString()+" {"+n.getFilters().map(wR).join(" ,")+"}"}(t):"Filter"}class l4 extends Vt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class u4 extends Vt{constructor(e,n){super(e,"in",n),this.keys=ER("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c4 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=ER("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ER(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class h4 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zy(n)&&cc(n.arrayValue,this.value)}}class d4 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cc(this.value.arrayValue,n)}}class f4 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cc(this.value.arrayValue,n)}}class p4 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.ce=null}}function rI(t,e=null,n=[],r=[],s=null,a=null,l=null){return new m4(t,e,n,r,s,a,l)}function Yy(t){const e=Ge(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Va(r)).join(",")),e.ce=n}return e.ce}function Qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_R(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iI(t.startAt,e.startAt)&&iI(t.endAt,e.endAt)}function cv(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function g4(t,e,n,r,s,a,l,h){return new ys(t,e,n,r,s,a,l,h)}function Jy(t){return new ys(t)}function sI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xy(t){return t.collectionGroup!==null}function ba(t){const e=Ge(t);if(e.le===null){e.le=[];const n=new Set;for(const a of e.explicitOrderBy)e.le.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new gn(bn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.le.push(new hc(a,r))}),n.has(bn.keyField().canonicalString())||e.le.push(new hc(bn.keyField(),r))}return e.le}function Wi(t){const e=Ge(t);return e.he||(e.he=v4(e,ba(t))),e.he}function v4(t,e){if(t.limitType==="F")return rI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new hc(s.field,a)});const n=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;return rI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hv(t,e){const n=t.filters.concat([e]);return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ef(t,e,n){return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return Qy(Wi(t),Wi(e))&&t.limitType===e.limitType}function bR(t){return`${Yy(Wi(t))}|lt:${t.limitType}`}function ha(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wR(s)).join(", ")}]`),Yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Va(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Va(s)).join(",")),`Target(${r})`}(Wi(t))}; limitType=${t.limitType})`}function Xf(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):fe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of ba(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,d){const p=nI(l,h,d);return l.inclusive?p<=0:p<0}(r.startAt,ba(r),s)||r.endAt&&!function(l,h,d){const p=nI(l,h,d);return l.inclusive?p>=0:p>0}(r.endAt,ba(r),s))}(t,e)}function y4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IR(t){return(e,n)=>{let r=!1;for(const s of ba(t)){const a=_4(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function _4(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(a,l,h){const d=l.data.field(a),p=h.data.field(a);return d!==null&&p!==null?Ma(d,p):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Lc(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return pR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new Ct(fe.comparator);function ds(){return w4}const TR=new Ct(fe.comparator);function Ru(...t){let e=TR;for(const n of t)e=e.insert(n.key,n);return e}function E4(t){let e=TR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return Vu()}function AR(){return Vu()}function Vu(){return new il(t=>t.toString(),(t,e)=>t.isEqual(e))}const b4=new gn(fe.comparator);function We(...t){let e=b4;for(const n of t)e=e.add(n);return e}const I4=new gn(et);function T4(){return I4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function RR(t){return{integerValue:""+t}}function A4(t,e){return n4(e)?RR(e):SR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(){this._=void 0}}function S4(t,e,n){return t instanceof dv?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Qf(a)&&(a=Gy(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof tf?CR(t,e):t instanceof nf?PR(t,e):function(s,a){const l=C4(s,a),h=oI(l)+oI(s.Ie);return lv(l)&&lv(s.Ie)?RR(h):SR(s.serializer,h)}(t,e)}function R4(t,e,n){return t instanceof tf?CR(t,e):t instanceof nf?PR(t,e):n}function C4(t,e){return t instanceof fv?function(r){return lv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class dv extends Zf{}class tf extends Zf{constructor(e){super(),this.elements=e}}function CR(t,e){const n=kR(e);for(const r of t.elements)n.some(s=>Yi(s,r))||n.push(r);return{arrayValue:{values:n}}}class nf extends Zf{constructor(e){super(),this.elements=e}}function PR(t,e){let n=kR(e);for(const r of t.elements)n=n.filter(s=>!Yi(s,r));return{arrayValue:{values:n}}}class fv extends Zf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function oI(t){return Mt(t.integerValue||t.doubleValue)}function kR(t){return zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tf&&s instanceof tf||r instanceof nf&&s instanceof nf?La(r.elements,s.elements,Yi):r instanceof fv&&s instanceof fv?Yi(r.Ie,s.Ie):r instanceof dv&&s instanceof dv}(t.transform,e.transform)}class io{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new io}static exists(e){return new io(void 0,e)}static updateTime(e){return new io(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zy{}function OR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new O4(t.key,io.none()):new e_(t.key,t.data,io.none());{const n=t.data,r=Ui.empty();let s=new gn(bn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ep(t.key,r,new Jr(s.toArray()),io.none())}}function k4(t,e,n){t instanceof e_?function(s,a,l){const h=s.value.clone(),d=lI(s.fieldTransforms,a,l.transformResults);h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ep?function(s,a,l){if(!Rd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=lI(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(NR(s)),d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Fu(t,e,n,r){return t instanceof e_?function(a,l,h,d){if(!Rd(a.precondition,l))return h;const p=a.value.clone(),g=uI(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ep?function(a,l,h,d){if(!Rd(a.precondition,l))return h;const p=uI(a.fieldTransforms,d,l),g=l.data;return g.setAll(NR(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(a,l,h){return Rd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function aI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&La(r,s,(a,l)=>P4(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class e_ extends Zy{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ep extends Zy{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function NR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lI(t,e,n){const r=new Map;Wt(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,R4(l,h,n[s]))}return r}function uI(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,S4(a,l,e))}return r}class O4 extends Zy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&k4(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AR();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const d=OR(l,h);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>aI(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>aI(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ue;function DR(t){if(t===void 0)return Er("GRPC error has no .code"),V.UNKNOWN;switch(t){case xt.OK:return V.OK;case xt.CANCELLED:return V.CANCELLED;case xt.UNKNOWN:return V.UNKNOWN;case xt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case xt.INTERNAL:return V.INTERNAL;case xt.UNAVAILABLE:return V.UNAVAILABLE;case xt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case xt.NOT_FOUND:return V.NOT_FOUND;case xt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case xt.ABORTED:return V.ABORTED;case xt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case xt.DATA_LOSS:return V.DATA_LOSS;default:return Pe()}}(Ue=xt||(xt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new Ea([4294967295,4294967295],0);function cI(t){const e=L4().encode(t),n=new BV;return n.update(e),new Uint8Array(n.digest())}function hI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ea([n,r],0),new Ea([s,a],0)]}class t_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ea.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ea.fromNumber(r)));return s.compare(M4)===1&&(s=new Ea([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=cI(e),[r,s]=hI(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);if(!this.Ae(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new t_(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.Te===0)return;const n=cI(e),[r,s]=hI(n);for(let a=0;a<this.hashCount;a++){const l=this.de(r,s,a);this.Re(l)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tp(Ae.min(),s,new Ct(et),ds(),We())}}class Mc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mc(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class xR{constructor(e,n){this.targetId=e,this.fe=n}}class LR{constructor(e,n,r=Sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class dI{constructor(){this.ge=0,this.pe=pI(),this.ye=Sn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=We(),n=We(),r=We();return this.pe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe()}}),new Mc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=pI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class V4{constructor(e){this.Le=e,this.ke=new Map,this.qe=ds(),this.Qe=fI(),this.Ke=new Ct(et)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const a=s.target;if(cv(a))if(r===0){const l=new fe(a.path);this.We(n,l,En.newNoDocument(l,Ae.min()))}else Wt(r===1);else{const l=this.Ze(n);if(l!==r){const h=this.Xe(e),d=h?this.et(h,e,l):1;if(d!==0){this.He(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=co(r).toUint8Array()}catch(d){if(d instanceof mR)return xa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new t_(l,s,a)}catch(d){return xa(d instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Te===0?null:h}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Le.nt(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(n,a,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((a,l)=>{const h=this.Ye(l);if(h){if(a.current&&cv(h.target)){const d=new fe(h.target.path);this.qe.get(d)!==null||this.st(l,d)||this.We(l,d,En.newNoDocument(d,e))}a.De&&(n.set(l,a.ve()),a.Fe())}});let r=We();this.Qe.forEach((a,l)=>{let h=!0;l.forEachWhile(d=>{const p=this.Ye(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.qe.forEach((a,l)=>l.setReadTime(e));const s=new tp(e,n,this.Ke,this.qe,r);return this.qe=ds(),this.Qe=fI(),this.Ke=new Ct(et),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new dI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new gn(et),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new dI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fI(){return new Ct(fe.comparator)}function pI(){return new Ct(fe.comparator)}const F4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),U4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),j4=(()=>({and:"AND",or:"OR"}))();class B4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pv(t,e){return t.useProto3Json||Yf(e)?e:{value:e}}function mv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ia(t){return Wt(!!t),Ae.fromTimestamp(function(n){const r=hs(n);return new nn(r.seconds,r.nanos)}(t))}function VR(t,e){return function(r){return new at(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function FR(t){const e=at.fromString(t);return Wt($R(e)),e}function Tg(t,e){const n=FR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(UR(n))}function gv(t,e){return VR(t.databaseId,e)}function $4(t){const e=FR(t);return e.length===4?at.emptyPath():UR(e)}function mI(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UR(t){return Wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Wt(g===void 0||typeof g=="string"),Sn.fromBase64String(g||"")):(Wt(g===void 0||g instanceof Uint8Array),Sn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?V.UNKNOWN:DR(p.code);return new Q(g,p.message||"")}(l);n=new LR(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Tg(t,r.document.name),a=Ia(r.document.updateTime),l=r.document.createTime?Ia(r.document.createTime):Ae.min(),h=new Ui({mapValue:{fields:r.document.fields}}),d=En.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Cd(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Tg(t,r.document),a=r.readTime?Ia(r.readTime):Ae.min(),l=En.newNoDocument(s,a),h=r.removedTargetIds||[];n=new Cd([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Tg(t,r.document),a=r.removedTargetIds||[];n=new Cd([],a,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new x4(s,a),h=r.targetId;n=new xR(h,l)}}return n}function q4(t,e){return{documents:[gv(t,e.path)]}}function W4(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=gv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(d){if(d.length!==0)return BR(yi.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:da(v.field),direction:z4(v.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=pv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function K4(t){let e=$4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Wt(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(v){const w=jR(v);return w instanceof yi&&yR(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(w=>function(R){return new hc(fa(R.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,Yf(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(v){const w=!!v.before,E=v.values||[];return new Fa(E,w)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const w=!v.before,E=v.values||[];return new Fa(E,w)}(n.endAt)),g4(e,s,l,a,h,"F",d,p)}function G4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fa(n.unaryFilter.field);return Vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fa(n.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fa(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(fa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yi.create(n.compositeFilter.filters.map(r=>jR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function z4(t){return F4[t]}function Y4(t){return U4[t]}function Q4(t){return j4[t]}function da(t){return{fieldPath:t.canonicalString()}}function fa(t){return bn.fromServerFormat(t.fieldPath)}function BR(t){return t instanceof Vt?function(n){if(n.op==="=="){if(tI(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(eI(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tI(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(eI(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:Y4(n.op),value:n.value}}}(t):t instanceof yi?function(n){const r=n.getFilters().map(s=>BR(s));return r.length===1?r[0]:{compositeFilter:{op:Q4(n.op),filters:r}}}(t):Pe()}function $R(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,s,a=Ae.min(),l=Ae.min(),h=Sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.ut=e}}function X4(t){const e=K4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ef(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.on=new eF}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(cs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class eF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new gn(at.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new gn(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ua(0)}static Nn(){return new Ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.changes=new il(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fu(r.mutation,s,Jr.empty(),nn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const s=Ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Ru();return a.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=ds();const l=Vu(),h=function(){return Vu()}();return n.forEach((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ep)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Fu(g.mutation,p,g.mutation.getFieldMask(),nn.now())):l.set(p.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var v;return h.set(p,new nF(g,(v=l.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const r=Vu();let s=new Ct((l,h)=>l-h),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||Jr.empty();g=h.applyToLocalView(p,g),r.set(d,g);const v=(s.get(h.batchId)||We()).add(d);s=s.insert(h.batchId,v)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,v=AR();g.forEach(w=>{if(!a.has(w)){const E=OR(n.get(w),r.get(w));E!==null&&v.set(w,E),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return B.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return fe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):B.resolve(Ys());let h=-1,d=a;return l.next(p=>B.forEach(p,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(g)?B.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,We())).next(g=>({batchId:h,changes:E4(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=Ru();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Ru();return this.indexManager.getCollectionParents(e,a).next(h=>B.forEach(h,d=>{const p=function(v,w){return new ys(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,En.newInvalidDocument(g)))});let h=Ru();return l.forEach((d,p)=>{const g=a.get(d);g!==void 0&&Fu(g.mutation,p,Jr.empty(),nn.now()),Xf(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ia(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:X4(s.bundledQuery),readTime:Ia(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.overlays=new Ct(fe.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return B.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.lt(e,n,a)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ys(),a=n.length+1,l=new fe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Ct((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Ys(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Ys(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return B.resolve(h)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new D4(n,r));let a=this.lr.get(n);a===void 0&&(a=We(),this.lr.set(n,a)),this.lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.hr=new gn(Zt.Pr),this.Ir=new gn(Zt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Zt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new fe(new at([])),r=new Zt(n,e),s=new Zt(n,e+1),a=[];return this.Ir.forEachInRange([r,s],l=>{this.dr(l),a.push(l.key)}),a}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new fe(new at([])),r=new Zt(n,e),s=new Zt(n,e+1);let a=We();return this.Ir.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Zt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return fe.comparator(e.key,n.key)||et(e.gr,n.gr)}static Tr(e,n){return et(e.gr,n.gr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new gn(Zt.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new N4(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.yr=this.yr.add(new Zt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return B.resolve(l)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),a=s<0?0:s;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,s],l=>{const h=this.wr(l.gr);a.push(h)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gn(et);return n.forEach(s=>{const a=new Zt(s,0),l=new Zt(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([a,l],h=>{r=r.add(h.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;fe.isDocumentKey(a)||(a=a.child(""));const l=new Zt(new fe(a),0);let h=new gn(et);return this.yr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(d.gr)),!0)},l),B.resolve(this.br(h))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Wt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,s=>{const a=new Zt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Zt(n,0),s=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.Cr=e,this.docs=function(){return new Ct(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=ds();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():En.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ds();const l=n.path,h=new fe(l.child("")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||ZV(XV(g),r)<=0||(s.has(g.key)||Xf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe()}vr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lF(this)}getSize(e){return B.resolve(this.size)}}class lF extends tF{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.persistence=e,this.Fr=new il(n=>Yy(n),Qy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Mr=0,this.Or=new n_,this.targetCount=0,this.Nr=Ua.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ua(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Fr.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Fr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),B.waitFor(a).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),B.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ky(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new uF(this),this.indexManager=new Z4,this.remoteDocumentCache=function(s){return new aF(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new J4(n),this.Kr=new rF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new oF(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new hF(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(a=>this.referenceDelegate.Ur(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class hF extends t4{constructor(e){super(),this.currentSequenceNumber=e}}class i_{constructor(e){this.persistence=e,this.Gr=new n_,this.zr=null}static jr(e){return new i_(e)}get Hr(){if(this.zr)return this.zr;throw Pe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Hr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const s=fe.fromPath(r);return this.Jr(e,s).next(a=>{a||n.removeEntry(s,Ae.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=We(),s=We();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new r_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.zi(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ji(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new dF;return this.Hi(e,n,l).next(h=>{if(a.result=h,this.$i)return this.Ji(e,n,l,h.size)})}).next(()=>a.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(gu()<=Me.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(gu()<=Me.DEBUG&&se("QueryEngine","Query:",ha(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(gu()<=Me.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):B.resolve())}zi(e,n){if(sI(n))return B.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ef(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.Gi.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.Yi(n,h);return this.Zi(n,p,l,d.readTime)?this.zi(e,ef(n,null,"F")):this.Xi(e,p,n,d)}))})))}ji(e,n,r,s){return sI(n)||s.isEqual(Ae.min())?B.resolve(null):this.Gi.getDocuments(e,r).next(a=>{const l=this.Yi(n,a);return this.Zi(n,l,r,s)?B.resolve(null):(gu()<=Me.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ha(n)),this.Xi(e,l,n,JV(s,-1)).next(h=>h))})}Yi(e,n){let r=new gn(IR(e));return n.forEach((s,a)=>{Xf(e,a)&&(r=r.add(a))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Hi(e,n,r){return gu()<=Me.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ha(n)),this.Gi.getDocumentsMatchingQuery(e,n,cs.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ct(et),this.ns=new il(a=>Yy(a),Qy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function mF(t,e,n,r){return new pF(t,e,n,r)}async function HR(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let d=We();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({_s:p,removedBatchIds:l,addedBatchIds:h}))})})}function qR(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function gF(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const h=[];e.targetChanges.forEach((g,v)=>{const w=s.get(v);if(!w)return;h.push(n.qr.removeMatchingKeys(a,g.removedDocuments,v).next(()=>n.qr.addMatchingKeys(a,g.addedDocuments,v)));let E=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Sn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(v,E),function(_,b,S){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(w,E,g)&&h.push(n.qr.updateTargetData(a,E))});let d=ds(),p=We();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(vF(a,l,e.documentUpdates).next(g=>{d=g.us,p=g.cs})),!r.isEqual(Ae.min())){const g=n.qr.getLastRemoteSnapshotVersion(a).next(v=>n.qr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return B.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(n.ts=s,a))}function vF(t,e,n){let r=We(),s=We();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=ds();return n.forEach((h,d)=>{const p=a.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):se("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{us:l,cs:s}})}function yF(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(a=>a?(s=a,B.resolve(s)):n.qr.allocateTargetId(r).next(l=>(s=new Xr(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function vv(t,e,n){const r=Ge(t),s=r.ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!xc(l))throw l;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function gI(t,e,n){const r=Ge(t);let s=Ae.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,g){const v=Ge(d),w=v.ns.get(g);return w!==void 0?B.resolve(v.ts.get(w)):v.qr.getTargetData(p,g)}(r,l,Wi(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(l,h.targetId).next(d=>{a=d})}).next(()=>r.es.getDocumentsMatchingQuery(l,e,n?s:Ae.min(),n?a:We())).next(h=>(_F(r,y4(e),h),{documents:h,ls:a})))}function _F(t,e,n){let r=t.rs.get(e)||Ae.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.rs.set(e,r)}class vI{constructor(){this.activeTargetIds=T4()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wF{constructor(){this.eo=new vI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new vI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd=null;function Ag(){return dd===null?dd=function(){return 268435456+Math.round(2147483648*Math.random())}():dd++,"0x"+dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class TF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${a}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get yo(){return!1}wo(n,r,s,a,l){const h=Ag(),d=this.So(n,r);se("RestConnection",`Sending RPC '${n}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(p,a,l),this.Do(n,d,p,s).then(g=>(se("RestConnection",`Received RPC '${n}' ${h}: `,g),g),g=>{throw xa("RestConnection",`RPC '${n}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(n,r,s,a,l,h){return this.wo(n,r,s,a,l)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,l)=>n[l]=a),s&&s.headers.forEach((a,l)=>n[l]=a)}So(n,r){const s=bF[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const a=Ag();return new Promise((l,h)=>{const d=new jV;d.setWithCredentials(!0),d.listenOnce(VV.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bg.NO_ERROR:const g=d.getResponseJson();se(yn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case bg.TIMEOUT:se(yn,`RPC '${e}' ${a} timed out`),h(new Q(V.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const v=d.getStatus();if(se(yn,`RPC '${e}' ${a} failed with status:`,v,"response text:",d.getResponseText()),v>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const R=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(S)>=0?S:V.UNKNOWN}(E.status);h(new Q(R,E.message))}else h(new Q(V.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Q(V.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{se(yn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);se(yn,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",p,r,15)})}vo(e,n,r){const s=Ag(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=LV(),h=MV(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.xmlHttpFactory=new UV({})),this.bo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=a.join("");se(yn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=l.createWebChannel(g,d);let w=!1,E=!1;const R=new IF({co:b=>{E?se(yn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(w||(se(yn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),se(yn,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},lo:()=>v.close()}),_=(b,S,P)=>{b.listen(S,F=>{try{P(F)}catch(x){setTimeout(()=>{throw x},0)}})};return _(v,ud.EventType.OPEN,()=>{E||se(yn,`RPC '${e}' stream ${s} transport opened.`)}),_(v,ud.EventType.CLOSE,()=>{E||(E=!0,se(yn,`RPC '${e}' stream ${s} transport closed`),R.Ro())}),_(v,ud.EventType.ERROR,b=>{E||(E=!0,xa(yn,`RPC '${e}' stream ${s} transport errored:`,b),R.Ro(new Q(V.UNAVAILABLE,"The operation could not be completed")))}),_(v,ud.EventType.MESSAGE,b=>{var S;if(!E){const P=b.data[0];Wt(!!P);const F=P,x=F.error||((S=F[0])===null||S===void 0?void 0:S.error);if(x){se(yn,`RPC '${e}' stream ${s} received error:`,x);const z=x.status;let ie=function(he){const De=xt[he];if(De!==void 0)return DR(De)}(z),pe=x.message;ie===void 0&&(ie=V.INTERNAL,pe="Unknown error status: "+z+" with message "+x.message),E=!0,R.Ro(new Q(ie,pe)),v.close()}else se(yn,`RPC '${e}' stream ${s} received:`,P),R.Vo(P)}}),_(h,FV.STAT_EVENT,b=>{b.stat===Y1.PROXY?se(yn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===Y1.NOPROXY&&se(yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.Ao()},0),R}}function Sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return new B4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r=1e3,s=1.5,a=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,s,a,l,h,d){this.si=e,this.Ko=r,this.$o=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new WR(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new Q(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SF extends AF{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=H4(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Ia(l.readTime):Ae.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=mI(this.serializer),n.addTarget=function(a,l){let h;const d=l.target;if(h=cv(d)?{documents:q4(a,d)}:{query:W4(a,d)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=MR(a,l.resumeToken);const p=pv(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ae.min())>0){h.readTime=mv(a,l.snapshotVersion.toTimestamp());const p=pv(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=G4(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=mI(this.serializer),n.removeTarget=e,this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.wo(e,n,r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(V.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Co(e,n,r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(V.UNKNOWN,a.toString())})}terminate(){this.d_=!0}}class CF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Er(n),this.f_=!1):se("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro(l=>{r.enqueueAndForget(async()=>{Fc(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=Ge(d);p.C_.add(4),await Vc(p),p.M_.set("Unknown"),p.C_.delete(4),await ip(p)}(this))})}),this.M_=new CF(r,s)}}async function ip(t){if(Fc(t))for(const e of t.v_)await e(!0)}async function Vc(t){for(const e of t.v_)await e(!1)}function KR(t,e){const n=Ge(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),a_(n)?o_(n):rl(n).Ho()&&s_(n,e))}function GR(t,e){const n=Ge(t),r=rl(n);n.D_.delete(e),r.Ho()&&zR(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Fc(n)&&n.M_.set("Unknown"))}function s_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).u_(e)}function zR(t,e){t.x_.Oe(e),rl(t).c_(e)}function o_(t){t.x_=new V4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.M_.g_()}function a_(t){return Fc(t)&&!rl(t).jo()&&t.D_.size>0}function Fc(t){return Ge(t).C_.size===0}function YR(t){t.x_=void 0}async function kF(t){t.D_.forEach((e,n)=>{s_(t,e)})}async function OF(t,e){YR(t),a_(t)?(t.M_.w_(e),o_(t)):t.M_.set("Unknown")}async function NF(t,e,n){if(t.M_.set("Online"),e instanceof LR&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.D_.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.D_.delete(h),s.x_.removeTarget(h))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _I(t,r)}else if(e instanceof Cd?t.x_.$e(e):e instanceof xR?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ae.min()))try{const r=await qR(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.x_.it(l);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.D_.get(p);g&&a.D_.set(p,g.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,p)=>{const g=a.D_.get(d);if(!g)return;a.D_.set(d,g.withResumeToken(Sn.EMPTY_BYTE_STRING,g.snapshotVersion)),zR(a,d);const v=new Xr(g.target,d,p,g.sequenceNumber);s_(a,v)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await _I(t,r)}}async function _I(t,e,n){if(!xc(e))throw e;t.C_.add(1),await Vc(t),t.M_.set("Offline"),n||(n=()=>qR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await ip(t)})}async function wI(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Fc(n);n.C_.add(3),await Vc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await ip(n)}async function DF(t,e){const n=Ge(t);e?(n.C_.delete(2),await ip(n)):e||(n.C_.add(2),await Vc(n),n.M_.set("Unknown"))}function rl(t){return t.O_||(t.O_=function(n,r,s){const a=Ge(n);return a.A_(),new SF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{ho:kF.bind(null,t),Io:OF.bind(null,t),a_:NF.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),a_(t)?o_(t):t.M_.set("Unknown")):(await t.O_.stop(),YR(t))})),t.O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new l_(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QR(t,e){if(Er("AsyncQueue",`${e}: ${t}`),xc(t))return new Q(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.B_=new Ct(fe.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Pe():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ja{constructor(e,n,r,s,a,l,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new ja(e,n,Ta.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.k_=void 0,this.listeners=[]}}class LF{constructor(){this.queries=new il(e=>bR(e),Jf),this.onlineState="Unknown",this.q_=new Set}}async function JR(t,e){const n=Ge(t),r=e.query;let s=!1,a=n.queries.get(r);if(a||(s=!0,a=new xF),s)try{a.k_=await n.onListen(r)}catch(l){const h=QR(l,`Initialization of query '${ha(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.Q_(n.onlineState),a.k_&&e.K_(a.k_)&&u_(n)}async function XR(t,e){const n=Ge(t),r=e.query;let s=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),s=a.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function MF(t,e){const n=Ge(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.listeners)h.K_(s)&&(r=!0);l.k_=s}}r&&u_(n)}function VF(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(n);r.queries.delete(e)}function u_(t){t.q_.forEach(e=>{e.next()})}class ZR{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.key=e}}class tC{constructor(e){this.key=e}}class FF{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=We(),this.mutatedKeys=We(),this._a=IR(e),this.aa=new Ta(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new EI,s=n?n.aa:this.aa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const w=s.get(g),E=Xf(this.query,v)?v:null,R=!!w&&this.mutatedKeys.has(w.key),_=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;w&&E?w.data.isEqual(E.data)?R!==_&&(r.track({type:3,doc:E}),b=!0):this.ha(w,E)||(r.track({type:2,doc:E}),b=!0,(d&&this._a(E,d)>0||p&&this._a(E,p)<0)&&(h=!0)):!w&&E?(r.track({type:0,doc:E}),b=!0):w&&!E&&(r.track({type:1,doc:w}),b=!0,(d||p)&&(h=!0)),b&&(E?(l=l.add(E),a=_?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{aa:l,la:r,Zi:h,mutatedKeys:a}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const a=e.la.L_();a.sort((p,g)=>function(w,E){const R=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return R(w)-R(E)}(p.type,g.type)||this._a(p.doc,g.doc)),this.Pa(r);const l=n?this.Ia():[],h=this.oa.size===0&&this.current?1:0,d=h!==this.sa;return this.sa=h,a.length!==0||d?{snapshot:new ja(this.query,e.aa,s,a,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new EI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=We(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new tC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new eC(r))}),n}da(e){this.ia=e.ls,this.oa=We();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ja.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class UF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jF{constructor(e){this.key=e,this.Ra=!1}}class BF{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new il(h=>bR(h),Jf),this.fa=new Map,this.ga=new Set,this.pa=new Ct(fe.comparator),this.ya=new Map,this.wa=new n_,this.Sa={},this.ba=new Map,this.Da=Ua.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function $F(t,e){const n=YF(t);let r,s;const a=n.ma.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),s=a.view.Aa();else{const l=await yF(n.localStore,Wi(e)),h=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=await HF(n,e,r,h==="current",l.resumeToken),n.isPrimaryClient&&KR(n.remoteStore,l)}return s}async function HF(t,e,n,r,s){t.va=(v,w,E)=>async function(_,b,S,P){let F=b.view.ca(S);F.Zi&&(F=await gI(_.localStore,b.query,!1).then(({documents:ie})=>b.view.ca(ie,F)));const x=P&&P.targetChanges.get(b.targetId),z=b.view.applyChanges(F,_.isPrimaryClient,x);return II(_,b.targetId,z.Ta),z.snapshot}(t,v,w,E);const a=await gI(t.localStore,e,!0),l=new FF(e,a.ls),h=l.ca(a.documents),d=Mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,d);II(t,n,p.Ta);const g=new UF(e,n,l);return t.ma.set(e,g),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),p.snapshot}async function qF(t,e){const n=Ge(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(a=>!Jf(a,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await vv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),GR(n.remoteStore,r.targetId),yv(n,r.targetId)}).catch(Wy)):(yv(n,r.targetId),await vv(n.localStore,r.targetId,!0))}async function nC(t,e){const n=Ge(t);try{const r=await gF(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.ya.get(a);l&&(Wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?Wt(l.Ra):s.removedDocuments.size>0&&(Wt(l.Ra),l.Ra=!1))}),await rC(n,r,e)}catch(r){await Wy(r)}}function bI(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((a,l)=>{const h=l.view.Q_(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=Ge(l);d.onlineState=h;let p=!1;d.queries.forEach((g,v)=>{for(const w of v.listeners)w.Q_(h)&&(p=!0)}),p&&u_(d)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WF(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),a=s&&s.key;if(a){let l=new Ct(fe.comparator);l=l.insert(a,En.newNoDocument(a,Ae.min()));const h=We().add(a),d=new tp(Ae.min(),new Map,new Ct(et),l,h);await nC(r,d),r.pa=r.pa.remove(a),r.ya.delete(e),c_(r)}else await vv(r.localStore,e,!1).then(()=>yv(r,e,n)).catch(Wy)}function yv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||iC(t,r)})}function iC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(GR(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),c_(t))}function II(t,e,n){for(const r of n)r instanceof eC?(t.wa.addReference(r.key,e),KF(t,r)):r instanceof tC?(se("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||iC(t,r.key)):Pe()}function KF(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(se("SyncEngine","New document in limbo: "+n),t.ga.add(r),c_(t))}function c_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new fe(at.fromString(e)),r=t.Da.next();t.ya.set(r,new jF(n)),t.pa=t.pa.insert(n,r),KR(t.remoteStore,new Xr(Wi(Jy(n.path)),r,"TargetPurposeLimboResolution",Ky._e))}}async function rC(t,e,n){const r=Ge(t),s=[],a=[],l=[];r.ma.isEmpty()||(r.ma.forEach((h,d)=>{l.push(r.va(d,e,n).then(p=>{if((p||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,p!=null&&p.fromCache?"not-current":"current"),p){s.push(p);const g=r_.Qi(d.targetId,p);a.push(g)}}))}),await Promise.all(l),r.Va.a_(s),await async function(d,p){const g=Ge(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>B.forEach(p,w=>B.forEach(w.ki,E=>g.persistence.referenceDelegate.addReference(v,w.targetId,E)).next(()=>B.forEach(w.qi,E=>g.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))}catch(v){if(!xc(v))throw v;se("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const E=g.ts.get(w),R=E.snapshotVersion,_=E.withLastLimboFreeSnapshotVersion(R);g.ts=g.ts.insert(w,_)}}}(r.localStore,a))}async function GF(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await HR(n.localStore,e);n.currentUser=e,function(a,l){a.ba.forEach(h=>{h.forEach(d=>{d.reject(new Q(V.CANCELLED,l))})}),a.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await rC(n,r._s)}}function zF(t,e){const n=Ge(t),r=n.ya.get(e);if(r&&r.Ra)return We().add(r.key);{let s=We();const a=n.fa.get(e);if(!a)return s;for(const l of a){const h=n.ma.get(l);s=s.unionWith(h.view.ua)}return s}}function YF(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WF.bind(null,e),e.Va.a_=MF.bind(null,e.eventManager),e.Va.Fa=VF.bind(null,e.eventManager),e}class TI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=np(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mF(this.persistence,new fF,e.initialUser,this.serializer)}createPersistence(e){return new cF(i_.jr,this.serializer)}createSharedClientState(e){return new wF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class QF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GF.bind(null,this.syncEngine),await DF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LF}()}createDatastore(e){const n=np(e.databaseInfo.databaseId),r=function(a){return new TF(a)}(e.databaseInfo);return function(a,l,h,d){return new RF(a,l,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new PF(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>bI(this.syncEngine,n,0),function(){return yI.D()?new yI:new EF}())}createSyncEngine(e,n){return function(s,a,l,h,d,p,g){const v=new BF(s,a,l,h,d,p);return g&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ge(n);se("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Vc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=_n.UNAUTHENTICATED,this.clientId=fR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rg(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await HR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function AI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZF(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>wI(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>wI(e.remoteStore,a)),t._onlineComponents=e}function XF(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ZF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!XF(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await Rg(t,new TI)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Rg(t,new TI);return t._offlineComponents}async function eU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await AI(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await AI(t,new QF))),t._onlineComponents}async function oC(t){const e=await eU(t),n=e.eventManager;return n.onListen=$F.bind(null,e.syncEngine),n.onUnlisten=qF.bind(null,e.syncEngine),n}function tU(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,d,p){const g=new sC({next:w=>{l.enqueueAndForget(()=>XR(a,v));const E=w.docs.has(h);!E&&w.fromCache?p.reject(new Q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?p.reject(new Q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new ZR(Jy(h.path),g,{includeMetadataChanges:!0,J_:!0});return JR(a,v)}(await oC(t),t.asyncQueue,e,n,r)),r.promise}function nU(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,d,p){const g=new sC({next:w=>{l.enqueueAndForget(()=>XR(a,v)),w.fromCache&&d.source==="server"?p.reject(new Q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new ZR(h,g,{includeMetadataChanges:!0,J_:!0});return JR(a,v)}(await oC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e,n){if(!n)throw new Q(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iU(t,e,n,r){if(e===!0&&r===!0)throw new Q(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RI(t){if(!fe.isDocumentKey(t))throw new Q(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CI(t){if(fe.isDocumentKey(t))throw new Q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function Ba(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rp(t);throw new Q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function rU(t,e){if(e<=0)throw new Q(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $V;switch(r.type){case"firstParty":return new KV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SI.get(n);r&&(se("ComponentProvider","Removing Datastore"),SI.delete(n),r.terminate())}(this),Promise.resolve()}}function sU(t,e,n,r={}){var s;const a=(t=Ba(t,Uc))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=_n.MOCK_USER;else{h=iA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new _n(p)}t._authCredentials=new HV(new dR(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class Jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class is extends Zi{constructor(e,n,r){super(e,n,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new fe(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function lC(t,e,...n){if(t=be(t),h_("collection","path",e),t instanceof Uc){const r=at.fromString(e,...n);return CI(r),new is(t,null,r)}{if(!(t instanceof Jn||t instanceof is))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return CI(r),new is(t.firestore,null,r)}}function oU(t,e){if(t=Ba(t,Uc),h_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Q(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(t,null,function(r){return new ys(at.emptyPath(),r)}(e))}function aU(t,e,...n){if(t=be(t),arguments.length===1&&(e=fR.newId()),h_("doc","path",e),t instanceof Uc){const r=at.fromString(e,...n);return RI(r),new Jn(t,null,new fe(r))}{if(!(t instanceof Jn||t instanceof is))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return RI(r),new Jn(t.firestore,t instanceof is?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new WR(this,"async_queue_retry"),this.iu=()=>{const n=Sg();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Sg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new ns;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!xc(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),h}(r);throw Er("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=l_.createAndSchedule(this,e,n,r,a=>this.au(a));return this.Xa.push(s),s}su(){this.eu&&Pe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class d_ extends Uc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new lU}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cC(this),this._firestoreClient.terminate()}}function uU(t,e){const n=typeof t=="object"?t:_c(),r=typeof t=="string"?t:e||"(default)",s=yo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=ey("firestore");a&&sU(s,...a)}return s}function uC(t){return t._firestoreClient||cC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cC(t){var e,n,r;const s=t._freezeSettings(),a=function(h,d,p,g){return new r4(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aC(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new JF(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(Sn.fromBase64String(e))}catch(n){throw new Q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $a(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=/^__.*__$/;function fC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class p_{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new p_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _v(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(fC(this.Iu)&&cU.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class hU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||np(e)}pu(e,n,r,s=!1){return new p_({Iu:e,methodName:n,gu:r,path:bn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pC(t){const e=t._freezeSettings(),n=np(t._databaseId);return new hU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mC(t,e,n,r=!1){return m_(n,t.pu(r?4:3,e))}function m_(t,e){if(gC(t=be(t)))return fU("Unsupported field value:",e,t),dU(t,e);if(t instanceof dC)return function(r,s){if(!fC(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let d=m_(h,s.Vu(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nn.fromDate(r);return{timestampValue:mv(s.serializer,a)}}if(r instanceof nn){const a=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mv(s.serializer,a)}}if(r instanceof f_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $a)return{bytesValue:MR(s.serializer,r._byteString)};if(r instanceof Jn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:VR(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${rp(r)}`)}(t,e)}function dU(t,e){const n={};return pR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lc(t,(r,s)=>{const a=m_(s,e.Eu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function gC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof f_||t instanceof $a||t instanceof Jn||t instanceof dC)}function fU(t,e,n){if(!gC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=rp(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}const pU=new RegExp("[~\\*/\\[\\]]");function mU(t,e,n){if(e.search(pU)>=0)throw _v(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hC(...e.split("."))._internalPath}catch{throw _v(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _v(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new Q(V.INVALID_ARGUMENT,h+t+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gU extends g_{data(){return super.data()}}function sp(t,e){return typeof e=="string"?mU(t,e):e instanceof hC?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v_{}class op extends v_{}function kI(t,e,...n){let r=[];e instanceof v_&&r.push(e),r=r.concat(n),function(a){const l=a.filter(d=>d instanceof y_).length,h=a.filter(d=>d instanceof ap).length;if(l>1||l>0&&h>0)throw new Q(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ap extends op{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ap(e,n,r)}_apply(e){const n=this._parse(e);return vC(e._query,n),new Zi(e.firestore,e.converter,hv(e._query,n))}_parse(e){const n=pC(e.firestore);return function(a,l,h,d,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Q(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){LI(v,g);const E=[];for(const R of v)E.push(xI(d,a,R));w={arrayValue:{values:E}}}else w=xI(d,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||LI(v,g),w=mC(h,l,v,g==="in"||g==="not-in");return Vt.create(p,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function OI(t,e,n){const r=e,s=sp("where",t);return ap._create(s,r,n)}class y_ extends v_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const h=a.getFlattenedFilters();for(const d of h)vC(l,d),l=hv(l,d)}(e._query,n),new Zi(e.firestore,e.converter,hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class __ extends op{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new __(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new Q(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(a,l)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new ys(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function NI(t,e="asc"){const n=e,r=sp("orderBy",t);return __._create(r,n)}class w_ extends op{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new w_(e,n,r)}_apply(e){return new Zi(e.firestore,e.converter,ef(e._query,this._limit,this._limitType))}}function DI(t){return rU("limit",t),w_._create("limit",t,"F")}class E_ extends op{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new E_(e,n,r)}_apply(e){const n=_U(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,function(s,a){return new ys(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)}(e._query,n))}}function yU(...t){return E_._create("startAfter",t,!1)}function _U(t,e,n,r){if(n[0]=be(n[0]),n[0]instanceof g_)return function(a,l,h,d,p){if(!d)throw new Q(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const v of ba(a))if(v.field.isKeyField())g.push(Zd(l,d.key));else{const w=d.data.field(v.field);if(Qf(w))throw new Q(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const E=v.field.canonicalString();throw new Q(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}g.push(w)}return new Fa(g,p)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=pC(t.firestore);return function(l,h,d,p,g,v){const w=l.explicitOrderBy;if(g.length>w.length)throw new Q(V.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let R=0;R<g.length;R++){const _=g[R];if(w[R].field.isKeyField()){if(typeof _!="string")throw new Q(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof _}`);if(!Xy(l)&&_.indexOf("/")!==-1)throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${_}' contains a slash.`);const b=l.path.child(at.fromString(_));if(!fe.isDocumentKey(b))throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const S=new fe(b);E.push(Zd(h,S))}else{const b=mC(d,p,_);E.push(b)}}return new Fa(E,v)}(t._query,t.firestore._databaseId,s,e,n,r)}}function xI(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xy(e)&&n.indexOf("/")!==-1)throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!fe.isDocumentKey(r))throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zd(t,new fe(r))}if(n instanceof Jn)return Zd(t,n._key);throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rp(n)}.`)}function LI(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vC(t,e){const n=function(s,a){for(const l of s)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wU{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lc(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new f_(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=hs(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Wt($R(r));const s=new uc(r.get(1),r.get(3)),a=new fe(r.popFirst(5));return s.isEqual(n)||Er(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yC extends g_{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pd extends yC{data(e={}){return super.data(e)}}class EU{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Pu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pd(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new Pd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Pu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const d=new Pd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Pu(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:bU(h.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){t=Ba(t,Jn);const e=Ba(t.firestore,d_);return tU(uC(e),t._key).then(n=>TU(e,t,n))}class _C extends wU{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,n)}}function wv(t){t=Ba(t,Zi);const e=Ba(t.firestore,d_),n=uC(e),r=new _C(e);return vU(t._query),nU(n,t._query).then(s=>new EU(e,r,t,s))}function TU(t,e,n){const r=n.docs.get(e._key),s=new _C(t);return new yC(t,s,e._key,r,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){nl=s})(br),Gi(new mi("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new d_(new qV(r.getProvider("auth-internal")),new zV(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Dn(Q1,"4.3.2",e),Dn(Q1,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="type.googleapis.com/google.protobuf.Int64Value",SU="type.googleapis.com/google.protobuf.UInt64Value";function wC(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Ev(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ev(e));if(typeof t=="function"||typeof t=="object")return wC(t,e=>Ev(e));throw new Error("Data cannot be encoded in JSON: "+t)}function rf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case AU:case SU:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>rf(e)):typeof t=="function"||typeof t=="object"?wC(t,e=>rf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Aa extends fn{constructor(e,n,r){super(`${b_}/${e}`,n||""),this.details=r}}function RU(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function CU(t,e){let n=RU(t),r=n,s;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!MI[l])return new Aa("internal","internal");n=MI[l],r=l}const h=a.message;typeof h=="string"&&(r=h),s=a.details,s!==void 0&&(s=rf(s))}}catch{}return n==="ok"?null:new Aa(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="us-central1";function kU(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Aa("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class OU{constructor(e,n,r,s,a=bv,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new PU(n,r,s),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(a);this.customDomain=h.origin,this.region=bv}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function NU(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function DU(t,e,n){return r=>LU(t,e,r,n||{})}async function xU(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await s.json()}catch{}return{status:s.status,json:a}}function LU(t,e,n,r){const s=t._url(e);return MU(t,s,n,r)}async function MU(t,e,n,r){n=Ev(n);const s={data:n},a={},l=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const h=r.timeout||7e4,d=kU(h),p=await Promise.race([xU(e,s,a,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!p)throw new Aa("cancelled","Firebase Functions instance was deleted.");const g=CU(p.status,p.json);if(g)throw g;if(!p.json)throw new Aa("internal","Response is not valid JSON object.");let v=p.json.data;if(typeof v>"u"&&(v=p.json.result),typeof v>"u")throw new Aa("internal","Response is missing data field.");return{data:rf(v)}}const VI="@firebase/functions",FI="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="auth-internal",FU="app-check-internal",UU="messaging-internal";function jU(t,e){const n=(r,{instanceIdentifier:s})=>{const a=r.getProvider("app").getImmediate(),l=r.getProvider(VU),h=r.getProvider(UU),d=r.getProvider(FU);return new OU(a,l,h,d,s,t)};Gi(new mi(b_,n,"PUBLIC").setMultipleInstances(!0)),Dn(VI,FI,e),Dn(VI,FI,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t=_c(),e=bv){const r=yo(be(t),b_).getImmediate({identifier:e}),s=ey("functions");return s&&BU(r,...s),r}function BU(t,e,n){NU(be(t),e,n)}function I_(t,e,n){return DU(be(t),e,n)}jU(fetch.bind(self));const $U={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebasestorage.googleapis.com",bC="storageBucket",HU=2*60*1e3,qU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends fn{constructor(e,n,r=0){super(Cg(e),`Firebase Storage: ${n} (${Cg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _i;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_i||(_i={}));function Cg(t){return"storage/"+t}function WU(){const t="An unknown error occurred, please check the error payload for server response.";return new bi(_i.UNKNOWN,t)}function KU(){return new bi(_i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GU(){return new bi(_i.CANCELED,"User canceled the upload/download.")}function zU(t){return new bi(_i.INVALID_URL,"Invalid URL '"+t+"'.")}function YU(t){return new bi(_i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QU(){return new bi(_i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bC+"' property when initializing the app?")}function Iv(t){return new bi(_i.INVALID_ARGUMENT,t)}function IC(){return new bi(_i.APP_DELETED,"The Firebase app was deleted.")}function JU(t){return new bi(_i.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ii.makeFromUrl(e,n)}catch{return new ii(e,"")}if(r.path==="")return r;throw YU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(x){x.path_=decodeURIComponent(x.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${s}/o${w}`,"i"),R={bucket:1,path:3},_=n===EC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",S=new RegExp(`^https?://${_}/${s}/${b}`,"i"),F=[{regex:h,indices:d,postModify:a},{regex:E,indices:R,postModify:p},{regex:S,indices:{bucket:1,path:2},postModify:p}];for(let x=0;x<F.length;x++){const z=F[x],ie=z.regex.exec(e);if(ie){const pe=ie[z.indices.bucket];let oe=ie[z.indices.path];oe||(oe=""),r=new ii(pe,oe),z.postModify(r);break}}if(r==null)throw zU(e);return r}}class XU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e,n){let r=1,s=null,a=null,l=!1,h=0;function d(){return h===2}let p=!1;function g(...b){p||(p=!0,e.apply(null,b))}function v(b){s=setTimeout(()=>{s=null,t(E,d())},b)}function w(){a&&clearTimeout(a)}function E(b,...S){if(p){w();return}if(b){w(),g.call(null,b,...S);return}if(d()||l){w(),g.call(null,b,...S);return}r<64&&(r*=2);let F;h===1?(h=2,F=0):F=(r+Math.random())*1e3,v(F)}let R=!1;function _(b){R||(R=!0,w(),!p&&(s!==null?(b||(h=2),clearTimeout(s),v(0)):b||(h=1)))}return v(0),a=setTimeout(()=>{l=!0,_(!0)},n),_}function e9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){return t!==void 0}function UI(t,e,n,r){if(r<e)throw Iv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Iv(`Invalid value for '${t}'. Expected ${n} or less.`)}function n9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sf||(sf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,r,s,a,l,h,d,p,g,v,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,R)=>{this.resolve_=E,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new fd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{const d=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===sf.NO_ERROR,d=a.getStatus();if(!h||i9(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===sf.ABORT;r(!1,new fd(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new fd(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());t9(d)?a(d):a()}catch(d){l(d)}else if(h!==null){const d=WU();d.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,d)):l(d)}else if(s.canceled){const d=this.appDelete_?IC():GU();l(d)}else{const d=KU();l(d)}};this.canceled_?n(!1,new fd(!1,null,!0)):this.backoffId_=ZU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function s9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u9(t,e,n,r,s,a,l=!0){const h=n9(t.urlParams),d=t.url+h,p=Object.assign({},t.headers);return a9(p,e),s9(p,n),o9(p,a),l9(p,r),new r9(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function h9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function d9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this._service=e,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fo(e,n)}get root(){const e=new ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d9(this._location.path)}get storage(){return this._service}get parent(){const e=c9(this._location.path);if(e===null)return null;const n=new ii(this._location.bucket,e);return new fo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JU(e)}}function f9(t,e){const n=h9(t._location.path,e),r=new ii(t._location.bucket,n);return new fo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return/^[A-Za-z]+:\/\//.test(t)}function m9(t,e){return new fo(t,e)}function TC(t,e){if(t instanceof T_){const n=t;if(n._bucket==null)throw QU();const r=new fo(n,n._bucket);return e!=null?TC(r,e):r}else return e!==void 0?f9(t,e):t}function g9(t,e){if(e&&p9(e)){if(t instanceof T_)return m9(t,e);throw Iv("To use ref(service, url), the first argument must be a Storage instance.")}else return TC(t,e)}function jI(t,e){const n=e==null?void 0:e[bC];return n==null?null:ii.makeFromBucketSpec(n,t)}function v9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:iA(s,t.app.options.projectId))}class T_{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=EC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HU,this._maxUploadRetryTime=qU,this._requests=new Set,s!=null?this._bucket=ii.makeFromBucketSpec(s,this._host):this._bucket=jI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ii.makeFromBucketSpec(this._url,e):this._bucket=jI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fo(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new XU(IC());{const l=u9(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const BI="@firebase/storage",$I="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="storage";function y9(t,e){return t=be(t),g9(t,e)}function _9(t=_c(),e){t=be(t);const r=yo(t,AC).getImmediate({identifier:e}),s=ey("storage");return s&&w9(r,...s),r}function w9(t,e,n,r={}){v9(t,e,n,r)}function E9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new T_(n,r,s,e,br)}function b9(){Gi(new mi(AC,E9,"PUBLIC").setMultipleInstances(!0)),Dn(BI,$I,""),Dn(BI,$I,"esm2017")}b9();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this._delegate=e,this.firebase=n,Ud(e,new mi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),dA(this._delegate)))}_getService(e,n=as){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=as){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ud(this._delegate,e)}_addOrOverwriteComponent(e){hA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},HI=new vo("app-compat","Firebase",T9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){const e={},n={__esModule:!0,initializeApp:a,app:s,registerVersion:Dn,setLogLevel:pA,onLog:fA,apps:null,SDK_VERSION:br,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:fD}};n.default=n,Object.defineProperty(n,"apps",{get:l});function r(p){delete e[p]}function s(p){if(p=p||as,!c1(e,p))throw HI.create("no-app",{appName:p});return e[p]}s.App=t;function a(p,g={}){const v=Ef(p,g);if(c1(e,v.name))return e[v.name];const w=new t(v,n);return e[v.name]=w,w}function l(){return Object.keys(e).map(p=>e[p])}function h(p){const g=p.name,v=g.replace("-compat","");if(Gi(p)&&p.type==="PUBLIC"){const w=(E=s())=>{if(typeof E[v]!="function")throw HI.create("invalid-app-argument",{appName:g});return E[v]()};p.serviceProps!==void 0&&Md(w,p.serviceProps),n[v]=w,t.prototype[v]=function(...E){return this._getService.bind(this,g).apply(this,p.multipleInstances?E:[])}}return p.type==="PUBLIC"?n[v]:null}function d(p,g){return g==="serverAuth"?null:g}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){const t=A9(I9);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:SC,extendNamespace:e,createSubscribe:aA,ErrorFactory:vo,deepExtend:Md});function e(n){Md(t,n)}return t}const S9=SC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new wf("@firebase/app-compat"),R9="@firebase/app-compat",C9="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){Dn(R9,C9,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(JO()&&self.firebase!==void 0){qI.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&qI.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ce=S9;P9();var k9="firebase",O9="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ce.registerVersion(k9,O9,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=2e3;async function D9(t,e,n){var r;const{BuildInfo:s}=po();gi(e.sessionId,"AuthEvent did not contain a session ID");const a=await F9(e.sessionId),l={};return Ja()?l.ibi=s.packageName:Ec()?l.apn=s.packageName:rn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=a,zg(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function x9(t){const{BuildInfo:e}=po(),n={};Ja()?n.iosBundleId=e.packageName:Ec()?n.androidPackageName=e.packageName:rn(t,"operation-not-supported-in-this-environment"),await oS(t,n)}function L9(t){const{cordova:e}=po();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,FD()?"_blank":"_system","location=yes"),n(s)})})}async function M9(t,e,n){const{cordova:r}=po();let s=()=>{};try{await new Promise((a,l)=>{let h=null;function d(){var v;a();const w=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof w=="function"&&w(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function p(){h||(h=window.setTimeout(()=>{l(pn(t,"redirect-cancelled-by-user"))},N9))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&p()}e.addPassiveListener(d),document.addEventListener("resume",p,!1),Ec()&&document.addEventListener("visibilitychange",g,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",p,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{s()}}function V9(t){var e,n,r,s,a,l,h,d,p,g;const v=po();H(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H(typeof((a=(s=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||a===void 0?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((d=(h=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H(typeof((g=(p=v==null?void 0:v.cordova)===null||p===void 0?void 0:p.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function F9(t){const e=U9(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function U9(t){if(gi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=20;class B9 extends rS{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function $9(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:W9(),postBody:null,tenantId:t.tenantId,error:pn(t,"no-auth-event")}}function H9(t,e){return Tv()._set(Av(t),e)}async function WI(t){const e=await Tv()._get(Av(t));return e&&await Tv()._remove(Av(t)),e}function q9(t,e){var n,r;const s=G9(e);if(s.includes("/__/auth/callback")){const a=kd(s),l=a.firebaseError?K9(decodeURIComponent(a.firebaseError)):null,h=(r=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],d=h?pn(h):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function W9(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<j9;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Tv(){return Qn(Pf)}function Av(t){return eo("authEvent",t.config.apiKey,t.name)}function K9(t){try{return JSON.parse(t)}catch{return null}}function G9(t){const e=kd(t),n=e.link?decodeURIComponent(e.link):void 0,r=kd(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return kd(s).link||s||r||n||t}function kd(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ma(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=500;class Y9{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Df,this._overrideRedirectResult=wy}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new B9(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,s){V9(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),qL(),await this._originValidation(e);const l=$9(e,r,s);await H9(e,l);const h=await D9(e,l,n),d=await L9(h);return M9(e,a,d)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x9(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:s,BuildInfo:a}=po(),l=setTimeout(async()=>{await WI(e),n.onEvent(KI())},z9),h=async g=>{clearTimeout(l);const v=await WI(e);let w=null;v&&(g!=null&&g.url)&&(w=q9(v,g.url)),n.onEvent(w||KI())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=s,p=`${a.packageName.toLowerCase()}://`;po().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(p)&&h({url:g}),typeof d=="function")try{d(g)}catch(v){console.error(v)}}}}const Q9=Y9;function KI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){bt(t)._logFramework(e)}var X9="@firebase/auth-compat",Z9="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=1e3;function Uu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function t3(){return Uu()==="http:"||Uu()==="https:"}function RC(t=Ft()){return!!((Uu()==="file:"||Uu()==="ionic:"||Uu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function n3(){return ty()||rA()}function i3(){return oA()&&(document==null?void 0:document.documentMode)===11}function r3(t=Ft()){return/Edge\/\d+/.test(t)}function s3(t=Ft()){return i3()||r3(t)}function CC(){try{const t=self.localStorage,e=Ic();if(t)return t.setItem(e,"1"),t.removeItem(e),s3()?Vd():!0}catch{return A_()&&Vd()}return!1}function A_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pg(){return(t3()||sA()||RC())&&!n3()&&CC()&&!A_()}function PC(){return RC()&&typeof document<"u"}async function o3(){return PC()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function a3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={LOCAL:"local",NONE:"none",SESSION:"session"},vu=H,kC="persistence";function l3(t,e){if(vu(Object.values(zn).includes(e),t,"invalid-persistence-type"),ty()){vu(e!==zn.SESSION,t,"unsupported-persistence-type");return}if(rA()){vu(e===zn.NONE,t,"unsupported-persistence-type");return}if(A_()){vu(e===zn.NONE||e===zn.LOCAL&&Vd(),t,"unsupported-persistence-type");return}vu(e===zn.NONE||CC(),t,"unsupported-persistence-type")}async function Sv(t){await t._initializationPromise;const e=OC(),n=eo(kC,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function u3(t,e){const n=OC();if(!n)return[];const r=eo(kC,t,e);switch(n.getItem(r)){case zn.NONE:return[ka];case zn.LOCAL:return[Na,us];case zn.SESSION:return[us];default:return[]}}function OC(){var t;try{return((t=a3())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=H;class Zr{constructor(){this.browserResolver=Qn(aS),this.cordovaResolver=Qn(Q9),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=Df,this._overrideRedirectResult=wy}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,s)}async _openRedirect(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return PC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return c3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await o3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){return t.unwrap()}function h3(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){return DC(t)}function f3(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new p3(t,Qx(t,e))}else if(r){const s=DC(e),a=e;s&&(a.credential=s,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function DC(t){const{_tokenResponse:e}=t instanceof fn?t.customData:t;if(!e)return null;if(!(t instanceof fn)&&"temporaryProof"in e&&"phoneNumber"in e)return lo.credentialFromResult(t);const n=e.providerId;if(!n||n===fu.PASSWORD)return null;let r;switch(n){case fu.GOOGLE:r=Li;break;case fu.FACEBOOK:r=xi;break;case fu.GITHUB:r=Mi;break;case fu.TWITTER:r=Vi;break;default:const{oauthIdToken:s,oauthAccessToken:a,oauthTokenSecret:l,pendingToken:h,nonce:d}=e;return!a&&!l&&!s&&!h?null:h?n.startsWith("saml.")?Oa._create(n,h):zi._fromParams({providerId:n,signInMethod:n,pendingToken:h,idToken:s,accessToken:a}):new ya(n).credential({idToken:s,accessToken:a,rawNonce:d})}return t instanceof fn?r.credentialFromError(t):r.credentialFromResult(t)}function Fn(t,e){return e.catch(n=>{throw n instanceof fn&&f3(t,n),n}).then(n=>{const r=n.operationType,s=n.user;return{operationType:r,credential:d3(n),additionalUserInfo:Kx(n),user:pr.getOrCreate(s)}})}async function Rv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Fn(t,n.confirm(r))}}class p3{constructor(e,n){this.resolver=n,this.auth=h3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Fn(NC(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._delegate=e,this.multiFactor=eL(e)}static getOrCreate(e){return pr.USER_MAP.has(e)||pr.USER_MAP.set(e,new pr(e)),pr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Fn(this.auth,$A(this._delegate,e))}async linkWithPhoneNumber(e,n){return Rv(this.auth,OL(this._delegate,e,n))}async linkWithPopup(e){return Fn(this.auth,jL(this._delegate,e,Zr))}async linkWithRedirect(e){return await Sv(bt(this.auth)),YL(this._delegate,e,Zr)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Fn(this.auth,HA(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Rv(this.auth,NL(this._delegate,e,n))}reauthenticateWithPopup(e){return Fn(this.auth,UL(this._delegate,e,Zr))}async reauthenticateWithRedirect(e){return await Sv(bt(this.auth)),GL(this._delegate,e,Zr)}sendEmailVerification(e){return Lx(this._delegate,e)}async unlink(e){return await Ex(this._delegate,e),this}updateEmail(e){return Ux(this._delegate,e)}updatePassword(e){return jx(this._delegate,e)}updatePhoneNumber(e){return DL(this._delegate,e)}updateProfile(e){return Fx(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Mx(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=H;class Cv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;yu(r,"invalid-api-key",{appName:e.name}),yu(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Zr:void 0;this._delegate=n.initialize({options:{persistence:m3(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(mD),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){DA(this._delegate,e,n)}applyActionCode(e){return Sx(this._delegate,e)}checkActionCode(e){return qA(this._delegate,e)}confirmPasswordReset(e,n){return Ax(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Fn(this._delegate,Cx(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return xx(this._delegate,e)}isSignInWithEmailLink(e){return Ox(this._delegate,e)}async getRedirectResult(){yu(Pg(),this._delegate,"operation-not-supported-in-this-environment");const e=await JL(this._delegate,Zr);return e?Fn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){J9(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:s,error:a,complete:l}=GI(e,n,r);return this._delegate.onAuthStateChanged(s,a,l)}onIdTokenChanged(e,n,r){const{next:s,error:a,complete:l}=GI(e,n,r);return this._delegate.onIdTokenChanged(s,a,l)}sendSignInLinkToEmail(e,n){return kx(this._delegate,e,n)}sendPasswordResetEmail(e,n){return Tx(this._delegate,e,n||void 0)}async setPersistence(e){l3(this._delegate,e);let n;switch(e){case zn.SESSION:n=us;break;case zn.LOCAL:n=await Qn(Na)._isAvailable()?Na:Pf;break;case zn.NONE:n=ka;break;default:return rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Fn(this._delegate,wx(this._delegate))}signInWithCredential(e){return Fn(this._delegate,Rf(this._delegate,e))}signInWithCustomToken(e){return Fn(this._delegate,Ix(this._delegate,e))}signInWithEmailAndPassword(e,n){return Fn(this._delegate,Px(this._delegate,e,n))}signInWithEmailLink(e,n){return Fn(this._delegate,Nx(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Rv(this._delegate,kL(this._delegate,e,n))}async signInWithPopup(e){return yu(Pg(),this._delegate,"operation-not-supported-in-this-environment"),Fn(this._delegate,FL(this._delegate,e,Zr))}async signInWithRedirect(e){return yu(Pg(),this._delegate,"operation-not-supported-in-this-environment"),await Sv(this._delegate),WL(this._delegate,e,Zr)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Rx(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Cv.Persistence=zn;function GI(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const s=r;return{next:l=>s(l&&pr.getOrCreate(l)),error:e,complete:n}}function m3(t,e){const n=u3(t,e);if(typeof self<"u"&&!n.includes(Na)&&n.push(Na),typeof window<"u")for(const r of[Pf,us])n.includes(r)||n.push(r);return n.includes(ka)||n.push(ka),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.providerId="phone",this._delegate=new lo(NC(ce.auth()))}static credential(e,n){return lo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}S_.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD;S_.PROVIDER_ID=lo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=H;class v3{constructor(e,n,r=ce.app()){var s;g3((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new CL(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="auth-compat";function _3(t){t.INTERNAL.registerComponent(new mi(y3,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Cv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oa.EMAIL_SIGNIN,PASSWORD_RESET:oa.PASSWORD_RESET,RECOVER_EMAIL:oa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:oa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:oa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:oa.VERIFY_EMAIL}},EmailAuthProvider:ms,FacebookAuthProvider:xi,GithubAuthProvider:Mi,GoogleAuthProvider:Li,OAuthProvider:ya,SAMLAuthProvider:Bd,PhoneAuthProvider:S_,PhoneMultiFactorGenerator:lS,RecaptchaVerifier:v3,TwitterAuthProvider:Vi,Auth:Cv,AuthCredential:Xa,Error:fn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(X9,Z9)}_3(ce);function w3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xC={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(b,S){S=S||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(b,!!S.bubbles,!!S.cancelable,S.detail||null),P},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var b=window.getComputedStyle(_),S=function(P,F){return!(b[P]===void 0||b[P]===F)};if(b.opacity<1||S("zIndex","auto")||S("transform","none")||S("mixBlendMode","normal")||S("filter","none")||S("perspective","none")||b.isolation==="isolate"||b.position==="fixed"||b.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function r(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function a(_,b){for(var S=0;S<_.length;++S)if(_[S]===b)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function h(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var b=new MutationObserver(this.maybeHideModal.bind(this));b.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var S=!1,P=(function(){S?this.downgradeModal():this.maybeHideModal(),S=!1}).bind(this),F,x=function(z){if(z.target===_){var ie="DOMNodeRemoved";S|=z.type.substr(0,ie.length)===ie,window.clearTimeout(F),F=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(z){_.addEventListener(z,x)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}h.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var b=document.createElement("div");this.dialog_.insertBefore(b,this.dialog_.firstChild),b.tabIndex=-1,b.focus(),this.dialog_.removeChild(b)}var S=document.createEvent("MouseEvents");S.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(S),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var b=["button","input","keygen","select","textarea"],S=b.map(function(P){return P+":not([disabled])"});S.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(S.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,b){if(_<b)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=b},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var b=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(b)}};var d={};if(d.reposition=function(_){var b=document.body.scrollTop||document.documentElement.scrollTop,S=b+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(b,S)+"px"},d.isInlinePositionSetByStylesheet=function(_){for(var b=0;b<document.styleSheets.length;++b){var S=document.styleSheets[b],P=null;try{P=S.cssRules}catch{}if(P)for(var F=0;F<P.length;++F){var x=P[F],z=null;try{z=document.querySelectorAll(x.selectorText)}catch{}if(!(!z||!a(z,_))){var ie=x.style.getPropertyValue("top"),pe=x.style.getPropertyValue("bottom");if(ie&&ie!=="auto"||pe&&pe!=="auto")return!0}}}return!1},d.needsCentering=function(_){var b=window.getComputedStyle(_);return b.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!d.isInlinePositionSetByStylesheet(_)},d.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new h(_)},d.registerDialog=function(_){_.showModal||d.forceRegisterDialog(_)},d.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(b){this.forwardTab_=void 0,b.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(b){var S=[];b.forEach(function(P){for(var F=0,x;x=P.removedNodes[F];++F){if(x instanceof Element)x.localName==="dialog"&&S.push(x);else continue;S=S.concat(x.querySelectorAll("dialog"))}}),S.length&&_(S)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,b=0,S;S=this.pendingDialogStack[b];++b)S.updateZIndex(--_,--_),b===0&&(this.overlay.style.zIndex=--_);var P=this.pendingDialogStack[0];if(P){var F=P.dialog.parentNode||document.body;F.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=r(_);){for(var b=0,S;S=this.pendingDialogStack[b];++b)if(S.dialog===_)return b===0;_=_.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var b=this.pendingDialogStack[0],S=b.dialog,P=S.compareDocumentPosition(_.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?b.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var b=new e("cancel",{bubbles:!1,cancelable:!0}),S=this.pendingDialogStack[0];S&&S.dialog.dispatchEvent(b)&&S.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},d.DialogManager.prototype.checkDOM_=function(_){var b=this.pendingDialogStack.slice();b.forEach(function(S){_.indexOf(S.dialog)!==-1?S.downgradeModal():S.maybeHideModal()})},d.DialogManager.prototype.pushDialog=function(_){var b=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=b?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(_){var b=this.pendingDialogStack.indexOf(_);b!==-1&&(this.pendingDialogStack.splice(b,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,window.HTMLDialogElement===void 0){var p=document.createElement("form");if(p.setAttribute("method","dialog"),p.method!=="dialog"){var g=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(g){var v=g.get;g.get=function(){return l(this)?"dialog":v.call(this)};var w=g.set;g.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):w.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",g)}}document.addEventListener("click",function(_){if(d.formSubmitter=null,d.useValue=null,!_.defaultPrevented){var b=_.target;if(!(!b||!l(b.form))){var S=b.type==="submit"&&["button","input"].indexOf(b.localName)>-1;if(!S){if(!(b.localName==="input"&&b.type==="image"))return;d.useValue=_.offsetX+","+_.offsetY}var P=r(b);P&&(d.formSubmitter=b)}}},!1);var E=HTMLFormElement.prototype.submit,R=function(){if(!l(this))return E.call(this);var _=r(this);_&&_.close()};HTMLFormElement.prototype.submit=R,document.addEventListener("submit",function(_){var b=_.target;if(l(b)){_.preventDefault();var S=r(b);if(S){var P=d.formSubmitter;P&&P.form===b?S.close(d.useValue||P.value):S.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,typeof t.exports=="object"?t.exports=d:window.dialogPolyfill=d})()})(xC);var E3=xC.exports;const b3=w3(E3);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};gt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function r(_,b){for(var S=0;S<t.length;S++)if(t[S].className===_)return typeof b<"u"&&(t[S]=b),t[S];return!1}function s(_){var b=_.getAttribute("data-upgraded");return b===null?[""]:b.split(",")}function a(_,b){var S=s(_);return S.indexOf(b)!==-1}function l(_,b,S){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:b,cancelable:S});var P=document.createEvent("Events");return P.initEvent(_,b,S),P}function h(_,b){if(typeof _>"u"&&typeof b>"u")for(var S=0;S<t.length;S++)h(t[S].className,t[S].cssClass);else{var P=_;if(typeof b>"u"){var F=r(P);F&&(b=F.cssClass)}for(var x=document.querySelectorAll("."+b),z=0;z<x.length;z++)d(x[z],P)}}function d(_,b){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var S=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(S),!S.defaultPrevented){var P=s(_),F=[];if(b)a(_,b)||F.push(r(b));else{var x=_.classList;t.forEach(function(Be){x.contains(Be.cssClass)&&F.indexOf(Be)===-1&&!a(_,Be.className)&&F.push(Be)})}for(var z=0,ie=F.length,pe;z<ie;z++){if(pe=F[z],pe){P.push(pe.className),_.setAttribute("data-upgraded",P.join(","));var oe=new pe.classConstructor(_);oe[n]=pe,e.push(oe);for(var he=0,De=pe.callbacks.length;he<De;he++)pe.callbacks[he](_);pe.widget&&(_[pe.className]=oe)}else throw new Error("Unable to find a registered component for the given class.");var le=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(le)}}}function p(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var b=0,S=_.length,P;b<S;b++)P=_[b],P instanceof HTMLElement&&(d(P),P.children.length>0&&p(P.children))}function g(_){var b=typeof _.widget>"u"&&typeof _.widget>"u",S=!0;b||(S=_.widget||_.widget);var P={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:S,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===P.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var F=r(_.classAsString,P);F||t.push(P)}function v(_,b){var S=r(_);S&&S.callbacks.push(b)}function w(){for(var _=0;_<t.length;_++)h(t[_].className)}function E(_){if(_){var b=e.indexOf(_);e.splice(b,1);var S=_.element_.getAttribute("data-upgraded").split(","),P=S.indexOf(_[n].classAsString);S.splice(P,1),_.element_.setAttribute("data-upgraded",S.join(","));var F=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(F)}}function R(_){var b=function(P){e.filter(function(F){return F.element_===P}).forEach(E)};if(_ instanceof Array||_ instanceof NodeList)for(var S=0;S<_.length;S++)b(_[S]);else if(_ instanceof Node)b(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:h,upgradeElement:d,upgradeElements:p,upgradeAllRegistered:w,registerUpgradedCallback:v,register:g,downgradeElements:R}}();gt.ComponentConfigPublic;gt.ComponentConfig;gt.Component;gt.upgradeDom=gt.upgradeDom;gt.upgradeElement=gt.upgradeElement;gt.upgradeElements=gt.upgradeElements;gt.upgradeAllRegistered=gt.upgradeAllRegistered;gt.registerUpgradedCallback=gt.registerUpgradedCallback;gt.register=gt.register;gt.downgradeElements=gt.downgradeElements;window.componentHandler=gt;window.componentHandler=gt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),gt.upgradeAllRegistered()):(gt.upgradeElement=function(){},gt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),a.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[r,s,a],h=0;h<l.length;h++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[h].appendChild(d)}n.appendChild(r),n.appendChild(s),n.appendChild(a),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(i){function o(){}return o.prototype=i,new o},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var r;e:{var s={xb:!0},a={};try{a.__proto__=s,r=a.xb;break e}catch{}r=!1}n=r?function(i,o){if(i.__proto__=o,i.__proto__!==o)throw new TypeError(i+" is not extensible");return i}:null}var l=n;function h(i,o){if(i.prototype=e(o.prototype),i.prototype.constructor=i,l)l(i,o);else for(var u in o)if(u!="prototype")if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(o,u);c&&Object.defineProperty(i,u,c)}else i[u]=o[u];i.K=o.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,o,u){i!=Array.prototype&&i!=Object.prototype&&(i[o]=u.value)},p=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function g(i,o){if(o){var u=p;i=i.split(".");for(var c=0;c<i.length-1;c++){var f=i[c];f in u||(u[f]={}),u=u[f]}i=i[i.length-1],c=u[i],o=o(c),o!=c&&o!=null&&d(u,i,{configurable:!0,writable:!0,value:o})}}g("Object.is",function(i){return i||function(o,u){return o===u?o!==0||1/o===1/u:o!==o&&u!==u}}),g("Array.prototype.includes",function(i){return i||function(o,u){var c=this;c instanceof String&&(c=String(c));var f=c.length;for(u=u||0,0>u&&(u=Math.max(u+f,0));u<f;u++){var m=c[u];if(m===o||Object.is(m,o))return!0}return!1}});var v=this;function w(i){return i!==void 0}function E(i){return typeof i=="string"}var R=/^[\w+/_-]+[=]{0,2}$/,_=null;function b(){}function S(i){i.W=void 0,i.Xa=function(){return i.W?i.W:i.W=new i}}function P(i){var o=typeof i;if(o=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return o;var u=Object.prototype.toString.call(i);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(o=="function"&&typeof i.call>"u")return"object";return o}function F(i){return P(i)=="array"}function x(i){var o=P(i);return o=="array"||o=="object"&&typeof i.length=="number"}function z(i){return P(i)=="function"}function ie(i){var o=typeof i;return o=="object"&&i!=null||o=="function"}var pe="closure_uid_"+(1e9*Math.random()>>>0),oe=0;function he(i,o,u){return i.call.apply(i.bind,arguments)}function De(i,o,u){if(!i)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),i.apply(o,f)}}return function(){return i.apply(o,arguments)}}function le(i,o,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?le=he:le=De,le.apply(null,arguments)}function Be(i,o){var u=Array.prototype.slice.call(arguments,1);return function(){var c=u.slice();return c.push.apply(c,arguments),i.apply(this,c)}}function me(i,o){for(var u in o)i[u]=o[u]}var Tt=Date.now||function(){return+new Date};function we(i,o){i=i.split(".");var u=v;i[0]in u||typeof u.execScript>"u"||u.execScript("var "+i[0]);for(var c;i.length&&(c=i.shift());)!i.length&&w(o)?u[c]=o:u[c]&&u[c]!==Object.prototype[c]?u=u[c]:u=u[c]={}}function W(i,o){function u(){}u.prototype=o.prototype,i.K=o.prototype,i.prototype=new u,i.prototype.constructor=i,i.vc=function(c,f,m){for(var y=Array(arguments.length-2),I=2;I<arguments.length;I++)y[I-2]=arguments[I];return o.prototype[f].apply(c,y)}}function X(i){if(Error.captureStackTrace)Error.captureStackTrace(this,X);else{var o=Error().stack;o&&(this.stack=o)}i&&(this.message=String(i))}W(X,Error),X.prototype.name="CustomError";var ge;function ct(i,o){i=i.split("%s");for(var u="",c=i.length-1,f=0;f<c;f++)u+=i[f]+(f<o.length?o[f]:"%s");X.call(this,u+i[c])}W(ct,X),ct.prototype.name="AssertionError";function Ye(i,o){throw new ct("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}var Kt=Array.prototype.indexOf?function(i,o){return Array.prototype.indexOf.call(i,o,void 0)}:function(i,o){if(E(i))return E(o)&&o.length==1?i.indexOf(o,0):-1;for(var u=0;u<i.length;u++)if(u in i&&i[u]===o)return u;return-1},Qe=Array.prototype.forEach?function(i,o,u){Array.prototype.forEach.call(i,o,u)}:function(i,o,u){for(var c=i.length,f=E(i)?i.split(""):i,m=0;m<c;m++)m in f&&o.call(u,f[m],m,i)};function Ti(i,o){for(var u=E(i)?i.split(""):i,c=i.length-1;0<=c;--c)c in u&&o.call(void 0,u[c],c,i)}var Ai=Array.prototype.filter?function(i,o){return Array.prototype.filter.call(i,o,void 0)}:function(i,o){for(var u=i.length,c=[],f=0,m=E(i)?i.split(""):i,y=0;y<u;y++)if(y in m){var I=m[y];o.call(void 0,I,y,i)&&(c[f++]=I)}return c},Eo=Array.prototype.map?function(i,o){return Array.prototype.map.call(i,o,void 0)}:function(i,o){for(var u=i.length,c=Array(u),f=E(i)?i.split(""):i,m=0;m<u;m++)m in f&&(c[m]=o.call(void 0,f[m],m,i));return c},Gt=Array.prototype.some?function(i,o){return Array.prototype.some.call(i,o,void 0)}:function(i,o){for(var u=i.length,c=E(i)?i.split(""):i,f=0;f<u;f++)if(f in c&&o.call(void 0,c[f],f,i))return!0;return!1};function N(i,o){return 0<=Kt(i,o)}function Z(i,o){o=Kt(i,o);var u;return(u=0<=o)&&K(i,o),u}function K(i,o){return Array.prototype.splice.call(i,o,1).length==1}function ue(i,o){e:{for(var u=i.length,c=E(i)?i.split(""):i,f=0;f<u;f++)if(f in c&&o.call(void 0,c[f],f,i)){o=f;break e}o=-1}0<=o&&K(i,o)}function Ke(i,o){var u=0;Ti(i,function(c,f){o.call(void 0,c,f,i)&&K(i,f)&&u++})}function T(i){return Array.prototype.concat.apply([],arguments)}function A(i){var o=i.length;if(0<o){for(var u=Array(o),c=0;c<o;c++)u[c]=i[c];return u}return[]}function C(i,o,u){return 2>=arguments.length?Array.prototype.slice.call(i,o):Array.prototype.slice.call(i,o,u)}var O=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},L=/&/g,U=/</g,J=/>/g,q=/"/g,G=/'/g,j=/\x00/g,de=/[\x00&<>"']/;function te(i,o){return i<o?-1:i>o?1:0}function ae(i){return de.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(L,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(U,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(J,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(q,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(G,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(j,"&#0;"))),i}function Ee(i,o,u){for(var c in i)o.call(u,i[c],c,i)}function Oe(i){var o={},u;for(u in i)o[u]=i[u];return o}var tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $e(i,o){for(var u,c,f=1;f<arguments.length;f++){c=arguments[f];for(u in c)i[u]=c[u];for(var m=0;m<tt.length;m++)u=tt[m],Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])}}var st="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function $t(){}$t.prototype.next=function(){throw st},$t.prototype.ha=function(){return this};function er(i){if(i instanceof $t)return i;if(typeof i.ha=="function")return i.ha(!1);if(x(i)){var o=0,u=new $t;return u.next=function(){for(;;){if(o>=i.length)throw st;if(o in i)return i[o++];o++}},u}throw Error("Not implemented")}function qc(i,o){if(x(i))try{Qe(i,o,void 0)}catch(u){if(u!==st)throw u}else{i=er(i);try{for(;;)o.call(void 0,i.next(),void 0,i)}catch(u){if(u!==st)throw u}}}function _s(i){if(x(i))return A(i);i=er(i);var o=[];return qc(i,function(u){o.push(u)}),o}function ws(i,o){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var c=0;c<u;c+=2)this.set(arguments[c],arguments[c+1])}else if(i)if(i instanceof ws)for(u=i.ja(),c=0;c<u.length;c++)this.set(u[c],i.get(u[c]));else for(c in i)this.set(c,i[c])}t=ws.prototype,t.la=function(){zt(this);for(var i=[],o=0;o<this.a.length;o++)i.push(this.g[this.a[o]]);return i},t.ja=function(){return zt(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function zt(i){if(i.h!=i.a.length){for(var o=0,u=0;o<i.a.length;){var c=i.a[o];Yt(i.g,c)&&(i.a[u++]=c),o++}i.a.length=u}if(i.h!=i.a.length){var f={};for(u=o=0;o<i.a.length;)c=i.a[o],Yt(f,c)||(i.a[u++]=c,f[c]=1),o++;i.a.length=u}}t.get=function(i,o){return Yt(this.g,i)?this.g[i]:o},t.set=function(i,o){Yt(this.g,i)||(this.h++,this.a.push(i),this.j++),this.g[i]=o},t.forEach=function(i,o){for(var u=this.ja(),c=0;c<u.length;c++){var f=u[c],m=this.get(f);i.call(o,m,f,this)}},t.ha=function(i){zt(this);var o=0,u=this.j,c=this,f=new $t;return f.next=function(){if(u!=c.j)throw Error("The map has changed since the iterator was created");if(o>=c.a.length)throw st;var m=c.a[o++];return i?m:c.g[m]},f};function Yt(i,o){return Object.prototype.hasOwnProperty.call(i,o)}var Wc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function v2(i,o){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var c=i[u].indexOf("="),f=null;if(0<=c){var m=i[u].substring(0,c);f=i[u].substring(c+1)}else m=i[u];o(m,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}function Z_(i,o,u,c){for(var f=u.length;0<=(o=i.indexOf(u,o))&&o<c;){var m=i.charCodeAt(o-1);if((m==38||m==63)&&(m=i.charCodeAt(o+f),!m||m==61||m==38||m==35))return o;o+=f+1}return-1}var e0=/#|$/;function Kc(i,o){var u=i.search(e0),c=Z_(i,0,o,u);if(0>c)return null;var f=i.indexOf("&",c);return(0>f||f>u)&&(f=u),c+=o.length+1,decodeURIComponent(i.substr(c,f-c).replace(/\+/g," "))}var y2=/[?&]($|#)/;function Rr(i,o){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;i instanceof Rr?(this.i=w(o)?o:i.i,Cp(this,i.j),this.A=i.A,this.h=i.h,Pp(this,i.C),this.g=i.g,kp(this,i0(i.a)),this.s=i.s):i&&(u=String(i).match(Wc))?(this.i=!!o,Cp(this,u[1]||"",!0),this.A=ul(u[2]||""),this.h=ul(u[3]||"",!0),Pp(this,u[4]),this.g=ul(u[5]||"",!0),kp(this,u[6]||"",!0),this.s=ul(u[7]||"")):(this.i=!!o,this.a=new hl(null,this.i))}Rr.prototype.toString=function(){var i=[],o=this.j;o&&i.push(cl(o,t0,!0),":");var u=this.h;return(u||o=="file")&&(i.push("//"),(o=this.A)&&i.push(cl(o,t0,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&i.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&i.push("/"),i.push(cl(u,u.charAt(0)=="/"?E2:w2,!0))),(u=this.a.toString())&&i.push("?",u),(u=this.s)&&i.push("#",cl(u,I2)),i.join("")};function Cp(i,o,u){i.j=u?ul(o,!0):o,i.j&&(i.j=i.j.replace(/:$/,""))}function Pp(i,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);i.C=o}else i.C=null}function kp(i,o,u){o instanceof hl?(i.a=o,T2(i.a,i.i)):(u||(o=cl(o,b2)),i.a=new hl(o,i.i))}function Op(i){return i instanceof Rr?new Rr(i):new Rr(i,void 0)}function ul(i,o){return i?o?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function cl(i,o,u){return E(i)?(i=encodeURI(i).replace(o,_2),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function _2(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var t0=/[#\/\?@]/g,w2=/[#\?:]/g,E2=/[#\?]/g,b2=/[#\?@]/g,I2=/#/g;function hl(i,o){this.g=this.a=null,this.h=i||null,this.j=!!o}function Cr(i){i.a||(i.a=new ws,i.g=0,i.h&&v2(i.h,function(o,u){i.add(decodeURIComponent(o.replace(/\+/g," ")),u)}))}t=hl.prototype,t.add=function(i,o){Cr(this),this.h=null,i=bo(this,i);var u=this.a.get(i);return u||this.a.set(i,u=[]),u.push(o),this.g+=1,this};function Es(i,o){Cr(i),o=bo(i,o),Yt(i.a.g,o)&&(i.h=null,i.g-=i.a.get(o).length,i=i.a,Yt(i.g,o)&&(delete i.g[o],i.h--,i.j++,i.a.length>2*i.h&&zt(i)))}t.clear=function(){this.a=this.h=null,this.g=0};function n0(i,o){return Cr(i),o=bo(i,o),Yt(i.a.g,o)}t.forEach=function(i,o){Cr(this),this.a.forEach(function(u,c){Qe(u,function(f){i.call(o,f,c,this)},this)},this)},t.ja=function(){Cr(this);for(var i=this.a.la(),o=this.a.ja(),u=[],c=0;c<o.length;c++)for(var f=i[c],m=0;m<f.length;m++)u.push(o[c]);return u},t.la=function(i){Cr(this);var o=[];if(E(i))n0(this,i)&&(o=T(o,this.a.get(bo(this,i))));else{i=this.a.la();for(var u=0;u<i.length;u++)o=T(o,i[u])}return o},t.set=function(i,o){return Cr(this),this.h=null,i=bo(this,i),n0(this,i)&&(this.g-=this.a.get(i).length),this.a.set(i,[o]),this.g+=1,this},t.get=function(i,o){return i?(i=this.la(i),0<i.length?String(i[0]):o):o},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var i=[],o=this.a.ja(),u=0;u<o.length;u++){var c=o[u],f=encodeURIComponent(String(c));c=this.la(c);for(var m=0;m<c.length;m++){var y=f;c[m]!==""&&(y+="="+encodeURIComponent(String(c[m]))),i.push(y)}}return this.h=i.join("&")};function i0(i){var o=new hl;return o.h=i.h,i.a&&(o.a=new ws(i.a),o.g=i.g),o}function bo(i,o){return o=String(o),i.j&&(o=o.toLowerCase()),o}function T2(i,o){o&&!i.j&&(Cr(i),i.h=null,i.a.forEach(function(u,c){var f=c.toLowerCase();c!=f&&(Es(this,c),Es(this,f),0<u.length&&(this.h=null,this.a.set(bo(this,f),A(u)),this.g+=u.length))},i)),i.j=o}function bs(i){this.a=Op(i)}function A2(i,o){o?i.a.a.set(kt.Sa,o):Es(i.a.a,kt.Sa)}function S2(i,o){o!==null?i.a.a.set(kt.Qa,o?"1":"0"):Es(i.a.a,kt.Qa)}function r0(i){return i.a.a.get(kt.Pa)||null}function s0(i,o){o?i.a.a.set(kt.PROVIDER_ID,o):Es(i.a.a,kt.PROVIDER_ID)}bs.prototype.toString=function(){return this.a.toString()};var kt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Io;e:{var o0=v.navigator;if(o0){var a0=o0.userAgent;if(a0){Io=a0;break e}}Io=""}function xe(i){return Io.indexOf(i)!=-1}function l0(){return(xe("Chrome")||xe("CriOS"))&&!xe("Edge")}function Np(i){return Np[" "](i),i}Np[" "]=b;function R2(i,o){var u=k2;return Object.prototype.hasOwnProperty.call(u,i)?u[i]:u[i]=o(i)}var u0=xe("Opera"),yt=xe("Trident")||xe("MSIE"),Pr=xe("Edge"),C2=Pr||yt,si=xe("Gecko")&&!(Io.toLowerCase().indexOf("webkit")!=-1&&!xe("Edge"))&&!(xe("Trident")||xe("MSIE"))&&!xe("Edge"),Rn=Io.toLowerCase().indexOf("webkit")!=-1&&!xe("Edge"),P2=Rn&&xe("Mobile"),kr=xe("Macintosh");function c0(){var i=v.document;return i?i.documentMode:void 0}var Gc;e:{var Dp="",xp=function(){var i=Io;if(si)return/rv:([^\);]+)(\)|;)/.exec(i);if(Pr)return/Edge\/([\d\.]+)/.exec(i);if(yt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(Rn)return/WebKit\/(\S+)/.exec(i);if(u0)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(xp&&(Dp=xp?xp[1]:""),yt){var Lp=c0();if(Lp!=null&&Lp>parseFloat(Dp)){Gc=String(Lp);break e}}Gc=Dp}var k2={};function Is(i){return R2(i,function(){for(var o=0,u=O(String(Gc)).split("."),c=O(String(i)).split("."),f=Math.max(u.length,c.length),m=0;o==0&&m<f;m++){var y=u[m]||"",I=c[m]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],y[0].length==0&&I[0].length==0)break;o=te(y[1].length==0?0:parseInt(y[1],10),I[1].length==0?0:parseInt(I[1],10))||te(y[2].length==0,I[2].length==0)||te(y[2],I[2]),y=y[3],I=I[3]}while(o==0)}return 0<=o})}var dl,h0=v.document;dl=h0&&yt?c0()||(h0.compatMode=="CSS1Compat"?parseInt(Gc,10):5):void 0;function To(i,o){this.a=i===f0&&o||"",this.g=d0}To.prototype.ma=!0,To.prototype.ka=function(){return this.a},To.prototype.toString=function(){return"Const{"+this.a+"}"};var d0={},f0={};function Ts(){this.a="",this.h=m0}Ts.prototype.ma=!0,Ts.prototype.ka=function(){return this.a.toString()},Ts.prototype.g=function(){return 1},Ts.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function p0(i){return i instanceof Ts&&i.constructor===Ts&&i.h===m0?i.a:(Ye("expected object of type TrustedResourceUrl, got '"+i+"' of type "+P(i)),"type_error:TrustedResourceUrl")}function O2(){var i=bk;i instanceof To&&i.constructor===To&&i.g===d0?i=i.a:(Ye("expected object of type Const, got '"+i+"'"),i="type_error:Const");var o=new Ts;return o.a=i,o}var m0={};function Bn(){this.a="",this.h=y0}Bn.prototype.ma=!0,Bn.prototype.ka=function(){return this.a.toString()},Bn.prototype.g=function(){return 1},Bn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Or(i){return i instanceof Bn&&i.constructor===Bn&&i.h===y0?i.a:(Ye("expected object of type SafeUrl, got '"+i+"' of type "+P(i)),"type_error:SafeUrl")}var g0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function zc(i){return i instanceof Bn?i:(i=typeof i=="object"&&i.ma?i.ka():String(i),g0.test(i)||(i="about:invalid#zClosurez"),Mp(i))}function v0(i){return i instanceof Bn?i:(i=typeof i=="object"&&i.ma?i.ka():String(i),g0.test(i)||(i="about:invalid#zClosurez"),Mp(i))}var y0={};function Mp(i){var o=new Bn;return o.a=i,o}Mp("about:blank");function Ao(){this.a="",this.g=_0}Ao.prototype.ma=!0;var _0={};Ao.prototype.ka=function(){return this.a},Ao.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Nr(){this.a="",this.j=w0,this.h=null}Nr.prototype.g=function(){return this.h},Nr.prototype.ma=!0,Nr.prototype.ka=function(){return this.a.toString()},Nr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Yc(i){return i instanceof Nr&&i.constructor===Nr&&i.j===w0?i.a:(Ye("expected object of type SafeHtml, got '"+i+"' of type "+P(i)),"type_error:SafeHtml")}var w0={};function fl(i,o){var u=new Nr;return u.a=i,u.h=o,u}fl("<!DOCTYPE html>",0);var N2=fl("",0);fl("<br>",0);var D2=function(i){var o=!1,u;return function(){return o||(u=i(),o=!0),u}}(function(){if(typeof document>"u")return!1;var i=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),i.appendChild(o),i.firstChild?(o=i.firstChild.firstChild,i.innerHTML=Yc(N2),!o.parentElement):!1});function x2(i,o){if(i.src=p0(o),_===null)e:{if(o=v.document,(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&R.test(o)){_=o;break e}_=""}o=_,o&&i.setAttribute("nonce",o)}function So(i,o){o=o instanceof Bn?o:v0(o),i.assign(Or(o))}function Dr(i,o){this.a=w(i)?i:0,this.g=w(o)?o:0}Dr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Dr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Dr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Dr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Vp(i,o){this.width=i,this.height=o}t=Vp.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Qc(i){return i?new Bp(pl(i)):ge||(ge=new Bp)}function Fp(i,o){var u=o||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+i):E0(document,i,o)}function Up(i,o){var u=o||document;if(u.getElementsByClassName)i=u.getElementsByClassName(i)[0];else{u=document;var c=o||u;i=c.querySelectorAll&&c.querySelector&&i?c.querySelector(i?"."+i:""):E0(u,i,o)[0]||null}return i||null}function E0(i,o,u){var c;if(i=u||i,i.querySelectorAll&&i.querySelector&&o)return i.querySelectorAll(o?"."+o:"");if(o&&i.getElementsByClassName){var f=i.getElementsByClassName(o);return f}if(f=i.getElementsByTagName("*"),o){var m={};for(u=c=0;i=f[u];u++){var y=i.className;typeof y.split=="function"&&N(y.split(/\s+/),o)&&(m[c++]=i)}return m.length=c,m}return f}function L2(i,o){Ee(o,function(u,c){u&&typeof u=="object"&&u.ma&&(u=u.ka()),c=="style"?i.style.cssText=u:c=="class"?i.className=u:c=="for"?i.htmlFor=u:b0.hasOwnProperty(c)?i.setAttribute(b0[c],u):c.lastIndexOf("aria-",0)==0||c.lastIndexOf("data-",0)==0?i.setAttribute(c,u):i[c]=u})}var b0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Jc(i){return i.scrollingElement?i.scrollingElement:(Rn||i.compatMode!="CSS1Compat")&&i.body||i.documentElement}function As(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function pl(i){return i.nodeType==9?i:i.ownerDocument||i.document}function jp(i,o){if("textContent"in i)i.textContent=o;else if(i.nodeType==3)i.data=String(o);else if(i.firstChild&&i.firstChild.nodeType==3){for(;i.lastChild!=i.firstChild;)i.removeChild(i.lastChild);i.firstChild.data=String(o)}else{for(var u;u=i.firstChild;)i.removeChild(u);i.appendChild(pl(i).createTextNode(String(o)))}}function I0(i,o){return o?M2(i,function(u){return!o||E(u.className)&&N(u.className.split(/\s+/),o)}):null}function M2(i,o){for(var u=0;i;){if(o(i))return i;i=i.parentNode,u++}return null}function Bp(i){this.a=i||v.document||document}Bp.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var Xc={Fc:!0},T0={Hc:!0},V2={Ec:!0},A0={Gc:!0};function xr(){throw Error("Do not instantiate directly")}xr.prototype.va=null,xr.prototype.toString=function(){return this.content};function ml(i,o,u,c){if(i=i(o||j2,void 0,u),c=(c||Qc()).a.createElement("DIV"),i=F2(i),i.match(U2),i=fl(i,null),D2())for(;c.lastChild;)c.removeChild(c.lastChild);return c.innerHTML=Yc(i),c.childNodes.length==1&&(i=c.firstChild,i.nodeType==1&&(c=i)),c}function F2(i){if(!ie(i))return ae(String(i));if(i instanceof xr){if(i.fa===Xc)return i.content;if(i.fa===A0)return ae(i.content)}return Ye("Soy template output is unsafe for use as HTML: "+i),"zSoyz"}var U2=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,j2={};function B2(i){if(i!=null)switch(i.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Zc(){xr.call(this)}W(Zc,xr),Zc.prototype.fa=Xc;function _e(i){return i!=null&&i.fa===Xc?i:i instanceof Nr?ee(Yc(i).toString(),i.g()):ee(ae(String(String(i))),B2(i))}function eh(){xr.call(this)}W(eh,xr),eh.prototype.fa=T0,eh.prototype.va=1;function th(i,o){this.content=String(i),this.va=o??null}W(th,xr),th.prototype.fa=A0;function He(i){return new th(i,void 0)}var ee=function(i){function o(u){this.content=u}return o.prototype=i.prototype,function(u,c){return u=new o(String(u)),c!==void 0&&(u.va=c),u}}(Zc),$2=function(i){function o(u){this.content=u}return o.prototype=i.prototype,function(u){return new o(String(u))}}(eh);function H2(i){function o(){}var u={label:_t("New password")};o.prototype=i,i=new o;for(var c in u)i[c]=u[c];return i}function _t(i){return(i=String(i))?new th(i,void 0):""}var S0=function(i){function o(u){this.content=u}return o.prototype=i.prototype,function(u,c){return u=String(u),u?(u=new o(u),c!==void 0&&(u.va=c),u):""}}(Zc);function Cn(i){return i!=null&&i.fa===Xc?String(String(i.content).replace(Q2,"").replace(J2,"&lt;")).replace(G2,W2):ae(String(i))}function Ss(i){return i!=null&&i.fa===T0?i=String(i).replace(Hp,$p):i instanceof Bn?i=String(Or(i).toString()).replace(Hp,$p):(i=String(i),Y2.test(i)?i=i.replace(Hp,$p):(Ye("Bad value `%s` for |filterNormalizeUri",[i]),i="#zSoyz")),i}function R0(i){return i!=null&&i.fa===V2?i=i.content:i==null?i="":i instanceof Ao?i instanceof Ao&&i.constructor===Ao&&i.g===_0?i=i.a:(Ye("expected object of type SafeStyle, got '"+i+"' of type "+P(i)),i="type_error:SafeStyle"):(i=String(i),z2.test(i)||(Ye("Bad value `%s` for |filterCssValue",[i]),i="zSoyz")),i}var q2={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function W2(i){return q2[i]}var K2={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function $p(i){return K2[i]}var G2=/[\x00\x22\x27\x3c\x3e]/g,Hp=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,z2=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Y2=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Q2=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,J2=/</g;function qp(){return He("Enter a valid phone number")}function C0(){return He("Unable to send password reset code to specified email")}function P0(){return He("Something went wrong. Please try again.")}function k0(){return He("This email already exists without any means of sign-in. Please reset the password to recover.")}function O0(i){i=i||{};var o="";switch(i.code){case"invalid-argument":o+="Client specified an invalid argument.";break;case"invalid-configuration":o+="Client specified an invalid project configuration.";break;case"failed-precondition":o+="Request can not be executed in the current system state.";break;case"out-of-range":o+="Client specified an invalid range.";break;case"unauthenticated":o+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":o+="Client does not have sufficient permission.";break;case"not-found":o+="Specified resource is not found.";break;case"aborted":o+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":o+="The resource that a client tried to create already exists.";break;case"resource-exhausted":o+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":o+="Request cancelled by the client.";break;case"data-loss":o+="Unrecoverable data loss or data corruption.";break;case"unknown":o+="Unknown server error.";break;case"internal":o+="Internal server error.";break;case"not-implemented":o+="API method not implemented by the server.";break;case"unavailable":o+="Service unavailable.";break;case"deadline-exceeded":o+="Request deadline exceeded.";break;case"auth/user-disabled":o+="The user account has been disabled by an administrator.";break;case"auth/timeout":o+="The operation has timed out.";break;case"auth/too-many-requests":o+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":o+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":o+="A network error has occurred. Try again later.";break;case"restart-process":o+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":o+="No sign-in provider is available for the given email, please try with a different email."}return He(o)}function N0(){return He("Please login again to perform this operation")}function gl(i,o,u){var c=Error.call(this);if(this.message=c.message,"stack"in c&&(this.stack=c.stack),this.code=X2+i,!(i=o)){switch(i="",this.code){case"firebaseui/merge-conflict":i+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:i+=P0()}i=He(i).toString()}this.message=i||"",this.credential=u||null}h(gl,Error),gl.prototype.toJSON=function(){return{code:this.code,message:this.message}};var X2="firebaseui/";function Rs(){this.T=this.T,this.C=this.C}var Z2=0;Rs.prototype.T=!1,Rs.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Z2!=0)&&(this[pe]||(this[pe]=++oe))};function vl(i,o){i.T?w(void 0)?o.call(void 0):o():(i.C||(i.C=[]),i.C.push(w(void 0)?le(o,void 0):o))}Rs.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yl(i){i&&typeof i.m=="function"&&i.m()}var ek=Object.freeze||function(i){return i},D0=!yt||9<=Number(dl),tk=yt&&!Is("9"),nk=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var i=!1,o=Object.defineProperty({},"passive",{get:function(){i=!0}});try{v.addEventListener("test",b,o),v.removeEventListener("test",b,o)}catch{}return i}();function tr(i,o){this.type=i,this.g=this.target=o,this.h=!1,this.qb=!0}tr.prototype.stopPropagation=function(){this.h=!0},tr.prototype.preventDefault=function(){this.qb=!1};function Pn(i,o){if(tr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var u=this.type=i.type,c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=o,o=i.relatedTarget){if(si){e:{try{Np(o.nodeName);var f=!0;break e}catch{}f=!1}f||(o=null)}}else u=="mouseover"?o=i.fromElement:u=="mouseout"&&(o=i.toElement);this.relatedTarget=o,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.keyCode=i.keyCode||0,this.key=i.key||"",this.j=i.charCode||(u=="keypress"?i.keyCode:0),this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=E(i.pointerType)?i.pointerType:ik[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}W(Pn,tr);var ik=ek({2:"touch",3:"pen",4:"mouse"});Pn.prototype.stopPropagation=function(){Pn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Pn.prototype.preventDefault=function(){Pn.K.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,tk)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}};var _l="closure_listenable_"+(1e6*Math.random()|0),rk=0;function sk(i,o,u,c,f){this.listener=i,this.proxy=null,this.src=o,this.type=u,this.capture=!!c,this.La=f,this.key=++rk,this.sa=this.Ia=!1}function nh(i){i.sa=!0,i.listener=null,i.proxy=null,i.src=null,i.La=null}function ih(i){this.src=i,this.a={},this.g=0}ih.prototype.add=function(i,o,u,c,f){var m=i.toString();i=this.a[m],i||(i=this.a[m]=[],this.g++);var y=Kp(i,o,c,f);return-1<y?(o=i[y],u||(o.Ia=!1)):(o=new sk(o,this.src,m,!!c,f),o.Ia=u,i.push(o)),o};function Wp(i,o){var u=o.type;u in i.a&&Z(i.a[u],o)&&(nh(o),i.a[u].length==0&&(delete i.a[u],i.g--))}function Kp(i,o,u,c){for(var f=0;f<i.length;++f){var m=i[f];if(!m.sa&&m.listener==o&&m.capture==!!u&&m.La==c)return f}return-1}var Gp="closure_lm_"+(1e6*Math.random()|0),zp={};function oi(i,o,u,c,f){if(c&&c.once)return wl(i,o,u,c,f);if(F(o)){for(var m=0;m<o.length;m++)oi(i,o[m],u,c,f);return null}return u=Qp(u),i&&i[_l]?i.J.add(String(o),u,!1,ie(c)?!!c.capture:!!c,f):x0(i,o,u,!1,c,f)}function x0(i,o,u,c,f,m){if(!o)throw Error("Invalid event type");var y=ie(f)?!!f.capture:!!f,I=rh(i);if(I||(i[Gp]=I=new ih(i)),u=I.add(o,u,c,y,m),u.proxy)return u;if(c=ok(),u.proxy=c,c.src=i,c.listener=u,i.addEventListener)nk||(f=y),f===void 0&&(f=!1),i.addEventListener(o.toString(),c,f);else if(i.attachEvent)i.attachEvent(L0(o.toString()),c);else if(i.addListener&&i.removeListener)i.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return u}function ok(){var i=ak,o=D0?function(u){return i.call(o.src,o.listener,u)}:function(u){if(u=i.call(o.src,o.listener,u),!u)return u};return o}function wl(i,o,u,c,f){if(F(o)){for(var m=0;m<o.length;m++)wl(i,o[m],u,c,f);return null}return u=Qp(u),i&&i[_l]?i.J.add(String(o),u,!0,ie(c)?!!c.capture:!!c,f):x0(i,o,u,!0,c,f)}function Cs(i,o,u,c,f){if(F(o))for(var m=0;m<o.length;m++)Cs(i,o[m],u,c,f);else c=ie(c)?!!c.capture:!!c,u=Qp(u),i&&i[_l]?(i=i.J,o=String(o).toString(),o in i.a&&(m=i.a[o],u=Kp(m,u,c,f),-1<u&&(nh(m[u]),K(m,u),m.length==0&&(delete i.a[o],i.g--)))):i&&(i=rh(i))&&(o=i.a[o.toString()],i=-1,o&&(i=Kp(o,u,c,f)),(u=-1<i?o[i]:null)&&Lr(u))}function Lr(i){if(typeof i!="number"&&i&&!i.sa){var o=i.src;if(o&&o[_l])Wp(o.J,i);else{var u=i.type,c=i.proxy;o.removeEventListener?o.removeEventListener(u,c,i.capture):o.detachEvent?o.detachEvent(L0(u),c):o.addListener&&o.removeListener&&o.removeListener(c),(u=rh(o))?(Wp(u,i),u.g==0&&(u.src=null,o[Gp]=null)):nh(i)}}}function L0(i){return i in zp?zp[i]:zp[i]="on"+i}function M0(i,o,u,c){var f=!0;if((i=rh(i))&&(o=i.a[o.toString()]))for(o=o.concat(),i=0;i<o.length;i++){var m=o[i];m&&m.capture==u&&!m.sa&&(m=V0(m,c),f=f&&m!==!1)}return f}function V0(i,o){var u=i.listener,c=i.La||i.src;return i.Ia&&Lr(i),u.call(c,o)}function ak(i,o){if(i.sa)return!0;if(!D0){if(!o)e:{o=["window","event"];for(var u=v,c=0;c<o.length;c++)if(u=u[o[c]],u==null){o=null;break e}o=u}if(c=o,o=new Pn(c,this),u=!0,!(0>c.keyCode||c.returnValue!=null)){e:{var f=!1;if(c.keyCode==0)try{c.keyCode=-1;break e}catch{f=!0}(f||c.returnValue==null)&&(c.returnValue=!0)}for(c=[],f=o.g;f;f=f.parentNode)c.push(f);for(i=i.type,f=c.length-1;!o.h&&0<=f;f--){o.g=c[f];var m=M0(c[f],i,!0,o);u=u&&m}for(f=0;!o.h&&f<c.length;f++)o.g=c[f],m=M0(c[f],i,!1,o),u=u&&m}return u}return V0(i,new Pn(o,this))}function rh(i){return i=i[Gp],i instanceof ih?i:null}var Yp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qp(i){return z(i)?i:(i[Yp]||(i[Yp]=function(o){return i.handleEvent(o)}),i[Yp])}function Ot(){Rs.call(this),this.J=new ih(this),this.wb=this,this.Ha=null}W(Ot,Rs),Ot.prototype[_l]=!0,Ot.prototype.Za=function(i){this.Ha=i},Ot.prototype.removeEventListener=function(i,o,u,c){Cs(this,i,o,u,c)};function Mr(i,o){var u,c=i.Ha;if(c)for(u=[];c;c=c.Ha)u.push(c);if(i=i.wb,c=o.type||o,E(o))o=new tr(o,i);else if(o instanceof tr)o.target=o.target||i;else{var f=o;o=new tr(c,i),$e(o,f)}if(f=!0,u)for(var m=u.length-1;!o.h&&0<=m;m--){var y=o.g=u[m];f=sh(y,c,!0,o)&&f}if(o.h||(y=o.g=i,f=sh(y,c,!0,o)&&f,o.h||(f=sh(y,c,!1,o)&&f)),u)for(m=0;!o.h&&m<u.length;m++)y=o.g=u[m],f=sh(y,c,!1,o)&&f;return f}Ot.prototype.o=function(){if(Ot.K.o.call(this),this.J){var i=this.J,o;for(o in i.a){for(var u=i.a[o],c=0;c<u.length;c++)nh(u[c]);delete i.a[o],i.g--}}this.Ha=null};function sh(i,o,u,c){if(o=i.J.a[String(o)],!o)return!0;o=o.concat();for(var f=!0,m=0;m<o.length;++m){var y=o[m];if(y&&!y.sa&&y.capture==u){var I=y.listener,k=y.La||y.src;y.Ia&&Wp(i.J,y),f=I.call(k,c)!==!1&&f}}return f&&c.qb!=0}var $n={},F0=0;function U0(i,o){if(!i)throw Error("Event target element must be provided!");if(i=Jp(i),$n[i]&&$n[i].length)for(var u=0;u<$n[i].length;u++)Mr($n[i][u],o)}function lk(i){var o=Jp(i.N());$n[o]&&$n[o].length&&(ue($n[o],function(u){return u==i}),$n[o].length||delete $n[o])}function Jp(i){return typeof i.a>"u"&&(i.a=F0,F0++),i.a}function oh(i){if(!i)throw Error("Event target element must be provided!");Ot.call(this),this.a=i}h(oh,Ot),oh.prototype.N=function(){return this.a},oh.prototype.register=function(){var i=Jp(this.N());$n[i]?N($n[i],this)||$n[i].push(this):$n[i]=[this]};function j0(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function Xp(i,o){this.h=i,this.j=o,this.g=0,this.a=null}Xp.prototype.get=function(){if(0<this.g){this.g--;var i=this.a;this.a=i.next,i.next=null}else i=this.h();return i};function B0(i,o){i.j(o),100>i.g&&(i.g++,o.next=i.a,i.a=o)}function $0(){this.g=this.a=null}var H0=new Xp(function(){return new Zp},function(i){i.reset()});$0.prototype.add=function(i,o){var u=H0.get();u.set(i,o),this.g?this.g.next=u:this.a=u,this.g=u};function uk(){var i=W0,o=null;return i.a&&(o=i.a,i.a=i.a.next,i.a||(i.g=null),o.next=null),o}function Zp(){this.next=this.g=this.a=null}Zp.prototype.set=function(i,o){this.a=i,this.g=o,this.next=null},Zp.prototype.reset=function(){this.next=this.g=this.a=null};function q0(i){v.setTimeout(function(){throw i},0)}var em;function ck(){var i=v.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!xe("Presto")&&(i=function(){var f=document.createElement("IFRAME");f.style.display="none",f.src="",document.documentElement.appendChild(f);var m=f.contentWindow;f=m.document,f.open(),f.write(""),f.close();var y="callImmediate"+Math.random(),I=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;f=le(function(k){(I=="*"||k.origin==I)&&k.data==y&&this.port1.onmessage()},this),m.addEventListener("message",f,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(y,I)}}}),typeof i<"u"&&!xe("Trident")&&!xe("MSIE")){var o=new i,u={},c=u;return o.port1.onmessage=function(){if(w(u.next)){u=u.next;var f=u.gb;u.gb=null,f()}},function(f){c.next={gb:f},c=c.next,o.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(f){var m=document.createElement("SCRIPT");m.onreadystatechange=function(){m.onreadystatechange=null,m.parentNode.removeChild(m),m=null,f(),f=null},document.documentElement.appendChild(m)}:function(f){v.setTimeout(f,0)}}function tm(i,o){ah||hk(),nm||(ah(),nm=!0),W0.add(i,o)}var ah;function hk(){if(v.Promise&&v.Promise.resolve){var i=v.Promise.resolve(void 0);ah=function(){i.then(K0)}}else ah=function(){var o=K0;!z(v.setImmediate)||v.Window&&v.Window.prototype&&!xe("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(em||(em=ck()),em(o)):v.setImmediate(o)}}var nm=!1,W0=new $0;function K0(){for(var i;i=uk();){try{i.a.call(i.g)}catch(o){q0(o)}B0(H0,i)}nm=!1}function Nt(i){if(this.a=Ps,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,i!=b)try{var o=this;i.call(void 0,function(u){ks(o,El,u)},function(u){if(!(u instanceof Co))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}ks(o,nr,u)})}catch(u){ks(this,nr,u)}}var Ps=0,El=2,nr=3;function G0(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}G0.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var z0=new Xp(function(){return new G0},function(i){i.reset()});function im(i,o,u){var c=z0.get();return c.s=i,c.g=o,c.j=u,c}function wt(i){if(i instanceof Nt)return i;var o=new Nt(b);return ks(o,El,i),o}function Ro(i){return new Nt(function(o,u){u(i)})}Nt.prototype.then=function(i,o,u){return Q0(this,z(i)?i:null,z(o)?o:null,u)},Nt.prototype.$goog_Thenable=!0,t=Nt.prototype,t.fc=function(i,o){return i=im(i,i,o),i.h=!0,rm(this,i),this},t.Ca=function(i,o){return Q0(this,null,i,o)},t.cancel=function(i){this.a==Ps&&tm(function(){var o=new Co(i);Y0(this,o)},this)};function Y0(i,o){if(i.a==Ps)if(i.h){var u=i.h;if(u.g){for(var c=0,f=null,m=null,y=u.g;y&&(y.h||(c++,y.a==i&&(f=y),!(f&&1<c)));y=y.next)f||(m=y);f&&(u.a==Ps&&c==1?Y0(u,o):(m?(c=m,c.next==u.j&&(u.j=c),c.next=c.next.next):X0(u),Z0(u,f,nr,o)))}i.h=null}else ks(i,nr,o)}function rm(i,o){i.g||i.a!=El&&i.a!=nr||J0(i),i.j?i.j.next=o:i.g=o,i.j=o}function Q0(i,o,u,c){var f=im(null,null,null);return f.a=new Nt(function(m,y){f.s=o?function(I){try{var k=o.call(c,I);m(k)}catch($){y($)}}:m,f.g=u?function(I){try{var k=u.call(c,I);!w(k)&&I instanceof Co?y(I):m(k)}catch($){y($)}}:y}),f.a.h=i,rm(i,f),f.a}t.hc=function(i){this.a=Ps,ks(this,El,i)},t.ic=function(i){this.a=Ps,ks(this,nr,i)};function ks(i,o,u){if(i.a==Ps){i===u&&(o=nr,u=new TypeError("Promise cannot resolve to itself")),i.a=1;e:{var c=u,f=i.hc,m=i.ic;if(c instanceof Nt){rm(c,im(f||b,m||null,i));var y=!0}else if(j0(c))c.then(f,m,i),y=!0;else{if(ie(c))try{var I=c.then;if(z(I)){dk(c,I,f,m,i),y=!0;break e}}catch(k){m.call(i,k),y=!0;break e}y=!1}}y||(i.A=u,i.a=o,i.h=null,J0(i),o!=nr||u instanceof Co||fk(i,u))}}function dk(i,o,u,c,f){function m(k){I||(I=!0,c.call(f,k))}function y(k){I||(I=!0,u.call(f,k))}var I=!1;try{o.call(i,y,m)}catch(k){m(k)}}function J0(i){i.i||(i.i=!0,tm(i.Hb,i))}function X0(i){var o=null;return i.g&&(o=i.g,i.g=o.next,o.next=null),i.g||(i.j=null),o}t.Hb=function(){for(var i;i=X0(this);)Z0(this,i,this.a,this.A);this.i=!1};function Z0(i,o,u,c){if(u==nr&&o.g&&!o.h)for(;i&&i.s;i=i.h)i.s=!1;if(o.a)o.a.h=null,ew(o,u,c);else try{o.h?o.s.call(o.j):ew(o,u,c)}catch(f){tw.call(null,f)}B0(z0,o)}function ew(i,o,u){o==El?i.s.call(i.j,u):i.g&&i.g.call(i.j,u)}function fk(i,o){i.s=!0,tm(function(){i.s&&tw.call(null,o)})}var tw=q0;function Co(i){X.call(this,i)}W(Co,X),Co.prototype.name="cancel";function nw(i,o,u){o||(o={}),u=u||window;var c=i instanceof Bn?i:zc(typeof i.href<"u"?i.href:String(i));i=o.target||i.target;var f=[];for(m in o)switch(m){case"width":case"height":case"top":case"left":f.push(m+"="+o[m]);break;case"target":case"noopener":case"noreferrer":break;default:f.push(m+"="+(o[m]?1:0))}var m=f.join(",");return(xe("iPhone")&&!xe("iPod")&&!xe("iPad")||xe("iPad")||xe("iPod"))&&u.navigator&&u.navigator.standalone&&i&&i!="_self"?(m=u.document.createElement("A"),c=c instanceof Bn?c:v0(c),m.href=Or(c),m.setAttribute("target",i),o.noreferrer&&m.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,u,1),m.dispatchEvent(o),u={}):o.noreferrer?(u=u.open("",i,m),o=Or(c).toString(),u&&(C2&&o.indexOf(";")!=-1&&(o="'"+o.replace(/'/g,"%27")+"'"),u.opener=null,o=fl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ae(o)+'">',null),u.document.write(Yc(o)),u.document.close())):(u=u.open(Or(c).toString(),i,m))&&o.noopener&&(u.opener=null),u}function iw(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Po(i){nw(i,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function lh(i,o){if(i=ie(i)&&i.nodeType==1?i:document.querySelector(String(i)),i==null)throw Error(o||"Cannot find element.");return i}function ir(){return window.location.href}function pk(){var i=null;return new Nt(function(o){v.document.readyState=="complete"?o():(i=function(){o()},wl(window,"load",i))}).Ca(function(o){throw Cs(window,"load",i),o})}function mk(){for(var i=32,o=[];0<i;)o.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return o.join("")}function gk(i,o,u){return u=u===void 0?{}:u,Object.keys(i).filter(function(c){return o.includes(c)}).reduce(function(c,f){return c[f]=i[f],c},u)}function Vr(i){var o=_k;this.s=[],this.T=o,this.O=i||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Vr.prototype.cancel=function(i){if(this.a)this.h instanceof Vr&&this.h.cancel();else{if(this.g){var o=this.g;delete this.g,i?o.cancel(i):(o.C--,0>=o.C&&o.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(i=new Il,uh(this),bl(this,!1,i))}},Vr.prototype.L=function(i,o){this.A=!1,bl(this,i,o)};function bl(i,o,u){i.a=!0,i.h=u,i.j=!o,ow(i)}function uh(i){if(i.a){if(!i.J)throw new ch;i.J=!1}}Vr.prototype.callback=function(i){uh(this),bl(this,!0,i)};function rw(i,o,u){i.s.push([o,u,void 0]),i.a&&ow(i)}Vr.prototype.then=function(i,o,u){var c,f,m=new Nt(function(y,I){c=y,f=I});return rw(this,c,function(y){y instanceof Il?m.cancel():f(y)}),m.then(i,o,u)},Vr.prototype.$goog_Thenable=!0;function sw(i){return Gt(i.s,function(o){return z(o[1])})}function ow(i){if(i.i&&i.a&&sw(i)){var o=i.i,u=hh[o];u&&(v.clearTimeout(u.a),delete hh[o]),i.i=0}i.g&&(i.g.C--,delete i.g),o=i.h;for(var c=u=!1;i.s.length&&!i.A;){var f=i.s.shift(),m=f[0],y=f[1];if(f=f[2],m=i.j?y:m)try{var I=m.call(f||i.O,o);w(I)&&(i.j=i.j&&(I==o||I instanceof Error),i.h=o=I),(j0(o)||typeof v.Promise=="function"&&o instanceof v.Promise)&&(c=!0,i.A=!0)}catch(k){o=k,i.j=!0,sw(i)||(u=!0)}}i.h=o,c&&(I=le(i.L,i,!0),c=le(i.L,i,!1),o instanceof Vr?(rw(o,I,c),o.l=!0):o.then(I,c)),u&&(o=new aw(o),hh[o.a]=o,i.i=o.a)}function ch(){X.call(this)}W(ch,X),ch.prototype.message="Deferred has already fired",ch.prototype.name="AlreadyCalledError";function Il(){X.call(this)}W(Il,X),Il.prototype.message="Deferred was canceled",Il.prototype.name="CanceledError";function aw(i){this.a=v.setTimeout(le(this.h,this),0),this.g=i}aw.prototype.h=function(){throw delete hh[this.a],this.g};var hh={};function vk(i){var o={},u=o.document||document,c=p0(i).toString(),f=document.createElement("SCRIPT"),m={rb:f,sb:void 0},y=new Vr(m),I=null,k=o.timeout!=null?o.timeout:5e3;return 0<k&&(I=window.setTimeout(function(){dh(f,!0);var $=new sm(Ek,"Timeout reached for loading script "+c);uh(y),bl(y,!1,$)},k),m.sb=I),f.onload=f.onreadystatechange=function(){f.readyState&&f.readyState!="loaded"&&f.readyState!="complete"||(dh(f,o.xc||!1,I),y.callback(null))},f.onerror=function(){dh(f,!0,I);var $=new sm(wk,"Error while loading script "+c);uh(y),bl(y,!1,$)},m=o.attributes||{},$e(m,{type:"text/javascript",charset:"UTF-8"}),L2(f,m),x2(f,i),yk(u).appendChild(f),y}function yk(i){var o=(i||document).getElementsByTagName("HEAD");return o&&o.length!=0?o[0]:i.documentElement}function _k(){if(this&&this.rb){var i=this.rb;i&&i.tagName=="SCRIPT"&&dh(i,!0,this.sb)}}function dh(i,o,u){u!=null&&v.clearTimeout(u),i.onload=b,i.onerror=b,i.onreadystatechange=b,o&&window.setTimeout(function(){As(i)},0)}var wk=0,Ek=1;function sm(i,o){var u="Jsloader error (code #"+i+")";o&&(u+=": "+o),X.call(this,u),this.code=i}W(sm,X);function Tl(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function om(i){this.a=i||Tl(),this.h=!1,this.g=null}om.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function lw(i,o,u){if(i.a&&o)return function(){return i.h=!0,new Nt(function(f){i.g=f,i.a.initialize({client_id:o,callback:f,auto_select:!u}),i.a.prompt()})}();if(o){var c=am.Xa().load().then(function(){return i.a=Tl(),lw(i,o,u)}).Ca(function(){return null});return wt(c)}return wt(null)}S(om);var bk=new To(f0,"https://accounts.google.com/gsi/client");function am(){this.a=null}am.prototype.load=function(){var i=this;if(this.a)return this.a;var o=O2();return Tl()?wt():this.a=pk().then(function(){if(!Tl())return new Nt(function(u,c){var f=setTimeout(function(){i.a=null,c(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(f),u()},wt(vk(o)).then(function(){Tl()&&u()}).Ca(function(m){clearTimeout(f),i.a=null,c(m)})})})},S(am);function lm(i,o){this.a=i,this.g=o||function(u){throw u}}lm.prototype.confirm=function(i){return wt(this.a.confirm(i)).Ca(this.g)};function um(i,o,u){this.reset(i,o,u,void 0,void 0)}um.prototype.a=null,um.prototype.reset=function(i,o,u,c,f){this.h=c||Tt(),this.j=i,this.s=o,this.g=u,delete this.a};function cm(i){this.s=i,this.a=this.h=this.j=this.g=null}function fh(i,o){this.name=i,this.value=o}fh.prototype.toString=function(){return this.name};var uw=new fh("SEVERE",1e3),cw=new fh("WARNING",900),hw=new fh("CONFIG",700);function dw(i){return i.j?i.j:i.g?dw(i.g):(Ye("Root logger has no level set."),null)}cm.prototype.log=function(i,o,u){if(i.value>=dw(this).value)for(z(o)&&(o=o()),i=new um(i,String(o),this.s),u&&(i.a=u),u=this;u;){var c=u,f=i;if(c.a)for(var m=0;o=c.a[m];m++)o(f);u=u.g}};var hm={},Al=null;function fw(){Al||(Al=new cm(""),hm[""]=Al,Al.j=hw)}function pw(i){fw();var o;if(!(o=hm[i])){o=new cm(i);var u=i.lastIndexOf("."),c=i.substr(u+1);u=pw(i.substr(0,u)),u.h||(u.h={}),u.h[c]=o,o.g=u,hm[i]=o}return o}function ph(){this.a=Tt()}var dm=null;ph.prototype.set=function(i){this.a=i},ph.prototype.reset=function(){this.set(Tt())},ph.prototype.get=function(){return this.a};function Sl(i){this.j=i||"",dm||(dm=new ph),this.s=dm}Sl.prototype.a=!0,Sl.prototype.g=!0,Sl.prototype.h=!1;function Os(i){return 10>i?"0"+i:String(i)}function Ik(i,o){i=(i.h-o)/1e3,o=i.toFixed(3);var u=0;if(1>i)u=2;else for(;100>i;)u++,i*=10;for(;0<u--;)o=" "+o;return o}function mw(i){Sl.call(this,i)}W(mw,Sl);function Tk(i,o){var u=[];if(u.push(i.j," "),i.g){var c=new Date(o.h);u.push("[",Os(c.getFullYear()-2e3)+Os(c.getMonth()+1)+Os(c.getDate())+" "+Os(c.getHours())+":"+Os(c.getMinutes())+":"+Os(c.getSeconds())+"."+Os(Math.floor(c.getMilliseconds()/10)),"] ")}return u.push("[",Ik(o,i.s.get()),"s] "),u.push("[",o.g,"] "),u.push(o.s),i.h&&(o=o.a)&&u.push(`
`,o instanceof Error?o.message:o.toString()),i.a&&u.push(`
`),u.join("")}function gw(){this.s=le(this.h,this),this.a=new mw,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}gw.prototype.h=function(i){function o(m){if(m){if(m.value>=uw.value)return"error";if(m.value>=cw.value)return"warn";if(m.value>=hw.value)return"log"}return"debug"}if(!this.j[i.g]){var u=Tk(this.a,i),c=Ak;if(c){var f=o(i.j);Sk(c,f,u,i.a)}}};var Ak=v.console;function Sk(i,o,u,c){i[o]?i[o](u,c||""):i.log(u,c||"")}function Hn(i,o){var u=fm;u&&u.log(uw,i,o)}var fm;fm=pw("firebaseui");var pm=new gw;if(pm.g!=1){var mh;fw(),mh=Al;var Rk=pm.s;mh.a||(mh.a=[]),mh.a.push(Rk),pm.g=!0}function Fr(i){var o=fm;o&&o.log(cw,i,void 0)}function vw(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=vw.prototype,t.set=function(i,o,u,c,f,m){if(/[;=\s]/.test(i))throw Error('Invalid cookie name "'+i+'"');if(/[;\r\n]/.test(o))throw Error('Invalid cookie value "'+o+'"');w(u)||(u=-1),f=f?";domain="+f:"",c=c?";path="+c:"",m=m?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Tt()+1e3*u).toUTCString(),this.a.cookie=i+"="+o+f+c+u+m},t.get=function(i,o){for(var u=i+"=",c=(this.a.cookie||"").split(";"),f=0,m;f<c.length;f++){if(m=O(c[f]),m.lastIndexOf(u,0)==0)return m.substr(u.length);if(m==i)return""}return o},t.ja=function(){return mm(this).keys},t.la=function(){return mm(this).values},t.clear=function(){for(var i=mm(this).keys,o=i.length-1;0<=o;o--){var u=i[o];this.get(u),this.set(u,"",0,void 0,void 0)}};function mm(i){i=(i.a.cookie||"").split(";");for(var o=[],u=[],c,f,m=0;m<i.length;m++)f=O(i[m]),c=f.indexOf("="),c==-1?(o.push(""),u.push(f)):(o.push(f.substring(0,c)),u.push(f.substring(c+1)));return{keys:o,values:u}}var gh=new vw;function yw(){}function ko(i,o,u,c){this.h=typeof i<"u"&&i!==null?i:-1,this.g=o||null,this.a=u||null,this.j=!!c}h(ko,yw),ko.prototype.set=function(i,o){gh.set(i,o,this.h,this.g,this.a,this.j)},ko.prototype.get=function(i){return gh.get(i)||null},ko.prototype.ra=function(i){var o=this.g,u=this.a;gh.get(i),gh.set(i,"",0,o,u)};function gm(i,o){this.g=i,this.a=o||null}function _w(i){return{email:i.g,credential:i.a&&i.a.toJSON()}}function ww(i){if(i&&i.email){var o=i.credential&&ce.auth.AuthCredential.fromJSON(i.credential);return new gm(i.email,o)}return null}function Ew(i){this.a=i||null}function bw(i){for(var o=[],u=0,c=0;c<i.length;c++){var f=i.charCodeAt(c);255<f&&(o[u++]=f&255,f>>=8),o[u++]=f}return o}function Ck(i){return Eo(i,function(o){return o=o.toString(16),1<o.length?o:"0"+o}).join("")}function vh(i){for(this.i=i,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Oo*(this.j+1)),i=0;i<this.g;i++)this.a[i]=[this.i[4*i],this.i[4*i+1],this.i[4*i+2],this.i[4*i+3]];var o=Array(4);for(i=this.g;i<Oo*(this.j+1);i++){if(o[0]=this.a[i-1][0],o[1]=this.a[i-1][1],o[2]=this.a[i-1][2],o[3]=this.a[i-1][3],i%this.g==0){var u=o,c=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=c,Rw(o),o[0]^=_h[i/this.g][0],o[1]^=_h[i/this.g][1],o[2]^=_h[i/this.g][2],o[3]^=_h[i/this.g][3]}else 6<this.g&&i%this.g==4&&Rw(o);this.a[i]=Array(4),this.a[i][0]=this.a[i-this.g][0]^o[0],this.a[i][1]=this.a[i-this.g][1]^o[1],this.a[i][2]=this.a[i-this.g][2]^o[2],this.a[i][3]=this.a[i-this.g][3]^o[3]}}vh.prototype.A=16;var Oo=vh.prototype.A/4;function Iw(i,o){for(var u,c=0;c<Oo;c++)for(var f=0;4>f;f++)u=4*f+c,u=o[u],i.h[c][f]=u}function Tw(i){for(var o=[],u=0;u<Oo;u++)for(var c=0;4>c;c++)o[4*c+u]=i.h[u][c];return o}function No(i,o){for(var u=0;4>u;u++)for(var c=0;4>c;c++)i.h[u][c]^=i.a[4*o+c][u]}function yh(i,o){for(var u=0;4>u;u++)for(var c=0;4>c;c++)i.h[u][c]=o[i.h[u][c]]}function Aw(i){for(var o=1;4>o;o++)for(var u=0;4>u;u++)i.s[o][u]=i.h[o][u];for(o=1;4>o;o++)for(u=0;4>u;u++)i.h[o][u]=i.s[o][(u+o)%Oo]}function Sw(i){for(var o=1;4>o;o++)for(var u=0;4>u;u++)i.s[o][(u+o)%Oo]=i.h[o][u];for(o=1;4>o;o++)for(u=0;4>u;u++)i.h[o][u]=i.s[o][u]}function Rw(i){i[0]=Do[i[0]],i[1]=Do[i[1]],i[2]=Do[i[2]],i[3]=Do[i[3]]}var Do=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Cw=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],_h=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],wh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Eh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],bh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Ih=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Th=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ah=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Pw(i,o){i=new vh(Ow(i)),o=bw(o);for(var u=o.splice(0,16),c="",f;u.length;){f=16-u.length;for(var m=0;m<f;m++)u.push(0);for(f=i,Iw(f,u),No(f,0),u=1;u<f.j;++u){yh(f,Do),Aw(f),m=f.h;for(var y=f.s[0],I=0;4>I;I++)y[0]=m[0][I],y[1]=m[1][I],y[2]=m[2][I],y[3]=m[3][I],m[0][I]=wh[y[0]]^Eh[y[1]]^y[2]^y[3],m[1][I]=y[0]^wh[y[1]]^Eh[y[2]]^y[3],m[2][I]=y[0]^y[1]^wh[y[2]]^Eh[y[3]],m[3][I]=Eh[y[0]]^y[1]^y[2]^wh[y[3]];No(f,u)}yh(f,Do),Aw(f),No(f,f.j),c+=Ck(Tw(f)),u=o.splice(0,16)}return c}function kw(i,o){i=new vh(Ow(i));for(var u=[],c=0;c<o.length;c+=2)u.push(parseInt(o.substring(c,c+2),16));var f=u.splice(0,16);for(o="";f.length;){for(c=i,Iw(c,f),No(c,c.j),f=1;f<c.j;++f){Sw(c),yh(c,Cw),No(c,c.j-f);for(var m=c.h,y=c.s[0],I=0;4>I;I++)y[0]=m[0][I],y[1]=m[1][I],y[2]=m[2][I],y[3]=m[3][I],m[0][I]=Ah[y[0]]^Ih[y[1]]^Th[y[2]]^bh[y[3]],m[1][I]=bh[y[0]]^Ah[y[1]]^Ih[y[2]]^Th[y[3]],m[2][I]=Th[y[0]]^bh[y[1]]^Ah[y[2]]^Ih[y[3]],m[3][I]=Ih[y[0]]^Th[y[1]]^bh[y[2]]^Ah[y[3]]}if(Sw(c),yh(c,Cw),No(c,0),c=Tw(c),8192>=c.length)c=String.fromCharCode.apply(null,c);else{for(f="",m=0;m<c.length;m+=8192)f+=String.fromCharCode.apply(null,C(c,m,m+8192));c=f}o+=c,f=u.splice(0,16)}return o.replace(/(\x00)+$/,"")}function Ow(i){i=bw(i.substring(0,32));for(var o=32-i.length,u=0;u<o;u++)i.push(0);return i}function Nw(i){var o=[];return vm(new Pk,i,o),o.join("")}function Pk(){}function vm(i,o,u){if(o==null)u.push("null");else{if(typeof o=="object"){if(F(o)){var c=o;o=c.length,u.push("[");for(var f="",m=0;m<o;m++)u.push(f),vm(i,c[m],u),f=",";u.push("]");return}if(o instanceof String||o instanceof Number||o instanceof Boolean)o=o.valueOf();else{u.push("{"),f="";for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(m=o[c],typeof m!="function"&&(u.push(f),xw(c,u),u.push(":"),vm(i,m,u),f=","));u.push("}");return}}switch(typeof o){case"string":xw(o,u);break;case"number":u.push(isFinite(o)&&!isNaN(o)?String(o):"null");break;case"boolean":u.push(String(o));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof o)}}}var Dw={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},kk=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function xw(i,o){o.push('"',i.replace(kk,function(u){var c=Dw[u];return c||(c="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),Dw[u]=c),c}),'"')}function Rl(i){this.a=i}Rl.prototype.set=function(i,o){w(o)?this.a.set(i,Nw(o)):this.a.ra(i)},Rl.prototype.get=function(i){try{var o=this.a.get(i)}catch{return}if(o!==null)try{return JSON.parse(o)}catch{throw"Storage: Invalid value was encountered"}};function Sh(){}W(Sh,yw),Sh.prototype.clear=function(){var i=_s(this.ha(!0)),o=this;Qe(i,function(u){o.ra(u)})};function Rh(i){this.a=i}W(Rh,Sh);function Ch(i){if(!i.a)return!1;try{return i.a.setItem("__sak","1"),i.a.removeItem("__sak"),!0}catch{return!1}}t=Rh.prototype,t.set=function(i,o){try{this.a.setItem(i,o)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(i){if(i=this.a.getItem(i),!E(i)&&i!==null)throw"Storage mechanism: Invalid value was encountered";return i},t.ra=function(i){this.a.removeItem(i)},t.ha=function(i){var o=0,u=this.a,c=new $t;return c.next=function(){if(o>=u.length)throw st;var f=u.key(o++);if(i)return f;if(f=u.getItem(f),!E(f))throw"Storage mechanism: Invalid value was encountered";return f},c},t.clear=function(){this.a.clear()},t.key=function(i){return this.a.key(i)};function ym(){var i=null;try{i=window.localStorage||null}catch{}this.a=i}W(ym,Rh);function _m(){var i=null;try{i=window.sessionStorage||null}catch{}this.a=i}W(_m,Rh);function xo(i,o){this.g=i,this.a=o+"::"}W(xo,Sh),xo.prototype.set=function(i,o){this.g.set(this.a+i,o)},xo.prototype.get=function(i){return this.g.get(this.a+i)},xo.prototype.ra=function(i){this.g.ra(this.a+i)},xo.prototype.ha=function(i){var o=this.g.ha(!0),u=this,c=new $t;return c.next=function(){for(var f=o.next();f.substr(0,u.a.length)!=u.a;)f=o.next();return i?f.substr(u.a.length):u.g.get(f)},c},Ch(new ym);var Lw,Mw=new _m;Lw=Ch(Mw)?new xo(Mw,"firebaseui"):null;var wm=new Rl(Lw),Em={name:"pendingEmailCredential",storage:wm},Ns={name:"redirectStatus",storage:wm},Cl={name:"redirectUrl",storage:wm},Lo={name:"emailForSignIn",storage:new Rl(new ko(3600,"/"))},Pl={name:"pendingEncryptedCredential",storage:new Rl(new ko(3600,"/"))};function Mo(i,o){return i.storage.get(o?i.name+":"+o:i.name)}function Ln(i,o){i.storage.a.ra(o?i.name+":"+o:i.name)}function Vo(i,o,u){i.storage.set(u?i.name+":"+u:i.name,o)}function Vw(i){return Mo(Cl,i)||null}function Si(i){return i=Mo(Em,i)||null,ww(i)}function Ri(i){Ln(Em,i)}function Fw(i,o){Vo(Em,_w(i),o)}function bm(i){return(i=Mo(Ns,i)||null)&&typeof i.tenantId<"u"?new Ew(i.tenantId):null}function Ok(i,o){Vo(Ns,{tenantId:i.a},o)}function Nk(i,o){o=Mo(Lo,o);var u=null;if(o)try{var c=kw(i,o),f=JSON.parse(c);u=f&&f.email||null}catch{}return u}function Dk(i,o){o=Mo(Pl,o);var u=null;if(o)try{var c=kw(i,o);u=JSON.parse(c)}catch{}return ww(u||null)}function xk(i,o,u){Vo(Pl,Pw(i,JSON.stringify(_w(o))),u)}function Im(){this.W={}}function At(i,o,u){if(o.toLowerCase()in i.W)throw Error("Configuration "+o+" has already been defined.");i.W[o.toLowerCase()]=u}function Tm(i,o,u){if(!(o.toLowerCase()in i.W))throw Error("Configuration "+o+" is not defined.");i.W[o.toLowerCase()]=u}Im.prototype.get=function(i){if(!(i.toLowerCase()in this.W))throw Error("Configuration "+i+" is not defined.");return this.W[i.toLowerCase()]};function Am(i,o){if(i=i.get(o),!i)throw Error("Configuration "+o+" is required.");return i}function Sm(){this.g=void 0,this.a={}}t=Sm.prototype,t.set=function(i,o){Uw(this,i,o,!1)},t.add=function(i,o){Uw(this,i,o,!0)};function Uw(i,o,u,c){for(var f=0;f<o.length;f++){var m=o.charAt(f);i.a[m]||(i.a[m]=new Sm),i=i.a[m]}if(c&&i.g!==void 0)throw Error('The collection already contains the key "'+o+'"');i.g=u}t.get=function(i){e:{for(var o=this,u=0;u<i.length;u++)if(o=o.a[i.charAt(u)],!o){i=void 0;break e}i=o}return i?i.g:void 0},t.la=function(){var i=[];return jw(this,i),i};function jw(i,o){i.g!==void 0&&o.push(i.g);for(var u in i.a)jw(i.a[u],o)}t.ja=function(){var i=[];return Bw(this,"",i),i};function Bw(i,o,u){i.g!==void 0&&u.push(o);for(var c in i.a)Bw(i.a[c],o+c,u)}t.clear=function(){this.a={},this.g=void 0};function $w(i){for(this.a=i,this.g=new Sm,i=0;i<this.a.length;i++){var o=this.g.get("+"+this.a[i].b);o?o.push(this.a[i]):this.g.add("+"+this.a[i].b,[this.a[i]])}}function Ph(i,o){i=i.g;var u={},c=0;for(i.g!==void 0&&(u[c]=i.g);c<o.length;c++){var f=o.charAt(c);if(!(f in i.a))break;i=i.a[f],i.g!==void 0&&(u[c]=i.g)}for(var m in u)if(u.hasOwnProperty(m))return u[m];return[]}function Ds(i){for(var o=0;o<kn.length;o++)if(kn[o].c===i)return kn[o];return null}function Hw(i){i=i.toUpperCase();for(var o=[],u=0;u<kn.length;u++)kn[u].f===i&&o.push(kn[u]);return o}function qw(i){if(0<i.length&&i.charAt(0)=="+"){i=i.substring(1);for(var o=[],u=0;u<kn.length;u++)kn[u].b==i&&o.push(kn[u]);i=o}else i=Hw(i);return i}function Ww(i){i.sort(function(o,u){return o.name.localeCompare(u.name,"en")})}var kn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Ww(kn);var kl=new $w(kn);function Kw(i,o){this.a=i,this.Aa=o}function Gw(i){i=O(i);var o=Ph(kl,i);return 0<o.length?new Kw(o[0].b=="1"?"1-US-0":o[0].c,O(i.substr(o[0].b.length+1))):null}function Rm(i){var o=Ds(i.a);if(!o)throw Error("Country ID "+i.a+" not found.");return"+"+o.b+i.Aa}function zw(i,o){for(var u=0;u<i.length;u++)if(!N(Yw,i[u])&&(Fo!==null&&i[u]in Fo||N(o,i[u])))return i[u];return null}var Yw=["emailLink","password","phone"],Fo={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Lk(){this.a=new Im,At(this.a,"autoUpgradeAnonymousUsers"),At(this.a,"callbacks"),At(this.a,"credentialHelper",Nh),At(this.a,"immediateFederatedRedirect",!1),At(this.a,"popupMode",!1),At(this.a,"privacyPolicyUrl"),At(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),At(this.a,"queryParameterForWidgetMode","mode"),At(this.a,"signInFlow"),At(this.a,"signInOptions"),At(this.a,"signInSuccessUrl"),At(this.a,"siteName"),At(this.a,"tosUrl"),At(this.a,"widgetUrl"),At(this.a,"adminRestrictedOperation")}function kh(i){var o=!!i.a.get("autoUpgradeAnonymousUsers");return o&&!sE(i)&&Hn('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),o}function Oh(i){i=i.a.get("signInOptions")||[];for(var o=[],u=0;u<i.length;u++){var c=i[u];c=ie(c)?c:{provider:c},c.provider&&o.push(c)}return o}function qn(i,o){i=Oh(i);for(var u=0;u<i.length;u++)if(i[u].provider===o)return i[u];return null}function Uo(i){return Oh(i).map(function(o){return o.provider})}function Ol(i,o){i=Qw(i);for(var u=0;u<i.length;u++)if(i[u].providerId===o)return i[u];return null}function Qw(i){return Oh(i).map(function(o){if(Fo[o.provider]||N(Wk,o.provider)){o={providerId:o.provider,S:o.providerName||null,V:o.fullLabel||null,ta:o.buttonColor||null,za:o.iconUrl?Or(zc(o.iconUrl)).toString():null};for(var u in o)o[u]===null&&delete o[u];return o}return{providerId:o.provider,S:o.providerName||null,V:o.fullLabel||null,ta:o.buttonColor||null,za:o.iconUrl?Or(zc(o.iconUrl)).toString():null,Ob:o.loginHintKey||null}})}function Jw(i){var o=qn(i,ce.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=o&&o.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(c in i=i.a.get("credentialHelper"),Nm)if(Nm[c]===i){var c=Nm[c];break e}}c=Nh}u=c===Om}return u&&o.clientId||null}function Xw(i){return i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID),!!(i&&i.disableSignUp&&i.disableSignUp.status)}function xs(i){return i=i.a.get("adminRestrictedOperation")||null,!(!i||!i.status)}function Mk(i){var o=null;if(Oh(i).forEach(function(c){c.provider==ce.auth.PhoneAuthProvider.PROVIDER_ID&&ie(c.recaptchaParameters)&&!Array.isArray(c.recaptchaParameters)&&(o=Oe(c.recaptchaParameters))}),o){var u=[];Kk.forEach(function(c){typeof o[c]<"u"&&(u.push(c),delete o[c])}),u.length&&Fr('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return o}function Vk(i){return(i=i.a.get("adminRestrictedOperation"))&&i.adminEmail?i.adminEmail:null}function Fk(i){if(i=i.a.get("adminRestrictedOperation")||null){var o=i.helpLink||null;if(o&&typeof o=="string")return function(){Po(o)}}return null}function Uk(i){return(i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID))&&i.disableSignUp&&i.disableSignUp.adminEmail||null}function jk(i){if((i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID))&&i.disableSignUp){var o=i.disableSignUp.helpLink||null;if(o&&typeof o=="string")return function(){Po(o)}}return null}function Zw(i,o){return i=(i=qn(i,o))&&i.scopes,Array.isArray(i)?i:[]}function eE(i,o){return i=(i=qn(i,o))&&i.customParameters,ie(i)?(i=Oe(i),o===ce.auth.GoogleAuthProvider.PROVIDER_ID&&delete i.login_hint,o===ce.auth.GithubAuthProvider.PROVIDER_ID&&delete i.login,i):null}function Bk(i){i=qn(i,ce.auth.PhoneAuthProvider.PROVIDER_ID);var o=null;return i&&typeof i.loginHint=="string"&&(o=Gw(i.loginHint)),i&&i.defaultNationalNumber||o&&o.Aa||null}function $k(i){var o=(i=qn(i,ce.auth.PhoneAuthProvider.PROVIDER_ID))&&i.defaultCountry||null;o=o&&Hw(o);var u=null;return i&&typeof i.loginHint=="string"&&(u=Gw(i.loginHint)),o&&o[0]||u&&Ds(u.a)||null}function Cm(i){if(i=qn(i,ce.auth.PhoneAuthProvider.PROVIDER_ID),!i)return null;var o=i.whitelistedCountries,u=i.blacklistedCountries;if(typeof o<"u"&&(!Array.isArray(o)||o.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(o&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!o&&!u)return kn;if(i=[],o){u={};for(var c=0;c<o.length;c++)for(var f=qw(o[c]),m=0;m<f.length;m++)u[f[m].c]=f[m];for(var y in u)u.hasOwnProperty(y)&&i.push(u[y])}else{for(y={},o=0;o<u.length;o++)for(f=qw(u[o]),c=0;c<f.length;c++)y[f[c].c]=f[c];for(f=0;f<kn.length;f++)y!==null&&kn[f].c in y||i.push(kn[f])}return i}function tE(i){return Am(i.a,"queryParameterForWidgetMode")}function St(i){var o=i.a.get("tosUrl")||null;if(i=i.a.get("privacyPolicyUrl")||null,o&&!i&&Fr("Privacy Policy URL is missing, the link will not be displayed."),o&&i){if(typeof o=="function")return o;if(typeof o=="string")return function(){Po(o)}}return null}function Rt(i){var o=i.a.get("tosUrl")||null,u=i.a.get("privacyPolicyUrl")||null;if(u&&!o&&Fr("Term of Service URL is missing, the link will not be displayed."),o&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Po(u)}}return null}function nE(i){return(i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID))&&typeof i.requireDisplayName<"u"?!!i.requireDisplayName:!0}function jo(i){return i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID),!(!i||i.signInMethod!==ce.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Hk(i){return i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID),!(!i||!i.forceSameDevice)}function qk(i){if(jo(i)){var o={url:ir(),handleCodeInApp:!0};(i=qn(i,ce.auth.EmailAuthProvider.PROVIDER_ID))&&typeof i.emailLinkSignIn=="function"&&$e(o,i.emailLinkSignIn()),i=o.url;var u=ir();u instanceof Rr||(u=Op(u)),i instanceof Rr||(i=Op(i));var c=u;u=new Rr(c);var f=!!i.j;f?Cp(u,i.j):f=!!i.A,f?u.A=i.A:f=!!i.h,f?u.h=i.h:f=i.C!=null;var m=i.g;if(f)Pp(u,i.C);else if(f=!!i.g){if(m.charAt(0)!="/"&&(c.h&&!c.g?m="/"+m:(c=u.g.lastIndexOf("/"),c!=-1&&(m=u.g.substr(0,c+1)+m))),m==".."||m==".")m="";else if(m.indexOf("./")!=-1||m.indexOf("/.")!=-1){c=m.lastIndexOf("/",0)==0,m=m.split("/");for(var y=[],I=0;I<m.length;){var k=m[I++];k=="."?c&&I==m.length&&y.push(""):k==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),c&&I==m.length&&y.push("")):(y.push(k),c=!0)}m=y.join("/")}}return f?u.g=m:f=i.a.toString()!=="",f?kp(u,i0(i.a)):f=!!i.s,f&&(u.s=i.s),o.url=u.toString(),o}return null}function Pm(i){var o=!!i.a.get("immediateFederatedRedirect"),u=Uo(i);return i=iE(i),o&&u.length==1&&!N(Yw,u[0])&&i==Dh}function iE(i){i=i.a.get("signInFlow");for(var o in Dm)if(Dm[o]==i)return Dm[o];return Dh}function km(i){return Nl(i).signInSuccess||null}function rE(i){return Nl(i).signInSuccessWithAuthResult||null}function sE(i){return Nl(i).signInFailure||null}function Nl(i){return i.a.get("callbacks")||{}}var Om="googleyolo",Nh="none",Nm={nc:Om,NONE:Nh},Dh="redirect",Dm={qc:"popup",rc:Dh},xm={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Wk=["anonymous"],Kk=["sitekey","tabindex","callback","expired-callback"],Dl,Bo,Lm,oE,ze={};function ne(i,o,u,c){ze[i].apply(null,Array.prototype.slice.call(arguments,1))}function aE(i){return i.classList?i.classList:(i=i.className,E(i)&&i.match(/\S+/g)||[])}function xl(i,o){return i.classList?i.classList.contains(o):N(aE(i),o)}function Ci(i,o){i.classList?i.classList.add(o):xl(i,o)||(i.className+=0<i.className.length?" "+o:o)}function Pi(i,o){i.classList?i.classList.remove(o):xl(i,o)&&(i.className=Ai(aE(i),function(u){return u!=o}).join(" "))}function Qt(i){var o=i.type;switch(E(o)&&o.toLowerCase()){case"checkbox":case"radio":return i.checked?i.value:null;case"select-one":return o=i.selectedIndex,0<=o?i.options[o].value:null;case"select-multiple":o=[];for(var u,c=0;u=i.options[c];c++)u.selected&&o.push(u.value);return o.length?o:null;default:return i.value!=null?i.value:null}}function lE(i,o){var u=i.type;switch(E(u)&&u.toLowerCase()){case"checkbox":case"radio":i.checked=o;break;case"select-one":if(i.selectedIndex=-1,E(o)){for(var c=0;u=i.options[c];c++)if(u.value==o){u.selected=!0;break}}break;case"select-multiple":for(E(o)&&(o=[o]),c=0;u=i.options[c];c++)if(u.selected=!1,o)for(var f,m=0;f=o[m];m++)u.value==f&&(u.selected=!0);break;default:i.value=o??""}}function Gk(i){if(i.altKey&&!i.ctrlKey||i.metaKey||112<=i.keyCode&&123>=i.keyCode)return!1;if(Ll(i.keyCode))return!0;switch(i.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!si;default:return 166>i.keyCode||183<i.keyCode}}function uE(i,o,u,c,f,m){if(Rn&&!Is("525"))return!0;if(kr&&f)return Ll(i);if(f&&!c)return!1;if(!si){typeof o=="number"&&(o=Mm(o));var y=o==17||o==18||kr&&o==91;if((!u||kr)&&y||kr&&o==16&&(c||m))return!1}if((Rn||Pr)&&c&&u)switch(i){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(yt&&c&&o==i)return!1;switch(i){case 13:return si?m||f?!1:!(u&&c):!0;case 27:return!(Rn||Pr||si)}return si&&(c||f||m)?!1:Ll(i)}function Ll(i){if(48<=i&&57>=i||96<=i&&106>=i||65<=i&&90>=i||(Rn||Pr)&&i==0)return!0;switch(i){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return si;default:return!1}}function Mm(i){if(si)i=zk(i);else if(kr&&Rn)switch(i){case 93:i=91}return i}function zk(i){switch(i){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return i}}function $o(i){Ot.call(this),this.a=i,oi(i,"keydown",this.g,!1,this),oi(i,"click",this.h,!1,this)}W($o,Ot),$o.prototype.g=function(i){(i.keyCode==13||Rn&&i.keyCode==3)&&cE(this,i)},$o.prototype.h=function(i){cE(this,i)};function cE(i,o){var u=new dE(o);if(Mr(i,u)){u=new hE(o);try{Mr(i,u)}finally{o.stopPropagation()}}}$o.prototype.o=function(){$o.K.o.call(this),Cs(this.a,"keydown",this.g,!1,this),Cs(this.a,"click",this.h,!1,this),delete this.a};function hE(i){Pn.call(this,i.a),this.type="action"}W(hE,Pn);function dE(i){Pn.call(this,i.a),this.type="beforeaction"}W(dE,Pn);function Ho(i){Ot.call(this),this.a=i,i=yt?"focusout":"blur",this.g=oi(this.a,yt?"focusin":"focus",this,!yt),this.h=oi(this.a,i,this,!yt)}W(Ho,Ot),Ho.prototype.handleEvent=function(i){var o=new Pn(i.a);o.type=i.type=="focusin"||i.type=="focus"?"focusin":"focusout",Mr(this,o)},Ho.prototype.o=function(){Ho.K.o.call(this),Lr(this.g),Lr(this.h),delete this.a};function xh(i,o){Ot.call(this),this.g=i||1,this.a=o||v,this.h=le(this.gc,this),this.j=Tt()}W(xh,Ot),t=xh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var i=Tt()-this.j;0<i&&i<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-i):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Mr(this,"tick"),this.Ka&&(Lh(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Tt())};function Lh(i){i.Ka=!1,i.aa&&(i.a.clearTimeout(i.aa),i.aa=null)}t.o=function(){xh.K.o.call(this),Lh(this),delete this.a};function Yk(i,o){if(z(i))o&&(i=le(i,o));else if(i&&typeof i.handleEvent=="function")i=le(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(i,0)}function qo(i){Rs.call(this),this.g=i,this.a={}}W(qo,Rs);var fE=[];function Wo(i,o,u,c){F(u)||(u&&(fE[0]=u.toString()),u=fE);for(var f=0;f<u.length;f++){var m=oi(o,u[f],c||i.handleEvent,!1,i.g||i);if(!m)break;i.a[m.key]=m}}function pE(i){Ee(i.a,function(o,u){this.a.hasOwnProperty(u)&&Lr(o)},i),i.a={}}qo.prototype.o=function(){qo.K.o.call(this),pE(this)},qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ml(i){Ot.call(this),this.a=null,this.g=i,i=yt||Pr||Rn&&!Is("531")&&i.tagName=="TEXTAREA",this.h=new qo(this),Wo(this.h,this.g,i?["keydown","paste","cut","drop","input"]:"input",this)}W(Ml,Ot),Ml.prototype.handleEvent=function(i){if(i.type=="input")yt&&Is(10)&&i.keyCode==0&&i.j==0||(Vm(this),Mr(this,mE(i)));else if(i.type!="keydown"||Gk(i)){var o=i.type=="keydown"?this.g.value:null;yt&&i.keyCode==229&&(o=null);var u=mE(i);Vm(this),this.a=Yk(function(){this.a=null,this.g.value!=o&&Mr(this,u)},this)}};function Vm(i){i.a!=null&&(v.clearTimeout(i.a),i.a=null)}function mE(i){return i=new Pn(i.a),i.type="input",i}Ml.prototype.o=function(){Ml.K.o.call(this),this.h.m(),Vm(this),delete this.g};function Vl(i,o){Ot.call(this),i&&(this.Oa&&wE(this),this.qa=i,this.Na=oi(this.qa,"keypress",this,o),this.Ya=oi(this.qa,"keydown",this.Jb,o,this),this.Oa=oi(this.qa,"keyup",this.Kb,o,this))}W(Vl,Ot),t=Vl.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var gE={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},vE={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},yE=!Rn||Is("525"),_E=kr&&si;t=Vl.prototype,t.Jb=function(i){(Rn||Pr)&&(this.R==17&&!i.ctrlKey||this.R==18&&!i.altKey||kr&&this.R==91&&!i.metaKey)&&(this.X=this.R=-1),this.R==-1&&(i.ctrlKey&&i.keyCode!=17?this.R=17:i.altKey&&i.keyCode!=18?this.R=18:i.metaKey&&i.keyCode!=91&&(this.R=91)),yE&&!uE(i.keyCode,this.R,i.shiftKey,i.ctrlKey,i.altKey,i.metaKey)?this.handleEvent(i):(this.X=Mm(i.keyCode),_E&&(this.Ua=i.altKey))},t.Kb=function(i){this.X=this.R=-1,this.Ua=i.altKey},t.handleEvent=function(i){var o=i.a,u=o.altKey;if(yt&&i.type=="keypress")var c=this.X,f=c!=13&&c!=27?o.keyCode:0;else(Rn||Pr)&&i.type=="keypress"?(c=this.X,f=0<=o.charCode&&63232>o.charCode&&Ll(c)?o.charCode:0):u0&&!Rn?(c=this.X,f=Ll(c)?o.keyCode:0):(i.type=="keypress"?(_E&&(u=this.Ua),o.keyCode==o.charCode?32>o.keyCode?(c=o.keyCode,f=0):(c=this.X,f=o.charCode):(c=o.keyCode||this.X,f=o.charCode||0)):(c=o.keyCode||this.X,f=o.charCode||0),kr&&f==63&&c==224&&(c=191));var m=c=Mm(c);c?63232<=c&&c in gE?m=gE[c]:c==25&&i.shiftKey&&(m=9):o.keyIdentifier&&o.keyIdentifier in vE&&(m=vE[o.keyIdentifier]),si&&yE&&i.type=="keypress"&&!uE(m,this.R,i.shiftKey,i.ctrlKey,u,i.metaKey)||(i=m==this.R,this.R=m,o=new EE(m,f,i,o),o.altKey=u,Mr(this,o))},t.N=function(){return this.qa};function wE(i){i.Na&&(Lr(i.Na),Lr(i.Ya),Lr(i.Oa),i.Na=null,i.Ya=null,i.Oa=null),i.qa=null,i.R=-1,i.X=-1}t.o=function(){Vl.K.o.call(this),wE(this)};function EE(i,o,u,c){Pn.call(this,c),this.type="key",this.keyCode=i,this.j=o,this.repeat=u}W(EE,Pn);function Ko(i,o,u,c){this.top=i,this.right=o,this.bottom=u,this.left=c}Ko.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ko.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ko.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ko.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Mh(i,o){var u=pl(i);return u.defaultView&&u.defaultView.getComputedStyle&&(i=u.defaultView.getComputedStyle(i,null))&&(i[o]||i.getPropertyValue(o))||""}function bE(i){try{var o=i.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return yt&&i.ownerDocument.body&&(i=i.ownerDocument,o.left-=i.documentElement.clientLeft+i.body.clientLeft,o.top-=i.documentElement.clientTop+i.body.clientTop),o}function Qk(i,o){o=o||Jc(document);var u=o||Jc(document),c=IE(i),f=IE(u);if(!yt||9<=Number(dl)){y=Mh(u,"borderLeftWidth");var m=Mh(u,"borderRightWidth");I=Mh(u,"borderTopWidth"),k=Mh(u,"borderBottomWidth"),m=new Ko(parseFloat(I),parseFloat(m),parseFloat(k),parseFloat(y))}else{var y=Vh(u,"borderLeft");m=Vh(u,"borderRight");var I=Vh(u,"borderTop"),k=Vh(u,"borderBottom");m=new Ko(I,m,k,y)}u==Jc(document)?(y=c.a-u.scrollLeft,c=c.g-u.scrollTop,!yt||10<=Number(dl)||(y+=m.left,c+=m.top)):(y=c.a-f.a-m.left,c=c.g-f.g-m.top),f=i.offsetWidth,m=i.offsetHeight,I=Rn&&!f&&!m,w(f)&&!I||!i.getBoundingClientRect?i=new Vp(f,m):(i=bE(i),i=new Vp(i.right-i.left,i.bottom-i.top)),f=u.clientHeight-i.height,m=u.scrollLeft,I=u.scrollTop,m+=Math.min(y,Math.max(y-(u.clientWidth-i.width),0)),I+=Math.min(c,Math.max(c-f,0)),u=new Dr(m,I),o.scrollLeft=u.a,o.scrollTop=u.g}function IE(i){var o=pl(i),u=new Dr(0,0),c=o?pl(o):document;return c=!yt||9<=Number(dl)||Qc(c).a.compatMode=="CSS1Compat"?c.documentElement:c.body,i==c||(i=bE(i),c=Qc(o).a,o=Jc(c),c=c.parentWindow||c.defaultView,o=yt&&Is("10")&&c.pageYOffset!=o.scrollTop?new Dr(o.scrollLeft,o.scrollTop):new Dr(c.pageXOffset||o.scrollLeft,c.pageYOffset||o.scrollTop),u.a=i.left+o.a,u.g=i.top+o.g),u}var TE={thin:2,medium:4,thick:6};function Vh(i,o){if((i.currentStyle?i.currentStyle[o+"Style"]:null)=="none")return 0;var u=i.currentStyle?i.currentStyle[o+"Width"]:null;if(u in TE)i=TE[u];else if(/^\d+px?$/.test(u))i=parseInt(u,10);else{o=i.style.left;var c=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left,i.style.left=u,u=i.style.pixelLeft,i.style.left=o,i.runtimeStyle.left=c,i=+u}return i}function Fm(){}S(Fm),Fm.prototype.a=0;function Ls(i){Ot.call(this),this.s=i||Qc(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}W(Ls,Ot),t=Ls.prototype,t.Lb=Fm.Xa(),t.N=function(){return this.g};function Ve(i,o){return i.g?Up(o,i.g||i.s.a):null}function Fl(i){return i.L||(i.L=new qo(i)),i.L}t.Za=function(i){if(this.Y&&this.Y!=i)throw Error("Method not supported");Ls.K.Za.call(this,i)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(i){if(this.na)throw Error("Component already rendered");this.g||this.kb(),i?i.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Um(this,function(i){!i.na&&i.N()&&i.v()})},t.ya=function(){Um(this,function(i){i.na&&i.ya()}),this.L&&pE(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Um(this,function(i){i.m()}),this.g&&As(this.g),this.Y=this.g=this.oa=this.Ea=null,Ls.K.o.call(this)};function Um(i,o){i.Ea&&Qe(i.Ea,o,void 0)}t.removeChild=function(i,o){if(i){var u=E(i)?i:i.cb||(i.cb=":"+(i.Lb.a++).toString(36));if(this.oa&&u?(i=this.oa,i=(i!==null&&u in i?i[u]:void 0)||null):i=null,u&&i){var c=this.oa;if(u in c&&delete c[u],Z(this.Ea,i),o&&(i.ya(),i.g&&As(i.g)),o=i,o==null)throw Error("Unable to set parent component");o.Y=null,Ls.K.Za.call(o,null)}}if(!i)throw Error("Child is not in parent component");return i};function Et(i,o){var u=I0(i,"firebaseui-textfield");o?(Pi(i,"firebaseui-input-invalid"),Ci(i,"firebaseui-input"),u&&Pi(u,"firebaseui-textfield-invalid")):(Pi(i,"firebaseui-input"),Ci(i,"firebaseui-input-invalid"),u&&Ci(u,"firebaseui-textfield-invalid"))}function Go(i,o,u){o=new Ml(o),vl(i,Be(yl,o)),Wo(Fl(i),o,"input",u)}function Ul(i,o,u){o=new Vl(o),vl(i,Be(yl,o)),Wo(Fl(i),o,"key",function(c){c.keyCode==13&&(c.stopPropagation(),c.preventDefault(),u(c))})}function Jk(i,o,u){o=new Ho(o),vl(i,Be(yl,o)),Wo(Fl(i),o,"focusin",u)}function Xk(i,o,u){o=new Ho(o),vl(i,Be(yl,o)),Wo(Fl(i),o,"focusout",u)}function pt(i,o,u){o=new $o(o),vl(i,Be(yl,o)),Wo(Fl(i),o,"action",function(c){c.stopPropagation(),c.preventDefault(),u(c)})}function Wn(i){Ci(i,"firebaseui-hidden")}function Jt(i,o){o&&jp(i,o),Pi(i,"firebaseui-hidden")}function zo(i){return!xl(i,"firebaseui-hidden")&&i.style.display!="none"}function Yo(i){i=i||{};var o=i.email,u=i.disabled,c='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return c=i.wc?c+"Enter new email address":c+"Email",c+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Cn(o??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ee(c)}function Mn(i){i=i||{},i=i.label;var o='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return o=i?o+_e(i):o+"Next",ee(o+"</button>")}function jm(){var i=""+Mn({label:_t("Sign In")});return ee(i)}function AE(){var i=""+Mn({label:_t("Save")});return ee(i)}function ai(){var i=""+Mn({label:_t("Continue")});return ee(i)}function SE(i){i=i||{},i=i.label;var o='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return o=i?o+_e(i):o+"Choose password",ee(o+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function RE(){var i={},o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return o=i.current?o+"Current password":o+"Password",ee(o+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function CE(){return ee('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Kn(i){i=i||{},i=i.label;var o='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return o=i?o+_e(i):o+"Cancel",ee(o+"</button>")}function an(i){var o="";return i.F&&i.D&&(o+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ee(o)}function Qo(i){var o="";return i.F&&i.D&&(o+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ee(o)}function PE(i){return i='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+_e(i.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ee(i)}PE.a="firebaseui.auth.soy2.element.infoBar";function kE(i){var o=i.content;return i=i.Ab,ee('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(i?" "+Cn(i):"")+'">'+_e(o)+"</dialog>")}function OE(i){var o=i.message;return ee(kE({content:S0('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Cn(i.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+_e(o)+"</div>")}))}OE.a="firebaseui.auth.soy2.element.progressDialog";function NE(i){var o='<div class="firebaseui-list-box-actions">';i=i.items;for(var u=i.length,c=0;c<u;c++){var f=i[c];o+='<button type="button" data-listboxid="'+Cn(f.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(f.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Cn(f.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+_e(f.label)+"</div></button>"}return o=""+kE({Ab:_t("firebaseui-list-box-dialog"),content:S0(o+"</div>")}),ee(o)}NE.a="firebaseui.auth.soy2.element.listBoxDialog";function Fh(i){return i=i||{},ee(i.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Fh.a="firebaseui.auth.soy2.element.busyIndicator";function Ur(i,o){return i=i||{},i=i.ga,He(i.S?i.S:o.hb[i.providerId]?""+o.hb[i.providerId]:i.providerId&&i.providerId.indexOf("saml.")==0||i.providerId&&i.providerId.indexOf("oidc.")==0?i.providerId.substring(5):""+i.providerId)}function Bm(i){DE(i,"upgradeElement")}function $m(i){DE(i,"downgradeElements")}var Zk=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function DE(i,o){i&&window.componentHandler&&window.componentHandler[o]&&Zk.forEach(function(u){xl(i,u)&&window.componentHandler[o](i),Qe(Fp(u,i),function(c){window.componentHandler[o](c)})})}function xE(i,o,u){if(Uh.call(this),document.body.appendChild(i),i.showModal||window.dialogPolyfill.registerDialog(i),i.showModal(),Bm(i),o&&pt(this,i,function(m){var y=i.getBoundingClientRect();(m.clientX<y.left||y.left+y.width<m.clientX||m.clientY<y.top||y.top+y.height<m.clientY)&&Uh.call(this)}),!u){var c=this.N().parentElement||this.N().parentNode;if(c){var f=this;this.da=function(){if(i.open){var m=i.getBoundingClientRect().height,y=c.getBoundingClientRect().height,I=c.getBoundingClientRect().top-document.body.getBoundingClientRect().top,k=c.getBoundingClientRect().left-document.body.getBoundingClientRect().left,$=i.getBoundingClientRect().width,re=c.getBoundingClientRect().width;i.style.top=(I+(y-m)/2).toString()+"px",m=k+(re-$)/2,i.style.left=m.toString()+"px",i.style.right=(document.body.getBoundingClientRect().width-m-$).toString()+"px"}else window.removeEventListener("resize",f.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Uh(){var i=Hm.call(this);i&&($m(i),i.open&&i.close(),As(i),this.da&&window.removeEventListener("resize",this.da))}function Hm(){return Up("firebaseui-id-dialog")}function LE(){As(ME.call(this))}function ME(){return Ve(this,"firebaseui-id-info-bar")}function VE(){return Ve(this,"firebaseui-id-dismiss-info-bar")}var eO={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function qm(i,o,u){tr.call(this,i,o);for(var c in u)this[c]=u[c]}W(qm,tr);function D(i,o,u,c,f){Ls.call(this,u),this.fb=i,this.eb=o,this.Fa=!1,this.Ga=c||null,this.A=this.ca=null,this.Z=Oe(eO),$e(this.Z,f||{})}W(D,Ls),t=D.prototype,t.kb=function(){var i=ml(this.fb,this.eb,this.Z,this.s);Bm(i),this.g=i},t.v=function(){if(D.K.v.call(this),U0(ft(this),new qm("pageEnter",ft(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var i=this.Z.F;pt(this,this.bb(),function(){i()})}if(this.ab()&&this.Z.D){var o=this.Z.D;pt(this,this.ab(),function(){o()})}},t.ya=function(){U0(ft(this),new qm("pageExit",ft(this),{pageId:this.Ga})),D.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,$m(this.N()),D.K.o.call(this)};function tO(i){i.Fa=!0;var o=xl(i.N(),"firebaseui-use-spinner");i.ca=window.setTimeout(function(){i.N()&&i.A===null&&(i.A=ml(Fh,{tb:o},null,i.s),i.N().appendChild(i.A),Bm(i.A))},500)}t.I=function(i,o,u,c){function f(){if(m.T)return null;m.Fa=!1,window.clearTimeout(m.ca),m.ca=null,m.A&&($m(m.A),As(m.A),m.A=null)}var m=this;return m.Fa?null:(tO(m),i.apply(null,o).then(u,c).then(f,f))};function ft(i){return i.N().parentElement||i.N().parentNode}function jl(i,o,u){Ul(i,o,function(){u.focus()})}function Jo(i,o,u){Ul(i,o,function(){u()})}me(D.prototype,{a:function(i){LE.call(this);var o=ml(PE,{message:i},null,this.s);this.N().appendChild(o),pt(this,VE.call(this),function(){As(o)})},yc:LE,Ac:ME,zc:VE,$:function(i,o){i=ml(OE,{Ma:i,message:o},null,this.s),xE.call(this,i)},h:Uh,Cb:Hm,Cc:function(){return Ve(this,"firebaseui-tos")},bb:function(){return Ve(this,"firebaseui-tos-link")},ab:function(){return Ve(this,"firebaseui-pp-link")},Dc:function(){return Ve(this,"firebaseui-tos-list")}});function FE(i,o,u){i=i||{},o=i.Va;var c=i.ia;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Yo(i)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?Kn(null):"")+Mn(null)+'</div></div><div class="firebaseui-card-footer">'+(c?Qo(u):an(u))+"</div></form></div>",ee(i)}FE.a="firebaseui.auth.soy2.page.signIn";function UE(i,o,u){return i=i||{},o=i.ia,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Yo(i)+RE()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+CE()+'</div><div class="firebaseui-form-actions">'+jm()+'</div></div><div class="firebaseui-card-footer">'+(o?Qo(u):an(u))+"</div></form></div>",ee(i)}UE.a="firebaseui.auth.soy2.page.passwordSignIn";function jE(i,o,u){i=i||{};var c=i.Tb;o=i.Ta;var f=i.ia,m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Yo(i);return c?(i=i||{},i=i.name,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Cn(i??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',i=ee(i)):i="",u=m+i+SE(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?Kn(null):"")+AE()+'</div></div><div class="firebaseui-card-footer">'+(f?Qo(u):an(u))+"</div></form></div>",ee(u)}jE.a="firebaseui.auth.soy2.page.passwordSignUp";function BE(i,o,u){return i=i||{},o=i.Ta,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Yo(i)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?Kn(null):"")+Mn({label:_t("Send")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(i)}BE.a="firebaseui.auth.soy2.page.passwordRecovery";function $E(i,o,u){o=i.G;var c="";return i="Follow the instructions sent to <strong>"+(_e(i.email)+"</strong> to recover your password"),c+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions">',o&&(c+='<div class="firebaseui-form-actions">'+Mn({label:_t("Done")})+"</div>"),c+='</div><div class="firebaseui-card-footer">'+an(u)+"</div></div>",ee(c)}$E.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function HE(i,o,u){return ee('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Fh(null)+"</div></div>")}HE.a="firebaseui.auth.soy2.page.callback";function qE(i,o,u){return ee('<div class="firebaseui-container firebaseui-id-page-spinner">'+Fh({tb:!0})+"</div>")}qE.a="firebaseui.auth.soy2.page.spinner";function WE(){return ee('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}WE.a="firebaseui.auth.soy2.page.blank";function KE(i,o,u){o="",i="A sign-in email with additional instructions was sent to <strong>"+(_e(i.email)+"</strong>. Check your email to complete sign-in.");var c=ee('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+c+'</div><div class="firebaseui-form-actions">'+Kn({label:_t("Back")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}KE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function GE(i,o,u){return i=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ee('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Kn({label:_t("Back")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(i)}GE.a="firebaseui.auth.soy2.page.emailNotReceived";function zE(i,o,u){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Yo(i)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kn(null)+Mn(null)+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(i)}zE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function YE(){var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kn({label:_t("Dismiss")})+"</div></div></div>";return ee(i)}YE.a="firebaseui.auth.soy2.page.differentDeviceError";function QE(){var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kn({label:_t("Dismiss")})+"</div></div></div>";return ee(i)}QE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function JE(i,o,u){return o="",i="Youve already used <strong>"+(_e(i.email)+"</strong> to sign in. Enter your password for that account."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+i+"</p>"+RE()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+CE()+'</div><div class="firebaseui-form-actions">'+jm()+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}JE.a="firebaseui.auth.soy2.page.passwordLinking";function XE(i,o,u){var c=i.email;return o="",i=""+Ur(i,u),i=_t(i),c="Youve already used <strong>"+(_e(c)+("</strong>. You can connect your <strong>"+(_e(i)+("</strong> account with <strong>"+(_e(c)+"</strong> by signing in with email link below."))))),i="For this flow to successfully connect your "+(_e(i)+" account with this email, you have to open the link on the same device or browser."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+c+'<p class="firebaseui-text firebaseui-text-justify">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jm()+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}XE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function ZE(i,o,u){o="";var c=""+Ur(i,u);return c=_t(c),i="You originally intended to connect <strong>"+(_e(c)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),c="If you still want to connect your <strong>"+(_e(c)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+i+'</p><p class="firebaseui-text firebaseui-text-justify">'+c+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ai()+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}ZE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function eb(i,o,u){var c=i.email;return o="",i=""+Ur(i,u),i=_t(i),c="Youve already used <strong>"+(_e(c)+("</strong>. Sign in with "+(_e(i)+" to continue."))),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+c+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Mn({label:_t("Sign in with "+i)})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}eb.a="firebaseui.auth.soy2.page.federatedLinking";function tb(i,o,u){i=i||{};var c=i.kc;o=i.yb,i=i.Eb;var f='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return c?(c="<strong>"+(_e(c)+"</strong> is not authorized to view the requested page."),f+=c):f+="User is not authorized to view the requested page.",f+="</p>",o&&(o="Please contact <strong>"+(_e(o)+"</strong> for authorization."),f+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+o+"</p>"),f+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',i&&(f+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),f+='</div><div class="firebaseui-form-actions">'+Kn({label:_t("Back")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(f)}tb.a="firebaseui.auth.soy2.page.unauthorizedUser";function nb(i,o,u){return o="",i="To continue sign in with <strong>"+(_e(i.email)+"</strong> on this device, you have to recover the password."),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kn(null)+Mn({label:_t("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}nb.a="firebaseui.auth.soy2.page.unsupportedProvider";function ib(i){var o="",u='<p class="firebaseui-text">for <strong>'+(_e(i.email)+"</strong></p>");return o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+SE(H2(i))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+AE()+"</div></div></form></div>",ee(o)}ib.a="firebaseui.auth.soy2.page.passwordReset";function rb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}rb.a="firebaseui.auth.soy2.page.passwordResetSuccess";function sb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}sb.a="firebaseui.auth.soy2.page.passwordResetFailure";function ob(i){var o=i.G,u="";return i="Your sign-in email address has been changed back to <strong>"+(_e(i.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(o?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></form></div>",ee(u)}ob.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function ab(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}ab.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function lb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}lb.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function ub(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}ub.a="firebaseui.auth.soy2.page.emailVerificationFailure";function cb(i){var o=i.G,u="";return i="You can now sign in with your new email <strong>"+(_e(i.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions">'+(o?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(u)}cb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function hb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}hb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function db(i){var o=i.factorId,u=i.phoneNumber;i=i.G;var c='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(o){case"phone":o="The <strong>"+(_e(o)+(" "+(_e(u)+"</strong> was removed as a second authentication step."))),c+=o;break;default:c+="The device or app was removed as a second authentication step."}return c+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(i?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></form></div>",ee(c)}db.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function fb(i){return i=i||{},i=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(i.G?'<div class="firebaseui-form-actions">'+ai()+"</div>":"")+"</div></div>",ee(i)}fb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function pb(i){var o=i.zb;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+_e(i.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',o&&(i+=Mn({label:_t("Retry")})),ee(i+"</div></div></div>")}pb.a="firebaseui.auth.soy2.page.recoverableError";function mb(i){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+_e(i.errorMessage)+"</p></div></div>",ee(i)}mb.a="firebaseui.auth.soy2.page.unrecoverableError";function gb(i,o,u){var c=i.Qb;return o="",i="Continue with "+(_e(i.jc)+"?"),c="You originally wanted to sign in with "+_e(c),o+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+i+'</h2><p class="firebaseui-text">'+c+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kn(null)+Mn({label:_t("Continue")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form></div>",ee(o)}gb.a="firebaseui.auth.soy2.page.emailMismatch";function vb(i,o,u){var c='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';i=i.Sb,o=i.length;for(var f=0;f<o;f++){var m={ga:i[f]},y=u;m=m||{};var I=m.ga,k=m;k=k||{};var $="";switch(k.ga.providerId){case"google.com":$+="firebaseui-idp-google";break;case"github.com":$+="firebaseui-idp-github";break;case"facebook.com":$+="firebaseui-idp-facebook";break;case"twitter.com":$+="firebaseui-idp-twitter";break;case"phone":$+="firebaseui-idp-phone";break;case"anonymous":$+="firebaseui-idp-anonymous";break;case"password":$+="firebaseui-idp-password";break;default:$+="firebaseui-idp-generic"}k='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Cn(He($))+' firebaseui-id-idp-button" data-provider-id="'+Cn(I.providerId)+'" style="background-color:',$=($=m)||{},$=$.ga,k=k+Cn(R0(He($.ta?$.ta:y.wa[$.providerId]?""+y.wa[$.providerId]:$.providerId.indexOf("saml.")==0?""+y.wa.saml:$.providerId.indexOf("oidc.")==0?""+y.wa.oidc:""+y.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var re=m;$=y,re=re||{},re=re.ga,$=$2(re.za?Ss(re.za):$.xa[re.providerId]?Ss($.xa[re.providerId]):re.providerId.indexOf("saml.")==0?Ss($.xa.saml):re.providerId.indexOf("oidc.")==0?Ss($.xa.oidc):Ss($.xa.password)),k=k+Cn(Ss($))+'"></span>',I.providerId=="password"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=_e(I.V):I.S?(m="Sign in with "+_e(Ur(m,y)),k+=m):k+="Sign in with email",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+_e(I.S):k+"Email",k+="</span>"):I.providerId=="phone"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=_e(I.V):I.S?(m="Sign in with "+_e(Ur(m,y)),k+=m):k+="Sign in with phone",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+_e(I.S):k+"Phone",k+="</span>"):I.providerId=="anonymous"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=_e(I.V):I.S?(m="Sign in with "+_e(Ur(m,y)),k+=m):k+="Continue as guest",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+_e(I.S):k+"Guest",k+="</span>"):(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=_e(I.V):($="Sign in with "+_e(Ur(m,y)),k+=$),k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(I.S?_e(I.S):_e(Ur(m,y)))+"</span>"),I=ee(k+"</button>"),c+='<li class="firebaseui-list-item">'+I+"</li>"}return c+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Qo(u)+"</div></div>",ee(c)}vb.a="firebaseui.auth.soy2.page.providerSignIn";function yb(i,o,u){i=i||{};var c=i.Gb,f=i.Va;o=i.ia,i=i||{},i=i.Aa,i='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Cn(i??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ee(i);var m;return c?m=ee('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):m="",m=i+m+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(f?Kn(null):"")+Mn({label:_t("Verify")})+'</div></div><div class="firebaseui-card-footer">',o?(o='<p class="firebaseui-tos firebaseui-phone-tos">',o=u.F&&u.D?o+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':o+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ee(o+"</p>")):u=ee('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+an(u),ee(m+u+"</div></form></div>")}yb.a="firebaseui.auth.soy2.page.phoneSignInStart";function _b(i,o,u){i=i||{},o=i.phoneNumber;var c="";return i='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(_e(o)+"</a>"),_e(o),o=c,c=ee('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+"</p>"+c+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kn(null)+Mn({label:_t("Continue")})+'</div></div><div class="firebaseui-card-footer">'+an(u)+"</div></form>",i=ee('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ee(o+(u+i+"</div>"))}_b.a="firebaseui.auth.soy2.page.phoneSignInFinish";function wb(){return ee('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}wb.a="firebaseui.auth.soy2.page.signOut";function Eb(i,o,u){var c='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';i=i.ec,o=i.length;for(var f=0;f<o;f++){var m=i[f],y="",I=_e(m.displayName),k=m.tenantId?m.tenantId:"top-level-project";k=_t(k),y+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Cn(k)+' firebaseui-id-tenant-selection-button"'+(m.tenantId?'data-tenant-id="'+Cn(m.tenantId)+'"':"")+'style="background-color:'+Cn(R0(m.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Cn(Ss(m.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',m.V?y+=_e(m.V):(m="Sign in to "+_e(m.displayName),y+=m),y=ee(y+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+I+"</span></button>")),c+='<li class="firebaseui-list-item">'+y+"</li>"}return c+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Qo(u)+"</div></div>",ee(c)}Eb.a="firebaseui.auth.soy2.page.selectTenant";function bb(i,o,u){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Yo(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Mn(null)+'</div></div><div class="firebaseui-card-footer">'+Qo(u)+"</div></form></div>",ee(i)}bb.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Ht(){return Ve(this,"firebaseui-id-submit")}function Dt(){return Ve(this,"firebaseui-id-secondary-link")}function Xt(i,o){pt(this,Ht.call(this),function(c){i(c)});var u=Dt.call(this);u&&o&&pt(this,u,function(c){o(c)})}function jh(){return Ve(this,"firebaseui-id-password")}function Bh(){return Ve(this,"firebaseui-id-password-error")}function Ib(){var i=jh.call(this),o=Bh.call(this);Go(this,i,function(){zo(o)&&(Et(i,!0),Wn(o))})}function Tb(){var i=jh.call(this),o=Bh.call(this);return Qt(i)?(Et(i,!0),Wn(o),o=!0):(Et(i,!1),Jt(o,He("Enter your password").toString()),o=!1),o?Qt(i):null}function Xo(i,o,u,c,f,m){D.call(this,JE,{email:i},m,"passwordLinking",{F:c,D:f}),this.w=o,this.H=u}h(Xo,D),Xo.prototype.v=function(){this.P(),this.M(this.w,this.H),Jo(this,this.i(),this.w),this.i().focus(),D.prototype.v.call(this)},Xo.prototype.o=function(){this.w=null,D.prototype.o.call(this)},Xo.prototype.j=function(){return Qt(Ve(this,"firebaseui-id-email"))},me(Xo.prototype,{i:jh,B:Bh,P:Ib,u:Tb,ea:Ht,ba:Dt,M:Xt});var nO=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function rr(){return Ve(this,"firebaseui-id-email")}function jr(){return Ve(this,"firebaseui-id-email-error")}function Zo(i){var o=rr.call(this),u=jr.call(this);Go(this,o,function(){zo(u)&&(Et(o,!0),Wn(u))}),i&&Ul(this,o,function(){i()})}function ea(){return O(Qt(rr.call(this))||"")}function ta(){var i=rr.call(this),o=jr.call(this),u=Qt(i)||"";return u?nO.test(u)?(Et(i,!0),Wn(o),o=!0):(Et(i,!1),Jt(o,He("That email address isn't correct").toString()),o=!1):(Et(i,!1),Jt(o,He("Enter your email address to continue").toString()),o=!1),o?O(Qt(i)):null}function Bl(i,o,u,c,f,m,y){D.call(this,UE,{email:u,ia:!!m},y,"passwordSignIn",{F:c,D:f}),this.w=i,this.H=o}h(Bl,D),Bl.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),jl(this,this.l(),this.i()),Jo(this,this.i(),this.w),Qt(this.l())?this.i().focus():this.l().focus(),D.prototype.v.call(this)},Bl.prototype.o=function(){this.H=this.w=null,D.prototype.o.call(this)},me(Bl.prototype,{l:rr,U:jr,P:Zo,M:ea,j:ta,i:jh,B:Bh,ea:Ib,u:Tb,ua:Ht,pa:Dt,ba:Xt});function Je(i,o,u,c,f,m){D.call(this,i,o,c,f||"notice",m),this.i=u||null}W(Je,D),Je.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),Je.K.v.call(this)},Je.prototype.o=function(){this.i=null,Je.K.o.call(this)},me(Je.prototype,{l:Ht,w:Dt,u:Xt});function $h(i,o,u,c,f){Je.call(this,$E,{email:i,G:!!o},o,f,"passwordRecoveryEmailSent",{F:u,D:c})}W($h,Je);function Ab(i,o){Je.call(this,lb,{G:!!i},i,o,"emailVerificationSuccess")}W(Ab,Je);function Sb(i,o){Je.call(this,ub,{G:!!i},i,o,"emailVerificationFailure")}W(Sb,Je);function Rb(i,o,u){Je.call(this,cb,{email:i,G:!!o},o,u,"verifyAndChangeEmailSuccess")}W(Rb,Je);function Cb(i,o){Je.call(this,hb,{G:!!i},i,o,"verifyAndChangeEmailFailure")}W(Cb,Je);function Pb(i,o){Je.call(this,fb,{G:!!i},i,o,"revertSecondFactorAdditionFailure")}W(Pb,Je);function kb(i){Je.call(this,wb,void 0,void 0,i,"signOut")}W(kb,Je);function Ob(i,o){Je.call(this,rb,{G:!!i},i,o,"passwordResetSuccess")}W(Ob,Je);function Nb(i,o){Je.call(this,sb,{G:!!i},i,o,"passwordResetFailure")}W(Nb,Je);function Db(i,o){Je.call(this,ab,{G:!!i},i,o,"emailChangeRevokeFailure")}W(Db,Je);function xb(i,o,u){Je.call(this,pb,{errorMessage:i,zb:!!o},o,u,"recoverableError")}W(xb,Je);function Lb(i,o){Je.call(this,mb,{errorMessage:i},void 0,o,"unrecoverableError")}W(Lb,Je);function $l(i){if(i.code==="auth/invalid-credential"&&i.message&&i.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(i.message&&i.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var o=JSON.parse(i.message.substring(i.message.indexOf("{"),i.message.lastIndexOf("}")+1));return{code:i.code,message:o&&o.error&&o.error.message||i.message}}return i}function sr(i,o,u,c){function f(y){if(!y.name||y.name!="cancel"){e:{var I=y.message;try{var k=((JSON.parse(I).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(k&&k.length){var $=!0;break e}}catch{}$=!1}if($)y=ft(o),o.m(),ot(i,y,void 0,He("Your sign-in session has expired. Please try again.").toString());else{if($=y&&y.message||"",y.code){if(y.code=="auth/email-already-in-use"||y.code=="auth/credential-already-in-use")return;$=nt(y)}o.a($)}}}if(i1(i),c)return Mb(i,u),wt();if(!u.credential)throw Error("No credential found!");if(!Le(i).currentUser&&!u.user)throw Error("User not logged in.");try{var m=xO(i,u)}catch(y){return Hn(y.code||y.message,y),o.a(y.code||y.message),wt()}return u=m.then(function(y){Mb(i,y)},f).then(void 0,f),Re(i,m),wt(u)}function Mb(i,o){if(!o.user)throw Error("No user found");var u=rE(M(i));if(km(M(i))&&u&&Fr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=rE(M(i));var c=Vw(ye(i))||void 0;Ln(Cl,ye(i));var f=!1;iw()?((!u||u(o,c))&&(f=!0,So(window.opener.location,Hh(i,c))),u||window.close()):(!u||u(o,c))&&(f=!0,So(window.location,Hh(i,c))),f||i.reset()}else{u=o.user,o=o.credential,c=km(M(i)),f=Vw(ye(i))||void 0,Ln(Cl,ye(i));var m=!1;iw()?((!c||c(u,o,f))&&(m=!0,So(window.opener.location,Hh(i,f))),c||window.close()):(!c||c(u,o,f))&&(m=!0,So(window.location,Hh(i,f))),m||i.reset()}}function Hh(i,o){if(i=o||M(i).a.get("signInSuccessUrl"),!i)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return i}function nt(i){var o={code:i.code};o=o||{};var u="";switch(o.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=N0();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=N0();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=qp();break;case"auth/invalid-verification-code":u+=He("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(o=He(u).toString())return o;try{return JSON.parse(i.message),Hn("Internal error: "+i.message,void 0),P0().toString()}catch{return i.message}}function iO(i,o,u){var c=Fo[o]&&ce.auth[Fo[o]]?new ce.auth[Fo[o]]:o.indexOf("saml.")==0?new ce.auth.SAMLAuthProvider(o):new ce.auth.OAuthProvider(o);if(!c)throw Error("Invalid Firebase Auth provider!");var f=Zw(M(i),o);if(c.addScope)for(var m=0;m<f.length;m++)c.addScope(f[m]);return f=eE(M(i),o)||{},u&&(o==ce.auth.GoogleAuthProvider.PROVIDER_ID?i="login_hint":o==ce.auth.GithubAuthProvider.PROVIDER_ID?i="login":i=(i=Ol(M(i),o))&&i.Ob,i&&(f[i]=u)),c.setCustomParameters&&c.setCustomParameters(f),c}function Hl(i,o,u,c){function f(){Ok(new Ew(i.h.tenantId||null),ye(i)),Re(i,o.I(le(i.dc,i),[k],function(){if((window.location&&window.location.protocol)==="file:")return Re(i,Xb(i).then(function($){o.m(),Ln(Ns,ye(i)),ne("callback",i,I,wt($))},m))},y))}function m($){if(Ln(Ns,ye(i)),!$.name||$.name!="cancel")switch($=$l($),$.code){case"auth/popup-blocked":f();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":o.a(nt($));break;case"auth/admin-restricted-operation":o.m(),xs(M(i))?ne("handleUnauthorizedUser",i,I,null,u):ne("callback",i,I,Ro($));break;default:o.m(),ne("callback",i,I,Ro($))}}function y($){Ln(Ns,ye(i)),$.name&&$.name=="cancel"||(Hn("signInWithRedirect: "+$.code,void 0),$=nt($),o.Ga=="blank"&&Pm(M(i))?(o.m(),ne("providerSignIn",i,I,$)):o.a($))}var I=ft(o),k=iO(i,u,c);iE(M(i))==Dh?f():Re(i,DO(i,k).then(function($){o.m(),ne("callback",i,I,wt($))},m))}function rO(i,o){Re(i,o.I(le(i.$b,i),[],function(u){return o.m(),sr(i,o,u,!0)},function(u){u.name&&u.name=="cancel"||(Hn("ContinueAsGuest: "+u.code,void 0),u=nt(u),o.a(u))}))}function sO(i,o,u){function c(m){var y=!1;return m=o.I(le(i.ac,i),[m],function(I){var k=ft(o);o.m(),ne("callback",i,k,wt(I)),y=!0},function(I){if((!I.name||I.name!="cancel")&&(!I||I.code!="auth/credential-already-in-use"))if(I&&I.code=="auth/email-already-in-use"&&I.email&&I.credential){var k=ft(o);o.m(),ne("callback",i,k,Ro(I))}else I&&I.code=="auth/admin-restricted-operation"&&xs(M(i))?(I=ft(o),o.m(),ne("handleUnauthorizedUser",i,I,null,ce.auth.GoogleAuthProvider.PROVIDER_ID)):(I=nt(I),o.a(I))}),Re(i,m),m.then(function(){return y},function(){return!1})}if(u&&u.credential&&u.clientId===Jw(M(i))){if(Zw(M(i),ce.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var f=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Hl(i,o,ce.auth.GoogleAuthProvider.PROVIDER_ID,f),wt(!0)}return c(ce.auth.GoogleAuthProvider.credential(u.credential))}return u&&o.a(He("The selected credential for the authentication provider is not supported!").toString()),wt(!1)}function oO(i,o){var u=o.j(),c=o.u();if(u)if(c){var f=ce.auth.EmailAuthProvider.credential(u,c);Re(i,o.I(le(i.bc,i),[u,c],function(m){return sr(i,o,{user:m.user,credential:f,operationType:m.operationType,additionalUserInfo:m.additionalUserInfo})},function(m){if(!m.name||m.name!="cancel")switch(m.code){case"auth/email-already-in-use":break;case"auth/email-exists":Et(o.l(),!1),Jt(o.U(),nt(m));break;case"auth/too-many-requests":case"auth/wrong-password":Et(o.i(),!1),Jt(o.B(),nt(m));break;default:Hn("verifyPassword: "+m.message,void 0),o.a(nt(m))}}))}else o.i().focus();else o.l().focus()}function qh(i){return i=Uo(M(i)),i.length==1&&i[0]==ce.auth.EmailAuthProvider.PROVIDER_ID}function Vb(i){return i=Uo(M(i)),i.length==1&&i[0]==ce.auth.PhoneAuthProvider.PROVIDER_ID}function ot(i,o,u,c){qh(i)?c?ne("signIn",i,o,u,c):Km(i,o,u):i&&Vb(i)&&!c?ne("phoneSignInStart",i,o):i&&Pm(M(i))&&!c?ne("federatedRedirect",i,o,u):ne("providerSignIn",i,o,c,u)}function Fb(i,o,u,c){var f=ft(o);Re(i,o.I(le(Le(i).fetchSignInMethodsForEmail,Le(i)),[u],function(m){o.m(),Ub(i,f,m,u,c)},function(m){m=nt(m),o.a(m)}))}function Ub(i,o,u,c,f,m){u.length||jo(M(i))&&!jo(M(i))?N(u,ce.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ne("passwordSignIn",i,o,c,m):u.length==1&&u[0]===ce.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?jo(M(i))?ne("sendEmailLinkForSignIn",i,o,c,function(){ne("signIn",i,o)}):ne("unsupportedProvider",i,o,c):(u=zw(u,Uo(M(i))))?(Fw(new gm(c),ye(i)),ne("federatedSignIn",i,o,c,u,f)):ne("unsupportedProvider",i,o,c):Xw(M(i))?ne("handleUnauthorizedUser",i,o,c,ce.auth.EmailAuthProvider.PROVIDER_ID):jo(M(i))?ne("sendEmailLinkForSignIn",i,o,c,function(){ne("signIn",i,o)}):ne("passwordSignUp",i,o,c,void 0,void 0,m)}function Wm(i,o,u,c,f,m){var y=ft(o);Re(i,o.I(le(i.Ib,i),[u,m],function(){o.m(),ne("emailLinkSignInSent",i,y,u,c,m)},f))}function Km(i,o,u){u?ne("prefilledEmailSignIn",i,o,u):ne("signIn",i,o)}function ql(){return Kc(ir(),"oobCode")}function Gm(){var i=Kc(ir(),"continueUrl");return i?function(){So(window.location,i)}:null}function Wl(i,o){D.call(this,QE,void 0,o,"anonymousUserMismatch"),this.i=i}h(Wl,D),Wl.prototype.v=function(){var i=this;pt(this,this.l(),function(){i.i()}),this.l().focus(),D.prototype.v.call(this)},Wl.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(Wl.prototype,{l:Dt}),ze.anonymousUserMismatch=function(i,o){var u=new Wl(function(){u.m(),ot(i,o)});u.render(o),Ne(i,u)};function Wh(i){D.call(this,HE,void 0,i,"callback")}h(Wh,D),Wh.prototype.I=function(i,o,u,c){return i.apply(null,o).then(u,c)};function jb(i,o,u){if(u.user){var c={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},f=Si(ye(i)),m=f&&f.g;if(m&&!lO(u.user,m))aO(i,o,c);else{var y=f&&f.a;y?Re(i,u.user.linkWithCredential(y).then(function(I){c={user:I.user,credential:y,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo},Bb(i,o,c)},function(I){Kh(i,o,I)})):Bb(i,o,c)}}else u=ft(o),o.m(),Ri(ye(i)),ot(i,u)}function Bb(i,o,u){Ri(ye(i)),sr(i,o,u)}function Kh(i,o,u){var c=ft(o);Ri(ye(i)),u=nt(u),o.m(),ot(i,c,void 0,u)}function $b(i,o,u,c){var f=ft(o);Re(i,Le(i).fetchSignInMethodsForEmail(u).then(function(m){o.m(),m.length?N(m,ce.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ne("passwordLinking",i,f,u):m.length==1&&m[0]===ce.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ne("emailLinkSignInLinking",i,f,u):(m=zw(m,Uo(M(i))))?ne("federatedLinking",i,f,u,m,c):(Ri(ye(i)),ne("unsupportedProvider",i,f,u)):(Ri(ye(i)),ne("passwordRecovery",i,f,u,!1,k0().toString()))},function(m){Kh(i,o,m)}))}function aO(i,o,u){var c=ft(o);Re(i,Br(i).then(function(){o.m(),ne("emailMismatch",i,c,u)},function(f){f.name&&f.name=="cancel"||(f=nt(f.code),o.a(f))}))}function lO(i,o){if(o==i.email)return!0;if(i.providerData){for(var u=0;u<i.providerData.length;u++)if(o==i.providerData[u].email)return!0}return!1}ze.callback=function(i,o,u){var c=new Wh;c.render(o),Ne(i,c),u=u||Xb(i),Re(i,u.then(function(f){jb(i,c,f)},function(f){if((f=$l(f))&&(f.code=="auth/account-exists-with-different-credential"||f.code=="auth/email-already-in-use")&&f.email&&f.credential)Fw(new gm(f.email,f.credential),ye(i)),$b(i,c,f.email);else if(f&&f.code=="auth/user-cancelled"){var m=Si(ye(i)),y=nt(f);m&&m.a?$b(i,c,m.g,y):m?Fb(i,c,m.g,y):Kh(i,c,f)}else f&&f.code=="auth/credential-already-in-use"||(f&&f.code=="auth/operation-not-supported-in-this-environment"&&qh(i)?jb(i,c,{user:null,credential:null}):f&&f.code=="auth/admin-restricted-operation"&&xs(M(i))?(c.m(),Ri(ye(i)),ne("handleUnauthorizedUser",i,o,null,null)):Kh(i,c,f))}))};function Kl(i,o){D.call(this,YE,void 0,o,"differentDeviceError"),this.i=i}h(Kl,D),Kl.prototype.v=function(){var i=this;pt(this,this.l(),function(){i.i()}),this.l().focus(),D.prototype.v.call(this)},Kl.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(Kl.prototype,{l:Dt}),ze.differentDeviceError=function(i,o){var u=new Kl(function(){u.m(),ot(i,o)});u.render(o),Ne(i,u)};function Gl(i,o,u,c){D.call(this,ob,{email:i,G:!!u},c,"emailChangeRevoke"),this.l=o,this.i=u||null}h(Gl,D),Gl.prototype.v=function(){var i=this;pt(this,Ve(this,"firebaseui-id-reset-password-link"),function(){i.l()}),this.i&&(this.w(this.i),this.u().focus()),D.prototype.v.call(this)},Gl.prototype.o=function(){this.l=this.i=null,D.prototype.o.call(this)},me(Gl.prototype,{u:Ht,B:Dt,w:Xt});function zl(){return Ve(this,"firebaseui-id-new-password")}function Gh(){return Ve(this,"firebaseui-id-password-toggle")}function uO(){this.Ra=!this.Ra;var i=Gh.call(this),o=zl.call(this);this.Ra?(o.type="text",Ci(i,"firebaseui-input-toggle-off"),Pi(i,"firebaseui-input-toggle-on")):(o.type="password",Ci(i,"firebaseui-input-toggle-on"),Pi(i,"firebaseui-input-toggle-off")),o.focus()}function zh(){return Ve(this,"firebaseui-id-new-password-error")}function Hb(){this.Ra=!1;var i=zl.call(this);i.type="password";var o=zh.call(this);Go(this,i,function(){zo(o)&&(Et(i,!0),Wn(o))});var u=Gh.call(this);Ci(u,"firebaseui-input-toggle-on"),Pi(u,"firebaseui-input-toggle-off"),Jk(this,i,function(){Ci(u,"firebaseui-input-toggle-focus"),Pi(u,"firebaseui-input-toggle-blur")}),Xk(this,i,function(){Ci(u,"firebaseui-input-toggle-blur"),Pi(u,"firebaseui-input-toggle-focus")}),pt(this,u,le(uO,this))}function qb(){var i=zl.call(this),o=zh.call(this);return Qt(i)?(Et(i,!0),Wn(o),o=!0):(Et(i,!1),Jt(o,He("Enter your password").toString()),o=!1),o?Qt(i):null}function Yl(i,o,u){D.call(this,ib,{email:i},u,"passwordReset"),this.l=o}h(Yl,D),Yl.prototype.v=function(){this.H(),this.B(this.l),Jo(this,this.i(),this.l),this.i().focus(),D.prototype.v.call(this)},Yl.prototype.o=function(){this.l=null,D.prototype.o.call(this)},me(Yl.prototype,{i:zl,w:zh,M:Gh,H:Hb,u:qb,U:Ht,P:Dt,B:Xt});function Ql(i,o,u,c,f){D.call(this,db,{factorId:i,phoneNumber:u||null,G:!!c},f,"revertSecondFactorAdditionSuccess"),this.l=o,this.i=c||null}h(Ql,D),Ql.prototype.v=function(){var i=this;pt(this,Ve(this,"firebaseui-id-reset-password-link"),function(){i.l()}),this.i&&(this.w(this.i),this.u().focus()),D.prototype.v.call(this)},Ql.prototype.o=function(){this.l=this.i=null,D.prototype.o.call(this)},me(Ql.prototype,{u:Ht,B:Dt,w:Xt});function cO(i,o,u,c,f){var m=u.u();m&&Re(i,u.I(le(Le(i).confirmPasswordReset,Le(i)),[c,m],function(){u.m();var y=new Ob(f);y.render(o),Ne(i,y)},function(y){Wb(i,o,u,y)}))}function Wb(i,o,u,c){(c&&c.code)=="auth/weak-password"?(i=nt(c),Et(u.i(),!1),Jt(u.w(),i),u.i().focus()):(u&&u.m(),u=new Nb,u.render(o),Ne(i,u))}function hO(i,o,u){var c=new Gl(u,function(){Re(i,c.I(le(Le(i).sendPasswordResetEmail,Le(i)),[u],function(){c.m(),c=new $h(u,void 0,St(M(i)),Rt(M(i))),c.render(o),Ne(i,c)},function(){c.a(C0().toString())}))});c.render(o),Ne(i,c)}function dO(i,o,u,c){var f=new Ql(c.factorId,function(){f.I(le(Le(i).sendPasswordResetEmail,Le(i)),[u],function(){f.m(),f=new $h(u,void 0,St(M(i)),Rt(M(i))),f.render(o),Ne(i,f)},function(){f.a(C0().toString())})},c.phoneNumber);f.render(o),Ne(i,f)}ze.passwordReset=function(i,o,u,c){Re(i,Le(i).verifyPasswordResetCode(u).then(function(f){var m=new Yl(f,function(){cO(i,o,m,u,c)});m.render(o),Ne(i,m)},function(){Wb(i,o)}))},ze.emailChangeRevocation=function(i,o,u){var c=null;Re(i,Le(i).checkActionCode(u).then(function(f){return c=f.data.email,Le(i).applyActionCode(u)}).then(function(){hO(i,o,c)},function(){var f=new Db;f.render(o),Ne(i,f)}))},ze.emailVerification=function(i,o,u,c){Re(i,Le(i).applyActionCode(u).then(function(){var f=new Ab(c);f.render(o),Ne(i,f)},function(){var f=new Sb;f.render(o),Ne(i,f)}))},ze.revertSecondFactorAddition=function(i,o,u){var c=null,f=null;Re(i,Le(i).checkActionCode(u).then(function(m){return c=m.data.email,f=m.data.multiFactorInfo,Le(i).applyActionCode(u)}).then(function(){dO(i,o,c,f)},function(){var m=new Pb;m.render(o),Ne(i,m)}))},ze.verifyAndChangeEmail=function(i,o,u,c){var f=null;Re(i,Le(i).checkActionCode(u).then(function(m){return f=m.data.email,Le(i).applyActionCode(u)}).then(function(){var m=new Rb(f,c);m.render(o),Ne(i,m)},function(){var m=new Cb;m.render(o),Ne(i,m)}))};function Yh(i,o){try{var u=typeof i.selectionStart=="number"}catch{u=!1}u?(i.selectionStart=o,i.selectionEnd=o):yt&&!Is("9")&&(i.type=="textarea"&&(o=i.value.substring(0,o).replace(/(\r\n|\r|\n)/g,`
`).length),i=i.createTextRange(),i.collapse(!0),i.move("character",o),i.select())}function Jl(i,o,u,c,f,m){D.call(this,zE,{email:u},m,"emailLinkSignInConfirmation",{F:c,D:f}),this.l=i,this.u=o}h(Jl,D),Jl.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Yh(this.i(),(this.i().value||"").length),D.prototype.v.call(this)},Jl.prototype.o=function(){this.u=this.l=null,D.prototype.o.call(this)},me(Jl.prototype,{i:rr,M:jr,w:Zo,H:ea,j:ta,U:Ht,P:Dt,B:Xt}),ze.emailLinkConfirmation=function(i,o,u,c,f,m){var y=new Jl(function(){var I=y.j();I?(y.m(),c(i,o,I,u)):y.i().focus()},function(){y.m(),ot(i,o,f||void 0)},f||void 0,St(M(i)),Rt(M(i)));y.render(o),Ne(i,y),m&&y.a(m)};function Xl(i,o,u,c,f){D.call(this,ZE,{ga:i},f,"emailLinkSignInLinkingDifferentDevice",{F:u,D:c}),this.i=o}h(Xl,D),Xl.prototype.v=function(){this.u(this.i),this.l().focus(),D.prototype.v.call(this)},Xl.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(Xl.prototype,{l:Ht,u:Xt}),ze.emailLinkNewDeviceLinking=function(i,o,u,c){var f=new bs(u);if(u=f.a.a.get(kt.PROVIDER_ID)||null,s0(f,null),u){var m=new Xl(Ol(M(i),u),function(){m.m(),c(i,o,f.toString())},St(M(i)),Rt(M(i)));m.render(o),Ne(i,m)}else ot(i,o)};function Qh(i){D.call(this,WE,void 0,i,"blank")}h(Qh,D);function zm(i,o,u,c,f){var m=new Qh,y=new bs(u),I=y.a.a.get(kt.$a)||"",k=y.a.a.get(kt.Sa)||"",$=y.a.a.get(kt.Qa)==="1",re=r0(y),Xe=y.a.a.get(kt.PROVIDER_ID)||null;y=y.a.a.get(kt.vb)||null,r1(i,y);var ci=!Mo(Lo,ye(i)),u1=c||Nk(k,ye(i)),hu=(c=Dk(k,ye(i)))&&c.a;Xe&&hu&&hu.providerId!==Xe&&(hu=null),m.render(o),Ne(i,m),Re(i,m.I(function(){var ei=wt(null);ei=re&&ci||ci&&$?Ro(Error("anonymous-user-not-found")):kO(i,u).then(function(sg){if(Xe&&!hu)throw Error("pending-credential-not-found");return sg});var du=null;return ei.then(function(sg){return du=sg,f?null:Le(i).checkActionCode(I)}).then(function(){return du})},[],function(ei){u1?pO(i,m,u1,u,hu,ei):$?(m.m(),ne("differentDeviceError",i,o)):(m.m(),ne("emailLinkConfirmation",i,o,u,Kb))},function(ei){var du=void 0;if(!ei||!ei.name||ei.name!="cancel")switch(m.m(),ei&&ei.message){case"anonymous-user-not-found":ne("differentDeviceError",i,o);break;case"anonymous-user-mismatch":ne("anonymousUserMismatch",i,o);break;case"pending-credential-not-found":ne("emailLinkNewDeviceLinking",i,o,u,fO);break;default:ei&&(du=nt(ei)),ot(i,o,void 0,du)}}))}function Kb(i,o,u,c){zm(i,o,c,u,!0)}function fO(i,o,u){zm(i,o,u)}function pO(i,o,u,c,f,m){var y=ft(o);o.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",He("Signing in...").toString());var I=null;f=(m?OO(i,m,u,c,f):NO(i,u,c,f)).then(function(k){Ln(Pl,ye(i)),Ln(Lo,ye(i)),o.h(),o.$("firebaseui-icon-done",He("Signed in!").toString()),I=setTimeout(function(){o.h(),sr(i,o,k,!0)},1e3),Re(i,function(){o&&(o.h(),o.m()),clearTimeout(I)})},function(k){if(o.h(),o.m(),!k.name||k.name!="cancel"){k=$l(k);var $=nt(k);k.code=="auth/email-already-in-use"||k.code=="auth/credential-already-in-use"?(Ln(Pl,ye(i)),Ln(Lo,ye(i))):k.code=="auth/invalid-email"?($=He("The email provided does not match the current sign-in session.").toString(),ne("emailLinkConfirmation",i,y,c,Kb,null,$)):ot(i,y,u,$)}}),Re(i,f)}ze.emailLinkSignInCallback=zm;function Zl(i,o,u,c,f,m){D.call(this,XE,{email:i,ga:o},m,"emailLinkSignInLinking",{F:c,D:f}),this.i=u}h(Zl,D),Zl.prototype.v=function(){this.u(this.i),this.l().focus(),D.prototype.v.call(this)},Zl.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(Zl.prototype,{l:Ht,u:Xt});function mO(i,o,u,c){var f=ft(o);Wm(i,o,u,function(){ot(i,f,u)},function(m){if(!m.name||m.name!="cancel"){var y=nt(m);m&&m.code=="auth/network-request-failed"?o.a(y):(o.m(),ot(i,f,u,y))}},c)}ze.emailLinkSignInLinking=function(i,o,u){var c=Si(ye(i));if(Ri(ye(i)),c){var f=c.a.providerId,m=new Zl(u,Ol(M(i),f),function(){mO(i,m,u,c)},St(M(i)),Rt(M(i)));m.render(o),Ne(i,m)}else ot(i,o)};function eu(i,o,u,c,f,m){D.call(this,KE,{email:i},m,"emailLinkSignInSent",{F:c,D:f}),this.u=o,this.i=u}h(eu,D),eu.prototype.v=function(){var i=this;pt(this,this.l(),function(){i.i()}),pt(this,Ve(this,"firebaseui-id-trouble-getting-email-link"),function(){i.u()}),this.l().focus(),D.prototype.v.call(this)},eu.prototype.o=function(){this.i=this.u=null,D.prototype.o.call(this)},me(eu.prototype,{l:Dt}),ze.emailLinkSignInSent=function(i,o,u,c,f){var m=new eu(u,function(){m.m(),ne("emailNotReceived",i,o,u,c,f)},function(){m.m(),c()},St(M(i)),Rt(M(i)));m.render(o),Ne(i,m)};function tu(i,o,u,c,f,m,y){D.call(this,gb,{jc:i,Qb:o},y,"emailMismatch",{F:f,D:m}),this.l=u,this.i=c}h(tu,D),tu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),D.prototype.v.call(this)},tu.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(tu.prototype,{u:Ht,B:Dt,w:Xt}),ze.emailMismatch=function(i,o,u){var c=Si(ye(i));if(c){var f=new tu(u.user.email,c.g,function(){var m=f;Ri(ye(i)),sr(i,m,u)},function(){var m=u.credential.providerId,y=ft(f);f.m(),c.a?ne("federatedLinking",i,y,c.g,m):ne("federatedSignIn",i,y,c.g,m)},St(M(i)),Rt(M(i)));f.render(o),Ne(i,f)}else ot(i,o)};function na(i,o,u,c,f){D.call(this,GE,void 0,f,"emailNotReceived",{F:u,D:c}),this.l=i,this.i=o}h(na,D),na.prototype.v=function(){var i=this;pt(this,this.u(),function(){i.i()}),pt(this,this.Da(),function(){i.l()}),this.u().focus(),D.prototype.v.call(this)},na.prototype.Da=function(){return Ve(this,"firebaseui-id-resend-email-link")},na.prototype.o=function(){this.i=this.l=null,D.prototype.o.call(this)},me(na.prototype,{u:Dt}),ze.emailNotReceived=function(i,o,u,c,f){var m=new na(function(){Wm(i,m,u,c,function(y){y=nt(y),m.a(y)},f)},function(){m.m(),ot(i,o,u)},St(M(i)),Rt(M(i)));m.render(o),Ne(i,m)};function ia(i,o,u,c,f,m){D.call(this,eb,{email:i,ga:o},m,"federatedLinking",{F:c,D:f}),this.i=u}h(ia,D),ia.prototype.v=function(){this.u(this.i),this.l().focus(),D.prototype.v.call(this)},ia.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(ia.prototype,{l:Ht,u:Xt}),ze.federatedLinking=function(i,o,u,c,f){var m=Si(ye(i));if(m&&m.a){var y=new ia(u,Ol(M(i),c),function(){Hl(i,y,c,u)},St(M(i)),Rt(M(i)));y.render(o),Ne(i,y),f&&y.a(f)}else ot(i,o)},ze.federatedRedirect=function(i,o,u){var c=new Qh;c.render(o),Ne(i,c),o=Uo(M(i))[0],Hl(i,c,o,u)},ze.federatedSignIn=function(i,o,u,c,f){var m=new ia(u,Ol(M(i),c),function(){Hl(i,m,c,u)},St(M(i)),Rt(M(i)));m.render(o),Ne(i,m),f&&m.a(f)};function gO(i,o,u,c){var f=o.u();f?Re(i,o.I(le(i.Xb,i),[u,f],function(m){return m=m.user.linkWithCredential(c).then(function(y){return sr(i,o,{user:y.user,credential:c,operationType:y.operationType,additionalUserInfo:y.additionalUserInfo})}),Re(i,m),m},function(m){if(!m.name||m.name!="cancel")switch(m.code){case"auth/wrong-password":Et(o.i(),!1),Jt(o.B(),nt(m));break;case"auth/too-many-requests":o.a(nt(m));break;default:Hn("signInWithEmailAndPassword: "+m.message,void 0),o.a(nt(m))}})):o.i().focus()}ze.passwordLinking=function(i,o,u){var c=Si(ye(i));Ri(ye(i));var f=c&&c.a;if(f){var m=new Xo(u,function(){gO(i,m,u,f)},function(){m.m(),ne("passwordRecovery",i,o,u)},St(M(i)),Rt(M(i)));m.render(o),Ne(i,m)}else ot(i,o)};function nu(i,o,u,c,f,m){D.call(this,BE,{email:u,Ta:!!o},m,"passwordRecovery",{F:c,D:f}),this.l=i,this.u=o}h(nu,D),nu.prototype.v=function(){this.B(),this.H(this.l,this.u),Qt(this.i())||this.i().focus(),Jo(this,this.i(),this.l),D.prototype.v.call(this)},nu.prototype.o=function(){this.u=this.l=null,D.prototype.o.call(this)},me(nu.prototype,{i:rr,w:jr,B:Zo,M:ea,j:ta,U:Ht,P:Dt,H:Xt});function vO(i,o){var u=o.j();if(u){var c=ft(o);Re(i,o.I(le(Le(i).sendPasswordResetEmail,Le(i)),[u],function(){o.m();var f=new $h(u,function(){f.m(),ot(i,c)},St(M(i)),Rt(M(i)));f.render(c),Ne(i,f)},function(f){Et(o.i(),!1),Jt(o.w(),nt(f))}))}else o.i().focus()}ze.passwordRecovery=function(i,o,u,c,f){var m=new nu(function(){vO(i,m)},c?void 0:function(){m.m(),ot(i,o)},u,St(M(i)),Rt(M(i)));m.render(o),Ne(i,m),f&&m.a(f)},ze.passwordSignIn=function(i,o,u,c){var f=new Bl(function(){oO(i,f)},function(){var m=f.M();f.m(),ne("passwordRecovery",i,o,m)},u,St(M(i)),Rt(M(i)),c);f.render(o),Ne(i,f)};function Ym(){return Ve(this,"firebaseui-id-name")}function Qm(){return Ve(this,"firebaseui-id-name-error")}function iu(i,o,u,c,f,m,y,I,k){D.call(this,jE,{email:c,Tb:i,name:f,Ta:!!u,ia:!!I},k,"passwordSignUp",{F:m,D:y}),this.w=o,this.H=u,this.B=i}h(iu,D),iu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(jl(this,this.i(),this.u()),jl(this,this.u(),this.l())):jl(this,this.i(),this.l()),this.w&&Jo(this,this.l(),this.w),Qt(this.i())?this.B&&!Qt(this.u())?this.u().focus():this.l().focus():this.i().focus(),D.prototype.v.call(this)},iu.prototype.o=function(){this.H=this.w=null,D.prototype.o.call(this)},me(iu.prototype,{i:rr,U:jr,ea:Zo,jb:ea,j:ta,u:Ym,Bc:Qm,Ja:function(){var i=Ym.call(this),o=Qm.call(this);Go(this,i,function(){zo(o)&&(Et(i,!0),Wn(o))})},M:function(){var i=Ym.call(this),o=Qm.call(this),u=Qt(i);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Et(i,u),u?(Wn(o),o=!0):(Jt(o,He("Enter your account name").toString()),o=!1),o?O(Qt(i)):null},l:zl,ba:zh,lb:Gh,ua:Hb,P:qb,Nb:Ht,Mb:Dt,pa:Xt});function yO(i,o){var u=nE(M(i)),c=o.j(),f=null;u&&(f=o.M());var m=o.P();if(c){if(u)if(f)f=ae(f);else{o.u().focus();return}if(m){var y=ce.auth.EmailAuthProvider.credential(c,m);Re(i,o.I(le(i.Yb,i),[c,m],function(I){var k={user:I.user,credential:y,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo};return u?(I=I.user.updateProfile({displayName:f}).then(function(){return sr(i,o,k)}),Re(i,I),I):sr(i,o,k)},function(I){if(!I.name||I.name!="cancel"){var k=$l(I);switch(I=nt(k),k.code){case"auth/email-already-in-use":return _O(i,o,c,k);case"auth/too-many-requests":I=He("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Et(o.l(),!1),Jt(o.ba(),I);break;case"auth/admin-restricted-operation":xs(M(i))?(I=ft(o),o.m(),ne("handleUnauthorizedUser",i,I,c,ce.auth.EmailAuthProvider.PROVIDER_ID)):o.a(I);break;default:k="setAccountInfo: "+Nw(k),Hn(k,void 0),o.a(I)}}}))}else o.l().focus()}else o.i().focus()}function _O(i,o,u,c){function f(){var y=nt(c);Et(o.i(),!1),Jt(o.U(),y),o.i().focus()}var m=Le(i).fetchSignInMethodsForEmail(u).then(function(y){y.length?f():(y=ft(o),o.m(),ne("passwordRecovery",i,y,u,!1,k0().toString()))},function(){f()});return Re(i,m),m}ze.passwordSignUp=function(i,o,u,c,f,m){function y(){I.m(),ot(i,o)}var I=new iu(nE(M(i)),function(){yO(i,I)},f?void 0:y,u,c,St(M(i)),Rt(M(i)),m);I.render(o),Ne(i,I)};function Jm(){return Ve(this,"firebaseui-id-phone-confirmation-code")}function Gb(){return Ve(this,"firebaseui-id-phone-confirmation-code-error")}function zb(){return Ve(this,"firebaseui-id-resend-countdown")}function ra(i,o,u,c,f,m,y,I,k){D.call(this,_b,{phoneNumber:f},k,"phoneSignInFinish",{F:y,D:I}),this.jb=m,this.i=new xh(1e3),this.B=m,this.P=i,this.l=o,this.H=u,this.M=c}h(ra,D),ra.prototype.v=function(){var i=this;this.U(this.jb),oi(this.i,"tick",this.w,!1,this),this.i.start(),pt(this,Ve(this,"firebaseui-id-change-phone-number-link"),function(){i.P()}),pt(this,this.Da(),function(){i.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),D.prototype.v.call(this)},ra.prototype.o=function(){this.M=this.H=this.l=this.P=null,Lh(this.i),Cs(this.i,"tick",this.w),this.i=null,D.prototype.o.call(this)},ra.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Lh(this.i),Cs(this.i,"tick",this.w),this.ua(),this.lb())},me(ra.prototype,{u:Jm,pa:Gb,Ja:function(i){var o=Jm.call(this),u=Gb.call(this);Go(this,o,function(){zo(u)&&(Et(o,!0),Wn(u))}),i&&Ul(this,o,function(){i()})},ba:function(){var i=O(Qt(Jm.call(this))||"");return/^\d{6}$/.test(i)?i:null},Fb:zb,U:function(i){jp(zb.call(this),He("Resend code in "+((9<i?"0:":"0:0")+i)).toString())},ua:function(){Wn(this.Fb())},Da:function(){return Ve(this,"firebaseui-id-resend-link")},lb:function(){Jt(this.Da())},Nb:Ht,Mb:Dt,ea:Xt});function wO(i,o,u,c){function f(y){o.u().focus(),Et(o.u(),!1),Jt(o.pa(),y)}var m=o.ba();m?(o.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",He("Verifying...").toString()),Re(i,o.I(le(c.confirm,c),[m],function(y){o.h(),o.$("firebaseui-icon-done",He("Verified!").toString());var I=setTimeout(function(){o.h(),o.m();var k={user:li(i).currentUser,credential:null,operationType:y.operationType,additionalUserInfo:y.additionalUserInfo};sr(i,o,k,!0)},1e3);Re(i,function(){o&&o.h(),clearTimeout(I)})},function(y){if(y.name&&y.name=="cancel")o.h();else{var I=$l(y);switch(y=nt(I),I.code){case"auth/credential-already-in-use":o.h();break;case"auth/code-expired":I=ft(o),o.h(),o.m(),ne("phoneSignInStart",i,I,u,y);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":o.h(),f(y);break;default:o.h(),o.a(y)}}}))):f(He("Wrong code. Try again.").toString())}ze.phoneSignInFinish=function(i,o,u,c,f,m){var y=new ra(function(){y.m(),ne("phoneSignInStart",i,o,u)},function(){wO(i,y,u,f)},function(){y.m(),ot(i,o)},function(){y.m(),ne("phoneSignInStart",i,o,u)},Rm(u),c,St(M(i)),Rt(M(i)));y.render(o),Ne(i,y),m&&y.a(m)};var EO=!yt&&!(xe("Safari")&&!(l0()||xe("Coast")||xe("Opera")||xe("Edge")||xe("Firefox")||xe("FxiOS")||xe("Silk")||xe("Android")));function Jh(i,o){return/-[a-z]/.test(o)?null:EO&&i.dataset?!xe("Android")||l0()||xe("Firefox")||xe("FxiOS")||xe("Opera")||xe("Silk")||o in i.dataset?(i=i.dataset[o],i===void 0?null:i):null:i.getAttribute("data-"+String(o).replace(/([A-Z])/g,"-$1").toLowerCase())}function bO(i,o,u){var c=this;i=ml(NE,{items:i},null,this.s),xE.call(this,i,!0,!0),u&&(u=IO(i,u))&&(u.focus(),Qk(u,i)),pt(this,i,function(f){(f=(f=I0(f.target,"firebaseui-id-list-box-dialog-button"))&&Jh(f,"listboxid"))&&(Uh.call(c),o(f))})}function IO(i,o){i=(i||document).getElementsByTagName("BUTTON");for(var u=0;u<i.length;u++)if(Jh(i[u],"listboxid")===o)return i[u];return null}function Ms(){return Ve(this,"firebaseui-id-phone-number")}function Yb(){return Ve(this,"firebaseui-id-country-selector")}function Xm(){return Ve(this,"firebaseui-id-phone-number-error")}function TO(i,o){var u=i.a,c=Zm("1-US-0",u),f=null;if(o&&Zm(o,u)?f=o:c?f="1-US-0":f=0<u.length?u[0].c:null,!f)throw Error("No available default country");Xh.call(this,f,i)}function Zm(i,o){return i=Ds(i),!(!i||!N(o,i))}function AO(i){return i.map(function(o){return{id:o.c,Ma:"firebaseui-flag "+eg(o),label:o.name+" "+("+"+o.b)}})}function eg(i){return"firebaseui-flag-"+i.f}function SO(i){var o=this;bO.call(this,AO(i.a),function(u){Xh.call(o,u,i,!0),o.O().focus()},this.Ba)}function Xh(i,o,u){var c=Ds(i);c&&(u&&(u=O(Qt(Ms.call(this))||""),o=Ph(o,u),o.length&&o[0].b!=c.b&&(u="+"+c.b+u.substr(o[0].b.length+1),lE(Ms.call(this),u))),o=Ds(this.Ba),this.Ba=i,i=Ve(this,"firebaseui-id-country-selector-flag"),o&&Pi(i,eg(o)),Ci(i,eg(c)),jp(Ve(this,"firebaseui-id-country-selector-code"),"+"+c.b))}function ru(i,o,u,c,f,m,y,I,k,$){D.call(this,yb,{Gb:o,Aa:k||null,Va:!!u,ia:!!m},$,"phoneSignInStart",{F:c,D:f}),this.H=I||null,this.M=o,this.l=i,this.w=u||null,this.pa=y||null}h(ru,D),ru.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||jl(this,this.O(),this.i()),Jo(this,this.i(),this.l),this.O().focus(),Yh(this.O(),(this.O().value||"").length),D.prototype.v.call(this)},ru.prototype.o=function(){this.w=this.l=null,D.prototype.o.call(this)},me(ru.prototype,{Cb:Hm,O:Ms,B:Xm,ea:function(i,o,u){var c=this,f=Ms.call(this),m=Yb.call(this),y=Xm.call(this),I=i||kl,k=I.a;if(k.length==0)throw Error("No available countries provided.");TO.call(c,I,o),pt(this,m,function(){SO.call(c,I)}),Go(this,f,function(){zo(y)&&(Et(f,!0),Wn(y));var $=O(Qt(f)||""),re=Ds(this.Ba),Xe=Ph(I,$);$=Zm("1-US-0",k),Xe.length&&Xe[0].b!=re.b&&(re=Xe[0],Xh.call(c,re.b=="1"&&$?"1-US-0":re.c,I))}),u&&Ul(this,f,function(){u()})},U:function(i){var o=O(Qt(Ms.call(this))||"");i=i||kl;var u=i.a,c=Ph(kl,o);if(c.length&&!N(u,c[0]))throw lE(Ms.call(this)),Ms.call(this).focus(),Jt(Xm.call(this),He("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=Ds(this.Ba),c.length&&c[0].b!=u.b&&Xh.call(this,c[0].c,i),c.length&&(o=o.substr(c[0].b.length+1)),o?new Kw(this.Ba,o):null},Ja:Yb,ba:function(){return Ve(this,"firebaseui-recaptcha-container")},u:function(){return Ve(this,"firebaseui-id-recaptcha-error")},i:Ht,ua:Dt,P:Xt});function Qb(i,o,u,c){try{var f=o.U(Lm)}catch{return}f?Dl?(o.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",He("Verifying...").toString()),Re(i,o.I(le(i.cc,i),[Rm(f),u],function(m){var y=ft(o);o.$("firebaseui-icon-done",He("Code sent!").toString());var I=setTimeout(function(){o.h(),o.m(),ne("phoneSignInFinish",i,y,f,15,m)},1e3);Re(i,function(){o&&o.h(),clearTimeout(I)})},function(m){if(o.h(),!m.name||m.name!="cancel"){grecaptcha.reset(oE),Dl=null;var y=m&&m.message||"";if(m.code)switch(m.code){case"auth/too-many-requests":y=He("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":o.O().focus(),Jt(o.B(),qp().toString());return;case"auth/admin-restricted-operation":if(xs(M(i))){m=ft(o),o.m(),ne("handleUnauthorizedUser",i,m,Rm(f),ce.auth.PhoneAuthProvider.PROVIDER_ID);return}y=nt(m);break;default:y=nt(m)}o.a(y)}}))):Bo?Jt(o.u(),He("Solve the reCAPTCHA").toString()):!Bo&&c&&o.i().click():(o.O().focus(),Jt(o.B(),qp().toString()))}ze.phoneSignInStart=function(i,o,u,c){var f=Mk(M(i))||{};Dl=null,Bo=!(f&&f.size==="invisible");var m=Vb(i),y=$k(M(i)),I=m?Bk(M(i)):null;y=u&&u.a||y&&y.c||null,u=u&&u.Aa||I,(I=Cm(M(i)))&&Ww(I),Lm=I?new $w(Cm(M(i))):kl;var k=new ru(function(re){Qb(i,k,$,!(!re||!re.keyCode))},Bo,m?null:function(){$.clear(),k.m(),ot(i,o)},St(M(i)),Rt(M(i)),m,Lm,y,u);k.render(o),Ne(i,k),c&&k.a(c),f.callback=function(re){k.u()&&Wn(k.u()),Dl=re,Bo||Qb(i,k,$)},f["expired-callback"]=function(){Dl=null};var $=new ce.auth.RecaptchaVerifier(Bo?k.ba():k.i(),f,li(i).app);Re(i,k.I(le($.render,$),[],function(re){oE=re},function(re){re.name&&re.name=="cancel"||(re=nt(re),k.m(),ot(i,o,void 0,re))}))},ze.prefilledEmailSignIn=function(i,o,u){var c=new Qh;c.render(o),Ne(i,c),Re(i,c.I(le(Le(i).fetchSignInMethodsForEmail,Le(i)),[u],function(f){c.m();var m=!(!qh(i)||!Zb(i));Ub(i,o,f,u,void 0,m)},function(f){f=nt(f),c.m(),ne("signIn",i,o,u,f)}))};function su(i,o,u,c,f){D.call(this,vb,{Sb:o},f,"providerSignIn",{F:u,D:c}),this.i=i}h(su,D),su.prototype.v=function(){this.l(this.i),D.prototype.v.call(this)},su.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(su.prototype,{l:function(i){function o(y){i(y)}for(var u=this.g?Fp("firebaseui-id-idp-button",this.g||this.s.a):[],c=0;c<u.length;c++){var f=u[c],m=Jh(f,"providerId");pt(this,f,Be(o,m))}}}),ze.providerSignIn=function(i,o,u,c){var f=new su(function(m){m==ce.auth.EmailAuthProvider.PROVIDER_ID?(f.m(),Km(i,o,c)):m==ce.auth.PhoneAuthProvider.PROVIDER_ID?(f.m(),ne("phoneSignInStart",i,o)):m=="anonymous"?rO(i,f):Hl(i,f,m,c),Fe(i),i.l.cancel()},Qw(M(i)),St(M(i)),Rt(M(i)));f.render(o),Ne(i,f),u&&f.a(u),PO(i)},ze.sendEmailLinkForSignIn=function(i,o,u,c){var f=new Wh;f.render(o),Ne(i,f),Wm(i,f,u,c,function(m){f.m(),m&&m.code=="auth/admin-restricted-operation"&&xs(M(i))?ne("handleUnauthorizedUser",i,o,u,ce.auth.EmailAuthProvider.PROVIDER_ID):(m=nt(m),ne("signIn",i,o,u,m))})};function ou(i,o,u,c,f,m,y){D.call(this,FE,{email:u,Va:!!o,ia:!!m},y,"signIn",{F:c,D:f}),this.i=i,this.u=o}h(ou,D),ou.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Yh(this.l(),(this.l().value||"").length),D.prototype.v.call(this)},ou.prototype.o=function(){this.u=this.i=null,D.prototype.o.call(this)},me(ou.prototype,{l:rr,M:jr,w:Zo,H:ea,j:ta,U:Ht,P:Dt,B:Xt}),ze.signIn=function(i,o,u,c){var f=qh(i),m=new ou(function(){var y=m,I=y.j()||"";I&&Fb(i,y,I)},f?null:function(){m.m(),ot(i,o,u)},u,St(M(i)),Rt(M(i)),f);m.render(o),Ne(i,m),c&&m.a(c)};function au(i,o,u,c,f,m,y){D.call(this,tb,{kc:i,yb:u,Eb:!!c},y,"unauthorizedUser",{F:f,D:m}),this.l=o,this.i=c}h(au,D),au.prototype.v=function(){var i=this,o=Ve(this,"firebaseui-id-unauthorized-user-help-link");this.i&&o&&pt(this,o,function(){i.i()}),pt(this,this.u(),function(){i.l()}),this.u().focus(),D.prototype.v.call(this)},au.prototype.o=function(){this.i=this.l=null,D.prototype.o.call(this)},me(au.prototype,{u:Dt}),ze.handleUnauthorizedUser=function(i,o,u,c){function f(){ot(i,o)}c===ce.auth.EmailAuthProvider.PROVIDER_ID?f=function(){Km(i,o)}:c===ce.auth.PhoneAuthProvider.PROVIDER_ID&&(f=function(){ne("phoneSignInStart",i,o)});var m=null,y=null;c===ce.auth.EmailAuthProvider.PROVIDER_ID&&Xw(M(i))?(m=Uk(M(i)),y=jk(M(i))):xs(M(i))&&(m=Vk(M(i)),y=Fk(M(i)));var I=new au(u,function(){I.m(),f()},m,y,St(M(i)),Rt(M(i)));I.render(o),Ne(i,I)};function lu(i,o,u,c,f,m){D.call(this,nb,{email:i},m,"unsupportedProvider",{F:c,D:f}),this.l=o,this.i=u}h(lu,D),lu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),D.prototype.v.call(this)},lu.prototype.o=function(){this.i=this.l=null,D.prototype.o.call(this)},me(lu.prototype,{u:Ht,B:Dt,w:Xt}),ze.unsupportedProvider=function(i,o,u){var c=new lu(u,function(){c.m(),ne("passwordRecovery",i,o,u)},function(){c.m(),ot(i,o,u)},St(M(i)),Rt(M(i)));c.render(o),Ne(i,c)};function ki(i,o){this.$=!1;var u=tg(o);if(uu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');uu[u]=this,this.a=i,this.u=null,this.Y=!1,Jb(this.a),this.h=ce.initializeApp({apiKey:i.app.options.apiKey,authDomain:i.app.options.authDomain},i.app.name+"-firebaseui-temp").auth(),(i=i.emulatorConfig)&&(u=i.port,this.h.useEmulator(i.protocol+"://"+i.host+(u===null?"":":"+u),i.options)),Jb(this.h),this.h.setPersistence&&this.h.setPersistence(ce.auth.Auth.Persistence.SESSION),this.oa=o,this.ca=new Lk,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=om.Xa(),this.j=this.C=null,this.da=this.A=!1}function Jb(i){i&&i.INTERNAL&&i.INTERNAL.logFramework&&i.INTERNAL.logFramework("FirebaseUI-web")}var uu={};function tg(i){return i||"[DEFAULT]"}function Xb(i){return Fe(i),i.i||(i.i=or(i,function(o){return o&&!Si(ye(i))?wt(li(i).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return $r(i,u)})):wt(Le(i).getRedirectResult().then(function(u){return kh(M(i))&&!u.user&&i.j&&!i.j.isAnonymous?li(i).getRedirectResult():u}))})),i.i}function Ne(i,o){Fe(i),i.g=o}var sa=null;function Le(i){return Fe(i),i.h}function li(i){return Fe(i),i.a}function ye(i){return Fe(i),i.oa}function Zb(i){return Fe(i),i.O?i.O.emailHint:void 0}t=ki.prototype,t.nb=function(){return Fe(this),!!bm(ye(this))||e1(ir())};function e1(i){return i=new bs(i),(i.a.a.get(kt.ub)||null)==="signIn"&&!!i.a.a.get(kt.$a)}t.start=function(i,o){t1(this,i,o)};function t1(i,o,u,c){Fe(i),typeof i.a.languageCode<"u"&&(i.u=i.a.languageCode);var f="en".replace(/_/g,"-");i.a.languageCode=f,i.h.languageCode=f,i.Y=!0,typeof i.a.tenantId<"u"&&(i.h.tenantId=i.a.tenantId),i.ib(u),i.O=c||null;var m=v.document;i.C?i.C.then(function(){m.readyState=="complete"?Zh(i,o):wl(window,"load",function(){Zh(i,o)})}):m.readyState=="complete"?Zh(i,o):wl(window,"load",function(){Zh(i,o)})}function Zh(i,o){var u=lh(o,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),sa){var c=sa;Fe(c),Si(ye(c))&&Fr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),sa.reset()}if(sa=i,i.T=u,CO(i,u),Ch(new ym)&&Ch(new _m)){o=lh(o,"Could not find the FirebaseUI widget element on the page."),u=ir(),c=Am(M(i).a,"queryParameterForSignInSuccessUrl"),u=(u=Kc(u,c))?Or(zc(u)).toString():null;e:{c=ir();var f=tE(M(i));c=Kc(c,f)||"";for(m in xm)if(xm[m].toLowerCase()==c.toLowerCase()){var m=xm[m];break e}m="callback"}switch(m){case"callback":u&&(m=ye(i),Vo(Cl,u,m)),i.nb()?ne("callback",i,o):ot(i,o,Zb(i));break;case"resetPassword":ne("passwordReset",i,o,ql(),Gm());break;case"recoverEmail":ne("emailChangeRevocation",i,o,ql());break;case"revertSecondFactorAddition":ne("revertSecondFactorAddition",i,o,ql());break;case"verifyEmail":ne("emailVerification",i,o,ql(),Gm());break;case"verifyAndChangeEmail":ne("verifyAndChangeEmail",i,o,ql(),Gm());break;case"signIn":ne("emailLinkSignInCallback",i,o,ir()),s1();break;case"select":u&&(m=ye(i),Vo(Cl,u,m)),ot(i,o);break;default:throw Error("Unhandled widget operation.")}o=M(i),(o=Nl(o).uiShown||null)&&o()}else o=lh(o,"Could not find the FirebaseUI widget element on the page."),m=new Lb(He("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),m.render(o),Ne(i,m);o=i.g&&i.g.Ga=="blank"&&Pm(M(i)),bm(ye(i))&&!o&&(o=bm(ye(i)),r1(i,o.a),Ln(Ns,ye(i)))}function or(i,o){if(i.A)return o(n1(i));if(Re(i,function(){i.A=!1}),kh(M(i))){var u=new Nt(function(c){Re(i,i.a.onAuthStateChanged(function(f){i.j=f,i.A||(i.A=!0,c(o(n1(i))))}))});return Re(i,u),u}return i.A=!0,o(null)}function n1(i){return Fe(i),kh(M(i))&&i.j&&i.j.isAnonymous?i.j:null}function Re(i,o){if(Fe(i),o){i.s.push(o);var u=function(){Ke(i.s,function(c){return c==o})};typeof o!="function"&&o.then(u,u)}}t.Db=function(){Fe(this),this.Z=!0};function RO(i){Fe(i);var o;return(o=i.Z)||(i=M(i),i=eE(i,ce.auth.GoogleAuthProvider.PROVIDER_ID),o=!(!i||i.prompt!=="select_account")),o}function i1(i){typeof i.a.languageCode<"u"&&i.Y&&(i.Y=!1,i.a.languageCode=i.u)}function r1(i,o){i.a.tenantId=o,i.h.tenantId=o}t.reset=function(){Fe(this);var i=this;this.T&&this.T.removeAttribute("lang"),this.J&&lk(this.J),i1(this),this.O=null,s1(),Ln(Ns,ye(this)),Fe(this),this.l.cancel(),this.i=wt({user:null,credential:null}),sa==this&&(sa=null),this.T=null;for(var o=0;o<this.s.length;o++)typeof this.s[o]=="function"?this.s[o]():this.s[o].cancel&&this.s[o].cancel();this.s=[],Ri(ye(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Br(this).then(function(){i.C=null},function(){i.C=null}))};function CO(i,o){i.L=null,i.J=new oh(o),i.J.register(),oi(i.J,"pageEnter",function(u){if(u=u&&u.pageId,i.L!=u){var c=M(i);(c=Nl(c).uiChanged||null)&&c(i.L,u),i.L=u}})}t.ib=function(i){Fe(this);var o=this.ca,u;for(u in i)try{Tm(o.a,u,i[u])}catch{Hn('Invalid config: "'+u+'"',void 0)}P2&&Tm(o.a,"popupMode",!1),Cm(o),!this.da&&km(M(this))&&(Fr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function M(i){return Fe(i),i.ca}t.Wb=function(){Fe(this);var i=M(this),o=Am(i.a,"widgetUrl");i=tE(i);for(var u=o.search(e0),c=0,f,m=[];0<=(f=Z_(o,c,i,u));)m.push(o.substring(c,f)),c=Math.min(o.indexOf("&",f)+1||u,u);m.push(o.substr(c)),o=m.join("").replace(y2,"$1"),u="="+encodeURIComponent("select"),(i+=u)?(u=o.indexOf("#"),0>u&&(u=o.length),c=o.indexOf("?"),0>c||c>u?(c=u,f=""):f=o.substring(c+1,u),o=[o.substr(0,c),f,o.substr(u)],u=o[1],o[1]=i?u?u+"&"+i:i:u,u=o[0]+(o[1]?"?"+o[1]:"")+o[2]):u=o,M(this).a.get("popupMode")?(i=(window.screen.availHeight-600)/2,o=(window.screen.availWidth-500)/2,u=u||"about:blank",i={width:500,height:600,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},i.target=i.target||u.target||"google_popup",i.width=i.width||690,i.height=i.height||500,(i=nw(u,i))&&i.focus()):So(window.location,u)};function Fe(i){if(i.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var i=this;return Fe(this),this.h.app.delete().then(function(){var o=tg(ye(i));delete uu[o],i.reset(),i.$=!0})};function PO(i){Fe(i);try{lw(i.l,Jw(M(i)),RO(i)).then(function(o){return i.g?sO(i,i.g,o):!1})}catch{}}t.Ib=function(i,o){Fe(this);var u=this,c=mk();if(!jo(M(this)))return Ro(Error("Email link sign-in should be enabled to trigger email sending."));var f=qk(M(this)),m=new bs(f.url);return A2(m,c),o&&o.a&&(xk(c,o,ye(this)),s0(m,o.a.providerId)),S2(m,Hk(M(this))),or(this,function(y){return y&&((y=y.uid)?m.a.a.set(kt.Pa,y):Es(m.a.a,kt.Pa)),f.url=m.toString(),Le(u).sendSignInLinkToEmail(i,f)}).then(function(){var y=ye(u),I={};I.email=i,Vo(Lo,Pw(c,JSON.stringify(I)),y)},function(y){throw Ln(Pl,ye(u)),Ln(Lo,ye(u)),y})};function kO(i,o){var u=r0(new bs(o));return u?(o=new Nt(function(c,f){var m=li(i).onAuthStateChanged(function(y){m(),y&&y.isAnonymous&&y.uid===u?c(y):y&&y.isAnonymous&&y.uid!==u?f(Error("anonymous-user-mismatch")):f(Error("anonymous-user-not-found"))});Re(i,m)}),Re(i,o),o):wt(null)}function OO(i,o,u,c,f){Fe(i);var m=f||null,y=ce.auth.EmailAuthProvider.credentialWithLink(u,c);return u=m?Le(i).signInWithEmailLink(u,c).then(function(I){return I.user.linkWithCredential(m)}).then(function(){return Br(i)}).then(function(){return $r(i,{code:"auth/email-already-in-use"},m)}):Le(i).fetchSignInMethodsForEmail(u).then(function(I){return I.length?$r(i,{code:"auth/email-already-in-use"},y):o.linkWithCredential(y)}),Re(i,u),u}function NO(i,o,u,c){Fe(i);var f=c||null,m;return o=Le(i).signInWithEmailLink(o,u).then(function(y){if(m={user:y.user,credential:null,operationType:y.operationType,additionalUserInfo:y.additionalUserInfo},f)return y.user.linkWithCredential(f).then(function(I){m={user:I.user,credential:f,operationType:m.operationType,additionalUserInfo:I.additionalUserInfo}})}).then(function(){Br(i)}).then(function(){return li(i).updateCurrentUser(m.user)}).then(function(){return m.user=li(i).currentUser,m}),Re(i,o),o}function s1(){var i=ir();if(e1(i)){i=new bs(i);for(var o in kt)kt.hasOwnProperty(o)&&Es(i.a.a,kt[o]);o={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(o,u,i.toString())}}t.bc=function(i,o){Fe(this);var u=this;return Le(this).signInWithEmailAndPassword(i,o).then(function(c){return or(u,function(f){return f?Br(u).then(function(){return $r(u,{code:"auth/email-already-in-use"},ce.auth.EmailAuthProvider.credential(i,o))}):c})})},t.Yb=function(i,o){Fe(this);var u=this;return or(this,function(c){if(c){var f=ce.auth.EmailAuthProvider.credential(i,o);return c.linkWithCredential(f)}return Le(u).createUserWithEmailAndPassword(i,o)})},t.ac=function(i){Fe(this);var o=this;return or(this,function(u){return u?u.linkWithCredential(i).then(function(c){return c},function(c){if(c&&c.code=="auth/email-already-in-use"&&c.email&&c.credential)throw c;return $r(o,c,i)}):Le(o).signInWithCredential(i)})};function DO(i,o){return Fe(i),or(i,function(u){return u&&!Si(ye(i))?u.linkWithPopup(o).then(function(c){return c},function(c){if(c&&c.code=="auth/email-already-in-use"&&c.email&&c.credential)throw c;return $r(i,c)}):Le(i).signInWithPopup(o)})}t.dc=function(i){Fe(this);var o=this,u=this.i;return this.i=null,or(this,function(c){return c&&!Si(ye(o))?c.linkWithRedirect(i):Le(o).signInWithRedirect(i)}).then(function(){},function(c){throw o.i=u,c})},t.cc=function(i,o){Fe(this);var u=this;return or(this,function(c){return c?c.linkWithPhoneNumber(i,o).then(function(f){return new lm(f,function(m){if(m.code=="auth/credential-already-in-use")return $r(u,m);throw m})}):li(u).signInWithPhoneNumber(i,o).then(function(f){return new lm(f)})})},t.$b=function(){return Fe(this),li(this).signInAnonymously()};function xO(i,o){return Fe(i),or(i,function(u){if(i.j&&!i.j.isAnonymous&&kh(M(i))&&!Le(i).currentUser)return Br(i).then(function(){return o.credential.providerId=="password"&&(o.credential=null),o});if(u)return Br(i).then(function(){return u.linkWithCredential(o.credential)}).then(function(c){return o.user=c.user,o.credential=c.credential,o.operationType=c.operationType,o.additionalUserInfo=c.additionalUserInfo,o},function(c){if(c&&c.code=="auth/email-already-in-use"&&c.email&&c.credential)throw c;return $r(i,c,o.credential)});if(!o.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Br(i).then(function(){return li(i).updateCurrentUser(o.user)}).then(function(){return o.user=li(i).currentUser,o.operationType="signIn",o.credential&&o.credential.providerId&&o.credential.providerId=="password"&&(o.credential=null),o})})}t.Xb=function(i,o){return Fe(this),Le(this).signInWithEmailAndPassword(i,o)};function Br(i){return Fe(i),Le(i).signOut()}function $r(i,o,u){if(Fe(i),o&&o.code&&(o.code=="auth/email-already-in-use"||o.code=="auth/credential-already-in-use")){var c=sE(M(i));return wt().then(function(){return c(new gl("anonymous-upgrade-merge-conflict",null,u||o.credential))}).then(function(){throw i.g&&(i.g.m(),i.g=null),o})}return Ro(o)}function cu(i,o,u,c){D.call(this,bb,void 0,c,"providerMatchByEmail",{F:o,D:u}),this.i=i}h(cu,D),cu.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Yh(this.l(),(this.l().value||"").length),D.prototype.v.call(this)},cu.prototype.o=function(){this.i=null,D.prototype.o.call(this)},me(cu.prototype,{l:rr,H:jr,u:Zo,B:ea,j:ta,M:Ht,w:Xt});function ed(i,o,u,c,f){D.call(this,Eb,{ec:o},f,"selectTenant",{F:u,D:c}),this.i=i}h(ed,D),ed.prototype.v=function(){LO(this,this.i),D.prototype.v.call(this)},ed.prototype.o=function(){this.i=null,D.prototype.o.call(this)};function LO(i,o){function u(I){o(I)}for(var c=i.g?Fp("firebaseui-id-tenant-selection-button",i.g||i.s.a):[],f=0;f<c.length;f++){var m=c[f],y=Jh(m,"tenantId");pt(i,m,Be(u,y))}}function ng(i){D.call(this,qE,void 0,i,"spinner")}h(ng,D);function MO(i){this.a=new Im,At(this.a,"authDomain"),At(this.a,"displayMode",nd),At(this.a,"tenants"),At(this.a,"callbacks"),At(this.a,"tosUrl"),At(this.a,"privacyPolicyUrl");for(var o in i)if(i.hasOwnProperty(o))try{Tm(this.a,o,i[o])}catch{Hn('Invalid config: "'+o+'"',void 0)}}function VO(i){i=i.a.get("displayMode");for(var o in rg)if(rg[o]===i)return rg[o];return nd}function td(i){return i.a.get("callbacks")||{}}function o1(i){var o=i.a.get("tosUrl")||null;if(i=i.a.get("privacyPolicyUrl")||null,o&&!i&&Fr("Privacy Policy URL is missing, the link will not be displayed."),o&&i){if(typeof o=="function")return o;if(typeof o=="string")return function(){Po(o)}}return null}function a1(i){var o=i.a.get("tosUrl")||null,u=i.a.get("privacyPolicyUrl")||null;if(u&&!o&&Fr("Terms of Service URL is missing, the link will not be displayed."),o&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Po(u)}}return null}function ig(i,o){if(i=i.a.get("tenants"),!i||!i.hasOwnProperty(o)&&!i.hasOwnProperty(id))throw Error("Invalid tenant configuration!")}function l1(i,o,u){if(i=i.a.get("tenants"),!i)throw Error("Invalid tenant configuration!");var c=[];if(i=i[o]||i[id],!i)return Hn("Invalid tenant configuration: "+(o+" is not configured!"),void 0),c;if(o=i.signInOptions,!o)throw Error("Invalid tenant configuration: signInOptions are invalid!");return o.forEach(function(f){if(typeof f=="string")c.push(f);else if(typeof f.provider=="string"){var m=f.hd;m&&u?(m instanceof RegExp?m:new RegExp("@"+m.replace(".","\\.")+"$")).test(u)&&c.push(f.provider):c.push(f.provider)}else f="Invalid tenant configuration: signInOption "+(JSON.stringify(f)+" is invalid!"),Hn(f,void 0)}),c}function FO(i,o,u){return i=UO(i,o),(o=i.signInOptions)&&u&&(o=o.filter(function(c){return typeof c=="string"?u.includes(c):u.includes(c.provider)}),i.signInOptions=o),i}function UO(i,o){var u=jO,c=c===void 0?{}:c;return ig(i,o),i=i.a.get("tenants"),gk(i[o]||i[id],u,c)}var jO=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],nd="optionFirst",rg={pc:nd,oc:"identifierFirst"},id="*";function ui(i,o){var u=this;this.s=lh(i),this.a={},Object.keys(o).forEach(function(c){u.a[c]=new MO(o[c])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(c){this.ob=c||null},enumerable:!1})}t=ui.prototype,t.Ub=function(i,o){var u=this;Hr(this);var c=i.apiKey;return new Nt(function(f,m){if(u.a.hasOwnProperty(c)){var y=td(u.a[c]).selectTenantUiHidden||null;if(VO(u.a[c])===nd){var I=[];o.forEach(function(re){re=re||"_";var Xe=u.a[c].a.get("tenants");if(!Xe)throw Error("Invalid tenant configuration!");(Xe=Xe[re]||Xe[id])?re={tenantId:re!=="_"?re:null,V:Xe.fullLabel||null,displayName:Xe.displayName,za:Xe.iconUrl,ta:Xe.buttonColor}:(Hn("Invalid tenant configuration: "+(re+" is not configured!"),void 0),re=null),re&&I.push(re)});var k=function(re){re={tenantId:re,providerIds:l1(u.a[c],re||"_")},f(re)};if(I.length===1){k(I[0].tenantId);return}u.g=new ed(function(re){Hr(u),y&&y(),k(re)},I,o1(u.a[c]),a1(u.a[c]))}else u.g=new cu(function(){var re=u.g.j();if(re){for(var Xe=0;Xe<o.length;Xe++){var ci=l1(u.a[c],o[Xe]||"_",re);if(ci.length!==0){re={tenantId:o[Xe],providerIds:ci,email:re},Hr(u),y&&y(),f(re);return}}u.g.a(O0({code:"no-matching-tenant-for-email"}).toString())}},o1(u.a[c]),a1(u.a[c]));u.g.render(u.s),(m=td(u.a[c]).selectTenantUiShown||null)&&m()}else{var $=Error("Invalid project configuration: API key is invalid!");$.code="invalid-configuration",u.pb($),m($)}})},t.Pb=function(i,o){if(!this.a.hasOwnProperty(i))throw Error("Invalid project configuration: API key is invalid!");var u=o||void 0;ig(this.a[i],o||"_");try{this.i=ce.app(u).auth()}catch{var c=this.a[i].a.get("authDomain");if(!c)throw Error("Invalid project configuration: authDomain is required!");i=ce.initializeApp({apiKey:i,authDomain:c},u),i.auth().tenantId=o,this.i=i.auth()}return this.i},t.Zb=function(i,o){var u=this;return new Nt(function(c,f){function m(Xe,ci){u.j=new ki(i),t1(u.j,u.s,Xe,ci)}var y=i.app.options.apiKey;u.a.hasOwnProperty(y)||f(Error("Invalid project configuration: API key is invalid!"));var I=FO(u.a[y],i.tenantId||"_",o&&o.providerIds);Hr(u),f={signInSuccessWithAuthResult:function(Xe){return c(Xe),!1}};var k=td(u.a[y]).signInUiShown||null,$=!1;f.uiChanged=function(Xe,ci){Xe===null&&ci==="callback"?((Xe=Up("firebaseui-id-page-callback",u.s))&&Wn(Xe),u.h=new ng,u.h.render(u.s)):$||Xe===null&&ci==="spinner"||ci==="blank"||(u.h&&(u.h.m(),u.h=null),$=!0,k&&k(i.tenantId))},I.callbacks=f,I.credentialHelper="none";var re;o&&o.email&&(re={emailHint:o.email}),u.j?u.j.Wa().then(function(){m(I,re)}):m(I,re)})},t.reset=function(){var i=this;return wt().then(function(){i.j&&i.j.Wa()}).then(function(){i.j=null,Hr(i)})},t.Vb=function(){var i=this;this.h||this.A||(this.A=window.setTimeout(function(){Hr(i),i.h=new ng,i.g=i.h,i.h.render(i.s),i.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Hr(this),this.g=new kb,this.g.render(this.s),wt()};function Hr(i){i.j&&i.j.reset(),i.mb(),i.g&&i.g.m()}t.pb=function(i){var o=this,u=O0({code:i.code}).toString()||i.message;Hr(this);var c;i.retry&&typeof i.retry=="function"&&(c=function(){o.reset(),i.retry()}),this.g=new xb(u,c),this.g.render(this.s)},t.Rb=function(i){var o=this;return wt().then(function(){var u=o.i&&o.i.app.options.apiKey;if(!o.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(ig(o.a[u],i.tenantId||"_"),!o.i.currentUser||o.i.currentUser.uid!==i.uid)throw Error("The user being processed does not match the signed in user!");return(u=td(o.a[u]).beforeSignInSuccess||null)?u(i):i}).then(function(u){if(u.uid!==i.uid)throw Error("User with mismatching UID returned.");return u})},we("firebaseui.auth.FirebaseUiHandler",ui),we("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",ui.prototype.Ub),we("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",ui.prototype.Pb),we("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",ui.prototype.Zb),we("firebaseui.auth.FirebaseUiHandler.prototype.reset",ui.prototype.reset),we("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",ui.prototype.Vb),we("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",ui.prototype.mb),we("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",ui.prototype.Bb),we("firebaseui.auth.FirebaseUiHandler.prototype.handleError",ui.prototype.pb),we("firebaseui.auth.FirebaseUiHandler.prototype.processUser",ui.prototype.Rb),we("firebaseui.auth.AuthUI",ki),we("firebaseui.auth.AuthUI.getInstance",function(i){return i=tg(i),uu[i]?uu[i]:null}),we("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ki.prototype.Db),we("firebaseui.auth.AuthUI.prototype.start",ki.prototype.start),we("firebaseui.auth.AuthUI.prototype.setConfig",ki.prototype.ib),we("firebaseui.auth.AuthUI.prototype.signIn",ki.prototype.Wb),we("firebaseui.auth.AuthUI.prototype.reset",ki.prototype.reset),we("firebaseui.auth.AuthUI.prototype.delete",ki.prototype.Wa),we("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ki.prototype.nb),we("firebaseui.auth.AuthUIError",gl),we("firebaseui.auth.AuthUIError.prototype.toJSON",gl.prototype.toJSON),we("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Om),we("firebaseui.auth.CredentialHelper.NONE",Nh),we("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Nt.prototype.catch=Nt.prototype.Ca,Nt.prototype.finally=Nt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=b3);var I3=firebaseui.auth;const up=Ef($U),of=uU(up);lp(up,"northamerica-northeast1");const LC=uS(up),t$=new I3.AuthUI(LC),T3=_9(up);y9(T3);const R_=t=>{console.error(`Error fetching documents with conditions: ${t}`)},n$=async t=>{try{return(await wv(lC(of,t))).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return R_(e),[]}},i$=async(t,e,n,r,s,a,l)=>{try{if(l){const h=kI(lC(of,t),OI(e,n,r),NI(e),yU(l),DI(a)),d=await wv(h),p=d.docs.map(v=>({id:v.id,...v.data()}));return{lastVisible:d.docs[d.docs.length-1],docs:p}}else{const h=kI(oU(of,t),OI(e,n,r),NI(s),DI(a)),d=await wv(h),p=d.docs.map(v=>({id:v.id,...v.data()}));return{lastVisible:d.docs[d.docs.length-1],docs:p}}}catch(h){return R_(h),{lastVisible:{},docs:[]}}},Pv=async(t,e)=>{try{console.log("getDocument",t,e);const n=aU(of,t,e),r=await IU(n);return console.log("getDocument data",r.data()),r.data()}catch(n){return R_(n),[]}};function C_(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const ht={},Sa=[],fi=()=>{},A3=()=>!1,S3=/^on[^a-z]/,cp=t=>S3.test(t),P_=t=>t.startsWith("onUpdate:"),vn=Object.assign,k_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},R3=Object.prototype.hasOwnProperty,qe=(t,e)=>R3.call(t,e),ve=Array.isArray,Ra=t=>jc(t)==="[object Map]",hp=t=>jc(t)==="[object Set]",zI=t=>jc(t)==="[object Date]",Se=t=>typeof t=="function",Ut=t=>typeof t=="string",Ha=t=>typeof t=="symbol",lt=t=>t!==null&&typeof t=="object",MC=t=>(lt(t)||Se(t))&&Se(t.then)&&Se(t.catch),VC=Object.prototype.toString,jc=t=>VC.call(t),C3=t=>jc(t).slice(8,-1),FC=t=>jc(t)==="[object Object]",O_=t=>Ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Od=C_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},P3=/-(\w)/g,Qi=dp(t=>t.replace(P3,(e,n)=>n?n.toUpperCase():"")),k3=/\B([A-Z])/g,sl=dp(t=>t.replace(k3,"-$1").toLowerCase()),fp=dp(t=>t.charAt(0).toUpperCase()+t.slice(1)),kg=dp(t=>t?`on${fp(t)}`:""),mo=(t,e)=>!Object.is(t,e),Nd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},af=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},lf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let YI;const kv=()=>YI||(YI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function N_(t){if(ve(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ut(r)?x3(r):N_(r);if(s)for(const a in s)e[a]=s[a]}return e}else if(Ut(t)||lt(t))return t}const O3=/;(?![^(]*\))/g,N3=/:([^]+)/,D3=/\/\*[^]*?\*\//g;function x3(t){const e={};return t.replace(D3,"").split(O3).forEach(n=>{if(n){const r=n.split(N3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ti(t){let e="";if(Ut(t))e=t;else if(ve(t))for(let n=0;n<t.length;n++){const r=ti(t[n]);r&&(e+=r+" ")}else if(lt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const L3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",M3=C_(L3);function UC(t){return!!t||t===""}function V3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=pp(t[r],e[r]);return n}function pp(t,e){if(t===e)return!0;let n=zI(t),r=zI(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ha(t),r=Ha(e),n||r)return t===e;if(n=ve(t),r=ve(e),n||r)return n&&r?V3(t,e):!1;if(n=lt(t),r=lt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const l in t){const h=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(h&&!d||!h&&d||!pp(t[l],e[l]))return!1}}return String(t)===String(e)}function F3(t,e){return t.findIndex(n=>pp(n,e))}const r$=t=>Ut(t)?t:t==null?"":ve(t)||lt(t)&&(t.toString===VC||!Se(t.toString))?JSON.stringify(t,jC,2):String(t),jC=(t,e)=>e&&e.__v_isRef?jC(t,e.value):Ra(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:hp(e)?{[`Set(${e.size})`]:[...e.values()]}:lt(e)&&!ve(e)&&!FC(e)?String(e):e;let Gn;class BC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Gn,!e&&Gn&&(this.index=(Gn.scopes||(Gn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Gn;try{return Gn=this,e()}finally{Gn=n}}}on(){Gn=this}off(){Gn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function $C(t){return new BC(t)}function U3(t,e=Gn){e&&e.active&&e.effects.push(t)}function HC(){return Gn}function j3(t){Gn&&Gn.cleanups.push(t)}const D_=t=>{const e=new Set(t);return e.w=0,e.n=0,e},qC=t=>(t.w&fs)>0,WC=t=>(t.n&fs)>0,B3=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=fs},$3=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];qC(s)&&!WC(s)?s.delete(t):e[n++]=s,s.w&=~fs,s.n&=~fs}e.length=n}},uf=new WeakMap;let ku=0,fs=1;const Ov=30;let hi;const ro=Symbol(""),Nv=Symbol("");class x_{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,U3(this,r)}run(){if(!this.active)return this.fn();let e=hi,n=rs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=hi,hi=this,rs=!0,fs=1<<++ku,ku<=Ov?B3(this):QI(this),this.fn()}finally{ku<=Ov&&$3(this),fs=1<<--ku,hi=this.parent,rs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){hi===this?this.deferStop=!0:this.active&&(QI(this),this.onStop&&this.onStop(),this.active=!1)}}function QI(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let rs=!0;const KC=[];function ol(){KC.push(rs),rs=!1}function al(){const t=KC.pop();rs=t===void 0?!0:t}function jn(t,e,n){if(rs&&hi){let r=uf.get(t);r||uf.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=D_()),GC(s)}}function GC(t,e){let n=!1;ku<=Ov?WC(t)||(t.n|=fs,n=!qC(t)):n=!t.has(hi),n&&(t.add(hi),hi.deps.push(t))}function vr(t,e,n,r,s,a){const l=uf.get(t);if(!l)return;let h=[];if(e==="clear")h=[...l.values()];else if(n==="length"&&ve(t)){const d=Number(r);l.forEach((p,g)=>{(g==="length"||!Ha(g)&&g>=d)&&h.push(p)})}else switch(n!==void 0&&h.push(l.get(n)),e){case"add":ve(t)?O_(n)&&h.push(l.get("length")):(h.push(l.get(ro)),Ra(t)&&h.push(l.get(Nv)));break;case"delete":ve(t)||(h.push(l.get(ro)),Ra(t)&&h.push(l.get(Nv)));break;case"set":Ra(t)&&h.push(l.get(ro));break}if(h.length===1)h[0]&&Dv(h[0]);else{const d=[];for(const p of h)p&&d.push(...p);Dv(D_(d))}}function Dv(t,e){const n=ve(t)?t:[...t];for(const r of n)r.computed&&JI(r);for(const r of n)r.computed||JI(r)}function JI(t,e){(t!==hi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function H3(t,e){var n;return(n=uf.get(t))==null?void 0:n.get(e)}const q3=C_("__proto__,__v_isRef,__isVue"),zC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ha)),XI=W3();function W3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=je(this);for(let a=0,l=this.length;a<l;a++)jn(r,"get",a+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(je)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ol();const r=je(this)[e].apply(this,n);return al(),r}}),t}function K3(t){const e=je(this);return jn(e,"has",t),e.hasOwnProperty(t)}class YC{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,a=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw"&&r===(s?a?s6:ZC:a?XC:JC).get(e))return e;const l=ve(e);if(!s){if(l&&qe(XI,n))return Reflect.get(XI,n,r);if(n==="hasOwnProperty")return K3}const h=Reflect.get(e,n,r);return(Ha(n)?zC.has(n):q3(n))||(s||jn(e,"get",n),a)?h:mt(h)?l&&O_(n)?h:h.value:lt(h)?s?tP(h):Ar(h):h}}class QC extends YC{constructor(e=!1){super(!1,e)}set(e,n,r,s){let a=e[n];if(qa(a)&&mt(a)&&!mt(r))return!1;if(!this._shallow&&(!cf(r)&&!qa(r)&&(a=je(a),r=je(r)),!ve(e)&&mt(a)&&!mt(r)))return a.value=r,!0;const l=ve(e)&&O_(n)?Number(n)<e.length:qe(e,n),h=Reflect.set(e,n,r,s);return e===je(s)&&(l?mo(r,a)&&vr(e,"set",n,r):vr(e,"add",n,r)),h}deleteProperty(e,n){const r=qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&vr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Ha(n)||!zC.has(n))&&jn(e,"has",n),r}ownKeys(e){return jn(e,"iterate",ve(e)?"length":ro),Reflect.ownKeys(e)}}class G3 extends YC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const z3=new QC,Y3=new G3,Q3=new QC(!0),L_=t=>t,mp=t=>Reflect.getPrototypeOf(t);function pd(t,e,n=!1,r=!1){t=t.__v_raw;const s=je(t),a=je(e);n||(mo(e,a)&&jn(s,"get",e),jn(s,"get",a));const{has:l}=mp(s),h=r?L_:n?F_:dc;if(l.call(s,e))return h(t.get(e));if(l.call(s,a))return h(t.get(a));t!==s&&t.get(e)}function md(t,e=!1){const n=this.__v_raw,r=je(n),s=je(t);return e||(mo(t,s)&&jn(r,"has",t),jn(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function gd(t,e=!1){return t=t.__v_raw,!e&&jn(je(t),"iterate",ro),Reflect.get(t,"size",t)}function ZI(t){t=je(t);const e=je(this);return mp(e).has.call(e,t)||(e.add(t),vr(e,"add",t,t)),this}function eT(t,e){e=je(e);const n=je(this),{has:r,get:s}=mp(n);let a=r.call(n,t);a||(t=je(t),a=r.call(n,t));const l=s.call(n,t);return n.set(t,e),a?mo(e,l)&&vr(n,"set",t,e):vr(n,"add",t,e),this}function tT(t){const e=je(this),{has:n,get:r}=mp(e);let s=n.call(e,t);s||(t=je(t),s=n.call(e,t)),r&&r.call(e,t);const a=e.delete(t);return s&&vr(e,"delete",t,void 0),a}function nT(){const t=je(this),e=t.size!==0,n=t.clear();return e&&vr(t,"clear",void 0,void 0),n}function vd(t,e){return function(r,s){const a=this,l=a.__v_raw,h=je(l),d=e?L_:t?F_:dc;return!t&&jn(h,"iterate",ro),l.forEach((p,g)=>r.call(s,d(p),d(g),a))}}function yd(t,e,n){return function(...r){const s=this.__v_raw,a=je(s),l=Ra(a),h=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,p=s[t](...r),g=n?L_:e?F_:dc;return!e&&jn(a,"iterate",d?Nv:ro),{next(){const{value:v,done:w}=p.next();return w?{value:v,done:w}:{value:h?[g(v[0]),g(v[1])]:g(v),done:w}},[Symbol.iterator](){return this}}}}function Wr(t){return function(...e){return t==="delete"?!1:this}}function J3(){const t={get(a){return pd(this,a)},get size(){return gd(this)},has:md,add:ZI,set:eT,delete:tT,clear:nT,forEach:vd(!1,!1)},e={get(a){return pd(this,a,!1,!0)},get size(){return gd(this)},has:md,add:ZI,set:eT,delete:tT,clear:nT,forEach:vd(!1,!0)},n={get(a){return pd(this,a,!0)},get size(){return gd(this,!0)},has(a){return md.call(this,a,!0)},add:Wr("add"),set:Wr("set"),delete:Wr("delete"),clear:Wr("clear"),forEach:vd(!0,!1)},r={get(a){return pd(this,a,!0,!0)},get size(){return gd(this,!0)},has(a){return md.call(this,a,!0)},add:Wr("add"),set:Wr("set"),delete:Wr("delete"),clear:Wr("clear"),forEach:vd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=yd(a,!1,!1),n[a]=yd(a,!0,!1),e[a]=yd(a,!1,!0),r[a]=yd(a,!0,!0)}),[t,n,e,r]}const[X3,Z3,e6,t6]=J3();function M_(t,e){const n=e?t?t6:e6:t?Z3:X3;return(r,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(qe(n,s)&&s in r?n:r,s,a)}const n6={get:M_(!1,!1)},i6={get:M_(!1,!0)},r6={get:M_(!0,!1)},JC=new WeakMap,XC=new WeakMap,ZC=new WeakMap,s6=new WeakMap;function o6(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a6(t){return t.__v_skip||!Object.isExtensible(t)?0:o6(C3(t))}function Ar(t){return qa(t)?t:V_(t,!1,z3,n6,JC)}function eP(t){return V_(t,!1,Q3,i6,XC)}function tP(t){return V_(t,!0,Y3,r6,ZC)}function V_(t,e,n,r,s){if(!lt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const l=a6(t);if(l===0)return t;const h=new Proxy(t,l===2?r:n);return s.set(t,h),h}function yr(t){return qa(t)?yr(t.__v_raw):!!(t&&t.__v_isReactive)}function qa(t){return!!(t&&t.__v_isReadonly)}function cf(t){return!!(t&&t.__v_isShallow)}function nP(t){return yr(t)||qa(t)}function je(t){const e=t&&t.__v_raw;return e?je(e):t}function gp(t){return af(t,"__v_skip",!0),t}const dc=t=>lt(t)?Ar(t):t,F_=t=>lt(t)?tP(t):t;function iP(t){rs&&hi&&(t=je(t),GC(t.dep||(t.dep=D_())))}function rP(t,e){t=je(t);const n=t.dep;n&&Dv(n)}function mt(t){return!!(t&&t.__v_isRef===!0)}function ke(t){return oP(t,!1)}function sP(t){return oP(t,!0)}function oP(t,e){return mt(t)?t:new l6(t,e)}class l6{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:je(e),this._value=n?e:dc(e)}get value(){return iP(this),this._value}set value(e){const n=this.__v_isShallow||cf(e)||qa(e);e=n?e:je(e),mo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:dc(e),rP(this))}}function Ze(t){return mt(t)?t.value:t}const u6={get:(t,e,n)=>Ze(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return mt(s)&&!mt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function aP(t){return yr(t)?t:new Proxy(t,u6)}function c6(t){const e=ve(t)?new Array(t.length):{};for(const n in t)e[n]=lP(t,n);return e}class h6{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return H3(je(this._object),this._key)}}class d6{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function f6(t,e,n){return mt(t)?t:Se(t)?new d6(t):lt(t)&&arguments.length>1?lP(t,e,n):ke(t)}function lP(t,e,n){const r=t[e];return mt(r)?r:new h6(t,e,n)}class p6{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new x_(e,()=>{this._dirty||(this._dirty=!0,rP(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=je(this);return iP(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function m6(t,e,n=!1){let r,s;const a=Se(t);return a?(r=t,s=fi):(r=t.get,s=t.set),new p6(r,s,a||!s,n)}function ss(t,e,n,r){let s;try{s=r?t(...r):t()}catch(a){vp(a,e,n)}return s}function pi(t,e,n,r){if(Se(t)){const a=ss(t,e,n,r);return a&&MC(a)&&a.catch(l=>{vp(l,e,n)}),a}const s=[];for(let a=0;a<t.length;a++)s.push(pi(t[a],e,n,r));return s}function vp(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let a=e.parent;const l=e.proxy,h=n;for(;a;){const p=a.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](t,l,h)===!1)return}a=a.parent}const d=e.appContext.config.errorHandler;if(d){ss(d,null,10,[t,l,h]);return}}g6(t,n,s,r)}function g6(t,e,n,r=!0){console.error(t)}let fc=!1,xv=!1;const In=[];let ji=0;const Ca=[];let lr=null,$s=0;const uP=Promise.resolve();let U_=null;function yp(t){const e=U_||uP;return t?e.then(this?t.bind(this):t):e}function v6(t){let e=ji+1,n=In.length;for(;e<n;){const r=e+n>>>1,s=In[r],a=pc(s);a<t||a===t&&s.pre?e=r+1:n=r}return e}function j_(t){(!In.length||!In.includes(t,fc&&t.allowRecurse?ji+1:ji))&&(t.id==null?In.push(t):In.splice(v6(t.id),0,t),cP())}function cP(){!fc&&!xv&&(xv=!0,U_=uP.then(dP))}function y6(t){const e=In.indexOf(t);e>ji&&In.splice(e,1)}function _6(t){ve(t)?Ca.push(...t):(!lr||!lr.includes(t,t.allowRecurse?$s+1:$s))&&Ca.push(t),cP()}function iT(t,e=fc?ji+1:0){for(;e<In.length;e++){const n=In[e];n&&n.pre&&(In.splice(e,1),e--,n())}}function hP(t){if(Ca.length){const e=[...new Set(Ca)];if(Ca.length=0,lr){lr.push(...e);return}for(lr=e,lr.sort((n,r)=>pc(n)-pc(r)),$s=0;$s<lr.length;$s++)lr[$s]();lr=null,$s=0}}const pc=t=>t.id==null?1/0:t.id,w6=(t,e)=>{const n=pc(t)-pc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function dP(t){xv=!1,fc=!0,In.sort(w6);const e=fi;try{for(ji=0;ji<In.length;ji++){const n=In[ji];n&&n.active!==!1&&ss(n,null,14)}}finally{ji=0,In.length=0,hP(),fc=!1,U_=null,(In.length||Ca.length)&&dP()}}function E6(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ht;let s=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in r){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:w}=r[g]||ht;w&&(s=n.map(E=>Ut(E)?E.trim():E)),v&&(s=n.map(lf))}let h,d=r[h=kg(e)]||r[h=kg(Qi(e))];!d&&a&&(d=r[h=kg(sl(e))]),d&&pi(d,t,6,s);const p=r[h+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,pi(p,t,6,s)}}function fP(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const a=t.emits;let l={},h=!1;if(!Se(t)){const d=p=>{const g=fP(p,e,!0);g&&(h=!0,vn(l,g))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!a&&!h?(lt(t)&&r.set(t,null),null):(ve(a)?a.forEach(d=>l[d]=null):vn(l,a),lt(t)&&r.set(t,l),l)}function _p(t,e){return!t||!cp(e)?!1:(e=e.slice(2).replace(/Once$/,""),qe(t,e[0].toLowerCase()+e.slice(1))||qe(t,sl(e))||qe(t,e))}let dn=null,pP=null;function hf(t){const e=dn;return dn=t,pP=t&&t.type.__scopeId||null,e}function wn(t,e=dn,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&mT(-1);const a=hf(e);let l;try{l=t(...s)}finally{hf(a),r._d&&mT(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Og(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:a,propsOptions:[l],slots:h,attrs:d,emit:p,render:g,renderCache:v,data:w,setupState:E,ctx:R,inheritAttrs:_}=t;let b,S;const P=hf(t);try{if(n.shapeFlag&4){const x=s||r;b=Di(g.call(x,x,v,a,E,w,R)),S=d}else{const x=e;b=Di(x.length>1?x(a,{attrs:d,slots:h,emit:p}):x(a,null)),S=e.props?d:b6(d)}}catch(x){Hu.length=0,vp(x,t,1),b=ut(ps)}let F=b;if(S&&_!==!1){const x=Object.keys(S),{shapeFlag:z}=F;x.length&&z&7&&(l&&x.some(P_)&&(S=I6(S,l)),F=go(F,S))}return n.dirs&&(F=go(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),b=F,hf(P),b}const b6=t=>{let e;for(const n in t)(n==="class"||n==="style"||cp(n))&&((e||(e={}))[n]=t[n]);return e},I6=(t,e)=>{const n={};for(const r in t)(!P_(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function T6(t,e,n){const{props:r,children:s,component:a}=t,{props:l,children:h,patchFlag:d}=e,p=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?rT(r,l,p):!!l;if(d&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const w=g[v];if(l[w]!==r[w]&&!_p(p,w))return!0}}}else return(s||h)&&(!h||!h.$stable)?!0:r===l?!1:r?l?rT(r,l,p):!0:!!l;return!1}function rT(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const a=r[s];if(e[a]!==t[a]&&!_p(n,a))return!0}return!1}function A6({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const S6=t=>t.__isSuspense;function R6(t,e){e&&e.pendingBranch?ve(t)?e.effects.push(...t):e.effects.push(t):_6(t)}function wi(t,e){return B_(t,null,e)}const _d={};function Ki(t,e,n){return B_(t,e,n)}function B_(t,e,{immediate:n,deep:r,flush:s,onTrack:a,onTrigger:l}=ht){var h;const d=HC()===((h=tn)==null?void 0:h.scope)?tn:null;let p,g=!1,v=!1;if(mt(t)?(p=()=>t.value,g=cf(t)):yr(t)?(p=()=>t,r=!0):ve(t)?(v=!0,g=t.some(x=>yr(x)||cf(x)),p=()=>t.map(x=>{if(mt(x))return x.value;if(yr(x))return Qs(x);if(Se(x))return ss(x,d,2)})):Se(t)?e?p=()=>ss(t,d,2):p=()=>{if(!(d&&d.isUnmounted))return w&&w(),pi(t,d,3,[E])}:p=fi,e&&r){const x=p;p=()=>Qs(x())}let w,E=x=>{w=P.onStop=()=>{ss(x,d,4)}},R;if(vc)if(E=fi,e?n&&pi(e,d,3,[p(),v?[]:void 0,E]):p(),s==="sync"){const x=S5();R=x.__watcherHandles||(x.__watcherHandles=[])}else return fi;let _=v?new Array(t.length).fill(_d):_d;const b=()=>{if(P.active)if(e){const x=P.run();(r||g||(v?x.some((z,ie)=>mo(z,_[ie])):mo(x,_)))&&(w&&w(),pi(e,d,3,[x,_===_d?void 0:v&&_[0]===_d?[]:_,E]),_=x)}else P.run()};b.allowRecurse=!!e;let S;s==="sync"?S=b:s==="post"?S=()=>Vn(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),S=()=>j_(b));const P=new x_(p,S);e?n?b():_=P.run():s==="post"?Vn(P.run.bind(P),d&&d.suspense):P.run();const F=()=>{P.stop(),d&&d.scope&&k_(d.scope.effects,P)};return R&&R.push(F),F}function C6(t,e,n){const r=this.proxy,s=Ut(t)?t.includes(".")?mP(r,t):()=>r[t]:t.bind(r,r);let a;Se(e)?a=e:(a=e.handler,n=e);const l=tn;Wa(this);const h=B_(s,a.bind(r),n);return l?Wa(l):so(),h}function mP(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Qs(t,e){if(!lt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),mt(t))Qs(t.value,e);else if(ve(t))for(let n=0;n<t.length;n++)Qs(t[n],e);else if(hp(t)||Ra(t))t.forEach(n=>{Qs(n,e)});else if(FC(t))for(const n in t)Qs(t[n],e);return t}function ur(t,e){const n=dn;if(n===null)return t;const r=Ip(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[l,h,d,p=ht]=e[a];l&&(Se(l)&&(l={mounted:l,updated:l}),l.deep&&Qs(h),s.push({dir:l,instance:r,value:h,oldValue:void 0,arg:d,modifiers:p}))}return t}function Vs(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const h=s[l];a&&(h.oldValue=a[l].value);let d=h.dir[r];d&&(ol(),pi(d,n,8,[t.el,h,t,e]),al())}}/*! #__NO_SIDE_EFFECTS__ */function Bt(t,e){return Se(t)?(()=>vn({name:t.name},e,{setup:t}))():t}const ju=t=>!!t.type.__asyncLoader,gP=t=>t.type.__isKeepAlive;function P6(t,e){vP(t,"a",e)}function k6(t,e){vP(t,"da",e)}function vP(t,e,n=tn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(wp(e,r,n),n){let s=n.parent;for(;s&&s.parent;)gP(s.parent.vnode)&&O6(r,e,n,s),s=s.parent}}function O6(t,e,n,r){const s=wp(e,t,r,!0);Zn(()=>{k_(r[e],s)},n)}function wp(t,e,n=tn,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;ol(),Wa(n);const h=pi(e,n,t,l);return so(),al(),h});return r?s.unshift(a):s.push(a),a}}const Sr=t=>(e,n=tn)=>(!vc||t==="sp")&&wp(t,(...r)=>e(...r),n),N6=Sr("bm"),xn=Sr("m"),D6=Sr("bu"),x6=Sr("u"),L6=Sr("bum"),Zn=Sr("um"),M6=Sr("sp"),V6=Sr("rtg"),F6=Sr("rtc");function U6(t,e=tn){wp("ec",t,e)}const yP="components";function s$(t,e){return B6(yP,t,!0,e)||t}const j6=Symbol.for("v-ndc");function B6(t,e,n=!0,r=!1){const s=dn||tn;if(s){const a=s.type;if(t===yP){const h=I5(a,!1);if(h&&(h===e||h===Qi(e)||h===fp(Qi(e))))return a}const l=sT(s[t]||a[t],e)||sT(s.appContext[t],e);return!l&&r?a:l}}function sT(t,e){return t&&(t[e]||t[Qi(e)]||t[fp(Qi(e))])}function $6(t,e,n,r){let s;const a=n&&n[r];if(ve(t)||Ut(t)){s=new Array(t.length);for(let l=0,h=t.length;l<h;l++)s[l]=e(t[l],l,void 0,a&&a[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,a&&a[l])}else if(lt(t))if(t[Symbol.iterator])s=Array.from(t,(l,h)=>e(l,h,void 0,a&&a[h]));else{const l=Object.keys(t);s=new Array(l.length);for(let h=0,d=l.length;h<d;h++){const p=l[h];s[h]=e(t[p],p,h,a&&a[h])}}else s=[];return n&&(n[r]=s),s}function H6(t,e,n={},r,s){if(dn.isCE||dn.parent&&ju(dn.parent)&&dn.parent.isCE)return e!=="default"&&(n.name=e),ut("slot",n,r&&r());let a=t[e];a&&a._c&&(a._d=!1),en();const l=a&&_P(a(n)),h=Bi(hn,{key:n.key||l&&l.key||`_${e}`},l||(r?r():[]),l&&t._===1?64:-2);return!s&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),a&&a._c&&(a._d=!0),h}function _P(t){return t.some(e=>ff(e)?!(e.type===ps||e.type===hn&&!_P(e.children)):!0)?t:null}const Lv=t=>t?kP(t)?Ip(t)||t.proxy:Lv(t.parent):null,Bu=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lv(t.parent),$root:t=>Lv(t.root),$emit:t=>t.emit,$options:t=>$_(t),$forceUpdate:t=>t.f||(t.f=()=>j_(t.update)),$nextTick:t=>t.n||(t.n=yp.bind(t.proxy)),$watch:t=>C6.bind(t)}),Ng=(t,e)=>t!==ht&&!t.__isScriptSetup&&qe(t,e),q6={get({_:t},e){const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:h,appContext:d}=t;let p;if(e[0]!=="$"){const E=l[e];if(E!==void 0)switch(E){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(Ng(r,e))return l[e]=1,r[e];if(s!==ht&&qe(s,e))return l[e]=2,s[e];if((p=t.propsOptions[0])&&qe(p,e))return l[e]=3,a[e];if(n!==ht&&qe(n,e))return l[e]=4,n[e];Mv&&(l[e]=0)}}const g=Bu[e];let v,w;if(g)return e==="$attrs"&&jn(t,"get",e),g(t);if((v=h.__cssModules)&&(v=v[e]))return v;if(n!==ht&&qe(n,e))return l[e]=4,n[e];if(w=d.config.globalProperties,qe(w,e))return w[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:a}=t;return Ng(s,e)?(s[e]=n,!0):r!==ht&&qe(r,e)?(r[e]=n,!0):qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:a}},l){let h;return!!n[l]||t!==ht&&qe(t,l)||Ng(e,l)||(h=a[0])&&qe(h,l)||qe(r,l)||qe(Bu,l)||qe(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function oT(t){return ve(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Mv=!0;function W6(t){const e=$_(t),n=t.proxy,r=t.ctx;Mv=!1,e.beforeCreate&&aT(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:h,provide:d,inject:p,created:g,beforeMount:v,mounted:w,beforeUpdate:E,updated:R,activated:_,deactivated:b,beforeDestroy:S,beforeUnmount:P,destroyed:F,unmounted:x,render:z,renderTracked:ie,renderTriggered:pe,errorCaptured:oe,serverPrefetch:he,expose:De,inheritAttrs:le,components:Be,directives:me,filters:Tt}=e;if(p&&K6(p,r,null),l)for(const X in l){const ge=l[X];Se(ge)&&(r[X]=ge.bind(n))}if(s){const X=s.call(n,n);lt(X)&&(t.data=Ar(X))}if(Mv=!0,a)for(const X in a){const ge=a[X],ct=Se(ge)?ge.bind(n,n):Se(ge.get)?ge.get.bind(n,n):fi,Ye=!Se(ge)&&Se(ge.set)?ge.set.bind(n):fi,Kt=Ce({get:ct,set:Ye});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:Qe=>Kt.value=Qe})}if(h)for(const X in h)wP(h[X],r,n,X);if(d){const X=Se(d)?d.call(n):d;Reflect.ownKeys(X).forEach(ge=>{Un(ge,X[ge])})}g&&aT(g,t,"c");function W(X,ge){ve(ge)?ge.forEach(ct=>X(ct.bind(n))):ge&&X(ge.bind(n))}if(W(N6,v),W(xn,w),W(D6,E),W(x6,R),W(P6,_),W(k6,b),W(U6,oe),W(F6,ie),W(V6,pe),W(L6,P),W(Zn,x),W(M6,he),ve(De))if(De.length){const X=t.exposed||(t.exposed={});De.forEach(ge=>{Object.defineProperty(X,ge,{get:()=>n[ge],set:ct=>n[ge]=ct})})}else t.exposed||(t.exposed={});z&&t.render===fi&&(t.render=z),le!=null&&(t.inheritAttrs=le),Be&&(t.components=Be),me&&(t.directives=me)}function K6(t,e,n=fi){ve(t)&&(t=Vv(t));for(const r in t){const s=t[r];let a;lt(s)?"default"in s?a=vt(s.from||r,s.default,!0):a=vt(s.from||r):a=vt(s),mt(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[r]=a}}function aT(t,e,n){pi(ve(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function wP(t,e,n,r){const s=r.includes(".")?mP(n,r):()=>n[r];if(Ut(t)){const a=e[t];Se(a)&&Ki(s,a)}else if(Se(t))Ki(s,t.bind(n));else if(lt(t))if(ve(t))t.forEach(a=>wP(a,e,n,r));else{const a=Se(t.handler)?t.handler.bind(n):e[t.handler];Se(a)&&Ki(s,a,t)}}function $_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,h=a.get(e);let d;return h?d=h:!s.length&&!n&&!r?d=e:(d={},s.length&&s.forEach(p=>df(d,p,l,!0)),df(d,e,l)),lt(e)&&a.set(e,d),d}function df(t,e,n,r=!1){const{mixins:s,extends:a}=e;a&&df(t,a,n,!0),s&&s.forEach(l=>df(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const h=G6[l]||n&&n[l];t[l]=h?h(t[l],e[l]):e[l]}return t}const G6={data:lT,props:uT,emits:uT,methods:Ou,computed:Ou,beforeCreate:On,created:On,beforeMount:On,mounted:On,beforeUpdate:On,updated:On,beforeDestroy:On,beforeUnmount:On,destroyed:On,unmounted:On,activated:On,deactivated:On,errorCaptured:On,serverPrefetch:On,components:Ou,directives:Ou,watch:Y6,provide:lT,inject:z6};function lT(t,e){return e?t?function(){return vn(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function z6(t,e){return Ou(Vv(t),Vv(e))}function Vv(t){if(ve(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function On(t,e){return t?[...new Set([].concat(t,e))]:e}function Ou(t,e){return t?vn(Object.create(null),t,e):e}function uT(t,e){return t?ve(t)&&ve(e)?[...new Set([...t,...e])]:vn(Object.create(null),oT(t),oT(e??{})):e}function Y6(t,e){if(!t)return e;if(!e)return t;const n=vn(Object.create(null),t);for(const r in e)n[r]=On(t[r],e[r]);return n}function EP(){return{app:null,config:{isNativeTag:A3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q6=0;function J6(t,e){return function(r,s=null){Se(r)||(r=vn({},r)),s!=null&&!lt(s)&&(s=null);const a=EP(),l=new WeakSet;let h=!1;const d=a.app={_uid:Q6++,_component:r,_props:s,_container:null,_context:a,_instance:null,version:R5,get config(){return a.config},set config(p){},use(p,...g){return l.has(p)||(p&&Se(p.install)?(l.add(p),p.install(d,...g)):Se(p)&&(l.add(p),p(d,...g))),d},mixin(p){return a.mixins.includes(p)||a.mixins.push(p),d},component(p,g){return g?(a.components[p]=g,d):a.components[p]},directive(p,g){return g?(a.directives[p]=g,d):a.directives[p]},mount(p,g,v){if(!h){const w=ut(r,s);return w.appContext=a,g&&e?e(w,p):t(w,p,v),h=!0,d._container=p,p.__vue_app__=d,Ip(w.component)||w.component.proxy}},unmount(){h&&(t(null,d._container),delete d._container.__vue_app__)},provide(p,g){return a.provides[p]=g,d},runWithContext(p){mc=d;try{return p()}finally{mc=null}}};return d}}let mc=null;function Un(t,e){if(tn){let n=tn.provides;const r=tn.parent&&tn.parent.provides;r===n&&(n=tn.provides=Object.create(r)),n[t]=e}}function vt(t,e,n=!1){const r=tn||dn;if(r||mc){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:mc._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Se(e)?e.call(r&&r.proxy):e}}function X6(){return!!(tn||dn||mc)}function Z6(t,e,n,r=!1){const s={},a={};af(a,bp,1),t.propsDefaults=Object.create(null),bP(t,e,s,a);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:eP(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function e5(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,h=je(s),[d]=t.propsOptions;let p=!1;if((r||l>0)&&!(l&16)){if(l&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let w=g[v];if(_p(t.emitsOptions,w))continue;const E=e[w];if(d)if(qe(a,w))E!==a[w]&&(a[w]=E,p=!0);else{const R=Qi(w);s[R]=Fv(d,h,R,E,t,!1)}else E!==a[w]&&(a[w]=E,p=!0)}}}else{bP(t,e,s,a)&&(p=!0);let g;for(const v in h)(!e||!qe(e,v)&&((g=sl(v))===v||!qe(e,g)))&&(d?n&&(n[v]!==void 0||n[g]!==void 0)&&(s[v]=Fv(d,h,v,void 0,t,!0)):delete s[v]);if(a!==h)for(const v in a)(!e||!qe(e,v))&&(delete a[v],p=!0)}p&&vr(t,"set","$attrs")}function bP(t,e,n,r){const[s,a]=t.propsOptions;let l=!1,h;if(e)for(let d in e){if(Od(d))continue;const p=e[d];let g;s&&qe(s,g=Qi(d))?!a||!a.includes(g)?n[g]=p:(h||(h={}))[g]=p:_p(t.emitsOptions,d)||(!(d in r)||p!==r[d])&&(r[d]=p,l=!0)}if(a){const d=je(n),p=h||ht;for(let g=0;g<a.length;g++){const v=a[g];n[v]=Fv(s,d,v,p[v],t,!qe(p,v))}}return l}function Fv(t,e,n,r,s,a){const l=t[n];if(l!=null){const h=qe(l,"default");if(h&&r===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&Se(d)){const{propsDefaults:p}=s;n in p?r=p[n]:(Wa(s),r=p[n]=d.call(null,e),so())}else r=d}l[0]&&(a&&!h?r=!1:l[1]&&(r===""||r===sl(n))&&(r=!0))}return r}function IP(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const a=t.props,l={},h=[];let d=!1;if(!Se(t)){const g=v=>{d=!0;const[w,E]=IP(v,e,!0);vn(l,w),E&&h.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!a&&!d)return lt(t)&&r.set(t,Sa),Sa;if(ve(a))for(let g=0;g<a.length;g++){const v=Qi(a[g]);cT(v)&&(l[v]=ht)}else if(a)for(const g in a){const v=Qi(g);if(cT(v)){const w=a[g],E=l[v]=ve(w)||Se(w)?{type:w}:vn({},w);if(E){const R=fT(Boolean,E.type),_=fT(String,E.type);E[0]=R>-1,E[1]=_<0||R<_,(R>-1||qe(E,"default"))&&h.push(v)}}}const p=[l,h];return lt(t)&&r.set(t,p),p}function cT(t){return t[0]!=="$"}function hT(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function dT(t,e){return hT(t)===hT(e)}function fT(t,e){return ve(e)?e.findIndex(n=>dT(n,t)):Se(e)&&dT(e,t)?0:-1}const TP=t=>t[0]==="_"||t==="$stable",H_=t=>ve(t)?t.map(Di):[Di(t)],t5=(t,e,n)=>{if(e._n)return e;const r=wn((...s)=>H_(e(...s)),n);return r._c=!1,r},AP=(t,e,n)=>{const r=t._ctx;for(const s in t){if(TP(s))continue;const a=t[s];if(Se(a))e[s]=t5(s,a,r);else if(a!=null){const l=H_(a);e[s]=()=>l}}},SP=(t,e)=>{const n=H_(e);t.slots.default=()=>n},n5=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=je(e),af(e,"_",n)):AP(e,t.slots={})}else t.slots={},e&&SP(t,e);af(t.slots,bp,1)},i5=(t,e,n)=>{const{vnode:r,slots:s}=t;let a=!0,l=ht;if(r.shapeFlag&32){const h=e._;h?n&&h===1?a=!1:(vn(s,e),!n&&h===1&&delete s._):(a=!e.$stable,AP(e,s)),l=e}else e&&(SP(t,e),l={default:1});if(a)for(const h in s)!TP(h)&&l[h]==null&&delete s[h]};function Uv(t,e,n,r,s=!1){if(ve(t)){t.forEach((w,E)=>Uv(w,e&&(ve(e)?e[E]:e),n,r,s));return}if(ju(r)&&!s)return;const a=r.shapeFlag&4?Ip(r.component)||r.component.proxy:r.el,l=s?null:a,{i:h,r:d}=t,p=e&&e.r,g=h.refs===ht?h.refs={}:h.refs,v=h.setupState;if(p!=null&&p!==d&&(Ut(p)?(g[p]=null,qe(v,p)&&(v[p]=null)):mt(p)&&(p.value=null)),Se(d))ss(d,h,12,[l,g]);else{const w=Ut(d),E=mt(d);if(w||E){const R=()=>{if(t.f){const _=w?qe(v,d)?v[d]:g[d]:d.value;s?ve(_)&&k_(_,a):ve(_)?_.includes(a)||_.push(a):w?(g[d]=[a],qe(v,d)&&(v[d]=g[d])):(d.value=[a],t.k&&(g[t.k]=d.value))}else w?(g[d]=l,qe(v,d)&&(v[d]=l)):E&&(d.value=l,t.k&&(g[t.k]=l))};l?(R.id=-1,Vn(R,n)):R()}}}const Vn=R6;function r5(t){return s5(t)}function s5(t,e){const n=kv();n.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:h,createComment:d,setText:p,setElementText:g,parentNode:v,nextSibling:w,setScopeId:E=fi,insertStaticContent:R}=t,_=(T,A,C,O=null,L=null,U=null,J=!1,q=null,G=!!A.dynamicChildren)=>{if(T===A)return;T&&!_u(T,A)&&(O=N(T),Qe(T,L,U,!0),T=null),A.patchFlag===-2&&(G=!1,A.dynamicChildren=null);const{type:j,ref:de,shapeFlag:te}=A;switch(j){case Ep:b(T,A,C,O);break;case ps:S(T,A,C,O);break;case Dg:T==null&&P(A,C,O,J);break;case hn:Be(T,A,C,O,L,U,J,q,G);break;default:te&1?z(T,A,C,O,L,U,J,q,G):te&6?me(T,A,C,O,L,U,J,q,G):(te&64||te&128)&&j.process(T,A,C,O,L,U,J,q,G,K)}de!=null&&L&&Uv(de,T&&T.ref,U,A||T,!A)},b=(T,A,C,O)=>{if(T==null)r(A.el=h(A.children),C,O);else{const L=A.el=T.el;A.children!==T.children&&p(L,A.children)}},S=(T,A,C,O)=>{T==null?r(A.el=d(A.children||""),C,O):A.el=T.el},P=(T,A,C,O)=>{[T.el,T.anchor]=R(T.children,A,C,O,T.el,T.anchor)},F=({el:T,anchor:A},C,O)=>{let L;for(;T&&T!==A;)L=w(T),r(T,C,O),T=L;r(A,C,O)},x=({el:T,anchor:A})=>{let C;for(;T&&T!==A;)C=w(T),s(T),T=C;s(A)},z=(T,A,C,O,L,U,J,q,G)=>{J=J||A.type==="svg",T==null?ie(A,C,O,L,U,J,q,G):he(T,A,L,U,J,q,G)},ie=(T,A,C,O,L,U,J,q)=>{let G,j;const{type:de,props:te,shapeFlag:ae,transition:Ee,dirs:Oe}=T;if(G=T.el=l(T.type,U,te&&te.is,te),ae&8?g(G,T.children):ae&16&&oe(T.children,G,null,O,L,U&&de!=="foreignObject",J,q),Oe&&Vs(T,null,O,"created"),pe(G,T,T.scopeId,J,O),te){for(const $e in te)$e!=="value"&&!Od($e)&&a(G,$e,null,te[$e],U,T.children,O,L,Gt);"value"in te&&a(G,"value",null,te.value),(j=te.onVnodeBeforeMount)&&Oi(j,O,T)}Oe&&Vs(T,null,O,"beforeMount");const tt=o5(L,Ee);tt&&Ee.beforeEnter(G),r(G,A,C),((j=te&&te.onVnodeMounted)||tt||Oe)&&Vn(()=>{j&&Oi(j,O,T),tt&&Ee.enter(G),Oe&&Vs(T,null,O,"mounted")},L)},pe=(T,A,C,O,L)=>{if(C&&E(T,C),O)for(let U=0;U<O.length;U++)E(T,O[U]);if(L){let U=L.subTree;if(A===U){const J=L.vnode;pe(T,J,J.scopeId,J.slotScopeIds,L.parent)}}},oe=(T,A,C,O,L,U,J,q,G=0)=>{for(let j=G;j<T.length;j++){const de=T[j]=q?zr(T[j]):Di(T[j]);_(null,de,A,C,O,L,U,J,q)}},he=(T,A,C,O,L,U,J)=>{const q=A.el=T.el;let{patchFlag:G,dynamicChildren:j,dirs:de}=A;G|=T.patchFlag&16;const te=T.props||ht,ae=A.props||ht;let Ee;C&&Fs(C,!1),(Ee=ae.onVnodeBeforeUpdate)&&Oi(Ee,C,A,T),de&&Vs(A,T,C,"beforeUpdate"),C&&Fs(C,!0);const Oe=L&&A.type!=="foreignObject";if(j?De(T.dynamicChildren,j,q,C,O,Oe,U):J||ge(T,A,q,null,C,O,Oe,U,!1),G>0){if(G&16)le(q,A,te,ae,C,O,L);else if(G&2&&te.class!==ae.class&&a(q,"class",null,ae.class,L),G&4&&a(q,"style",te.style,ae.style,L),G&8){const tt=A.dynamicProps;for(let $e=0;$e<tt.length;$e++){const st=tt[$e],$t=te[st],er=ae[st];(er!==$t||st==="value")&&a(q,st,$t,er,L,T.children,C,O,Gt)}}G&1&&T.children!==A.children&&g(q,A.children)}else!J&&j==null&&le(q,A,te,ae,C,O,L);((Ee=ae.onVnodeUpdated)||de)&&Vn(()=>{Ee&&Oi(Ee,C,A,T),de&&Vs(A,T,C,"updated")},O)},De=(T,A,C,O,L,U,J)=>{for(let q=0;q<A.length;q++){const G=T[q],j=A[q],de=G.el&&(G.type===hn||!_u(G,j)||G.shapeFlag&70)?v(G.el):C;_(G,j,de,null,O,L,U,J,!0)}},le=(T,A,C,O,L,U,J)=>{if(C!==O){if(C!==ht)for(const q in C)!Od(q)&&!(q in O)&&a(T,q,C[q],null,J,A.children,L,U,Gt);for(const q in O){if(Od(q))continue;const G=O[q],j=C[q];G!==j&&q!=="value"&&a(T,q,j,G,J,A.children,L,U,Gt)}"value"in O&&a(T,"value",C.value,O.value)}},Be=(T,A,C,O,L,U,J,q,G)=>{const j=A.el=T?T.el:h(""),de=A.anchor=T?T.anchor:h("");let{patchFlag:te,dynamicChildren:ae,slotScopeIds:Ee}=A;Ee&&(q=q?q.concat(Ee):Ee),T==null?(r(j,C,O),r(de,C,O),oe(A.children,C,de,L,U,J,q,G)):te>0&&te&64&&ae&&T.dynamicChildren?(De(T.dynamicChildren,ae,C,L,U,J,q),(A.key!=null||L&&A===L.subTree)&&q_(T,A,!0)):ge(T,A,C,de,L,U,J,q,G)},me=(T,A,C,O,L,U,J,q,G)=>{A.slotScopeIds=q,T==null?A.shapeFlag&512?L.ctx.activate(A,C,O,J,G):Tt(A,C,O,L,U,J,G):we(T,A,G)},Tt=(T,A,C,O,L,U,J)=>{const q=T.component=y5(T,O,L);if(gP(T)&&(q.ctx.renderer=K),_5(q),q.asyncDep){if(L&&L.registerDep(q,W),!T.el){const G=q.subTree=ut(ps);S(null,G,A,C)}return}W(q,T,A,C,L,U,J)},we=(T,A,C)=>{const O=A.component=T.component;if(T6(T,A,C))if(O.asyncDep&&!O.asyncResolved){X(O,A,C);return}else O.next=A,y6(O.update),O.update();else A.el=T.el,O.vnode=A},W=(T,A,C,O,L,U,J)=>{const q=()=>{if(T.isMounted){let{next:de,bu:te,u:ae,parent:Ee,vnode:Oe}=T,tt=de,$e;Fs(T,!1),de?(de.el=Oe.el,X(T,de,J)):de=Oe,te&&Nd(te),($e=de.props&&de.props.onVnodeBeforeUpdate)&&Oi($e,Ee,de,Oe),Fs(T,!0);const st=Og(T),$t=T.subTree;T.subTree=st,_($t,st,v($t.el),N($t),T,L,U),de.el=st.el,tt===null&&A6(T,st.el),ae&&Vn(ae,L),($e=de.props&&de.props.onVnodeUpdated)&&Vn(()=>Oi($e,Ee,de,Oe),L)}else{let de;const{el:te,props:ae}=A,{bm:Ee,m:Oe,parent:tt}=T,$e=ju(A);if(Fs(T,!1),Ee&&Nd(Ee),!$e&&(de=ae&&ae.onVnodeBeforeMount)&&Oi(de,tt,A),Fs(T,!0),te&&Ke){const st=()=>{T.subTree=Og(T),Ke(te,T.subTree,T,L,null)};$e?A.type.__asyncLoader().then(()=>!T.isUnmounted&&st()):st()}else{const st=T.subTree=Og(T);_(null,st,C,O,T,L,U),A.el=st.el}if(Oe&&Vn(Oe,L),!$e&&(de=ae&&ae.onVnodeMounted)){const st=A;Vn(()=>Oi(de,tt,st),L)}(A.shapeFlag&256||tt&&ju(tt.vnode)&&tt.vnode.shapeFlag&256)&&T.a&&Vn(T.a,L),T.isMounted=!0,A=C=O=null}},G=T.effect=new x_(q,()=>j_(j),T.scope),j=T.update=()=>G.run();j.id=T.uid,Fs(T,!0),j()},X=(T,A,C)=>{A.component=T;const O=T.vnode.props;T.vnode=A,T.next=null,e5(T,A.props,O,C),i5(T,A.children,C),ol(),iT(),al()},ge=(T,A,C,O,L,U,J,q,G=!1)=>{const j=T&&T.children,de=T?T.shapeFlag:0,te=A.children,{patchFlag:ae,shapeFlag:Ee}=A;if(ae>0){if(ae&128){Ye(j,te,C,O,L,U,J,q,G);return}else if(ae&256){ct(j,te,C,O,L,U,J,q,G);return}}Ee&8?(de&16&&Gt(j,L,U),te!==j&&g(C,te)):de&16?Ee&16?Ye(j,te,C,O,L,U,J,q,G):Gt(j,L,U,!0):(de&8&&g(C,""),Ee&16&&oe(te,C,O,L,U,J,q,G))},ct=(T,A,C,O,L,U,J,q,G)=>{T=T||Sa,A=A||Sa;const j=T.length,de=A.length,te=Math.min(j,de);let ae;for(ae=0;ae<te;ae++){const Ee=A[ae]=G?zr(A[ae]):Di(A[ae]);_(T[ae],Ee,C,null,L,U,J,q,G)}j>de?Gt(T,L,U,!0,!1,te):oe(A,C,O,L,U,J,q,G,te)},Ye=(T,A,C,O,L,U,J,q,G)=>{let j=0;const de=A.length;let te=T.length-1,ae=de-1;for(;j<=te&&j<=ae;){const Ee=T[j],Oe=A[j]=G?zr(A[j]):Di(A[j]);if(_u(Ee,Oe))_(Ee,Oe,C,null,L,U,J,q,G);else break;j++}for(;j<=te&&j<=ae;){const Ee=T[te],Oe=A[ae]=G?zr(A[ae]):Di(A[ae]);if(_u(Ee,Oe))_(Ee,Oe,C,null,L,U,J,q,G);else break;te--,ae--}if(j>te){if(j<=ae){const Ee=ae+1,Oe=Ee<de?A[Ee].el:O;for(;j<=ae;)_(null,A[j]=G?zr(A[j]):Di(A[j]),C,Oe,L,U,J,q,G),j++}}else if(j>ae)for(;j<=te;)Qe(T[j],L,U,!0),j++;else{const Ee=j,Oe=j,tt=new Map;for(j=Oe;j<=ae;j++){const zt=A[j]=G?zr(A[j]):Di(A[j]);zt.key!=null&&tt.set(zt.key,j)}let $e,st=0;const $t=ae-Oe+1;let er=!1,qc=0;const _s=new Array($t);for(j=0;j<$t;j++)_s[j]=0;for(j=Ee;j<=te;j++){const zt=T[j];if(st>=$t){Qe(zt,L,U,!0);continue}let Yt;if(zt.key!=null)Yt=tt.get(zt.key);else for($e=Oe;$e<=ae;$e++)if(_s[$e-Oe]===0&&_u(zt,A[$e])){Yt=$e;break}Yt===void 0?Qe(zt,L,U,!0):(_s[Yt-Oe]=j+1,Yt>=qc?qc=Yt:er=!0,_(zt,A[Yt],C,null,L,U,J,q,G),st++)}const ws=er?a5(_s):Sa;for($e=ws.length-1,j=$t-1;j>=0;j--){const zt=Oe+j,Yt=A[zt],Wc=zt+1<de?A[zt+1].el:O;_s[j]===0?_(null,Yt,C,Wc,L,U,J,q,G):er&&($e<0||j!==ws[$e]?Kt(Yt,C,Wc,2):$e--)}}},Kt=(T,A,C,O,L=null)=>{const{el:U,type:J,transition:q,children:G,shapeFlag:j}=T;if(j&6){Kt(T.component.subTree,A,C,O);return}if(j&128){T.suspense.move(A,C,O);return}if(j&64){J.move(T,A,C,K);return}if(J===hn){r(U,A,C);for(let te=0;te<G.length;te++)Kt(G[te],A,C,O);r(T.anchor,A,C);return}if(J===Dg){F(T,A,C);return}if(O!==2&&j&1&&q)if(O===0)q.beforeEnter(U),r(U,A,C),Vn(()=>q.enter(U),L);else{const{leave:te,delayLeave:ae,afterLeave:Ee}=q,Oe=()=>r(U,A,C),tt=()=>{te(U,()=>{Oe(),Ee&&Ee()})};ae?ae(U,Oe,tt):tt()}else r(U,A,C)},Qe=(T,A,C,O=!1,L=!1)=>{const{type:U,props:J,ref:q,children:G,dynamicChildren:j,shapeFlag:de,patchFlag:te,dirs:ae}=T;if(q!=null&&Uv(q,null,C,T,!0),de&256){A.ctx.deactivate(T);return}const Ee=de&1&&ae,Oe=!ju(T);let tt;if(Oe&&(tt=J&&J.onVnodeBeforeUnmount)&&Oi(tt,A,T),de&6)Eo(T.component,C,O);else{if(de&128){T.suspense.unmount(C,O);return}Ee&&Vs(T,null,A,"beforeUnmount"),de&64?T.type.remove(T,A,C,L,K,O):j&&(U!==hn||te>0&&te&64)?Gt(j,A,C,!1,!0):(U===hn&&te&384||!L&&de&16)&&Gt(G,A,C),O&&Ti(T)}(Oe&&(tt=J&&J.onVnodeUnmounted)||Ee)&&Vn(()=>{tt&&Oi(tt,A,T),Ee&&Vs(T,null,A,"unmounted")},C)},Ti=T=>{const{type:A,el:C,anchor:O,transition:L}=T;if(A===hn){Ai(C,O);return}if(A===Dg){x(T);return}const U=()=>{s(C),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(T.shapeFlag&1&&L&&!L.persisted){const{leave:J,delayLeave:q}=L,G=()=>J(C,U);q?q(T.el,U,G):G()}else U()},Ai=(T,A)=>{let C;for(;T!==A;)C=w(T),s(T),T=C;s(A)},Eo=(T,A,C)=>{const{bum:O,scope:L,update:U,subTree:J,um:q}=T;O&&Nd(O),L.stop(),U&&(U.active=!1,Qe(J,T,A,C)),q&&Vn(q,A),Vn(()=>{T.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Gt=(T,A,C,O=!1,L=!1,U=0)=>{for(let J=U;J<T.length;J++)Qe(T[J],A,C,O,L)},N=T=>T.shapeFlag&6?N(T.component.subTree):T.shapeFlag&128?T.suspense.next():w(T.anchor||T.el),Z=(T,A,C)=>{T==null?A._vnode&&Qe(A._vnode,null,null,!0):_(A._vnode||null,T,A,null,null,null,C),iT(),hP(),A._vnode=T},K={p:_,um:Qe,m:Kt,r:Ti,mt:Tt,mc:oe,pc:ge,pbc:De,n:N,o:t};let ue,Ke;return e&&([ue,Ke]=e(K)),{render:Z,hydrate:ue,createApp:J6(Z,ue)}}function Fs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function o5(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function q_(t,e,n=!1){const r=t.children,s=e.children;if(ve(r)&&ve(s))for(let a=0;a<r.length;a++){const l=r[a];let h=s[a];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=s[a]=zr(s[a]),h.el=l.el),n||q_(l,h)),h.type===Ep&&(h.el=l.el)}}function a5(t){const e=t.slice(),n=[0];let r,s,a,l,h;const d=t.length;for(r=0;r<d;r++){const p=t[r];if(p!==0){if(s=n[n.length-1],t[s]<p){e[r]=s,n.push(r);continue}for(a=0,l=n.length-1;a<l;)h=a+l>>1,t[n[h]]<p?a=h+1:l=h;p<t[n[a]]&&(a>0&&(e[r]=n[a-1]),n[a]=r)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=e[l];return n}const l5=t=>t.__isTeleport,$u=t=>t&&(t.disabled||t.disabled===""),pT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,jv=(t,e)=>{const n=t&&t.to;return Ut(n)?e?e(n):null:n},u5={__isTeleport:!0,process(t,e,n,r,s,a,l,h,d,p){const{mc:g,pc:v,pbc:w,o:{insert:E,querySelector:R,createText:_,createComment:b}}=p,S=$u(e.props);let{shapeFlag:P,children:F,dynamicChildren:x}=e;if(t==null){const z=e.el=_(""),ie=e.anchor=_("");E(z,n,r),E(ie,n,r);const pe=e.target=jv(e.props,R),oe=e.targetAnchor=_("");pe&&(E(oe,pe),l=l||pT(pe));const he=(De,le)=>{P&16&&g(F,De,le,s,a,l,h,d)};S?he(n,ie):pe&&he(pe,oe)}else{e.el=t.el;const z=e.anchor=t.anchor,ie=e.target=t.target,pe=e.targetAnchor=t.targetAnchor,oe=$u(t.props),he=oe?n:ie,De=oe?z:pe;if(l=l||pT(ie),x?(w(t.dynamicChildren,x,he,s,a,l,h),q_(t,e,!0)):d||v(t,e,he,De,s,a,l,h,!1),S)oe?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):wd(e,n,z,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const le=e.target=jv(e.props,R);le&&wd(e,le,null,p,0)}else oe&&wd(e,ie,pe,p,1)}RP(e)},remove(t,e,n,r,{um:s,o:{remove:a}},l){const{shapeFlag:h,children:d,anchor:p,targetAnchor:g,target:v,props:w}=t;if(v&&a(g),l&&a(p),h&16){const E=l||!$u(w);for(let R=0;R<d.length;R++){const _=d[R];s(_,e,n,E,!!_.dynamicChildren)}}},move:wd,hydrate:c5};function wd(t,e,n,{o:{insert:r},m:s},a=2){a===0&&r(t.targetAnchor,e,n);const{el:l,anchor:h,shapeFlag:d,children:p,props:g}=t,v=a===2;if(v&&r(l,e,n),(!v||$u(g))&&d&16)for(let w=0;w<p.length;w++)s(p[w],e,n,2);v&&r(h,e,n)}function c5(t,e,n,r,s,a,{o:{nextSibling:l,parentNode:h,querySelector:d}},p){const g=e.target=jv(e.props,d);if(g){const v=g._lpa||g.firstChild;if(e.shapeFlag&16)if($u(e.props))e.anchor=p(l(t),e,h(t),n,r,s,a),e.targetAnchor=v;else{e.anchor=l(t);let w=v;for(;w;)if(w=l(w),w&&w.nodeType===8&&w.data==="teleport anchor"){e.targetAnchor=w,g._lpa=e.targetAnchor&&l(e.targetAnchor);break}p(v,e,g,n,r,s,a)}RP(e)}return e.anchor&&l(e.anchor)}const h5=u5;function RP(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const hn=Symbol.for("v-fgt"),Ep=Symbol.for("v-txt"),ps=Symbol.for("v-cmt"),Dg=Symbol.for("v-stc"),Hu=[];let di=null;function en(t=!1){Hu.push(di=t?null:[])}function d5(){Hu.pop(),di=Hu[Hu.length-1]||null}let gc=1;function mT(t){gc+=t}function CP(t){return t.dynamicChildren=gc>0?di||Sa:null,d5(),gc>0&&di&&di.push(t),t}function os(t,e,n,r,s,a){return CP(Te(t,e,n,r,s,a,!0))}function Bi(t,e,n,r,s){return CP(ut(t,e,n,r,s,!0))}function ff(t){return t?t.__v_isVNode===!0:!1}function _u(t,e){return t.type===e.type&&t.key===e.key}const bp="__vInternal",PP=({key:t})=>t??null,Dd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ut(t)||mt(t)||Se(t)?{i:dn,r:t,k:e,f:!!n}:t:null);function Te(t,e=null,n=null,r=0,s=null,a=t===hn?0:1,l=!1,h=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&PP(e),ref:e&&Dd(e),scopeId:pP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:dn};return h?(W_(d,n),a&128&&t.normalize(d)):n&&(d.shapeFlag|=Ut(n)?8:16),gc>0&&!l&&di&&(d.patchFlag>0||a&6)&&d.patchFlag!==32&&di.push(d),d}const ut=f5;function f5(t,e=null,n=null,r=0,s=null,a=!1){if((!t||t===j6)&&(t=ps),ff(t)){const h=go(t,e,!0);return n&&W_(h,n),gc>0&&!a&&di&&(h.shapeFlag&6?di[di.indexOf(t)]=h:di.push(h)),h.patchFlag|=-2,h}if(T5(t)&&(t=t.__vccOpts),e){e=p5(e);let{class:h,style:d}=e;h&&!Ut(h)&&(e.class=ti(h)),lt(d)&&(nP(d)&&!ve(d)&&(d=vn({},d)),e.style=N_(d))}const l=Ut(t)?1:S6(t)?128:l5(t)?64:lt(t)?4:Se(t)?2:0;return Te(t,e,n,r,s,l,a,!0)}function p5(t){return t?nP(t)||bp in t?vn({},t):t:null}function go(t,e,n=!1){const{props:r,ref:s,patchFlag:a,children:l}=t,h=e?m5(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&PP(h),ref:e&&e.ref?n&&s?ve(s)?s.concat(Dd(e)):[s,Dd(e)]:Dd(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==hn?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&go(t.ssContent),ssFallback:t.ssFallback&&go(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ni(t=" ",e=0){return ut(Ep,null,t,e)}function cr(t="",e=!1){return e?(en(),Bi(ps,null,t)):ut(ps,null,t)}function Di(t){return t==null||typeof t=="boolean"?ut(ps):ve(t)?ut(hn,null,t.slice()):typeof t=="object"?zr(t):ut(Ep,null,String(t))}function zr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:go(t)}function W_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ve(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),W_(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(bp in e)?e._ctx=dn:s===3&&dn&&(dn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:dn},n=32):(e=String(e),r&64?(n=16,e=[Ni(e)]):n=8);t.children=e,t.shapeFlag|=n}function m5(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ti([e.class,r.class]));else if(s==="style")e.style=N_([e.style,r.style]);else if(cp(s)){const a=e[s],l=r[s];l&&a!==l&&!(ve(a)&&a.includes(l))&&(e[s]=a?[].concat(a,l):l)}else s!==""&&(e[s]=r[s])}return e}function Oi(t,e,n,r=null){pi(t,e,7,[n,r])}const g5=EP();let v5=0;function y5(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||g5,a={uid:v5++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new BC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:IP(r,s),emitsOptions:fP(r,s),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:r.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=E6.bind(null,a),t.ce&&t.ce(a),a}let tn=null,K_,la,gT="__VUE_INSTANCE_SETTERS__";(la=kv()[gT])||(la=kv()[gT]=[]),la.push(t=>tn=t),K_=t=>{la.length>1?la.forEach(e=>e(t)):la[0](t)};const Wa=t=>{K_(t),t.scope.on()},so=()=>{tn&&tn.scope.off(),K_(null)};function kP(t){return t.vnode.shapeFlag&4}let vc=!1;function _5(t,e=!1){vc=e;const{props:n,children:r}=t.vnode,s=kP(t);Z6(t,n,s,e),n5(t,r);const a=s?w5(t,e):void 0;return vc=!1,a}function w5(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=gp(new Proxy(t.ctx,q6));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?b5(t):null;Wa(t),ol();const a=ss(r,t,0,[t.props,s]);if(al(),so(),MC(a)){if(a.then(so,so),e)return a.then(l=>{vT(t,l,e)}).catch(l=>{vp(l,t,0)});t.asyncDep=a}else vT(t,a,e)}else OP(t,e)}function vT(t,e,n){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:lt(e)&&(t.setupState=aP(e)),OP(t,n)}let yT;function OP(t,e,n){const r=t.type;if(!t.render){if(!e&&yT&&!r.render){const s=r.template||$_(t).template;if(s){const{isCustomElement:a,compilerOptions:l}=t.appContext.config,{delimiters:h,compilerOptions:d}=r,p=vn(vn({isCustomElement:a,delimiters:h},l),d);r.render=yT(s,p)}}t.render=r.render||fi}{Wa(t),ol();try{W6(t)}finally{al(),so()}}}function E5(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return jn(t,"get","$attrs"),e[n]}}))}function b5(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return E5(t)},slots:t.slots,emit:t.emit,expose:e}}function Ip(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(aP(gp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bu)return Bu[n](t)},has(e,n){return n in e||n in Bu}}))}function I5(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function T5(t){return Se(t)&&"__vccOpts"in t}const Ce=(t,e)=>m6(t,e,vc);function un(t,e,n){const r=arguments.length;return r===2?lt(e)&&!ve(e)?ff(e)?ut(t,null,[e]):ut(t,e):ut(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ff(n)&&(n=[n]),ut(t,e,n))}const A5=Symbol.for("v-scx"),S5=()=>vt(A5),R5="3.3.7",C5="http://www.w3.org/2000/svg",Hs=typeof document<"u"?document:null,_T=Hs&&Hs.createElement("template"),P5={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?Hs.createElementNS(C5,t):Hs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Hs.createTextNode(t),createComment:t=>Hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,a){const l=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{_T.innerHTML=r?`<svg>${t}</svg>`:t;const h=_T.content;if(r){const d=h.firstChild;for(;d.firstChild;)h.appendChild(d.firstChild);h.removeChild(d)}e.insertBefore(h,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},k5=Symbol("_vtc");function O5(t,e,n){const r=t[k5];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const N5=Symbol("_vod");function D5(t,e,n){const r=t.style,s=Ut(n);if(n&&!s){if(e&&!Ut(e))for(const a in e)n[a]==null&&Bv(r,a,"");for(const a in n)Bv(r,a,n[a])}else{const a=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),N5 in t&&(r.display=a)}}const wT=/\s*!important$/;function Bv(t,e,n){if(ve(n))n.forEach(r=>Bv(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=x5(t,e);wT.test(n)?t.setProperty(sl(r),n.replace(wT,""),"important"):t[r]=n}}const ET=["Webkit","Moz","ms"],xg={};function x5(t,e){const n=xg[e];if(n)return n;let r=Qi(e);if(r!=="filter"&&r in t)return xg[e]=r;r=fp(r);for(let s=0;s<ET.length;s++){const a=ET[s]+r;if(a in t)return xg[e]=a}return e}const bT="http://www.w3.org/1999/xlink";function L5(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(bT,e.slice(6,e.length)):t.setAttributeNS(bT,e,n);else{const a=M3(e);n==null||a&&!UC(n)?t.removeAttribute(e):t.setAttribute(e,a?"":n)}}function M5(t,e,n,r,s,a,l){if(e==="innerHTML"||e==="textContent"){r&&l(r,s,a),t[e]=n??"";return}const h=t.tagName;if(e==="value"&&h!=="PROGRESS"&&!h.includes("-")){t._value=n;const p=h==="OPTION"?t.getAttribute("value"):t.value,g=n??"";p!==g&&(t.value=g),n==null&&t.removeAttribute(e);return}let d=!1;if(n===""||n==null){const p=typeof t[e];p==="boolean"?n=UC(n):n==null&&p==="string"?(n="",d=!0):p==="number"&&(n=0,d=!0)}try{t[e]=n}catch{}d&&t.removeAttribute(e)}function qs(t,e,n,r){t.addEventListener(e,n,r)}function V5(t,e,n,r){t.removeEventListener(e,n,r)}const IT=Symbol("_vei");function F5(t,e,n,r,s=null){const a=t[IT]||(t[IT]={}),l=a[e];if(r&&l)l.value=r;else{const[h,d]=U5(e);if(r){const p=a[e]=$5(r,s);qs(t,h,p,d)}else l&&(V5(t,h,l,d),a[e]=void 0)}}const TT=/(?:Once|Passive|Capture)$/;function U5(t){let e;if(TT.test(t)){e={};let r;for(;r=t.match(TT);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):sl(t.slice(2)),e]}let Lg=0;const j5=Promise.resolve(),B5=()=>Lg||(j5.then(()=>Lg=0),Lg=Date.now());function $5(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;pi(H5(r,n.value),e,5,[r])};return n.value=t,n.attached=B5(),n}function H5(t,e){if(ve(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const AT=/^on[a-z]/,q5=(t,e,n,r,s=!1,a,l,h,d)=>{e==="class"?O5(t,r,s):e==="style"?D5(t,n,r):cp(e)?P_(e)||F5(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):W5(t,e,r,s))?M5(t,e,r,a,l,h,d):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),L5(t,e,r,s))};function W5(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&AT.test(e)&&Se(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||AT.test(e)&&Ut(n)?!1:e in t}const pf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ve(e)?n=>Nd(e,n):e};function K5(t){t.target.composing=!0}function ST(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Pa=Symbol("_assign"),hr={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Pa]=pf(s);const a=r||s.props&&s.props.type==="number";qs(t,e?"change":"input",l=>{if(l.target.composing)return;let h=t.value;n&&(h=h.trim()),a&&(h=lf(h)),t[Pa](h)}),n&&qs(t,"change",()=>{t.value=t.value.trim()}),e||(qs(t,"compositionstart",K5),qs(t,"compositionend",ST),qs(t,"change",ST))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},a){if(t[Pa]=pf(a),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&lf(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},o$={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=hp(e);qs(t,"change",()=>{const a=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?lf(mf(l)):mf(l));t[Pa](t.multiple?s?new Set(a):a:a[0])}),t[Pa]=pf(r)},mounted(t,{value:e}){RT(t,e)},beforeUpdate(t,e,n){t[Pa]=pf(n)},updated(t,{value:e}){RT(t,e)}};function RT(t,e){const n=t.multiple;if(!(n&&!ve(e)&&!hp(e))){for(let r=0,s=t.options.length;r<s;r++){const a=t.options[r],l=mf(a);if(n)ve(e)?a.selected=F3(e,l)>-1:a.selected=e.has(l);else if(pp(mf(a),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function mf(t){return"_value"in t?t._value:t.value}const G5=vn({patchProp:q5},P5);let CT;function z5(){return CT||(CT=r5(G5))}const Y5=(...t)=>{const e=z5().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=Q5(r);if(!s)return;const a=e._component;!Se(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Q5(t){return Ut(t)?document.querySelector(t):t}var J5=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let NP;const Tp=t=>NP=t,DP=Symbol();function $v(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var qu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(qu||(qu={}));function X5(){const t=$C(!0),e=t.run(()=>ke({}));let n=[],r=[];const s=gp({install(a){Tp(s),s._a=a,a.provide(DP,s),a.config.globalProperties.$pinia=s,r.forEach(l=>n.push(l)),r=[]},use(a){return!this._a&&!J5?r.push(a):n.push(a),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const xP=()=>{};function PT(t,e,n,r=xP){t.push(e);const s=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),r())};return!n&&HC()&&j3(s),s}function ua(t,...e){t.slice().forEach(n=>{n(...e)})}const Z5=t=>t();function Hv(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];$v(s)&&$v(r)&&t.hasOwnProperty(n)&&!mt(r)&&!yr(r)?t[n]=Hv(s,r):t[n]=r}return t}const ej=Symbol();function tj(t){return!$v(t)||!t.hasOwnProperty(ej)}const{assign:Gr}=Object;function nj(t){return!!(mt(t)&&t.effect)}function ij(t,e,n,r){const{state:s,actions:a,getters:l}=e,h=n.state.value[t];let d;function p(){h||(n.state.value[t]=s?s():{});const g=c6(n.state.value[t]);return Gr(g,a,Object.keys(l||{}).reduce((v,w)=>(v[w]=gp(Ce(()=>{Tp(n);const E=n._s.get(t);return l[w].call(E,E)})),v),{}))}return d=LP(t,p,e,n,r,!0),d}function LP(t,e,n={},r,s,a){let l;const h=Gr({actions:{}},n),d={deep:!0};let p,g,v=[],w=[],E;const R=r.state.value[t];!a&&!R&&(r.state.value[t]={}),ke({});let _;function b(oe){let he;p=g=!1,typeof oe=="function"?(oe(r.state.value[t]),he={type:qu.patchFunction,storeId:t,events:E}):(Hv(r.state.value[t],oe),he={type:qu.patchObject,payload:oe,storeId:t,events:E});const De=_=Symbol();yp().then(()=>{_===De&&(p=!0)}),g=!0,ua(v,he,r.state.value[t])}const S=a?function(){const{state:he}=n,De=he?he():{};this.$patch(le=>{Gr(le,De)})}:xP;function P(){l.stop(),v=[],w=[],r._s.delete(t)}function F(oe,he){return function(){Tp(r);const De=Array.from(arguments),le=[],Be=[];function me(W){le.push(W)}function Tt(W){Be.push(W)}ua(w,{args:De,name:oe,store:z,after:me,onError:Tt});let we;try{we=he.apply(this&&this.$id===t?this:z,De)}catch(W){throw ua(Be,W),W}return we instanceof Promise?we.then(W=>(ua(le,W),W)).catch(W=>(ua(Be,W),Promise.reject(W))):(ua(le,we),we)}}const x={_p:r,$id:t,$onAction:PT.bind(null,w),$patch:b,$reset:S,$subscribe(oe,he={}){const De=PT(v,oe,he.detached,()=>le()),le=l.run(()=>Ki(()=>r.state.value[t],Be=>{(he.flush==="sync"?g:p)&&oe({storeId:t,type:qu.direct,events:E},Be)},Gr({},d,he)));return De},$dispose:P},z=Ar(x);r._s.set(t,z);const pe=(r._a&&r._a.runWithContext||Z5)(()=>r._e.run(()=>(l=$C()).run(e)));for(const oe in pe){const he=pe[oe];if(mt(he)&&!nj(he)||yr(he))a||(R&&tj(he)&&(mt(he)?he.value=R[oe]:Hv(he,R[oe])),r.state.value[t][oe]=he);else if(typeof he=="function"){const De=F(oe,he);pe[oe]=De,h.actions[oe]=he}}return Gr(z,pe),Gr(je(z),pe),Object.defineProperty(z,"$state",{get:()=>r.state.value[t],set:oe=>{b(he=>{Gr(he,oe)})}}),r._p.forEach(oe=>{Gr(z,l.run(()=>oe({store:z,app:r._a,pinia:r,options:h})))}),R&&a&&n.hydrate&&n.hydrate(z.$state,R),p=!0,g=!0,z}function MP(t,e,n){let r,s;const a=typeof e=="function";typeof t=="string"?(r=t,s=a?n:e):(s=t,r=t.id);function l(h,d){const p=X6();return h=h||(p?vt(DP,null):null),h&&Tp(h),h=NP,h._s.has(r)||(a?LP(r,e,s,h):ij(r,s,h)),h._s.get(r)}return l.$id=r,l}function Ka(t){{t=je(t);const e={};for(const n in t){const r=t[n];(mt(r)||yr(r))&&(e[n]=f6(t,n))}return e}}function rj(){return console.log("createUserProfileCallable"),I_(lp(void 0,"northamerica-northeast1"),"createUserProfile")}function sj(){return console.log("createAdCallable"),I_(lp(void 0,"northamerica-northeast1"),"createAd")}function oj(){return console.log("postAdCallable"),I_(lp(void 0,"northamerica-northeast1"),"postAd")}const Ji=MP("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e=ke(null),n=ke(!1),r=ke(null),s=b=>{e.value=b},a=b=>{console.log("setNewUser",b),n.value=b},l=async b=>{let S=null;if(n.value)console.log("Profile setup mounted for new user"),S=await d(b),p(b);else{if(console.log("continueSignup This is an existing user fetching profile"),!e.value)throw new Error("continueSignup No user");if(S=await Pv("users",e.value.uid),p(b),!S)throw new Error("continueSignup No profile")}p(S)},h=rj(),d=async b=>{try{console.log("createUser start",b),console.log("createUserProfile",h);const S=await h({...b});return console.log("createUser res",S),S}catch(S){throw console.log("createUser error",S),new Error(S)}},p=b=>{if(console.log("setProfile",b),!b)throw new Error("No profile");r.value=b},g=async()=>{if(console.log("getProfile"),!e.value)throw new Error("No user");const b=await Pv("users",e.value.uid);r.value=b},v=sj(),w=async b=>{try{console.log("createUserAd start",b),console.log("createAd",v);const S=await v({...b});return console.log("createUserAd res",S),S}catch(S){throw console.log("createUserAd error",S),new Error(S)}},E=oj();return{user:e,setUser:s,createUser:d,getProfile:g,setProfile:p,setNewUser:a,isNewUser:n,continueSignup:l,profile:r,ACCOUNT_TYPES:t,createUserAd:w,postNewAd:async b=>{try{console.log("postAd start",b),console.log("createAd",v);const S=await E({adId:b});return console.log("postAd res",S),S}catch(S){throw console.log("postAd error",S),new Error(S)}},signout:async()=>{const b=uS();console.log("signout"),await b.signOut(),s(null),p(null)}}}),aj="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const pa=typeof window<"u";function lj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const it=Object.assign;function Mg(t,e){const n={};for(const r in e){const s=e[r];n[r]=Ei(s)?s.map(t):t(s)}return n}const Wu=()=>{},Ei=Array.isArray,uj=/\/$/,cj=t=>t.replace(uj,"");function Vg(t,e,n="/"){let r,s={},a="",l="";const h=e.indexOf("#");let d=e.indexOf("?");return h<d&&h>=0&&(d=-1),d>-1&&(r=e.slice(0,d),a=e.slice(d+1,h>-1?h:e.length),s=t(a)),h>-1&&(r=r||e.slice(0,h),l=e.slice(h,e.length)),r=pj(r??e,n),{fullPath:r+(a&&"?")+a+l,path:r,query:s,hash:l}}function hj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function kT(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function dj(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ga(e.matched[r],n.matched[s])&&VP(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ga(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function VP(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!fj(t[n],e[n]))return!1;return!0}function fj(t,e){return Ei(t)?OT(t,e):Ei(e)?OT(e,t):t===e}function OT(t,e){return Ei(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function pj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let a=n.length-1,l,h;for(l=0;l<r.length;l++)if(h=r[l],h!==".")if(h==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(l-(l===r.length?1:0)).join("/")}var yc;(function(t){t.pop="pop",t.push="push"})(yc||(yc={}));var Ku;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ku||(Ku={}));function mj(t){if(!t)if(pa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cj(t)}const gj=/^[^#]+#/;function vj(t,e){return t.replace(gj,"#")+e}function yj(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ap=()=>({left:window.pageXOffset,top:window.pageYOffset});function _j(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=yj(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function NT(t,e){return(history.state?history.state.position-e:-1)+t}const qv=new Map;function wj(t,e){qv.set(t,e)}function Ej(t){const e=qv.get(t);return qv.delete(t),e}let bj=()=>location.protocol+"//"+location.host;function FP(t,e){const{pathname:n,search:r,hash:s}=e,a=t.indexOf("#");if(a>-1){let h=s.includes(t.slice(a))?t.slice(a).length:1,d=s.slice(h);return d[0]!=="/"&&(d="/"+d),kT(d,"")}return kT(n,t)+r+s}function Ij(t,e,n,r){let s=[],a=[],l=null;const h=({state:w})=>{const E=FP(t,location),R=n.value,_=e.value;let b=0;if(w){if(n.value=E,e.value=w,l&&l===R){l=null;return}b=_?w.position-_.position:0}else r(E);s.forEach(S=>{S(n.value,R,{delta:b,type:yc.pop,direction:b?b>0?Ku.forward:Ku.back:Ku.unknown})})};function d(){l=n.value}function p(w){s.push(w);const E=()=>{const R=s.indexOf(w);R>-1&&s.splice(R,1)};return a.push(E),E}function g(){const{history:w}=window;w.state&&w.replaceState(it({},w.state,{scroll:Ap()}),"")}function v(){for(const w of a)w();a=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:d,listen:p,destroy:v}}function DT(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ap():null}}function Tj(t){const{history:e,location:n}=window,r={value:FP(t,n)},s={value:e.state};s.value||a(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(d,p,g){const v=t.indexOf("#"),w=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+d:bj()+t+d;try{e[g?"replaceState":"pushState"](p,"",w),s.value=p}catch(E){console.error(E),n[g?"replace":"assign"](w)}}function l(d,p){const g=it({},e.state,DT(s.value.back,d,s.value.forward,!0),p,{position:s.value.position});a(d,g,!0),r.value=d}function h(d,p){const g=it({},s.value,e.state,{forward:d,scroll:Ap()});a(g.current,g,!0);const v=it({},DT(r.value,d,null),{position:g.position+1},p);a(d,v,!1),r.value=d}return{location:r,state:s,push:h,replace:l}}function Aj(t){t=mj(t);const e=Tj(t),n=Ij(t,e.state,e.location,e.replace);function r(a,l=!0){l||n.pauseListeners(),history.go(a)}const s=it({location:"",base:t,go:r,createHref:vj.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Sj(t){return typeof t=="string"||t&&typeof t=="object"}function UP(t){return typeof t=="string"||typeof t=="symbol"}const Kr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jP=Symbol("");var xT;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xT||(xT={}));function za(t,e){return it(new Error,{type:t,[jP]:!0},e)}function ar(t,e){return t instanceof Error&&jP in t&&(e==null||!!(t.type&e))}const LT="[^/]+?",Rj={sensitive:!1,strict:!1,start:!0,end:!0},Cj=/[.+*?^${}()[\]/\\]/g;function Pj(t,e){const n=it({},Rj,e),r=[];let s=n.start?"^":"";const a=[];for(const p of t){const g=p.length?[]:[90];n.strict&&!p.length&&(s+="/");for(let v=0;v<p.length;v++){const w=p[v];let E=40+(n.sensitive?.25:0);if(w.type===0)v||(s+="/"),s+=w.value.replace(Cj,"\\$&"),E+=40;else if(w.type===1){const{value:R,repeatable:_,optional:b,regexp:S}=w;a.push({name:R,repeatable:_,optional:b});const P=S||LT;if(P!==LT){E+=10;try{new RegExp(`(${P})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${R}" (${P}): `+x.message)}}let F=_?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(F=b&&p.length<2?`(?:/${F})`:"/"+F),b&&(F+="?"),s+=F,E+=20,b&&(E+=-8),_&&(E+=-20),P===".*"&&(E+=-50)}g.push(E)}r.push(g)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function h(p){const g=p.match(l),v={};if(!g)return null;for(let w=1;w<g.length;w++){const E=g[w]||"",R=a[w-1];v[R.name]=E&&R.repeatable?E.split("/"):E}return v}function d(p){let g="",v=!1;for(const w of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const E of w)if(E.type===0)g+=E.value;else if(E.type===1){const{value:R,repeatable:_,optional:b}=E,S=R in p?p[R]:"";if(Ei(S)&&!_)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const P=Ei(S)?S.join("/"):S;if(!P)if(b)w.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${R}"`);g+=P}}return g||"/"}return{re:l,score:r,keys:a,parse:h,stringify:d}}function kj(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Oj(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const a=kj(r[n],s[n]);if(a)return a;n++}if(Math.abs(s.length-r.length)===1){if(MT(r))return 1;if(MT(s))return-1}return s.length-r.length}function MT(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Nj={type:0,value:""},Dj=/[a-zA-Z0-9_]/;function xj(t){if(!t)return[[]];if(t==="/")return[[Nj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${p}": ${E}`)}let n=0,r=n;const s=[];let a;function l(){a&&s.push(a),a=[]}let h=0,d,p="",g="";function v(){p&&(n===0?a.push({type:0,value:p}):n===1||n===2||n===3?(a.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:p,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),p="")}function w(){p+=d}for(;h<t.length;){if(d=t[h++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(p&&v(),l()):d===":"?(v(),n=1):w();break;case 4:w(),n=r;break;case 1:d==="("?n=2:Dj.test(d)?w():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&h--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:n=3:g+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&h--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${p}"`),v(),l(),s}function Lj(t,e,n){const r=Pj(xj(t.path),n),s=it(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Mj(t,e){const n=[],r=new Map;e=UT({strict:!1,end:!0,sensitive:!1},e);function s(g){return r.get(g)}function a(g,v,w){const E=!w,R=Vj(g);R.aliasOf=w&&w.record;const _=UT(e,g),b=[R];if("alias"in g){const F=typeof g.alias=="string"?[g.alias]:g.alias;for(const x of F)b.push(it({},R,{components:w?w.record.components:R.components,path:x,aliasOf:w?w.record:R}))}let S,P;for(const F of b){const{path:x}=F;if(v&&x[0]!=="/"){const z=v.record.path,ie=z[z.length-1]==="/"?"":"/";F.path=v.record.path+(x&&ie+x)}if(S=Lj(F,v,_),w?w.alias.push(S):(P=P||S,P!==S&&P.alias.push(S),E&&g.name&&!FT(S)&&l(g.name)),R.children){const z=R.children;for(let ie=0;ie<z.length;ie++)a(z[ie],S,w&&w.children[ie])}w=w||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&d(S)}return P?()=>{l(P)}:Wu}function l(g){if(UP(g)){const v=r.get(g);v&&(r.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function h(){return n}function d(g){let v=0;for(;v<n.length&&Oj(g,n[v])>=0&&(g.record.path!==n[v].record.path||!BP(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!FT(g)&&r.set(g.record.name,g)}function p(g,v){let w,E={},R,_;if("name"in g&&g.name){if(w=r.get(g.name),!w)throw za(1,{location:g});_=w.record.name,E=it(VT(v.params,w.keys.filter(P=>!P.optional).map(P=>P.name)),g.params&&VT(g.params,w.keys.map(P=>P.name))),R=w.stringify(E)}else if("path"in g)R=g.path,w=n.find(P=>P.re.test(R)),w&&(E=w.parse(R),_=w.record.name);else{if(w=v.name?r.get(v.name):n.find(P=>P.re.test(v.path)),!w)throw za(1,{location:g,currentLocation:v});_=w.record.name,E=it({},v.params,g.params),R=w.stringify(E)}const b=[];let S=w;for(;S;)b.unshift(S.record),S=S.parent;return{name:_,path:R,params:E,matched:b,meta:Uj(b)}}return t.forEach(g=>a(g)),{addRoute:a,resolve:p,removeRoute:l,getRoutes:h,getRecordMatcher:s}}function VT(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Vj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Fj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Fj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function FT(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Uj(t){return t.reduce((e,n)=>it(e,n.meta),{})}function UT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function BP(t,e){return e.children.some(n=>n===t||BP(t,n))}const $P=/#/g,jj=/&/g,Bj=/\//g,$j=/=/g,Hj=/\?/g,HP=/\+/g,qj=/%5B/g,Wj=/%5D/g,qP=/%5E/g,Kj=/%60/g,WP=/%7B/g,Gj=/%7C/g,KP=/%7D/g,zj=/%20/g;function G_(t){return encodeURI(""+t).replace(Gj,"|").replace(qj,"[").replace(Wj,"]")}function Yj(t){return G_(t).replace(WP,"{").replace(KP,"}").replace(qP,"^")}function Wv(t){return G_(t).replace(HP,"%2B").replace(zj,"+").replace($P,"%23").replace(jj,"%26").replace(Kj,"`").replace(WP,"{").replace(KP,"}").replace(qP,"^")}function Qj(t){return Wv(t).replace($j,"%3D")}function Jj(t){return G_(t).replace($P,"%23").replace(Hj,"%3F")}function Xj(t){return t==null?"":Jj(t).replace(Bj,"%2F")}function gf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Zj(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const a=r[s].replace(HP," "),l=a.indexOf("="),h=gf(l<0?a:a.slice(0,l)),d=l<0?null:gf(a.slice(l+1));if(h in e){let p=e[h];Ei(p)||(p=e[h]=[p]),p.push(d)}else e[h]=d}return e}function jT(t){let e="";for(let n in t){const r=t[n];if(n=Qj(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ei(r)?r.map(a=>a&&Wv(a)):[r&&Wv(r)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function eB(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Ei(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const tB=Symbol(""),BT=Symbol(""),Sp=Symbol(""),GP=Symbol(""),Kv=Symbol("");function wu(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Yr(t,e,n,r,s){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,h)=>{const d=v=>{v===!1?h(za(4,{from:n,to:e})):v instanceof Error?h(v):Sj(v)?h(za(2,{from:e,to:v})):(a&&r.enterCallbacks[s]===a&&typeof v=="function"&&a.push(v),l())},p=t.call(r&&r.instances[s],e,n,d);let g=Promise.resolve(p);t.length<3&&(g=g.then(d)),g.catch(v=>h(v))})}function Fg(t,e,n,r){const s=[];for(const a of t)for(const l in a.components){let h=a.components[l];if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(nB(h)){const p=(h.__vccOpts||h)[e];p&&s.push(Yr(p,n,r,a,l))}else{let d=h();s.push(()=>d.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const g=lj(p)?p.default:p;a.components[l]=g;const w=(g.__vccOpts||g)[e];return w&&Yr(w,n,r,a,l)()}))}}return s}function nB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $T(t){const e=vt(Sp),n=vt(GP),r=Ce(()=>e.resolve(Ze(t.to))),s=Ce(()=>{const{matched:d}=r.value,{length:p}=d,g=d[p-1],v=n.matched;if(!g||!v.length)return-1;const w=v.findIndex(Ga.bind(null,g));if(w>-1)return w;const E=HT(d[p-2]);return p>1&&HT(g)===E&&v[v.length-1].path!==E?v.findIndex(Ga.bind(null,d[p-2])):w}),a=Ce(()=>s.value>-1&&sB(n.params,r.value.params)),l=Ce(()=>s.value>-1&&s.value===n.matched.length-1&&VP(n.params,r.value.params));function h(d={}){return rB(d)?e[Ze(t.replace)?"replace":"push"](Ze(t.to)).catch(Wu):Promise.resolve()}return{route:r,href:Ce(()=>r.value.href),isActive:a,isExactActive:l,navigate:h}}const iB=Bt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$T,setup(t,{slots:e}){const n=Ar($T(t)),{options:r}=vt(Sp),s=Ce(()=>({[qT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[qT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&e.default(n);return t.custom?a:un("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},a)}}}),Bs=iB;function rB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sB(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Ei(s)||s.length!==r.length||r.some((a,l)=>a!==s[l]))return!1}return!0}function HT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const qT=(t,e,n)=>t??e??n,oB=Bt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=vt(Kv),s=Ce(()=>t.route||r.value),a=vt(BT,0),l=Ce(()=>{let p=Ze(a);const{matched:g}=s.value;let v;for(;(v=g[p])&&!v.components;)p++;return p}),h=Ce(()=>s.value.matched[l.value]);Un(BT,Ce(()=>l.value+1)),Un(tB,h),Un(Kv,s);const d=ke();return Ki(()=>[d.value,h.value,t.name],([p,g,v],[w,E,R])=>{g&&(g.instances[v]=p,E&&E!==g&&p&&p===w&&(g.leaveGuards.size||(g.leaveGuards=E.leaveGuards),g.updateGuards.size||(g.updateGuards=E.updateGuards))),p&&g&&(!E||!Ga(g,E)||!w)&&(g.enterCallbacks[v]||[]).forEach(_=>_(p))},{flush:"post"}),()=>{const p=s.value,g=t.name,v=h.value,w=v&&v.components[g];if(!w)return WT(n.default,{Component:w,route:p});const E=v.props[g],R=E?E===!0?p.params:typeof E=="function"?E(p):E:null,b=un(w,it({},R,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(v.instances[g]=null)},ref:d}));return WT(n.default,{Component:b,route:p})||b}}});function WT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const zP=oB;function aB(t){const e=Mj(t.routes,t),n=t.parseQuery||Zj,r=t.stringifyQuery||jT,s=t.history,a=wu(),l=wu(),h=wu(),d=sP(Kr);let p=Kr;pa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Mg.bind(null,N=>""+N),v=Mg.bind(null,Xj),w=Mg.bind(null,gf);function E(N,Z){let K,ue;return UP(N)?(K=e.getRecordMatcher(N),ue=Z):ue=N,e.addRoute(ue,K)}function R(N){const Z=e.getRecordMatcher(N);Z&&e.removeRoute(Z)}function _(){return e.getRoutes().map(N=>N.record)}function b(N){return!!e.getRecordMatcher(N)}function S(N,Z){if(Z=it({},Z||d.value),typeof N=="string"){const C=Vg(n,N,Z.path),O=e.resolve({path:C.path},Z),L=s.createHref(C.fullPath);return it(C,O,{params:w(O.params),hash:gf(C.hash),redirectedFrom:void 0,href:L})}let K;if("path"in N)K=it({},N,{path:Vg(n,N.path,Z.path).path});else{const C=it({},N.params);for(const O in C)C[O]==null&&delete C[O];K=it({},N,{params:v(C)}),Z.params=v(Z.params)}const ue=e.resolve(K,Z),Ke=N.hash||"";ue.params=g(w(ue.params));const T=hj(r,it({},N,{hash:Yj(Ke),path:ue.path})),A=s.createHref(T);return it({fullPath:T,hash:Ke,query:r===jT?eB(N.query):N.query||{}},ue,{redirectedFrom:void 0,href:A})}function P(N){return typeof N=="string"?Vg(n,N,d.value.path):it({},N)}function F(N,Z){if(p!==N)return za(8,{from:Z,to:N})}function x(N){return pe(N)}function z(N){return x(it(P(N),{replace:!0}))}function ie(N){const Z=N.matched[N.matched.length-1];if(Z&&Z.redirect){const{redirect:K}=Z;let ue=typeof K=="function"?K(N):K;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=P(ue):{path:ue},ue.params={}),it({query:N.query,hash:N.hash,params:"path"in ue?{}:N.params},ue)}}function pe(N,Z){const K=p=S(N),ue=d.value,Ke=N.state,T=N.force,A=N.replace===!0,C=ie(K);if(C)return pe(it(P(C),{state:typeof C=="object"?it({},Ke,C.state):Ke,force:T,replace:A}),Z||K);const O=K;O.redirectedFrom=Z;let L;return!T&&dj(r,ue,K)&&(L=za(16,{to:O,from:ue}),Kt(ue,ue,!0,!1)),(L?Promise.resolve(L):De(O,ue)).catch(U=>ar(U)?ar(U,2)?U:Ye(U):ge(U,O,ue)).then(U=>{if(U){if(ar(U,2))return pe(it({replace:A},P(U.to),{state:typeof U.to=="object"?it({},Ke,U.to.state):Ke,force:T}),Z||O)}else U=Be(O,ue,!0,A,Ke);return le(O,ue,U),U})}function oe(N,Z){const K=F(N,Z);return K?Promise.reject(K):Promise.resolve()}function he(N){const Z=Ai.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(N):N()}function De(N,Z){let K;const[ue,Ke,T]=lB(N,Z);K=Fg(ue.reverse(),"beforeRouteLeave",N,Z);for(const C of ue)C.leaveGuards.forEach(O=>{K.push(Yr(O,N,Z))});const A=oe.bind(null,N,Z);return K.push(A),Gt(K).then(()=>{K=[];for(const C of a.list())K.push(Yr(C,N,Z));return K.push(A),Gt(K)}).then(()=>{K=Fg(Ke,"beforeRouteUpdate",N,Z);for(const C of Ke)C.updateGuards.forEach(O=>{K.push(Yr(O,N,Z))});return K.push(A),Gt(K)}).then(()=>{K=[];for(const C of T)if(C.beforeEnter)if(Ei(C.beforeEnter))for(const O of C.beforeEnter)K.push(Yr(O,N,Z));else K.push(Yr(C.beforeEnter,N,Z));return K.push(A),Gt(K)}).then(()=>(N.matched.forEach(C=>C.enterCallbacks={}),K=Fg(T,"beforeRouteEnter",N,Z),K.push(A),Gt(K))).then(()=>{K=[];for(const C of l.list())K.push(Yr(C,N,Z));return K.push(A),Gt(K)}).catch(C=>ar(C,8)?C:Promise.reject(C))}function le(N,Z,K){h.list().forEach(ue=>he(()=>ue(N,Z,K)))}function Be(N,Z,K,ue,Ke){const T=F(N,Z);if(T)return T;const A=Z===Kr,C=pa?history.state:{};K&&(ue||A?s.replace(N.fullPath,it({scroll:A&&C&&C.scroll},Ke)):s.push(N.fullPath,Ke)),d.value=N,Kt(N,Z,K,A),Ye()}let me;function Tt(){me||(me=s.listen((N,Z,K)=>{if(!Eo.listening)return;const ue=S(N),Ke=ie(ue);if(Ke){pe(it(Ke,{replace:!0}),ue).catch(Wu);return}p=ue;const T=d.value;pa&&wj(NT(T.fullPath,K.delta),Ap()),De(ue,T).catch(A=>ar(A,12)?A:ar(A,2)?(pe(A.to,ue).then(C=>{ar(C,20)&&!K.delta&&K.type===yc.pop&&s.go(-1,!1)}).catch(Wu),Promise.reject()):(K.delta&&s.go(-K.delta,!1),ge(A,ue,T))).then(A=>{A=A||Be(ue,T,!1),A&&(K.delta&&!ar(A,8)?s.go(-K.delta,!1):K.type===yc.pop&&ar(A,20)&&s.go(-1,!1)),le(ue,T,A)}).catch(Wu)}))}let we=wu(),W=wu(),X;function ge(N,Z,K){Ye(N);const ue=W.list();return ue.length?ue.forEach(Ke=>Ke(N,Z,K)):console.error(N),Promise.reject(N)}function ct(){return X&&d.value!==Kr?Promise.resolve():new Promise((N,Z)=>{we.add([N,Z])})}function Ye(N){return X||(X=!N,Tt(),we.list().forEach(([Z,K])=>N?K(N):Z()),we.reset()),N}function Kt(N,Z,K,ue){const{scrollBehavior:Ke}=t;if(!pa||!Ke)return Promise.resolve();const T=!K&&Ej(NT(N.fullPath,0))||(ue||!K)&&history.state&&history.state.scroll||null;return yp().then(()=>Ke(N,Z,T)).then(A=>A&&_j(A)).catch(A=>ge(A,N,Z))}const Qe=N=>s.go(N);let Ti;const Ai=new Set,Eo={currentRoute:d,listening:!0,addRoute:E,removeRoute:R,hasRoute:b,getRoutes:_,resolve:S,options:t,push:x,replace:z,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:a.add,beforeResolve:l.add,afterEach:h.add,onError:W.add,isReady:ct,install(N){const Z=this;N.component("RouterLink",Bs),N.component("RouterView",zP),N.config.globalProperties.$router=Z,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Ze(d)}),pa&&!Ti&&d.value===Kr&&(Ti=!0,x(s.location).catch(Ke=>{}));const K={};for(const Ke in Kr)Object.defineProperty(K,Ke,{get:()=>d.value[Ke],enumerable:!0});N.provide(Sp,Z),N.provide(GP,eP(K)),N.provide(Kv,d);const ue=N.unmount;Ai.add(N),N.unmount=function(){Ai.delete(N),Ai.size<1&&(p=Kr,me&&me(),me=null,d.value=Kr,Ti=!1,X=!1),ue()}}};function Gt(N){return N.reduce((Z,K)=>Z.then(()=>he(K)),Promise.resolve())}return Eo}function lB(t,e){const n=[],r=[],s=[],a=Math.max(e.matched.length,t.matched.length);for(let l=0;l<a;l++){const h=e.matched[l];h&&(t.matched.find(p=>Ga(p,h))?r.push(h):n.push(h));const d=t.matched[l];d&&(e.matched.find(p=>Ga(p,d))||s.push(d))}return[n,r,s]}function uB(){return vt(Sp)}const YP=MP("ModalStore",()=>({modals:Ar({addad:!1})})),cB={key:0},hB=Bt({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(en(),os("div",cB,[Te("div",{class:ti(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):cr("",!0)}});const QP=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},dB=QP(hB,[["__scopeId","data-v-634cf170"]]),JP=Bt({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,r=()=>{n("click")};return(s,a)=>(en(),os("button",{class:ti(t.classes),onClick:r,style:{"max-height":"50px",display:"flex","align-items":"center","justify-content":"center"}},[ut(dB,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?cr("",!0):H6(s.$slots,"default",{key:0})],2))}}),fB={class:"space-y-4 mb-4"},pB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),mB={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},gB=["src"],vB=["onClick"],yB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),_B=Te("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),wB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),EB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),bB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),IB={class:"flex justify-end space-x-2 mt-4"},TB=5*1024*1024,AB=Bt({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:r}=Ka(Ji()),s=ke([]),a=ke(null),l=()=>{const E=a.value.files;for(let R=0;R<E.length;R++){const _=E[R];if(_.size>TB){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=S=>{s.value.push({file:_,url:S.target.result})},b.readAsDataURL(_)}},h=E=>{s.value.splice(E,1)},d=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),p=Ar({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:d,price:0}),g=ke(!1),v=async()=>{if(g.value=!0,w()&&r.value){const E=s.value.map(R=>R.url.split(",")[1]);console.log("base64Images",E[0]),await Ji().createUserAd({images:E,...p,adType:r.value.accountType}),g.value=!1,n("close")}else g.value=!1},w=()=>!(p.type===""||p.variety===""||p.yieldTonnage===0||!p.expectedHarvestDate||p.price===0||s.value.length===0);return(E,R)=>(en(),os(hn,null,[Te("div",fB,[pB,Te("input",{type:"file",id:"images",ref_key:"imageInput",ref:a,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),Te("div",mB,[(en(!0),os(hn,null,$6(s.value,(_,b)=>(en(),os("div",{key:b,class:"mr-2 relative"},[Te("img",{src:_.url,class:"w-16 h-16 object-cover"},null,8,gB),Te("button",{onClick:S=>h(b)},"Remove",8,vB)]))),128))]),yB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":R[0]||(R[0]=_=>p.type=_)},null,512),[[hr,p.type]]),_B,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":R[1]||(R[1]=_=>p.variety=_)},null,512),[[hr,p.variety]]),wB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":R[2]||(R[2]=_=>p.yieldTonnage=_)},null,512),[[hr,p.yieldTonnage]]),EB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":R[3]||(R[3]=_=>p.expectedHarvestDate=_)},null,512),[[hr,p.expectedHarvestDate]]),bB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":R[4]||(R[4]=_=>p.price=_)},null,512),[[hr,p.price]])]),Te("div",IB,[Te("button",{onClick:R[5]||(R[5]=_=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),ut(JP,{onClick:v,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:g.value},{default:wn(()=>[Ni(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),SB={class:"space-y-4 mb-4"},RB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),CB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),PB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),kB=Te("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),OB={class:"flex justify-end space-x-2 mt-4"},NB=Bt({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:r}=Ka(Ji());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const a=Ar({type:"",yieldTonnage:0,requestDate:s,price:0}),l=ke(!1),h=async()=>{l.value=!0,d()&&r.value?(await Ji().createUserAd({...a,adType:r.value.accountType}),l.value=!1,n("close")):l.value=!1},d=()=>!(a.type===""||a.yieldTonnage===0||!a.requestDate||a.price===0);return(p,g)=>(en(),os(hn,null,[Te("div",SB,[RB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":g[0]||(g[0]=v=>a.type=v)},null,512),[[hr,a.type]]),CB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":g[1]||(g[1]=v=>a.yieldTonnage=v)},null,512),[[hr,a.yieldTonnage]]),PB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":g[2]||(g[2]=v=>a.requestDate=v)},null,512),[[hr,a.requestDate]]),kB,ur(Te("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":g[3]||(g[3]=v=>a.price=v)},null,512),[[hr,a.price]])]),Te("div",OB,[Te("button",{onClick:g[4]||(g[4]=v=>p.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),ut(JP,{onClick:h,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:wn(()=>[Ni(" Confirm ")]),_:1},8,["isLoading"])])],64))}});function Xi(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Xi),r}var vf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(vf||{}),es=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(es||{});function Ii({visible:t=!0,features:e=0,ourProps:n,theirProps:r,...s}){var a;let l=ZP(r,n),h=Object.assign(s,{props:l});if(t||e&2&&l.static)return Ug(h);if(e&1){let d=(a=l.unmount)==null||a?0:1;return Xi(d,{0(){return null},1(){return Ug({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return Ug(h)}function Ug({props:t,attrs:e,slots:n,slot:r,name:s}){var a,l;let{as:h,...d}=e2(t,["unmount","static"]),p=(a=n.default)==null?void 0:a.call(n,r),g={};if(r){let v=!1,w=[];for(let[E,R]of Object.entries(r))typeof R=="boolean"&&(v=!0),R===!0&&w.push(E);v&&(g["data-headlessui-state"]=w.join(" "))}if(h==="template"){if(p=XP(p??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[v,...w]=p??[];if(!DB(v)||w.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(_=>_.trim()).filter((_,b,S)=>S.indexOf(_)===b).sort((_,b)=>_.localeCompare(b)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let E=ZP((l=v.props)!=null?l:{},d),R=go(v,E);for(let _ in E)_.startsWith("on")&&(R.props||(R.props={}),R.props[_]=E[_]);return R}return Array.isArray(p)&&p.length===1?p[0]:p}return un(h,Object.assign({},d,g),{default:()=>p})}function XP(t){return t.flatMap(e=>e.type===hn?XP(e.children):[e])}function ZP(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...a){let l=n[r];for(let h of l){if(s instanceof Event&&s.defaultPrevented)return;h(s,...a)}}});return e}function e2(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function DB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let xB=0;function LB(){return++xB}function Bc(){return LB()}var t2=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(t2||{});function qt(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let n2=Symbol("Context");var Yn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Yn||{});function MB(){return z_()!==null}function z_(){return vt(n2,null)}function VB(t){Un(n2,t)}var FB=Object.defineProperty,UB=(t,e,n)=>e in t?FB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,KT=(t,e,n)=>(UB(t,typeof e!="symbol"?e+"":e,n),n);class jB{constructor(){KT(this,"current",this.detect()),KT(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let $c=new jB;function ll(t){if($c.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=qt(t);if(e)return e.ownerDocument}return document}let Gv=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Qr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Qr||{}),i2=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(i2||{}),BB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(BB||{});function $B(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Gv)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var r2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(r2||{});function HB(t,e=0){var n;return t===((n=ll(t))==null?void 0:n.body)?!1:Xi(e,{0(){return t.matches(Gv)},1(){let r=t;for(;r!==null;){if(r.matches(Gv))return!0;r=r.parentElement}return!1}})}var qB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(qB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function oo(t){t==null||t.focus({preventScroll:!0})}let WB=["textarea","input"].join(",");function KB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,WB))!=null?n:!1}function GB(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),a=e(r);if(s===null||a===null)return 0;let l=s.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function xd(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){var a;let l=(a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?a:document,h=Array.isArray(t)?n?GB(t):t:$B(t);s.length>0&&h.length>1&&(h=h.filter(R=>!s.includes(R))),r=r??l.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,h.indexOf(r))-1;if(e&4)return Math.max(0,h.indexOf(r))+1;if(e&8)return h.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=e&32?{preventScroll:!0}:{},v=0,w=h.length,E;do{if(v>=w||v+w<=0)return 0;let R=p+v;if(e&16)R=(R+w)%w;else{if(R<0)return 3;if(R>=w)return 1}E=h[R],E==null||E.focus(g),v+=d}while(E!==l.activeElement);return e&6&&KB(E)&&E.select(),2}function Ed(t,e,n){$c.isServer||wi(r=>{document.addEventListener(t,e,n),r(()=>document.removeEventListener(t,e,n))})}function s2(t,e,n){$c.isServer||wi(r=>{window.addEventListener(t,e,n),r(()=>window.removeEventListener(t,e,n))})}function zB(t,e,n=Ce(()=>!0)){function r(a,l){if(!n.value||a.defaultPrevented)return;let h=l(a);if(h===null||!h.getRootNode().contains(h))return;let d=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of d){if(p===null)continue;let g=p instanceof HTMLElement?p:qt(p);if(g!=null&&g.contains(h)||a.composed&&a.composedPath().includes(g))return}return!HB(h,r2.Loose)&&h.tabIndex!==-1&&a.preventDefault(),e(a,h)}let s=ke(null);Ed("pointerdown",a=>{var l,h;n.value&&(s.value=((h=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:h[0])||a.target)},!0),Ed("mousedown",a=>{var l,h;n.value&&(s.value=((h=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:h[0])||a.target)},!0),Ed("click",a=>{s.value&&(r(a,()=>s.value),s.value=null)},!0),Ed("touchend",a=>r(a,()=>a.target instanceof HTMLElement?a.target:null),!0),s2("blur",a=>r(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var yf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(yf||{});let zv=Bt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:r,...s}=t,a={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ii({ourProps:a,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function YB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Y_(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Hc(){let t=[],e={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),e.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Y_(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=Hc();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var Nu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Nu||{});function QB(){let t=ke(0);return s2("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function o2(t,e,n,r){$c.isServer||wi(s=>{t=t??window,t.addEventListener(e,n,r),s(()=>t.removeEventListener(e,n,r))})}function JB(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function a2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let r=qt(n);r instanceof HTMLElement&&e.add(r)}return e}var l2=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(l2||{});let Eu=Object.assign(Bt({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:ke(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:r}){let s=ke(null);r({el:s,$el:s});let a=Ce(()=>ll(s)),l=ke(!1);xn(()=>l.value=!0),Zn(()=>l.value=!1),ZB({ownerDocument:a},Ce(()=>l.value&&!!(t.features&16)));let h=e7({ownerDocument:a,container:s,initialFocus:Ce(()=>t.initialFocus)},Ce(()=>l.value&&!!(t.features&2)));t7({ownerDocument:a,container:s,containers:t.containers,previousActiveElement:h},Ce(()=>l.value&&!!(t.features&8)));let d=QB();function p(E){let R=qt(s);R&&(_=>_())(()=>{Xi(d.value,{[Nu.Forwards]:()=>{xd(R,Qr.First,{skipElements:[E.relatedTarget]})},[Nu.Backwards]:()=>{xd(R,Qr.Last,{skipElements:[E.relatedTarget]})}})})}let g=ke(!1);function v(E){E.key==="Tab"&&(g.value=!0,requestAnimationFrame(()=>{g.value=!1}))}function w(E){if(!l.value)return;let R=a2(t.containers);qt(s)instanceof HTMLElement&&R.add(qt(s));let _=E.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(u2(R,_)||(g.value?xd(qt(s),Xi(d.value,{[Nu.Forwards]:()=>Qr.Next,[Nu.Backwards]:()=>Qr.Previous})|Qr.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&oo(E.target)))}return()=>{let E={},R={ref:s,onKeydown:v,onFocusout:w},{features:_,initialFocus:b,containers:S,...P}=t;return un(hn,[!!(_&4)&&un(zv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:yf.Focusable}),Ii({ourProps:R,theirProps:{...e,...P},slot:E,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&un(zv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:yf.Focusable})])}}}),{features:l2}),Ws=[];JB(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ws[0]!==e.target&&(Ws.unshift(e.target),Ws=Ws.filter(n=>n!=null&&n.isConnected),Ws.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function XB(t){let e=ke(Ws.slice());return Ki([t],([n],[r])=>{r===!0&&n===!1?Y_(()=>{e.value.splice(0)}):r===!1&&n===!0&&(e.value=Ws.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function ZB({ownerDocument:t},e){let n=XB(e);xn(()=>{wi(()=>{var r,s;e.value||((r=t.value)==null?void 0:r.activeElement)===((s=t.value)==null?void 0:s.body)&&oo(n())},{flush:"post"})}),Zn(()=>{e.value&&oo(n())})}function e7({ownerDocument:t,container:e,initialFocus:n},r){let s=ke(null),a=ke(!1);return xn(()=>a.value=!0),Zn(()=>a.value=!1),xn(()=>{Ki([e,n,r],(l,h)=>{if(l.every((p,g)=>(h==null?void 0:h[g])===p)||!r.value)return;let d=qt(e);d&&Y_(()=>{var p,g;if(!a.value)return;let v=qt(n),w=(p=t.value)==null?void 0:p.activeElement;if(v){if(v===w){s.value=w;return}}else if(d.contains(w)){s.value=w;return}v?oo(v):xd(d,Qr.First|Qr.NoScroll)===i2.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(g=t.value)==null?void 0:g.activeElement})},{immediate:!0,flush:"post"})}),s}function t7({ownerDocument:t,container:e,containers:n,previousActiveElement:r},s){var a;o2((a=t.value)==null?void 0:a.defaultView,"focus",l=>{if(!s.value)return;let h=a2(n);qt(e)instanceof HTMLElement&&h.add(qt(e));let d=r.value;if(!d)return;let p=l.target;p&&p instanceof HTMLElement?u2(h,p)?(r.value=p,oo(p)):(l.preventDefault(),l.stopPropagation(),oo(d)):oo(r.value)},!0)}function u2(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let jg=new Map,bu=new Map;function GT(t,e=ke(!0)){wi(n=>{var r;if(!e.value)return;let s=qt(t);if(!s)return;n(function(){var l;if(!s)return;let h=(l=bu.get(s))!=null?l:1;if(h===1?bu.delete(s):bu.set(s,h-1),h!==1)return;let d=jg.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,jg.delete(s))});let a=(r=bu.get(s))!=null?r:0;bu.set(s,a+1),a===0&&(jg.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let c2=Symbol("ForcePortalRootContext");function n7(){return vt(c2,!1)}let zT=Bt({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Un(c2,t.force),()=>{let{force:r,...s}=t;return Ii({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function i7(t){let e=ll(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let r=e.createElement("div");return r.setAttribute("id","headlessui-portal-root"),e.body.appendChild(r)}let r7=Bt({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let r=ke(null),s=Ce(()=>ll(r)),a=n7(),l=vt(h2,null),h=ke(a===!0||l==null?i7(r.value):l.resolveTarget());wi(()=>{a||l!=null&&(h.value=l.resolveTarget())});let d=vt(Yv,null);return xn(()=>{let p=qt(r);p&&d&&Zn(d.register(p))}),Zn(()=>{var p,g;let v=(p=s.value)==null?void 0:p.getElementById("headlessui-portal-root");v&&h.value===v&&h.value.children.length<=0&&((g=h.value.parentElement)==null||g.removeChild(h.value))}),()=>{if(h.value===null)return null;let p={ref:r,"data-headlessui-portal":""};return un(h5,{to:h.value},Ii({ourProps:p,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Yv=Symbol("PortalParentContext");function s7(){let t=vt(Yv,null),e=ke([]);function n(a){return e.value.push(a),t&&t.register(a),()=>r(a)}function r(a){let l=e.value.indexOf(a);l!==-1&&e.value.splice(l,1),t&&t.unregister(a)}let s={register:n,unregister:r,portals:e};return[e,Bt({name:"PortalWrapper",setup(a,{slots:l}){return Un(Yv,s),()=>{var h;return(h=l.default)==null?void 0:h.call(l)}}})]}let h2=Symbol("PortalGroupContext"),o7=Bt({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let r=Ar({resolveTarget(){return t.target}});return Un(h2,r),()=>{let{target:s,...a}=t;return Ii({theirProps:a,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),d2=Symbol("StackContext");var Qv=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Qv||{});function a7(){return vt(d2,()=>{})}function l7({type:t,enabled:e,element:n,onUpdate:r}){let s=a7();function a(...l){r==null||r(...l),s(...l)}xn(()=>{Ki(e,(l,h)=>{l?a(0,t,n):h===!0&&a(1,t,n)},{immediate:!0,flush:"sync"})}),Zn(()=>{e.value&&a(1,t,n)}),Un(d2,a)}let f2=Symbol("DescriptionContext");function u7(){let t=vt(f2,null);if(t===null)throw new Error("Missing parent");return t}function c7({slot:t=ke({}),name:e="Description",props:n={}}={}){let r=ke([]);function s(a){return r.value.push(a),()=>{let l=r.value.indexOf(a);l!==-1&&r.value.splice(l,1)}}return Un(f2,{register:s,slot:t,name:e,props:n}),Ce(()=>r.value.length>0?r.value.join(" "):void 0)}let h7=Bt({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${Bc()}`}},setup(t,{attrs:e,slots:n}){let r=u7();return xn(()=>Zn(r.register(t.id))),()=>{let{name:s="Description",slot:a=ke({}),props:l={}}=r,{id:h,...d}=t,p={...Object.entries(l).reduce((g,[v,w])=>Object.assign(g,{[v]:Ze(w)}),{}),id:h};return Ii({ourProps:p,theirProps:d,slot:a.value,attrs:e,slots:n,name:s})}}});function d7(t){let e=sP(t.getSnapshot());return Zn(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function f7(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let l=e[s].call(n,...a);l&&(n=l,r.forEach(h=>h()))}}}function p7(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,s=r.clientWidth-r.offsetWidth,a=t-s;n.style(r,"paddingRight",`${a}px`)}}}function m7(){if(!YB())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:r}){function s(l){return r.containers.flatMap(h=>h()).some(h=>h.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Hc();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let a=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let h=l.target.closest("a");if(!h)return;let{hash:d}=new URL(h.href),p=e.querySelector(d);p&&!s(p)&&(a=p)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})}}}function g7(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function v7(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Js=f7(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Hc(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:v7(n)},s=[m7(),p7(),g7()];s.forEach(({before:a})=>a==null?void 0:a(r)),s.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Js.subscribe(()=>{let t=Js.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Js.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Js.dispatch("TEARDOWN",n)}});function y7(t,e,n){let r=d7(Js),s=Ce(()=>{let a=t.value?r.value.get(t.value):void 0;return a?a.count>0:!1});return Ki([t,e],([a,l],[h],d)=>{if(!a||!l)return;Js.dispatch("PUSH",a,n);let p=!1;d(()=>{p||(Js.dispatch("POP",h??a,n),p=!0)})},{immediate:!0}),s}function _7({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let r=ke(null),s=ll(r);function a(){var l;let h=[];for(let d of t)d!==null&&(d instanceof HTMLElement?h.push(d):"value"in d&&d.value instanceof HTMLElement&&h.push(d.value));if(e!=null&&e.value)for(let d of e.value)h.push(d);for(let d of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(qt(r))||h.some(p=>d.contains(p))||h.push(d));return h}return{resolveContainers:a,contains(l){return a().some(h=>h.contains(l))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:un(zv,{features:yf.Hidden,ref:r})}}}var w7=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(w7||{});let Jv=Symbol("DialogContext");function Q_(t){let e=vt(Jv,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Q_),n}return e}let bd="DC8F892D-2EBD-447C-A4C8-A03058436FF4",E7=Bt({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:bd},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Bc()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:r,expose:s}){var a;let l=ke(!1);xn(()=>{l.value=!0});let h=ke(0),d=z_(),p=Ce(()=>t.open===bd&&d!==null?(d.value&Yn.Open)===Yn.Open:t.open),g=ke(null),v=Ce(()=>ll(g));if(s({el:g,$el:g}),!(t.open!==bd||d!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===bd?void 0:t.open}`);let w=Ce(()=>l.value&&p.value?0:1),E=Ce(()=>w.value===0),R=Ce(()=>h.value>1),_=vt(Jv,null)!==null,[b,S]=s7(),{resolveContainers:P,mainTreeNodeRef:F,MainTreeNode:x}=_7({portals:b,defaultContainers:[Ce(()=>{var X;return(X=me.panelRef.value)!=null?X:g.value})]}),z=Ce(()=>R.value?"parent":"leaf"),ie=Ce(()=>d!==null?(d.value&Yn.Closing)===Yn.Closing:!1),pe=Ce(()=>_||ie.value?!1:E.value),oe=Ce(()=>{var X,ge,ct;return(ct=Array.from((ge=(X=v.value)==null?void 0:X.querySelectorAll("body > *"))!=null?ge:[]).find(Ye=>Ye.id==="headlessui-portal-root"?!1:Ye.contains(qt(F))&&Ye instanceof HTMLElement))!=null?ct:null});GT(oe,pe);let he=Ce(()=>R.value?!0:E.value),De=Ce(()=>{var X,ge,ct;return(ct=Array.from((ge=(X=v.value)==null?void 0:X.querySelectorAll("[data-headlessui-portal]"))!=null?ge:[]).find(Ye=>Ye.contains(qt(F))&&Ye instanceof HTMLElement))!=null?ct:null});GT(De,he),l7({type:"Dialog",enabled:Ce(()=>w.value===0),element:g,onUpdate:(X,ge)=>{if(ge==="Dialog")return Xi(X,{[Qv.Add]:()=>h.value+=1,[Qv.Remove]:()=>h.value-=1})}});let le=c7({name:"DialogDescription",slot:Ce(()=>({open:p.value}))}),Be=ke(null),me={titleId:Be,panelRef:ke(null),dialogState:w,setTitleId(X){Be.value!==X&&(Be.value=X)},close(){e("close",!1)}};Un(Jv,me);let Tt=Ce(()=>!(!E.value||R.value));zB(P,(X,ge)=>{me.close(),yp(()=>ge==null?void 0:ge.focus())},Tt);let we=Ce(()=>!(R.value||w.value!==0));o2((a=v.value)==null?void 0:a.defaultView,"keydown",X=>{we.value&&(X.defaultPrevented||X.key===t2.Escape&&(X.preventDefault(),X.stopPropagation(),me.close()))});let W=Ce(()=>!(ie.value||w.value!==0||_));return y7(v,W,X=>{var ge;return{containers:[...(ge=X.containers)!=null?ge:[],P]}}),wi(X=>{if(w.value!==0)return;let ge=qt(g);if(!ge)return;let ct=new ResizeObserver(Ye=>{for(let Kt of Ye){let Qe=Kt.target.getBoundingClientRect();Qe.x===0&&Qe.y===0&&Qe.width===0&&Qe.height===0&&me.close()}});ct.observe(ge),X(()=>ct.disconnect())}),()=>{let{id:X,open:ge,initialFocus:ct,...Ye}=t,Kt={...n,ref:g,id:X,role:"dialog","aria-modal":w.value===0?!0:void 0,"aria-labelledby":Be.value,"aria-describedby":le.value},Qe={open:w.value===0};return un(zT,{force:!0},()=>[un(r7,()=>un(o7,{target:g.value},()=>un(zT,{force:!1},()=>un(Eu,{initialFocus:ct,containers:P,features:E.value?Xi(z.value,{parent:Eu.features.RestoreFocus,leaf:Eu.features.All&~Eu.features.FocusLock}):Eu.features.None},()=>un(S,{},()=>Ii({ourProps:Kt,theirProps:{...Ye,...n},slot:Qe,attrs:n,slots:r,visible:w.value===0,features:vf.RenderStrategy|vf.Static,name:"Dialog"})))))),un(x)])}}}),b7=Bt({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${Bc()}`}},setup(t,{attrs:e,slots:n,expose:r}){let s=Q_("DialogPanel");r({el:s.panelRef,$el:s.panelRef});function a(l){l.stopPropagation()}return()=>{let{id:l,...h}=t,d={id:l,ref:s.panelRef,onClick:a};return Ii({ourProps:d,theirProps:h,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),I7=Bt({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${Bc()}`}},setup(t,{attrs:e,slots:n}){let r=Q_("DialogTitle");return xn(()=>{r.setTitleId(t.id),Zn(()=>r.setTitleId(null))}),()=>{let{id:s,...a}=t;return Ii({ourProps:{id:s},theirProps:a,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),T7=h7;function A7(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Bg(t,...e){t&&e.length>0&&t.classList.add(...e)}function Id(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Xv=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Xv||{});function S7(t,e){let n=Hc();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(t),[a,l]=[r,s].map(h=>{let[d=0]=h.split(",").filter(Boolean).map(p=>p.includes("ms")?parseFloat(p):parseFloat(p)*1e3).sort((p,g)=>g-p);return d});return a!==0?n.setTimeout(()=>e("finished"),a+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function YT(t,e,n,r,s,a){let l=Hc(),h=a!==void 0?A7(a):()=>{};return Id(t,...s),Bg(t,...e,...n),l.nextFrame(()=>{Id(t,...n),Bg(t,...r),l.add(S7(t,d=>(Id(t,...r,...e),Bg(t,...s),h(d))))}),l.add(()=>Id(t,...e,...n,...r,...s)),l.add(()=>h("cancelled")),l.dispose}function Us(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let J_=Symbol("TransitionContext");var R7=(t=>(t.Visible="visible",t.Hidden="hidden",t))(R7||{});function C7(){return vt(J_,null)!==null}function P7(){let t=vt(J_,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function k7(){let t=vt(X_,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let X_=Symbol("NestingContext");function Rp(t){return"children"in t?Rp(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function p2(t){let e=ke([]),n=ke(!1);xn(()=>n.value=!0),Zn(()=>n.value=!1);function r(a,l=es.Hidden){let h=e.value.findIndex(({id:d})=>d===a);h!==-1&&(Xi(l,{[es.Unmount](){e.value.splice(h,1)},[es.Hidden](){e.value[h].state="hidden"}}),!Rp(e)&&n.value&&(t==null||t()))}function s(a){let l=e.value.find(({id:h})=>h===a);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:a,state:"visible"}),()=>r(a,es.Unmount)}return{children:e,register:s,unregister:r}}let m2=vf.RenderStrategy,Zv=Bt({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:r,expose:s}){let a=ke(0);function l(){a.value|=Yn.Opening,e("beforeEnter")}function h(){a.value&=~Yn.Opening,e("afterEnter")}function d(){a.value|=Yn.Closing,e("beforeLeave")}function p(){a.value&=~Yn.Closing,e("afterLeave")}if(!C7()&&MB())return()=>un(g2,{...t,onBeforeEnter:l,onAfterEnter:h,onBeforeLeave:d,onAfterLeave:p},r);let g=ke(null),v=Ce(()=>t.unmount?es.Unmount:es.Hidden);s({el:g,$el:g});let{show:w,appear:E}=P7(),{register:R,unregister:_}=k7(),b=ke(w.value?"visible":"hidden"),S={value:!0},P=Bc(),F={value:!1},x=p2(()=>{!F.value&&b.value!=="hidden"&&(b.value="hidden",_(P),p())});xn(()=>{let me=R(P);Zn(me)}),wi(()=>{if(v.value===es.Hidden&&P){if(w.value&&b.value!=="visible"){b.value="visible";return}Xi(b.value,{hidden:()=>_(P),visible:()=>R(P)})}});let z=Us(t.enter),ie=Us(t.enterFrom),pe=Us(t.enterTo),oe=Us(t.entered),he=Us(t.leave),De=Us(t.leaveFrom),le=Us(t.leaveTo);xn(()=>{wi(()=>{if(b.value==="visible"){let me=qt(g);if(me instanceof Comment&&me.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Be(me){let Tt=S.value&&!E.value,we=qt(g);!we||!(we instanceof HTMLElement)||Tt||(F.value=!0,w.value&&l(),w.value||d(),me(w.value?YT(we,z,ie,pe,oe,W=>{F.value=!1,W===Xv.Finished&&h()}):YT(we,he,De,le,oe,W=>{F.value=!1,W===Xv.Finished&&(Rp(x)||(b.value="hidden",_(P),p()))})))}return xn(()=>{Ki([w],(me,Tt,we)=>{Be(we),S.value=!1},{immediate:!0})}),Un(X_,x),VB(Ce(()=>Xi(b.value,{visible:Yn.Open,hidden:Yn.Closed})|a.value)),()=>{let{appear:me,show:Tt,enter:we,enterFrom:W,enterTo:X,entered:ge,leave:ct,leaveFrom:Ye,leaveTo:Kt,...Qe}=t,Ti={ref:g},Ai={...Qe,...E.value&&w.value&&$c.isServer?{class:ti([n.class,Qe.class,...z,...ie])}:{}};return Ii({theirProps:Ai,ourProps:Ti,slot:{},slots:r,attrs:n,features:m2,visible:b.value==="visible",name:"TransitionChild"})}}}),O7=Zv,g2=Bt({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:r}){let s=z_(),a=Ce(()=>t.show===null&&s!==null?(s.value&Yn.Open)===Yn.Open:t.show);wi(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=ke(a.value?"visible":"hidden"),h=p2(()=>{l.value="hidden"}),d=ke(!0),p={show:a,appear:Ce(()=>t.appear||!d.value)};return xn(()=>{wi(()=>{d.value=!1,a.value?l.value="visible":Rp(h)||(l.value="hidden")})}),Un(X_,h),Un(J_,p),()=>{let g=e2(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return Ii({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[un(O7,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...g},r.default)]},attrs:{},features:m2,visible:l.value==="visible",name:"Transition"})}}});const N7=Te("div",{class:"fixed inset-0 bg-black/25"},null,-1),D7={class:"fixed inset-0 overflow-y-auto"},x7={class:"flex min-h-full items-center justify-center p-4 text-center"},L7=Te("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),M7=Bt({__name:"AddAdModal",setup(t){const{modals:e}=Ka(YP()),{profile:n}=Ka(Ji()),r=Ji().ACCOUNT_TYPES,s=ke(!0);function a(l){s.value=l,e.value.addad=l}return(l,h)=>(en(),Bi(Ze(g2),{appear:"",show:s.value,as:"template"},{default:wn(()=>[ut(Ze(E7),{as:"div",onClose:h[2]||(h[2]=d=>a(!1)),class:"relative z-10"},{default:wn(()=>[ut(Ze(Zv),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:wn(()=>[N7]),_:1}),Te("div",D7,[Te("div",x7,[ut(Ze(Zv),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:wn(()=>[ut(Ze(b7),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:wn(()=>{var d,p;return[ut(Ze(I7),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:wn(()=>[Ni(" New Ad ")]),_:1}),ut(Ze(T7),{class:"mt-2 mb-4"},{default:wn(()=>[L7]),_:1}),((d=Ze(n))==null?void 0:d.accountType)===Ze(r).SELLER?(en(),Bi(AB,{key:0,onClose:h[0]||(h[0]=g=>a(!1))})):cr("",!0),((p=Ze(n))==null?void 0:p.accountType)===Ze(r).BUYER?(en(),Bi(NB,{key:1,onClose:h[1]||(h[1]=g=>a(!1))})):cr("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),V7={class:"bg-blue-900 text-white p-4"},F7={class:"container mx-auto flex justify-between items-center"},U7=Te("div",{class:"flex items-center"},[Te("img",{src:aj,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),Te("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),j7={class:"space-x-4"},B7={class:"w-full"},$7=Bt({__name:"App",setup(t){const{profile:e}=Ka(Ji()),{modals:n}=Ka(YP()),r=ke(0),s=uB();s.beforeEach((l,h,d)=>{l.matched.some(g=>g.meta.requiresAuth)&&!e.value?d("/signup"):d()});const a=async()=>{await Ji().signout(),s.push("/signup")};return(l,h)=>(en(),os(hn,null,[Te("header",V7,[Te("div",F7,[U7,Te("nav",j7,[ut(Ze(Bs),{class:ti(["hover:underline",{"bg-blue-700 text-white":r.value==0}]),to:"/",onClick:h[0]||(h[0]=d=>r.value=0)},{default:wn(()=>[Ni("Home")]),_:1},8,["class"]),Ze(e)?(en(),Bi(Ze(Bs),{key:0,class:ti(["hover:underline",{"bg-blue-700 text-white":r.value==1}]),to:"/userboard",onClick:h[1]||(h[1]=d=>r.value=1)},{default:wn(()=>[Ni("Menu")]),_:1},8,["class"])):cr("",!0),Ze(e)?cr("",!0):(en(),Bi(Ze(Bs),{key:1,class:ti(["hover:underline",{"bg-blue-700 text-white":r.value==2}]),to:"/signup",onClick:h[2]||(h[2]=d=>r.value=2)},{default:wn(()=>[Ni("Signin")]),_:1},8,["class"])),Ze(e)?(en(),Bi(Ze(Bs),{key:2,class:ti(["hover:underline",{"bg-blue-700 text-white":r.value==3}]),to:"/profile",onClick:h[3]||(h[3]=d=>r.value=3)},{default:wn(()=>[Ni("Profile")]),_:1},8,["class"])):cr("",!0),Ze(e)?(en(),Bi(Ze(Bs),{key:3,class:ti(["hover:underline",{"bg-blue-700 text-white":r.value==4}]),to:"/feed",onClick:h[4]||(h[4]=d=>r.value=4)},{default:wn(()=>[Ni("Feed")]),_:1},8,["class"])):cr("",!0),ut(Ze(Bs),{class:ti(["hover:underline",{"bg-blue-700 text-white":r.value==5}]),to:"/about",onClick:h[5]||(h[5]=d=>r.value=5)},{default:wn(()=>[Ni("About")]),_:1},8,["class"]),Te("a",{class:"hover:underline",onClick:a},"Signout")])])]),Ze(n).addad?(en(),Bi(M7,{key:0})):cr("",!0),Te("div",B7,[ut(Ze(zP))])],64))}}),H7="modulepreload",q7=function(t){return"/"+t},QT={},ca=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=q7(a),a in QT)return;QT[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(!!r)for(let g=s.length-1;g>=0;g--){const v=s[g];if(v.href===a&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${h}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":H7,l||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),l)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})},W7={};function K7(t,e){return en(),os("h1",null,"HomeView")}const G7=QP(W7,[["render",K7]]),z7=aB({history:Aj("/"),routes:[{path:"/",name:"home",component:G7},{path:"/signup",name:"signup",component:()=>ca(()=>import("./SignupView-bd806d1c.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>ca(()=>import("./ProfileSetupView-639ad0be.js"),[])},{path:"/profile",name:"profile",component:()=>ca(()=>import("./UserProfileView-a268c6bb.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>ca(()=>import("./AboutView-85ef4996.js"),[])},{path:"/feed",name:"feed",component:()=>ca(()=>import("./FeedView-c06a6a43.js"),["assets/FeedView-c06a6a43.js","assets/ImageCarousel-f841f4d9.js","assets/ImageCarousel-7b7e0107.css"])},{path:"/userboard",name:"userboard",component:()=>ca(()=>import("./UserBoardView-614c9114.js"),["assets/UserBoardView-614c9114.js","assets/ImageCarousel-f841f4d9.js","assets/ImageCarousel-7b7e0107.css"]),meta:{requiresAuth:!0}}]});let Xs,$g;Yx(LC,async t=>{if(t){try{$g=await Pv("users",t.uid),$g&&(Xs||Hg(),Ji().setProfile($g))}catch(e){console.log("Error getting profile",e)}Xs||Hg(),console.log("User is signed in"),Ji().setUser(t)}else Xs||Hg(),console.log("User is signed out")});const Hg=()=>{Xs=Y5($7),Xs.use(X5()),Xs.use(z7),Xs.mount("#app")};export{Bi as $,un as A,yf as B,zv as C,Ce as D,ms as E,hn as F,Un as G,Ki as H,Ii as I,Bc as J,Zn as K,dB as L,vt as M,vf as N,GB as O,Xi as P,t2 as Q,i2 as R,Y_ as S,e2 as T,ll as U,xd as V,Qr as W,YP as X,n$ as Y,ti as Z,QP as _,Ji as a,N_ as a0,t$ as b,L6 as c,Bt as d,en as e,os as f,Te as g,ke as h,Ni as i,o$ as j,$6 as k,Ze as l,i$ as m,s$ as n,xn as o,ut as p,wn as q,Ar as r,Ka as s,r$ as t,uB as u,hr as v,ur as w,cr as x,wi as y,qt as z};

import{a3 as Ie,a4 as Pe,d as L,h as T,a5 as Ue,B as A,a6 as Ge,a7 as ze,a8 as E,a9 as $e,aa as Ye,ab as ie,ac as ce,ad as K,ae as ue,af as je,ag as Je,ah as de,ai as qe,o as z,aj as Ce,ak as We,al as fe,am as Ke,an as G,ao as R,ap as oe,aq as He,ar as U,as as Ne,at as ae,au as ve,av as Qe,aw as Le,Q as Ze,ax as Xe,F as M,ay as re,az as et,aA as te,e as d,f as g,g as e,l as D,s as F,u as Me,I as pe,m as w,L as V,x as j,y as B,t as k,z as C,Z as me,w as X,i as q,Y as De,$ as ge,q as le,a as W,a1 as Y,c as ne,n as N,_ as he,k as H,T as tt,S as Fe,aB as st,U as Z,D as Oe}from"./index-57eff0e8.js";import{I as at}from"./ImageCarousel-306bb4f4.js";import{r as Te,a as Se,b as ke,c as _e}from"./PencilIcon-9c04759f.js";import{_ as ot}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-8aea2279.js";import{_ as lt}from"./BidCard.vue_vue_type_script_setup_true_lang-008bae11.js";function nt({container:s,accept:_,walk:u,enabled:l}){Ie(()=>{let t=s.value;if(!t||l!==void 0&&!l.value)return;let a=Pe(s);if(!a)return;let i=Object.assign($=>_($),{acceptNode:_}),x=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,i,!1);for(;x.nextNode();)u(x.currentNode)})}var it=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(it||{}),ut=(s=>(s[s.Pointer=0]="Pointer",s[s.Other=1]="Other",s))(ut||{});function rt(s){requestAnimationFrame(()=>requestAnimationFrame(s))}let Be=Symbol("MenuContext");function xe(s){let _=fe(Be,null);if(_===null){let u=new Error(`<${s} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,xe),u}return _}let ct=L({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(s,{slots:_,attrs:u}){let l=T(1),t=T(null),a=T(null),i=T([]),x=T(""),$=T(null),y=T(1);function r(I=h=>h){let h=$.value!==null?i.value[$.value]:null,c=ae(I(i.value.slice()),n=>E(n.dataRef.domRef)),o=h?c.indexOf(h):null;return o===-1&&(o=null),{items:c,activeItemIndex:o}}let m={menuState:l,buttonRef:t,itemsRef:a,items:i,searchQuery:x,activeItemIndex:$,activationTrigger:y,closeMenu:()=>{l.value=1,$.value=null},openMenu:()=>l.value=0,goToItem(I,h,c){let o=r(),n=Ke(I===G.Specific?{focus:G.Specific,id:h}:{focus:I},{resolveItems:()=>o.items,resolveActiveIndex:()=>o.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.disabled});x.value="",$.value=n,y.value=c??1,i.value=o.items},search(I){let h=x.value!==""?0:1;x.value+=I.toLowerCase();let c=($.value!==null?i.value.slice($.value+h).concat(i.value.slice(0,$.value+h)):i.value).find(n=>n.dataRef.textValue.startsWith(x.value)&&!n.dataRef.disabled),o=c?i.value.indexOf(c):-1;o===-1||o===$.value||($.value=o,y.value=1)},clearSearch(){x.value=""},registerItem(I,h){let c=r(o=>[...o,{id:I,dataRef:h}]);i.value=c.items,$.value=c.activeItemIndex,y.value=1},unregisterItem(I){let h=r(c=>{let o=c.findIndex(n=>n.id===I);return o!==-1&&c.splice(o,1),c});i.value=h.items,$.value=h.activeItemIndex,y.value=1}};return Ue([t,a],(I,h)=>{var c;m.closeMenu(),Ge(h,ze.Loose)||(I.preventDefault(),(c=E(t))==null||c.focus())},A(()=>l.value===0)),$e(Be,m),Ye(A(()=>ie(l.value,{0:ce.Open,1:ce.Closed}))),()=>{let I={open:l.value===0,close:m.closeMenu};return K({ourProps:{},theirProps:s,slot:I,slots:_,attrs:u,name:"Menu"})}}}),dt=L({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${ue()}`}},setup(s,{attrs:_,slots:u,expose:l}){let t=xe("MenuButton");l({el:t.buttonRef,$el:t.buttonRef});function a(y){switch(y.key){case R.Space:case R.Enter:case R.ArrowDown:y.preventDefault(),y.stopPropagation(),t.openMenu(),oe(()=>{var r;(r=E(t.itemsRef))==null||r.focus({preventScroll:!0}),t.goToItem(G.First)});break;case R.ArrowUp:y.preventDefault(),y.stopPropagation(),t.openMenu(),oe(()=>{var r;(r=E(t.itemsRef))==null||r.focus({preventScroll:!0}),t.goToItem(G.Last)});break}}function i(y){switch(y.key){case R.Space:y.preventDefault();break}}function x(y){s.disabled||(t.menuState.value===0?(t.closeMenu(),oe(()=>{var r;return(r=E(t.buttonRef))==null?void 0:r.focus({preventScroll:!0})})):(y.preventDefault(),t.openMenu(),rt(()=>{var r;return(r=E(t.itemsRef))==null?void 0:r.focus({preventScroll:!0})})))}let $=je(A(()=>({as:s.as,type:_.type})),t.buttonRef);return()=>{var y;let r={open:t.menuState.value===0},{id:m,...I}=s,h={ref:t.buttonRef,id:m,type:$.value,"aria-haspopup":"menu","aria-controls":(y=E(t.itemsRef))==null?void 0:y.id,"aria-expanded":t.menuState.value===0,onKeydown:a,onKeyup:i,onClick:x};return K({ourProps:h,theirProps:I,slot:r,attrs:_,slots:u,name:"MenuButton"})}}}),vt=L({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${ue()}`}},setup(s,{attrs:_,slots:u,expose:l}){let t=xe("MenuItems"),a=T(null);l({el:t.itemsRef,$el:t.itemsRef}),nt({container:A(()=>E(t.itemsRef)),enabled:A(()=>t.menuState.value===0),accept(r){return r.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});function i(r){var m;switch(a.value&&clearTimeout(a.value),r.key){case R.Space:if(t.searchQuery.value!=="")return r.preventDefault(),r.stopPropagation(),t.search(r.key);case R.Enter:if(r.preventDefault(),r.stopPropagation(),t.activeItemIndex.value!==null){let I=t.items.value[t.activeItemIndex.value];(m=E(I.dataRef.domRef))==null||m.click()}t.closeMenu(),Ne(E(t.buttonRef));break;case R.ArrowDown:return r.preventDefault(),r.stopPropagation(),t.goToItem(G.Next);case R.ArrowUp:return r.preventDefault(),r.stopPropagation(),t.goToItem(G.Previous);case R.Home:case R.PageUp:return r.preventDefault(),r.stopPropagation(),t.goToItem(G.First);case R.End:case R.PageDown:return r.preventDefault(),r.stopPropagation(),t.goToItem(G.Last);case R.Escape:r.preventDefault(),r.stopPropagation(),t.closeMenu(),oe(()=>{var I;return(I=E(t.buttonRef))==null?void 0:I.focus({preventScroll:!0})});break;case R.Tab:r.preventDefault(),r.stopPropagation(),t.closeMenu(),oe(()=>He(E(t.buttonRef),r.shiftKey?U.Previous:U.Next));break;default:r.key.length===1&&(t.search(r.key),a.value=setTimeout(()=>t.clearSearch(),350));break}}function x(r){switch(r.key){case R.Space:r.preventDefault();break}}let $=Je(),y=A(()=>$!==null?($.value&ce.Open)===ce.Open:t.menuState.value===0);return()=>{var r,m;let I={open:t.menuState.value===0},{id:h,...c}=s,o={"aria-activedescendant":t.activeItemIndex.value===null||(r=t.items.value[t.activeItemIndex.value])==null?void 0:r.id,"aria-labelledby":(m=E(t.buttonRef))==null?void 0:m.id,id:h,onKeydown:i,onKeyup:x,role:"menu",tabIndex:0,ref:t.itemsRef};return K({ourProps:o,theirProps:c,slot:I,attrs:_,slots:u,features:de.RenderStrategy|de.Static,visible:y.value,name:"MenuItems"})}}}),we=L({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${ue()}`}},setup(s,{slots:_,attrs:u,expose:l}){let t=xe("MenuItem"),a=T(null);l({el:a,$el:a});let i=A(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===s.id:!1),x=qe(a),$=A(()=>({disabled:s.disabled,get textValue(){return x()},domRef:a}));z(()=>t.registerItem(s.id,$)),Ce(()=>t.unregisterItem(s.id)),Ie(()=>{t.menuState.value===0&&i.value&&t.activationTrigger.value!==0&&oe(()=>{var o,n;return(n=(o=E(a))==null?void 0:o.scrollIntoView)==null?void 0:n.call(o,{block:"nearest"})})});function y(o){if(s.disabled)return o.preventDefault();t.closeMenu(),Ne(E(t.buttonRef))}function r(){if(s.disabled)return t.goToItem(G.Nothing);t.goToItem(G.Specific,s.id)}let m=We();function I(o){m.update(o)}function h(o){m.wasMoved(o)&&(s.disabled||i.value||t.goToItem(G.Specific,s.id,0))}function c(o){m.wasMoved(o)&&(s.disabled||i.value&&t.goToItem(G.Nothing))}return()=>{let{disabled:o}=s,n={active:i.value,disabled:o,close:t.closeMenu},{id:v,...b}=s;return K({ourProps:{id:v,ref:a,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,disabled:void 0,onClick:y,onFocus:r,onPointerenter:I,onMouseenter:I,onPointermove:h,onMousemove:h,onPointerleave:c,onMouseleave:c},theirProps:{...u,...b},slot:n,attrs:u,slots:_,name:"MenuItem"})}}}),ft=L({props:{onFocus:{type:Function,required:!0}},setup(s){let _=T(!0);return()=>_.value?ve(Le,{as:"button",type:"button",features:Qe.Focusable,onFocus(u){u.preventDefault();let l,t=50;function a(){var i;if(t--<=0){l&&cancelAnimationFrame(l);return}if((i=s.onFocus)!=null&&i.call(s)){_.value=!1,cancelAnimationFrame(l);return}l=requestAnimationFrame(a)}l=requestAnimationFrame(a)}}):null}});var pt=(s=>(s[s.Forwards=0]="Forwards",s[s.Backwards=1]="Backwards",s))(pt||{}),mt=(s=>(s[s.Less=-1]="Less",s[s.Equal=0]="Equal",s[s.Greater=1]="Greater",s))(mt||{});let Ve=Symbol("TabsContext");function be(s){let _=fe(Ve,null);if(_===null){let u=new Error(`<${s} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,be),u}return _}let Ae=Symbol("TabsSSRContext"),gt=L({name:"TabGroup",emits:{change:s=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(s,{slots:_,attrs:u,emit:l}){var t;let a=T((t=s.selectedIndex)!=null?t:s.defaultIndex),i=T([]),x=T([]),$=A(()=>s.selectedIndex!==null),y=A(()=>$.value?s.selectedIndex:a.value);function r(o){var n;let v=ae(m.tabs.value,E),b=ae(m.panels.value,E),p=v.filter(S=>{var f;return!((f=E(S))!=null&&f.hasAttribute("disabled"))});if(o<0||o>v.length-1){let S=ie(a.value===null?0:Math.sign(o-a.value),{[-1]:()=>1,0:()=>ie(Math.sign(o),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),f=ie(S,{0:()=>v.indexOf(p[0]),1:()=>v.indexOf(p[p.length-1])});f!==-1&&(a.value=f),m.tabs.value=v,m.panels.value=b}else{let S=v.slice(0,o),f=[...v.slice(o),...S].find(O=>p.includes(O));if(!f)return;let P=(n=v.indexOf(f))!=null?n:m.selectedIndex.value;P===-1&&(P=m.selectedIndex.value),a.value=P,m.tabs.value=v,m.panels.value=b}}let m={selectedIndex:A(()=>{var o,n;return(n=(o=a.value)!=null?o:s.defaultIndex)!=null?n:null}),orientation:A(()=>s.vertical?"vertical":"horizontal"),activation:A(()=>s.manual?"manual":"auto"),tabs:i,panels:x,setSelectedIndex(o){y.value!==o&&l("change",o),$.value||r(o)},registerTab(o){var n;if(i.value.includes(o))return;let v=i.value[a.value];i.value.push(o),i.value=ae(i.value,E);let b=(n=i.value.indexOf(v))!=null?n:a.value;b!==-1&&(a.value=b)},unregisterTab(o){let n=i.value.indexOf(o);n!==-1&&i.value.splice(n,1)},registerPanel(o){x.value.includes(o)||(x.value.push(o),x.value=ae(x.value,E))},unregisterPanel(o){let n=x.value.indexOf(o);n!==-1&&x.value.splice(n,1)}};$e(Ve,m);let I=T({tabs:[],panels:[]}),h=T(!1);z(()=>{h.value=!0}),$e(Ae,A(()=>h.value?null:I.value));let c=A(()=>s.selectedIndex);return z(()=>{Ze([c],()=>{var o;return r((o=s.selectedIndex)!=null?o:s.defaultIndex)},{immediate:!0})}),Ie(()=>{if(!$.value||y.value==null||m.tabs.value.length<=0)return;let o=ae(m.tabs.value,E);o.some((n,v)=>E(m.tabs.value[v])!==E(n))&&m.setSelectedIndex(o.findIndex(n=>E(n)===E(m.tabs.value[y.value])))}),()=>{let o={selectedIndex:a.value};return ve(M,[i.value.length<=0&&ve(ft,{onFocus:()=>{for(let n of i.value){let v=E(n);if((v==null?void 0:v.tabIndex)===0)return v.focus(),!0}return!1}}),K({theirProps:{...u,...Xe(s,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:o,slots:_,attrs:u,name:"TabGroup"})])}}}),ht=L({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(s,{attrs:_,slots:u}){let l=be("TabList");return()=>{let t={selectedIndex:l.selectedIndex.value},a={role:"tablist","aria-orientation":l.orientation.value};return K({ourProps:a,theirProps:s,slot:t,attrs:_,slots:u,name:"TabList"})}}}),Re=L({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${ue()}`}},setup(s,{attrs:_,slots:u,expose:l}){let t=be("Tab"),a=T(null);l({el:a,$el:a}),z(()=>t.registerTab(a)),Ce(()=>t.unregisterTab(a));let i=fe(Ae),x=A(()=>{if(i.value){let n=i.value.tabs.indexOf(s.id);return n===-1?i.value.tabs.push(s.id)-1:n}return-1}),$=A(()=>{let n=t.tabs.value.indexOf(a);return n===-1?x.value:n}),y=A(()=>$.value===t.selectedIndex.value);function r(n){var v;let b=n();if(b===re.Success&&t.activation.value==="auto"){let p=(v=Pe(a))==null?void 0:v.activeElement,S=t.tabs.value.findIndex(f=>E(f)===p);S!==-1&&t.setSelectedIndex(S)}return b}function m(n){let v=t.tabs.value.map(b=>E(b)).filter(Boolean);if(n.key===R.Space||n.key===R.Enter){n.preventDefault(),n.stopPropagation(),t.setSelectedIndex($.value);return}switch(n.key){case R.Home:case R.PageUp:return n.preventDefault(),n.stopPropagation(),r(()=>te(v,U.First));case R.End:case R.PageDown:return n.preventDefault(),n.stopPropagation(),r(()=>te(v,U.Last))}if(r(()=>ie(t.orientation.value,{vertical(){return n.key===R.ArrowUp?te(v,U.Previous|U.WrapAround):n.key===R.ArrowDown?te(v,U.Next|U.WrapAround):re.Error},horizontal(){return n.key===R.ArrowLeft?te(v,U.Previous|U.WrapAround):n.key===R.ArrowRight?te(v,U.Next|U.WrapAround):re.Error}}))===re.Success)return n.preventDefault()}let I=T(!1);function h(){var n;I.value||(I.value=!0,!s.disabled&&((n=E(a))==null||n.focus({preventScroll:!0}),t.setSelectedIndex($.value),et(()=>{I.value=!1})))}function c(n){n.preventDefault()}let o=je(A(()=>({as:s.as,type:_.type})),a);return()=>{var n;let v={selected:y.value},{id:b,...p}=s,S={ref:a,onKeydown:m,onMousedown:c,onClick:h,id:b,role:"tab",type:o.value,"aria-controls":(n=E(t.panels.value[$.value]))==null?void 0:n.id,"aria-selected":y.value,tabIndex:y.value?0:-1,disabled:s.disabled?!0:void 0};return K({ourProps:S,theirProps:p,slot:v,attrs:_,slots:u,name:"Tab"})}}}),se=L({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${ue()}`},tabIndex:{type:Number,default:0}},setup(s,{attrs:_,slots:u,expose:l}){let t=be("TabPanel"),a=T(null);l({el:a,$el:a}),z(()=>t.registerPanel(a)),Ce(()=>t.unregisterPanel(a));let i=fe(Ae),x=A(()=>{if(i.value){let r=i.value.panels.indexOf(s.id);return r===-1?i.value.panels.push(s.id)-1:r}return-1}),$=A(()=>{let r=t.panels.value.indexOf(a);return r===-1?x.value:r}),y=A(()=>$.value===t.selectedIndex.value);return()=>{var r;let m={selected:y.value},{id:I,tabIndex:h,...c}=s,o={ref:a,id:I,role:"tabpanel","aria-labelledby":(r=E(t.tabs.value[$.value]))==null?void 0:r.id,tabIndex:y.value?h:-1};return!y.value&&s.unmount&&!s.static?ve(Le,{as:"span",...o}):K({ourProps:o,theirProps:c,slot:m,attrs:_,slots:u,features:de.Static|de.RenderStrategy,visible:y.value,name:"TabPanel"})}}});function _t(s,_){return d(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})])}const xt={class:"relative bg-white p-4 rounded-xl shadow transition-shadow duration-300 hover:shadow-xl"},bt={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},yt={class:"relative w-full h-52 bg-gray-200 rounded-xl overflow-hidden"},wt={key:1,class:"flex items-center justify-center h-full"},$t=e("p",{class:"text-gray-500"},"No Image Available",-1),It=[$t],Ct={class:"mt-4"},Tt={class:"text-2xl font-bold"},St={class:"flex flex-row justify-between"},kt={key:0,class:"flex flex-row gap-4 items-center"},At=e("span",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1),Et=e("p",{class:"text-sm text-green-500"},"LIVE",-1),Ot=[At,Et],Rt={key:1,class:"flex flex-row gap-4 items-center"},Pt=e("span",{class:"w-2 h-2 bg-red-500 rounded-full"},null,-1),jt=e("p",{class:"text-sm text-red-500"},"NOT LIVE",-1),Nt=[Pt,jt],Lt={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},Mt={class:"flex flex-row justify-between w-full"},Dt={class:"flex flex-row gap-2 text-sm justify-between gap-2"},Ft={class:"font-semibold"},Bt={class:"flex flex-row gap-2 text-sm justify-between gap-2"},Vt={class:"font-semibold"},Ut={class:"flex justify-end space-x-4 mt-4"},Gt=L({__name:"SellerAdDashboardCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(s,{emit:_}){const u=D().NOTIFICATION_TYPES,{modals:l,notifications:t}=F(D()),a=Me(),i=T(!1),x=async c=>{if(!c)return;const{callFunction:o}=le("postAd",{adId:c},i,void 0,void 0,()=>{t.value.show=!0,t.value.type=u.SUCCESS,t.value.message="Ad is live!"},n=>{t.value.show=!0,t.value.type=u.ERROR,t.value.message="Error while posting ad, please try again later"});await o()},$=async c=>{if(!c)return;const{callFunction:o}=le("takedownAd",{adId:c},i,void 0,void 0,()=>{t.value.show=!0,t.value.type=u.SUCCESS,t.value.message="Ad taken down!"},n=>{t.value.show=!0,t.value.type=u.ERROR,t.value.message="Error while taken down ad, please try again later"});await o()},y=async c=>{c&&(console.log("removeAd",c),l.value.confirmremove=!0,l.value.context={adId:c,__key:"ad"})},r=c=>{c&&a.push({name:"ad",params:{adId:c}})},m=async c=>{c&&(console.log("removeAd",c),l.value.editad=!0,l.value.context=ad)},I=c=>{c&&a.push({name:"messaging",params:{adId:c}})},h=c=>{const o=new Date,n=c.toDate(),v=o.getTime()-n.getTime(),b=Math.floor(v/1e3),p=Math.floor(b/60),S=Math.floor(p/60),f=Math.floor(S/24);return f>1?`${f} days ago`:f==1?`${f} day ago`:S>0?`${S} hours ago`:p>0?`${p} minutes ago`:b>0?`${b} seconds ago`:"just now"};return(c,o)=>{const n=pe("currency");return d(),g("div",xt,[i.value?(d(),g("div",bt,[w(V,{isLoading:i.value,class:"z-20"},null,8,["isLoading"])])):j("",!0),e("div",yt,[s.ad.images&&s.ad.images.length>0?(d(),B(at,{key:0,images:s.ad.resizedImages,class:"h-full object-cover"},null,8,["images"])):(d(),g("div",wt,It))]),e("div",Ct,[e("h3",Tt,k(s.ad.variety),1),e("div",St,[s.ad.live?(d(),g("div",kt,Ot)):(d(),g("div",Rt,Nt)),e("p",Lt,k(C(me)(s.ad.createdAt)?h(s.ad.createdAt):c.gig.createdAt),1)]),e("div",Mt,[e("div",Dt,[X((d(),g("p",Ft,[q("/ton")])),[[n,s.ad.pricePerTon]])]),e("div",Bt,[e("p",Vt,k(s.ad.tons)+" tons",1)])]),e("div",Ut,[s.showButtons?(d(),g(M,{key:0},[s.ad.live?j("",!0):(d(),B(C(Te),{key:0,class:"h-5 w-5 text-cyan-600",onClick:o[0]||(o[0]=v=>x(s.ad.id)),title:"Post ad'"})),s.ad.live?(d(),B(C(Se),{key:1,class:"h-5 w-5 text-cyan-600",onClick:o[1]||(o[1]=v=>$(s.ad.id)),title:"Take down ad"})):j("",!0),w(C(De),{class:"h-5 w-5 text-cyan-600",onClick:o[2]||(o[2]=v=>I(s.ad.id)),title:"Contact"}),w(C(ge),{class:"h-5 w-5 text-cyan-600",onClick:o[3]||(o[3]=v=>y(s.ad.id)),title:"Remove"}),w(C(ke),{class:"h-5 w-5 text-cyan-600",onClick:o[4]||(o[4]=v=>m(s.ad.id)),title:"Edit"})],64)):j("",!0),w(C(_e),{class:"h-5 w-5 text-cyan-600",onClick:o[5]||(o[5]=v=>r(s.ad.id)),title:"View"})])])])}}}),zt={class:"h-32 flex flex-row items-center divide-x border-y px-2 grid grid-cols-5"},Yt={class:"p-2"},Jt=e("span",{class:"text-sm font-medium text-slate-300"},"Number of ads",-1),qt={class:"text-4xl font-bold text-slate-500"},Wt={class:"p-2"},Kt=e("span",{class:"text-sm font-medium text-slate-300"},"Number of live ads",-1),Ht={class:"text-4xl font-bold text-slate-500"},Qt={class:"p-2 relative"},Zt=e("span",{class:"text-sm font-medium text-slate-300"},"Total views",-1),Xt={class:"text-4xl font-bold text-slate-500"},es={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},ts={class:"p-2 relative"},ss=e("span",{class:"text-sm font-medium text-slate-300"},"Number of bids",-1),as={class:"text-4xl font-bold text-slate-500"},os={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},ls={class:"p-2 flex items-center justify-center"},ns={key:0,class:"p-4 grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},is={key:1,class:"h-96 p-2 flex items-center justify-center col-span-4"},us=e("div",{class:"italic"},"No ads found",-1),rs=[us],cs={key:2},ds=L({__name:"SellerContentComponent",setup(s){const{user:_}=F(W()),{modals:u,notifications:l}=F(D()),t=D().NOTIFICATION_TYPES,a=T([]),i=T(!1),{subscribe:x,unsubscribe:$}=Y("ads",[["uid","==",_.value.uid]],["createdAt","desc"],p=>{a.value.docs=p,a.value.lastVisible=a.value.docs&&a.value.docs.length>0?a.value.docs[a.value.docs.length-1]:{}},p=>{l.value.show=!0,l.value.type=t.ERROR,l.value.message="Error loading ads, please try again later."},i,()=>{},()=>{},p=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Ad has been created."},p=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Ad has been removed."});z(async()=>{x(),h(),v()}),ne(()=>{$(),c(),b()});const y=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(p=>p.live==!0).length),r=()=>{u.value.addad=!0},m=T(0),I=T(!1),{subscribe:h,unsubscribe:c}=Y("bids",[["sellerId","==",_.value.uid]],["createdAt","desc"],p=>{m.value=p.length},void 0,I),o=T(0),n=T(!1),{subscribe:v,unsubscribe:b}=Y("ads",[["uid","==",_.value.uid]],["createdAt","desc"],p=>{let S=0;p.forEach(f=>{S+=f.viewCount?f.viewCount:0}),o.value=S},void 0,n);return(p,S)=>(d(),g(M,null,[e("div",zt,[e("div",Yt,[Jt,e("p",qt,k(a.value.docs&&a.value.docs.length),1)]),e("div",Wt,[Kt,e("p",Ht,k(y.value),1)]),e("div",Qt,[Zt,e("p",Xt,k(o.value),1),n.value?(d(),g("div",es,[w(V,{isLoading:n.value,class:"z-20"},null,8,["isLoading"])])):j("",!0)]),e("div",ts,[ss,e("p",as,k(m.value),1),I.value?(d(),g("div",os,[w(V,{isLoading:I.value,class:"z-20"},null,8,["isLoading"])])):j("",!0)]),e("div",ls,[w(he,{onClick:r,classes:"w-32 p-2"},{default:N(()=>[q("Create an ad")]),_:1})])]),a.value.docs&&a.value.docs.length>0&&!i.value?(d(),g("span",ns,[(d(!0),g(M,null,H(a.value.docs,(f,P)=>(d(),B(Gt,{key:P,ad:f},null,8,["ad"]))),128))])):a.value.docs&&a.value.docs.length==0&&!i.value?(d(),g("div",is,rs)):(d(),g("div",cs,[w(V,{isLoading:i.value},null,8,["isLoading"])]))],64))}}),vs={class:"h-32 flex flex-row items-center divide-x border-y px-2 grid grid-cols-5"},fs={class:"p-2"},ps=e("span",{class:"text-sm font-medium text-slate-300"},"Number of ads",-1),ms={class:"text-4xl font-bold text-slate-500"},gs={class:"p-2"},hs=e("span",{class:"text-sm font-medium text-slate-300"},"Number of live ads",-1),_s={class:"text-4xl font-bold text-slate-500"},xs=e("div",{class:"p-2"},[e("span",{class:"text-sm font-medium text-slate-300"},"Total views"),e("p",{class:"text-4xl font-bold text-slate-500"},"0")],-1),bs={class:"p-2 flex items-center justify-center"},ys={key:0,class:"grid grid-flow-col gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},ws={key:1,class:"h-96 p-2 flex items-center justify-center col-span-4"},$s=e("div",{class:"italic"},"No ads found",-1),Is=[$s],Cs={key:2},Ts=L({__name:"BuyerContentComponent",setup(s){const{user:_}=F(W()),{modals:u,notifications:l}=F(D()),t=D().NOTIFICATION_TYPES,a=T([]),i=T(!1),{subscribe:x,unsubscribe:$}=Y("ads",[["uid","==",_.value.uid]],["createdAt","desc"],m=>{a.value.docs=m,a.value.lastVisible=a.value.docs&&a.value.docs.length>0?a.value.docs[a.value.docs.length-1]:{}},m=>{l.value.show=!0,l.value.type=t.ERROR,l.value.message="Error loading ads, please try again later."},i,()=>{},()=>{},m=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Ad has been created."},m=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Ad has been removed."});z(async()=>{x()}),ne(()=>{$()});const y=()=>{u.value.addad=!0},r=computed(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(m=>m.live==!0).length);return(m,I)=>(d(),g(M,null,[e("div",vs,[e("div",fs,[ps,e("p",ms,k(a.value.docs&&a.value.docs.length),1)]),e("div",gs,[hs,e("p",_s,k(C(r)),1)]),xs,e("div",bs,[w(he,{onClick:y,classes:"w-32 p-2"},{default:N(()=>[q("Create an ad")]),_:1})])]),a.value.docs&&a.value.docs.length>0&&!i.value?(d(),g("span",ys,[(d(!0),g(M,null,H(a.value.docs,(h,c)=>(d(),B(ot,{key:c,ad:h},null,8,["ad"]))),128))])):j("",!0),a.value.docs&&a.value.docs.length==0&&!i.value?(d(),g("div",ws,Is)):(d(),g("div",Cs,[w(V,{isLoading:i.value},null,8,["isLoading"])]))],64))}}),Ss={key:0,class:"grid grid-flow-row space-y-4"},ks={key:1},As={key:2,class:"h-96 p-2 flex items-center justify-center"},Es=e("p",{class:"italic"},"No bids yet",-1),Os=[Es],Rs=L({__name:"BidContentComponent",setup(s){const{user:_}=F(W()),u=T([]),l=T(!1),t=async()=>{l.value=!0,u.value=await tt("bids","buyerId","==",_.value.uid,["createdAt","desc"],10),l.value=!1};return z(async()=>{await t()}),(a,i)=>u.value.docs&&u.value.docs.length>0&&!l.value?(d(),g("span",Ss,[(d(!0),g(M,null,H(u.value.docs,x=>(d(),B(lt,{bid:x},null,8,["bid"]))),256))])):l.value?(d(),g("div",ks,[w(V,{isLoading:l.value},null,8,["isLoading"])])):(d(),g("span",As,Os))}}),Ps={class:"relative bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},js={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},Ns={class:"flex flex-row justify-between p-4"},Ls={key:0,class:"flex flex-row gap-4 items-center"},Ms=e("span",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1),Ds=e("p",{class:"text-sm text-green-500"},"LIVE",-1),Fs=[Ms,Ds],Bs={key:1,class:"flex flex-row gap-4 items-center"},Vs=e("span",{class:"w-2 h-2 bg-red-500 rounded-full"},null,-1),Us=e("p",{class:"text-sm text-red-500"},"NOT LIVE",-1),Gs=[Vs,Us],zs={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},Ys={class:"flex flex-row border-top"},Js={class:"text-xl capitalize"},qs={class:"flex flex-row gap-2 mb-2 items-center"},Ws={class:"text-sm truncate italic text-slate-500"},Ks={class:"flex flex-row gap-4 p-4"},Hs={class:"text-sm"},Qs={class:"grid grid-cols-2 divide-x px-4 mb-2"},Zs={class:"flex flex-col p-2 justify-between"},Xs=e("p",{class:"text-xs italic"},"Number of milestones",-1),ea={class:"text-2xl"},ta={class:"flex flex-col p-2 justify-between"},sa=e("p",{class:"text-xs italic"},"Total",-1),aa={class:"text-2xl"},oa={key:1,class:"w-full flex justify-end gap-4"},la=L({__name:"GigDashboardCard",props:{gig:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(s,{emit:_}){const{notifications:u,modals:l}=F(D()),t=D().NOTIFICATION_TYPES,a=_,i=s,x=T(!1),$=async o=>{const{callFunction:n}=le("postGigPost",{gigId:o},x,void 0,void 0,()=>{u.value.show=!0,u.value.type=t.SUCCESS,u.value.message="Gig posted successfully"},()=>{u.value.show=!0,u.value.type=t.ERROR,u.value.message="An error occured while posting gig, please try again later"});await n()},y=async o=>{const{callFunction:n}=le("takeDownGigPost",{gigId:o},x,void 0,void 0,()=>{u.value.show=!0,u.value.type=t.SUCCESS,u.value.message="Gig taken down successfully"},()=>{u.value.show=!0,u.value.type=t.ERROR,u.value.message="An error occured while taking down the gig, please try again later"});await n()},r=A(()=>!i.gig.milestones||i.gig.milestones.length===0?0:i.gig.milestones.reduce((o,n)=>o+n.price,0)),m=o=>{const n=new Date,v=o.toDate(),b=n.getTime()-v.getTime(),p=Math.floor(b/1e3),S=Math.floor(p/60),f=Math.floor(S/60),P=Math.floor(f/24);return P>1?`${P} days ago`:P==1?`${P} day ago`:f>0?`${f} hours ago`:S>0?`${S} minutes ago`:p>0?`${p} seconds ago`:"just now"},I=o=>{o&&(l.value.viewgig=!0,l.value.context.__key=o)},h=o=>{a("edit",o)},c=o=>{a("remove",o)};return(o,n)=>{const v=pe("currency");return d(),g("span",Ps,[x.value?(d(),g("div",js,[w(V,{isLoading:x.value,class:"z-20"},null,8,["isLoading"])])):j("",!0),e("div",Ns,[s.gig.live?(d(),g("div",Ls,Fs)):(d(),g("div",Bs,Gs)),e("p",zs,k(C(me)(s.gig.createdAt)?m(s.gig.createdAt):s.gig.createdAt),1)]),e("div",Ys,[e("p",Js,k(s.gig.title),1)]),e("div",qs,[w(C(Fe),{class:"w-5 h-5 text-slate-500"}),e("p",Ws,k(s.gig.location),1)]),e("div",Ks,[e("p",Hs,k(s.gig.description.substring(0,197)+"..."),1)]),e("div",Qs,[e("div",Zs,[Xs,e("p",ea,k(s.gig.milestones.length),1)]),e("div",ta,[sa,X(e("p",aa,null,512),[[v,r.value]])])]),s.showButtons?(d(),g("div",oa,[s.showButtons?(d(),g(M,{key:0},[s.gig.live?j("",!0):(d(),B(C(Te),{key:0,onClick:n[0]||(n[0]=b=>$(s.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})),s.gig.live?(d(),B(C(Se),{key:1,onClick:n[1]||(n[1]=b=>y(s.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})):j("",!0),w(C(ge),{onClick:n[2]||(n[2]=b=>c(s.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"}),w(C(ke),{onClick:n[3]||(n[3]=b=>h(s.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})],64)):j("",!0),w(C(_e),{onClick:n[4]||(n[4]=b=>I(s.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})])):j("",!0)])}}}),na={class:"h-32 flex flex-row items-center divide-x border-y px-2 grid grid-cols-5"},ia={class:"p-2 h-16"},ua=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Gigs",-1),ra={class:"text-2xl font-bold text-slate-500"},ca={class:"p-2 h-16"},da=e("span",{class:"text-sm font-medium text-slate-300"},"Number of live posts",-1),va={class:"text-2xl font-bold text-slate-500"},fa={class:"p-2 h-16"},pa=e("span",{class:"text-sm font-medium text-slate-300"},"Total views",-1),ma={class:"text-2xl font-bold text-slate-500"},ga={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},ha={class:"p-2 flex flex-col justify-between h-16"},_a=e("span",{class:"text-sm font-medium text-slate-300"},"Milestones Total",-1),xa={class:"text-2xl font-bold text-slate-500"},ba={class:"p-2 flex items-center justify-center"},ya={class:"p-4 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},wa={key:1,class:"h-96 p-2 flex items-center justify-center col-span-4"},$a=e("p",{class:"italic"},"No gig posts",-1),Ia=[$a],Ca={key:2},Ta=L({__name:"GigsContentComponent",setup(s){const{user:_}=F(W()),{modals:u,notifications:l}=F(D()),t=D().NOTIFICATION_TYPES,a=T([]),i=T(!1),{subscribe:x,unsubscribe:$}=Y("gigs",[["posterId","==",_.value.uid]],["createdAt","desc"],b=>{a.value.docs=b},b=>{l.value.show=!0,l.value.type=t.ERROR,l.value.message="Error loading gigs, please try again later."},i,()=>{},()=>{},b=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Gig has been created."},b=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Gig has been removed."}),y=()=>{u.value.addgig=!0},r=b=>{u.value.confirmremove=!0,u.value.context={__key:"gig",gigId:b}},m=b=>{u.value.editgig=!0;const p=a.value.docs.find(S=>S.gigId==b);u.value.context=p};z(async()=>{x(),n()}),ne(()=>{$(),v()});const I=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.reduce((b,p)=>p.milestones?b+p.milestones.reduce((S,f)=>S+f.price,0):b,0)),h=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(b=>b.live==!0).length),c=T(0),o=T(!1),{subscribe:n,unsubscribe:v}=Y("ads",[["posterId","==",_.value.uid]],["createdAt","desc"],b=>{let p=0;b.forEach(S=>{p+=S.viewCount?S.viewCount:0}),c.value=p},void 0,o);return(b,p)=>{const S=pe("currency");return d(),g(M,null,[e("div",na,[e("div",ia,[ua,e("p",ra,k(a.value.docs&&a.value.docs.length),1)]),e("div",ca,[da,e("p",va,k(h.value),1)]),e("div",fa,[pa,e("p",ma,k(c.value),1),o.value?(d(),g("div",ga,[w(V,{isLoading:o.value,class:"z-20"},null,8,["isLoading"])])):j("",!0)]),e("div",ha,[_a,X(e("p",xa,null,512),[[S,I.value]])]),e("div",ba,[w(he,{classes:"w-full",onClick:y},{default:N(()=>[q(" Create a gig post ")]),_:1})])]),e("span",ya,[a.value.docs&&a.value.docs.length>0&&!i.value?(d(!0),g(M,{key:0},H(a.value.docs,(f,P)=>(d(),B(la,{key:P,gig:f,onEdit:m,onRemove:r},null,8,["gig"]))),128)):a.value.docs&&a.value.docs.length==0&&!i.value?(d(),g("span",wa,Ia)):(d(),g("div",Ca,[w(V,{isLoading:i.value},null,8,["isLoading"])]))])],64)}}}),Sa={class:"absolute top-2 left-0 text-right"},ka={class:"px-1 py-1"},Aa={class:"px-1 py-1"},Ea=L({__name:"ApplicationDropdownMenu",emits:["remove","view","contact"],setup(s,{emit:_}){return(u,l)=>(d(),g("div",Sa,[w(C(ct),{as:"div",class:"relative inline-block text-left"},{default:N(()=>[e("div",null,[w(C(dt),{class:"inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-bg/30 hover:bg-cyan-600/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75"},{default:N(()=>[q(" Options "),w(C(_t),{class:"-mr-1 ml-2 h-5 w-5 text-cyan-600 hover:text-cyan-600","aria-hidden":"true"})]),_:1})]),w(st,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:N(()=>[w(C(vt),{class:"absolute right-0 mt-2 z-10 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none"},{default:N(()=>[e("div",ka,[w(C(we),null,{default:N(({active:t})=>[e("button",{class:Z([t?"bg-cyan-600/50 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:l[0]||(l[0]=a=>u.$emit("contact"))},[w(C(De),{active:t,class:"mr-2 h-5 w-5 text-cyan-600","aria-hidden":"true"},null,8,["active"]),q(" Reach out ")],2)]),_:1}),w(C(we),null,{default:N(({active:t})=>[e("button",{class:Z([t?"bg-cyan-600/50 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:l[1]||(l[1]=a=>u.$emit("remove"))},[w(C(ge),{active:t,class:"mr-2 h-5 w-5 text-cyan-600","aria-hidden":"true"},null,8,["active"]),q(" Remove ")],2)]),_:1})]),e("div",Aa,[w(C(we),null,{default:N(({active:t})=>[e("button",{class:Z([t?"bg-cyan-600/50 text-white":"text-gray-900","group flex w-full items-center rounded-md px-2 py-2 text-sm"]),onClick:l[2]||(l[2]=a=>u.$emit("view"))},[w(C(_e),{active:t,class:"mr-2 h-5 w-5 text-cyan-600","aria-hidden":"true"},null,8,["active"]),q(" View Application ")],2)]),_:1})])]),_:1})]),_:1})]),_:1})]))}}),Oa={class:"h-32 flex flex-row items-center divide-x border-y px-2 grid grid-cols-3"},Ra={class:"p-2"},Pa=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Applications",-1),ja={class:"text-4xl font-bold text-slate-500"},Na={class:"p-2"},La=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Gigs Applications",-1),Ma={class:"text-4xl font-bold text-slate-500"},Da={class:"p-2"},Fa=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Jobs Application",-1),Ba={class:"text-4xl font-bold text-slate-500"},Va={class:"p-4"},Ua={class:"flex flex-row gap-4 h-6 mb-2 items-center"},Ga={class:"flex flex-row gap-2 items-center"},za=e("p",{class:"text-sm font-medium text-slate-300"},"Gig",-1),Ya={class:"flex flex-row gap-2 items-center"},Ja=e("p",{class:"text-sm font-medium text-slate-300"},"Job",-1),qa={key:0,class:"table-fixed w-full border-collapse"},Wa=e("thead",{class:"border-y"},[e("tr",{class:"text-left"},[e("th",{class:"py-4"},"Application ID"),e("th",{class:"py-4"},"Name"),e("th",{class:"py-4"},"Email"),e("th",{class:"py-4"},"For"),e("th",{class:"py-4"},"Recieved On"),e("th",{class:"py-4"},"Action")])],-1),Ka={class:"py-2"},Ha={class:"py-2 capitalize truncate"},Qa={class:"py-2 truncate"},Za={class:"py-2"},Xa={class:"flex flex-row gap-2 items-center"},eo={class:"pb-1 capitalize"},to={class:"py-2 italic"},so={class:"relative"},ao={key:0},oo={colspan:"6"},lo=["src"],no={key:1,class:"h-96 p-2 flex items-center justify-center"},io=e("p",{class:"italic"},"No application posts",-1),uo=[io],ro={key:2},co=L({__name:"ApplicationsContentComponent",setup(s){const{user:_}=F(W()),{modals:u,notifications:l,messaging:t}=F(D()),a=D().NOTIFICATION_TYPES,i=T([]),x=T(!1),{subscribe:$,unsubscribe:y}=Y("applications",[["ownerId","==",_.value.uid]],["createdAt","desc"],f=>{i.value.docs=f},f=>{l.value.show=!0,l.value.type=a.ERROR,l.value.message="Error loading applications, please try again later."},x,()=>{},()=>{},f=>{l.value.show=!0,l.value.type=a.SUCCESS,l.value.message="A new application has been received."},f=>{l.value.show=!0,l.value.type=a.SUCCESS,l.value.message="Application has been removed."}),r=f=>{u.value.confirmremove=!0,u.value.context={__key:"application",applicationId:f}},m=T(""),I=f=>{if(m.value===f){m.value="";return}m.value=f},h=()=>{console.log("loaded")},c=async f=>{console.log("onMessage",f.applicationId),t.value.show=!0,t.value.to={id:f.applicantId,name:f.name},t.value.context={__key:"application",application:f}};z(async()=>{$()}),ne(()=>{y()});const o=T(!1),n=T(!1),v=A(()=>i.value.docs?o.value&&n.value?i.value.docs:o.value?i.value.docs.filter(f=>f.parentType==="gig"):n.value?i.value.docs.filter(f=>f.parentType==="job"):i.value.docs:[]),b=f=>{const P=new Date,O=f.toDate(),Q=P.getTime()-O.getTime(),J=Math.floor(Q/1e3),ee=Math.floor(J/60),ye=Math.floor(ee/60),Ee=Math.floor(ye/24);return Ee>0?`${Ee} days ago`:ye>0?`${ye} hours ago`:ee>0?`${ee} minutes ago`:J>0?`${J} seconds ago`:"just now"},p=A(()=>i.value.docs?i.value.docs.filter(f=>f.parentType==="gig").length:0),S=A(()=>i.value.docs?i.value.docs.filter(f=>f.parentType==="job").length:0);return(f,P)=>(d(),g(M,null,[e("div",Oa,[e("div",Ra,[Pa,e("p",ja,k(i.value.docs?i.value.docs.length:0),1)]),e("div",Na,[La,e("p",Ma,k(p.value),1)]),e("div",Da,[Fa,e("p",Ba,k(S.value),1)])]),e("div",Va,[e("div",Ua,[e("div",Ga,[X(e("input",{type:"checkbox",class:"w-4 h-4","onUpdate:modelValue":P[0]||(P[0]=O=>o.value=O)},null,512),[[Oe,o.value]]),za]),e("div",Ya,[X(e("input",{type:"checkbox",class:"w-4 h-4","onUpdate:modelValue":P[1]||(P[1]=O=>n.value=O)},null,512),[[Oe,n.value]]),Ja])]),i.value.docs&&i.value.docs.length>0&&!x.value?(d(),g("table",qa,[Wa,e("tbody",null,[(d(!0),g(M,null,H(v.value,(O,Q)=>(d(),g(M,{key:Q},[e("tr",null,[e("td",Ka,k(O.applicationId.substring(0,5)),1),e("td",Ha,k(O.name),1),e("td",Qa,k(O.email),1),e("td",Za,[e("div",Xa,[e("div",{class:Z(["rounded-full w-2 h-2",{"bg-green-500":O.parentType=="gig","bg-blue-500":O.parentType=="job"}])},null,2),e("p",eo,k(O.parentType),1)])]),e("td",to,k(C(me)(O.createdAt)?b(O.createdAt):O.createdAt),1),e("td",so,[w(Ea,{onRemove:J=>r(O.applicationId),onView:J=>I(O.applicationId),onContact:J=>c(O)},null,8,["onRemove","onView","onContact"])])]),m.value==O.applicationId?(d(),g("tr",ao,[e("td",oo,[e("iframe",{ref_for:!0,ref:"iframeRef",src:O.resume,width:"100%",height:"500px",onLoad:h},null,40,lo)])])):j("",!0)],64))),128))])])):i.value.docs&&i.value.docs.length==0&&!x.value?(d(),g("span",no,uo)):(d(),g("div",ro,[w(V,{isLoading:x.value},null,8,["isLoading"])]))])],64))}}),vo={class:"h-32 flex flex-row items-center divide-x border-y px-2 grid grid-cols-3"},fo={class:"p-2"},po=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Pending Contracts",-1),mo={class:"text-4xl font-bold text-slate-500"},go={class:"p-2"},ho=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Accepted contracts",-1),_o={class:"text-4xl font-bold text-slate-500"},xo={class:"p-2"},bo=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Rejected contracts",-1),yo={class:"text-4xl font-bold text-slate-500"},wo={class:"p-4"},$o={key:0,class:"table-fixed w-full border-collapse"},Io=e("thead",{class:"border-b"},[e("tr",{class:"text-left"},[e("th",{class:"pb-4"},"Contract ID"),e("th",{class:"pb-4"},"User"),e("th",{class:"pb-4"},"Ad ID"),e("th",{class:"pb-4"},"Status"),e("th",{class:"pb-4"},"Updated At"),e("th",{class:"pb-4"},"Created At"),e("th",{class:"pb-4"},"Action")])],-1),Co={class:"py-2"},To={class:"py-2"},So={class:"flex flex-row justify-start items-center"},ko=["src"],Ao={class:"pl-2"},Eo={class:"py-2"},Oo={class:"py-2"},Ro={class:"flex flex-row w-3/4 gap-2 items-center justify-start px-1"},Po={class:"pb-1 italic capitalize"},jo={class:"py-2"},No={class:"py-2"},Lo={class:"py-2 w-5"},Mo=["onClick"],Do={key:1,class:"h-96 p-2 flex items-center justify-center"},Fo=e("p",{class:"italic"},"No contracts yet",-1),Bo=[Fo],Vo={key:2},Uo=L({__name:"ContractsContentComponent",setup(s){const _=Me(),u=D().NOTIFICATION_TYPES,{notifications:l}=F(D()),{user:t}=F(W()),a=T([]),i=T(!1);let x=[],$=[];const y=()=>{a.value.docs=[...x,...$]},{subscribe:r,unsubscribe:m}=Y("contracts",[["sellerId","==",t.value.uid]],["createdAt","desc"],p=>{$=p,y()},p=>{l.value.show=!0,l.value.type=u.ERROR,l.value.message="Error loading contracts, please try again later."},i),{subscribe:I,unsubscribe:h}=Y("contracts",[["buyerId","==",t.value.uid]],["createdAt","desc"],p=>{x=p,y()},p=>{l.value.show=!0,l.value.type=u.ERROR,l.value.message="Error loading contracts, please try again later."},i);z(async()=>{r(),I()}),ne(()=>{m(),h()});const c=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(p=>p.status=="pending").length),o=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(p=>p.status=="accepted").length),n=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(p=>p.status=="rejected").length),v=p=>{const S=new Date,f=p.toDate(),P=S.getTime()-f.getTime(),O=Math.floor(P/1e3),Q=Math.floor(O/60),J=Math.floor(Q/60),ee=Math.floor(J/24);return ee>0?`${ee} days ago`:J>0?`${J} hours ago`:Q>0?`${Q} minutes ago`:O>0?`${O} seconds ago`:"just now"},b=p=>{_.push({name:"messaging",params:{adId:p}})};return(p,S)=>(d(),g(M,null,[e("div",vo,[e("div",fo,[po,e("p",mo,k(c.value),1)]),e("div",go,[ho,e("p",_o,k(o.value),1)]),e("div",xo,[bo,e("p",yo,k(n.value),1)])]),e("div",wo,[a.value.docs&&a.value.docs.length>0&&!i.value?(d(),g("table",$o,[Io,e("tbody",null,[(d(!0),g(M,null,H(a.value.docs,(f,P)=>(d(),g("tr",{key:P},[e("td",Co,k(f.id.substring(0,5)),1),e("td",To,[e("div",So,[e("img",{src:f.userSignature.profilePic,class:"w-8 h-8 rounded-full"},null,8,ko),e("p",Ao,k(f.userSignature.name),1)])]),e("td",Eo,k(f.adId.substring(0,5)),1),e("td",Oo,[e("span",Ro,[e("span",{class:Z(["w-3 h-3 rounded-full",{"bg-green-500":f.status=="accepted","bg-red-500":f.status=="rejected","bg-yellow-500":f.status=="pending"}])},null,2),e("p",Po,k(f.status),1)])]),e("td",jo,k(v(f.updatedAt)),1),e("td",No,k(v(f.createdAt)),1),e("td",Lo,[e("button",{class:":text-cyan-600",onClick:O=>b(f.adId)},"View",8,Mo)])]))),128))])])):a.value.docs&&a.value.docs.length==0&&!i.value?(d(),g("div",Do,Bo)):(d(),g("span",Vo,[w(V,{isLoading:i.value},null,8,["isLoading"])]))])],64))}}),Go={class:"bg-white rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 relative"},zo={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},Yo={class:"flex flex-row justify-between p-4"},Jo={key:0,class:"flex flex-row gap-4 items-center"},qo=e("span",{class:"w-2 h-2 bg-green-500 rounded-full"},null,-1),Wo=e("p",{class:"text-sm text-green-500"},"LIVE",-1),Ko=[qo,Wo],Ho={key:1,class:"flex flex-row gap-4 items-center"},Qo=e("span",{class:"w-2 h-2 bg-red-500 rounded-full"},null,-1),Zo=e("p",{class:"text-sm text-red-500"},"NOT LIVE",-1),Xo=[Qo,Zo],el={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},tl={class:"flex flex-row gap-4 bg-gradient-to-r from-sky-600/50 mb-2"},sl={class:"text-xl capitalize my-2 text-white pl-4"},al={class:"flex flex-row gap-1 pl-4 mb-2"},ol={class:"text-sm truncate italic text-slate-500"},ll={class:"flex flex-row gap-4 p-4"},nl={class:"text-sm"},il={class:"flex flex-row gap-4 divide-x px-4 mb-2"},ul={class:"flex flex-col p-2"},rl=e("p",{class:"text-xs"}," Salary Min. ",-1),cl={class:"text-xl"},dl={class:"flex flex-col p-2"},vl=e("p",{class:"text-xs"}," Salary Max. ",-1),fl={class:"text-xl"},pl={class:"w-full flex justify-end gap-4 pr-4 pb-4"},ml=L({__name:"JobDashboardCard",props:{job:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(s,{emit:_}){const{notifications:u,modals:l}=F(D()),t=D().NOTIFICATION_TYPES,a=_,i=T(!1),x=async h=>{const{callFunction:c}=le("postJobPost",{jobId:h},i,void 0,void 0,()=>{u.value.show=!0,u.value.type=t.SUCCESS,u.value.message="Job Posted"},()=>{u.value.show=!0,u.value.type=t.ERROR,u.value.message="An error occured during the process, please try again later"});await c()},$=async h=>{const{callFunction:c}=le("takeDownJobPost",{jobId:h},i,void 0,void 0,()=>{u.value.show=!0,u.value.type=t.SUCCESS,u.value.message="Job post is now down"},()=>{u.value.show=!0,u.value.type=t.ERROR,u.value.message="An error occured during the process, please try again later"});await c()},y=h=>{const c=new Date,o=h.toDate(),n=c.getTime()-o.getTime(),v=Math.floor(n/1e3),b=Math.floor(v/60),p=Math.floor(b/60),S=Math.floor(p/24);return S>1?`${S} days ago`:S==1?`${S} day ago`:p>0?`${p} hours ago`:b>0?`${b} minutes ago`:v>0?`${v} seconds ago`:"just now"},r=h=>{h&&(l.value.viewjob=!0,l.value.context.__key=h)},m=h=>{a("edit",h)},I=h=>{a("remove",h)};return(h,c)=>{const o=pe("currency");return d(),g("span",Go,[i.value?(d(),g("div",zo,[w(V,{isLoading:i.value,class:"z-20"},null,8,["isLoading"])])):j("",!0),e("div",Yo,[s.job.live?(d(),g("div",Jo,Ko)):(d(),g("div",Ho,Xo)),e("p",el,k(C(me)(s.job.createdAt)?y(s.job.createdAt):s.job.createdAt),1)]),e("div",tl,[e("p",sl,k(s.job.title),1)]),e("div",al,[w(C(Fe),{class:"w-5 h-5"}),e("p",ol,k(s.job.location),1)]),e("div",ll,[e("p",nl,k(s.job.description.substring(0,197)+"..."),1)]),e("div",il,[e("div",ul,[rl,X(e("p",cl,null,512),[[o,s.job.salaryMin]])]),e("div",dl,[vl,X(e("p",fl,null,512),[[o,s.job.salaryMax]])])]),e("div",pl,[s.showButtons?(d(),g(M,{key:0},[s.job.live?j("",!0):(d(),B(C(Te),{key:0,onClick:c[0]||(c[0]=n=>x(s.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})),s.job.live?(d(),B(C(Se),{key:1,onClick:c[1]||(c[1]=n=>$(s.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})):j("",!0),w(C(ge),{onClick:c[2]||(c[2]=n=>I(s.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"}),w(C(ke),{onClick:c[3]||(c[3]=n=>m(s.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})],64)):j("",!0),w(C(_e),{onClick:c[4]||(c[4]=n=>r(s.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})])])}}}),gl={class:"h-32 flex flex-row items-center divide-x border-y px-2 grid grid-cols-4"},hl={class:"p-2"},_l=e("span",{class:"text-sm font-medium text-slate-300"},"Number of Jobs",-1),xl={class:"text-4xl font-bold text-slate-500"},bl={class:"p-2"},yl=e("span",{class:"text-sm font-medium text-slate-300"},"Number of live posts",-1),wl={class:"text-4xl font-bold text-slate-500"},$l={class:"p-2"},Il=e("span",{class:"text-sm font-medium text-slate-300"},"Total views",-1),Cl={class:"text-4xl font-bold text-slate-500"},Tl={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},Sl={class:"p-2 flex items-center justify-center"},kl={class:"p-4 grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3"},Al={key:1,class:"h-96 p-2 flex items-center justify-center col-span-4"},El=e("p",{class:"italic"},"No job posts",-1),Ol=[El],Rl={key:2},Pl=L({__name:"JobsContentComponent",setup(s){const{user:_}=F(W()),{modals:u,notifications:l}=F(D()),t=D().NOTIFICATION_TYPES,a=T([]),i=T(!1),{subscribe:x,unsubscribe:$}=Y("jobs",[["posterId","==",_.value.uid]],["createdAt","desc"],v=>{a.value.docs=v},v=>{l.value.show=!0,l.value.type=t.ERROR,l.value.message="Error loading jobs, please try again later."},i,()=>{},()=>{},v=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Job has been created."},v=>{l.value.show=!0,l.value.type=t.SUCCESS,l.value.message="Job has been removed."}),y=()=>{u.value.addjob=!0},r=v=>{u.value.confirmremove=!0,u.value.context={__key:"job",jobId:v}},m=v=>{u.value.editjob=!0;const b=a.value.docs.find(p=>p.jobId==v);u.value.context=b},I=A(()=>!a.value.docs||a.value.docs.length===0?0:a.value.docs.filter(v=>v.live==!0).length);z(async()=>{x(),o()}),ne(()=>{$(),n()});const h=T(0),c=T(!1),{subscribe:o,unsubscribe:n}=Y("ads",[["posterId","==",_.value.uid]],["createdAt","desc"],v=>{let b=0;v.forEach(p=>{b+=p.viewCount?p.viewCount:0}),h.value=b},void 0,c);return(v,b)=>(d(),g(M,null,[e("div",gl,[e("div",hl,[_l,e("p",xl,k(a.value.docs&&a.value.docs.length),1)]),e("div",bl,[yl,e("p",wl,k(I.value),1)]),e("div",$l,[Il,e("p",Cl,k(h.value),1),c.value?(d(),g("div",Tl,[w(V,{isLoading:c.value,class:"z-20"},null,8,["isLoading"])])):j("",!0)]),e("div",Sl,[w(he,{classes:"w-full",onClick:y},{default:N(()=>[q(" Create a job post ")]),_:1})])]),e("span",kl,[a.value.docs&&a.value.docs.length>0&&!i.value?(d(!0),g(M,{key:0},H(a.value.docs,(p,S)=>(d(),B(ml,{key:S,job:p,onEdit:m,onRemove:r},null,8,["job"]))),128)):a.value.docs&&a.value.docs.length==0&&!i.value?(d(),g("span",Al,Ol)):(d(),g("div",Rl,[w(V,{isLoading:i.value},null,8,["isLoading"])]))])],64))}}),jl={class:"w-full"},Nl={key:0,class:"w-full"},Vl=L({__name:"UserBoardView",setup(s){const{profile:_}=F(W()),u=W().ACCOUNT_TYPES,l=T(0),t={ADS:"Ads",CONTRACTS:"Contracts",JOBS:"Job posts",GIGS:"Gigs",APPLICATIONS:"Applications"};return(a,i)=>(d(),g("div",jl,[C(_)?(d(),g("div",Nl,[w(C(gt),null,{default:N(()=>[w(C(ht),{class:"w-full flex space-x-1 p-1"},{default:N(()=>[(d(),g(M,null,H(t,(x,$,y)=>w(C(Re),{as:"template",key:$,onClick:r=>l.value=y},{default:N(({selected:r})=>[e("button",{class:Z(["w-24 rounded-lg py-2.5 text-sm font-medium cursor-pointer",r?"text-blue-500 focus:outline-none":"text-slate-500"])},k(x),3)]),_:2},1032,["onClick"])),64)),C(_).accountType===C(u).BUYER?(d(),B(C(Re),{key:0,as:"template",onClick:i[0]||(i[0]=x=>l.value=5)},{default:N(({selected:x})=>[e("button",{class:Z(["w-24 rounded-lg py-2.5 text-sm font-medium cursor-pointer",x?"text-blue-500 focus:outline-none":"text-slate-500"])}," Bids ",2)]),_:1})):j("",!0)]),_:1}),w(C(se),null,{default:N(()=>[C(_).accountType==C(u).SELLER?(d(),B(ds,{key:0})):j("",!0),C(_).accountType==C(u).BUYER?(d(),B(Ts,{key:1})):j("",!0)]),_:1}),w(C(se),null,{default:N(()=>[w(Uo)]),_:1}),w(C(se),null,{default:N(()=>[w(Pl)]),_:1}),w(C(se),null,{default:N(()=>[w(Ta)]),_:1}),w(C(se),null,{default:N(()=>[w(co)]),_:1}),w(C(se),null,{default:N(()=>[w(Rs)]),_:1})]),_:1})])):j("",!0)]))}});export{Vl as default};

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},W2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,p=o>>2,g=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(y=64)),i.push(n[p],n[g],n[y],n[w])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||g==null)throw new dD;const y=o<<2|c>>4;if(i.push(y),f!==64){const w=c<<4&240|f>>2;if(i.push(w),g!==64){const A=f<<6&192|g;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hD=function(t){const e=z2(t);return W2.encodeByteArray(e,!0)},zf=function(t){return hD(t).replace(/\./g,"")},G2=function(t){try{return W2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!fD(n)||(t[n]=Wf(t[n],e[n]));return t}function fD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=()=>pD().__FIREBASE_DEFAULTS__,gD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&G2(t[1]);return e&&JSON.parse(e)},Rp=()=>{try{return mD()||gD()||vD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K2=t=>{var e,n;return(n=(e=Rp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},v_=t=>{const e=K2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Y2=()=>{var t;return(t=Rp())===null||t===void 0?void 0:t.config},J2=t=>{var e;return(e=Rp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[zf(JSON.stringify(n)),zf(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function y_(){var t;const e=(t=Rp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wD(){return typeof self=="object"&&self.self===self}function X2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function __(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z2(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gf(){try{return typeof indexedDB=="object"}catch{return!1}}function bD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="FirebaseError";class Mn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ED,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?ID(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Mn(s,c,i)}}function ID(t,e){return t.replace(TD,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const TD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function AD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(WI(o)&&WI(l)){if(!Kf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function WI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ll(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eS(t,e){const n=new SD(t,e);return n.subscribe.bind(n)}class SD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");CD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Av),s.error===void 0&&(s.error=Av),s.complete===void 0&&(s.complete=Av);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new yD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PD(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kD(t){return t===Oo?void 0:t}function PD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=[];var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const tS={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},OD=et.INFO,ND={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},DD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=ND[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=OD,this._logHandler=DD,this._userLogHandler=null,w_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}function LD(t){w_.forEach(e=>{e.setLogLevel(t)})}function MD(t,e){for(const n of w_){let i=null;e&&e.level&&(i=tS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??s.logLevel)&&t({level:et[o].toLowerCase(),message:c,args:l,type:s.name})}}}const VD=(t,e)=>e.some(n=>t instanceof n);let GI,KI;function FD(){return GI||(GI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UD(){return KI||(KI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,uy=new WeakMap,iS=new WeakMap,Sv=new WeakMap,b_=new WeakMap;function $D(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n($s(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),b_.set(e,t),e}function jD(t){if(uy.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});uy.set(t,e)}let cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BD(t){cy=t(cy)}function HD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Cv(this),e,...n);return iS.set(i,e.sort?e.sort():[e]),$s(i)}:UD().includes(t)?function(...e){return t.apply(Cv(this),e),$s(nS.get(this))}:function(...e){return $s(t.apply(Cv(this),e))}}function qD(t){return typeof t=="function"?HD(t):(t instanceof IDBTransaction&&jD(t),VD(t,FD())?new Proxy(t,cy):t)}function $s(t){if(t instanceof IDBRequest)return $D(t);if(Sv.has(t))return Sv.get(t);const e=qD(t);return e!==t&&(Sv.set(t,e),b_.set(e,t)),e}const Cv=t=>b_.get(t);function zD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=$s(l);return i&&l.addEventListener("upgradeneeded",d=>{i($s(l.result),d.oldVersion,d.newVersion,$s(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const WD=["get","getKey","getAll","getAllKeys","count"],GD=["put","add","delete","clear"],Rv=new Map;function YI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=GD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||WD.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return Rv.set(e,o),o}BD(t=>({...t,get:(e,n,i)=>YI(e,n)||t.get(e,n,i),has:(e,n)=>!!YI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dy="@firebase/app",JI="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new kp("@firebase/app"),JD="@firebase/app-compat",QD="@firebase/analytics-compat",XD="@firebase/analytics",ZD="@firebase/app-check-compat",eL="@firebase/app-check",tL="@firebase/auth",nL="@firebase/auth-compat",iL="@firebase/database",rL="@firebase/database-compat",sL="@firebase/functions",oL="@firebase/functions-compat",aL="@firebase/installations",lL="@firebase/installations-compat",uL="@firebase/messaging",cL="@firebase/messaging-compat",dL="@firebase/performance",hL="@firebase/performance-compat",fL="@firebase/remote-config",pL="@firebase/remote-config-compat",mL="@firebase/storage",gL="@firebase/storage-compat",vL="@firebase/firestore",yL="@firebase/firestore-compat",_L="firebase",wL="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]",bL={[dy]:"fire-core",[JD]:"fire-core-compat",[XD]:"fire-analytics",[QD]:"fire-analytics-compat",[eL]:"fire-app-check",[ZD]:"fire-app-check-compat",[tL]:"fire-auth",[nL]:"fire-auth-compat",[iL]:"fire-rtdb",[rL]:"fire-rtdb-compat",[sL]:"fire-fn",[oL]:"fire-fn-compat",[aL]:"fire-iid",[lL]:"fire-iid-compat",[uL]:"fire-fcm",[cL]:"fire-fcm-compat",[dL]:"fire-perf",[hL]:"fire-perf-compat",[fL]:"fire-rc",[pL]:"fire-rc-compat",[mL]:"fire-gcs",[gL]:"fire-gcs-compat",[vL]:"fire-fst",[yL]:"fire-fst-compat","fire-js":"fire-js",[_L]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Map,zc=new Map;function Yf(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rS(t,e){t.container.addOrOverwriteComponent(e)}function Tr(t){const e=t.name;if(zc.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;zc.set(e,t);for(const n of Ws.values())Yf(n,t);return!0}function aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function EL(t,e,n=zs){aa(t,e).clearInstance(n)}function IL(){zc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qr=new oa("app","Firebase",TL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AL=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=wL;function Pp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:zs,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw qr.create("bad-app-name",{appName:String(s)});if(n||(n=Y2()),!n)throw qr.create("no-options");const o=Ws.get(s);if(o){if(Kf(n,o.options)&&Kf(i,o.config))return o;throw qr.create("duplicate-app",{appName:s})}const l=new xD(s);for(const d of zc.values())l.addComponent(d);const c=new AL(n,i,l);return Ws.set(s,c),c}function wd(t=zs){const e=Ws.get(t);if(!e&&t===zs&&Y2())return Pp();if(!e)throw qr.create("no-app",{appName:t});return e}function SL(){return Array.from(Ws.values())}async function sS(t){const e=t.name;Ws.has(e)&&(Ws.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function ri(t,e,n){var i;let s=(i=bL[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(c.join(" "));return}Tr(new Yi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function oS(t,e){if(t!==null&&typeof t!="function")throw qr.create("invalid-log-argument");MD(t,e)}function aS(t){LD(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="firebase-heartbeat-database",RL=1,Wc="firebase-heartbeat-store";let kv=null;function lS(){return kv||(kv=zD(CL,RL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wc)}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),kv}async function kL(t){try{return await(await lS()).transaction(Wc).objectStore(Wc).get(uS(t))}catch(e){if(e instanceof Mn)Qo.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function QI(t,e){try{const i=(await lS()).transaction(Wc,"readwrite");await i.objectStore(Wc).put(e,uS(t)),await i.done}catch(n){if(n instanceof Mn)Qo.warn(n.message);else{const i=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(i.message)}}}function uS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=1024,xL=30*24*60*60*1e3;class OL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=XI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=xL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XI(),{heartbeatsToSend:n,unsentEntries:i}=NL(this._heartbeatsCache.heartbeats),s=zf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function XI(){return new Date().toISOString().substring(0,10)}function NL(t,e=PL){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),ZI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ZI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class DL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gf()?bD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return QI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return QI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ZI(t){return zf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){Tr(new Yi("platform-logger",e=>new KD(e),"PRIVATE")),Tr(new Yi("heartbeat",e=>new OL(e),"PRIVATE")),ri(dy,JI,t),ri(dy,JI,"esm2017"),ri("fire-js","")}LL("");const ML=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Mn,SDK_VERSION:is,_DEFAULT_ENTRY_NAME:zs,_addComponent:Yf,_addOrOverwriteComponent:rS,_apps:Ws,_clearComponents:IL,_components:zc,_getProvider:aa,_registerComponent:Tr,_removeServiceInstance:EL,deleteApp:sS,getApp:wd,getApps:SL,initializeApp:Pp,onLog:oS,registerVersion:ri,setLogLevel:aS},Symbol.toStringTag,{value:"Module"}));function E_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const ac={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},el={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FL=VL,UL=cS,dS=new oa("auth","Firebase",cS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new kp("@firebase/auth");function $L(t,...e){Jf.logLevel<=et.WARN&&Jf.warn(`Auth (${is}): ${t}`,...e)}function Of(t,...e){Jf.logLevel<=et.ERROR&&Jf.error(`Auth (${is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw I_(t,...e)}function Vn(t,...e){return I_(t,...e)}function hS(t,e,n){const i=Object.assign(Object.assign({},UL()),{[e]:n});return new oa("auth","Firebase",i).create(e,{appName:t.name})}function ql(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Cn(t,"argument-error"),hS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return dS.create(t,...e)}function ne(t,e,...n){if(!t)throw I_(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Ji(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T_(){return eT()==="http:"||eT()==="https:"}function eT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T_()||X2()||"connection"in navigator)?navigator.onLine:!0}function BL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=_D()||__()}get(){return jL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new bd(3e4,6e4);function Jt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cn(t,e,n,i,s={}){return pS(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Hl(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),fS.fetch()(mS(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function pS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},HL),e);try{const s=new WL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw wc(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw wc(t,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw hS(t,p,f);Cn(t,p)}}catch(s){if(s instanceof Mn)throw s;Cn(t,"network-request-failed",{message:String(s)})}}async function rs(t,e,n,i,s={}){const o=await cn(t,e,n,i,s);return"mfaPendingCredential"in o&&Cn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function mS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?A_(t.config,s):`${t.config.apiScheme}://${s}`}function zL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),qL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Vn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){return t!==void 0&&t.getResponse!==void 0}function nT(t){return t!==void 0&&t.enterprise!==void 0}class GL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t){return(await cn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function YL(t,e){return cn(t,"GET","/v2/recaptchaConfig",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return cn(t,"POST","/v1/accounts:delete",e)}async function QL(t,e){return cn(t,"POST","/v1/accounts:update",e)}async function XL(t,e){return cn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZL(t,e=!1){const n=xe(t),i=await n.getIdToken(e),s=xp(i);ne(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:kc(Pv(s.auth_time)),issuedAtTime:kc(Pv(s.iat)),expirationTime:kc(Pv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Pv(t){return Number(t)*1e3}function xp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const s=G2(n);return s?JSON.parse(s):(Of("Failed to decode base64 JWT payload"),null)}catch(s){return Of("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eM(t){const e=xp(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mn&&tM(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function tM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Jr(t,XL(n,{idToken:i}));ne(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sM(o.providerUserInfo):[],c=rM(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=d?f:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gS(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function iM(t){const e=xe(t);await Kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rM(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function sM(t){return t.map(e=>{var{providerId:n}=e,i=E_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){const n=await pS(t,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=mS(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await oM(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Yc;return i&&(ne(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(ne(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(ne(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yc,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ho{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=E_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jr(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZL(this,e)}reload(){return iM(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ho(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Kc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Jr(this,JL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,d,f,p;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,I=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,x=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:R,emailVerified:S,isAnonymous:O,providerData:U,stsTokenManager:re}=n;ne(R&&re,e,"internal-error");const J=Yc.fromJSON(this.name,re);ne(typeof R=="string",e,"internal-error"),Ts(g,e.name),Ts(y,e.name),ne(typeof S=="boolean",e,"internal-error"),ne(typeof O=="boolean",e,"internal-error"),Ts(w,e.name),Ts(A,e.name),Ts(_,e.name),Ts(I,e.name),Ts(T,e.name),Ts(x,e.name);const ae=new Ho({uid:R,auth:e,email:y,emailVerified:S,displayName:g,isAnonymous:O,photoURL:A,phoneNumber:w,tenantId:_,stsTokenManager:J,createdAt:T,lastLoginAt:x});return U&&Array.isArray(U)&&(ae.providerData=U.map(me=>Object.assign({},me))),I&&(ae._redirectEventId=I),ae}static async _fromIdTokenResponse(e,n,i=!1){const s=new Yc;s.updateFromServerResponse(n);const o=new Ho({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Kc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function Ti(t){Ji(t instanceof Function,"Expected a class definition");let e=iT.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vS.type="NONE";const bl=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=qo(this.userKey,s.apiKey,o),this.fullPersistenceKey=qo("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ho._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cl(Ti(bl),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||Ti(bl);const l=qo(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){const g=Ho._fromJSON(e,p);f!==o&&(c=g),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new cl(o,e,i):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new cl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bS(e))return"Blackberry";if(ES(e))return"Webos";if(S_(e))return"Safari";if((e.includes("chrome/")||_S(e))&&!e.includes("edge/"))return"Chrome";if(Ed(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yS(t=un()){return/firefox\//i.test(t)}function S_(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _S(t=un()){return/crios\//i.test(t)}function wS(t=un()){return/iemobile/i.test(t)}function Ed(t=un()){return/android/i.test(t)}function bS(t=un()){return/blackberry/i.test(t)}function ES(t=un()){return/webos/i.test(t)}function zl(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aM(t=un()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function lM(t=un()){var e;return zl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uM(){return Z2()&&document.documentMode===10}function IS(t=un()){return zl(t)||Ed(t)||ES(t)||bS(t)||/windows phone/i.test(t)||wS(t)}function cM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e=[]){let n;switch(t){case"Browser":n=rT(un());break;case"Worker":n=`${rT(un())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e={}){return cn(t,"GET","/v2/passwordPolicy",Jt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=6;class pM{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:fM,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new dM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xe(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hM(this),n=new pM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$L(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jt(t){return xe(t)}class sT{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function C_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Vn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",gM().appendChild(i)})}function AS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vM="https://www.google.com/recaptcha/enterprise.js?render=",yM="recaptcha-enterprise",_M="NO_RECAPTCHA";class wM{constructor(e){this.type=yM,this.auth=jt(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{YL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new GL(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;nT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(_M)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&nT(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}C_(vM+c).then(()=>{s(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function oT(t,e,n,i=!1){const s=new wM(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Op(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await oT(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await oT(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){const n=aa(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Kf(o,e??{}))return s;Cn(s,"already-initialized")}return n.initialize({options:e})}function EM(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function SS(t,e,n){const i=jt(t);ne(i._canInitEmulator,i,"emulator-config-failed"),ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=CS(e),{host:l,port:c}=IM(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||TM()}function CS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IM(t){const e=CS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:aT(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:aT(l)}}}function aT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(t,e){return cn(t,"POST","/v1/accounts:resetPassword",Jt(t,e))}async function kS(t,e){return cn(t,"POST","/v1/accounts:update",e)}async function AM(t,e){return cn(t,"POST","/v1/accounts:update",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e){return rs(t,"POST","/v1/accounts:signInWithPassword",Jt(t,e))}async function Np(t,e){return cn(t,"POST","/v1/accounts:sendOobCode",Jt(t,e))}async function CM(t,e){return Np(t,e)}async function RM(t,e){return Np(t,e)}async function kM(t,e){return Np(t,e)}async function PM(t,e){return Np(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e){return rs(t,"POST","/v1/accounts:signInWithEmailLink",Jt(t,e))}async function OM(t,e){return rs(t,"POST","/v1/accounts:signInWithEmailLink",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Wl{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Jc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Jc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Op(e,n,"signInWithPassword",SM);case"emailLink":return xM(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return kS(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return OM(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zr(t,e){return rs(t,"POST","/v1/accounts:signInWithIdp",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="http://localhost";class Ar extends Wl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ar(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=E_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Ar(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return zr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zr(e,n)}buildRequest(){const e={requestUri:NM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){return cn(t,"POST","/v1/accounts:sendVerificationCode",Jt(t,e))}async function LM(t,e){return rs(t,"POST","/v1/accounts:signInWithPhoneNumber",Jt(t,e))}async function MM(t,e){const n=await rs(t,"POST","/v1/accounts:signInWithPhoneNumber",Jt(t,e));if(n.temporaryProof)throw wc(t,"account-exists-with-different-credential",n);return n}const VM={USER_NOT_FOUND:"user-not-found"};async function FM(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return rs(t,"POST","/v1/accounts:signInWithPhoneNumber",Jt(t,n),VM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends Wl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new zo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new zo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return LM(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return MM(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return FM(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new zo({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $M(t){const e=ll(_c(t)).link,n=e?ll(_c(e)).deep_link_id:null,i=ll(_c(t)).deep_link_id;return(i?ll(_c(i)).link:null)||i||n||e||t}class Dp{constructor(e){var n,i,s,o,l,c;const d=ll(_c(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,g=UM((s=d.mode)!==null&&s!==void 0?s:null);ne(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=$M(e);try{return new Dp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.providerId=Zs.PROVIDER_ID}static credential(e,n){return Jc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Dp.parseLink(n);return ne(i,"argument-error"),Jc._fromEmailAndCode(e,i.code,i.tenantId)}}Zs.PROVIDER_ID="password";Zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends ss{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dl extends Gl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ne("providerId"in n&&"signInMethod"in n,"argument-error"),Ar._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ne(e.idToken||e.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new dl(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends Gl{constructor(){super("facebook.com")}static credential(e){return Ar._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ar._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return hr.credential(n,i)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Gl{constructor(){super("github.com")}static credential(e){return Ar._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="http://localhost";class El extends Wl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return zr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new El(i,o)}static _create(e,n){return new El(e,n)}buildRequest(){return{requestUri:jM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="saml.";class Qf extends ss{constructor(e){ne(e.startsWith(BM),"argument-error"),super(e)}static credentialFromResult(e){return Qf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Qf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=El.fromJSON(e);return ne(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return El._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Gl{constructor(){super("twitter.com")}static credential(e,n){return Ar._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pr.credential(n,i)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t,e){return rs(t,"POST","/v1/accounts:signUp",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Ho._fromIdTokenResponse(e,i,s),l=lT(i);return new Vi({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=lT(i);return new Vi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function lT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t){var e;const n=jt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Vi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await PS(n,{returnSecureToken:!0}),s=await Vi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends Mn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Xf(e,n,i,s)}}function xS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){const n=xe(t);await Lp(!0,n,e);const{providerUserInfo:i}=await QL(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=OS(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function R_(t,e,n=!1){const i=await Jr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vi._forOperation(t,"link",i)}async function Lp(t,e,n){await Kc(e);const i=OS(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";ne(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Jr(t,xS(i,s,e,t),n);ne(o.idToken,i,"internal-error");const l=xp(o.idToken);ne(l,i,"internal-error");const{sub:c}=l;return ne(t.uid===c,i,"user-mismatch"),Vi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Cn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e,n=!1){const i="signIn",s=await xS(t,i,e),o=await Vi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function Mp(t,e){return DS(jt(t),e)}async function LS(t,e){const n=xe(t);return await Lp(!1,n,e.providerId),R_(n,e)}async function MS(t,e){return NS(xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return rs(t,"POST","/v1/accounts:signInWithCustomToken",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){const n=jt(t),i=await zM(n,{token:e,returnSecureToken:!0}),s=await Vi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?k_._fromServerResponse(e,n):"totpInfo"in n?P_._fromServerResponse(e,n):Cn(e,"internal-error")}}class k_ extends Id{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new k_(n)}}class P_ extends Id{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new P_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e,n){var i;ne(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_(t){const e=jt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GM(t,e,n){const i=jt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Vp(i,s,n),await Op(i,s,"getOobCode",RM)}async function KM(t,e,n){await RS(xe(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x_(t),i})}async function YM(t,e){await AM(xe(t),{oobCode:e})}async function VS(t,e){const n=xe(t),i=await RS(n,{oobCode:e}),s=i.requestType;switch(ne(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(i.mfaInfo,n,"internal-error");default:ne(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Id._fromServerResponse(jt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function JM(t,e){const{data:n}=await VS(xe(t),e);return n.email}async function QM(t,e,n){const i=jt(t),l=await Op(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PS).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&x_(t),d}),c=await Vi._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function XM(t,e,n){return Mp(xe(t),Zs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&x_(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(t,e,n){const i=jt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){ne(c.handleCodeInApp,i,"argument-error"),c&&Vp(i,l,c)}o(s,n),await Op(i,s,"getOobCode",kM)}function e4(t,e){const n=Dp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function t4(t,e,n){const i=xe(t),s=Zs.credentialWithLink(e,n||Gc());return ne(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Mp(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e){return cn(t,"POST","/v1/accounts:createAuthUri",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){const n=T_()?Gc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await n4(xe(t),i);return s||[]}async function r4(t,e){const n=xe(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Vp(n.auth,s,e);const{email:o}=await CM(n.auth,s);o!==t.email&&await t.reload()}async function s4(t,e,n){const i=xe(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Vp(i.auth,o,n);const{email:l}=await PM(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){return cn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=xe(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Jr(i,o4(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function l4(t,e){return FS(xe(t),e,null)}function u4(t,e){return FS(xe(t),null,e)}async function FS(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Jr(t,kS(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=xp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new hl(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new d4(o,s);case"github.com":return new h4(o,s);case"google.com":return new f4(o,s);case"twitter.com":return new p4(o,s,t.screenName||null);case"custom":case"anonymous":return new hl(o,null);default:return new hl(o,i,s)}}class hl{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class US extends hl{constructor(e,n,i,s){super(e,n,i),this.username=s}}class d4 extends hl{constructor(e,n){super(e,"facebook.com",n)}}class h4 extends US{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class f4 extends hl{constructor(e,n){super(e,"google.com",n)}}class p4 extends US{constructor(e,n,i){super(e,"twitter.com",n,i)}}function m4(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:c4(n)}function g4(t,e,n,i){return xe(t).onIdTokenChanged(e,n,i)}function v4(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}function y4(t,e,n,i){return xe(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new Vo("enroll",e,n)}static _fromMfaPendingCredential(e){return new Vo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Vo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Vo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=jt(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>Id._fromServerResponse(i,c));ne(s.mfaPendingCredential,i,"internal-error");const l=Vo._fromMfaPendingCredential(s.mfaPendingCredential);return new O_(l,o,async c=>{const d=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":const p=await Vi._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(p.user),p;case"reauthenticate":return ne(n.user,i,"internal-error"),Vi._forOperation(n.user,n.operationType,f);default:Cn(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function _4(t,e){var n;const i=xe(t),s=e;return ne(e.customData.operationType,i,"argument-error"),ne((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),O_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){return cn(t,"POST","/v2/accounts/mfaEnrollment:start",Jt(t,e))}function b4(t,e){return cn(t,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(t,e))}function E4(t,e){return cn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(t,e))}class N_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Id._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new N_(e)}async getSession(){return Vo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await Jr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Jr(this.user,E4(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const xv=new WeakMap;function I4(t){const e=xe(t);return xv.has(e)||xv.set(e,N_._fromUser(e)),xv.get(e)}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){const t=un();return S_(t)||zl(t)}const A4=1e3,S4=10;class jS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=T4()&&cM(),this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);uM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,S4):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jS.type="LOCAL";const Fp=jS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BS.type="SESSION";const Gs=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Up(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await C4(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Td("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return window}function k4(t){nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}async function P4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O4(){return D_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebaseLocalStorageDb",N4=1,ep="firebaseLocalStorage",qS="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $p(t,e){return t.transaction([ep],e?"readwrite":"readonly").objectStore(ep)}function D4(){const t=indexedDB.deleteDatabase(HS);return new Ad(t).toPromise()}function hy(){const t=indexedDB.open(HS,N4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ep,{keyPath:qS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ep)?e(i):(i.close(),await D4(),e(await hy()))})})}async function uT(t,e,n){const i=$p(t,!0).put({[qS]:e,value:n});return new Ad(i).toPromise()}async function L4(t,e){const n=$p(t,!1).get(e),i=await new Ad(n).toPromise();return i===void 0?null:i.value}function cT(t,e){const n=$p(t,!0).delete(e);return new Ad(n).toPromise()}const M4=800,V4=3;class zS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>V4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(O4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P4(),!this.activeServiceWorker)return;this.sender=new R4(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hy();return await uT(e,Zf,"1"),await cT(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>uT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>L4(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=$p(s,!1).getAll();return new Ad(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zS.type="LOCAL";const Il=zS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t,e){return cn(t,"POST","/v2/accounts/mfaSignIn:start",Jt(t,e))}function U4(t,e){return cn(t,"POST","/v2/accounts/mfaSignIn:finalize",Jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=500,j4=6e4,cf=1e12;class B4{constructor(e){this.auth=e,this.counter=cf,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new H4(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||cf;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||cf;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||cf;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class H4{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ne(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=q4(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},j4)},$4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function q4(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=AS("rcb"),z4=new bd(3e4,6e4),W4="https://www.google.com/recaptcha/api.js?";class G4{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=nn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ne(K4(n),e,"argument-error"),this.shouldResolveImmediately(n)&&tT(nn().grecaptcha)?Promise.resolve(nn().grecaptcha):new Promise((i,s)=>{const o=nn().setTimeout(()=>{s(Vn(e,"network-request-failed"))},z4.get());nn()[Ov]=()=>{nn().clearTimeout(o),delete nn()[Ov];const c=nn().grecaptcha;if(!c||!tT(c)){s(Vn(e,"internal-error"));return}const d=c.render;c.render=(f,p)=>{const g=d(f,p);return this.counter++,g},this.hostLanguage=n,i(c)};const l=`${W4}?${Hl({onload:Ov,render:"explicit",hl:n})}`;C_(l).catch(()=>{clearTimeout(o),s(Vn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=nn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function K4(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Y4{async load(e){return new B4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="recaptcha",J4={theme:"light",type:"image"};let Q4=class{constructor(e,n,i=Object.assign({},J4)){this.parameters=i,this.type=WS,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jt(e),this.isInvisible=this.parameters.size==="invisible",ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;ne(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Y4:new G4,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=nn()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ne(T_()&&!D_(),this.auth,"internal-error"),await X4(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await KL(this.auth);ne(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function X4(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=zo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Z4(t,e,n){const i=jt(t),s=await jp(i,e,xe(n));return new L_(s,o=>Mp(i,o))}async function e5(t,e,n){const i=xe(t);await Lp(!1,i,"phone");const s=await jp(i.auth,e,xe(n));return new L_(s,o=>LS(i,o))}async function t5(t,e,n){const i=xe(t),s=await jp(i.auth,e,xe(n));return new L_(s,o=>MS(i,o))}async function jp(t,e,n){var i;const s=await n.verify();try{ne(typeof s=="string",t,"argument-error"),ne(n.type===WS,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return ne(l.type==="enroll",t,"internal-error"),(await w4(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{ne(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return ne(c,t,"missing-multi-factor-info"),(await F4(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await DM(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function n5(t,e){await R_(xe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo=class Nf{constructor(e){this.providerId=Nf.PROVIDER_ID,this.auth=jt(e)}verifyPhoneNumber(e,n){return jp(this.auth,e,xe(n))}static credential(e,n){return zo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Nf.credentialFromTaggedObject(n)}static credentialFromError(e){return Nf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?zo._fromTokenResponse(n,i):null}};Xo.PROVIDER_ID="phone";Xo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,e){return e?Ti(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends Wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function i5(t){return DS(t.auth,new M_(t),t.bypassAuthState)}function r5(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),NS(n,new M_(t),t.bypassAuthState)}async function s5(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),R_(n,new M_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i5;case"linkViaPopup":case"linkViaRedirect":return s5;case"reauthViaPopup":case"reauthViaRedirect":return r5;default:Cn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=new bd(2e3,1e4);async function a5(t,e,n){const i=jt(t);ql(t,e,ss);const s=la(i,n);return new jr(i,"signInViaPopup",e,s).executeNotNull()}async function l5(t,e,n){const i=xe(t);ql(i.auth,e,ss);const s=la(i.auth,n);return new jr(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function u5(t,e,n){const i=xe(t);ql(i.auth,e,ss);const s=la(i.auth,n);return new jr(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class jr extends GS{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=Td();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,o5.get())};e()}}jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="pendingRedirect",Pc=new Map;class d5 extends GS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const i=await h5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h5(t,e){const n=YS(e),i=KS(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function V_(t,e){return KS(t)._set(YS(e),"true")}function f5(){Pc.clear()}function F_(t,e){Pc.set(t._key(),e)}function KS(t){return Ti(t._redirectPersistence)}function YS(t){return qo(c5,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t,e,n){return m5(t,e,n)}async function m5(t,e,n){const i=jt(t);ql(t,e,ss),await i._initializationPromise;const s=la(i,n);return await V_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function g5(t,e,n){return v5(t,e,n)}async function v5(t,e,n){const i=xe(t);ql(i.auth,e,ss),await i.auth._initializationPromise;const s=la(i.auth,n);await V_(s,i.auth);const o=await JS(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function y5(t,e,n){return _5(t,e,n)}async function _5(t,e,n){const i=xe(t);ql(i.auth,e,ss),await i.auth._initializationPromise;const s=la(i.auth,n);await Lp(!1,i,e.providerId),await V_(s,i.auth);const o=await JS(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function w5(t,e){return await jt(t)._initializationPromise,Bp(t,e,!1)}async function Bp(t,e,n=!1){const i=jt(t),s=la(i,e),l=await new d5(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function JS(t){const e=Td(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=10*60*1e3;class QS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!XS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dT(e))}saveEventToCache(e){this.cachedEventUids.add(dT(e)),this.lastProcessedEventTime=Date.now()}}function dT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(t,e={}){return cn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T5=/^https?/;async function A5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZS(t);for(const n of e)try{if(S5(n))return}catch{}Cn(t,"unauthorized-domain")}function S5(t){const e=Gc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!T5.test(n))return!1;if(I5.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new bd(3e4,6e4);function hT(){const t=nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function R5(t){return new Promise((e,n)=>{var i,s,o;function l(){hT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hT(),n(Vn(t,"network-request-failed"))},timeout:C5.get()})}if(!((s=(i=nn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=nn().gapi)===null||o===void 0)&&o.load)l();else{const c=AS("iframefcb");return nn()[c]=()=>{gapi.load?l():n(Vn(t,"network-request-failed"))},C_(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Df=null,e})}let Df=null;function k5(t){return Df=Df||R5(t),Df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=new bd(5e3,15e3),x5="__/auth/iframe",O5="emulator/auth/iframe",N5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L5(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?A_(e,O5):`https://${t.config.authDomain}/${x5}`,i={apiKey:e.apiKey,appName:t.name,v:is},s=D5.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Hl(i).slice(1)}`}async function M5(t){const e=await k5(t),n=nn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:L5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N5,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Vn(t,"network-request-failed"),c=nn().setTimeout(()=>{o(l)},P5.get());function d(){nn().clearTimeout(c),s(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F5=500,U5=600,$5="_blank",j5="http://localhost";class fT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B5(t,e,n,i=F5,s=U5){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},V5),{width:i.toString(),height:s.toString(),top:o,left:l}),f=un().toLowerCase();n&&(c=_S(f)?$5:n),yS(f)&&(e=e||j5,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[w,A])=>`${y}${w}=${A},`,"");if(lM(f)&&c!=="_self")return H5(e||"",c),new fT(null);const g=window.open(e||"",c,p);ne(g,t,"popup-blocked");try{g.focus()}catch{}return new fT(g)}function H5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="__/auth/handler",z5="emulator/auth/handler",W5=encodeURIComponent("fac");async function fy(t,e,n,i,s,o){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:is,eventId:s};if(e instanceof ss){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",AD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(o||{}))l[p]=g}if(e instanceof Gl){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${W5}=${encodeURIComponent(d)}`:"";return`${G5(t)}?${Hl(c).slice(1)}${f}`}function G5({config:t}){return t.emulator?A_(t,z5):`https://${t.authDomain}/${q5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="webStorageSupport";class K5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gs,this._completeRedirectFn=Bp,this._overrideRedirectResult=F_}async _openPopup(e,n,i,s){var o;Ji((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await fy(e,n,i,Gc(),s);return B5(e,l,Td())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await fy(e,n,i,Gc(),s);return k4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ji(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await M5(e),i=new QS(e);return n.register("authEvent",s=>(ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nv,{type:Nv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Nv];l!==void 0&&n(!!l),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IS()||S_()||zl()}}const eC=K5;class Y5{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return vr("unexpected MultiFactorSessionType")}}}class U_ extends Y5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new U_(e)}_finalizeEnroll(e,n,i){return b4(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return U4(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class tC{constructor(){}static assertion(e){return U_._fromCredential(e)}}tC.FACTOR_ID="phone";var pT="@firebase/auth",mT="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function X5(t){Tr(new Yi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;ne(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TS(t)},f=new mM(i,s,o,d);return EM(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Tr(new Yi("auth-internal",e=>{const n=jt(e.getProvider("auth").getImmediate());return(i=>new J5(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(pT,mT,Q5(t)),ri(pT,mT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=5*60,eV=J2("authIdTokenMaxAge")||Z5;let gT=null;const tV=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>eV)return;const s=n==null?void 0:n.token;gT!==s&&(gT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nC(t=wd()){const e=aa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bM(t,{popupRedirectResolver:eC,persistence:[Il,Fp,Gs]}),i=J2("authTokenSyncURL");if(i){const o=tV(i);v4(n,o,()=>o(n.currentUser)),g4(n,l=>o(l))}const s=K2("auth");return s&&SS(n,`http://${s}`),n}X5("Browser");var nV="firebase",iV="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(nV,iV,"app");var rV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,$_=$_||{},$e=rV||self;function Hp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function sV(t){return Object.prototype.hasOwnProperty.call(t,Dv)&&t[Dv]||(t[Dv]=++oV)}var Dv="closure_uid_"+(1e9*Math.random()>>>0),oV=0;function aV(t,e,n){return t.call.apply(t.bind,arguments)}function lV(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Wn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wn=aV:Wn=lV,Wn.apply(null,arguments)}function df(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function kn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function eo(){this.s=this.s,this.o=this.o}var uV=0;eo.prototype.s=!1;eo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),uV!=0)&&sV(this)};eo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function vT(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Hp(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Gn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gn.prototype.h=function(){this.defaultPrevented=!0};var cV=function(){if(!$e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$e.addEventListener("test",()=>{},e),$e.removeEventListener("test",()=>{},e)}catch{}return t}();function Qc(t){return/^[\s\xa0]*$/.test(t)}function qp(){var t=$e.navigator;return t&&(t=t.userAgent)?t:""}function mr(t){return qp().indexOf(t)!=-1}function B_(t){return B_[" "](t),t}B_[" "]=function(){};function dV(t,e){var n=i3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var hV=mr("Opera"),Tl=mr("Trident")||mr("MSIE"),rC=mr("Edge"),py=rC||Tl,sC=mr("Gecko")&&!(qp().toLowerCase().indexOf("webkit")!=-1&&!mr("Edge"))&&!(mr("Trident")||mr("MSIE"))&&!mr("Edge"),fV=qp().toLowerCase().indexOf("webkit")!=-1&&!mr("Edge");function oC(){var t=$e.document;return t?t.documentMode:void 0}var my;e:{var Lv="",Mv=function(){var t=qp();if(sC)return/rv:([^\);]+)(\)|;)/.exec(t);if(rC)return/Edge\/([\d\.]+)/.exec(t);if(Tl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fV)return/WebKit\/(\S+)/.exec(t);if(hV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mv&&(Lv=Mv?Mv[1]:""),Tl){var Vv=oC();if(Vv!=null&&Vv>parseFloat(Lv)){my=String(Vv);break e}}my=Lv}var gy;if($e.document&&Tl){var yT=oC();gy=yT||parseInt(my,10)||void 0}else gy=void 0;var pV=gy;function Xc(t,e){if(Gn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sC){e:{try{B_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:mV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xc.$.h.call(this)}}kn(Xc,Gn);var mV={2:"touch",3:"pen",4:"mouse"};Xc.prototype.h=function(){Xc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cd="closure_listenable_"+(1e6*Math.random()|0),gV=0;function vV(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++gV,this.fa=this.ia=!1}function zp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function H_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function yV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function aC(t){const e={};for(const n in t)e[n]=t[n];return e}const _T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lC(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<_T.length;o++)n=_T[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Wp(t){this.src=t,this.g={},this.h=0}Wp.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=yy(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new vV(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function vy(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=iC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(zp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yy(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var q_="closure_lm_"+(1e6*Math.random()|0),Fv={};function uC(t,e,n,i,s){if(i&&i.once)return dC(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)uC(t,e[o],n,i,s);return null}return n=G_(n),t&&t[Cd]?t.O(e,n,Sd(i)?!!i.capture:!!i,s):cC(t,e,n,!1,i,s)}function cC(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=Sd(s)?!!s.capture:!!s,c=W_(t);if(c||(t[q_]=c=new Wp(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=_V(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)cV||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(fC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _V(){function t(n){return e.call(t.src,t.listener,n)}const e=wV;return t}function dC(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)dC(t,e[o],n,i,s);return null}return n=G_(n),t&&t[Cd]?t.P(e,n,Sd(i)?!!i.capture:!!i,s):cC(t,e,n,!0,i,s)}function hC(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)hC(t,e[o],n,i,s);else i=Sd(i)?!!i.capture:!!i,n=G_(n),t&&t[Cd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=yy(o,n,i,s),-1<n&&(zp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=W_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yy(e,n,i,s)),(n=-1<t?e[t]:null)&&z_(n))}function z_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cd])vy(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(fC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=W_(e))?(vy(n,t),n.h==0&&(n.src=null,e[q_]=null)):zp(t)}}}function fC(t){return t in Fv?Fv[t]:Fv[t]="on"+t}function wV(t,e){if(t.fa)t=!0;else{e=new Xc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&z_(t),t=n.call(i,e)}return t}function W_(t){return t=t[q_],t instanceof Wp?t:null}var Uv="__closure_events_fn_"+(1e9*Math.random()>>>0);function G_(t){return typeof t=="function"?t:(t[Uv]||(t[Uv]=function(e){return t.handleEvent(e)}),t[Uv])}function Rn(){eo.call(this),this.i=new Wp(this),this.S=this,this.J=null}kn(Rn,eo);Rn.prototype[Cd]=!0;Rn.prototype.removeEventListener=function(t,e,n,i){hC(this,t,e,n,i)};function Fn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Gn(e,t);else if(e instanceof Gn)e.target=e.target||t;else{var s=e;e=new Gn(i,t),lC(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=hf(l,i,!0,e)&&s}if(l=e.g=t,s=hf(l,i,!0,e)&&s,s=hf(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=hf(l,i,!1,e)&&s}Rn.prototype.N=function(){if(Rn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)zp(n[i]);delete t.g[e],t.h--}}this.J=null};Rn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Rn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function hf(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,d=l.la||l.src;l.ia&&vy(t.i,l),s=c.call(d,i)!==!1&&s}}return s&&!i.defaultPrevented}var K_=$e.JSON.stringify;class bV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function EV(){var t=Y_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class IV{constructor(){this.h=this.g=null}add(e,n){const i=pC.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var pC=new bV(()=>new TV,t=>t.reset());class TV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function AV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function SV(t){$e.setTimeout(()=>{throw t},0)}let Zc,ed=!1,Y_=new IV,mC=()=>{const t=$e.Promise.resolve(void 0);Zc=()=>{t.then(CV)}};var CV=()=>{for(var t;t=EV();){try{t.h.call(t.g)}catch(n){SV(n)}var e=pC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ed=!1};function Gp(t,e){Rn.call(this),this.h=t||1,this.g=e||$e,this.j=Wn(this.qb,this),this.l=Date.now()}kn(Gp,Rn);ce=Gp.prototype;ce.ga=!1;ce.T=null;ce.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fn(this,"tick"),this.ga&&(J_(this),this.start()))}};ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function J_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ce.N=function(){Gp.$.N.call(this),J_(this),delete this.g};function Q_(t,e,n){if(typeof t=="function")n&&(t=Wn(t,n));else if(t&&typeof t.handleEvent=="function")t=Wn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:$e.setTimeout(t,e||0)}function gC(t){t.g=Q_(()=>{t.g=null,t.i&&(t.i=!1,gC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class RV extends eo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gC(this)}N(){super.N(),this.g&&($e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function td(t){eo.call(this),this.h=t,this.g={}}kn(td,eo);var wT=[];function vC(t,e,n,i){Array.isArray(n)||(n&&(wT[0]=n.toString()),n=wT);for(var s=0;s<n.length;s++){var o=uC(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function yC(t){H_(t.g,function(e,n){this.g.hasOwnProperty(n)&&z_(e)},t),t.g={}}td.prototype.N=function(){td.$.N.call(this),yC(this)};td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Kp(){this.g=!0}Kp.prototype.Ea=function(){this.g=!1};function kV(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(1<f.length){var p=f[0];f=f[1];var g=p.split("_");l=2<=g.length&&g[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function PV(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function ul(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+OV(t,n)+(i?" "+i:"")})}function xV(t,e){t.info(function(){return"TIMEOUT: "+e})}Kp.prototype.info=function(){};function OV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return K_(n)}catch{return e}}var ua={},bT=null;function Yp(){return bT=bT||new Rn}ua.Ta="serverreachability";function _C(t){Gn.call(this,ua.Ta,t)}kn(_C,Gn);function nd(t){const e=Yp();Fn(e,new _C(e))}ua.STAT_EVENT="statevent";function wC(t,e){Gn.call(this,ua.STAT_EVENT,t),this.stat=e}kn(wC,Gn);function ii(t){const e=Yp();Fn(e,new wC(e,t))}ua.Ua="timingevent";function bC(t,e){Gn.call(this,ua.Ua,t),this.size=e}kn(bC,Gn);function Rd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return $e.setTimeout(function(){t()},e)}var Jp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function X_(){}X_.prototype.h=null;function ET(t){return t.h||(t.h=t.i())}function IC(){}var kd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Z_(){Gn.call(this,"d")}kn(Z_,Gn);function e0(){Gn.call(this,"c")}kn(e0,Gn);var _y;function Qp(){}kn(Qp,X_);Qp.prototype.g=function(){return new XMLHttpRequest};Qp.prototype.i=function(){return{}};_y=new Qp;function Pd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new td(this),this.P=NV,t=py?125:void 0,this.V=new Gp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new TC}function TC(){this.i=null,this.g="",this.h=!1}var NV=45e3,wy={},tp={};ce=Pd.prototype;ce.setTimeout=function(t){this.P=t};function by(t,e,n){t.L=1,t.v=Zp(Qr(e)),t.s=n,t.S=!0,AC(t,null)}function AC(t,e){t.G=Date.now(),xd(t),t.A=Qr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),NC(n.i,"t",i),t.C=0,n=t.l.J,t.h=new TC,t.g=eR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new RV(Wn(t.Pa,t,t.g),t.O)),vC(t.U,t.g,"readystatechange",t.nb),e=t.I?aC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),nd(),kV(t.j,t.u,t.A,t.m,t.W,t.s)}ce.nb=function(t){t=t.target;const e=this.M;e&&yr(t)==3?e.l():this.Pa(t)};ce.Pa=function(t){try{if(t==this.g)e:{const p=yr(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>p)&&(p!=3||py||this.g&&(this.h.h||this.g.ja()||ST(this.g)))){this.J||p!=4||e==7||(e==8||0>=g?nd(3):nd(2)),Xp(this);var n=this.g.da();this.ca=n;t:if(SC(this)){var i=ST(this.g);t="";var s=i.length,o=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fo(this),xc(this);var l="";break t}this.h.i=new $e.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,PV(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qc(c)){var f=c;break t}}f=null}if(n=f)ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ey(this,n);else{this.i=!1,this.o=3,ii(12),Fo(this),xc(this);break e}}this.S?(CC(this,p,l),py&&this.i&&p==3&&(vC(this.U,this.V,"tick",this.mb),this.V.start())):(ul(this.j,this.m,l,null),Ey(this,l)),p==4&&Fo(this),this.i&&!this.J&&(p==4?JC(this.l,this):(this.i=!1,xd(this)))}else e3(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,ii(12)):(this.o=0,ii(13)),Fo(this),xc(this)}}}catch{}finally{}};function SC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function CC(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=DV(t,n),s==tp){e==4&&(t.o=4,ii(14),i=!1),ul(t.j,t.m,null,"[Incomplete Response]");break}else if(s==wy){t.o=4,ii(15),ul(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ul(t.j,t.m,s,null),Ey(t,s);SC(t)&&s!=tp&&s!=wy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ii(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),o0(e),e.M=!0,ii(11))):(ul(t.j,t.m,n,"[Invalid Chunked Response]"),Fo(t),xc(t))}ce.mb=function(){if(this.g){var t=yr(this.g),e=this.g.ja();this.C<e.length&&(Xp(this),CC(this,t,e),this.i&&t!=4&&xd(this))}};function DV(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?tp:(n=Number(e.substring(n,i)),isNaN(n)?wy:(i+=1,i+n>e.length?tp:(e=e.slice(i,i+n),t.C=i+n,e)))}ce.cancel=function(){this.J=!0,Fo(this)};function xd(t){t.Y=Date.now()+t.P,RC(t,t.P)}function RC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Rd(Wn(t.lb,t),e)}function Xp(t){t.B&&($e.clearTimeout(t.B),t.B=null)}ce.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(xV(this.j,this.A),this.L!=2&&(nd(),ii(17)),Fo(this),this.o=2,xc(this)):RC(this,this.Y-t)};function xc(t){t.l.H==0||t.J||JC(t.l,t)}function Fo(t){Xp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,J_(t.V),yC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ey(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Iy(n.i,t))){if(!t.K&&Iy(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rp(n),nm(n);else break e;s0(n),ii(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Rd(Wn(n.ib,n),6e3));if(1>=MC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&rp(n),!Qc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const g=f[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const w=t.g;if(w){const A=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var o=i.i;o.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(t0(o,o.h),o.h=null))}if(i.F){const _=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Rt(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=ZC(i,i.J?i.pa:null,i.Y),l.K){VC(i.i,l);var c=l,d=i.L;d&&c.setTimeout(d),c.B&&(Xp(c),xd(c)),i.g=l}else KC(i);0<n.j.length&&im(n)}else f[0]!="stop"&&f[0]!="close"||Uo(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Uo(n,7):r0(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}nd(4)}catch{}}function LV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function MV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function kC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=MV(t),i=LV(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var PC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wo){this.h=t.h,np(this,t.j),this.s=t.s,this.g=t.g,ip(this,t.m),this.l=t.l;var e=t.i,n=new id;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),IT(this,n),this.o=t.o}else t&&(e=String(t).match(PC))?(this.h=!1,np(this,e[1]||"",!0),this.s=bc(e[2]||""),this.g=bc(e[3]||"",!0),ip(this,e[4]),this.l=bc(e[5]||"",!0),IT(this,e[6]||"",!0),this.o=bc(e[7]||"")):(this.h=!1,this.i=new id(null,this.h))}Wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ec(e,TT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ec(e,TT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ec(n,n.charAt(0)=="/"?$V:UV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ec(n,BV)),t.join("")};function Qr(t){return new Wo(t)}function np(t,e,n){t.j=n?bc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ip(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function IT(t,e,n){e instanceof id?(t.i=e,HV(t.i,t.h)):(n||(e=Ec(e,jV)),t.i=new id(e,t.h))}function Rt(t,e,n){t.i.set(e,n)}function Zp(t){return Rt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ec(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,FV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function FV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TT=/[#\/\?@]/g,UV=/[#\?:]/g,$V=/[#\?]/g,jV=/[#\?@]/g,BV=/#/g;function id(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function to(t){t.g||(t.g=new Map,t.h=0,t.i&&VV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ce=id.prototype;ce.add=function(t,e){to(this),this.i=null,t=Kl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function xC(t,e){to(t),e=Kl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OC(t,e){return to(t),e=Kl(t,e),t.g.has(e)}ce.forEach=function(t,e){to(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};ce.ta=function(){to(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};ce.Z=function(t){to(this);let e=[];if(typeof t=="string")OC(this,t)&&(e=e.concat(this.g.get(Kl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ce.set=function(t,e){return to(this),this.i=null,t=Kl(this,t),OC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ce.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NC(t,e,n){xC(t,e),0<n.length&&(t.i=null,t.g.set(Kl(t,e),j_(n)),t.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Kl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HV(t,e){e&&!t.j&&(to(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(xC(this,i),NC(this,s,n))},t)),t.j=e}var qV=class{constructor(t,e){this.g=t,this.map=e}};function DC(t){this.l=t||zV,$e.PerformanceNavigationTiming?(t=$e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!($e.g&&$e.g.Ka&&$e.g.Ka()&&$e.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zV=10;function LC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function MC(t){return t.h?1:t.g?t.g.size:0}function Iy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function t0(t,e){t.g?t.g.add(e):t.h=e}function VC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}DC.prototype.cancel=function(){if(this.i=FC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function FC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return j_(t.i)}var WV=class{stringify(t){return $e.JSON.stringify(t,void 0)}parse(t){return $e.JSON.parse(t,void 0)}};function GV(){this.g=new WV}function KV(t,e,n){const i=n||"";try{kC(t,function(s,o){let l=s;Sd(s)&&(l=K_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function YV(t,e){const n=new Kp;if($e.Image){const i=new Image;i.onload=df(ff,n,i,"TestLoadImage: loaded",!0,e),i.onerror=df(ff,n,i,"TestLoadImage: error",!1,e),i.onabort=df(ff,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=df(ff,n,i,"TestLoadImage: timeout",!1,e),$e.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function ff(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Od(t){this.l=t.ec||null,this.j=t.ob||!1}kn(Od,X_);Od.prototype.g=function(){return new em(this.l,this.j)};Od.prototype.i=function(t){return function(){return t}}({});function em(t,e){Rn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=n0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kn(em,Rn);var n0=0;ce=em.prototype;ce.open=function(t,e){if(this.readyState!=n0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rd(this)};ce.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||$e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nd(this)),this.readyState=n0};ce.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rd(this)),this.g&&(this.readyState=3,rd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ce.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Nd(this):rd(this),this.readyState==3&&UC(this)}};ce.Za=function(t){this.g&&(this.response=this.responseText=t,Nd(this))};ce.Ya=function(t){this.g&&(this.response=t,Nd(this))};ce.ka=function(){this.g&&Nd(this)};function Nd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rd(t)}ce.setRequestHeader=function(t,e){this.v.append(t,e)};ce.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function rd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(em.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var JV=$e.JSON.parse;function Bt(t){Rn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$C,this.L=this.M=!1}kn(Bt,Rn);var $C="",QV=/^https?$/i,XV=["POST","PUT"];ce=Bt.prototype;ce.Oa=function(t){this.M=t};ce.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_y.g(),this.C=this.u?ET(this.u):ET(_y),this.g.onreadystatechange=Wn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){AT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=$e.FormData&&t instanceof $e.FormData,!(0<=iC(XV,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{HC(this),0<this.B&&((this.L=ZV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.ua,this)):this.A=Q_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){AT(this,o)}};function ZV(t){return Tl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ce.ua=function(){typeof $_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))};function AT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jC(t),tm(t)}function jC(t){t.F||(t.F=!0,Fn(t,"complete"),Fn(t,"error"))}ce.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fn(this,"complete"),Fn(this,"abort"),tm(this))};ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tm(this,!0)),Bt.$.N.call(this)};ce.La=function(){this.s||(this.G||this.v||this.l?BC(this):this.kb())};ce.kb=function(){BC(this)};function BC(t){if(t.h&&typeof $_<"u"&&(!t.C[1]||yr(t)!=4||t.da()!=2)){if(t.v&&yr(t)==4)Q_(t.La,0,t);else if(Fn(t,"readystatechange"),yr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(PC)[1]||null;!s&&$e.self&&$e.self.location&&(s=$e.self.location.protocol.slice(0,-1)),i=!QV.test(s?s.toLowerCase():"")}n=i}if(n)Fn(t,"complete"),Fn(t,"success");else{t.m=6;try{var o=2<yr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",jC(t)}}finally{tm(t)}}}}function tm(t,e){if(t.g){HC(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fn(t,"ready");try{n.onreadystatechange=i}catch{}}}function HC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&($e.clearTimeout(t.A),t.A=null)}ce.isActive=function(){return!!this.g};function yr(t){return t.g?t.g.readyState:0}ce.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}};ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),JV(e)}};function ST(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $C:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function e3(t){const e={};t=(t.g&&2<=yr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Qc(t[i]))continue;var n=AV(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}yV(e,function(i){return i.join(", ")})}ce.Ia=function(){return this.m};ce.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qC(t){let e="";return H_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function i0(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=qC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Rt(t,e,n))}function lc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zC(t){this.Ga=0,this.j=[],this.l=new Kp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lc("baseRetryDelayMs",5e3,t),this.hb=lc("retryDelaySeedMs",1e4,t),this.eb=lc("forwardChannelMaxRetries",2,t),this.xa=lc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new DC(t&&t.concurrentRequestLimit),this.Ja=new GV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ce=zC.prototype;ce.ra=8;ce.H=1;function r0(t){if(WC(t),t.H==3){var e=t.W++,n=Qr(t.I);if(Rt(n,"SID",t.K),Rt(n,"RID",e),Rt(n,"TYPE","terminate"),Dd(t,n),e=new Pd(t,t.l,e),e.L=2,e.v=Zp(Qr(n)),n=!1,$e.navigator&&$e.navigator.sendBeacon)try{n=$e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&$e.Image&&(new Image().src=e.v,n=!0),n||(e.g=eR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xd(e)}XC(t)}function nm(t){t.g&&(o0(t),t.g.cancel(),t.g=null)}function WC(t){nm(t),t.u&&($e.clearTimeout(t.u),t.u=null),rp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&$e.clearTimeout(t.m),t.m=null)}function im(t){if(!LC(t.i)&&!t.m){t.m=!0;var e=t.Na;Zc||mC(),ed||(Zc(),ed=!0),Y_.add(e,t),t.C=0}}function t3(t,e){return MC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Rd(Wn(t.Na,t,e),QC(t,t.C)),t.C++,!0)}ce.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Pd(this,this.l,t);let o=this.s;if(this.U&&(o?(o=aC(o),lC(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=GC(this,s,e),n=Qr(this.I),Rt(n,"RID",t),Rt(n,"CVER",22),this.F&&Rt(n,"X-HTTP-Session-Id",this.F),Dd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(qC(o)))+"&"+e:this.o&&i0(n,this.o,o)),t0(this.i,s),this.bb&&Rt(n,"TYPE","init"),this.P?(Rt(n,"$req",e),Rt(n,"SID","null"),s.aa=!0,by(s,n,null)):by(s,n,e),this.H=2}}else this.H==3&&(t?CT(this,t):this.j.length==0||LC(this.i)||CT(this))};function CT(t,e){var n;e?n=e.m:n=t.W++;const i=Qr(t.I);Rt(i,"SID",t.K),Rt(i,"RID",n),Rt(i,"AID",t.V),Dd(t,i),t.o&&t.s&&i0(i,t.o,t.s),n=new Pd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=GC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),t0(t.i,n),by(n,i,e)}function Dd(t,e){t.na&&H_(t.na,function(n,i){Rt(e,i,n)}),t.h&&kC({},function(n,i){Rt(e,i,n)})}function GC(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Wn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let d=0;d<n;d++){let f=s[d].g;const p=s[d].map;if(f-=o,0>f)o=Math.max(0,s[d].g-100),c=!1;else try{KV(p,l,"req"+f+"_")}catch{i&&i(p)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function KC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Zc||mC(),ed||(Zc(),ed=!0),Y_.add(e,t),t.A=0}}function s0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Rd(Wn(t.Ma,t),QC(t,t.A)),t.A++,!0)}ce.Ma=function(){if(this.u=null,YC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Rd(Wn(this.jb,this),t)}};ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ii(10),nm(this),YC(this))};function o0(t){t.B!=null&&($e.clearTimeout(t.B),t.B=null)}function YC(t){t.g=new Pd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);Rt(e,"RID","rpc"),Rt(e,"SID",t.K),Rt(e,"AID",t.V),Rt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Rt(e,"TO",t.qa),Rt(e,"TYPE","xmlhttp"),Dd(t,e),t.o&&t.s&&i0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Zp(Qr(e)),n.s=null,n.S=!0,AC(n,t)}ce.ib=function(){this.v!=null&&(this.v=null,nm(this),s0(this),ii(19))};function rp(t){t.v!=null&&($e.clearTimeout(t.v),t.v=null)}function JC(t,e){var n=null;if(t.g==e){rp(t),o0(t),t.g=null;var i=2}else if(Iy(t.i,e))n=e.F,VC(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Yp(),Fn(i,new bC(i,n)),im(t)}else KC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&t3(t,e)||i==2&&s0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function QC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Wn(t.pb,t);n||(n=new Wo("//www.google.com/images/cleardot.gif"),$e.location&&$e.location.protocol=="http"||np(n,"https"),Zp(n)),YV(n.toString(),i)}else ii(2);t.H=0,t.h&&t.h.za(e),XC(t),WC(t)}ce.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ii(2)):(this.l.info("Failed to ping google.com"),ii(1))};function XC(t){if(t.H=0,t.ma=[],t.h){const e=FC(t.i);(e.length!=0||t.j.length!=0)&&(vT(t.ma,e),vT(t.ma,t.j),t.i.i.length=0,j_(t.j),t.j.length=0),t.h.ya()}}function ZC(t,e,n){var i=n instanceof Wo?Qr(n):new Wo(n);if(i.g!="")e&&(i.g=e+"."+i.g),ip(i,i.m);else{var s=$e.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Wo(null);i&&np(o,i),e&&(o.g=e),s&&ip(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Rt(i,n,e),Rt(i,"VER",t.ra),Dd(t,i),i}function eR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Bt(new Od({ob:!0})):new Bt(t.va),e.Oa(t.J),e}ce.isActive=function(){return!!this.h&&this.h.isActive(this)};function tR(){}ce=tR.prototype;ce.Ba=function(){};ce.Aa=function(){};ce.za=function(){};ce.ya=function(){};ce.isActive=function(){return!0};ce.Va=function(){};function sp(){if(Tl&&!(10<=Number(pV)))throw Error("Environmental error: no available transport.")}sp.prototype.g=function(t,e){return new Ci(t,e)};function Ci(t,e){Rn.call(this),this.g=new zC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Yl(this)}kn(Ci,Rn);Ci.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ii(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ZC(t,null,t.Y),im(t)};Ci.prototype.close=function(){r0(this.g)};Ci.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=K_(t),t=n);e.j.push(new qV(e.fb++,t)),e.H==3&&im(e)};Ci.prototype.N=function(){this.g.h=null,delete this.j,r0(this.g),delete this.g,Ci.$.N.call(this)};function nR(t){Z_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kn(nR,Z_);function iR(){e0.call(this),this.status=1}kn(iR,e0);function Yl(t){this.g=t}kn(Yl,tR);Yl.prototype.Ba=function(){Fn(this.g,"a")};Yl.prototype.Aa=function(t){Fn(this.g,new nR(t))};Yl.prototype.za=function(t){Fn(this.g,new iR)};Yl.prototype.ya=function(){Fn(this.g,"b")};function n3(){this.blockSize=-1}function Qi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kn(Qi,n3);Qi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function $v(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Qi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)$v(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){$v(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){$v(this,i),s=0;break}}this.h=s,this.i+=e};Qi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function bt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var i3={};function a0(t){return-128<=t&&128>t?dV(t,function(e){return new bt([e|0],0>e?-1:0)}):new bt([t|0],0>t?-1:0)}function _r(t){if(isNaN(t)||!isFinite(t))return fl;if(0>t)return On(_r(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ty;return new bt(e,0)}function rR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return On(rR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_r(Math.pow(e,8)),i=fl,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=_r(Math.pow(e,o)),i=i.R(o).add(_r(l))):(i=i.R(n),i=i.add(_r(l)))}return i}var Ty=4294967296,fl=a0(0),Ay=a0(1),RT=a0(16777216);ce=bt.prototype;ce.ea=function(){if(Oi(this))return-On(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ty+i)*e,e*=Ty}return t};ce.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Br(this))return"0";if(Oi(this))return"-"+On(this).toString(t);for(var e=_r(Math.pow(t,6)),n=this,i="";;){var s=ap(n,e).g;n=op(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Br(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ce.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Br(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Oi(t){return t.h==-1}ce.X=function(t){return t=op(this,t),Oi(t)?-1:Br(t)?0:1};function On(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new bt(n,~t.h).add(Ay)}ce.abs=function(){return Oi(this)?On(this):this};ce.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new bt(n,n[n.length-1]&-2147483648?-1:0)};function op(t,e){return t.add(On(e))}ce.R=function(t){if(Br(this)||Br(t))return fl;if(Oi(this))return Oi(t)?On(this).R(On(t)):On(On(this).R(t));if(Oi(t))return On(this.R(On(t)));if(0>this.X(RT)&&0>t.X(RT))return _r(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,d=t.D(s)&65535;n[2*i+2*s]+=l*d,pf(n,2*i+2*s),n[2*i+2*s+1]+=o*d,pf(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,pf(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,pf(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new bt(n,0)};function pf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function uc(t,e){this.g=t,this.h=e}function ap(t,e){if(Br(e))throw Error("division by zero");if(Br(t))return new uc(fl,fl);if(Oi(t))return e=ap(On(t),e),new uc(On(e.g),On(e.h));if(Oi(e))return e=ap(t,On(e)),new uc(On(e.g),e.h);if(30<t.g.length){if(Oi(t)||Oi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ay,i=e;0>=i.X(t);)n=kT(n),i=kT(i);var s=tl(n,1),o=tl(i,1);for(i=tl(i,2),n=tl(n,2);!Br(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=tl(i,1),n=tl(n,1)}return e=op(t,s.R(e)),new uc(s,e)}for(s=fl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=_r(n),l=o.R(e);Oi(l)||0<l.X(t);)n-=i,o=_r(n),l=o.R(e);Br(o)&&(o=Ay),s=s.add(o),t=op(t,l)}return new uc(s,t)}ce.gb=function(t){return ap(this,t).h};ce.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new bt(n,this.h&t.h)};ce.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new bt(n,this.h|t.h)};ce.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new bt(n,this.h^t.h)};function kT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new bt(n,t.h)}function tl(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new bt(s,t.h)}sp.prototype.createWebChannel=sp.prototype.g;Ci.prototype.send=Ci.prototype.u;Ci.prototype.open=Ci.prototype.m;Ci.prototype.close=Ci.prototype.close;Jp.NO_ERROR=0;Jp.TIMEOUT=8;Jp.HTTP_ERROR=6;EC.COMPLETE="complete";IC.EventType=kd;kd.OPEN="a";kd.CLOSE="b";kd.ERROR="c";kd.MESSAGE="d";Rn.prototype.listen=Rn.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;Qi.prototype.digest=Qi.prototype.l;Qi.prototype.reset=Qi.prototype.reset;Qi.prototype.update=Qi.prototype.j;bt.prototype.add=bt.prototype.add;bt.prototype.multiply=bt.prototype.R;bt.prototype.modulo=bt.prototype.gb;bt.prototype.compare=bt.prototype.X;bt.prototype.toNumber=bt.prototype.ea;bt.prototype.toString=bt.prototype.toString;bt.prototype.getBits=bt.prototype.D;bt.fromNumber=_r;bt.fromString=rR;var r3=function(){return new sp},s3=function(){return Yp()},jv=Jp,o3=EC,a3=ua,PT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},l3=Od,mf=IC,u3=Bt,c3=Qi,pl=bt;const xT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new kp("@firebase/firestore");function cc(){return Zo.logLevel}function be(t,...e){if(Zo.logLevel<=et.DEBUG){const n=e.map(l0);Zo.debug(`Firestore (${Jl}): ${t}`,...n)}}function Xr(t,...e){if(Zo.logLevel<=et.ERROR){const n=e.map(l0);Zo.error(`Firestore (${Jl}): ${t}`,...n)}}function Al(t,...e){if(Zo.logLevel<=et.WARN){const n=e.map(l0);Zo.warn(`Firestore (${Jl}): ${t}`,...n)}}function l0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function kt(t,e){t||Ue()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class h3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f3{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt(typeof i.accessToken=="string"),new sR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Hn(e)}}class p3{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class m3{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new p3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.R=n.token,new g3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=y3(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function mt(t,e){return t<e?-1:t>e?1:0}function Sl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ln(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new ln(0,0))}static max(){return new Be(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ue(),i===void 0?i=e.length-n:i>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return sd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sd?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class At extends sd{construct(e,n,i){return new At(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ue(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new At(n)}static emptyPath(){return new At([])}}const _3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends sd{construct(e,n,i){return new Dn(e,n,i)}static isValidIdentifier(e){return _3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ue(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ue(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ue(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new ue(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(At.fromString(e))}static fromName(e){return new Ce(At.fromString(e).popFirst(5))}static empty(){return new Ce(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new At(e.slice()))}}function w3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new ln(n+1,0):new ln(n,i));return new Ks(s,Ce.empty(),e)}function b3(t){return new Ks(t.readTime,t.key,-1)}class Ks{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ks(Be.min(),Ce.empty(),-1)}static max(){return new Ks(Be.max(),Ce.empty(),-1)}}function E3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==I3)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,i)=>{n(e)})}static reject(e){return new X((n,i)=>{i(e)})}static waitFor(e){return new X((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},d=>i(d))}),l=!0,o===s&&n()})}static or(e){let n=X.resolve(!1);for(const i of e)n=n.next(s=>s?X.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new X((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(p=>{l[f]=p,++c,c===o&&i(l)},p=>s(p))}})}static doWhile(e,n){return new X((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function Md(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}u0._e=-1;function rm(t){return t==null}function lp(t){return t===0&&1/t==-1/0}function A3(t){return typeof t=="number"&&Number.isInteger(t)&&!lp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??xn.RED,this.left=s??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new xn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,n,i,s,o){return this}insert(e,n,i){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Ai([])}unionWith(e){let n=new Un(Dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lR("Invalid base64 string: "+o):o}}(e);return new Yn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const S3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(kt(!!t),typeof t=="string"){let e=0;const n=S3.exec(t);if(kt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rn(t.seconds),nanos:rn(t.nanos)}}function rn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ea(t){return typeof t=="string"?Yn.fromBase64String(t):Yn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c0(t){const e=t.mapValue.fields.__previous_value__;return sm(e)?c0(e):e}function od(t){const e=Ys(t.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,i,s,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class ad{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ad("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sm(t)?4:R3(t)?9007199254740991:10:Ue()}function Sr(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Ys(s.timestampValue),c=Ys(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ea(s.bytesValue).isEqual(ea(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return rn(s.geoPointValue.latitude)===rn(o.geoPointValue.latitude)&&rn(s.geoPointValue.longitude)===rn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return rn(s.integerValue)===rn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=rn(s.doubleValue),c=rn(o.doubleValue);return l===c?lp(l)===lp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Sl(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(OT(l)!==OT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Sr(l[d],c[d])))return!1;return!0}(t,e);default:return Ue()}}function ld(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Cl(t,e){if(t===e)return 0;const n=ta(t),i=ta(e);if(n!==i)return mt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=rn(o.integerValue||o.doubleValue),d=rn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(od(t),od(e));case 5:return mt(t.stringValue,e.stringValue);case 6:return function(o,l){const c=ea(o),d=ea(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=mt(c[f],d[f]);if(p!==0)return p}return mt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=mt(rn(o.latitude),rn(l.latitude));return c!==0?c:mt(rn(o.longitude),rn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],d=l.values||[];for(let f=0;f<c.length&&f<d.length;++f){const p=Cl(c[f],d[f]);if(p)return p}return mt(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===vf.mapValue&&l===vf.mapValue)return 0;if(o===vf.mapValue)return 1;if(l===vf.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=mt(d[g],p[g]);if(y!==0)return y;const w=Cl(c[d[g]],f[p[g]]);if(w!==0)return w}return mt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=Ys(t),i=Ys(e),s=mt(n.seconds,i.seconds);return s!==0?s:mt(n.nanos,i.nanos)}function Rl(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ys(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ea(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Sy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Sy(n.fields[l])}`;return s+"}"}(t.mapValue):Ue()}function up(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cy(t){return!!t&&"integerValue"in t}function d0(t){return!!t&&"arrayValue"in t}function LT(t){return!!t&&"nullValue"in t}function MT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lf(t){return!!t&&"mapValue"in t}function Oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ca(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Oc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function R3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=Dn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Oc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Lf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){ca(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new hi(Oc(this.value))}}function uR(t){const e=[];return ca(t.fields,(n,i)=>{const s=new Dn([n]);if(Lf(i)){const o=uR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new qn(e,0,Be.min(),Be.min(),Be.min(),hi.empty(),0)}static newFoundDocument(e,n,i,s){return new qn(e,1,n,Be.min(),i,s,0)}static newNoDocument(e,n){return new qn(e,2,n,Be.min(),Be.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Be.min(),Be.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.position=e,this.inclusive=n}}function VT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=Ce.comparator(Ce.fromName(l.referenceValue),n.key):i=Cl(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function FT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function k3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{}class an extends cR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new x3(e,n,i):n==="array-contains"?new D3(e,i):n==="in"?new L3(e,i):n==="not-in"?new M3(e,i):n==="array-contains-any"?new V3(e,i):new an(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new O3(e,i):new N3(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Cl(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(Cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends cR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Xi(e,n)}matches(e){return dR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function dR(t){return t.op==="and"}function hR(t){return P3(t)&&dR(t)}function P3(t){for(const e of t.filters)if(e instanceof Xi)return!1;return!0}function Ry(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(hR(t))return t.filters.map(e=>Ry(e)).join(",");{const e=t.filters.map(n=>Ry(n)).join(",");return`${t.op}(${e})`}}function fR(t,e){return t instanceof an?function(i,s){return s instanceof an&&i.op===s.op&&i.field.isEqual(s.field)&&Sr(i.value,s.value)}(t,e):t instanceof Xi?function(i,s){return s instanceof Xi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&fR(l,s.filters[c]),!0):!1}(t,e):void Ue()}function pR(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`}(t):t instanceof Xi?function(n){return n.op.toString()+" {"+n.getFilters().map(pR).join(" ,")+"}"}(t):"Filter"}class x3 extends an{constructor(e,n,i){super(e,n,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class O3 extends an{constructor(e,n){super(e,"in",n),this.keys=mR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N3 extends an{constructor(e,n){super(e,"not-in",n),this.keys=mR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class D3 extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d0(n)&&ld(n.arrayValue,this.value)}}class L3 extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ld(this.value.arrayValue,n)}}class M3 extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ld(this.value.arrayValue,n)}}class V3 extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ld(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function UT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new F3(t,e,n,i,s,o,l)}function h0(t){const e=We(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ry(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Rl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Rl(i)).join(",")),e.ce=n}return e.ce}function f0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FT(t.startAt,e.startAt)&&FT(t.endAt,e.endAt)}function ky(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function U3(t,e,n,i,s,o,l,c){return new no(t,e,n,i,s,o,l,c)}function om(t){return new no(t)}function $T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p0(t){return t.collectionGroup!==null}function ml(t){const e=We(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Un(Dn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ud(o,i))}),n.has(Dn.keyField().canonicalString())||e.le.push(new ud(Dn.keyField(),i))}return e.le}function Er(t){const e=We(t);return e.he||(e.he=$3(e,ml(t))),e.he}function $3(t,e){if(t.limitType==="F")return UT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ud(s.field,o)});const n=t.endAt?new kl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new kl(t.startAt.position,t.startAt.inclusive):null;return UT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Py(t,e){const n=t.filters.concat([e]);return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cp(t,e,n){return new no(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function am(t,e){return f0(Er(t),Er(e))&&t.limitType===e.limitType}function gR(t){return`${h0(Er(t))}|lt:${t.limitType}`}function rl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>pR(s)).join(", ")}]`),rm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Rl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Rl(s)).join(",")),`Target(${i})`}(Er(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ce.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of ml(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,d){const f=VT(l,c,d);return l.inclusive?f<=0:f<0}(i.startAt,ml(i),s)||i.endAt&&!function(l,c,d){const f=VT(l,c,d);return l.inclusive?f>=0:f>0}(i.endAt,ml(i),s))}(t,e)}function j3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vR(t){return(e,n)=>{let i=!1;for(const s of ml(t)){const o=B3(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function B3(t,e,n){const i=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?Cl(d,f):Ue()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return aR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Lt(Ce.comparator);function Zr(){return H3}const yR=new Lt(Ce.comparator);function Ic(...t){let e=yR;for(const n of t)e=e.insert(n.key,n);return e}function _R(t){let e=yR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function $o(){return Nc()}function wR(){return Nc()}function Nc(){return new Ql(t=>t.toString(),(t,e)=>t.isEqual(e))}const q3=new Lt(Ce.comparator),z3=new Un(Ce.comparator);function tt(...t){let e=z3;for(const n of t)e=e.add(n);return e}const W3=new Un(mt);function G3(){return W3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lp(e)?"-0":e}}function ER(t){return{integerValue:""+t}}function K3(t,e){return A3(e)?ER(e):bR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function Y3(t,e,n){return t instanceof dp?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&sm(o)&&(o=c0(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Pl?TR(t,e):t instanceof xl?AR(t,e):function(s,o){const l=IR(s,o),c=jT(l)+jT(s.Ie);return Cy(l)&&Cy(s.Ie)?ER(c):bR(s.serializer,c)}(t,e)}function J3(t,e,n){return t instanceof Pl?TR(t,e):t instanceof xl?AR(t,e):n}function IR(t,e){return t instanceof hp?function(i){return Cy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class dp extends um{}class Pl extends um{constructor(e){super(),this.elements=e}}function TR(t,e){const n=SR(e);for(const i of t.elements)n.some(s=>Sr(s,i))||n.push(i);return{arrayValue:{values:n}}}class xl extends um{constructor(e){super(),this.elements=e}}function AR(t,e){let n=SR(e);for(const i of t.elements)n=n.filter(s=>!Sr(s,i));return{arrayValue:{values:n}}}class hp extends um{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function jT(t){return rn(t.integerValue||t.doubleValue)}function SR(t){return d0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.field=e,this.transform=n}}function Q3(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Pl&&s instanceof Pl||i instanceof xl&&s instanceof xl?Sl(i.elements,s.elements,Sr):i instanceof hp&&s instanceof hp?Sr(i.Ie,s.Ie):i instanceof dp&&s instanceof dp}(t.transform,e.transform)}class X3{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cm{}function RR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new m0(t.key,Ni.none()):new Vd(t.key,t.data,Ni.none());{const n=t.data,i=hi.empty();let s=new Un(Dn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new io(t.key,i,new Ai(s.toArray()),Ni.none())}}function Z3(t,e,n){t instanceof Vd?function(s,o,l){const c=s.value.clone(),d=HT(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof io?function(s,o,l){if(!Mf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=HT(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(kR(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Dc(t,e,n,i){return t instanceof Vd?function(o,l,c,d){if(!Mf(o.precondition,l))return c;const f=o.value.clone(),p=qT(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof io?function(o,l,c,d){if(!Mf(o.precondition,l))return c;const f=qT(o.fieldTransforms,d,l),p=l.data;return p.setAll(kR(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(o,l,c){return Mf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function eF(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=IR(i.transform,s||null);o!=null&&(n===null&&(n=hi.empty()),n.set(i.field,o))}return n||null}function BT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Sl(i,s,(o,l)=>Q3(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vd extends cm{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class io extends cm{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function HT(t,e,n){const i=new Map;kt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,J3(l,c,n[s]))}return i}function qT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,Y3(o,l,e))}return i}class m0 extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tF extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Z3(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Dc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Dc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=wR();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=RR(l,c);d!==null&&i.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,(n,i)=>BT(n,i))&&Sl(this.baseMutations,e.baseMutations,(n,i)=>BT(n,i))}}class g0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){kt(e.mutations.length===i.length);let s=function(){return q3}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new g0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,rt;function sF(t){switch(t){default:return Ue();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function PR(t){if(t===void 0)return Xr("GRPC error has no .code"),j.UNKNOWN;switch(t){case tn.OK:return j.OK;case tn.CANCELLED:return j.CANCELLED;case tn.UNKNOWN:return j.UNKNOWN;case tn.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case tn.INTERNAL:return j.INTERNAL;case tn.UNAVAILABLE:return j.UNAVAILABLE;case tn.UNAUTHENTICATED:return j.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case tn.NOT_FOUND:return j.NOT_FOUND;case tn.ALREADY_EXISTS:return j.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return j.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case tn.ABORTED:return j.ABORTED;case tn.OUT_OF_RANGE:return j.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return j.UNIMPLEMENTED;case tn.DATA_LOSS:return j.DATA_LOSS;default:return Ue()}}(rt=tn||(tn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new pl([4294967295,4294967295],0);function zT(t){const e=oF().encode(t),n=new c3;return n.update(e),new Uint8Array(n.digest())}function WT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new pl([n,i],0),new pl([s,o],0)]}class v0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Tc(`Invalid padding: ${n}`);if(i<0)throw new Tc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=pl.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(pl.fromNumber(i)));return s.compare(aF)===1&&(s=new pl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=zT(e),[i,s]=WT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new v0(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=zT(e),[i,s]=WT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new dm(Be.min(),s,new Lt(mt),Zr(),tt())}}class Fd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Fd(i,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class xR{constructor(e,n){this.targetId=e,this.fe=n}}class OR{constructor(e,n,i=Yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class GT{constructor(){this.ge=0,this.pe=YT(),this.ye=Yn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=tt(),n=tt(),i=tt();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ue()}}),new Fd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=YT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class lF{constructor(e){this.Le=e,this.ke=new Map,this.qe=Zr(),this.Qe=KT(),this.Ke=new Lt(mt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(ky(o))if(i===0){const l=new Ce(o.path);this.We(n,l,qn.newNoDocument(l,Be.min()))}else kt(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=ea(i).toUint8Array()}catch(d){if(d instanceof lR)return Al("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new v0(l,s,o)}catch(d){return Al(d instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&ky(c.target)){const d=new Ce(c.target.path);this.qe.get(d)!==null||this.st(l,d)||this.We(l,d,qn.newNoDocument(d,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=tt();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new dm(e,n,this.Ke,this.qe,i);return this.qe=Zr(),this.Qe=KT(),this.Ke=new Lt(mt),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new GT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Un(mt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new GT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function KT(){return new Lt(Ce.comparator)}function YT(){return new Lt(Ce.comparator)}const uF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),dF=(()=>({and:"AND",or:"OR"}))();class hF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||rm(e)?e:{value:e}}function fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fF(t,e){return fp(t,e.toTimestamp())}function Ir(t){return kt(!!t),Be.fromTimestamp(function(n){const i=Ys(n);return new ln(i.seconds,i.nanos)}(t))}function y0(t,e){return function(i){return new At(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function DR(t){const e=At.fromString(t);return kt(FR(e)),e}function Oy(t,e){return y0(t.databaseId,e.path)}function Bv(t,e){const n=DR(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(LR(n))}function Ny(t,e){return y0(t.databaseId,e)}function pF(t){const e=DR(t);return e.length===4?At.emptyPath():LR(e)}function Dy(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LR(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JT(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function mF(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(kt(p===void 0||typeof p=="string"),Yn.fromBase64String(p||"")):(kt(p===void 0||p instanceof Uint8Array),Yn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?j.UNKNOWN:PR(f.code);return new ue(p,f.message||"")}(l);n=new OR(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Bv(t,i.document.name),o=Ir(i.document.updateTime),l=i.document.createTime?Ir(i.document.createTime):Be.min(),c=new hi({mapValue:{fields:i.document.fields}}),d=qn.newFoundDocument(s,o,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Vf(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Bv(t,i.document),o=i.readTime?Ir(i.readTime):Be.min(),l=qn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new Vf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Bv(t,i.document),o=i.removedTargetIds||[];n=new Vf([],o,s,null)}else{if(!("filter"in e))return Ue();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new rF(s,o),c=i.targetId;n=new xR(c,l)}}return n}function gF(t,e){let n;if(e instanceof Vd)n={update:JT(t,e.key,e.value)};else if(e instanceof m0)n={delete:Oy(t,e.key)};else if(e instanceof io)n={update:JT(t,e.key,e.data),updateMask:AF(e.fieldMask)};else{if(!(e instanceof tF))return Ue();n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof dp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hp)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ue()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:fF(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue()}(t,e.precondition)),n}function vF(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?Ir(s.updateTime):Ir(o);return l.isEqual(Be.min())&&(l=Ir(o)),new X3(l,s.transformResults||[])}(n,e))):[]}function yF(t,e){return{documents:[Ny(t,e.path)]}}function _F(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Ny(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ny(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(d){if(d.length!==0)return VR(Xi.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:sl(g.field),direction:EF(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=xy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function wF(t){let e=pF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){kt(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(g){const y=MR(g);return y instanceof Xi&&hR(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(y=>function(A){return new ud(ol(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,rm(y)?null:y}(n.limit));let d=null;n.startAt&&(d=function(g){const y=!!g.before,w=g.values||[];return new kl(w,y)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const y=!g.before,w=g.values||[];return new kl(w,y)}(n.endAt)),U3(e,s,l,o,c,"F",d,f)}function bF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ol(n.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ol(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ol(n.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ol(n.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):t.fieldFilter!==void 0?function(n){return an.create(ol(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xi.create(n.compositeFilter.filters.map(i=>MR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue()}}(n.compositeFilter.op))}(t):Ue()}function EF(t){return uF[t]}function IF(t){return cF[t]}function TF(t){return dF[t]}function sl(t){return{fieldPath:t.canonicalString()}}function ol(t){return Dn.fromServerFormat(t.fieldPath)}function VR(t){return t instanceof an?function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(LT(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(LT(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:IF(n.op),value:n.value}}}(t):t instanceof Xi?function(n){const i=n.getFilters().map(s=>VR(s));return i.length===1?i[0]:{compositeFilter:{op:TF(n.op),filters:i}}}(t):Ue()}function AF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,i,s,o=Be.min(),l=Be.min(),c=Yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.ut=e}}function CF(t){const e=wF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.on=new kF}addToCollectionParentIndex(e,n){return this.on.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Ks.min())}updateCollectionGroup(e,n,i){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class kF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new Un(At.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Un(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ol(0)}static Nn(){return new Ol(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.changes=new Ql(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?X.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Dc(i.mutation,s,Ai.empty(),ln.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,tt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=tt()){const s=$o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=Ic();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=$o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,tt()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=Zr();const l=Nc(),c=function(){return Nc()}();return n.forEach((d,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof io)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Dc(p.mutation,f,p.mutation.getFieldMask(),ln.now())):l.set(f.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var g;return c.set(f,new xF(p,(g=l.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Nc();let s=new Lt((l,c)=>l-c),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let p=i.get(d)||Ai.empty();p=c.applyToLocalView(f,p),i.set(d,p);const g=(s.get(c.batchId)||tt()).add(d);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,g=wR();p.forEach(y=>{if(!o.has(y)){const w=RR(n.get(y),i.get(y));w!==null&&g.set(y,w),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return X.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):X.resolve($o());let c=-1,d=o;return l.next(f=>X.forEach(f,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,tt())).next(p=>({batchId:c,changes:_R(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(i=>{let s=Ic();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=Ic();return this.indexManager.getCollectionParents(e,o).next(c=>X.forEach(c,d=>{const f=function(g,y){return new no(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((g,y)=>{l=l.insert(g,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,qn.newInvalidDocument(p)))});let c=Ic();return l.forEach((d,f)=>{const p=o.get(d);p!==void 0&&Dc(p.mutation,f,Ai.empty(),ln.now()),lm(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return X.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:CF(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.overlays=new Lt(Ce.comparator),this.lr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$o();return X.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),X.resolve()}getOverlaysForCollection(e,n,i){const s=$o(),o=n.length+1,l=new Ce(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return X.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Lt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=$o(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=$o(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return X.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new iF(n,i));let o=this.lr.get(n);o===void 0&&(o=tt(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.hr=new Un(En.Pr),this.Ir=new Un(En.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new En(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new En(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Ce(new At([])),i=new En(n,e),s=new En(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ce(new At([])),i=new En(n,e),s=new En(n,e+1);let o=tt();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new En(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class En{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ce.comparator(e.key,n.key)||mt(e.gr,n.gr)}static Tr(e,n){return mt(e.gr,n.gr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Un(En.Pr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nF(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new En(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,n){return X.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new En(n,0),s=new En(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Un(mt);return n.forEach(s=>{const o=new En(s,0),l=new En(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),X.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ce.isDocumentKey(o)||(o=o.child(""));const l=new En(new Ce(o),0);let c=new Un(mt);return this.yr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.gr)),!0)},l),X.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){kt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return X.forEach(n.mutations,s=>{const o=new En(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new En(n,0),s=this.yr.firstAfterOrEqual(i);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.Cr=e,this.docs=function(){return new Lt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return X.resolve(i?i.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let i=Zr();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():qn.newInvalidDocument(s))}),X.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Zr();const l=n.path,c=new Ce(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||E3(b3(p),i)<=0||(s.has(p.key)||lm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Ue()}vr(e,n){return X.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new VF(this)}getSize(e){return X.resolve(this.size)}}class VF extends PF{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),X.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.persistence=e,this.Fr=new Ql(n=>h0(n),f0),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _0,this.targetCount=0,this.Nr=Ol.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),X.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ol(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.kn(n),X.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),X.waitFor(o).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return X.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),X.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return X.resolve(i)}containsKey(e,n){return X.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n){this.Br={},this.overlays={},this.Lr=new u0(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new FF(this),this.indexManager=new RF,this.remoteDocumentCache=function(s){return new MF(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new SF(n),this.Kr=new NF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new LF(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){be("MemoryPersistence","Starting transaction:",e);const s=new $F(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return X.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class $F extends T3{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Gr=new _0,this.zr=null}static jr(e){return new w0(e)}get Hr(){if(this.zr)return this.zr;throw Ue()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),X.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Hr,i=>{const s=Ce.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Be.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return X.or([()=>X.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=tt(),s=tt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new b0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new jF;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(cc()<=et.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),X.resolve()):(cc()<=et.DEBUG&&be("QueryEngine","Query:",rl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(cc()<=et.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):X.resolve())}zi(e,n){if($T(n))return X.resolve(null);let i=Er(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=cp(n,null,"F"),i=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=tt(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const f=this.Yi(n,c);return this.Zi(n,f,l,d.readTime)?this.zi(e,cp(n,null,"F")):this.Xi(e,f,n,d)}))})))}ji(e,n,i,s){return $T(n)||s.isEqual(Be.min())?X.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?X.resolve(null):(cc()<=et.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rl(n)),this.Xi(e,l,n,w3(s,-1)).next(c=>c))})}Yi(e,n){let i=new Un(vR(e));return n.forEach((s,o)=>{lm(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return cc()<=et.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",rl(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ks.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Lt(mt),this.ns=new Ql(o=>h0(o),f0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function qF(t,e,n,i){return new HF(t,e,n,i)}async function UR(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let d=tt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(i,d).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function zF(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,d,f,p){const g=f.batch,y=g.keys();let w=X.resolve();return y.forEach(A=>{w=w.next(()=>p.getEntry(d,A)).next(_=>{const I=f.docVersions.get(A);kt(I!==null),_.version.compareTo(I)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=tt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function $R(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function WF(t,e){const n=We(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((p,g)=>{const y=s.get(g);if(!y)return;c.push(n.qr.removeMatchingKeys(o,p.removedDocuments,g).next(()=>n.qr.addMatchingKeys(o,p.addedDocuments,g)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Yn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),s=s.insert(g,w),function(_,I,T){return _.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,w,p)&&c.push(n.qr.updateTargetData(o,w))});let d=Zr(),f=tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(GF(o,l,e.documentUpdates).next(p=>{d=p.us,f=p.cs})),!i.isEqual(Be.min())){const p=n.qr.getLastRemoteSnapshotVersion(o).next(g=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(p)}return X.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ts=s,o))}function GF(t,e,n){let i=tt(),s=tt();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Zr();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Be.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{us:l,cs:s}})}function KF(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function YF(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,X.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new Vs(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Ly(t,e,n){const i=We(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Md(l))throw l;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function QT(t,e,n){const i=We(t);let s=Be.min(),o=tt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const g=We(d),y=g.ns.get(p);return y!==void 0?X.resolve(g.ts.get(y)):g.qr.getTargetData(f,p)}(i,l,Er(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:Be.min(),n?o:tt())).next(c=>(JF(i,j3(e),c),{documents:c,ls:o})))}function JF(t,e,n){let i=t.rs.get(e)||Be.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class XT{constructor(){this.activeTargetIds=G3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QF{constructor(){this.eo=new XT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new XT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function Hv(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class t9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=Hv(),d=this.So(n,i);be("RestConnection",`Sending RPC '${n}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,d,f,s).then(p=>(be("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw Al("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",d,"request:",s),p})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=ZF[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=Hv();return new Promise((l,c)=>{const d=new u3;d.setWithCredentials(!0),d.listenOnce(o3.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case jv.NO_ERROR:const p=d.getResponseJson();be(Bn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case jv.TIMEOUT:be(Bn,`RPC '${e}' ${o} timed out`),c(new ue(j.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:const g=d.getStatus();if(be(Bn,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const A=function(I){const T=I.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(T)>=0?T:j.UNKNOWN}(w.status);c(new ue(A,w.message))}else c(new ue(j.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ue(j.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{be(Bn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);be(Bn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,i,15)})}vo(e,n,i){const s=Hv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=r3(),c=s3(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new l3({})),this.bo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const p=o.join("");be(Bn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=l.createWebChannel(p,d);let y=!1,w=!1;const A=new e9({co:I=>{w?be(Bn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(y||(be(Bn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),be(Bn,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},lo:()=>g.close()}),_=(I,T,x)=>{I.listen(T,R=>{try{x(R)}catch(S){setTimeout(()=>{throw S},0)}})};return _(g,mf.EventType.OPEN,()=>{w||be(Bn,`RPC '${e}' stream ${s} transport opened.`)}),_(g,mf.EventType.CLOSE,()=>{w||(w=!0,be(Bn,`RPC '${e}' stream ${s} transport closed`),A.Ro())}),_(g,mf.EventType.ERROR,I=>{w||(w=!0,Al(Bn,`RPC '${e}' stream ${s} transport errored:`,I),A.Ro(new ue(j.UNAVAILABLE,"The operation could not be completed")))}),_(g,mf.EventType.MESSAGE,I=>{var T;if(!w){const x=I.data[0];kt(!!x);const R=x,S=R.error||((T=R[0])===null||T===void 0?void 0:T.error);if(S){be(Bn,`RPC '${e}' stream ${s} received error:`,S);const O=S.status;let U=function(ae){const me=tn[ae];if(me!==void 0)return PR(me)}(O),re=S.message;U===void 0&&(U=j.INTERNAL,re="Unknown error status: "+O+" with message "+S.message),w=!0,A.Ro(new ue(U,re)),g.close()}else be(Bn,`RPC '${e}' stream ${s} received:`,x),A.Vo(x)}}),_(c,a3.STAT_EVENT,I=>{I.stat===PT.PROXY?be(Bn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===PT.NOPROXY&&be(Bn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.Ao()},0),A}}function qv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new hF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,i,s,o,l,c,d){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new jR(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new ue(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n9 extends BR{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=mF(this.serializer,e),i=function(o){if(!("targetChange"in o))return Be.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Ir(l.readTime):Be.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=Dy(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=ky(d)?{documents:yF(o,d)}:{query:_F(o,d)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=NR(o,l.resumeToken);const f=xy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=fp(o,l.snapshotVersion.toTimestamp());const f=xy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=bF(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.e_(n)}}class i9 extends BR{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=vF(e.writeResults,e.commitTime),i=Ir(e.commitTime);return this.listener.I_(i,n)}return kt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Dy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>gF(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new ue(j.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(j.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(j.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class s9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Xr(n),this.f_=!1):be("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{da(this)&&(be("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=We(d);f.C_.add(4),await Ud(f),f.M_.set("Unknown"),f.C_.delete(4),await fm(f)}(this))})}),this.M_=new s9(i,s)}}async function fm(t){if(da(t))for(const e of t.v_)await e(!0)}async function Ud(t){for(const e of t.v_)await e(!1)}function HR(t,e){const n=We(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),T0(n)?I0(n):Xl(n).Ho()&&E0(n,e))}function qR(t,e){const n=We(t),i=Xl(n);n.D_.delete(e),i.Ho()&&zR(n,e),n.D_.size===0&&(i.Ho()?i.Zo():da(n)&&n.M_.set("Unknown"))}function E0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xl(t).u_(e)}function zR(t,e){t.x_.Oe(e),Xl(t).c_(e)}function I0(t){t.x_=new lF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xl(t).start(),t.M_.g_()}function T0(t){return da(t)&&!Xl(t).jo()&&t.D_.size>0}function da(t){return We(t).C_.size===0}function WR(t){t.x_=void 0}async function a9(t){t.D_.forEach((e,n)=>{E0(t,e)})}async function l9(t,e){WR(t),T0(t)?(t.M_.w_(e),I0(t)):t.M_.set("Unknown")}async function u9(t,e,n){if(t.M_.set("Online"),e instanceof OR&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await pp(t,i)}else if(e instanceof Vf?t.x_.$e(e):e instanceof xR?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Be.min()))try{const i=await $R(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.D_.get(f);p&&o.D_.set(f,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const p=o.D_.get(d);if(!p)return;o.D_.set(d,p.withResumeToken(Yn.EMPTY_BYTE_STRING,p.snapshotVersion)),zR(o,d);const g=new Vs(p.target,d,f,p.sequenceNumber);E0(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){be("RemoteStore","Failed to raise snapshot:",i),await pp(t,i)}}async function pp(t,e,n){if(!Md(e))throw e;t.C_.add(1),await Ud(t),t.M_.set("Offline"),n||(n=()=>$R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await fm(t)})}function GR(t,e){return e().catch(n=>pp(t,n,e))}async function pm(t){const e=We(t),n=Js(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;c9(e);)try{const s=await KF(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,d9(e,s)}catch(s){await pp(e,s)}KR(e)&&YR(e)}function c9(t){return da(t)&&t.b_.length<10}function d9(t,e){t.b_.push(e);const n=Js(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function KR(t){return da(t)&&!Js(t).jo()&&t.b_.length>0}function YR(t){Js(t).start()}async function h9(t){Js(t).E_()}async function f9(t){const e=Js(t);for(const n of t.b_)e.P_(n.mutations)}async function p9(t,e,n){const i=t.b_.shift(),s=g0.from(i,e,n);await GR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pm(t)}async function m9(t,e){e&&Js(t).h_&&await async function(i,s){if(function(l){return sF(l)&&l!==j.ABORTED}(s.code)){const o=i.b_.shift();Js(i).Yo(),await GR(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await pm(i)}}(t,e),KR(t)&&YR(t)}async function eA(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const i=da(n);n.C_.add(3),await Ud(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await fm(n)}async function g9(t,e){const n=We(t);e?(n.C_.delete(2),await fm(n)):e||(n.C_.add(2),await Ud(n),n.M_.set("Unknown"))}function Xl(t){return t.O_||(t.O_=function(n,i,s){const o=We(n);return o.A_(),new n9(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:a9.bind(null,t),Io:l9.bind(null,t),a_:u9.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),T0(t)?I0(t):t.M_.set("Unknown")):(await t.O_.stop(),WR(t))})),t.O_}function Js(t){return t.N_||(t.N_=function(n,i,s){const o=We(n);return o.A_(),new i9(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:h9.bind(null,t),Io:m9.bind(null,t),T_:f9.bind(null,t),I_:p9.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await pm(t)):(await t.N_.stop(),t.b_.length>0&&(be("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new A0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Md(t))return new ue(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ce.comparator(n.key,i.key):(n,i)=>Ce.comparator(n.key,i.key),this.keyedMap=Ic(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new gl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.B_=new Lt(Ce.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ue():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Nl{constructor(e,n,i,s,o,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Nl(e,n,gl.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.k_=void 0,this.listeners=[]}}class y9{constructor(){this.queries=new Ql(e=>gR(e),am),this.onlineState="Unknown",this.q_=new Set}}async function C0(t,e){const n=We(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new v9),s)try{o.k_=await n.onListen(i)}catch(l){const c=S0(l,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&k0(n)}async function R0(t,e){const n=We(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function _9(t,e){const n=We(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&k0(n)}function w9(t,e,n){const i=We(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function k0(t){t.q_.forEach(e=>{e.next()})}class P0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.key=e}}class QR{constructor(e){this.key=e}}class b9{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=tt(),this.mutatedKeys=tt(),this._a=vR(e),this.aa=new gl(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new tA,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,g)=>{const y=s.get(p),w=lm(this.query,g)?g:null,A=!!y&&this.mutatedKeys.has(y.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;y&&w?y.data.isEqual(w.data)?A!==_&&(i.track({type:3,doc:w}),I=!0):this.ha(y,w)||(i.track({type:2,doc:w}),I=!0,(d&&this._a(w,d)>0||f&&this._a(w,f)<0)&&(c=!0)):!y&&w?(i.track({type:0,doc:w}),I=!0):y&&!w&&(i.track({type:1,doc:y}),I=!0,(d||f)&&(c=!0)),I&&(w?(l=l.add(w),o=_?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,p)=>function(y,w){const A=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return A(y)-A(w)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,d=c!==this.sa;return this.sa=c,o.length!==0||d?{snapshot:new Nl(this.query,e.aa,s,o,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new tA,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=tt(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new QR(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new JR(i))}),n}da(e){this.ia=e.ls,this.oa=tt();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Nl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class E9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class I9{constructor(e){this.key=e,this.Ra=!1}}class T9{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new Ql(c=>gR(c),am),this.fa=new Map,this.ga=new Set,this.pa=new Lt(Ce.comparator),this.ya=new Map,this.wa=new _0,this.Sa={},this.ba=new Map,this.Da=Ol.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function A9(t,e){const n=L9(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await YF(n.localStore,Er(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await S9(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&HR(n.remoteStore,l)}return s}async function S9(t,e,n,i,s){t.va=(g,y,w)=>async function(_,I,T,x){let R=I.view.ca(T);R.Zi&&(R=await QT(_.localStore,I.query,!1).then(({documents:U})=>I.view.ca(U,R)));const S=x&&x.targetChanges.get(I.targetId),O=I.view.applyChanges(R,_.isPrimaryClient,S);return iA(_,I.targetId,O.Ta),O.snapshot}(t,g,y,w);const o=await QT(t.localStore,e,!0),l=new b9(e,o.ls),c=l.ca(o.documents),d=Fd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,d);iA(t,n,f.Ta);const p=new E9(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function C9(t,e){const n=We(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!am(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ly(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),qR(n.remoteStore,i.targetId),My(n,i.targetId)}).catch(Ld)):(My(n,i.targetId),await Ly(n.localStore,i.targetId,!0))}async function R9(t,e,n){const i=M9(t);try{const s=await function(l,c){const d=We(l),f=ln.now(),p=c.reduce((w,A)=>w.add(A.key),tt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Zr(),_=tt();return d.ss.getEntries(w,p).next(I=>{A=I,A.forEach((T,x)=>{x.isValidDocument()||(_=_.add(T))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,A)).next(I=>{g=I;const T=[];for(const x of c){const R=eF(x,g.get(x.key).overlayedDocument);R!=null&&T.push(new io(x.key,R,uR(R.value.mapValue),Ni.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,T,c)}).next(I=>{y=I;const T=I.applyToLocalDocumentSet(g,_);return d.documentOverlayCache.saveOverlays(w,I.batchId,T)})}).then(()=>({batchId:y.batchId,changes:_R(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let f=l.Sa[l.currentUser.toKey()];f||(f=new Lt(mt)),f=f.insert(c,d),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await $d(i,s.changes),await pm(i.remoteStore)}catch(s){const o=S0(s,"Failed to persist write");n.reject(o)}}async function XR(t,e){const n=We(t);try{const i=await WF(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?kt(l.Ra):s.removedDocuments.size>0&&(kt(l.Ra),l.Ra=!1))}),await $d(n,i,e)}catch(i){await Ld(i)}}function nA(t,e,n){const i=We(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=We(l);d.onlineState=c;let f=!1;d.queries.forEach((p,g)=>{for(const y of g.listeners)y.Q_(c)&&(f=!0)}),f&&k0(d)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function k9(t,e,n){const i=We(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new Lt(Ce.comparator);l=l.insert(o,qn.newNoDocument(o,Be.min()));const c=tt().add(o),d=new dm(Be.min(),new Map,new Lt(mt),l,c);await XR(i,d),i.pa=i.pa.remove(o),i.ya.delete(e),x0(i)}else await Ly(i.localStore,e,!1).then(()=>My(i,e,n)).catch(Ld)}async function P9(t,e){const n=We(t),i=e.batch.batchId;try{const s=await zF(n.localStore,e);ek(n,i,null),ZR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await $d(n,s)}catch(s){await Ld(s)}}async function x9(t,e,n){const i=We(t);try{const s=await function(l,c){const d=We(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next(g=>(kt(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(i.localStore,e);ek(i,e,n),ZR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await $d(i,s)}catch(s){await Ld(s)}}function ZR(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function ek(t,e,n){const i=We(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||tk(t,i)})}function tk(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(qR(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),x0(t))}function iA(t,e,n){for(const i of n)i instanceof JR?(t.wa.addReference(i.key,e),O9(t,i)):i instanceof QR?(be("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||tk(t,i.key)):Ue()}function O9(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(be("SyncEngine","New document in limbo: "+n),t.ga.add(i),x0(t))}function x0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ce(At.fromString(e)),i=t.Da.next();t.ya.set(i,new I9(n)),t.pa=t.pa.insert(n,i),HR(t.remoteStore,new Vs(Er(om(n.path)),i,"TargetPurposeLimboResolution",u0._e))}}async function $d(t,e,n){const i=We(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,d)=>{l.push(i.va(d,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const p=b0.Qi(d.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Va.a_(s),await async function(d,f){const p=We(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>X.forEach(f,y=>X.forEach(y.ki,w=>p.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>X.forEach(y.qi,w=>p.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!Md(g))throw g;be("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const w=p.ts.get(y),A=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(A);p.ts=p.ts.insert(y,_)}}}(i.localStore,o))}async function N9(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const i=await UR(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(d=>{d.reject(new ue(j.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await $d(n,i._s)}}function D9(t,e){const n=We(t),i=n.ya.get(e);if(i&&i.Ra)return tt().add(i.key);{let s=tt();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function L9(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k9.bind(null,e),e.Va.a_=_9.bind(null,e.eventManager),e.Va.Fa=w9.bind(null,e.eventManager),e}function M9(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,e),e}class rA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return qF(this.persistence,new BF,e.initialUser,this.serializer)}createPersistence(e){return new UF(w0.jr,this.serializer)}createSharedClientState(e){return new QF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class V9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=N9.bind(null,this.syncEngine),await g9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y9}()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),i=function(o){return new t9(o)}(e.databaseInfo);return function(o,l,c,d){return new r9(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new o9(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>nA(this.syncEngine,n,0),function(){return ZT.D()?new ZT:new XF}())}createSyncEngine(e,n){return function(s,o,l,c,d,f,p){const g=new T9(s,o,l,c,d,f);return p&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=We(n);be("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Ud(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Hn.UNAUTHENTICATED,this.clientId=oR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{be("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ue(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=S0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zv(t,e){t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await UR(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $9(t);be("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>eA(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>eA(e.remoteStore,o)),t._onlineComponents=e}function U9(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{await zv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!U9(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await zv(t,new rA)}}else be("FirestoreClient","Using default OfflineComponentProvider"),await zv(t,new rA);return t._offlineComponents}async function nk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),await sA(t,t._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),await sA(t,new V9))),t._onlineComponents}function j9(t){return nk(t).then(e=>e.syncEngine)}async function mp(t){const e=await nk(t),n=e.eventManager;return n.onListen=A9.bind(null,e.syncEngine),n.onUnlisten=C9.bind(null,e.syncEngine),n}function B9(t,e,n={}){const i=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const p=new O0({next:y=>{l.enqueueAndForget(()=>R0(o,g));const w=y.docs.has(c);!w&&y.fromCache?f.reject(new ue(j.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&d&&d.source==="server"?f.reject(new ue(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new P0(om(c.path),p,{includeMetadataChanges:!0,J_:!0});return C0(o,g)}(await mp(t),t.asyncQueue,e,n,i)),i.promise}function H9(t,e,n={}){const i=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const p=new O0({next:y=>{l.enqueueAndForget(()=>R0(o,g)),y.fromCache&&d.source==="server"?f.reject(new ue(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),g=new P0(c,p,{includeMetadataChanges:!0,J_:!0});return C0(o,g)}(await mp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e,n){if(!n)throw new ue(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q9(t,e,n,i){if(e===!0&&i===!0)throw new ue(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aA(t){if(!Ce.isDocumentKey(t))throw new ue(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lA(t){if(Ce.isDocumentKey(t))throw new ue(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue()}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(t);throw new ue(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function z9(t,e){if(e<=0)throw new ue(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ik((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ue(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ue(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new d3;switch(i.type){case"firstParty":return new m3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=oA.get(n);i&&(be("ComponentProvider","Removing Datastore"),oA.delete(n),i.terminate())}(this),Promise.resolve()}}function W9(t,e,n,i={}){var s;const o=(t=si(t,jd))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=Hn.MOCK_USER;else{c=Q2(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ue(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Hn(f)}t._authCredentials=new h3(new sR(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new er(this.firestore,e,this._query)}}class Kn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class js extends er{constructor(e,n,i){super(e,n,om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ce(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function na(t,e,...n){if(t=xe(t),N0("collection","path",e),t instanceof jd){const i=At.fromString(e,...n);return lA(i),new js(t,null,i)}{if(!(t instanceof Kn||t instanceof js))throw new ue(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return lA(i),new js(t.firestore,null,i)}}function Bd(t,e){if(t=si(t,jd),N0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ue(j.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new er(t,null,function(i){return new no(At.emptyPath(),i)}(e))}function D0(t,e,...n){if(t=xe(t),arguments.length===1&&(e=oR.newId()),N0("doc","path",e),t instanceof jd){const i=At.fromString(e,...n);return aA(i),new Kn(t,null,new Ce(i))}{if(!(t instanceof Kn||t instanceof js))throw new ue(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return aA(i),new Kn(t.firestore,t instanceof js?t.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new jR(this,"async_queue_retry"),this.iu=()=>{const n=qv();n&&be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=qv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Wr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Md(e))throw e;be("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Xr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=A0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&Ue()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function cA(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class es extends jd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new G9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rk(this),this._firestoreClient.terminate()}}function K9(t,e){const n=typeof t=="object"?t:wd(),i=typeof t=="string"?t:e||"(default)",s=aa(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=v_("firestore");o&&W9(s,...o)}return s}function gm(t){return t._firestoreClient||rk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rk(t){var e,n,i;const s=t._freezeSettings(),o=function(c,d,f,p){return new C3(c,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ik(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new F9(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(Yn.fromBase64String(e))}catch(n){throw new ue(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dl(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=/^__.*__$/;class J9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vd(e,this.data,n,this.fieldTransforms)}}class sk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new io(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ok(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class ym{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return gp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(ok(this.Iu)&&Y9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Q9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||hm(e)}pu(e,n,i,s=!1){return new ym({Iu:e,methodName:n,gu:i,path:Dn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qd(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new Q9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ak(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);M0("Data must be an object, but it was:",l,i);const c=ck(i,l);let d,f;if(o.merge)d=new Ai(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const g of o.mergeFields){const y=Vy(e,g,n);if(!l.contains(y))throw new ue(j.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);hk(p,y)||p.push(y)}d=new Ai(p),f=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,f=l.fieldTransforms;return new J9(new hi(c),d,f)}class _m extends Hd{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}function lk(t,e,n){return new ym({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class X9 extends Hd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=lk(this,e,!0),i=this.yu.map(o=>ha(o,n)),s=new Pl(i);return new CR(e.path,s)}isEqual(e){return this===e}}class Z9 extends Hd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=lk(this,e,!0),i=this.yu.map(o=>ha(o,n)),s=new xl(i);return new CR(e.path,s)}isEqual(e){return this===e}}function eU(t,e,n,i){const s=t.pu(1,e,n);M0("Data must be an object, but it was:",s,i);const o=[],l=hi.empty();ca(i,(d,f)=>{const p=V0(e,d,n);f=xe(f);const g=s.Ru(p);if(f instanceof _m)o.push(p);else{const y=ha(f,g);y!=null&&(o.push(p),l.set(p,y))}});const c=new Ai(o);return new sk(l,c,s.fieldTransforms)}function tU(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[Vy(e,i,n)],d=[s];if(o.length%2!=0)throw new ue(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Vy(e,o[y])),d.push(o[y+1]);const f=[],p=hi.empty();for(let y=c.length-1;y>=0;--y)if(!hk(f,c[y])){const w=c[y];let A=d[y];A=xe(A);const _=l.Ru(w);if(A instanceof _m)f.push(w);else{const I=ha(A,_);I!=null&&(f.push(w),p.set(w,I))}}const g=new Ai(f);return new sk(p,g,l.fieldTransforms)}function uk(t,e,n,i=!1){return ha(n,t.pu(i?4:3,e))}function ha(t,e){if(dk(t=xe(t)))return M0("Unsupported field value:",e,t),ck(t,e);if(t instanceof Hd)return function(i,s){if(!ok(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let d=ha(c,s.Vu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=xe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return K3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ln.fromDate(i);return{timestampValue:fp(s.serializer,o)}}if(i instanceof ln){const o=new ln(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fp(s.serializer,o)}}if(i instanceof L0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dl)return{bytesValue:NR(s.serializer,i._byteString)};if(i instanceof Kn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:y0(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${mm(i)}`)}(t,e)}function ck(t,e){const n={};return aR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(t,(i,s)=>{const o=ha(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function dk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof L0||t instanceof Dl||t instanceof Kn||t instanceof Hd)}function M0(t,e,n){if(!dk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=mm(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Vy(t,e,n){if((e=xe(e))instanceof vm)return e._internalPath;if(typeof e=="string")return V0(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const nU=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(nU)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vm(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${s}`),d+=")"),new ue(j.INVALID_ARGUMENT,c+t+d)}function hk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iU extends F0{data(){return super.data()}}function wm(t,e){return typeof e=="string"?V0(t,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U0{}class bm extends U0{}function In(t,e,...n){let i=[];e instanceof U0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(d=>d instanceof $0).length,c=o.filter(d=>d instanceof Em).length;if(l>1||l>0&&c>0)throw new ue(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Em extends bm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Em(e,n,i)}_apply(e){const n=this._parse(e);return pk(e._query,n),new er(e.firestore,e.converter,Py(e._query,n))}_parse(e){const n=qd(e.firestore);return function(o,l,c,d,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ue(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){hA(g,p);const w=[];for(const A of g)w.push(dA(d,o,A));y={arrayValue:{values:w}}}else y=dA(d,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||hA(g,p),y=uk(c,l,g,p==="in"||p==="not-in");return an.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wr(t,e,n){const i=e,s=wm("where",t);return Em._create(s,i,n)}class $0 extends U0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Xi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)pk(l,d),l=Py(l,d)}(e._query,n),new er(e.firestore,e.converter,Py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j0 extends bm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ue(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ue(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ud(o,l)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new no(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ts(t,e="asc"){const n=e,i=wm("orderBy",t);return j0._create(i,n)}class B0 extends bm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new B0(e,n,i)}_apply(e){return new er(e.firestore,e.converter,cp(e._query,this._limit,this._limitType))}}function Qs(t){return z9("limit",t),B0._create("limit",t,"F")}class H0 extends bm{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new H0(e,n,i)}_apply(e){const n=rU(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(s,o){return new no(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function Im(...t){return H0._create("startAfter",t,!1)}function rU(t,e,n,i){if(n[0]=xe(n[0]),n[0]instanceof F0)return function(o,l,c,d,f){if(!d)throw new ue(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const g of ml(o))if(g.field.isKeyField())p.push(up(l,d.key));else{const y=d.data.field(g.field);if(sm(y))throw new ue(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const w=g.field.canonicalString();throw new ue(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(y)}return new kl(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=qd(t.firestore);return function(l,c,d,f,p,g){const y=l.explicitOrderBy;if(p.length>y.length)throw new ue(j.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let A=0;A<p.length;A++){const _=p[A];if(y[A].field.isKeyField()){if(typeof _!="string")throw new ue(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof _}`);if(!p0(l)&&_.indexOf("/")!==-1)throw new ue(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${_}' contains a slash.`);const I=l.path.child(At.fromString(_));if(!Ce.isDocumentKey(I))throw new ue(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const T=new Ce(I);w.push(up(c,T))}else{const I=uk(d,f,_);w.push(I)}}return new kl(w,g)}(t._query,t.firestore._databaseId,s,e,n,i)}}function dA(t,e,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new ue(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p0(e)&&n.indexOf("/")!==-1)throw new ue(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(At.fromString(n));if(!Ce.isDocumentKey(i))throw new ue(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return up(t,new Ce(i))}if(n instanceof Kn)return up(t,n._key);throw new ue(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(n)}.`)}function hA(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pk(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sU{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ca(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new L0(rn(e.latitude),rn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=c0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=At.fromString(e);kt(FR(i));const s=new ad(i.get(1),i.get(3)),o=new Ce(i.popFirst(5));return s.isEqual(n)||Xr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gk extends F0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(wm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ff extends gk{data(e={}){return super.data(e)}}class vk{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ac(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ff(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Ff(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ac(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Ff(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ac(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:oU(c.type),doc:d,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t){t=si(t,Kn);const e=si(t.firestore,es);return B9(gm(e),t._key).then(n=>yk(e,t,n))}class q0 extends sU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function Cr(t){t=si(t,er);const e=si(t.firestore,es),n=gm(e),i=new q0(e);return fk(t._query),H9(n,t._query).then(s=>new vk(e,i,t,s))}function KY(t,e,n){t=si(t,Kn);const i=si(t.firestore,es),s=mk(t.converter,e,n);return Tm(i,[ak(qd(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ni.none())])}function YY(t,e,n,...i){t=si(t,Kn);const s=si(t.firestore,es),o=qd(s);let l;return l=typeof(e=xe(e))=="string"||e instanceof vm?tU(o,"updateDoc",t._key,e,n,i):eU(o,"updateDoc",t._key,e),Tm(s,[l.toMutation(t._key,Ni.exists(!0))])}function JY(t){return Tm(si(t.firestore,es),[new m0(t._key,Ni.none())])}function lU(t,e){const n=si(t.firestore,es),i=D0(t),s=mk(t.converter,e);return Tm(n,[ak(qd(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Ni.exists(!1))]).then(()=>i)}function z0(t,...e){var n,i,s;t=xe(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||cA(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(cA(e[l])){const g=e[l];e[l]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[l+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[l+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,f,p;if(t instanceof Kn)f=si(t.firestore,es),p=om(t._key.path),d={next:g=>{e[l]&&e[l](yk(f,t,g))},error:e[l+1],complete:e[l+2]};else{const g=si(t,er);f=si(g.firestore,es),p=g._query;const y=new q0(f);d={next:w=>{e[l]&&e[l](new vk(f,y,g,w))},error:e[l+1],complete:e[l+2]},fk(t._query)}return function(y,w,A,_){const I=new O0(_),T=new P0(w,I,A);return y.asyncQueue.enqueueAndForget(async()=>C0(await mp(y),T)),()=>{I.Na(),y.asyncQueue.enqueueAndForget(async()=>R0(await mp(y),T))}}(gm(f),p,c,d)}function Tm(t,e){return function(i,s){const o=new Wr;return i.asyncQueue.enqueueAndForget(async()=>R9(await j9(i),s,o)),o.promise}(gm(t),e)}function yk(t,e,n){const i=n.docs.get(e._key),s=new q0(t);return new gk(t,s,e._key,i,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}function QY(...t){return new X9("arrayUnion",t)}function XY(...t){return new Z9("arrayRemove",t)}(function(e,n=!0){(function(s){Jl=s})(is),Tr(new Yi("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new es(new f3(i.getProvider("auth-internal")),new v3(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ue(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ad(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ri(xT,"4.3.2",e),ri(xT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="type.googleapis.com/google.protobuf.Int64Value",cU="type.googleapis.com/google.protobuf.UInt64Value";function _k(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Fy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Fy(e));if(typeof t=="function"||typeof t=="object")return _k(t,e=>Fy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function vp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case uU:case cU:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>vp(e)):typeof t=="function"||typeof t=="object"?_k(t,e=>vp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vl extends Mn{constructor(e,n,i){super(`${W0}/${e}`,n||""),this.details=i}}function dU(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function hU(t,e){let n=dU(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!fA[l])return new vl("internal","internal");n=fA[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=vp(s))}}catch{}return n==="ok"?null:new vl(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="us-central1";function pU(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new vl("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class mU{constructor(e,n,i,s,o=Uy,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new fU(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Uy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function gU(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function vU(t,e,n){return i=>_U(t,e,i,n||{})}async function yU(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function _U(t,e,n,i){const s=t._url(e);return wU(t,s,n,i)}async function wU(t,e,n,i){n=Fy(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,d=pU(c),f=await Promise.race([yU(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new vl("cancelled","Firebase Functions instance was deleted.");const p=hU(f.status,f.json);if(p)throw p;if(!f.json)throw new vl("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new vl("internal","Response is missing data field.");return{data:vp(g)}}const pA="@firebase/functions",mA="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="auth-internal",EU="app-check-internal",IU="messaging-internal";function TU(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(bU),c=i.getProvider(IU),d=i.getProvider(EU);return new mU(o,l,c,d,s,t)};Tr(new Yi(W0,n,"PUBLIC").setMultipleInstances(!0)),ri(pA,mA,e),ri(pA,mA,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t=wd(),e=Uy){const i=aa(xe(t),W0).getImmediate({identifier:e}),s=v_("functions");return s&&AU(i,...s),i}function AU(t,e,n){gU(xe(t),e,n)}function wk(t,e,n){return vU(xe(t),e,n)}TU(fetch.bind(self));const SU={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebasestorage.googleapis.com",Ek="storageBucket",CU=2*60*1e3,RU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Mn{constructor(e,n,i=0){super(Wv(e),`Firebase Storage: ${n} (${Wv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function Wv(t){return"storage/"+t}function K0(){const t="An unknown error occurred, please check the error payload for server response.";return new qt(Ht.UNKNOWN,t)}function kU(t){return new qt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PU(t){return new qt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qt(Ht.UNAUTHENTICATED,t)}function OU(){return new qt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NU(t){return new qt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DU(){return new qt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LU(){return new qt(Ht.CANCELED,"User canceled the upload/download.")}function MU(t){return new qt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function VU(t){return new qt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FU(){return new qt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ek+"' property when initializing the app?")}function UU(){return new qt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $U(){return new qt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jU(t){return new qt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $y(t){return new qt(Ht.INVALID_ARGUMENT,t)}function Ik(){return new qt(Ht.APP_DELETED,"The Firebase app was deleted.")}function BU(t){return new qt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(t,e){return new qt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dc(t){throw new qt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Si.makeFromUrl(e,n)}catch{return new Si(e,"")}if(i.path==="")return i;throw VU(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f(S){S.path_=decodeURIComponent(S.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),A={bucket:1,path:3},_=n===bk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",T=new RegExp(`^https?://${_}/${s}/${I}`,"i"),R=[{regex:c,indices:d,postModify:o},{regex:w,indices:A,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let S=0;S<R.length;S++){const O=R[S],U=O.regex.exec(e);if(U){const re=U[O.indices.bucket];let J=U[O.indices.path];J||(J=""),i=new Si(re,J),O.postModify(i);break}}if(i==null)throw MU(e);return i}}class HU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function p(...I){f||(f=!0,e.apply(null,I))}function g(I){s=setTimeout(()=>{s=null,t(w,d())},I)}function y(){o&&clearTimeout(o)}function w(I,...T){if(f){y();return}if(I){y(),p.call(null,I,...T);return}if(d()||l){y(),p.call(null,I,...T);return}i<64&&(i*=2);let R;c===1?(c=2,R=0):R=(i+Math.random())*1e3,g(R)}let A=!1;function _(I){A||(A=!0,y(),!f&&(s!==null?(I||(c=2),clearTimeout(s),g(0)):I||(c=1)))}return g(0),o=setTimeout(()=>{l=!0,_(!0)},n),_}function zU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){return t!==void 0}function GU(t){return typeof t=="object"&&!Array.isArray(t)}function Y0(t){return typeof t=="string"||t instanceof String}function gA(t){return J0()&&t instanceof Blob}function J0(){return typeof Blob<"u"&&!y_()}function vA(t,e,n,i){if(i<e)throw $y(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw $y(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Tk(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,i,s,o,l,c,d,f,p,g,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,A)=>{this.resolve_=w,this.reject_=A,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new _f(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Go.NO_ERROR,d=o.getStatus();if(!c||KU(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Go.ABORT;i(!1,new _f(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new _f(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());WU(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=K0();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?Ik():LU();l(d)}else{const d=DU();l(d)}};this.canceled_?n(!1,new _f(!1,null,!0)):this.backoffId_=qU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _f{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function JU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function QU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function e6(t,e,n,i,s,o,l=!0){const c=Tk(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return XU(f,e),JU(f,n),QU(f,o),ZU(f,i),new YU(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function n6(...t){const e=t6();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(J0())return new Blob(t);throw new qt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){if(typeof atob>"u")throw jU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gv{constructor(e,n){this.data=e,this.contentType=n||null}}function s6(t,e){switch(t){case br.RAW:return new Gv(Ak(e));case br.BASE64:case br.BASE64URL:return new Gv(Sk(t,e));case br.DATA_URL:return new Gv(a6(e),l6(e))}throw K0()}function Ak(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function o6(t){let e;try{e=decodeURIComponent(t)}catch{throw Lc(br.DATA_URL,"Malformed data URL.")}return Ak(e)}function Sk(t,e){switch(t){case br.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Lc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Lc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=r6(e)}catch(s){throw s.message.includes("polyfill")?s:Lc(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class Ck{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lc(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=u6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function a6(t){const e=new Ck(t);return e.base64?Sk(br.BASE64,e.rest):o6(e.rest)}function l6(t){return new Ck(t).contentType}function u6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let i=0,s="";gA(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(gA(this.data_)){const i=this.data_,s=i6(i,e,n);return s===null?null:new Ds(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(i,!0)}}static getBlob(...e){if(J0()){const n=e.map(i=>i instanceof Ds?i.data_:i);return new Ds(n6.apply(null,n))}else{const n=e.map(l=>Y0(l)?s6(br.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const s=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[o++]=l[c]}),new Ds(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){let e;try{e=JSON.parse(t)}catch{return null}return GU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d6(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function kk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t,e){return e}class ei{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||h6}}let wf=null;function f6(t){return!Y0(t)||t.length<2?t:kk(t)}function Pk(){if(wf)return wf;const t=[];t.push(new ei("bucket")),t.push(new ei("generation")),t.push(new ei("metageneration")),t.push(new ei("name","fullPath",!0));function e(o,l){return f6(l)}const n=new ei("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const s=new ei("size");return s.xform=i,t.push(s),t.push(new ei("timeCreated")),t.push(new ei("updated")),t.push(new ei("md5Hash",null,!0)),t.push(new ei("cacheControl",null,!0)),t.push(new ei("contentDisposition",null,!0)),t.push(new ei("contentEncoding",null,!0)),t.push(new ei("contentLanguage",null,!0)),t.push(new ei("contentType",null,!0)),t.push(new ei("metadata","customMetadata",!0)),wf=t,wf}function p6(t,e){function n(){const i=t.bucket,s=t.fullPath,o=new Si(i,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function m6(t,e,n){const i={};i.type="file";const s=n.length;for(let o=0;o<s;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return p6(i,t),i}function xk(t,e,n){const i=Rk(e);return i===null?null:m6(t,i,n)}function g6(t,e,n,i){const s=Rk(e);if(s===null||!Y0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const p=t.bucket,g=t.fullPath,y="/b/"+l(p)+"/o/"+l(g),w=Q0(y,n,i),A=Tk({alt:"media",token:f});return w+A})[0]}function v6(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Ok{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){if(!t)throw K0()}function y6(t,e){function n(i,s){const o=xk(t,s,e);return Nk(o!==null),o}return n}function _6(t,e){function n(i,s){const o=xk(t,s,e);return Nk(o!==null),g6(o,s,t.host,t._protocol)}return n}function Dk(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=OU():s=xU():n.getStatus()===402?s=PU(t.bucket):n.getStatus()===403?s=NU(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function w6(t){const e=Dk(t);function n(i,s){let o=e(i,s);return i.getStatus()===404&&(o=kU(t.path)),o.serverResponse=s.serverResponse,o}return n}function b6(t,e,n){const i=e.fullServerUrl(),s=Q0(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new Ok(s,o,_6(t,n),l);return c.errorHandler=w6(e),c}function E6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function I6(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=E6(null,e)),i}function T6(t,e,n,i,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let R="";for(let S=0;S<2;S++)R=R+Math.random().toString().slice(2);return R}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=I6(e,i,s),p=v6(f,n),g="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+d+"--",w=Ds.getBlob(g,i,y);if(w===null)throw UU();const A={name:f.fullPath},_=Q0(o,t.host,t._protocol),I="POST",T=t.maxUploadRetryTime,x=new Ok(_,I,y6(t,n),T);return x.urlParams=A,x.headers=l,x.body=w.uploadData(),x.errorHandler=Dk(e),x}class A6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw dc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class S6 extends A6{initXhr(){this.xhr_.responseType="text"}}function Lk(){return new S6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this._service=e,n instanceof Si?this._location=n:this._location=Si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ia(e,n)}get root(){const e=new Si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kk(this._location.path)}get storage(){return this._service}get parent(){const e=c6(this._location.path);if(e===null)return null;const n=new Si(this._location.bucket,e);return new ia(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BU(e)}}function C6(t,e,n){t._throwIfRoot("uploadBytes");const i=T6(t.storage,t._location,Pk(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(i,Lk).then(s=>({metadata:s,ref:t}))}function R6(t){t._throwIfRoot("getDownloadURL");const e=b6(t.storage,t._location,Pk());return t.storage.makeRequestWithTokens(e,Lk).then(n=>{if(n===null)throw $U();return n})}function k6(t,e){const n=d6(t._location.path,e),i=new Si(t._location.bucket,n);return new ia(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){return/^[A-Za-z]+:\/\//.test(t)}function x6(t,e){return new ia(t,e)}function Mk(t,e){if(t instanceof X0){const n=t;if(n._bucket==null)throw FU();const i=new ia(n,n._bucket);return e!=null?Mk(i,e):i}else return e!==void 0?k6(t,e):t}function O6(t,e){if(e&&P6(e)){if(t instanceof X0)return x6(t,e);throw $y("To use ref(service, url), the first argument must be a Storage instance.")}else return Mk(t,e)}function yA(t,e){const n=e==null?void 0:e[Ek];return n==null?null:Si.makeFromBucketSpec(n,t)}function N6(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:Q2(s,t.app.options.projectId))}class X0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=bk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CU,this._maxUploadRetryTime=RU,this._requests=new Set,s!=null?this._bucket=Si.makeFromBucketSpec(s,this._host):this._bucket=yA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Si.makeFromBucketSpec(this._url,e):this._bucket=yA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ia(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new HU(Ik());{const l=e6(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const _A="@firebase/storage",wA="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="storage";function Fk(t,e,n){return t=xe(t),C6(t,e,n)}function ZY(t){return t=xe(t),R6(t)}function Z0(t,e){return t=xe(t),O6(t,e)}function e1(t=wd(),e){t=xe(t);const i=aa(t,Vk).getImmediate({identifier:e}),s=v_("storage");return s&&D6(i,...s),i}function D6(t,e,n,i={}){N6(t,e,n,i)}function L6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new X0(n,i,s,e,is)}function M6(){Tr(new Yi(Vk,L6,"PUBLIC").setMultipleInstances(!0)),ri(_A,wA,""),ri(_A,wA,"esm2017")}M6();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this._delegate=e,this.firebase=n,Yf(e,new Yi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sS(this._delegate)))}_getService(e,n=zs){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=zs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Yf(this._delegate,e)}_addOrOverwriteComponent(e){rS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},bA=new oa("app-compat","Firebase",F6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:ri,setLogLevel:aS,onLog:oS,apps:null,SDK_VERSION:is,INTERNAL:{registerComponent:c,removeApp:i,useAsService:d,modularAPIs:ML}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||zs,!zI(e,f))throw bA.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,p={}){const g=Pp(f,p);if(zI(e,g.name))return e[g.name];const y=new t(g,n);return e[g.name]=y,y}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,g=p.replace("-compat","");if(Tr(f)&&f.type==="PUBLIC"){const y=(w=s())=>{if(typeof w[g]!="function")throw bA.create("invalid-app-argument",{appName:p});return w[g]()};f.serviceProps!==void 0&&Wf(y,f.serviceProps),n[g]=y,t.prototype[g]=function(...w){return this._getService.bind(this,p).apply(this,f.multipleInstances?w:[])}}return f.type==="PUBLIC"?n[g]:null}function d(f,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){const t=U6(V6);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Uk,extendNamespace:e,createSubscribe:eS,ErrorFactory:oa,deepExtend:Wf});function e(n){Wf(t,n)}return t}const $6=Uk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new kp("@firebase/app-compat"),j6="@firebase/app-compat",B6="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){ri(j6,B6,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(wD()&&self.firebase!==void 0){EA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&EA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Se=$6;H6();var q6="firebase",z6="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.registerVersion(q6,z6,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=2e3;async function G6(t,e,n){var i;const{BuildInfo:s}=ra();Ji(e.sessionId,"AuthEvent did not contain a session ID");const o=await X6(e.sessionId),l={};return zl()?l.ibi=s.packageName:Ed()?l.apn=s.packageName:Cn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,fy(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function K6(t){const{BuildInfo:e}=ra(),n={};zl()?n.iosBundleId=e.packageName:Ed()?n.androidPackageName=e.packageName:Cn(t,"operation-not-supported-in-this-environment"),await ZS(t,n)}function Y6(t){const{cordova:e}=ra();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,aM()?"_blank":"_system","location=yes"),n(s)})})}async function J6(t,e,n){const{cordova:i}=ra();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function d(){var g;o();const y=(g=i.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(Vn(t,"redirect-cancelled-by-user"))},W6))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Ed()&&document.addEventListener("visibilitychange",p,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{s()}}function Q6(t){var e,n,i,s,o,l,c,d,f,p;const g=ra();ne(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof((n=g==null?void 0:g.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne(typeof((o=(s=(i=g==null?void 0:g.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((d=(c=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne(typeof((p=(f=g==null?void 0:g.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function X6(t){const e=Z6(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function Z6(t){if(Ji(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e$=20;class t$ extends QS{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function n$(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:s$(),postBody:null,tenantId:t.tenantId,error:Vn(t,"no-auth-event")}}function i$(t,e){return jy()._set(By(t),e)}async function IA(t){const e=await jy()._get(By(t));return e&&await jy()._remove(By(t)),e}function r$(t,e){var n,i;const s=a$(e);if(s.includes("/__/auth/callback")){const o=Uf(s),l=o.firebaseError?o$(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=c?Vn(c):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function s$(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<e$;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function jy(){return Ti(Fp)}function By(t){return qo("authEvent",t.config.apiKey,t.name)}function o$(t){try{return JSON.parse(t)}catch{return null}}function a$(t){const e=Uf(t),n=e.link?decodeURIComponent(e.link):void 0,i=Uf(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Uf(s).link||s||i||n||t}function Uf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ll(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=500;class u${constructor(){this._redirectPersistence=Gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bp,this._overrideRedirectResult=F_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new t$(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){Q6(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),f5(),await this._originValidation(e);const l=n$(e,i,s);await i$(e,l);const c=await G6(e,l,n),d=await Y6(c);return J6(e,o,d)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K6(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=ra(),l=setTimeout(async()=>{await IA(e),n.onEvent(TA())},l$),c=async p=>{clearTimeout(l);const g=await IA(e);let y=null;g&&(p!=null&&p.url)&&(y=r$(g,p.url)),n.onEvent(y||TA())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const d=s,f=`${o.packageName.toLowerCase()}://`;ra().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof d=="function")try{d(p)}catch(g){console.error(g)}}}}const c$=u$;function TA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t,e){jt(t)._logFramework(e)}var h$="@firebase/auth-compat",f$="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=1e3;function Mc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function m$(){return Mc()==="http:"||Mc()==="https:"}function $k(t=un()){return!!((Mc()==="file:"||Mc()==="ionic:"||Mc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function g$(){return __()||y_()}function v$(){return Z2()&&(document==null?void 0:document.documentMode)===11}function y$(t=un()){return/Edge\/\d+/.test(t)}function _$(t=un()){return v$()||y$(t)}function jk(){try{const t=self.localStorage,e=Td();if(t)return t.setItem(e,"1"),t.removeItem(e),_$()?Gf():!0}catch{return t1()&&Gf()}return!1}function t1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kv(){return(m$()||X2()||$k())&&!g$()&&jk()&&!t1()}function Bk(){return $k()&&typeof document<"u"}async function w$(){return Bk()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},p$);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function b$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={LOCAL:"local",NONE:"none",SESSION:"session"},hc=ne,Hk="persistence";function E$(t,e){if(hc(Object.values(Ii).includes(e),t,"invalid-persistence-type"),__()){hc(e!==Ii.SESSION,t,"unsupported-persistence-type");return}if(y_()){hc(e===Ii.NONE,t,"unsupported-persistence-type");return}if(t1()){hc(e===Ii.NONE||e===Ii.LOCAL&&Gf(),t,"unsupported-persistence-type");return}hc(e===Ii.NONE||jk(),t,"unsupported-persistence-type")}async function Hy(t){await t._initializationPromise;const e=qk(),n=qo(Hk,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function I$(t,e){const n=qk();if(!n)return[];const i=qo(Hk,t,e);switch(n.getItem(i)){case Ii.NONE:return[bl];case Ii.LOCAL:return[Il,Gs];case Ii.SESSION:return[Gs];default:return[]}}function qk(){var t;try{return((t=b$())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=ne;class Fs{constructor(){this.browserResolver=Ti(eC),this.cordovaResolver=Ti(c$),this.underlyingResolver=null,this._redirectPersistence=Gs,this._completeRedirectFn=Bp,this._overrideRedirectResult=F_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Bk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return T$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await w$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){return t.unwrap()}function A$(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t){return Wk(t)}function C$(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new R$(t,_4(t,e))}else if(i){const s=Wk(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Wk(t){const{_tokenResponse:e}=t instanceof Mn?t.customData:t;if(!e)return null;if(!(t instanceof Mn)&&"temporaryProof"in e&&"phoneNumber"in e)return Xo.credentialFromResult(t);const n=e.providerId;if(!n||n===ac.PASSWORD)return null;let i;switch(n){case ac.GOOGLE:i=hr;break;case ac.FACEBOOK:i=dr;break;case ac.GITHUB:i=fr;break;case ac.TWITTER:i=pr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:d}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?El._create(n,c):Ar._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new dl(n).credential({idToken:s,accessToken:o,rawNonce:d})}return t instanceof Mn?i.credentialFromError(t):i.credentialFromResult(t)}function di(t,e){return e.catch(n=>{throw n instanceof Mn&&C$(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:S$(n),additionalUserInfo:m4(n),user:Hr.getOrCreate(s)}})}async function qy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>di(t,n.confirm(i))}}class R${constructor(e,n){this.resolver=n,this.auth=A$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return di(zk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._delegate=e,this.multiFactor=I4(e)}static getOrCreate(e){return Hr.USER_MAP.has(e)||Hr.USER_MAP.set(e,new Hr(e)),Hr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return di(this.auth,LS(this._delegate,e))}async linkWithPhoneNumber(e,n){return qy(this.auth,e5(this._delegate,e,n))}async linkWithPopup(e){return di(this.auth,u5(this._delegate,e,Fs))}async linkWithRedirect(e){return await Hy(jt(this.auth)),y5(this._delegate,e,Fs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return di(this.auth,MS(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return qy(this.auth,t5(this._delegate,e,n))}reauthenticateWithPopup(e){return di(this.auth,l5(this._delegate,e,Fs))}async reauthenticateWithRedirect(e){return await Hy(jt(this.auth)),g5(this._delegate,e,Fs)}sendEmailVerification(e){return r4(this._delegate,e)}async unlink(e){return await qM(this._delegate,e),this}updateEmail(e){return l4(this._delegate,e)}updatePassword(e){return u4(this._delegate,e)}updatePhoneNumber(e){return n5(this._delegate,e)}updateProfile(e){return a4(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return s4(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=ne;class zy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;fc(i,"invalid-api-key",{appName:e.name}),fc(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Fs:void 0;this._delegate=n.initialize({options:{persistence:k$(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(FL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){SS(this._delegate,e,n)}applyActionCode(e){return YM(this._delegate,e)}checkActionCode(e){return VS(this._delegate,e)}confirmPasswordReset(e,n){return KM(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return di(this._delegate,QM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return i4(this._delegate,e)}isSignInWithEmailLink(e){return e4(this._delegate,e)}async getRedirectResult(){fc(Kv(),this._delegate,"operation-not-supported-in-this-environment");const e=await w5(this._delegate,Fs);return e?di(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){d$(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=AA(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=AA(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return ZM(this._delegate,e,n)}sendPasswordResetEmail(e,n){return GM(this._delegate,e,n||void 0)}async setPersistence(e){E$(this._delegate,e);let n;switch(e){case Ii.SESSION:n=Gs;break;case Ii.LOCAL:n=await Ti(Il)._isAvailable()?Il:Fp;break;case Ii.NONE:n=bl;break;default:return Cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return di(this._delegate,HM(this._delegate))}signInWithCredential(e){return di(this._delegate,Mp(this._delegate,e))}signInWithCustomToken(e){return di(this._delegate,WM(this._delegate,e))}signInWithEmailAndPassword(e,n){return di(this._delegate,XM(this._delegate,e,n))}signInWithEmailLink(e,n){return di(this._delegate,t4(this._delegate,e,n))}signInWithPhoneNumber(e,n){return qy(this._delegate,Z4(this._delegate,e,n))}async signInWithPopup(e){return fc(Kv(),this._delegate,"operation-not-supported-in-this-environment"),di(this._delegate,a5(this._delegate,e,Fs))}async signInWithRedirect(e){return fc(Kv(),this._delegate,"operation-not-supported-in-this-environment"),await Hy(this._delegate),p5(this._delegate,e,Fs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return JM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}zy.Persistence=Ii;function AA(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Hr.getOrCreate(l)),error:e,complete:n}}function k$(t,e){const n=I$(t,e);if(typeof self<"u"&&!n.includes(Il)&&n.push(Il),typeof window<"u")for(const i of[Fp,Gs])n.includes(i)||n.push(i);return n.includes(bl)||n.push(bl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.providerId="phone",this._delegate=new Xo(zk(Se.auth()))}static credential(e,n){return Xo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}n1.PHONE_SIGN_IN_METHOD=Xo.PHONE_SIGN_IN_METHOD;n1.PROVIDER_ID=Xo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=ne;class x${constructor(e,n,i=Se.app()){var s;P$((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Q4(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$="auth-compat";function N$(t){t.INTERNAL.registerComponent(new Yi(O$,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new zy(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:el.EMAIL_SIGNIN,PASSWORD_RESET:el.PASSWORD_RESET,RECOVER_EMAIL:el.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:el.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:el.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:el.VERIFY_EMAIL}},EmailAuthProvider:Zs,FacebookAuthProvider:dr,GithubAuthProvider:fr,GoogleAuthProvider:hr,OAuthProvider:dl,SAMLAuthProvider:Qf,PhoneAuthProvider:n1,PhoneMultiFactorGenerator:tC,RecaptchaVerifier:x$,TwitterAuthProvider:pr,Auth:zy,AuthCredential:Wl,Error:Mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(h$,f$)}N$(Se);function D$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gk={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(I,T){T=T||{};var x=document.createEvent("CustomEvent");return x.initCustomEvent(I,!!T.bubbles,!!T.cancelable,T.detail||null),x},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var I=window.getComputedStyle(_),T=function(x,R){return!(I[x]===void 0||I[x]===R)};if(I.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||I.isolation==="isolate"||I.position==="fixed"||I.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function o(_,I){for(var T=0;T<_.length;++T)if(_[T]===I)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var I=new MutationObserver(this.maybeHideModal.bind(this));I.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,x=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),R,S=function(O){if(O.target===_){var U="DOMNodeRemoved";T|=O.type.substr(0,U.length)===U,window.clearTimeout(R),R=window.setTimeout(x,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(O){_.addEventListener(O,S)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var I=document.createElement("div");this.dialog_.insertBefore(I,this.dialog_.firstChild),I.tabIndex=-1,I.focus(),this.dialog_.removeChild(I)}var T=document.createEvent("MouseEvents");T.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(T),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var I=["button","input","keygen","select","textarea"],T=I.map(function(x){return x+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(T.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,I){if(_<I)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=I},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var I=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(I)}};var d={};if(d.reposition=function(_){var I=document.body.scrollTop||document.documentElement.scrollTop,T=I+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(I,T)+"px"},d.isInlinePositionSetByStylesheet=function(_){for(var I=0;I<document.styleSheets.length;++I){var T=document.styleSheets[I],x=null;try{x=T.cssRules}catch{}if(x)for(var R=0;R<x.length;++R){var S=x[R],O=null;try{O=document.querySelectorAll(S.selectorText)}catch{}if(!(!O||!o(O,_))){var U=S.style.getPropertyValue("top"),re=S.style.getPropertyValue("bottom");if(U&&U!=="auto"||re&&re!=="auto")return!0}}}return!1},d.needsCentering=function(_){var I=window.getComputedStyle(_);return I.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!d.isInlinePositionSetByStylesheet(_)},d.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},d.registerDialog=function(_){_.showModal||d.forceRegisterDialog(_)},d.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(I){this.forwardTab_=void 0,I.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(I){var T=[];I.forEach(function(x){for(var R=0,S;S=x.removedNodes[R];++R){if(S instanceof Element)S.localName==="dialog"&&T.push(S);else continue;T=T.concat(S.querySelectorAll("dialog"))}}),T.length&&_(T)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,I=0,T;T=this.pendingDialogStack[I];++I)T.updateZIndex(--_,--_),I===0&&(this.overlay.style.zIndex=--_);var x=this.pendingDialogStack[0];if(x){var R=x.dialog.parentNode||document.body;R.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var I=0,T;T=this.pendingDialogStack[I];++I)if(T.dialog===_)return I===0;_=_.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var I=this.pendingDialogStack[0],T=I.dialog,x=T.compareDocumentPosition(_.target);return x&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?I.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var I=new e("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(I)&&T.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},d.DialogManager.prototype.checkDOM_=function(_){var I=this.pendingDialogStack.slice();I.forEach(function(T){_.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},d.DialogManager.prototype.pushDialog=function(_){var I=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=I?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(_){var I=this.pendingDialogStack.indexOf(_);I!==-1&&(this.pendingDialogStack.splice(I,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var g=p.get;p.get=function(){return l(this)?"dialog":g.call(this)};var y=p.set;p.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(_){if(d.formSubmitter=null,d.useValue=null,!_.defaultPrevented){var I=_.target;if(!(!I||!l(I.form))){var T=I.type==="submit"&&["button","input"].indexOf(I.localName)>-1;if(!T){if(!(I.localName==="input"&&I.type==="image"))return;d.useValue=_.offsetX+","+_.offsetY}var x=i(I);x&&(d.formSubmitter=I)}}},!1);var w=HTMLFormElement.prototype.submit,A=function(){if(!l(this))return w.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=A,document.addEventListener("submit",function(_){var I=_.target;if(l(I)){_.preventDefault();var T=i(I);if(T){var x=d.formSubmitter;x&&x.form===I?T.close(d.useValue||x.value):T.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,typeof t.exports=="object"?t.exports=d:window.dialogPolyfill=d})()})(Gk);var L$=Gk.exports;const M$=D$(L$);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Dt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,I){for(var T=0;T<t.length;T++)if(t[T].className===_)return typeof I<"u"&&(t[T]=I),t[T];return!1}function s(_){var I=_.getAttribute("data-upgraded");return I===null?[""]:I.split(",")}function o(_,I){var T=s(_);return T.indexOf(I)!==-1}function l(_,I,T){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:I,cancelable:T});var x=document.createEvent("Events");return x.initEvent(_,I,T),x}function c(_,I){if(typeof _>"u"&&typeof I>"u")for(var T=0;T<t.length;T++)c(t[T].className,t[T].cssClass);else{var x=_;if(typeof I>"u"){var R=i(x);R&&(I=R.cssClass)}for(var S=document.querySelectorAll("."+I),O=0;O<S.length;O++)d(S[O],x)}}function d(_,I){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var T=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(T),!T.defaultPrevented){var x=s(_),R=[];if(I)o(_,I)||R.push(i(I));else{var S=_.classList;t.forEach(function(se){S.contains(se.cssClass)&&R.indexOf(se)===-1&&!o(_,se.className)&&R.push(se)})}for(var O=0,U=R.length,re;O<U;O++){if(re=R[O],re){x.push(re.className),_.setAttribute("data-upgraded",x.join(","));var J=new re.classConstructor(_);J[n]=re,e.push(J);for(var ae=0,me=re.callbacks.length;ae<me;ae++)re.callbacks[ae](_);re.widget&&(_[re.className]=J)}else throw new Error("Unable to find a registered component for the given class.");var de=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(de)}}}function f(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var I=0,T=_.length,x;I<T;I++)x=_[I],x instanceof HTMLElement&&(d(x),x.children.length>0&&f(x.children))}function p(_){var I=typeof _.widget>"u"&&typeof _.widget>"u",T=!0;I||(T=_.widget||_.widget);var x={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:T,callbacks:[]};if(t.forEach(function(S){if(S.cssClass===x.cssClass)throw new Error("The provided cssClass has already been registered: "+S.cssClass);if(S.className===x.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var R=i(_.classAsString,x);R||t.push(x)}function g(_,I){var T=i(_);T&&T.callbacks.push(I)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function w(_){if(_){var I=e.indexOf(_);e.splice(I,1);var T=_.element_.getAttribute("data-upgraded").split(","),x=T.indexOf(_[n].classAsString);T.splice(x,1),_.element_.setAttribute("data-upgraded",T.join(","));var R=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(R)}}function A(_){var I=function(x){e.filter(function(R){return R.element_===x}).forEach(w)};if(_ instanceof Array||_ instanceof NodeList)for(var T=0;T<_.length;T++)I(_[T]);else if(_ instanceof Node)I(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:g,register:p,downgradeElements:A}}();Dt.ComponentConfigPublic;Dt.ComponentConfig;Dt.Component;Dt.upgradeDom=Dt.upgradeDom;Dt.upgradeElement=Dt.upgradeElement;Dt.upgradeElements=Dt.upgradeElements;Dt.upgradeAllRegistered=Dt.upgradeAllRegistered;Dt.registerUpgradedCallback=Dt.registerUpgradedCallback;Dt.register=Dt.register;Dt.downgradeElements=Dt.downgradeElements;window.componentHandler=Dt;window.componentHandler=Dt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Dt.upgradeAllRegistered()):(Dt.upgradeElement=function(){},Dt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(d)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(a,u);h&&Object.defineProperty(r,u,h)}else r[u]=a[u];r.K=a.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(r,a){if(a){var u=f;r=r.split(".");for(var h=0;h<r.length-1;h++){var m=r[h];m in u||(u[m]={}),u=u[m]}r=r[r.length-1],h=u[r],a=a(h),a!=h&&a!=null&&d(u,r,{configurable:!0,writable:!0,value:a})}}p("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),p("Array.prototype.includes",function(r){return r||function(a,u){var h=this;h instanceof String&&(h=String(h));var m=h.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var v=h[u];if(v===a||Object.is(v,a))return!0}return!1}});var g=this;function y(r){return r!==void 0}function w(r){return typeof r=="string"}var A=/^[\w+/_-]+[=]{0,2}$/,_=null;function I(){}function T(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function x(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function R(r){return x(r)=="array"}function S(r){var a=x(r);return a=="array"||a=="object"&&typeof r.length=="number"}function O(r){return x(r)=="function"}function U(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var re="closure_uid_"+(1e9*Math.random()>>>0),J=0;function ae(r,a,u){return r.call.apply(r.bind,arguments)}function me(r,a,u){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),r.apply(a,m)}}return function(){return r.apply(a,arguments)}}function de(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?de=ae:de=me,de.apply(null,arguments)}function se(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function he(r,a){for(var u in a)r[u]=a[u]}var ot=Date.now||function(){return+new Date};function ee(r,a){r=r.split(".");var u=g;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var h;r.length&&(h=r.shift());)!r.length&&y(a)?u[h]=a:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function H(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(h,m,v){for(var b=Array(arguments.length-2),C=2;C<arguments.length;C++)b[C-2]=arguments[C];return a.prototype[m].apply(h,b)}}function B(r){if(Error.captureStackTrace)Error.captureStackTrace(this,B);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}H(B,Error),B.prototype.name="CustomError";var pe;function at(r,a){r=r.split("%s");for(var u="",h=r.length-1,m=0;m<h;m++)u+=r[m]+(m<a.length?a[m]:"%s");B.call(this,u+r[h])}H(at,B),at.prototype.name="AssertionError";function qe(r,a){throw new at("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var Mt=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(w(r))return w(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},lt=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var h=r.length,m=w(r)?r.split(""):r,v=0;v<h;v++)v in m&&a.call(u,m[v],v,r)};function nr(r,a){for(var u=w(r)?r.split(""):r,h=r.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,r)}var ir=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=[],m=0,v=w(r)?r.split(""):r,b=0;b<u;b++)if(b in v){var C=v[b];a.call(void 0,C,b,r)&&(h[m++]=C)}return h},ma=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=Array(u),m=w(r)?r.split(""):r,v=0;v<u;v++)v in m&&(h[v]=a.call(void 0,m[v],v,r));return h},gn=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=w(r)?r.split(""):r,m=0;m<u;m++)if(m in h&&a.call(void 0,h[m],m,r))return!0;return!1};function $(r,a){return 0<=Mt(r,a)}function ge(r,a){a=Mt(r,a);var u;return(u=0<=a)&&oe(r,a),u}function oe(r,a){return Array.prototype.splice.call(r,a,1).length==1}function Ae(r,a){e:{for(var u=r.length,h=w(r)?r.split(""):r,m=0;m<u;m++)if(m in h&&a.call(void 0,h[m],m,r)){a=m;break e}a=-1}0<=a&&oe(r,a)}function ft(r,a){var u=0;nr(r,function(h,m){a.call(void 0,h,m,r)&&oe(r,m)&&u++})}function k(r){return Array.prototype.concat.apply([],arguments)}function P(r){var a=r.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=r[h];return u}return[]}function D(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var F=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},W=/&/g,Q=/</g,fe=/>/g,ie=/"/g,le=/'/g,Z=/\x00/g,ke=/[\x00&<>"']/;function _e(r,a){return r<a?-1:r>a?1:0}function Ie(r){return ke.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(W,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(fe,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(ie,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(le,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Z,"&#0;"))),r}function Ve(r,a,u){for(var h in r)a.call(u,r[h],h,r)}function Ge(r){var a={},u;for(u in r)a[u]=r[u];return a}var yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(r,a){for(var u,h,m=1;m<arguments.length;m++){h=arguments[m];for(u in h)r[u]=h[u];for(var v=0;v<yt.length;v++)u=yt[v],Object.prototype.hasOwnProperty.call(h,u)&&(r[u]=h[u])}}var It="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function dn(){}dn.prototype.next=function(){throw It},dn.prototype.ha=function(){return this};function xr(r){if(r instanceof dn)return r;if(typeof r.ha=="function")return r.ha(!1);if(S(r)){var a=0,u=new dn;return u.next=function(){for(;;){if(a>=r.length)throw It;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function Yd(r,a){if(S(r))try{lt(r,a,void 0)}catch(u){if(u!==It)throw u}else{r=xr(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==It)throw u}}}function lo(r){if(S(r))return P(r);r=xr(r);var a=[];return Yd(r,function(u){a.push(u)}),a}function uo(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof uo)for(u=r.ja(),h=0;h<u.length;h++)this.set(u[h],r.get(u[h]));else for(h in r)this.set(h,r[h])}t=uo.prototype,t.la=function(){vn(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return vn(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function vn(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var h=r.a[a];yn(r.g,h)&&(r.a[u++]=h),a++}r.a.length=u}if(r.h!=r.a.length){var m={};for(u=a=0;a<r.a.length;)h=r.a[a],yn(m,h)||(r.a[u++]=h,m[h]=1),a++;r.a.length=u}}t.get=function(r,a){return yn(this.g,r)?this.g[r]:a},t.set=function(r,a){yn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),h=0;h<u.length;h++){var m=u[h],v=this.get(m);r.call(a,v,m,this)}},t.ha=function(r){vn(this);var a=0,u=this.j,h=this,m=new dn;return m.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(a>=h.a.length)throw It;var v=h.a[a++];return r?v:h.g[v]},m};function yn(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Jd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $x(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var h=r[u].indexOf("="),m=null;if(0<=h){var v=r[u].substring(0,h);m=r[u].substring(h+1)}else v=r[u];a(v,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function D1(r,a,u,h){for(var m=u.length;0<=(a=r.indexOf(u,a))&&a<h;){var v=r.charCodeAt(a-1);if((v==38||v==63)&&(v=r.charCodeAt(a+m),!v||v==61||v==38||v==35))return a;a+=m+1}return-1}var L1=/#|$/;function Qd(r,a){var u=r.search(L1),h=D1(r,0,a,u);if(0>h)return null;var m=r.indexOf("&",h);return(0>m||m>u)&&(m=u),h+=a.length+1,decodeURIComponent(r.substr(h,m-h).replace(/\+/g," "))}var jx=/[?&]($|#)/;function as(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof as?(this.i=y(a)?a:r.i,Gm(this,r.j),this.A=r.A,this.h=r.h,Km(this,r.C),this.g=r.g,Ym(this,F1(r.a)),this.s=r.s):r&&(u=String(r).match(Jd))?(this.i=!!a,Gm(this,u[1]||"",!0),this.A=iu(u[2]||""),this.h=iu(u[3]||"",!0),Km(this,u[4]),this.g=iu(u[5]||"",!0),Ym(this,u[6]||"",!0),this.s=iu(u[7]||"")):(this.i=!!a,this.a=new su(null,this.i))}as.prototype.toString=function(){var r=[],a=this.j;a&&r.push(ru(a,M1,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(ru(a,M1,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(ru(u,u.charAt(0)=="/"?qx:Hx,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",ru(u,Wx)),r.join("")};function Gm(r,a,u){r.j=u?iu(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function Km(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Ym(r,a,u){a instanceof su?(r.a=a,Gx(r.a,r.i)):(u||(a=ru(a,zx)),r.a=new su(a,r.i))}function Jm(r){return r instanceof as?new as(r):new as(r,void 0)}function iu(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ru(r,a,u){return w(r)?(r=encodeURI(r).replace(a,Bx),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Bx(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var M1=/[#\/\?@]/g,Hx=/[#\?:]/g,qx=/[#\?]/g,zx=/[#\?@]/g,Wx=/#/g;function su(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function ls(r){r.a||(r.a=new uo,r.g=0,r.h&&$x(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=su.prototype,t.add=function(r,a){ls(this),this.h=null,r=ga(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function co(r,a){ls(r),a=ga(r,a),yn(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,yn(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&vn(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function V1(r,a){return ls(r),a=ga(r,a),yn(r.a.g,a)}t.forEach=function(r,a){ls(this),this.a.forEach(function(u,h){lt(u,function(m){r.call(a,m,h,this)},this)},this)},t.ja=function(){ls(this);for(var r=this.a.la(),a=this.a.ja(),u=[],h=0;h<a.length;h++)for(var m=r[h],v=0;v<m.length;v++)u.push(a[h]);return u},t.la=function(r){ls(this);var a=[];if(w(r))V1(this,r)&&(a=k(a,this.a.get(ga(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=k(a,r[u])}return a},t.set=function(r,a){return ls(this),this.h=null,r=ga(this,r),V1(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var h=a[u],m=encodeURIComponent(String(h));h=this.la(h);for(var v=0;v<h.length;v++){var b=m;h[v]!==""&&(b+="="+encodeURIComponent(String(h[v]))),r.push(b)}}return this.h=r.join("&")};function F1(r){var a=new su;return a.h=r.h,r.a&&(a.a=new uo(r.a),a.g=r.g),a}function ga(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function Gx(r,a){a&&!r.j&&(ls(r),r.h=null,r.a.forEach(function(u,h){var m=h.toLowerCase();h!=m&&(co(this,h),co(this,m),0<u.length&&(this.h=null,this.a.set(ga(this,m),P(u)),this.g+=u.length))},r)),r.j=a}function ho(r){this.a=Jm(r)}function Kx(r,a){a?r.a.a.set(Qt.Sa,a):co(r.a.a,Qt.Sa)}function Yx(r,a){a!==null?r.a.a.set(Qt.Qa,a?"1":"0"):co(r.a.a,Qt.Qa)}function U1(r){return r.a.a.get(Qt.Pa)||null}function $1(r,a){a?r.a.a.set(Qt.PROVIDER_ID,a):co(r.a.a,Qt.PROVIDER_ID)}ho.prototype.toString=function(){return this.a.toString()};var Qt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},va;e:{var j1=g.navigator;if(j1){var B1=j1.userAgent;if(B1){va=B1;break e}}va=""}function Qe(r){return va.indexOf(r)!=-1}function H1(){return(Qe("Chrome")||Qe("CriOS"))&&!Qe("Edge")}function Qm(r){return Qm[" "](r),r}Qm[" "]=I;function Jx(r,a){var u=Zx;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var q1=Qe("Opera"),Vt=Qe("Trident")||Qe("MSIE"),us=Qe("Edge"),Qx=us||Vt,$i=Qe("Gecko")&&!(va.toLowerCase().indexOf("webkit")!=-1&&!Qe("Edge"))&&!(Qe("Trident")||Qe("MSIE"))&&!Qe("Edge"),Jn=va.toLowerCase().indexOf("webkit")!=-1&&!Qe("Edge"),Xx=Jn&&Qe("Mobile"),cs=Qe("Macintosh");function z1(){var r=g.document;return r?r.documentMode:void 0}var Xd;e:{var Xm="",Zm=function(){var r=va;if($i)return/rv:([^\);]+)(\)|;)/.exec(r);if(us)return/Edge\/([\d\.]+)/.exec(r);if(Vt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Jn)return/WebKit\/(\S+)/.exec(r);if(q1)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Zm&&(Xm=Zm?Zm[1]:""),Vt){var eg=z1();if(eg!=null&&eg>parseFloat(Xm)){Xd=String(eg);break e}}Xd=Xm}var Zx={};function fo(r){return Jx(r,function(){for(var a=0,u=F(String(Xd)).split("."),h=F(String(r)).split("."),m=Math.max(u.length,h.length),v=0;a==0&&v<m;v++){var b=u[v]||"",C=h[v]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],b[0].length==0&&C[0].length==0)break;a=_e(b[1].length==0?0:parseInt(b[1],10),C[1].length==0?0:parseInt(C[1],10))||_e(b[2].length==0,C[2].length==0)||_e(b[2],C[2]),b=b[3],C=C[3]}while(a==0)}return 0<=a})}var ou,W1=g.document;ou=W1&&Vt?z1()||(W1.compatMode=="CSS1Compat"?parseInt(Xd,10):5):void 0;function ya(r,a){this.a=r===K1&&a||"",this.g=G1}ya.prototype.ma=!0,ya.prototype.ka=function(){return this.a},ya.prototype.toString=function(){return"Const{"+this.a+"}"};var G1={},K1={};function po(){this.a="",this.h=J1}po.prototype.ma=!0,po.prototype.ka=function(){return this.a.toString()},po.prototype.g=function(){return 1},po.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Y1(r){return r instanceof po&&r.constructor===po&&r.h===J1?r.a:(qe("expected object of type TrustedResourceUrl, got '"+r+"' of type "+x(r)),"type_error:TrustedResourceUrl")}function eO(){var r=zO;r instanceof ya&&r.constructor===ya&&r.g===G1?r=r.a:(qe("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new po;return a.a=r,a}var J1={};function gi(){this.a="",this.h=Z1}gi.prototype.ma=!0,gi.prototype.ka=function(){return this.a.toString()},gi.prototype.g=function(){return 1},gi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ds(r){return r instanceof gi&&r.constructor===gi&&r.h===Z1?r.a:(qe("expected object of type SafeUrl, got '"+r+"' of type "+x(r)),"type_error:SafeUrl")}var Q1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Zd(r){return r instanceof gi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Q1.test(r)||(r="about:invalid#zClosurez"),tg(r))}function X1(r){return r instanceof gi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Q1.test(r)||(r="about:invalid#zClosurez"),tg(r))}var Z1={};function tg(r){var a=new gi;return a.a=r,a}tg("about:blank");function _a(){this.a="",this.g=ew}_a.prototype.ma=!0;var ew={};_a.prototype.ka=function(){return this.a},_a.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function hs(){this.a="",this.j=tw,this.h=null}hs.prototype.g=function(){return this.h},hs.prototype.ma=!0,hs.prototype.ka=function(){return this.a.toString()},hs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function eh(r){return r instanceof hs&&r.constructor===hs&&r.j===tw?r.a:(qe("expected object of type SafeHtml, got '"+r+"' of type "+x(r)),"type_error:SafeHtml")}var tw={};function au(r,a){var u=new hs;return u.a=r,u.h=a,u}au("<!DOCTYPE html>",0);var tO=au("",0);au("<br>",0);var nO=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=eh(tO),!a.parentElement):!1});function iO(r,a){if(r.src=Y1(a),_===null)e:{if(a=g.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&A.test(a)){_=a;break e}_=""}a=_,a&&r.setAttribute("nonce",a)}function wa(r,a){a=a instanceof gi?a:X1(a),r.assign(ds(a))}function fs(r,a){this.a=y(r)?r:0,this.g=y(a)?a:0}fs.prototype.toString=function(){return"("+this.a+", "+this.g+")"},fs.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},fs.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},fs.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function ng(r,a){this.width=r,this.height=a}t=ng.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function th(r){return r?new og(lu(r)):pe||(pe=new og)}function ig(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):nw(document,r,a)}function rg(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var h=a||u;r=h.querySelectorAll&&h.querySelector&&r?h.querySelector(r?"."+r:""):nw(u,r,a)[0]||null}return r||null}function nw(r,a,u){var h;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var m=r.getElementsByClassName(a);return m}if(m=r.getElementsByTagName("*"),a){var v={};for(u=h=0;r=m[u];u++){var b=r.className;typeof b.split=="function"&&$(b.split(/\s+/),a)&&(v[h++]=r)}return v.length=h,v}return m}function rO(r,a){Ve(a,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?r.style.cssText=u:h=="class"?r.className=u:h=="for"?r.htmlFor=u:iw.hasOwnProperty(h)?r.setAttribute(iw[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,u):r[h]=u})}var iw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function nh(r){return r.scrollingElement?r.scrollingElement:(Jn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function mo(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function lu(r){return r.nodeType==9?r:r.ownerDocument||r.document}function sg(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(lu(r).createTextNode(String(a)))}}function rw(r,a){return a?sO(r,function(u){return!a||w(u.className)&&$(u.className.split(/\s+/),a)}):null}function sO(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function og(r){this.a=r||g.document||document}og.prototype.N=function(){return w(void 0)?this.a.getElementById(void 0):void 0};var ih={Fc:!0},sw={Hc:!0},oO={Ec:!0},ow={Gc:!0};function ps(){throw Error("Do not instantiate directly")}ps.prototype.va=null,ps.prototype.toString=function(){return this.content};function uu(r,a,u,h){if(r=r(a||uO,void 0,u),h=(h||th()).a.createElement("DIV"),r=aO(r),r.match(lO),r=au(r,null),nO())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=eh(r),h.childNodes.length==1&&(r=h.firstChild,r.nodeType==1&&(h=r)),h}function aO(r){if(!U(r))return Ie(String(r));if(r instanceof ps){if(r.fa===ih)return r.content;if(r.fa===ow)return Ie(r.content)}return qe("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var lO=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,uO={};function cO(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function rh(){ps.call(this)}H(rh,ps),rh.prototype.fa=ih;function Me(r){return r!=null&&r.fa===ih?r:r instanceof hs?ve(eh(r).toString(),r.g()):ve(Ie(String(String(r))),cO(r))}function sh(){ps.call(this)}H(sh,ps),sh.prototype.fa=sw,sh.prototype.va=1;function oh(r,a){this.content=String(r),this.va=a??null}H(oh,ps),oh.prototype.fa=ow;function ct(r){return new oh(r,void 0)}var ve=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,h){return u=new a(String(u)),h!==void 0&&(u.va=h),u}}(rh),dO=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(sh);function hO(r){function a(){}var u={label:Ft("New password")};a.prototype=r,r=new a;for(var h in u)r[h]=u[h];return r}function Ft(r){return(r=String(r))?new oh(r,void 0):""}var aw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,h){return u=String(u),u?(u=new a(u),h!==void 0&&(u.va=h),u):""}}(rh);function Qn(r){return r!=null&&r.fa===ih?String(String(r.content).replace(_O,"").replace(wO,"&lt;")).replace(gO,pO):Ie(String(r))}function go(r){return r!=null&&r.fa===sw?r=String(r).replace(lg,ag):r instanceof gi?r=String(ds(r).toString()).replace(lg,ag):(r=String(r),yO.test(r)?r=r.replace(lg,ag):(qe("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function lw(r){return r!=null&&r.fa===oO?r=r.content:r==null?r="":r instanceof _a?r instanceof _a&&r.constructor===_a&&r.g===ew?r=r.a:(qe("expected object of type SafeStyle, got '"+r+"' of type "+x(r)),r="type_error:SafeStyle"):(r=String(r),vO.test(r)||(qe("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var fO={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function pO(r){return fO[r]}var mO={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function ag(r){return mO[r]}var gO=/[\x00\x22\x27\x3c\x3e]/g,lg=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,vO=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,yO=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,_O=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,wO=/</g;function ug(){return ct("Enter a valid phone number")}function uw(){return ct("Unable to send password reset code to specified email")}function cw(){return ct("Something went wrong. Please try again.")}function dw(){return ct("This email already exists without any means of sign-in. Please reset the password to recover.")}function hw(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return ct(a)}function fw(){return ct("Please login again to perform this operation")}function cu(r,a,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=bO+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=cw()}r=ct(r).toString()}this.message=r||"",this.credential=u||null}c(cu,Error),cu.prototype.toJSON=function(){return{code:this.code,message:this.message}};var bO="firebaseui/";function vo(){this.T=this.T,this.C=this.C}var EO=0;vo.prototype.T=!1,vo.prototype.m=function(){!this.T&&(this.T=!0,this.o(),EO!=0)&&(this[re]||(this[re]=++J))};function du(r,a){r.T?y(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(y(void 0)?de(a,void 0):a))}vo.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function hu(r){r&&typeof r.m=="function"&&r.m()}var IO=Object.freeze||function(r){return r},pw=!Vt||9<=Number(ou),TO=Vt&&!fo("9"),AO=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{g.addEventListener("test",I,a),g.removeEventListener("test",I,a)}catch{}return r}();function Or(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}Or.prototype.stopPropagation=function(){this.h=!0},Or.prototype.preventDefault=function(){this.qb=!1};function Xn(r,a){if(Or.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if($i){e:{try{Qm(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=w(r.pointerType)?r.pointerType:SO[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}H(Xn,Or);var SO=IO({2:"touch",3:"pen",4:"mouse"});Xn.prototype.stopPropagation=function(){Xn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Xn.prototype.preventDefault=function(){Xn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,TO)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var fu="closure_listenable_"+(1e6*Math.random()|0),CO=0;function RO(r,a,u,h,m){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.La=m,this.key=++CO,this.sa=this.Ia=!1}function ah(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function lh(r){this.src=r,this.a={},this.g=0}lh.prototype.add=function(r,a,u,h,m){var v=r.toString();r=this.a[v],r||(r=this.a[v]=[],this.g++);var b=dg(r,a,h,m);return-1<b?(a=r[b],u||(a.Ia=!1)):(a=new RO(a,this.src,v,!!h,m),a.Ia=u,r.push(a)),a};function cg(r,a){var u=a.type;u in r.a&&ge(r.a[u],a)&&(ah(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function dg(r,a,u,h){for(var m=0;m<r.length;++m){var v=r[m];if(!v.sa&&v.listener==a&&v.capture==!!u&&v.La==h)return m}return-1}var hg="closure_lm_"+(1e6*Math.random()|0),fg={};function ji(r,a,u,h,m){if(h&&h.once)return pu(r,a,u,h,m);if(R(a)){for(var v=0;v<a.length;v++)ji(r,a[v],u,h,m);return null}return u=mg(u),r&&r[fu]?r.J.add(String(a),u,!1,U(h)?!!h.capture:!!h,m):mw(r,a,u,!1,h,m)}function mw(r,a,u,h,m,v){if(!a)throw Error("Invalid event type");var b=U(m)?!!m.capture:!!m,C=uh(r);if(C||(r[hg]=C=new lh(r)),u=C.add(a,u,h,b,v),u.proxy)return u;if(h=kO(),u.proxy=h,h.src=r,h.listener=u,r.addEventListener)AO||(m=b),m===void 0&&(m=!1),r.addEventListener(a.toString(),h,m);else if(r.attachEvent)r.attachEvent(gw(a.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function kO(){var r=PO,a=pw?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function pu(r,a,u,h,m){if(R(a)){for(var v=0;v<a.length;v++)pu(r,a[v],u,h,m);return null}return u=mg(u),r&&r[fu]?r.J.add(String(a),u,!0,U(h)?!!h.capture:!!h,m):mw(r,a,u,!0,h,m)}function yo(r,a,u,h,m){if(R(a))for(var v=0;v<a.length;v++)yo(r,a[v],u,h,m);else h=U(h)?!!h.capture:!!h,u=mg(u),r&&r[fu]?(r=r.J,a=String(a).toString(),a in r.a&&(v=r.a[a],u=dg(v,u,h,m),-1<u&&(ah(v[u]),oe(v,u),v.length==0&&(delete r.a[a],r.g--)))):r&&(r=uh(r))&&(a=r.a[a.toString()],r=-1,a&&(r=dg(a,u,h,m)),(u=-1<r?a[r]:null)&&ms(u))}function ms(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[fu])cg(a.J,r);else{var u=r.type,h=r.proxy;a.removeEventListener?a.removeEventListener(u,h,r.capture):a.detachEvent?a.detachEvent(gw(u),h):a.addListener&&a.removeListener&&a.removeListener(h),(u=uh(a))?(cg(u,r),u.g==0&&(u.src=null,a[hg]=null)):ah(r)}}}function gw(r){return r in fg?fg[r]:fg[r]="on"+r}function vw(r,a,u,h){var m=!0;if((r=uh(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var v=a[r];v&&v.capture==u&&!v.sa&&(v=yw(v,h),m=m&&v!==!1)}return m}function yw(r,a){var u=r.listener,h=r.La||r.src;return r.Ia&&ms(r),u.call(h,a)}function PO(r,a){if(r.sa)return!0;if(!pw){if(!a)e:{a=["window","event"];for(var u=g,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break e}a=u}if(h=a,a=new Xn(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var m=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{m=!0}(m||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],m=a.g;m;m=m.parentNode)h.push(m);for(r=r.type,m=h.length-1;!a.h&&0<=m;m--){a.g=h[m];var v=vw(h[m],r,!0,a);u=u&&v}for(m=0;!a.h&&m<h.length;m++)a.g=h[m],v=vw(h[m],r,!1,a),u=u&&v}return u}return yw(r,new Xn(a,this))}function uh(r){return r=r[hg],r instanceof lh?r:null}var pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function mg(r){return O(r)?r:(r[pg]||(r[pg]=function(a){return r.handleEvent(a)}),r[pg])}function Xt(){vo.call(this),this.J=new lh(this),this.wb=this,this.Ha=null}H(Xt,vo),Xt.prototype[fu]=!0,Xt.prototype.Za=function(r){this.Ha=r},Xt.prototype.removeEventListener=function(r,a,u,h){yo(this,r,a,u,h)};function gs(r,a){var u,h=r.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(r=r.wb,h=a.type||a,w(a))a=new Or(a,r);else if(a instanceof Or)a.target=a.target||r;else{var m=a;a=new Or(h,r),ut(a,m)}if(m=!0,u)for(var v=u.length-1;!a.h&&0<=v;v--){var b=a.g=u[v];m=ch(b,h,!0,a)&&m}if(a.h||(b=a.g=r,m=ch(b,h,!0,a)&&m,a.h||(m=ch(b,h,!1,a)&&m)),u)for(v=0;!a.h&&v<u.length;v++)b=a.g=u[v],m=ch(b,h,!1,a)&&m;return m}Xt.prototype.o=function(){if(Xt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],h=0;h<u.length;h++)ah(u[h]);delete r.a[a],r.g--}}this.Ha=null};function ch(r,a,u,h){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,v=0;v<a.length;++v){var b=a[v];if(b&&!b.sa&&b.capture==u){var C=b.listener,M=b.La||b.src;b.Ia&&cg(r.J,b),m=C.call(M,h)!==!1&&m}}return m&&h.qb!=0}var vi={},_w=0;function ww(r,a){if(!r)throw Error("Event target element must be provided!");if(r=gg(r),vi[r]&&vi[r].length)for(var u=0;u<vi[r].length;u++)gs(vi[r][u],a)}function xO(r){var a=gg(r.N());vi[a]&&vi[a].length&&(Ae(vi[a],function(u){return u==r}),vi[a].length||delete vi[a])}function gg(r){return typeof r.a>"u"&&(r.a=_w,_w++),r.a}function dh(r){if(!r)throw Error("Event target element must be provided!");Xt.call(this),this.a=r}c(dh,Xt),dh.prototype.N=function(){return this.a},dh.prototype.register=function(){var r=gg(this.N());vi[r]?$(vi[r],this)||vi[r].push(this):vi[r]=[this]};function bw(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function vg(r,a){this.h=r,this.j=a,this.g=0,this.a=null}vg.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Ew(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function Iw(){this.g=this.a=null}var Tw=new vg(function(){return new yg},function(r){r.reset()});Iw.prototype.add=function(r,a){var u=Tw.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function OO(){var r=Sw,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function yg(){this.next=this.g=this.a=null}yg.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},yg.prototype.reset=function(){this.next=this.g=this.a=null};function Aw(r){g.setTimeout(function(){throw r},0)}var _g;function NO(){var r=g.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Qe("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var v=m.contentWindow;m=v.document,m.open(),m.write(""),m.close();var b="callImmediate"+Math.random(),C=v.location.protocol=="file:"?"*":v.location.protocol+"//"+v.location.host;m=de(function(M){(C=="*"||M.origin==C)&&M.data==b&&this.port1.onmessage()},this),v.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){v.postMessage(b,C)}}}),typeof r<"u"&&!Qe("Trident")&&!Qe("MSIE")){var a=new r,u={},h=u;return a.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){h.next={gb:m},h=h.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var v=document.createElement("SCRIPT");v.onreadystatechange=function(){v.onreadystatechange=null,v.parentNode.removeChild(v),v=null,m(),m=null},document.documentElement.appendChild(v)}:function(m){g.setTimeout(m,0)}}function wg(r,a){hh||DO(),bg||(hh(),bg=!0),Sw.add(r,a)}var hh;function DO(){if(g.Promise&&g.Promise.resolve){var r=g.Promise.resolve(void 0);hh=function(){r.then(Cw)}}else hh=function(){var a=Cw;!O(g.setImmediate)||g.Window&&g.Window.prototype&&!Qe("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(_g||(_g=NO()),_g(a)):g.setImmediate(a)}}var bg=!1,Sw=new Iw;function Cw(){for(var r;r=OO();){try{r.a.call(r.g)}catch(a){Aw(a)}Ew(Tw,r)}bg=!1}function Zt(r){if(this.a=_o,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=I)try{var a=this;r.call(void 0,function(u){wo(a,mu,u)},function(u){if(!(u instanceof Ea))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}wo(a,Nr,u)})}catch(u){wo(this,Nr,u)}}var _o=0,mu=2,Nr=3;function Rw(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Rw.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var kw=new vg(function(){return new Rw},function(r){r.reset()});function Eg(r,a,u){var h=kw.get();return h.s=r,h.g=a,h.j=u,h}function Ut(r){if(r instanceof Zt)return r;var a=new Zt(I);return wo(a,mu,r),a}function ba(r){return new Zt(function(a,u){u(r)})}Zt.prototype.then=function(r,a,u){return xw(this,O(r)?r:null,O(a)?a:null,u)},Zt.prototype.$goog_Thenable=!0,t=Zt.prototype,t.fc=function(r,a){return r=Eg(r,r,a),r.h=!0,Ig(this,r),this},t.Ca=function(r,a){return xw(this,null,r,a)},t.cancel=function(r){this.a==_o&&wg(function(){var a=new Ea(r);Pw(this,a)},this)};function Pw(r,a){if(r.a==_o)if(r.h){var u=r.h;if(u.g){for(var h=0,m=null,v=null,b=u.g;b&&(b.h||(h++,b.a==r&&(m=b),!(m&&1<h)));b=b.next)m||(v=b);m&&(u.a==_o&&h==1?Pw(u,a):(v?(h=v,h.next==u.j&&(u.j=h),h.next=h.next.next):Nw(u),Dw(u,m,Nr,a)))}r.h=null}else wo(r,Nr,a)}function Ig(r,a){r.g||r.a!=mu&&r.a!=Nr||Ow(r),r.j?r.j.next=a:r.g=a,r.j=a}function xw(r,a,u,h){var m=Eg(null,null,null);return m.a=new Zt(function(v,b){m.s=a?function(C){try{var M=a.call(h,C);v(M)}catch(te){b(te)}}:v,m.g=u?function(C){try{var M=u.call(h,C);!y(M)&&C instanceof Ea?b(C):v(M)}catch(te){b(te)}}:b}),m.a.h=r,Ig(r,m),m.a}t.hc=function(r){this.a=_o,wo(this,mu,r)},t.ic=function(r){this.a=_o,wo(this,Nr,r)};function wo(r,a,u){if(r.a==_o){r===u&&(a=Nr,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var h=u,m=r.hc,v=r.ic;if(h instanceof Zt){Ig(h,Eg(m||I,v||null,r));var b=!0}else if(bw(h))h.then(m,v,r),b=!0;else{if(U(h))try{var C=h.then;if(O(C)){LO(h,C,m,v,r),b=!0;break e}}catch(M){v.call(r,M),b=!0;break e}b=!1}}b||(r.A=u,r.a=a,r.h=null,Ow(r),a!=Nr||u instanceof Ea||MO(r,u))}}function LO(r,a,u,h,m){function v(M){C||(C=!0,h.call(m,M))}function b(M){C||(C=!0,u.call(m,M))}var C=!1;try{a.call(r,b,v)}catch(M){v(M)}}function Ow(r){r.i||(r.i=!0,wg(r.Hb,r))}function Nw(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=Nw(this);)Dw(this,r,this.a,this.A);this.i=!1};function Dw(r,a,u,h){if(u==Nr&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,Lw(a,u,h);else try{a.h?a.s.call(a.j):Lw(a,u,h)}catch(m){Mw.call(null,m)}Ew(kw,a)}function Lw(r,a,u){a==mu?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function MO(r,a){r.s=!0,wg(function(){r.s&&Mw.call(null,a)})}var Mw=Aw;function Ea(r){B.call(this,r)}H(Ea,B),Ea.prototype.name="cancel";function Vw(r,a,u){a||(a={}),u=u||window;var h=r instanceof gi?r:Zd(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var m=[];for(v in a)switch(v){case"width":case"height":case"top":case"left":m.push(v+"="+a[v]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(v+"="+(a[v]?1:0))}var v=m.join(",");return(Qe("iPhone")&&!Qe("iPod")&&!Qe("iPad")||Qe("iPad")||Qe("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(v=u.document.createElement("A"),h=h instanceof gi?h:X1(h),v.href=ds(h),v.setAttribute("target",r),a.noreferrer&&v.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),v.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,v),a=ds(h).toString(),u&&(Qx&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=au('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ie(a)+'">',null),u.document.write(eh(a)),u.document.close())):(u=u.open(ds(h).toString(),r,v))&&a.noopener&&(u.opener=null),u}function Fw(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Ia(r){Vw(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function fh(r,a){if(r=U(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function Dr(){return window.location.href}function VO(){var r=null;return new Zt(function(a){g.document.readyState=="complete"?a():(r=function(){a()},pu(window,"load",r))}).Ca(function(a){throw yo(window,"load",r),a})}function FO(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function UO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(h){return a.includes(h)}).reduce(function(h,m){return h[m]=r[m],h},u)}function vs(r){var a=BO;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}vs.prototype.cancel=function(r){if(this.a)this.h instanceof vs&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new vu,ph(this),gu(this,!1,r))}},vs.prototype.L=function(r,a){this.A=!1,gu(this,r,a)};function gu(r,a,u){r.a=!0,r.h=u,r.j=!a,jw(r)}function ph(r){if(r.a){if(!r.J)throw new mh;r.J=!1}}vs.prototype.callback=function(r){ph(this),gu(this,!0,r)};function Uw(r,a,u){r.s.push([a,u,void 0]),r.a&&jw(r)}vs.prototype.then=function(r,a,u){var h,m,v=new Zt(function(b,C){h=b,m=C});return Uw(this,h,function(b){b instanceof vu?v.cancel():m(b)}),v.then(r,a,u)},vs.prototype.$goog_Thenable=!0;function $w(r){return gn(r.s,function(a){return O(a[1])})}function jw(r){if(r.i&&r.a&&$w(r)){var a=r.i,u=gh[a];u&&(g.clearTimeout(u.a),delete gh[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var h=u=!1;r.s.length&&!r.A;){var m=r.s.shift(),v=m[0],b=m[1];if(m=m[2],v=r.j?b:v)try{var C=v.call(m||r.O,a);y(C)&&(r.j=r.j&&(C==a||C instanceof Error),r.h=a=C),(bw(a)||typeof g.Promise=="function"&&a instanceof g.Promise)&&(h=!0,r.A=!0)}catch(M){a=M,r.j=!0,$w(r)||(u=!0)}}r.h=a,h&&(C=de(r.L,r,!0),h=de(r.L,r,!1),a instanceof vs?(Uw(a,C,h),a.l=!0):a.then(C,h)),u&&(a=new Bw(a),gh[a.a]=a,r.i=a.a)}function mh(){B.call(this)}H(mh,B),mh.prototype.message="Deferred has already fired",mh.prototype.name="AlreadyCalledError";function vu(){B.call(this)}H(vu,B),vu.prototype.message="Deferred was canceled",vu.prototype.name="CanceledError";function Bw(r){this.a=g.setTimeout(de(this.h,this),0),this.g=r}Bw.prototype.h=function(){throw delete gh[this.a],this.g};var gh={};function $O(r){var a={},u=a.document||document,h=Y1(r).toString(),m=document.createElement("SCRIPT"),v={rb:m,sb:void 0},b=new vs(v),C=null,M=a.timeout!=null?a.timeout:5e3;return 0<M&&(C=window.setTimeout(function(){vh(m,!0);var te=new Tg(qO,"Timeout reached for loading script "+h);ph(b),gu(b,!1,te)},M),v.sb=C),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(vh(m,a.xc||!1,C),b.callback(null))},m.onerror=function(){vh(m,!0,C);var te=new Tg(HO,"Error while loading script "+h);ph(b),gu(b,!1,te)},v=a.attributes||{},ut(v,{type:"text/javascript",charset:"UTF-8"}),rO(m,v),iO(m,r),jO(u).appendChild(m),b}function jO(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function BO(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&vh(r,!0,this.sb)}}function vh(r,a,u){u!=null&&g.clearTimeout(u),r.onload=I,r.onerror=I,r.onreadystatechange=I,a&&window.setTimeout(function(){mo(r)},0)}var HO=0,qO=1;function Tg(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),B.call(this,u),this.code=r}H(Tg,B);function yu(){return g.google&&g.google.accounts&&g.google.accounts.id||null}function Ag(r){this.a=r||yu(),this.h=!1,this.g=null}Ag.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function Hw(r,a,u){if(r.a&&a)return function(){return r.h=!0,new Zt(function(m){r.g=m,r.a.initialize({client_id:a,callback:m,auto_select:!u}),r.a.prompt()})}();if(a){var h=Sg.Xa().load().then(function(){return r.a=yu(),Hw(r,a,u)}).Ca(function(){return null});return Ut(h)}return Ut(null)}T(Ag);var zO=new ya(K1,"https://accounts.google.com/gsi/client");function Sg(){this.a=null}Sg.prototype.load=function(){var r=this;if(this.a)return this.a;var a=eO();return yu()?Ut():this.a=VO().then(function(){if(!yu())return new Zt(function(u,h){var m=setTimeout(function(){r.a=null,h(Error("Network error!"))},1e4);g.onGoogleLibraryLoad=function(){clearTimeout(m),u()},Ut($O(a)).then(function(){yu()&&u()}).Ca(function(v){clearTimeout(m),r.a=null,h(v)})})})},T(Sg);function Cg(r,a){this.a=r,this.g=a||function(u){throw u}}Cg.prototype.confirm=function(r){return Ut(this.a.confirm(r)).Ca(this.g)};function Rg(r,a,u){this.reset(r,a,u,void 0,void 0)}Rg.prototype.a=null,Rg.prototype.reset=function(r,a,u,h,m){this.h=h||ot(),this.j=r,this.s=a,this.g=u,delete this.a};function kg(r){this.s=r,this.a=this.h=this.j=this.g=null}function yh(r,a){this.name=r,this.value=a}yh.prototype.toString=function(){return this.name};var qw=new yh("SEVERE",1e3),zw=new yh("WARNING",900),Ww=new yh("CONFIG",700);function Gw(r){return r.j?r.j:r.g?Gw(r.g):(qe("Root logger has no level set."),null)}kg.prototype.log=function(r,a,u){if(r.value>=Gw(this).value)for(O(a)&&(a=a()),r=new Rg(r,String(a),this.s),u&&(r.a=u),u=this;u;){var h=u,m=r;if(h.a)for(var v=0;a=h.a[v];v++)a(m);u=u.g}};var Pg={},_u=null;function Kw(){_u||(_u=new kg(""),Pg[""]=_u,_u.j=Ww)}function Yw(r){Kw();var a;if(!(a=Pg[r])){a=new kg(r);var u=r.lastIndexOf("."),h=r.substr(u+1);u=Yw(r.substr(0,u)),u.h||(u.h={}),u.h[h]=a,a.g=u,Pg[r]=a}return a}function _h(){this.a=ot()}var xg=null;_h.prototype.set=function(r){this.a=r},_h.prototype.reset=function(){this.set(ot())},_h.prototype.get=function(){return this.a};function wu(r){this.j=r||"",xg||(xg=new _h),this.s=xg}wu.prototype.a=!0,wu.prototype.g=!0,wu.prototype.h=!1;function bo(r){return 10>r?"0"+r:String(r)}function WO(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function Jw(r){wu.call(this,r)}H(Jw,wu);function GO(r,a){var u=[];if(u.push(r.j," "),r.g){var h=new Date(a.h);u.push("[",bo(h.getFullYear()-2e3)+bo(h.getMonth()+1)+bo(h.getDate())+" "+bo(h.getHours())+":"+bo(h.getMinutes())+":"+bo(h.getSeconds())+"."+bo(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",WO(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function Qw(){this.s=de(this.h,this),this.a=new Jw,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Qw.prototype.h=function(r){function a(v){if(v){if(v.value>=qw.value)return"error";if(v.value>=zw.value)return"warn";if(v.value>=Ww.value)return"log"}return"debug"}if(!this.j[r.g]){var u=GO(this.a,r),h=KO;if(h){var m=a(r.j);YO(h,m,u,r.a)}}};var KO=g.console;function YO(r,a,u,h){r[a]?r[a](u,h||""):r.log(u,h||"")}function yi(r,a){var u=Og;u&&u.log(qw,r,a)}var Og;Og=Yw("firebaseui");var Ng=new Qw;if(Ng.g!=1){var wh;Kw(),wh=_u;var JO=Ng.s;wh.a||(wh.a=[]),wh.a.push(JO),Ng.g=!0}function ys(r){var a=Og;a&&a.log(zw,r,void 0)}function Xw(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=Xw.prototype,t.set=function(r,a,u,h,m,v){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');y(u)||(u=-1),m=m?";domain="+m:"",h=h?";path="+h:"",v=v?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(ot()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+m+h+u+v},t.get=function(r,a){for(var u=r+"=",h=(this.a.cookie||"").split(";"),m=0,v;m<h.length;m++){if(v=F(h[m]),v.lastIndexOf(u,0)==0)return v.substr(u.length);if(v==r)return""}return a},t.ja=function(){return Dg(this).keys},t.la=function(){return Dg(this).values},t.clear=function(){for(var r=Dg(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function Dg(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],h,m,v=0;v<r.length;v++)m=F(r[v]),h=m.indexOf("="),h==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,h)),u.push(m.substring(h+1)));return{keys:a,values:u}}var bh=new Xw;function Zw(){}function Ta(r,a,u,h){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!h}c(Ta,Zw),Ta.prototype.set=function(r,a){bh.set(r,a,this.h,this.g,this.a,this.j)},Ta.prototype.get=function(r){return bh.get(r)||null},Ta.prototype.ra=function(r){var a=this.g,u=this.a;bh.get(r),bh.set(r,"",0,a,u)};function Lg(r,a){this.g=r,this.a=a||null}function eb(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function tb(r){if(r&&r.email){var a=r.credential&&Se.auth.AuthCredential.fromJSON(r.credential);return new Lg(r.email,a)}return null}function nb(r){this.a=r||null}function ib(r){for(var a=[],u=0,h=0;h<r.length;h++){var m=r.charCodeAt(h);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function QO(r){return ma(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function Eh(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Aa*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<Aa*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,lb(a),a[0]^=Th[r/this.g][0],a[1]^=Th[r/this.g][1],a[2]^=Th[r/this.g][2],a[3]^=Th[r/this.g][3]}else 6<this.g&&r%this.g==4&&lb(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}Eh.prototype.A=16;var Aa=Eh.prototype.A/4;function rb(r,a){for(var u,h=0;h<Aa;h++)for(var m=0;4>m;m++)u=4*m+h,u=a[u],r.h[h][m]=u}function sb(r){for(var a=[],u=0;u<Aa;u++)for(var h=0;4>h;h++)a[4*h+u]=r.h[u][h];return a}function Sa(r,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)r.h[u][h]^=r.a[4*a+h][u]}function Ih(r,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)r.h[u][h]=a[r.h[u][h]]}function ob(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%Aa]}function ab(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%Aa]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function lb(r){r[0]=Ca[r[0]],r[1]=Ca[r[1]],r[2]=Ca[r[2]],r[3]=Ca[r[3]]}var Ca=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ub=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Th=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ah=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Sh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Ch=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Rh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],kh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ph=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function cb(r,a){r=new Eh(hb(r)),a=ib(a);for(var u=a.splice(0,16),h="",m;u.length;){m=16-u.length;for(var v=0;v<m;v++)u.push(0);for(m=r,rb(m,u),Sa(m,0),u=1;u<m.j;++u){Ih(m,Ca),ob(m),v=m.h;for(var b=m.s[0],C=0;4>C;C++)b[0]=v[0][C],b[1]=v[1][C],b[2]=v[2][C],b[3]=v[3][C],v[0][C]=Ah[b[0]]^Sh[b[1]]^b[2]^b[3],v[1][C]=b[0]^Ah[b[1]]^Sh[b[2]]^b[3],v[2][C]=b[0]^b[1]^Ah[b[2]]^Sh[b[3]],v[3][C]=Sh[b[0]]^b[1]^b[2]^Ah[b[3]];Sa(m,u)}Ih(m,Ca),ob(m),Sa(m,m.j),h+=QO(sb(m)),u=a.splice(0,16)}return h}function db(r,a){r=new Eh(hb(r));for(var u=[],h=0;h<a.length;h+=2)u.push(parseInt(a.substring(h,h+2),16));var m=u.splice(0,16);for(a="";m.length;){for(h=r,rb(h,m),Sa(h,h.j),m=1;m<h.j;++m){ab(h),Ih(h,ub),Sa(h,h.j-m);for(var v=h.h,b=h.s[0],C=0;4>C;C++)b[0]=v[0][C],b[1]=v[1][C],b[2]=v[2][C],b[3]=v[3][C],v[0][C]=Ph[b[0]]^Rh[b[1]]^kh[b[2]]^Ch[b[3]],v[1][C]=Ch[b[0]]^Ph[b[1]]^Rh[b[2]]^kh[b[3]],v[2][C]=kh[b[0]]^Ch[b[1]]^Ph[b[2]]^Rh[b[3]],v[3][C]=Rh[b[0]]^kh[b[1]]^Ch[b[2]]^Ph[b[3]]}if(ab(h),Ih(h,ub),Sa(h,0),h=sb(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(m="",v=0;v<h.length;v+=8192)m+=String.fromCharCode.apply(null,D(h,v,v+8192));h=m}a+=h,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function hb(r){r=ib(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function fb(r){var a=[];return Mg(new XO,r,a),a.join("")}function XO(){}function Mg(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(R(a)){var h=a;a=h.length,u.push("[");for(var m="",v=0;v<a;v++)u.push(m),Mg(r,h[v],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(v=a[h],typeof v!="function"&&(u.push(m),mb(h,u),u.push(":"),Mg(r,v,u),m=","));u.push("}");return}}switch(typeof a){case"string":mb(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var pb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},ZO=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function mb(r,a){a.push('"',r.replace(ZO,function(u){var h=pb[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),pb[u]=h),h}),'"')}function bu(r){this.a=r}bu.prototype.set=function(r,a){y(a)?this.a.set(r,fb(a)):this.a.ra(r)},bu.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function xh(){}H(xh,Zw),xh.prototype.clear=function(){var r=lo(this.ha(!0)),a=this;lt(r,function(u){a.ra(u)})};function Oh(r){this.a=r}H(Oh,xh);function Nh(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=Oh.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!w(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,h=new dn;return h.next=function(){if(a>=u.length)throw It;var m=u.key(a++);if(r)return m;if(m=u.getItem(m),!w(m))throw"Storage mechanism: Invalid value was encountered";return m},h},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function Vg(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}H(Vg,Oh);function Fg(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}H(Fg,Oh);function Ra(r,a){this.g=r,this.a=a+"::"}H(Ra,xh),Ra.prototype.set=function(r,a){this.g.set(this.a+r,a)},Ra.prototype.get=function(r){return this.g.get(this.a+r)},Ra.prototype.ra=function(r){this.g.ra(this.a+r)},Ra.prototype.ha=function(r){var a=this.g.ha(!0),u=this,h=new dn;return h.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return r?m.substr(u.a.length):u.g.get(m)},h},Nh(new Vg);var gb,vb=new Fg;gb=Nh(vb)?new Ra(vb,"firebaseui"):null;var Ug=new bu(gb),$g={name:"pendingEmailCredential",storage:Ug},Eo={name:"redirectStatus",storage:Ug},Eu={name:"redirectUrl",storage:Ug},ka={name:"emailForSignIn",storage:new bu(new Ta(3600,"/"))},Iu={name:"pendingEncryptedCredential",storage:new bu(new Ta(3600,"/"))};function Pa(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function li(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function xa(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function yb(r){return Pa(Eu,r)||null}function rr(r){return r=Pa($g,r)||null,tb(r)}function sr(r){li($g,r)}function _b(r,a){xa($g,eb(r),a)}function jg(r){return(r=Pa(Eo,r)||null)&&typeof r.tenantId<"u"?new nb(r.tenantId):null}function eN(r,a){xa(Eo,{tenantId:r.a},a)}function tN(r,a){a=Pa(ka,a);var u=null;if(a)try{var h=db(r,a),m=JSON.parse(h);u=m&&m.email||null}catch{}return u}function nN(r,a){a=Pa(Iu,a);var u=null;if(a)try{var h=db(r,a);u=JSON.parse(h)}catch{}return tb(u||null)}function iN(r,a,u){xa(Iu,cb(r,JSON.stringify(eb(a))),u)}function Bg(){this.W={}}function zt(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function Hg(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}Bg.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function qg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function zg(){this.g=void 0,this.a={}}t=zg.prototype,t.set=function(r,a){wb(this,r,a,!1)},t.add=function(r,a){wb(this,r,a,!0)};function wb(r,a,u,h){for(var m=0;m<a.length;m++){var v=a.charAt(m);r.a[v]||(r.a[v]=new zg),r=r.a[v]}if(h&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return bb(this,r),r};function bb(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)bb(r.a[u],a)}t.ja=function(){var r=[];return Eb(this,"",r),r};function Eb(r,a,u){r.g!==void 0&&u.push(a);for(var h in r.a)Eb(r.a[h],a+h,u)}t.clear=function(){this.a={},this.g=void 0};function Ib(r){for(this.a=r,this.g=new zg,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function Dh(r,a){r=r.g;var u={},h=0;for(r.g!==void 0&&(u[h]=r.g);h<a.length;h++){var m=a.charAt(h);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(u[h]=r.g)}for(var v in u)if(u.hasOwnProperty(v))return u[v];return[]}function Io(r){for(var a=0;a<Zn.length;a++)if(Zn[a].c===r)return Zn[a];return null}function Tb(r){r=r.toUpperCase();for(var a=[],u=0;u<Zn.length;u++)Zn[u].f===r&&a.push(Zn[u]);return a}function Ab(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Zn.length;u++)Zn[u].b==r&&a.push(Zn[u]);r=a}else r=Tb(r);return r}function Sb(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Zn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];Sb(Zn);var Tu=new Ib(Zn);function Cb(r,a){this.a=r,this.Aa=a}function Rb(r){r=F(r);var a=Dh(Tu,r);return 0<a.length?new Cb(a[0].b=="1"?"1-US-0":a[0].c,F(r.substr(a[0].b.length+1))):null}function Wg(r){var a=Io(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function kb(r,a){for(var u=0;u<r.length;u++)if(!$(Pb,r[u])&&(Oa!==null&&r[u]in Oa||$(a,r[u])))return r[u];return null}var Pb=["emailLink","password","phone"],Oa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function rN(){this.a=new Bg,zt(this.a,"autoUpgradeAnonymousUsers"),zt(this.a,"callbacks"),zt(this.a,"credentialHelper",Vh),zt(this.a,"immediateFederatedRedirect",!1),zt(this.a,"popupMode",!1),zt(this.a,"privacyPolicyUrl"),zt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),zt(this.a,"queryParameterForWidgetMode","mode"),zt(this.a,"signInFlow"),zt(this.a,"signInOptions"),zt(this.a,"signInSuccessUrl"),zt(this.a,"siteName"),zt(this.a,"tosUrl"),zt(this.a,"widgetUrl"),zt(this.a,"adminRestrictedOperation")}function Lh(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!$b(r)&&yi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function Mh(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var h=r[u];h=U(h)?h:{provider:h},h.provider&&a.push(h)}return a}function _i(r,a){r=Mh(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function Na(r){return Mh(r).map(function(a){return a.provider})}function Au(r,a){r=xb(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function xb(r){return Mh(r).map(function(a){if(Oa[a.provider]||$(pN,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?ds(Zd(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?ds(Zd(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function Ob(r){var a=_i(r,Se.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in r=r.a.get("credentialHelper"),Qg)if(Qg[h]===r){var h=Qg[h];break e}}h=Vh}u=h===Jg}return u&&a.clientId||null}function Nb(r){return r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function To(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function sN(r){var a=null;if(Mh(r).forEach(function(h){h.provider==Se.auth.PhoneAuthProvider.PROVIDER_ID&&U(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(a=Ge(h.recaptchaParameters))}),a){var u=[];mN.forEach(function(h){typeof a[h]<"u"&&(u.push(h),delete a[h])}),u.length&&ys('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function oN(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function aN(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){Ia(a)}}return null}function lN(r){return(r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function uN(r){if((r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){Ia(a)}}return null}function Db(r,a){return r=(r=_i(r,a))&&r.scopes,Array.isArray(r)?r:[]}function Lb(r,a){return r=(r=_i(r,a))&&r.customParameters,U(r)?(r=Ge(r),a===Se.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===Se.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function cN(r){r=_i(r,Se.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=Rb(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function dN(r){var a=(r=_i(r,Se.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&Tb(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=Rb(r.loginHint)),a&&a[0]||u&&Io(u.a)||null}function Gg(r){if(r=_i(r,Se.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Zn;if(r=[],a){u={};for(var h=0;h<a.length;h++)for(var m=Ab(a[h]),v=0;v<m.length;v++)u[m[v].c]=m[v];for(var b in u)u.hasOwnProperty(b)&&r.push(u[b])}else{for(b={},a=0;a<u.length;a++)for(m=Ab(u[a]),h=0;h<m.length;h++)b[m[h].c]=m[h];for(m=0;m<Zn.length;m++)b!==null&&Zn[m].c in b||r.push(Zn[m])}return r}function Mb(r){return qg(r.a,"queryParameterForWidgetMode")}function Wt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&ys("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){Ia(a)}}return null}function Gt(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&ys("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Ia(u)}}return null}function Vb(r){return(r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function Da(r){return r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==Se.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function hN(r){return r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function fN(r){if(Da(r)){var a={url:Dr(),handleCodeInApp:!0};(r=_i(r,Se.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&ut(a,r.emailLinkSignIn()),r=a.url;var u=Dr();u instanceof as||(u=Jm(u)),r instanceof as||(r=Jm(r));var h=u;u=new as(h);var m=!!r.j;m?Gm(u,r.j):m=!!r.A,m?u.A=r.A:m=!!r.h,m?u.h=r.h:m=r.C!=null;var v=r.g;if(m)Km(u,r.C);else if(m=!!r.g){if(v.charAt(0)!="/"&&(h.h&&!h.g?v="/"+v:(h=u.g.lastIndexOf("/"),h!=-1&&(v=u.g.substr(0,h+1)+v))),v==".."||v==".")v="";else if(v.indexOf("./")!=-1||v.indexOf("/.")!=-1){h=v.lastIndexOf("/",0)==0,v=v.split("/");for(var b=[],C=0;C<v.length;){var M=v[C++];M=="."?h&&C==v.length&&b.push(""):M==".."?((1<b.length||b.length==1&&b[0]!="")&&b.pop(),h&&C==v.length&&b.push("")):(b.push(M),h=!0)}v=b.join("/")}}return m?u.g=v:m=r.a.toString()!=="",m?Ym(u,F1(r.a)):m=!!r.s,m&&(u.s=r.s),a.url=u.toString(),a}return null}function Kg(r){var a=!!r.a.get("immediateFederatedRedirect"),u=Na(r);return r=Fb(r),a&&u.length==1&&!$(Pb,u[0])&&r==Fh}function Fb(r){r=r.a.get("signInFlow");for(var a in Xg)if(Xg[a]==r)return Xg[a];return Fh}function Yg(r){return Su(r).signInSuccess||null}function Ub(r){return Su(r).signInSuccessWithAuthResult||null}function $b(r){return Su(r).signInFailure||null}function Su(r){return r.a.get("callbacks")||{}}var Jg="googleyolo",Vh="none",Qg={nc:Jg,NONE:Vh},Fh="redirect",Xg={qc:"popup",rc:Fh},Zg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},pN=["anonymous"],mN=["sitekey","tabindex","callback","expired-callback"],Cu,La,ev,jb,pt={};function we(r,a,u,h){pt[r].apply(null,Array.prototype.slice.call(arguments,1))}function Bb(r){return r.classList?r.classList:(r=r.className,w(r)&&r.match(/\S+/g)||[])}function Ru(r,a){return r.classList?r.classList.contains(a):$(Bb(r),a)}function or(r,a){r.classList?r.classList.add(a):Ru(r,a)||(r.className+=0<r.className.length?" "+a:a)}function ar(r,a){r.classList?r.classList.remove(a):Ru(r,a)&&(r.className=ir(Bb(r),function(u){return u!=a}).join(" "))}function _n(r){var a=r.type;switch(w(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,h=0;u=r.options[h];h++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function Hb(r,a){var u=r.type;switch(w(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,w(a)){for(var h=0;u=r.options[h];h++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(w(a)&&(a=[a]),h=0;u=r.options[h];h++)if(u.selected=!1,a)for(var m,v=0;m=a[v];v++)u.value==m&&(u.selected=!0);break;default:r.value=a??""}}function gN(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(ku(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!$i;default:return 166>r.keyCode||183<r.keyCode}}function qb(r,a,u,h,m,v){if(Jn&&!fo("525"))return!0;if(cs&&m)return ku(r);if(m&&!h)return!1;if(!$i){typeof a=="number"&&(a=tv(a));var b=a==17||a==18||cs&&a==91;if((!u||cs)&&b||cs&&a==16&&(h||v))return!1}if((Jn||us)&&h&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Vt&&h&&a==r)return!1;switch(r){case 13:return $i?v||m?!1:!(u&&h):!0;case 27:return!(Jn||us||$i)}return $i&&(h||m||v)?!1:ku(r)}function ku(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Jn||us)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return $i;default:return!1}}function tv(r){if($i)r=vN(r);else if(cs&&Jn)switch(r){case 93:r=91}return r}function vN(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function Ma(r){Xt.call(this),this.a=r,ji(r,"keydown",this.g,!1,this),ji(r,"click",this.h,!1,this)}H(Ma,Xt),Ma.prototype.g=function(r){(r.keyCode==13||Jn&&r.keyCode==3)&&zb(this,r)},Ma.prototype.h=function(r){zb(this,r)};function zb(r,a){var u=new Gb(a);if(gs(r,u)){u=new Wb(a);try{gs(r,u)}finally{a.stopPropagation()}}}Ma.prototype.o=function(){Ma.K.o.call(this),yo(this.a,"keydown",this.g,!1,this),yo(this.a,"click",this.h,!1,this),delete this.a};function Wb(r){Xn.call(this,r.a),this.type="action"}H(Wb,Xn);function Gb(r){Xn.call(this,r.a),this.type="beforeaction"}H(Gb,Xn);function Va(r){Xt.call(this),this.a=r,r=Vt?"focusout":"blur",this.g=ji(this.a,Vt?"focusin":"focus",this,!Vt),this.h=ji(this.a,r,this,!Vt)}H(Va,Xt),Va.prototype.handleEvent=function(r){var a=new Xn(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",gs(this,a)},Va.prototype.o=function(){Va.K.o.call(this),ms(this.g),ms(this.h),delete this.a};function Uh(r,a){Xt.call(this),this.g=r||1,this.a=a||g,this.h=de(this.gc,this),this.j=ot()}H(Uh,Xt),t=Uh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=ot()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),gs(this,"tick"),this.Ka&&($h(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=ot())};function $h(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){Uh.K.o.call(this),$h(this),delete this.a};function yN(r,a){if(O(r))a&&(r=de(r,a));else if(r&&typeof r.handleEvent=="function")r=de(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:g.setTimeout(r,0)}function Fa(r){vo.call(this),this.g=r,this.a={}}H(Fa,vo);var Kb=[];function Ua(r,a,u,h){R(u)||(u&&(Kb[0]=u.toString()),u=Kb);for(var m=0;m<u.length;m++){var v=ji(a,u[m],h||r.handleEvent,!1,r.g||r);if(!v)break;r.a[v.key]=v}}function Yb(r){Ve(r.a,function(a,u){this.a.hasOwnProperty(u)&&ms(a)},r),r.a={}}Fa.prototype.o=function(){Fa.K.o.call(this),Yb(this)},Fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pu(r){Xt.call(this),this.a=null,this.g=r,r=Vt||us||Jn&&!fo("531")&&r.tagName=="TEXTAREA",this.h=new Fa(this),Ua(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}H(Pu,Xt),Pu.prototype.handleEvent=function(r){if(r.type=="input")Vt&&fo(10)&&r.keyCode==0&&r.j==0||(nv(this),gs(this,Jb(r)));else if(r.type!="keydown"||gN(r)){var a=r.type=="keydown"?this.g.value:null;Vt&&r.keyCode==229&&(a=null);var u=Jb(r);nv(this),this.a=yN(function(){this.a=null,this.g.value!=a&&gs(this,u)},this)}};function nv(r){r.a!=null&&(g.clearTimeout(r.a),r.a=null)}function Jb(r){return r=new Xn(r.a),r.type="input",r}Pu.prototype.o=function(){Pu.K.o.call(this),this.h.m(),nv(this),delete this.g};function xu(r,a){Xt.call(this),r&&(this.Oa&&tE(this),this.qa=r,this.Na=ji(this.qa,"keypress",this,a),this.Ya=ji(this.qa,"keydown",this.Jb,a,this),this.Oa=ji(this.qa,"keyup",this.Kb,a,this))}H(xu,Xt),t=xu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var Qb={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Xb={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Zb=!Jn||fo("525"),eE=cs&&$i;t=xu.prototype,t.Jb=function(r){(Jn||us)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||cs&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),Zb&&!qb(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=tv(r.keyCode),eE&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Vt&&r.type=="keypress")var h=this.X,m=h!=13&&h!=27?a.keyCode:0;else(Jn||us)&&r.type=="keypress"?(h=this.X,m=0<=a.charCode&&63232>a.charCode&&ku(h)?a.charCode:0):q1&&!Jn?(h=this.X,m=ku(h)?a.keyCode:0):(r.type=="keypress"?(eE&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(h=a.keyCode,m=0):(h=this.X,m=a.charCode):(h=a.keyCode||this.X,m=a.charCode||0)):(h=a.keyCode||this.X,m=a.charCode||0),cs&&m==63&&h==224&&(h=191));var v=h=tv(h);h?63232<=h&&h in Qb?v=Qb[h]:h==25&&r.shiftKey&&(v=9):a.keyIdentifier&&a.keyIdentifier in Xb&&(v=Xb[a.keyIdentifier]),$i&&Zb&&r.type=="keypress"&&!qb(v,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=v==this.R,this.R=v,a=new nE(v,m,r,a),a.altKey=u,gs(this,a))},t.N=function(){return this.qa};function tE(r){r.Na&&(ms(r.Na),ms(r.Ya),ms(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){xu.K.o.call(this),tE(this)};function nE(r,a,u,h){Xn.call(this,h),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}H(nE,Xn);function $a(r,a,u,h){this.top=r,this.right=a,this.bottom=u,this.left=h}$a.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},$a.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},$a.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},$a.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function jh(r,a){var u=lu(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function iE(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Vt&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function _N(r,a){a=a||nh(document);var u=a||nh(document),h=rE(r),m=rE(u);if(!Vt||9<=Number(ou)){b=jh(u,"borderLeftWidth");var v=jh(u,"borderRightWidth");C=jh(u,"borderTopWidth"),M=jh(u,"borderBottomWidth"),v=new $a(parseFloat(C),parseFloat(v),parseFloat(M),parseFloat(b))}else{var b=Bh(u,"borderLeft");v=Bh(u,"borderRight");var C=Bh(u,"borderTop"),M=Bh(u,"borderBottom");v=new $a(C,v,M,b)}u==nh(document)?(b=h.a-u.scrollLeft,h=h.g-u.scrollTop,!Vt||10<=Number(ou)||(b+=v.left,h+=v.top)):(b=h.a-m.a-v.left,h=h.g-m.g-v.top),m=r.offsetWidth,v=r.offsetHeight,C=Jn&&!m&&!v,y(m)&&!C||!r.getBoundingClientRect?r=new ng(m,v):(r=iE(r),r=new ng(r.right-r.left,r.bottom-r.top)),m=u.clientHeight-r.height,v=u.scrollLeft,C=u.scrollTop,v+=Math.min(b,Math.max(b-(u.clientWidth-r.width),0)),C+=Math.min(h,Math.max(h-m,0)),u=new fs(v,C),a.scrollLeft=u.a,a.scrollTop=u.g}function rE(r){var a=lu(r),u=new fs(0,0),h=a?lu(a):document;return h=!Vt||9<=Number(ou)||th(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,r==h||(r=iE(r),h=th(a).a,a=nh(h),h=h.parentWindow||h.defaultView,a=Vt&&fo("10")&&h.pageYOffset!=a.scrollTop?new fs(a.scrollLeft,a.scrollTop):new fs(h.pageXOffset||a.scrollLeft,h.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var sE={thin:2,medium:4,thick:6};function Bh(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in sE)r=sE[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var h=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=h,r=+u}return r}function iv(){}T(iv),iv.prototype.a=0;function Ao(r){Xt.call(this),this.s=r||th(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}H(Ao,Xt),t=Ao.prototype,t.Lb=iv.Xa(),t.N=function(){return this.g};function nt(r,a){return r.g?rg(a,r.g||r.s.a):null}function Ou(r){return r.L||(r.L=new Fa(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");Ao.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,rv(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){rv(this,function(r){r.na&&r.ya()}),this.L&&Yb(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),rv(this,function(r){r.m()}),this.g&&mo(this.g),this.Y=this.g=this.oa=this.Ea=null,Ao.K.o.call(this)};function rv(r,a){r.Ea&&lt(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=w(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var h=this.oa;if(u in h&&delete h[u],ge(this.Ea,r),a&&(r.ya(),r.g&&mo(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,Ao.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function $t(r,a){var u=rw(r,"firebaseui-textfield");a?(ar(r,"firebaseui-input-invalid"),or(r,"firebaseui-input"),u&&ar(u,"firebaseui-textfield-invalid")):(ar(r,"firebaseui-input"),or(r,"firebaseui-input-invalid"),u&&or(u,"firebaseui-textfield-invalid"))}function ja(r,a,u){a=new Pu(a),du(r,se(hu,a)),Ua(Ou(r),a,"input",u)}function Nu(r,a,u){a=new xu(a),du(r,se(hu,a)),Ua(Ou(r),a,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function wN(r,a,u){a=new Va(a),du(r,se(hu,a)),Ua(Ou(r),a,"focusin",u)}function bN(r,a,u){a=new Va(a),du(r,se(hu,a)),Ua(Ou(r),a,"focusout",u)}function Ot(r,a,u){a=new Ma(a),du(r,se(hu,a)),Ua(Ou(r),a,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function wi(r){or(r,"firebaseui-hidden")}function wn(r,a){a&&sg(r,a),ar(r,"firebaseui-hidden")}function Ba(r){return!Ru(r,"firebaseui-hidden")&&r.style.display!="none"}function Ha(r){r=r||{};var a=r.email,u=r.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=r.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Qn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ve(h)}function ui(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+Me(r):a+"Next",ve(a+"</button>")}function sv(){var r=""+ui({label:Ft("Sign In")});return ve(r)}function oE(){var r=""+ui({label:Ft("Save")});return ve(r)}function Bi(){var r=""+ui({label:Ft("Continue")});return ve(r)}function aE(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+Me(r):a+"Choose password",ve(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function lE(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",ve(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function uE(){return ve('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function bi(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+Me(r):a+"Cancel",ve(a+"</button>")}function Pn(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ve(a)}function qa(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ve(a)}function cE(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Me(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ve(r)}cE.a="firebaseui.auth.soy2.element.infoBar";function dE(r){var a=r.content;return r=r.Ab,ve('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Qn(r):"")+'">'+Me(a)+"</dialog>")}function hE(r){var a=r.message;return ve(dE({content:aw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Qn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Me(a)+"</div>")}))}hE.a="firebaseui.auth.soy2.element.progressDialog";function fE(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,h=0;h<u;h++){var m=r[h];a+='<button type="button" data-listboxid="'+Qn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Qn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Me(m.label)+"</div></button>"}return a=""+dE({Ab:Ft("firebaseui-list-box-dialog"),content:aw(a+"</div>")}),ve(a)}fE.a="firebaseui.auth.soy2.element.listBoxDialog";function Hh(r){return r=r||{},ve(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Hh.a="firebaseui.auth.soy2.element.busyIndicator";function _s(r,a){return r=r||{},r=r.ga,ct(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function ov(r){pE(r,"upgradeElement")}function av(r){pE(r,"downgradeElements")}var EN=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function pE(r,a){r&&window.componentHandler&&window.componentHandler[a]&&EN.forEach(function(u){Ru(r,u)&&window.componentHandler[a](r),lt(ig(u,r),function(h){window.componentHandler[a](h)})})}function mE(r,a,u){if(qh.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),ov(r),a&&Ot(this,r,function(v){var b=r.getBoundingClientRect();(v.clientX<b.left||b.left+b.width<v.clientX||v.clientY<b.top||b.top+b.height<v.clientY)&&qh.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var m=this;this.da=function(){if(r.open){var v=r.getBoundingClientRect().height,b=h.getBoundingClientRect().height,C=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,M=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,te=r.getBoundingClientRect().width,Ee=h.getBoundingClientRect().width;r.style.top=(C+(b-v)/2).toString()+"px",v=M+(Ee-te)/2,r.style.left=v.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-v-te).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function qh(){var r=lv.call(this);r&&(av(r),r.open&&r.close(),mo(r),this.da&&window.removeEventListener("resize",this.da))}function lv(){return rg("firebaseui-id-dialog")}function gE(){mo(vE.call(this))}function vE(){return nt(this,"firebaseui-id-info-bar")}function yE(){return nt(this,"firebaseui-id-dismiss-info-bar")}var IN={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function uv(r,a,u){Or.call(this,r,a);for(var h in u)this[h]=u[h]}H(uv,Or);function z(r,a,u,h,m){Ao.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=Ge(IN),ut(this.Z,m||{})}H(z,Ao),t=z.prototype,t.kb=function(){var r=uu(this.fb,this.eb,this.Z,this.s);ov(r),this.g=r},t.v=function(){if(z.K.v.call(this),ww(Pt(this),new uv("pageEnter",Pt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;Ot(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;Ot(this,this.ab(),function(){a()})}},t.ya=function(){ww(Pt(this),new uv("pageExit",Pt(this),{pageId:this.Ga})),z.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,av(this.N()),z.K.o.call(this)};function TN(r){r.Fa=!0;var a=Ru(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=uu(Hh,{tb:a},null,r.s),r.N().appendChild(r.A),ov(r.A))},500)}t.I=function(r,a,u,h){function m(){if(v.T)return null;v.Fa=!1,window.clearTimeout(v.ca),v.ca=null,v.A&&(av(v.A),mo(v.A),v.A=null)}var v=this;return v.Fa?null:(TN(v),r.apply(null,a).then(u,h).then(m,m))};function Pt(r){return r.N().parentElement||r.N().parentNode}function Du(r,a,u){Nu(r,a,function(){u.focus()})}function za(r,a,u){Nu(r,a,function(){u()})}he(z.prototype,{a:function(r){gE.call(this);var a=uu(cE,{message:r},null,this.s);this.N().appendChild(a),Ot(this,yE.call(this),function(){mo(a)})},yc:gE,Ac:vE,zc:yE,$:function(r,a){r=uu(hE,{Ma:r,message:a},null,this.s),mE.call(this,r)},h:qh,Cb:lv,Cc:function(){return nt(this,"firebaseui-tos")},bb:function(){return nt(this,"firebaseui-tos-link")},ab:function(){return nt(this,"firebaseui-pp-link")},Dc:function(){return nt(this,"firebaseui-tos-list")}});function _E(r,a,u){r=r||{},a=r.Va;var h=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ha(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?bi(null):"")+ui(null)+'</div></div><div class="firebaseui-card-footer">'+(h?qa(u):Pn(u))+"</div></form></div>",ve(r)}_E.a="firebaseui.auth.soy2.page.signIn";function wE(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Ha(r)+lE()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+uE()+'</div><div class="firebaseui-form-actions">'+sv()+'</div></div><div class="firebaseui-card-footer">'+(a?qa(u):Pn(u))+"</div></form></div>",ve(r)}wE.a="firebaseui.auth.soy2.page.passwordSignIn";function bE(r,a,u){r=r||{};var h=r.Tb;a=r.Ta;var m=r.ia,v='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Ha(r);return h?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Qn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=ve(r)):r="",u=v+r+aE(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?bi(null):"")+oE()+'</div></div><div class="firebaseui-card-footer">'+(m?qa(u):Pn(u))+"</div></form></div>",ve(u)}bE.a="firebaseui.auth.soy2.page.passwordSignUp";function EE(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Ha(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?bi(null):"")+ui({label:Ft("Send")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(r)}EE.a="firebaseui.auth.soy2.page.passwordRecovery";function IE(r,a,u){a=r.G;var h="";return r="Follow the instructions sent to <strong>"+(Me(r.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(h+='<div class="firebaseui-form-actions">'+ui({label:Ft("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+Pn(u)+"</div></div>",ve(h)}IE.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function TE(r,a,u){return ve('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Hh(null)+"</div></div>")}TE.a="firebaseui.auth.soy2.page.callback";function AE(r,a,u){return ve('<div class="firebaseui-container firebaseui-id-page-spinner">'+Hh({tb:!0})+"</div>")}AE.a="firebaseui.auth.soy2.page.spinner";function SE(){return ve('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}SE.a="firebaseui.auth.soy2.page.blank";function CE(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(Me(r.email)+"</strong>. Check your email to complete sign-in.");var h=ve('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+bi({label:Ft("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}CE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function RE(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ve('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+bi({label:Ft("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(r)}RE.a="firebaseui.auth.soy2.page.emailNotReceived";function kE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Ha(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+ui(null)+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(r)}kE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function PE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi({label:Ft("Dismiss")})+"</div></div></div>";return ve(r)}PE.a="firebaseui.auth.soy2.page.differentDeviceError";function xE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi({label:Ft("Dismiss")})+"</div></div></div>";return ve(r)}xE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function OE(r,a,u){return a="",r="You’ve already used <strong>"+(Me(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+lE()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+uE()+'</div><div class="firebaseui-form-actions">'+sv()+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}OE.a="firebaseui.auth.soy2.page.passwordLinking";function NE(r,a,u){var h=r.email;return a="",r=""+_s(r,u),r=Ft(r),h="You’ve already used <strong>"+(Me(h)+("</strong>. You can connect your <strong>"+(Me(r)+("</strong> account with <strong>"+(Me(h)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Me(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sv()+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}NE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function DE(r,a,u){a="";var h=""+_s(r,u);return h=Ft(h),r="You originally intended to connect <strong>"+(Me(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(Me(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Bi()+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}DE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function LE(r,a,u){var h=r.email;return a="",r=""+_s(r,u),r=Ft(r),h="You’ve already used <strong>"+(Me(h)+("</strong>. Sign in with "+(Me(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui({label:Ft("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}LE.a="firebaseui.auth.soy2.page.federatedLinking";function ME(r,a,u){r=r||{};var h=r.kc;a=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(Me(h)+"</strong> is not authorized to view the requested page."),m+=h):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(Me(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+bi({label:Ft("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(m)}ME.a="firebaseui.auth.soy2.page.unauthorizedUser";function VE(r,a,u){return a="",r="To continue sign in with <strong>"+(Me(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+ui({label:Ft("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}VE.a="firebaseui.auth.soy2.page.unsupportedProvider";function FE(r){var a="",u='<p class="firebaseui-text">for <strong>'+(Me(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+aE(hO(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+oE()+"</div></div></form></div>",ve(a)}FE.a="firebaseui.auth.soy2.page.passwordReset";function UE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}UE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function $E(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}$E.a="firebaseui.auth.soy2.page.passwordResetFailure";function jE(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(Me(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></form></div>",ve(u)}jE.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function BE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}BE.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function HE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}HE.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function qE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}qE.a="firebaseui.auth.soy2.page.emailVerificationFailure";function zE(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(Me(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(u)}zE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function WE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}WE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function GE(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Me(a)+(" "+(Me(u)+"</strong> was removed as a second authentication step."))),h+=a;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></form></div>",ve(h)}GE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function KE(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Bi()+"</div>":"")+"</div></div>",ve(r)}KE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function YE(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Me(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=ui({label:Ft("Retry")})),ve(r+"</div></div></div>")}YE.a="firebaseui.auth.soy2.page.recoverableError";function JE(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Me(r.errorMessage)+"</p></div></div>",ve(r)}JE.a="firebaseui.auth.soy2.page.unrecoverableError";function QE(r,a,u){var h=r.Qb;return a="",r="Continue with "+(Me(r.jc)+"?"),h="You originally wanted to sign in with "+Me(h),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+ui({label:Ft("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form></div>",ve(a)}QE.a="firebaseui.auth.soy2.page.emailMismatch";function XE(r,a,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var m=0;m<a;m++){var v={ga:r[m]},b=u;v=v||{};var C=v.ga,M=v;M=M||{};var te="";switch(M.ga.providerId){case"google.com":te+="firebaseui-idp-google";break;case"github.com":te+="firebaseui-idp-github";break;case"facebook.com":te+="firebaseui-idp-facebook";break;case"twitter.com":te+="firebaseui-idp-twitter";break;case"phone":te+="firebaseui-idp-phone";break;case"anonymous":te+="firebaseui-idp-anonymous";break;case"password":te+="firebaseui-idp-password";break;default:te+="firebaseui-idp-generic"}M='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Qn(ct(te))+' firebaseui-id-idp-button" data-provider-id="'+Qn(C.providerId)+'" style="background-color:',te=(te=v)||{},te=te.ga,M=M+Qn(lw(ct(te.ta?te.ta:b.wa[te.providerId]?""+b.wa[te.providerId]:te.providerId.indexOf("saml.")==0?""+b.wa.saml:te.providerId.indexOf("oidc.")==0?""+b.wa.oidc:""+b.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var Ee=v;te=b,Ee=Ee||{},Ee=Ee.ga,te=dO(Ee.za?go(Ee.za):te.xa[Ee.providerId]?go(te.xa[Ee.providerId]):Ee.providerId.indexOf("saml.")==0?go(te.xa.saml):Ee.providerId.indexOf("oidc.")==0?go(te.xa.oidc):go(te.xa.password)),M=M+Qn(go(te))+'"></span>',C.providerId=="password"?(M+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?M+=Me(C.V):C.S?(v="Sign in with "+Me(_s(v,b)),M+=v):M+="Sign in with email",M+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',M=C.S?M+Me(C.S):M+"Email",M+="</span>"):C.providerId=="phone"?(M+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?M+=Me(C.V):C.S?(v="Sign in with "+Me(_s(v,b)),M+=v):M+="Sign in with phone",M+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',M=C.S?M+Me(C.S):M+"Phone",M+="</span>"):C.providerId=="anonymous"?(M+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?M+=Me(C.V):C.S?(v="Sign in with "+Me(_s(v,b)),M+=v):M+="Continue as guest",M+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',M=C.S?M+Me(C.S):M+"Guest",M+="</span>"):(M+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?M+=Me(C.V):(te="Sign in with "+Me(_s(v,b)),M+=te),M+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(C.S?Me(C.S):Me(_s(v,b)))+"</span>"),C=ve(M+"</button>"),h+='<li class="firebaseui-list-item">'+C+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+qa(u)+"</div></div>",ve(h)}XE.a="firebaseui.auth.soy2.page.providerSignIn";function ZE(r,a,u){r=r||{};var h=r.Gb,m=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Qn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ve(r);var v;return h?v=ve('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):v="",v=r+v+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?bi(null):"")+ui({label:Ft("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ve(a+"</p>")):u=ve('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Pn(u),ve(v+u+"</div></form></div>")}ZE.a="firebaseui.auth.soy2.page.phoneSignInStart";function eI(r,a,u){r=r||{},a=r.phoneNumber;var h="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Me(a)+"</a>"),Me(a),a=h,h=ve('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+ui({label:Ft("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Pn(u)+"</div></form>",r=ve('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ve(a+(u+r+"</div>"))}eI.a="firebaseui.auth.soy2.page.phoneSignInFinish";function tI(){return ve('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}tI.a="firebaseui.auth.soy2.page.signOut";function nI(r,a,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var m=0;m<a;m++){var v=r[m],b="",C=Me(v.displayName),M=v.tenantId?v.tenantId:"top-level-project";M=Ft(M),b+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Qn(M)+' firebaseui-id-tenant-selection-button"'+(v.tenantId?'data-tenant-id="'+Qn(v.tenantId)+'"':"")+'style="background-color:'+Qn(lw(v.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Qn(go(v.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',v.V?b+=Me(v.V):(v="Sign in to "+Me(v.displayName),b+=v),b=ve(b+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+C+"</span></button>")),h+='<li class="firebaseui-list-item">'+b+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+qa(u)+"</div></div>",ve(h)}nI.a="firebaseui.auth.soy2.page.selectTenant";function iI(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ha(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ui(null)+'</div></div><div class="firebaseui-card-footer">'+qa(u)+"</div></form></div>",ve(r)}iI.a="firebaseui.auth.soy2.page.providerMatchByEmail";function hn(){return nt(this,"firebaseui-id-submit")}function en(){return nt(this,"firebaseui-id-secondary-link")}function bn(r,a){Ot(this,hn.call(this),function(h){r(h)});var u=en.call(this);u&&a&&Ot(this,u,function(h){a(h)})}function zh(){return nt(this,"firebaseui-id-password")}function Wh(){return nt(this,"firebaseui-id-password-error")}function rI(){var r=zh.call(this),a=Wh.call(this);ja(this,r,function(){Ba(a)&&($t(r,!0),wi(a))})}function sI(){var r=zh.call(this),a=Wh.call(this);return _n(r)?($t(r,!0),wi(a),a=!0):($t(r,!1),wn(a,ct("Enter your password").toString()),a=!1),a?_n(r):null}function Wa(r,a,u,h,m,v){z.call(this,OE,{email:r},v,"passwordLinking",{F:h,D:m}),this.w=a,this.H=u}c(Wa,z),Wa.prototype.v=function(){this.P(),this.M(this.w,this.H),za(this,this.i(),this.w),this.i().focus(),z.prototype.v.call(this)},Wa.prototype.o=function(){this.w=null,z.prototype.o.call(this)},Wa.prototype.j=function(){return _n(nt(this,"firebaseui-id-email"))},he(Wa.prototype,{i:zh,B:Wh,P:rI,u:sI,ea:hn,ba:en,M:bn});var AN=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Lr(){return nt(this,"firebaseui-id-email")}function ws(){return nt(this,"firebaseui-id-email-error")}function Ga(r){var a=Lr.call(this),u=ws.call(this);ja(this,a,function(){Ba(u)&&($t(a,!0),wi(u))}),r&&Nu(this,a,function(){r()})}function Ka(){return F(_n(Lr.call(this))||"")}function Ya(){var r=Lr.call(this),a=ws.call(this),u=_n(r)||"";return u?AN.test(u)?($t(r,!0),wi(a),a=!0):($t(r,!1),wn(a,ct("That email address isn't correct").toString()),a=!1):($t(r,!1),wn(a,ct("Enter your email address to continue").toString()),a=!1),a?F(_n(r)):null}function Lu(r,a,u,h,m,v,b){z.call(this,wE,{email:u,ia:!!v},b,"passwordSignIn",{F:h,D:m}),this.w=r,this.H=a}c(Lu,z),Lu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Du(this,this.l(),this.i()),za(this,this.i(),this.w),_n(this.l())?this.i().focus():this.l().focus(),z.prototype.v.call(this)},Lu.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},he(Lu.prototype,{l:Lr,U:ws,P:Ga,M:Ka,j:Ya,i:zh,B:Wh,ea:rI,u:sI,ua:hn,pa:en,ba:bn});function gt(r,a,u,h,m,v){z.call(this,r,a,h,m||"notice",v),this.i=u||null}H(gt,z),gt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),gt.K.v.call(this)},gt.prototype.o=function(){this.i=null,gt.K.o.call(this)},he(gt.prototype,{l:hn,w:en,u:bn});function Gh(r,a,u,h,m){gt.call(this,IE,{email:r,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:h})}H(Gh,gt);function oI(r,a){gt.call(this,HE,{G:!!r},r,a,"emailVerificationSuccess")}H(oI,gt);function aI(r,a){gt.call(this,qE,{G:!!r},r,a,"emailVerificationFailure")}H(aI,gt);function lI(r,a,u){gt.call(this,zE,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}H(lI,gt);function uI(r,a){gt.call(this,WE,{G:!!r},r,a,"verifyAndChangeEmailFailure")}H(uI,gt);function cI(r,a){gt.call(this,KE,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}H(cI,gt);function dI(r){gt.call(this,tI,void 0,void 0,r,"signOut")}H(dI,gt);function hI(r,a){gt.call(this,UE,{G:!!r},r,a,"passwordResetSuccess")}H(hI,gt);function fI(r,a){gt.call(this,$E,{G:!!r},r,a,"passwordResetFailure")}H(fI,gt);function pI(r,a){gt.call(this,BE,{G:!!r},r,a,"emailChangeRevokeFailure")}H(pI,gt);function mI(r,a,u){gt.call(this,YE,{errorMessage:r,zb:!!a},a,u,"recoverableError")}H(mI,gt);function gI(r,a){gt.call(this,JE,{errorMessage:r},void 0,a,"unrecoverableError")}H(gI,gt);function Mu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function Mr(r,a,u,h){function m(b){if(!b.name||b.name!="cancel"){e:{var C=b.message;try{var M=((JSON.parse(C).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(M&&M.length){var te=!0;break e}}catch{}te=!1}if(te)b=Pt(a),a.m(),Tt(r,b,void 0,ct("Your sign-in session has expired. Please try again.").toString());else{if(te=b&&b.message||"",b.code){if(b.code=="auth/email-already-in-use"||b.code=="auth/credential-already-in-use")return;te=_t(b)}a.a(te)}}}if(FI(r),h)return vI(r,u),Ut();if(!u.credential)throw Error("No credential found!");if(!Xe(r).currentUser&&!u.user)throw Error("User not logged in.");try{var v=iD(r,u)}catch(b){return yi(b.code||b.message,b),a.a(b.code||b.message),Ut()}return u=v.then(function(b){vI(r,b)},m).then(void 0,m),ze(r,v),Ut(u)}function vI(r,a){if(!a.user)throw Error("No user found");var u=Ub(G(r));if(Yg(G(r))&&u&&ys("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=Ub(G(r));var h=yb(De(r))||void 0;li(Eu,De(r));var m=!1;Fw()?((!u||u(a,h))&&(m=!0,wa(window.opener.location,Kh(r,h))),u||window.close()):(!u||u(a,h))&&(m=!0,wa(window.location,Kh(r,h))),m||r.reset()}else{u=a.user,a=a.credential,h=Yg(G(r)),m=yb(De(r))||void 0,li(Eu,De(r));var v=!1;Fw()?((!h||h(u,a,m))&&(v=!0,wa(window.opener.location,Kh(r,m))),h||window.close()):(!h||h(u,a,m))&&(v=!0,wa(window.location,Kh(r,m))),v||r.reset()}}function Kh(r,a){if(r=a||G(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function _t(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=fw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=fw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=ug();break;case"auth/invalid-verification-code":u+=ct("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=ct(u).toString())return a;try{return JSON.parse(r.message),yi("Internal error: "+r.message,void 0),cw().toString()}catch{return r.message}}function SN(r,a,u){var h=Oa[a]&&Se.auth[Oa[a]]?new Se.auth[Oa[a]]:a.indexOf("saml.")==0?new Se.auth.SAMLAuthProvider(a):new Se.auth.OAuthProvider(a);if(!h)throw Error("Invalid Firebase Auth provider!");var m=Db(G(r),a);if(h.addScope)for(var v=0;v<m.length;v++)h.addScope(m[v]);return m=Lb(G(r),a)||{},u&&(a==Se.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==Se.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=Au(G(r),a))&&r.Ob,r&&(m[r]=u)),h.setCustomParameters&&h.setCustomParameters(m),h}function Vu(r,a,u,h){function m(){eN(new nb(r.h.tenantId||null),De(r)),ze(r,a.I(de(r.dc,r),[M],function(){if((window.location&&window.location.protocol)==="file:")return ze(r,NI(r).then(function(te){a.m(),li(Eo,De(r)),we("callback",r,C,Ut(te))},v))},b))}function v(te){if(li(Eo,De(r)),!te.name||te.name!="cancel")switch(te=Mu(te),te.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(_t(te));break;case"auth/admin-restricted-operation":a.m(),To(G(r))?we("handleUnauthorizedUser",r,C,null,u):we("callback",r,C,ba(te));break;default:a.m(),we("callback",r,C,ba(te))}}function b(te){li(Eo,De(r)),te.name&&te.name=="cancel"||(yi("signInWithRedirect: "+te.code,void 0),te=_t(te),a.Ga=="blank"&&Kg(G(r))?(a.m(),we("providerSignIn",r,C,te)):a.a(te))}var C=Pt(a),M=SN(r,u,h);Fb(G(r))==Fh?m():ze(r,nD(r,M).then(function(te){a.m(),we("callback",r,C,Ut(te))},v))}function CN(r,a){ze(r,a.I(de(r.$b,r),[],function(u){return a.m(),Mr(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(yi("ContinueAsGuest: "+u.code,void 0),u=_t(u),a.a(u))}))}function RN(r,a,u){function h(v){var b=!1;return v=a.I(de(r.ac,r),[v],function(C){var M=Pt(a);a.m(),we("callback",r,M,Ut(C)),b=!0},function(C){if((!C.name||C.name!="cancel")&&(!C||C.code!="auth/credential-already-in-use"))if(C&&C.code=="auth/email-already-in-use"&&C.email&&C.credential){var M=Pt(a);a.m(),we("callback",r,M,ba(C))}else C&&C.code=="auth/admin-restricted-operation"&&To(G(r))?(C=Pt(a),a.m(),we("handleUnauthorizedUser",r,C,null,Se.auth.GoogleAuthProvider.PROVIDER_ID)):(C=_t(C),a.a(C))}),ze(r,v),v.then(function(){return b},function(){return!1})}if(u&&u.credential&&u.clientId===Ob(G(r))){if(Db(G(r),Se.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Vu(r,a,Se.auth.GoogleAuthProvider.PROVIDER_ID,m),Ut(!0)}return h(Se.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(ct("The selected credential for the authentication provider is not supported!").toString()),Ut(!1)}function kN(r,a){var u=a.j(),h=a.u();if(u)if(h){var m=Se.auth.EmailAuthProvider.credential(u,h);ze(r,a.I(de(r.bc,r),[u,h],function(v){return Mr(r,a,{user:v.user,credential:m,operationType:v.operationType,additionalUserInfo:v.additionalUserInfo})},function(v){if(!v.name||v.name!="cancel")switch(v.code){case"auth/email-already-in-use":break;case"auth/email-exists":$t(a.l(),!1),wn(a.U(),_t(v));break;case"auth/too-many-requests":case"auth/wrong-password":$t(a.i(),!1),wn(a.B(),_t(v));break;default:yi("verifyPassword: "+v.message,void 0),a.a(_t(v))}}))}else a.i().focus();else a.l().focus()}function Yh(r){return r=Na(G(r)),r.length==1&&r[0]==Se.auth.EmailAuthProvider.PROVIDER_ID}function yI(r){return r=Na(G(r)),r.length==1&&r[0]==Se.auth.PhoneAuthProvider.PROVIDER_ID}function Tt(r,a,u,h){Yh(r)?h?we("signIn",r,a,u,h):dv(r,a,u):r&&yI(r)&&!h?we("phoneSignInStart",r,a):r&&Kg(G(r))&&!h?we("federatedRedirect",r,a,u):we("providerSignIn",r,a,h,u)}function _I(r,a,u,h){var m=Pt(a);ze(r,a.I(de(Xe(r).fetchSignInMethodsForEmail,Xe(r)),[u],function(v){a.m(),wI(r,m,v,u,h)},function(v){v=_t(v),a.a(v)}))}function wI(r,a,u,h,m,v){u.length||Da(G(r))&&!Da(G(r))?$(u,Se.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?we("passwordSignIn",r,a,h,v):u.length==1&&u[0]===Se.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Da(G(r))?we("sendEmailLinkForSignIn",r,a,h,function(){we("signIn",r,a)}):we("unsupportedProvider",r,a,h):(u=kb(u,Na(G(r))))?(_b(new Lg(h),De(r)),we("federatedSignIn",r,a,h,u,m)):we("unsupportedProvider",r,a,h):Nb(G(r))?we("handleUnauthorizedUser",r,a,h,Se.auth.EmailAuthProvider.PROVIDER_ID):Da(G(r))?we("sendEmailLinkForSignIn",r,a,h,function(){we("signIn",r,a)}):we("passwordSignUp",r,a,h,void 0,void 0,v)}function cv(r,a,u,h,m,v){var b=Pt(a);ze(r,a.I(de(r.Ib,r),[u,v],function(){a.m(),we("emailLinkSignInSent",r,b,u,h,v)},m))}function dv(r,a,u){u?we("prefilledEmailSignIn",r,a,u):we("signIn",r,a)}function Fu(){return Qd(Dr(),"oobCode")}function hv(){var r=Qd(Dr(),"continueUrl");return r?function(){wa(window.location,r)}:null}function Uu(r,a){z.call(this,xE,void 0,a,"anonymousUserMismatch"),this.i=r}c(Uu,z),Uu.prototype.v=function(){var r=this;Ot(this,this.l(),function(){r.i()}),this.l().focus(),z.prototype.v.call(this)},Uu.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(Uu.prototype,{l:en}),pt.anonymousUserMismatch=function(r,a){var u=new Uu(function(){u.m(),Tt(r,a)});u.render(a),Ke(r,u)};function Jh(r){z.call(this,TE,void 0,r,"callback")}c(Jh,z),Jh.prototype.I=function(r,a,u,h){return r.apply(null,a).then(u,h)};function bI(r,a,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=rr(De(r)),v=m&&m.g;if(v&&!xN(u.user,v))PN(r,a,h);else{var b=m&&m.a;b?ze(r,u.user.linkWithCredential(b).then(function(C){h={user:C.user,credential:b,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo},EI(r,a,h)},function(C){Qh(r,a,C)})):EI(r,a,h)}}else u=Pt(a),a.m(),sr(De(r)),Tt(r,u)}function EI(r,a,u){sr(De(r)),Mr(r,a,u)}function Qh(r,a,u){var h=Pt(a);sr(De(r)),u=_t(u),a.m(),Tt(r,h,void 0,u)}function II(r,a,u,h){var m=Pt(a);ze(r,Xe(r).fetchSignInMethodsForEmail(u).then(function(v){a.m(),v.length?$(v,Se.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?we("passwordLinking",r,m,u):v.length==1&&v[0]===Se.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?we("emailLinkSignInLinking",r,m,u):(v=kb(v,Na(G(r))))?we("federatedLinking",r,m,u,v,h):(sr(De(r)),we("unsupportedProvider",r,m,u)):(sr(De(r)),we("passwordRecovery",r,m,u,!1,dw().toString()))},function(v){Qh(r,a,v)}))}function PN(r,a,u){var h=Pt(a);ze(r,bs(r).then(function(){a.m(),we("emailMismatch",r,h,u)},function(m){m.name&&m.name=="cancel"||(m=_t(m.code),a.a(m))}))}function xN(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}pt.callback=function(r,a,u){var h=new Jh;h.render(a),Ke(r,h),u=u||NI(r),ze(r,u.then(function(m){bI(r,h,m)},function(m){if((m=Mu(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)_b(new Lg(m.email,m.credential),De(r)),II(r,h,m.email);else if(m&&m.code=="auth/user-cancelled"){var v=rr(De(r)),b=_t(m);v&&v.a?II(r,h,v.g,b):v?_I(r,h,v.g,b):Qh(r,h,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Yh(r)?bI(r,h,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&To(G(r))?(h.m(),sr(De(r)),we("handleUnauthorizedUser",r,a,null,null)):Qh(r,h,m))}))};function $u(r,a){z.call(this,PE,void 0,a,"differentDeviceError"),this.i=r}c($u,z),$u.prototype.v=function(){var r=this;Ot(this,this.l(),function(){r.i()}),this.l().focus(),z.prototype.v.call(this)},$u.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he($u.prototype,{l:en}),pt.differentDeviceError=function(r,a){var u=new $u(function(){u.m(),Tt(r,a)});u.render(a),Ke(r,u)};function ju(r,a,u,h){z.call(this,jE,{email:r,G:!!u},h,"emailChangeRevoke"),this.l=a,this.i=u||null}c(ju,z),ju.prototype.v=function(){var r=this;Ot(this,nt(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},ju.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},he(ju.prototype,{u:hn,B:en,w:bn});function Bu(){return nt(this,"firebaseui-id-new-password")}function Xh(){return nt(this,"firebaseui-id-password-toggle")}function ON(){this.Ra=!this.Ra;var r=Xh.call(this),a=Bu.call(this);this.Ra?(a.type="text",or(r,"firebaseui-input-toggle-off"),ar(r,"firebaseui-input-toggle-on")):(a.type="password",or(r,"firebaseui-input-toggle-on"),ar(r,"firebaseui-input-toggle-off")),a.focus()}function Zh(){return nt(this,"firebaseui-id-new-password-error")}function TI(){this.Ra=!1;var r=Bu.call(this);r.type="password";var a=Zh.call(this);ja(this,r,function(){Ba(a)&&($t(r,!0),wi(a))});var u=Xh.call(this);or(u,"firebaseui-input-toggle-on"),ar(u,"firebaseui-input-toggle-off"),wN(this,r,function(){or(u,"firebaseui-input-toggle-focus"),ar(u,"firebaseui-input-toggle-blur")}),bN(this,r,function(){or(u,"firebaseui-input-toggle-blur"),ar(u,"firebaseui-input-toggle-focus")}),Ot(this,u,de(ON,this))}function AI(){var r=Bu.call(this),a=Zh.call(this);return _n(r)?($t(r,!0),wi(a),a=!0):($t(r,!1),wn(a,ct("Enter your password").toString()),a=!1),a?_n(r):null}function Hu(r,a,u){z.call(this,FE,{email:r},u,"passwordReset"),this.l=a}c(Hu,z),Hu.prototype.v=function(){this.H(),this.B(this.l),za(this,this.i(),this.l),this.i().focus(),z.prototype.v.call(this)},Hu.prototype.o=function(){this.l=null,z.prototype.o.call(this)},he(Hu.prototype,{i:Bu,w:Zh,M:Xh,H:TI,u:AI,U:hn,P:en,B:bn});function qu(r,a,u,h,m){z.call(this,GE,{factorId:r,phoneNumber:u||null,G:!!h},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=h||null}c(qu,z),qu.prototype.v=function(){var r=this;Ot(this,nt(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),z.prototype.v.call(this)},qu.prototype.o=function(){this.l=this.i=null,z.prototype.o.call(this)},he(qu.prototype,{u:hn,B:en,w:bn});function NN(r,a,u,h,m){var v=u.u();v&&ze(r,u.I(de(Xe(r).confirmPasswordReset,Xe(r)),[h,v],function(){u.m();var b=new hI(m);b.render(a),Ke(r,b)},function(b){SI(r,a,u,b)}))}function SI(r,a,u,h){(h&&h.code)=="auth/weak-password"?(r=_t(h),$t(u.i(),!1),wn(u.w(),r),u.i().focus()):(u&&u.m(),u=new fI,u.render(a),Ke(r,u))}function DN(r,a,u){var h=new ju(u,function(){ze(r,h.I(de(Xe(r).sendPasswordResetEmail,Xe(r)),[u],function(){h.m(),h=new Gh(u,void 0,Wt(G(r)),Gt(G(r))),h.render(a),Ke(r,h)},function(){h.a(uw().toString())}))});h.render(a),Ke(r,h)}function LN(r,a,u,h){var m=new qu(h.factorId,function(){m.I(de(Xe(r).sendPasswordResetEmail,Xe(r)),[u],function(){m.m(),m=new Gh(u,void 0,Wt(G(r)),Gt(G(r))),m.render(a),Ke(r,m)},function(){m.a(uw().toString())})},h.phoneNumber);m.render(a),Ke(r,m)}pt.passwordReset=function(r,a,u,h){ze(r,Xe(r).verifyPasswordResetCode(u).then(function(m){var v=new Hu(m,function(){NN(r,a,v,u,h)});v.render(a),Ke(r,v)},function(){SI(r,a)}))},pt.emailChangeRevocation=function(r,a,u){var h=null;ze(r,Xe(r).checkActionCode(u).then(function(m){return h=m.data.email,Xe(r).applyActionCode(u)}).then(function(){DN(r,a,h)},function(){var m=new pI;m.render(a),Ke(r,m)}))},pt.emailVerification=function(r,a,u,h){ze(r,Xe(r).applyActionCode(u).then(function(){var m=new oI(h);m.render(a),Ke(r,m)},function(){var m=new aI;m.render(a),Ke(r,m)}))},pt.revertSecondFactorAddition=function(r,a,u){var h=null,m=null;ze(r,Xe(r).checkActionCode(u).then(function(v){return h=v.data.email,m=v.data.multiFactorInfo,Xe(r).applyActionCode(u)}).then(function(){LN(r,a,h,m)},function(){var v=new cI;v.render(a),Ke(r,v)}))},pt.verifyAndChangeEmail=function(r,a,u,h){var m=null;ze(r,Xe(r).checkActionCode(u).then(function(v){return m=v.data.email,Xe(r).applyActionCode(u)}).then(function(){var v=new lI(m,h);v.render(a),Ke(r,v)},function(){var v=new uI;v.render(a),Ke(r,v)}))};function ef(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Vt&&!fo("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function zu(r,a,u,h,m,v){z.call(this,kE,{email:u},v,"emailLinkSignInConfirmation",{F:h,D:m}),this.l=r,this.u=a}c(zu,z),zu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),ef(this.i(),(this.i().value||"").length),z.prototype.v.call(this)},zu.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},he(zu.prototype,{i:Lr,M:ws,w:Ga,H:Ka,j:Ya,U:hn,P:en,B:bn}),pt.emailLinkConfirmation=function(r,a,u,h,m,v){var b=new zu(function(){var C=b.j();C?(b.m(),h(r,a,C,u)):b.i().focus()},function(){b.m(),Tt(r,a,m||void 0)},m||void 0,Wt(G(r)),Gt(G(r)));b.render(a),Ke(r,b),v&&b.a(v)};function Wu(r,a,u,h,m){z.call(this,DE,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=a}c(Wu,z),Wu.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(Wu.prototype,{l:hn,u:bn}),pt.emailLinkNewDeviceLinking=function(r,a,u,h){var m=new ho(u);if(u=m.a.a.get(Qt.PROVIDER_ID)||null,$1(m,null),u){var v=new Wu(Au(G(r),u),function(){v.m(),h(r,a,m.toString())},Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v)}else Tt(r,a)};function tf(r){z.call(this,SE,void 0,r,"blank")}c(tf,z);function fv(r,a,u,h,m){var v=new tf,b=new ho(u),C=b.a.a.get(Qt.$a)||"",M=b.a.a.get(Qt.Sa)||"",te=b.a.a.get(Qt.Qa)==="1",Ee=U1(b),vt=b.a.a.get(Qt.PROVIDER_ID)||null;b=b.a.a.get(Qt.vb)||null,UI(r,b);var zi=!Pa(ka,De(r)),qI=h||tN(M,De(r)),sc=(h=nN(M,De(r)))&&h.a;vt&&sc&&sc.providerId!==vt&&(sc=null),v.render(a),Ke(r,v),ze(r,v.I(function(){var ki=Ut(null);ki=Ee&&zi||zi&&te?ba(Error("anonymous-user-not-found")):ZN(r,u).then(function(Tv){if(vt&&!sc)throw Error("pending-credential-not-found");return Tv});var oc=null;return ki.then(function(Tv){return oc=Tv,m?null:Xe(r).checkActionCode(C)}).then(function(){return oc})},[],function(ki){qI?VN(r,v,qI,u,sc,ki):te?(v.m(),we("differentDeviceError",r,a)):(v.m(),we("emailLinkConfirmation",r,a,u,CI))},function(ki){var oc=void 0;if(!ki||!ki.name||ki.name!="cancel")switch(v.m(),ki&&ki.message){case"anonymous-user-not-found":we("differentDeviceError",r,a);break;case"anonymous-user-mismatch":we("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":we("emailLinkNewDeviceLinking",r,a,u,MN);break;default:ki&&(oc=_t(ki)),Tt(r,a,void 0,oc)}}))}function CI(r,a,u,h){fv(r,a,h,u,!0)}function MN(r,a,u){fv(r,a,u)}function VN(r,a,u,h,m,v){var b=Pt(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ct("Signing in...").toString());var C=null;m=(v?eD(r,v,u,h,m):tD(r,u,h,m)).then(function(M){li(Iu,De(r)),li(ka,De(r)),a.h(),a.$("firebaseui-icon-done",ct("Signed in!").toString()),C=setTimeout(function(){a.h(),Mr(r,a,M,!0)},1e3),ze(r,function(){a&&(a.h(),a.m()),clearTimeout(C)})},function(M){if(a.h(),a.m(),!M.name||M.name!="cancel"){M=Mu(M);var te=_t(M);M.code=="auth/email-already-in-use"||M.code=="auth/credential-already-in-use"?(li(Iu,De(r)),li(ka,De(r))):M.code=="auth/invalid-email"?(te=ct("The email provided does not match the current sign-in session.").toString(),we("emailLinkConfirmation",r,b,h,CI,null,te)):Tt(r,b,u,te)}}),ze(r,m)}pt.emailLinkSignInCallback=fv;function Gu(r,a,u,h,m,v){z.call(this,NE,{email:r,ga:a},v,"emailLinkSignInLinking",{F:h,D:m}),this.i=u}c(Gu,z),Gu.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Gu.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(Gu.prototype,{l:hn,u:bn});function FN(r,a,u,h){var m=Pt(a);cv(r,a,u,function(){Tt(r,m,u)},function(v){if(!v.name||v.name!="cancel"){var b=_t(v);v&&v.code=="auth/network-request-failed"?a.a(b):(a.m(),Tt(r,m,u,b))}},h)}pt.emailLinkSignInLinking=function(r,a,u){var h=rr(De(r));if(sr(De(r)),h){var m=h.a.providerId,v=new Gu(u,Au(G(r),m),function(){FN(r,v,u,h)},Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v)}else Tt(r,a)};function Ku(r,a,u,h,m,v){z.call(this,CE,{email:r},v,"emailLinkSignInSent",{F:h,D:m}),this.u=a,this.i=u}c(Ku,z),Ku.prototype.v=function(){var r=this;Ot(this,this.l(),function(){r.i()}),Ot(this,nt(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),z.prototype.v.call(this)},Ku.prototype.o=function(){this.i=this.u=null,z.prototype.o.call(this)},he(Ku.prototype,{l:en}),pt.emailLinkSignInSent=function(r,a,u,h,m){var v=new Ku(u,function(){v.m(),we("emailNotReceived",r,a,u,h,m)},function(){v.m(),h()},Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v)};function Yu(r,a,u,h,m,v,b){z.call(this,QE,{jc:r,Qb:a},b,"emailMismatch",{F:m,D:v}),this.l=u,this.i=h}c(Yu,z),Yu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},Yu.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(Yu.prototype,{u:hn,B:en,w:bn}),pt.emailMismatch=function(r,a,u){var h=rr(De(r));if(h){var m=new Yu(u.user.email,h.g,function(){var v=m;sr(De(r)),Mr(r,v,u)},function(){var v=u.credential.providerId,b=Pt(m);m.m(),h.a?we("federatedLinking",r,b,h.g,v):we("federatedSignIn",r,b,h.g,v)},Wt(G(r)),Gt(G(r)));m.render(a),Ke(r,m)}else Tt(r,a)};function Ja(r,a,u,h,m){z.call(this,RE,void 0,m,"emailNotReceived",{F:u,D:h}),this.l=r,this.i=a}c(Ja,z),Ja.prototype.v=function(){var r=this;Ot(this,this.u(),function(){r.i()}),Ot(this,this.Da(),function(){r.l()}),this.u().focus(),z.prototype.v.call(this)},Ja.prototype.Da=function(){return nt(this,"firebaseui-id-resend-email-link")},Ja.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},he(Ja.prototype,{u:en}),pt.emailNotReceived=function(r,a,u,h,m){var v=new Ja(function(){cv(r,v,u,h,function(b){b=_t(b),v.a(b)},m)},function(){v.m(),Tt(r,a,u)},Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v)};function Qa(r,a,u,h,m,v){z.call(this,LE,{email:r,ga:a},v,"federatedLinking",{F:h,D:m}),this.i=u}c(Qa,z),Qa.prototype.v=function(){this.u(this.i),this.l().focus(),z.prototype.v.call(this)},Qa.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(Qa.prototype,{l:hn,u:bn}),pt.federatedLinking=function(r,a,u,h,m){var v=rr(De(r));if(v&&v.a){var b=new Qa(u,Au(G(r),h),function(){Vu(r,b,h,u)},Wt(G(r)),Gt(G(r)));b.render(a),Ke(r,b),m&&b.a(m)}else Tt(r,a)},pt.federatedRedirect=function(r,a,u){var h=new tf;h.render(a),Ke(r,h),a=Na(G(r))[0],Vu(r,h,a,u)},pt.federatedSignIn=function(r,a,u,h,m){var v=new Qa(u,Au(G(r),h),function(){Vu(r,v,h,u)},Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v),m&&v.a(m)};function UN(r,a,u,h){var m=a.u();m?ze(r,a.I(de(r.Xb,r),[u,m],function(v){return v=v.user.linkWithCredential(h).then(function(b){return Mr(r,a,{user:b.user,credential:h,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo})}),ze(r,v),v},function(v){if(!v.name||v.name!="cancel")switch(v.code){case"auth/wrong-password":$t(a.i(),!1),wn(a.B(),_t(v));break;case"auth/too-many-requests":a.a(_t(v));break;default:yi("signInWithEmailAndPassword: "+v.message,void 0),a.a(_t(v))}})):a.i().focus()}pt.passwordLinking=function(r,a,u){var h=rr(De(r));sr(De(r));var m=h&&h.a;if(m){var v=new Wa(u,function(){UN(r,v,u,m)},function(){v.m(),we("passwordRecovery",r,a,u)},Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v)}else Tt(r,a)};function Ju(r,a,u,h,m,v){z.call(this,EE,{email:u,Ta:!!a},v,"passwordRecovery",{F:h,D:m}),this.l=r,this.u=a}c(Ju,z),Ju.prototype.v=function(){this.B(),this.H(this.l,this.u),_n(this.i())||this.i().focus(),za(this,this.i(),this.l),z.prototype.v.call(this)},Ju.prototype.o=function(){this.u=this.l=null,z.prototype.o.call(this)},he(Ju.prototype,{i:Lr,w:ws,B:Ga,M:Ka,j:Ya,U:hn,P:en,H:bn});function $N(r,a){var u=a.j();if(u){var h=Pt(a);ze(r,a.I(de(Xe(r).sendPasswordResetEmail,Xe(r)),[u],function(){a.m();var m=new Gh(u,function(){m.m(),Tt(r,h)},Wt(G(r)),Gt(G(r)));m.render(h),Ke(r,m)},function(m){$t(a.i(),!1),wn(a.w(),_t(m))}))}else a.i().focus()}pt.passwordRecovery=function(r,a,u,h,m){var v=new Ju(function(){$N(r,v)},h?void 0:function(){v.m(),Tt(r,a)},u,Wt(G(r)),Gt(G(r)));v.render(a),Ke(r,v),m&&v.a(m)},pt.passwordSignIn=function(r,a,u,h){var m=new Lu(function(){kN(r,m)},function(){var v=m.M();m.m(),we("passwordRecovery",r,a,v)},u,Wt(G(r)),Gt(G(r)),h);m.render(a),Ke(r,m)};function pv(){return nt(this,"firebaseui-id-name")}function mv(){return nt(this,"firebaseui-id-name-error")}function Qu(r,a,u,h,m,v,b,C,M){z.call(this,bE,{email:h,Tb:r,name:m,Ta:!!u,ia:!!C},M,"passwordSignUp",{F:v,D:b}),this.w=a,this.H=u,this.B=r}c(Qu,z),Qu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Du(this,this.i(),this.u()),Du(this,this.u(),this.l())):Du(this,this.i(),this.l()),this.w&&za(this,this.l(),this.w),_n(this.i())?this.B&&!_n(this.u())?this.u().focus():this.l().focus():this.i().focus(),z.prototype.v.call(this)},Qu.prototype.o=function(){this.H=this.w=null,z.prototype.o.call(this)},he(Qu.prototype,{i:Lr,U:ws,ea:Ga,jb:Ka,j:Ya,u:pv,Bc:mv,Ja:function(){var r=pv.call(this),a=mv.call(this);ja(this,r,function(){Ba(a)&&($t(r,!0),wi(a))})},M:function(){var r=pv.call(this),a=mv.call(this),u=_n(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),$t(r,u),u?(wi(a),a=!0):(wn(a,ct("Enter your account name").toString()),a=!1),a?F(_n(r)):null},l:Bu,ba:Zh,lb:Xh,ua:TI,P:AI,Nb:hn,Mb:en,pa:bn});function jN(r,a){var u=Vb(G(r)),h=a.j(),m=null;u&&(m=a.M());var v=a.P();if(h){if(u)if(m)m=Ie(m);else{a.u().focus();return}if(v){var b=Se.auth.EmailAuthProvider.credential(h,v);ze(r,a.I(de(r.Yb,r),[h,v],function(C){var M={user:C.user,credential:b,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo};return u?(C=C.user.updateProfile({displayName:m}).then(function(){return Mr(r,a,M)}),ze(r,C),C):Mr(r,a,M)},function(C){if(!C.name||C.name!="cancel"){var M=Mu(C);switch(C=_t(M),M.code){case"auth/email-already-in-use":return BN(r,a,h,M);case"auth/too-many-requests":C=ct("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":$t(a.l(),!1),wn(a.ba(),C);break;case"auth/admin-restricted-operation":To(G(r))?(C=Pt(a),a.m(),we("handleUnauthorizedUser",r,C,h,Se.auth.EmailAuthProvider.PROVIDER_ID)):a.a(C);break;default:M="setAccountInfo: "+fb(M),yi(M,void 0),a.a(C)}}}))}else a.l().focus()}else a.i().focus()}function BN(r,a,u,h){function m(){var b=_t(h);$t(a.i(),!1),wn(a.U(),b),a.i().focus()}var v=Xe(r).fetchSignInMethodsForEmail(u).then(function(b){b.length?m():(b=Pt(a),a.m(),we("passwordRecovery",r,b,u,!1,dw().toString()))},function(){m()});return ze(r,v),v}pt.passwordSignUp=function(r,a,u,h,m,v){function b(){C.m(),Tt(r,a)}var C=new Qu(Vb(G(r)),function(){jN(r,C)},m?void 0:b,u,h,Wt(G(r)),Gt(G(r)),v);C.render(a),Ke(r,C)};function gv(){return nt(this,"firebaseui-id-phone-confirmation-code")}function RI(){return nt(this,"firebaseui-id-phone-confirmation-code-error")}function kI(){return nt(this,"firebaseui-id-resend-countdown")}function Xa(r,a,u,h,m,v,b,C,M){z.call(this,eI,{phoneNumber:m},M,"phoneSignInFinish",{F:b,D:C}),this.jb=v,this.i=new Uh(1e3),this.B=v,this.P=r,this.l=a,this.H=u,this.M=h}c(Xa,z),Xa.prototype.v=function(){var r=this;this.U(this.jb),ji(this.i,"tick",this.w,!1,this),this.i.start(),Ot(this,nt(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),Ot(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),z.prototype.v.call(this)},Xa.prototype.o=function(){this.M=this.H=this.l=this.P=null,$h(this.i),yo(this.i,"tick",this.w),this.i=null,z.prototype.o.call(this)},Xa.prototype.w=function(){--this.B,0<this.B?this.U(this.B):($h(this.i),yo(this.i,"tick",this.w),this.ua(),this.lb())},he(Xa.prototype,{u:gv,pa:RI,Ja:function(r){var a=gv.call(this),u=RI.call(this);ja(this,a,function(){Ba(u)&&($t(a,!0),wi(u))}),r&&Nu(this,a,function(){r()})},ba:function(){var r=F(_n(gv.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:kI,U:function(r){sg(kI.call(this),ct("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){wi(this.Fb())},Da:function(){return nt(this,"firebaseui-id-resend-link")},lb:function(){wn(this.Da())},Nb:hn,Mb:en,ea:bn});function HN(r,a,u,h){function m(b){a.u().focus(),$t(a.u(),!1),wn(a.pa(),b)}var v=a.ba();v?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ct("Verifying...").toString()),ze(r,a.I(de(h.confirm,h),[v],function(b){a.h(),a.$("firebaseui-icon-done",ct("Verified!").toString());var C=setTimeout(function(){a.h(),a.m();var M={user:Hi(r).currentUser,credential:null,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo};Mr(r,a,M,!0)},1e3);ze(r,function(){a&&a.h(),clearTimeout(C)})},function(b){if(b.name&&b.name=="cancel")a.h();else{var C=Mu(b);switch(b=_t(C),C.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":C=Pt(a),a.h(),a.m(),we("phoneSignInStart",r,C,u,b);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(b);break;default:a.h(),a.a(b)}}}))):m(ct("Wrong code. Try again.").toString())}pt.phoneSignInFinish=function(r,a,u,h,m,v){var b=new Xa(function(){b.m(),we("phoneSignInStart",r,a,u)},function(){HN(r,b,u,m)},function(){b.m(),Tt(r,a)},function(){b.m(),we("phoneSignInStart",r,a,u)},Wg(u),h,Wt(G(r)),Gt(G(r)));b.render(a),Ke(r,b),v&&b.a(v)};var qN=!Vt&&!(Qe("Safari")&&!(H1()||Qe("Coast")||Qe("Opera")||Qe("Edge")||Qe("Firefox")||Qe("FxiOS")||Qe("Silk")||Qe("Android")));function nf(r,a){return/-[a-z]/.test(a)?null:qN&&r.dataset?!Qe("Android")||H1()||Qe("Firefox")||Qe("FxiOS")||Qe("Opera")||Qe("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function zN(r,a,u){var h=this;r=uu(fE,{items:r},null,this.s),mE.call(this,r,!0,!0),u&&(u=WN(r,u))&&(u.focus(),_N(u,r)),Ot(this,r,function(m){(m=(m=rw(m.target,"firebaseui-id-list-box-dialog-button"))&&nf(m,"listboxid"))&&(qh.call(h),a(m))})}function WN(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(nf(r[u],"listboxid")===a)return r[u];return null}function So(){return nt(this,"firebaseui-id-phone-number")}function PI(){return nt(this,"firebaseui-id-country-selector")}function vv(){return nt(this,"firebaseui-id-phone-number-error")}function GN(r,a){var u=r.a,h=yv("1-US-0",u),m=null;if(a&&yv(a,u)?m=a:h?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");rf.call(this,m,r)}function yv(r,a){return r=Io(r),!(!r||!$(a,r))}function KN(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+_v(a),label:a.name+" "+("‎+"+a.b)}})}function _v(r){return"firebaseui-flag-"+r.f}function YN(r){var a=this;zN.call(this,KN(r.a),function(u){rf.call(a,u,r,!0),a.O().focus()},this.Ba)}function rf(r,a,u){var h=Io(r);h&&(u&&(u=F(_n(So.call(this))||""),a=Dh(a,u),a.length&&a[0].b!=h.b&&(u="+"+h.b+u.substr(a[0].b.length+1),Hb(So.call(this),u))),a=Io(this.Ba),this.Ba=r,r=nt(this,"firebaseui-id-country-selector-flag"),a&&ar(r,_v(a)),or(r,_v(h)),sg(nt(this,"firebaseui-id-country-selector-code"),"‎+"+h.b))}function Xu(r,a,u,h,m,v,b,C,M,te){z.call(this,ZE,{Gb:a,Aa:M||null,Va:!!u,ia:!!v},te,"phoneSignInStart",{F:h,D:m}),this.H=C||null,this.M=a,this.l=r,this.w=u||null,this.pa=b||null}c(Xu,z),Xu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Du(this,this.O(),this.i()),za(this,this.i(),this.l),this.O().focus(),ef(this.O(),(this.O().value||"").length),z.prototype.v.call(this)},Xu.prototype.o=function(){this.w=this.l=null,z.prototype.o.call(this)},he(Xu.prototype,{Cb:lv,O:So,B:vv,ea:function(r,a,u){var h=this,m=So.call(this),v=PI.call(this),b=vv.call(this),C=r||Tu,M=C.a;if(M.length==0)throw Error("No available countries provided.");GN.call(h,C,a),Ot(this,v,function(){YN.call(h,C)}),ja(this,m,function(){Ba(b)&&($t(m,!0),wi(b));var te=F(_n(m)||""),Ee=Io(this.Ba),vt=Dh(C,te);te=yv("1-US-0",M),vt.length&&vt[0].b!=Ee.b&&(Ee=vt[0],rf.call(h,Ee.b=="1"&&te?"1-US-0":Ee.c,C))}),u&&Nu(this,m,function(){u()})},U:function(r){var a=F(_n(So.call(this))||"");r=r||Tu;var u=r.a,h=Dh(Tu,a);if(h.length&&!$(u,h[0]))throw Hb(So.call(this)),So.call(this).focus(),wn(vv.call(this),ct("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=Io(this.Ba),h.length&&h[0].b!=u.b&&rf.call(this,h[0].c,r),h.length&&(a=a.substr(h[0].b.length+1)),a?new Cb(this.Ba,a):null},Ja:PI,ba:function(){return nt(this,"firebaseui-recaptcha-container")},u:function(){return nt(this,"firebaseui-id-recaptcha-error")},i:hn,ua:en,P:bn});function xI(r,a,u,h){try{var m=a.U(ev)}catch{return}m?Cu?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",ct("Verifying...").toString()),ze(r,a.I(de(r.cc,r),[Wg(m),u],function(v){var b=Pt(a);a.$("firebaseui-icon-done",ct("Code sent!").toString());var C=setTimeout(function(){a.h(),a.m(),we("phoneSignInFinish",r,b,m,15,v)},1e3);ze(r,function(){a&&a.h(),clearTimeout(C)})},function(v){if(a.h(),!v.name||v.name!="cancel"){grecaptcha.reset(jb),Cu=null;var b=v&&v.message||"";if(v.code)switch(v.code){case"auth/too-many-requests":b=ct("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),wn(a.B(),ug().toString());return;case"auth/admin-restricted-operation":if(To(G(r))){v=Pt(a),a.m(),we("handleUnauthorizedUser",r,v,Wg(m),Se.auth.PhoneAuthProvider.PROVIDER_ID);return}b=_t(v);break;default:b=_t(v)}a.a(b)}}))):La?wn(a.u(),ct("Solve the reCAPTCHA").toString()):!La&&h&&a.i().click():(a.O().focus(),wn(a.B(),ug().toString()))}pt.phoneSignInStart=function(r,a,u,h){var m=sN(G(r))||{};Cu=null,La=!(m&&m.size==="invisible");var v=yI(r),b=dN(G(r)),C=v?cN(G(r)):null;b=u&&u.a||b&&b.c||null,u=u&&u.Aa||C,(C=Gg(G(r)))&&Sb(C),ev=C?new Ib(Gg(G(r))):Tu;var M=new Xu(function(Ee){xI(r,M,te,!(!Ee||!Ee.keyCode))},La,v?null:function(){te.clear(),M.m(),Tt(r,a)},Wt(G(r)),Gt(G(r)),v,ev,b,u);M.render(a),Ke(r,M),h&&M.a(h),m.callback=function(Ee){M.u()&&wi(M.u()),Cu=Ee,La||xI(r,M,te)},m["expired-callback"]=function(){Cu=null};var te=new Se.auth.RecaptchaVerifier(La?M.ba():M.i(),m,Hi(r).app);ze(r,M.I(de(te.render,te),[],function(Ee){jb=Ee},function(Ee){Ee.name&&Ee.name=="cancel"||(Ee=_t(Ee),M.m(),Tt(r,a,void 0,Ee))}))},pt.prefilledEmailSignIn=function(r,a,u){var h=new tf;h.render(a),Ke(r,h),ze(r,h.I(de(Xe(r).fetchSignInMethodsForEmail,Xe(r)),[u],function(m){h.m();var v=!(!Yh(r)||!DI(r));wI(r,a,m,u,void 0,v)},function(m){m=_t(m),h.m(),we("signIn",r,a,u,m)}))};function Zu(r,a,u,h,m){z.call(this,XE,{Sb:a},m,"providerSignIn",{F:u,D:h}),this.i=r}c(Zu,z),Zu.prototype.v=function(){this.l(this.i),z.prototype.v.call(this)},Zu.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(Zu.prototype,{l:function(r){function a(b){r(b)}for(var u=this.g?ig("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var m=u[h],v=nf(m,"providerId");Ot(this,m,se(a,v))}}}),pt.providerSignIn=function(r,a,u,h){var m=new Zu(function(v){v==Se.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),dv(r,a,h)):v==Se.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),we("phoneSignInStart",r,a)):v=="anonymous"?CN(r,m):Vu(r,m,v,h),it(r),r.l.cancel()},xb(G(r)),Wt(G(r)),Gt(G(r)));m.render(a),Ke(r,m),u&&m.a(u),XN(r)},pt.sendEmailLinkForSignIn=function(r,a,u,h){var m=new Jh;m.render(a),Ke(r,m),cv(r,m,u,h,function(v){m.m(),v&&v.code=="auth/admin-restricted-operation"&&To(G(r))?we("handleUnauthorizedUser",r,a,u,Se.auth.EmailAuthProvider.PROVIDER_ID):(v=_t(v),we("signIn",r,a,u,v))})};function ec(r,a,u,h,m,v,b){z.call(this,_E,{email:u,Va:!!a,ia:!!v},b,"signIn",{F:h,D:m}),this.i=r,this.u=a}c(ec,z),ec.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),ef(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},ec.prototype.o=function(){this.u=this.i=null,z.prototype.o.call(this)},he(ec.prototype,{l:Lr,M:ws,w:Ga,H:Ka,j:Ya,U:hn,P:en,B:bn}),pt.signIn=function(r,a,u,h){var m=Yh(r),v=new ec(function(){var b=v,C=b.j()||"";C&&_I(r,b,C)},m?null:function(){v.m(),Tt(r,a,u)},u,Wt(G(r)),Gt(G(r)),m);v.render(a),Ke(r,v),h&&v.a(h)};function tc(r,a,u,h,m,v,b){z.call(this,ME,{kc:r,yb:u,Eb:!!h},b,"unauthorizedUser",{F:m,D:v}),this.l=a,this.i=h}c(tc,z),tc.prototype.v=function(){var r=this,a=nt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&Ot(this,a,function(){r.i()}),Ot(this,this.u(),function(){r.l()}),this.u().focus(),z.prototype.v.call(this)},tc.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},he(tc.prototype,{u:en}),pt.handleUnauthorizedUser=function(r,a,u,h){function m(){Tt(r,a)}h===Se.auth.EmailAuthProvider.PROVIDER_ID?m=function(){dv(r,a)}:h===Se.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){we("phoneSignInStart",r,a)});var v=null,b=null;h===Se.auth.EmailAuthProvider.PROVIDER_ID&&Nb(G(r))?(v=lN(G(r)),b=uN(G(r))):To(G(r))&&(v=oN(G(r)),b=aN(G(r)));var C=new tc(u,function(){C.m(),m()},v,b,Wt(G(r)),Gt(G(r)));C.render(a),Ke(r,C)};function nc(r,a,u,h,m,v){z.call(this,VE,{email:r},v,"unsupportedProvider",{F:h,D:m}),this.l=a,this.i=u}c(nc,z),nc.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),z.prototype.v.call(this)},nc.prototype.o=function(){this.i=this.l=null,z.prototype.o.call(this)},he(nc.prototype,{u:hn,B:en,w:bn}),pt.unsupportedProvider=function(r,a,u){var h=new nc(u,function(){h.m(),we("passwordRecovery",r,a,u)},function(){h.m(),Tt(r,a,u)},Wt(G(r)),Gt(G(r)));h.render(a),Ke(r,h)};function lr(r,a){this.$=!1;var u=wv(a);if(ic[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');ic[u]=this,this.a=r,this.u=null,this.Y=!1,OI(this.a),this.h=Se.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),OI(this.h),this.h.setPersistence&&this.h.setPersistence(Se.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new rN,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Ag.Xa(),this.j=this.C=null,this.da=this.A=!1}function OI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var ic={};function wv(r){return r||"[DEFAULT]"}function NI(r){return it(r),r.i||(r.i=Vr(r,function(a){return a&&!rr(De(r))?Ut(Hi(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Es(r,u)})):Ut(Xe(r).getRedirectResult().then(function(u){return Lh(G(r))&&!u.user&&r.j&&!r.j.isAnonymous?Hi(r).getRedirectResult():u}))})),r.i}function Ke(r,a){it(r),r.g=a}var Za=null;function Xe(r){return it(r),r.h}function Hi(r){return it(r),r.a}function De(r){return it(r),r.oa}function DI(r){return it(r),r.O?r.O.emailHint:void 0}t=lr.prototype,t.nb=function(){return it(this),!!jg(De(this))||LI(Dr())};function LI(r){return r=new ho(r),(r.a.a.get(Qt.ub)||null)==="signIn"&&!!r.a.a.get(Qt.$a)}t.start=function(r,a){MI(this,r,a)};function MI(r,a,u,h){it(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=h||null;var v=g.document;r.C?r.C.then(function(){v.readyState=="complete"?sf(r,a):pu(window,"load",function(){sf(r,a)})}):v.readyState=="complete"?sf(r,a):pu(window,"load",function(){sf(r,a)})}function sf(r,a){var u=fh(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Za){var h=Za;it(h),rr(De(h))&&ys("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Za.reset()}if(Za=r,r.T=u,QN(r,u),Nh(new Vg)&&Nh(new Fg)){a=fh(a,"Could not find the FirebaseUI widget element on the page."),u=Dr(),h=qg(G(r).a,"queryParameterForSignInSuccessUrl"),u=(u=Qd(u,h))?ds(Zd(u)).toString():null;e:{h=Dr();var m=Mb(G(r));h=Qd(h,m)||"";for(v in Zg)if(Zg[v].toLowerCase()==h.toLowerCase()){var v=Zg[v];break e}v="callback"}switch(v){case"callback":u&&(v=De(r),xa(Eu,u,v)),r.nb()?we("callback",r,a):Tt(r,a,DI(r));break;case"resetPassword":we("passwordReset",r,a,Fu(),hv());break;case"recoverEmail":we("emailChangeRevocation",r,a,Fu());break;case"revertSecondFactorAddition":we("revertSecondFactorAddition",r,a,Fu());break;case"verifyEmail":we("emailVerification",r,a,Fu(),hv());break;case"verifyAndChangeEmail":we("verifyAndChangeEmail",r,a,Fu(),hv());break;case"signIn":we("emailLinkSignInCallback",r,a,Dr()),$I();break;case"select":u&&(v=De(r),xa(Eu,u,v)),Tt(r,a);break;default:throw Error("Unhandled widget operation.")}a=G(r),(a=Su(a).uiShown||null)&&a()}else a=fh(a,"Could not find the FirebaseUI widget element on the page."),v=new gI(ct("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),v.render(a),Ke(r,v);a=r.g&&r.g.Ga=="blank"&&Kg(G(r)),jg(De(r))&&!a&&(a=jg(De(r)),UI(r,a.a),li(Eo,De(r)))}function Vr(r,a){if(r.A)return a(VI(r));if(ze(r,function(){r.A=!1}),Lh(G(r))){var u=new Zt(function(h){ze(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,h(a(VI(r))))}))});return ze(r,u),u}return r.A=!0,a(null)}function VI(r){return it(r),Lh(G(r))&&r.j&&r.j.isAnonymous?r.j:null}function ze(r,a){if(it(r),a){r.s.push(a);var u=function(){ft(r.s,function(h){return h==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){it(this),this.Z=!0};function JN(r){it(r);var a;return(a=r.Z)||(r=G(r),r=Lb(r,Se.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function FI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function UI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){it(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&xO(this.J),FI(this),this.O=null,$I(),li(Eo,De(this)),it(this),this.l.cancel(),this.i=Ut({user:null,credential:null}),Za==this&&(Za=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],sr(De(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=bs(this).then(function(){r.C=null},function(){r.C=null}))};function QN(r,a){r.L=null,r.J=new dh(a),r.J.register(),ji(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var h=G(r);(h=Su(h).uiChanged||null)&&h(r.L,u),r.L=u}})}t.ib=function(r){it(this);var a=this.ca,u;for(u in r)try{Hg(a.a,u,r[u])}catch{yi('Invalid config: "'+u+'"',void 0)}Xx&&Hg(a.a,"popupMode",!1),Gg(a),!this.da&&Yg(G(this))&&(ys("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function G(r){return it(r),r.ca}t.Wb=function(){it(this);var r=G(this),a=qg(r.a,"widgetUrl");r=Mb(r);for(var u=a.search(L1),h=0,m,v=[];0<=(m=D1(a,h,r,u));)v.push(a.substring(h,m)),h=Math.min(a.indexOf("&",m)+1||u,u);v.push(a.substr(h)),a=v.join("").replace(jx,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),h=a.indexOf("?"),0>h||h>u?(h=u,m=""):m=a.substring(h+1,u),a=[a.substr(0,h),m,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,G(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=Vw(u,r))&&r.focus()):wa(window.location,u)};function it(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return it(this),this.h.app.delete().then(function(){var a=wv(De(r));delete ic[a],r.reset(),r.$=!0})};function XN(r){it(r);try{Hw(r.l,Ob(G(r)),JN(r)).then(function(a){return r.g?RN(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){it(this);var u=this,h=FO();if(!Da(G(this)))return ba(Error("Email link sign-in should be enabled to trigger email sending."));var m=fN(G(this)),v=new ho(m.url);return Kx(v,h),a&&a.a&&(iN(h,a,De(this)),$1(v,a.a.providerId)),Yx(v,hN(G(this))),Vr(this,function(b){return b&&((b=b.uid)?v.a.a.set(Qt.Pa,b):co(v.a.a,Qt.Pa)),m.url=v.toString(),Xe(u).sendSignInLinkToEmail(r,m)}).then(function(){var b=De(u),C={};C.email=r,xa(ka,cb(h,JSON.stringify(C)),b)},function(b){throw li(Iu,De(u)),li(ka,De(u)),b})};function ZN(r,a){var u=U1(new ho(a));return u?(a=new Zt(function(h,m){var v=Hi(r).onAuthStateChanged(function(b){v(),b&&b.isAnonymous&&b.uid===u?h(b):b&&b.isAnonymous&&b.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});ze(r,v)}),ze(r,a),a):Ut(null)}function eD(r,a,u,h,m){it(r);var v=m||null,b=Se.auth.EmailAuthProvider.credentialWithLink(u,h);return u=v?Xe(r).signInWithEmailLink(u,h).then(function(C){return C.user.linkWithCredential(v)}).then(function(){return bs(r)}).then(function(){return Es(r,{code:"auth/email-already-in-use"},v)}):Xe(r).fetchSignInMethodsForEmail(u).then(function(C){return C.length?Es(r,{code:"auth/email-already-in-use"},b):a.linkWithCredential(b)}),ze(r,u),u}function tD(r,a,u,h){it(r);var m=h||null,v;return a=Xe(r).signInWithEmailLink(a,u).then(function(b){if(v={user:b.user,credential:null,operationType:b.operationType,additionalUserInfo:b.additionalUserInfo},m)return b.user.linkWithCredential(m).then(function(C){v={user:C.user,credential:m,operationType:v.operationType,additionalUserInfo:C.additionalUserInfo}})}).then(function(){bs(r)}).then(function(){return Hi(r).updateCurrentUser(v.user)}).then(function(){return v.user=Hi(r).currentUser,v}),ze(r,a),a}function $I(){var r=Dr();if(LI(r)){r=new ho(r);for(var a in Qt)Qt.hasOwnProperty(a)&&co(r.a.a,Qt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=g.document.title;g.history&&g.history.replaceState&&g.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){it(this);var u=this;return Xe(this).signInWithEmailAndPassword(r,a).then(function(h){return Vr(u,function(m){return m?bs(u).then(function(){return Es(u,{code:"auth/email-already-in-use"},Se.auth.EmailAuthProvider.credential(r,a))}):h})})},t.Yb=function(r,a){it(this);var u=this;return Vr(this,function(h){if(h){var m=Se.auth.EmailAuthProvider.credential(r,a);return h.linkWithCredential(m)}return Xe(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){it(this);var a=this;return Vr(this,function(u){return u?u.linkWithCredential(r).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Es(a,h,r)}):Xe(a).signInWithCredential(r)})};function nD(r,a){return it(r),Vr(r,function(u){return u&&!rr(De(r))?u.linkWithPopup(a).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Es(r,h)}):Xe(r).signInWithPopup(a)})}t.dc=function(r){it(this);var a=this,u=this.i;return this.i=null,Vr(this,function(h){return h&&!rr(De(a))?h.linkWithRedirect(r):Xe(a).signInWithRedirect(r)}).then(function(){},function(h){throw a.i=u,h})},t.cc=function(r,a){it(this);var u=this;return Vr(this,function(h){return h?h.linkWithPhoneNumber(r,a).then(function(m){return new Cg(m,function(v){if(v.code=="auth/credential-already-in-use")return Es(u,v);throw v})}):Hi(u).signInWithPhoneNumber(r,a).then(function(m){return new Cg(m)})})},t.$b=function(){return it(this),Hi(this).signInAnonymously()};function iD(r,a){return it(r),Vr(r,function(u){if(r.j&&!r.j.isAnonymous&&Lh(G(r))&&!Xe(r).currentUser)return bs(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return bs(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(h){return a.user=h.user,a.credential=h.credential,a.operationType=h.operationType,a.additionalUserInfo=h.additionalUserInfo,a},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Es(r,h,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return bs(r).then(function(){return Hi(r).updateCurrentUser(a.user)}).then(function(){return a.user=Hi(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return it(this),Xe(this).signInWithEmailAndPassword(r,a)};function bs(r){return it(r),Xe(r).signOut()}function Es(r,a,u){if(it(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var h=$b(G(r));return Ut().then(function(){return h(new cu("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return ba(a)}function rc(r,a,u,h){z.call(this,iI,void 0,h,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(rc,z),rc.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),ef(this.l(),(this.l().value||"").length),z.prototype.v.call(this)},rc.prototype.o=function(){this.i=null,z.prototype.o.call(this)},he(rc.prototype,{l:Lr,H:ws,u:Ga,B:Ka,j:Ya,M:hn,w:bn});function of(r,a,u,h,m){z.call(this,nI,{ec:a},m,"selectTenant",{F:u,D:h}),this.i=r}c(of,z),of.prototype.v=function(){rD(this,this.i),z.prototype.v.call(this)},of.prototype.o=function(){this.i=null,z.prototype.o.call(this)};function rD(r,a){function u(C){a(C)}for(var h=r.g?ig("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<h.length;m++){var v=h[m],b=nf(v,"tenantId");Ot(r,v,se(u,b))}}function bv(r){z.call(this,AE,void 0,r,"spinner")}c(bv,z);function sD(r){this.a=new Bg,zt(this.a,"authDomain"),zt(this.a,"displayMode",lf),zt(this.a,"tenants"),zt(this.a,"callbacks"),zt(this.a,"tosUrl"),zt(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{Hg(this.a,a,r[a])}catch{yi('Invalid config: "'+a+'"',void 0)}}function oD(r){r=r.a.get("displayMode");for(var a in Iv)if(Iv[a]===r)return Iv[a];return lf}function af(r){return r.a.get("callbacks")||{}}function jI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&ys("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){Ia(a)}}return null}function BI(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&ys("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Ia(u)}}return null}function Ev(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(uf))throw Error("Invalid tenant configuration!")}function HI(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var h=[];if(r=r[a]||r[uf],!r)return yi("Invalid tenant configuration: "+(a+" is not configured!"),void 0),h;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")h.push(m);else if(typeof m.provider=="string"){var v=m.hd;v&&u?(v instanceof RegExp?v:new RegExp("@"+v.replace(".","\\.")+"$")).test(u)&&h.push(m.provider):h.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),yi(m,void 0)}),h}function aD(r,a,u){return r=lD(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),r.signInOptions=a),r}function lD(r,a){var u=uD,h=h===void 0?{}:h;return Ev(r,a),r=r.a.get("tenants"),UO(r[a]||r[uf],u,h)}var uD=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],lf="optionFirst",Iv={pc:lf,oc:"identifierFirst"},uf="*";function qi(r,a){var u=this;this.s=fh(r),this.a={},Object.keys(a).forEach(function(h){u.a[h]=new sD(a[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=qi.prototype,t.Ub=function(r,a){var u=this;Is(this);var h=r.apiKey;return new Zt(function(m,v){if(u.a.hasOwnProperty(h)){var b=af(u.a[h]).selectTenantUiHidden||null;if(oD(u.a[h])===lf){var C=[];a.forEach(function(Ee){Ee=Ee||"_";var vt=u.a[h].a.get("tenants");if(!vt)throw Error("Invalid tenant configuration!");(vt=vt[Ee]||vt[uf])?Ee={tenantId:Ee!=="_"?Ee:null,V:vt.fullLabel||null,displayName:vt.displayName,za:vt.iconUrl,ta:vt.buttonColor}:(yi("Invalid tenant configuration: "+(Ee+" is not configured!"),void 0),Ee=null),Ee&&C.push(Ee)});var M=function(Ee){Ee={tenantId:Ee,providerIds:HI(u.a[h],Ee||"_")},m(Ee)};if(C.length===1){M(C[0].tenantId);return}u.g=new of(function(Ee){Is(u),b&&b(),M(Ee)},C,jI(u.a[h]),BI(u.a[h]))}else u.g=new rc(function(){var Ee=u.g.j();if(Ee){for(var vt=0;vt<a.length;vt++){var zi=HI(u.a[h],a[vt]||"_",Ee);if(zi.length!==0){Ee={tenantId:a[vt],providerIds:zi,email:Ee},Is(u),b&&b(),m(Ee);return}}u.g.a(hw({code:"no-matching-tenant-for-email"}).toString())}},jI(u.a[h]),BI(u.a[h]));u.g.render(u.s),(v=af(u.a[h]).selectTenantUiShown||null)&&v()}else{var te=Error("Invalid project configuration: API key is invalid!");te.code="invalid-configuration",u.pb(te),v(te)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;Ev(this.a[r],a||"_");try{this.i=Se.app(u).auth()}catch{var h=this.a[r].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");r=Se.initializeApp({apiKey:r,authDomain:h},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new Zt(function(h,m){function v(vt,zi){u.j=new lr(r),MI(u.j,u.s,vt,zi)}var b=r.app.options.apiKey;u.a.hasOwnProperty(b)||m(Error("Invalid project configuration: API key is invalid!"));var C=aD(u.a[b],r.tenantId||"_",a&&a.providerIds);Is(u),m={signInSuccessWithAuthResult:function(vt){return h(vt),!1}};var M=af(u.a[b]).signInUiShown||null,te=!1;m.uiChanged=function(vt,zi){vt===null&&zi==="callback"?((vt=rg("firebaseui-id-page-callback",u.s))&&wi(vt),u.h=new bv,u.h.render(u.s)):te||vt===null&&zi==="spinner"||zi==="blank"||(u.h&&(u.h.m(),u.h=null),te=!0,M&&M(r.tenantId))},C.callbacks=m,C.credentialHelper="none";var Ee;a&&a.email&&(Ee={emailHint:a.email}),u.j?u.j.Wa().then(function(){v(C,Ee)}):v(C,Ee)})},t.reset=function(){var r=this;return Ut().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,Is(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){Is(r),r.h=new bv,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Is(this),this.g=new dI,this.g.render(this.s),Ut()};function Is(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=hw({code:r.code}).toString()||r.message;Is(this);var h;r.retry&&typeof r.retry=="function"&&(h=function(){a.reset(),r.retry()}),this.g=new mI(u,h),this.g.render(this.s)},t.Rb=function(r){var a=this;return Ut().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(Ev(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=af(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},ee("firebaseui.auth.FirebaseUiHandler",qi),ee("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",qi.prototype.Ub),ee("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",qi.prototype.Pb),ee("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",qi.prototype.Zb),ee("firebaseui.auth.FirebaseUiHandler.prototype.reset",qi.prototype.reset),ee("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",qi.prototype.Vb),ee("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",qi.prototype.mb),ee("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",qi.prototype.Bb),ee("firebaseui.auth.FirebaseUiHandler.prototype.handleError",qi.prototype.pb),ee("firebaseui.auth.FirebaseUiHandler.prototype.processUser",qi.prototype.Rb),ee("firebaseui.auth.AuthUI",lr),ee("firebaseui.auth.AuthUI.getInstance",function(r){return r=wv(r),ic[r]?ic[r]:null}),ee("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",lr.prototype.Db),ee("firebaseui.auth.AuthUI.prototype.start",lr.prototype.start),ee("firebaseui.auth.AuthUI.prototype.setConfig",lr.prototype.ib),ee("firebaseui.auth.AuthUI.prototype.signIn",lr.prototype.Wb),ee("firebaseui.auth.AuthUI.prototype.reset",lr.prototype.reset),ee("firebaseui.auth.AuthUI.prototype.delete",lr.prototype.Wa),ee("firebaseui.auth.AuthUI.prototype.isPendingRedirect",lr.prototype.nb),ee("firebaseui.auth.AuthUIError",cu),ee("firebaseui.auth.AuthUIError.prototype.toJSON",cu.prototype.toJSON),ee("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Jg),ee("firebaseui.auth.CredentialHelper.NONE",Vh),ee("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Zt.prototype.catch=Zt.prototype.Ca,Zt.prototype.finally=Zt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=M$);var V$=firebaseui.auth;const Am=Pp(SU),fi=K9(Am);G0(Am,"northamerica-northeast1");const Kk=nC(Am),eJ=new V$.AuthUI(Kk),F$=e1(Am);Z0(F$);const fa=t=>{console.error(`Error fetching documents with conditions: ${t}`)},U$=async t=>{try{return(await Cr(na(fi,t))).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return fa(e),[]}},tJ=async(t,e,n,i)=>{try{if(i){const s=In(na(fi,t),ts(...e),Im(i),Qs(n)),o=await Cr(s),l=o.docs.map(d=>({id:d.id,...d.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}else{const s=In(na(fi,t),ts(...e),Qs(n)),o=await Cr(s),l=o.docs.map(d=>({id:d.id,...d.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}}catch(s){return fa(s),{lastVisible:{},docs:[]}}},nJ=async(t,e,n,i,s,o,l)=>{try{if(l){const c=In(na(fi,t),wr(e,n,i),ts(e),Im(l),Qs(o)),d=await Cr(c),f=d.docs.map(g=>({id:g.id,...g.data()}));return{lastVisible:d.docs[d.docs.length-1],docs:f}}else{const c=In(Bd(fi,t),wr(e,n,i),ts(...s),Qs(o)),d=await Cr(c),f=d.docs.map(g=>({id:g.id,...g.data()}));return{lastVisible:d.docs[d.docs.length-1],docs:f}}}catch(c){return fa(c),{lastVisible:{},docs:[]}}},iJ=async(t,e,n,i,s,o,l,c,d,f)=>{try{if(f){const p=In(na(fi,t),wr(e,n,i),wr(s,o,l),ts(e),Im(f),Qs(d)),g=await Cr(p),y=g.docs.map(A=>({id:A.id,...A.data()}));return{lastVisible:g.docs[g.docs.length-1],docs:y}}else{const p=In(Bd(fi,t),wr(e,n,i),wr(s,o,l),ts(...c),Qs(d)),g=await Cr(p),y=g.docs.map(A=>({id:A.id,...A.data()}));return{lastVisible:g.docs[g.docs.length-1],docs:y}}}catch(p){return fa(p),{lastVisible:{},docs:[]}}},rJ=async(t,e=[],n=[],i,s)=>{try{let o=In(Bd(fi,t));if(e.forEach(l=>{l.length===3&&(o=In(o,wr(...l)))}),n&&n.length===2&&(o=In(o,ts(n[0],n[1]))),s){const l=In(o,Im(s),Qs(i)),c=await Cr(l),d=c.docs.map(p=>({id:p.id,...p.data()}));return{lastVisible:c.docs[c.docs.length-1],docs:d}}else{const l=In(o,Qs(i)),c=await Cr(l),d=c.docs.map(p=>({id:p.id,...p.data()}));return{lastVisible:c.docs[c.docs.length-1],docs:d}}}catch(o){return fa(o),{lastVisible:{},docs:[]}}},yp=async(t,e)=>{try{const n=D0(fi,t,e);return(await aU(n)).data()}catch(n){return fa(n),[]}},i1=async(t,e,n="id")=>{try{const i=In(Bd(fi,t),wr(n,"==",e)),s=await Cr(i);if(s.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const o=s.docs[0];return{id:o.id,...o.data()}}catch(i){return fa(i),null}},sJ=t=>t instanceof ln,oJ=t=>t.toDate();function SA(t,e=[],n=[],i=()=>{},s=()=>{},o,l=()=>{},c=()=>{},d=p=>{console.log("Document added:",p)},f=p=>{console.log("Document removed:",p)}){let p,g=!1;return{subscribe:()=>{o.value=!0,console.log("Firestore subscription starting:",t,e),l();let A=In(Bd(fi,t));e.forEach(_=>{_.length===3&&(A=In(A,wr(..._)))}),n&&n.length===2&&(A=In(A,ts(n[0],n[1]))),p=z0(A,_=>{_.docChanges().forEach(T=>{!g&&T.type==="added"||T.type==="added"&&d({id:T.doc.id,...T.doc.data()}),T.type==="removed"&&f({id:T.doc.id,...T.doc.data()})}),g||(g=!0);const I=_.docs.map(T=>({id:T.id,...T.data()}));i(I),console.log("Firestore data received:",I),o.value=!1,c()},_=>{console.error("Firestore subscription error:",_),s(_),o.value=!1,c()})},unsubscribe:()=>{p&&(console.log("Unsubscribing from Firestore:",t),p(),o.value=!1,c())}}}function $$(t,e=[],n=[],i=()=>{},s=()=>{},o,l=()=>{},c=()=>{},d=p=>{console.log("Document added:",p)},f=p=>{console.log("Document removed:",p)}){let p,g=!1;return{subscribe:()=>{o.value=!0,console.log("Firestore subscription starting:",t,e),l();let A=In(na(fi,t));e.forEach(_=>{_.length===3&&(A=In(A,wr(..._)))}),n&&n.length===2&&(A=In(A,ts(n[0],n[1]))),p=z0(A,_=>{_.docChanges().forEach(T=>{!g&&T.type==="added"||T.type==="added"&&d({id:T.doc.id,...T.doc.data()}),T.type==="removed"&&f({id:T.doc.id,...T.doc.data()})}),g||(g=!0);const I=_.docs.map(T=>({id:T.id,...T.data()}));i(I),console.log("Firestore data received:",I),o.value=!1,c()},_=>{console.error("Firestore subscription error:",_),s(_),o.value=!1,c()})},unsubscribe:()=>{p&&(console.log("Unsubscribing from Firestore:",t),p(),o.value=!1,c())}}}function aJ(t,e,n=()=>{},i=()=>{},s,o=()=>{},l=()=>{}){let c;return{subscribe:()=>{s.value=!0,console.log("Firestore subscription starting:",t,e),o(),c=z0(D0(fi,t,e),p=>{const g={id:p.id,...p.data()};n(g),console.log("Firestore data received:",g),s.value=!1,l()},p=>{console.error("Firestore subscription error:",p),i(p),s.value=!1,l()})},unsubscribe:()=>{c&&(console.log("Unsubscribing from Firestore:",t,e),c(),s.value=!1,l())}}}function Tn(t,e,n,i=()=>{console.log("Function call start")},s=c=>{console.log("Function call data:",c)},o=()=>{console.log("Function call end")},l=c=>{console.error("Function call error: ",c)}){return{callFunction:async()=>{console.log(`Calling function '${t}' with payload:`,e),n.value=!0,i();try{const d=wk(G0(void 0,"northamerica-northeast1"),t);console.log("cloudFunction",d);const f=await d(e);return console.log(`Function '${t}' returned successfully:`,f),s(f),n.value=!1,o(),f}catch(d){throw console.error(`Error calling function '${t}':`,d),n.value=!1,l(d),d}}}}function r1(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ct={},yl=[],Ki=()=>{},j$=()=>!1,B$=/^on[^a-z]/,Sm=t=>B$.test(t),s1=t=>t.startsWith("onUpdate:"),mn=Object.assign,o1=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},H$=Object.prototype.hasOwnProperty,dt=(t,e)=>H$.call(t,e),Re=Array.isArray,_l=t=>zd(t)==="[object Map]",Zl=t=>zd(t)==="[object Set]",CA=t=>zd(t)==="[object Date]",He=t=>typeof t=="function",Kt=t=>typeof t=="string",Ll=t=>typeof t=="symbol",Et=t=>t!==null&&typeof t=="object",Yk=t=>(Et(t)||He(t))&&He(t.then)&&He(t.catch),Jk=Object.prototype.toString,zd=t=>Jk.call(t),q$=t=>zd(t).slice(8,-1),Qk=t=>zd(t)==="[object Object]",a1=t=>Kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$f=r1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},z$=/-(\w)/g,Rr=Cm(t=>t.replace(z$,(e,n)=>n?n.toUpperCase():"")),W$=/\B([A-Z])/g,eu=Cm(t=>t.replace(W$,"-$1").toLowerCase()),Rm=Cm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yv=Cm(t=>t?`on${Rm(t)}`:""),sa=(t,e)=>!Object.is(t,e),jf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},_p=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},wp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},G$=t=>{const e=Kt(t)?Number(t):NaN;return isNaN(e)?t:e};let RA;const Wy=()=>RA||(RA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function l1(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Kt(i)?Q$(i):l1(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(Kt(t)||Et(t))return t}const K$=/;(?![^(]*\))/g,Y$=/:([^]+)/,J$=/\/\*[^]*?\*\//g;function Q$(t){const e={};return t.replace(J$,"").split(K$).forEach(n=>{if(n){const i=n.split(Y$);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function sn(t){let e="";if(Kt(t))e=t;else if(Re(t))for(let n=0;n<t.length;n++){const i=sn(t[n]);i&&(e+=i+" ")}else if(Et(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const X$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Z$=r1(X$);function Xk(t){return!!t||t===""}function e7(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Wd(t[i],e[i]);return n}function Wd(t,e){if(t===e)return!0;let n=CA(t),i=CA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Ll(t),i=Ll(e),n||i)return t===e;if(n=Re(t),i=Re(e),n||i)return n&&i?e7(t,e):!1;if(n=Et(t),i=Et(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(c&&!d||!c&&d||!Wd(t[l],e[l]))return!1}}return String(t)===String(e)}function u1(t,e){return t.findIndex(n=>Wd(n,e))}const ht=t=>Kt(t)?t:t==null?"":Re(t)||Et(t)&&(t.toString===Jk||!He(t.toString))?JSON.stringify(t,Zk,2):String(t),Zk=(t,e)=>e&&e.__v_isRef?Zk(t,e.value):_l(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Zl(e)?{[`Set(${e.size})`]:[...e.values()]}:Et(e)&&!Re(e)&&!Qk(e)?String(e):e;let Ei;class eP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ei,!e&&Ei&&(this.index=(Ei.scopes||(Ei.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ei;try{return Ei=this,e()}finally{Ei=n}}}on(){Ei=this}off(){Ei=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function tP(t){return new eP(t)}function t7(t,e=Ei){e&&e.active&&e.effects.push(t)}function nP(){return Ei}function n7(t){Ei&&Ei.cleanups.push(t)}const c1=t=>{const e=new Set(t);return e.w=0,e.n=0,e},iP=t=>(t.w&Xs)>0,rP=t=>(t.n&Xs)>0,i7=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Xs},r7=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];iP(s)&&!rP(s)?s.delete(t):e[n++]=s,s.w&=~Xs,s.n&=~Xs}e.length=n}},bp=new WeakMap;let Sc=0,Xs=1;const Gy=30;let Wi;const Ko=Symbol(""),Ky=Symbol("");class d1{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,t7(this,i)}run(){if(!this.active)return this.fn();let e=Wi,n=Bs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Wi,Wi=this,Bs=!0,Xs=1<<++Sc,Sc<=Gy?i7(this):kA(this),this.fn()}finally{Sc<=Gy&&r7(this),Xs=1<<--Sc,Wi=this.parent,Bs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wi===this?this.deferStop=!0:this.active&&(kA(this),this.onStop&&this.onStop(),this.active=!1)}}function kA(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Bs=!0;const sP=[];function tu(){sP.push(Bs),Bs=!1}function nu(){const t=sP.pop();Bs=t===void 0?!0:t}function pi(t,e,n){if(Bs&&Wi){let i=bp.get(t);i||bp.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=c1()),oP(s)}}function oP(t,e){let n=!1;Sc<=Gy?rP(t)||(t.n|=Xs,n=!iP(t)):n=!t.has(Wi),n&&(t.add(Wi),Wi.deps.push(t))}function Gr(t,e,n,i,s,o){const l=bp.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Re(t)){const d=Number(i);l.forEach((f,p)=>{(p==="length"||!Ll(p)&&p>=d)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Re(t)?a1(n)&&c.push(l.get("length")):(c.push(l.get(Ko)),_l(t)&&c.push(l.get(Ky)));break;case"delete":Re(t)||(c.push(l.get(Ko)),_l(t)&&c.push(l.get(Ky)));break;case"set":_l(t)&&c.push(l.get(Ko));break}if(c.length===1)c[0]&&Yy(c[0]);else{const d=[];for(const f of c)f&&d.push(...f);Yy(c1(d))}}function Yy(t,e){const n=Re(t)?t:[...t];for(const i of n)i.computed&&PA(i);for(const i of n)i.computed||PA(i)}function PA(t,e){(t!==Wi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function s7(t,e){var n;return(n=bp.get(t))==null?void 0:n.get(e)}const o7=r1("__proto__,__v_isRef,__isVue"),aP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ll)),xA=a7();function a7(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Fe(this);for(let o=0,l=this.length;o<l;o++)pi(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Fe)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){tu();const i=Fe(this)[e].apply(this,n);return nu(),i}}),t}function l7(t){const e=Fe(this);return pi(e,"has",t),e.hasOwnProperty(t)}class lP{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?b7:hP:o?dP:cP).get(e))return e;const l=Re(e);if(!s){if(l&&dt(xA,n))return Reflect.get(xA,n,i);if(n==="hasOwnProperty")return l7}const c=Reflect.get(e,n,i);return(Ll(n)?aP.has(n):o7(n))||(s||pi(e,"get",n),o)?c:Nt(c)?l&&a1(n)?c:c.value:Et(c)?s?pP(c):Ln(c):c}}class uP extends lP{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(Ml(o)&&Nt(o)&&!Nt(i))return!1;if(!this._shallow&&(!Ep(i)&&!Ml(i)&&(o=Fe(o),i=Fe(i)),!Re(e)&&Nt(o)&&!Nt(i)))return o.value=i,!0;const l=Re(e)&&a1(n)?Number(n)<e.length:dt(e,n),c=Reflect.set(e,n,i,s);return e===Fe(s)&&(l?sa(i,o)&&Gr(e,"set",n,i):Gr(e,"add",n,i)),c}deleteProperty(e,n){const i=dt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Gr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Ll(n)||!aP.has(n))&&pi(e,"has",n),i}ownKeys(e){return pi(e,"iterate",Re(e)?"length":Ko),Reflect.ownKeys(e)}}class u7 extends lP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const c7=new uP,d7=new u7,h7=new uP(!0),h1=t=>t,km=t=>Reflect.getPrototypeOf(t);function bf(t,e,n=!1,i=!1){t=t.__v_raw;const s=Fe(t),o=Fe(e);n||(sa(e,o)&&pi(s,"get",e),pi(s,"get",o));const{has:l}=km(s),c=i?h1:n?m1:cd;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function Ef(t,e=!1){const n=this.__v_raw,i=Fe(n),s=Fe(t);return e||(sa(t,s)&&pi(i,"has",t),pi(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function If(t,e=!1){return t=t.__v_raw,!e&&pi(Fe(t),"iterate",Ko),Reflect.get(t,"size",t)}function OA(t){t=Fe(t);const e=Fe(this);return km(e).has.call(e,t)||(e.add(t),Gr(e,"add",t,t)),this}function NA(t,e){e=Fe(e);const n=Fe(this),{has:i,get:s}=km(n);let o=i.call(n,t);o||(t=Fe(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?sa(e,l)&&Gr(n,"set",t,e):Gr(n,"add",t,e),this}function DA(t){const e=Fe(this),{has:n,get:i}=km(e);let s=n.call(e,t);s||(t=Fe(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Gr(e,"delete",t,void 0),o}function LA(){const t=Fe(this),e=t.size!==0,n=t.clear();return e&&Gr(t,"clear",void 0,void 0),n}function Tf(t,e){return function(i,s){const o=this,l=o.__v_raw,c=Fe(l),d=e?h1:t?m1:cd;return!t&&pi(c,"iterate",Ko),l.forEach((f,p)=>i.call(s,d(f),d(p),o))}}function Af(t,e,n){return function(...i){const s=this.__v_raw,o=Fe(s),l=_l(o),c=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,f=s[t](...i),p=n?h1:e?m1:cd;return!e&&pi(o,"iterate",d?Ky:Ko),{next(){const{value:g,done:y}=f.next();return y?{value:g,done:y}:{value:c?[p(g[0]),p(g[1])]:p(g),done:y}},[Symbol.iterator](){return this}}}}function As(t){return function(...e){return t==="delete"?!1:this}}function f7(){const t={get(o){return bf(this,o)},get size(){return If(this)},has:Ef,add:OA,set:NA,delete:DA,clear:LA,forEach:Tf(!1,!1)},e={get(o){return bf(this,o,!1,!0)},get size(){return If(this)},has:Ef,add:OA,set:NA,delete:DA,clear:LA,forEach:Tf(!1,!0)},n={get(o){return bf(this,o,!0)},get size(){return If(this,!0)},has(o){return Ef.call(this,o,!0)},add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear"),forEach:Tf(!0,!1)},i={get(o){return bf(this,o,!0,!0)},get size(){return If(this,!0)},has(o){return Ef.call(this,o,!0)},add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear"),forEach:Tf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Af(o,!1,!1),n[o]=Af(o,!0,!1),e[o]=Af(o,!1,!0),i[o]=Af(o,!0,!0)}),[t,n,e,i]}const[p7,m7,g7,v7]=f7();function f1(t,e){const n=e?t?v7:g7:t?m7:p7;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(dt(n,s)&&s in i?n:i,s,o)}const y7={get:f1(!1,!1)},_7={get:f1(!1,!0)},w7={get:f1(!0,!1)},cP=new WeakMap,dP=new WeakMap,hP=new WeakMap,b7=new WeakMap;function E7(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function I7(t){return t.__v_skip||!Object.isExtensible(t)?0:E7(q$(t))}function Ln(t){return Ml(t)?t:p1(t,!1,c7,y7,cP)}function fP(t){return p1(t,!1,h7,_7,dP)}function pP(t){return p1(t,!0,d7,w7,hP)}function p1(t,e,n,i,s){if(!Et(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=I7(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Kr(t){return Ml(t)?Kr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ml(t){return!!(t&&t.__v_isReadonly)}function Ep(t){return!!(t&&t.__v_isShallow)}function mP(t){return Kr(t)||Ml(t)}function Fe(t){const e=t&&t.__v_raw;return e?Fe(e):t}function Pm(t){return _p(t,"__v_skip",!0),t}const cd=t=>Et(t)?Ln(t):t,m1=t=>Et(t)?pP(t):t;function gP(t){Bs&&Wi&&(t=Fe(t),oP(t.dep||(t.dep=c1())))}function vP(t,e){t=Fe(t);const n=t.dep;n&&Yy(n)}function Nt(t){return!!(t&&t.__v_isRef===!0)}function q(t){return _P(t,!1)}function yP(t){return _P(t,!0)}function _P(t,e){return Nt(t)?t:new T7(t,e)}class T7{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Fe(e),this._value=n?e:cd(e)}get value(){return gP(this),this._value}set value(e){const n=this.__v_isShallow||Ep(e)||Ml(e);e=n?e:Fe(e),sa(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:cd(e),vP(this))}}function N(t){return Nt(t)?t.value:t}const A7={get:(t,e,n)=>N(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Nt(s)&&!Nt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function wP(t){return Kr(t)?t:new Proxy(t,A7)}function S7(t){const e=Re(t)?new Array(t.length):{};for(const n in t)e[n]=bP(t,n);return e}class C7{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return s7(Fe(this._object),this._key)}}class R7{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function k7(t,e,n){return Nt(t)?t:He(t)?new R7(t):Et(t)&&arguments.length>1?bP(t,e,n):q(t)}function bP(t,e,n){const i=t[e];return Nt(i)?i:new C7(t,e,n)}class P7{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new d1(e,()=>{this._dirty||(this._dirty=!0,vP(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Fe(this);return gP(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function x7(t,e,n=!1){let i,s;const o=He(t);return o?(i=t,s=Ki):(i=t.get,s=t.set),new P7(i,s,o||!s,n)}function Hs(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){xm(o,e,n)}return s}function Di(t,e,n,i){if(He(t)){const o=Hs(t,e,n,i);return o&&Yk(o)&&o.catch(l=>{xm(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(Di(t[o],e,n,i));return s}function xm(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}o=o.parent}const d=e.appContext.config.errorHandler;if(d){Hs(d,null,10,[t,l,c]);return}}O7(t,n,s,i)}function O7(t,e,n,i=!0){console.error(t)}let dd=!1,Jy=!1;const zn=[];let gr=0;const wl=[];let Ur=null,No=0;const EP=Promise.resolve();let g1=null;function Li(t){const e=g1||EP;return t?e.then(this?t.bind(this):t):e}function N7(t){let e=gr+1,n=zn.length;for(;e<n;){const i=e+n>>>1,s=zn[i],o=hd(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function v1(t){(!zn.length||!zn.includes(t,dd&&t.allowRecurse?gr+1:gr))&&(t.id==null?zn.push(t):zn.splice(N7(t.id),0,t),IP())}function IP(){!dd&&!Jy&&(Jy=!0,g1=EP.then(AP))}function D7(t){const e=zn.indexOf(t);e>gr&&zn.splice(e,1)}function L7(t){Re(t)?wl.push(...t):(!Ur||!Ur.includes(t,t.allowRecurse?No+1:No))&&wl.push(t),IP()}function MA(t,e=dd?gr+1:0){for(;e<zn.length;e++){const n=zn[e];n&&n.pre&&(zn.splice(e,1),e--,n())}}function TP(t){if(wl.length){const e=[...new Set(wl)];if(wl.length=0,Ur){Ur.push(...e);return}for(Ur=e,Ur.sort((n,i)=>hd(n)-hd(i)),No=0;No<Ur.length;No++)Ur[No]();Ur=null,No=0}}const hd=t=>t.id==null?1/0:t.id,M7=(t,e)=>{const n=hd(t)-hd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function AP(t){Jy=!1,dd=!0,zn.sort(M7);const e=Ki;try{for(gr=0;gr<zn.length;gr++){const n=zn[gr];n&&n.active!==!1&&Hs(n,null,14)}}finally{gr=0,zn.length=0,TP(),dd=!1,g1=null,(zn.length||wl.length)&&AP()}}function V7(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Ct;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:g,trim:y}=i[p]||Ct;y&&(s=n.map(w=>Kt(w)?w.trim():w)),g&&(s=n.map(wp))}let c,d=i[c=Yv(e)]||i[c=Yv(Rr(e))];!d&&o&&(d=i[c=Yv(eu(e))]),d&&Di(d,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Di(f,t,6,s)}}function SP(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!He(t)){const d=f=>{const p=SP(f,e,!0);p&&(c=!0,mn(l,p))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!o&&!c?(Et(t)&&i.set(t,null),null):(Re(o)?o.forEach(d=>l[d]=null):mn(l,o),Et(t)&&i.set(t,l),l)}function Om(t,e){return!t||!Sm(e)?!1:(e=e.slice(2).replace(/Once$/,""),dt(t,e[0].toLowerCase()+e.slice(1))||dt(t,eu(e))||dt(t,e))}let An=null,Nm=null;function Ip(t){const e=An;return An=t,Nm=t&&t.type.__scopeId||null,e}function lJ(t){Nm=t}function uJ(){Nm=null}function Y(t,e=An,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&YA(-1);const o=Ip(e);let l;try{l=t(...s)}finally{Ip(o),i._d&&YA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Jv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:d,emit:f,render:p,renderCache:g,data:y,setupState:w,ctx:A,inheritAttrs:_}=t;let I,T;const x=Ip(t);try{if(n.shapeFlag&4){const S=s||i;I=cr(p.call(S,S,g,o,w,y,A)),T=d}else{const S=e;I=cr(S.length>1?S(o,{attrs:d,slots:c,emit:f}):S(o,null)),T=e.props?d:F7(d)}}catch(S){$c.length=0,xm(S,t,1),I=V(Mi)}let R=I;if(T&&_!==!1){const S=Object.keys(T),{shapeFlag:O}=R;S.length&&O&7&&(l&&S.some(s1)&&(T=U7(T,l)),R=ns(R,T))}return n.dirs&&(R=ns(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),I=R,Ip(x),I}const F7=t=>{let e;for(const n in t)(n==="class"||n==="style"||Sm(n))&&((e||(e={}))[n]=t[n]);return e},U7=(t,e)=>{const n={};for(const i in t)(!s1(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function $7(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:d}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return i?VA(i,l,f):!!l;if(d&8){const p=e.dynamicProps;for(let g=0;g<p.length;g++){const y=p[g];if(l[y]!==i[y]&&!Om(f,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?VA(i,l,f):!0:!!l;return!1}function VA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!Om(n,o))return!0}return!1}function j7({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const B7=t=>t.__isSuspense;function H7(t,e){e&&e.pendingBranch?Re(t)?e.effects.push(...t):e.effects.push(t):L7(t)}function Ri(t,e){return y1(t,null,e)}const Sf={};function $n(t,e,n){return y1(t,e,n)}function y1(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=Ct){var c;const d=nP()===((c=pn)==null?void 0:c.scope)?pn:null;let f,p=!1,g=!1;if(Nt(t)?(f=()=>t.value,p=Ep(t)):Kr(t)?(f=()=>t,i=!0):Re(t)?(g=!0,p=t.some(S=>Kr(S)||Ep(S)),f=()=>t.map(S=>{if(Nt(S))return S.value;if(Kr(S))return jo(S);if(He(S))return Hs(S,d,2)})):He(t)?e?f=()=>Hs(t,d,2):f=()=>{if(!(d&&d.isUnmounted))return y&&y(),Di(t,d,3,[w])}:f=Ki,e&&i){const S=f;f=()=>jo(S())}let y,w=S=>{y=x.onStop=()=>{Hs(S,d,4)}},A;if(md)if(w=Ki,e?n&&Di(e,d,3,[f(),g?[]:void 0,w]):f(),s==="sync"){const S=zj();A=S.__watcherHandles||(S.__watcherHandles=[])}else return Ki;let _=g?new Array(t.length).fill(Sf):Sf;const I=()=>{if(x.active)if(e){const S=x.run();(i||p||(g?S.some((O,U)=>sa(O,_[U])):sa(S,_)))&&(y&&y(),Di(e,d,3,[S,_===Sf?void 0:g&&_[0]===Sf?[]:_,w]),_=S)}else x.run()};I.allowRecurse=!!e;let T;s==="sync"?T=I:s==="post"?T=()=>ci(I,d&&d.suspense):(I.pre=!0,d&&(I.id=d.uid),T=()=>v1(I));const x=new d1(f,T);e?n?I():_=x.run():s==="post"?ci(x.run.bind(x),d&&d.suspense):x.run();const R=()=>{x.stop(),d&&d.scope&&o1(d.scope.effects,x)};return A&&A.push(R),R}function q7(t,e,n){const i=this.proxy,s=Kt(t)?t.includes(".")?CP(i,t):()=>i[t]:t.bind(i,i);let o;He(e)?o=e:(o=e.handler,n=e);const l=pn;Vl(this);const c=y1(s,o.bind(i),n);return l?Vl(l):Yo(),c}function CP(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function jo(t,e){if(!Et(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Nt(t))jo(t.value,e);else if(Re(t))for(let n=0;n<t.length;n++)jo(t[n],e);else if(Zl(t)||_l(t))t.forEach(n=>{jo(n,e)});else if(Qk(t))for(const n in t)jo(t[n],e);return t}function Pe(t,e){const n=An;if(n===null)return t;const i=Fm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,d,f=Ct]=e[o];l&&(He(l)&&(l={mounted:l,updated:l}),l.deep&&jo(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:d,modifiers:f}))}return t}function Co(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let d=c.dir[i];d&&(tu(),Di(d,n,8,[t.el,c,t,e]),nu())}}const xs=Symbol("_leaveCb"),Cf=Symbol("_enterCb");function z7(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return St(()=>{t.isMounted=!0}),_1(()=>{t.isUnmounting=!0}),t}const Pi=[Function,Array],RP={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Pi,onEnter:Pi,onAfterEnter:Pi,onEnterCancelled:Pi,onBeforeLeave:Pi,onLeave:Pi,onAfterLeave:Pi,onLeaveCancelled:Pi,onBeforeAppear:Pi,onAppear:Pi,onAfterAppear:Pi,onAppearCancelled:Pi},W7={name:"BaseTransition",props:RP,setup(t,{slots:e}){const n=Vj(),i=z7();let s;return()=>{const o=e.default&&PP(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const _ of o)if(_.type!==Mi){l=_;break}}const c=Fe(t),{mode:d}=c;if(i.isLeaving)return Qv(l);const f=FA(l);if(!f)return Qv(l);const p=Qy(f,c,i,n);Xy(f,p);const g=n.subTree,y=g&&FA(g);let w=!1;const{getTransitionKey:A}=f.type;if(A){const _=A();s===void 0?s=_:_!==s&&(s=_,w=!0)}if(y&&y.type!==Mi&&(!Do(f,y)||w)){const _=Qy(y,c,i,n);if(Xy(y,_),d==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Qv(l);d==="in-out"&&f.type!==Mi&&(_.delayLeave=(I,T,x)=>{const R=kP(i,y);R[String(y.key)]=y,I[xs]=()=>{T(),I[xs]=void 0,delete p.delayedLeave},p.delayedLeave=x})}return l}}},G7=W7;function kP(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Qy(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:g,onLeave:y,onAfterLeave:w,onLeaveCancelled:A,onBeforeAppear:_,onAppear:I,onAfterAppear:T,onAppearCancelled:x}=e,R=String(t.key),S=kP(n,t),O=(J,ae)=>{J&&Di(J,i,9,ae)},U=(J,ae)=>{const me=ae[1];O(J,ae),Re(J)?J.every(de=>de.length<=1)&&me():J.length<=1&&me()},re={mode:o,persisted:l,beforeEnter(J){let ae=c;if(!n.isMounted)if(s)ae=_||c;else return;J[xs]&&J[xs](!0);const me=S[R];me&&Do(t,me)&&me.el[xs]&&me.el[xs](),O(ae,[J])},enter(J){let ae=d,me=f,de=p;if(!n.isMounted)if(s)ae=I||d,me=T||f,de=x||p;else return;let se=!1;const he=J[Cf]=ot=>{se||(se=!0,ot?O(de,[J]):O(me,[J]),re.delayedLeave&&re.delayedLeave(),J[Cf]=void 0)};ae?U(ae,[J,he]):he()},leave(J,ae){const me=String(t.key);if(J[Cf]&&J[Cf](!0),n.isUnmounting)return ae();O(g,[J]);let de=!1;const se=J[xs]=he=>{de||(de=!0,ae(),he?O(A,[J]):O(w,[J]),J[xs]=void 0,S[me]===t&&delete S[me])};S[me]=t,y?U(y,[J,se]):se()},clone(J){return Qy(J,e,n,i)}};return re}function Qv(t){if(Dm(t))return t=ns(t),t.children=null,t}function FA(t){return Dm(t)?t.children?t.children[0]:void 0:t}function Xy(t,e){t.shapeFlag&6&&t.component?Xy(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function PP(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===Ye?(l.patchFlag&128&&s++,i=i.concat(PP(l.children,e,c))):(e||l.type!==Mi)&&i.push(c!=null?ns(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Le(t,e){return He(t)?(()=>mn({name:t.name},e,{setup:t}))():t}const Vc=t=>!!t.type.__asyncLoader,Dm=t=>t.type.__isKeepAlive;function K7(t,e){xP(t,"a",e)}function Y7(t,e){xP(t,"da",e)}function xP(t,e,n=pn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Lm(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Dm(s.parent.vnode)&&J7(i,e,n,s),s=s.parent}}function J7(t,e,n,i){const s=Lm(e,t,i,!0);mi(()=>{o1(i[e],s)},n)}function Lm(t,e,n=pn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;tu(),Vl(n);const c=Di(e,n,t,l);return Yo(),nu(),c});return i?s.unshift(o):s.push(o),o}}const os=t=>(e,n=pn)=>(!md||t==="sp")&&Lm(t,(...i)=>e(...i),n),Q7=os("bm"),St=os("m"),X7=os("bu"),Z7=os("u"),_1=os("bum"),mi=os("um"),ej=os("sp"),tj=os("rtg"),nj=os("rtc");function ij(t,e=pn){Lm("ec",t,e)}const rj="components",sj="directives",oj=Symbol.for("v-ndc");function OP(t){return aj(sj,t)}function aj(t,e,n=!0,i=!1){const s=An||pn;if(s){const o=s.type;if(t===rj){const c=Bj(o,!1);if(c&&(c===e||c===Rr(e)||c===Rm(Rr(e))))return o}const l=UA(s[t]||o[t],e)||UA(s.appContext[t],e);return!l&&i?o:l}}function UA(t,e){return t&&(t[e]||t[Rr(e)]||t[Rm(Rr(e))])}function Fi(t,e,n,i){let s;const o=n&&n[i];if(Re(t)||Kt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(Et(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function NP(t,e,n={},i,s){if(An.isCE||An.parent&&Vc(An.parent)&&An.parent.isCE)return e!=="default"&&(n.name=e),V("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),L();const l=o&&DP(o(n)),c=Oe(Ye,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function DP(t){return t.some(e=>Ap(e)?!(e.type===Mi||e.type===Ye&&!DP(e.children)):!0)?t:null}const Zy=t=>t?zP(t)?Fm(t)||t.proxy:Zy(t.parent):null,Fc=mn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zy(t.parent),$root:t=>Zy(t.root),$emit:t=>t.emit,$options:t=>w1(t),$forceUpdate:t=>t.f||(t.f=()=>v1(t.update)),$nextTick:t=>t.n||(t.n=Li.bind(t.proxy)),$watch:t=>q7.bind(t)}),Xv=(t,e)=>t!==Ct&&!t.__isScriptSetup&&dt(t,e),lj={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:d}=t;let f;if(e[0]!=="$"){const w=l[e];if(w!==void 0)switch(w){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Xv(i,e))return l[e]=1,i[e];if(s!==Ct&&dt(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&dt(f,e))return l[e]=3,o[e];if(n!==Ct&&dt(n,e))return l[e]=4,n[e];e_&&(l[e]=0)}}const p=Fc[e];let g,y;if(p)return e==="$attrs"&&pi(t,"get",e),p(t);if((g=c.__cssModules)&&(g=g[e]))return g;if(n!==Ct&&dt(n,e))return l[e]=4,n[e];if(y=d.config.globalProperties,dt(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return Xv(s,e)?(s[e]=n,!0):i!==Ct&&dt(i,e)?(i[e]=n,!0):dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==Ct&&dt(t,l)||Xv(e,l)||(c=o[0])&&dt(c,l)||dt(i,l)||dt(Fc,l)||dt(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function $A(t){return Re(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let e_=!0;function uj(t){const e=w1(t),n=t.proxy,i=t.ctx;e_=!1,e.beforeCreate&&jA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:d,inject:f,created:p,beforeMount:g,mounted:y,beforeUpdate:w,updated:A,activated:_,deactivated:I,beforeDestroy:T,beforeUnmount:x,destroyed:R,unmounted:S,render:O,renderTracked:U,renderTriggered:re,errorCaptured:J,serverPrefetch:ae,expose:me,inheritAttrs:de,components:se,directives:he,filters:ot}=e;if(f&&cj(f,i,null),l)for(const B in l){const pe=l[B];He(pe)&&(i[B]=pe.bind(n))}if(s){const B=s.call(n,n);Et(B)&&(t.data=Ln(B))}if(e_=!0,o)for(const B in o){const pe=o[B],at=He(pe)?pe.bind(n,n):He(pe.get)?pe.get.bind(n,n):Ki,qe=!He(pe)&&He(pe.set)?pe.set.bind(n):Ki,Mt=ye({get:at,set:qe});Object.defineProperty(i,B,{enumerable:!0,configurable:!0,get:()=>Mt.value,set:lt=>Mt.value=lt})}if(c)for(const B in c)LP(c[B],i,n,B);if(d){const B=He(d)?d.call(n):d;Reflect.ownKeys(B).forEach(pe=>{oi(pe,B[pe])})}p&&jA(p,t,"c");function H(B,pe){Re(pe)?pe.forEach(at=>B(at.bind(n))):pe&&B(pe.bind(n))}if(H(Q7,g),H(St,y),H(X7,w),H(Z7,A),H(K7,_),H(Y7,I),H(ij,J),H(nj,U),H(tj,re),H(_1,x),H(mi,S),H(ej,ae),Re(me))if(me.length){const B=t.exposed||(t.exposed={});me.forEach(pe=>{Object.defineProperty(B,pe,{get:()=>n[pe],set:at=>n[pe]=at})})}else t.exposed||(t.exposed={});O&&t.render===Ki&&(t.render=O),de!=null&&(t.inheritAttrs=de),se&&(t.components=se),he&&(t.directives=he)}function cj(t,e,n=Ki){Re(t)&&(t=t_(t));for(const i in t){const s=t[i];let o;Et(s)?"default"in s?o=xt(s.from||i,s.default,!0):o=xt(s.from||i):o=xt(s),Nt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function jA(t,e,n){Di(Re(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function LP(t,e,n,i){const s=i.includes(".")?CP(n,i):()=>n[i];if(Kt(t)){const o=e[t];He(o)&&$n(s,o)}else if(He(t))$n(s,t.bind(n));else if(Et(t))if(Re(t))t.forEach(o=>LP(o,e,n,i));else{const o=He(t.handler)?t.handler.bind(n):e[t.handler];He(o)&&$n(s,o,t)}}function w1(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let d;return c?d=c:!s.length&&!n&&!i?d=e:(d={},s.length&&s.forEach(f=>Tp(d,f,l,!0)),Tp(d,e,l)),Et(e)&&o.set(e,d),d}function Tp(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&Tp(t,o,n,!0),s&&s.forEach(l=>Tp(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=dj[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const dj={data:BA,props:HA,emits:HA,methods:Cc,computed:Cc,beforeCreate:ti,created:ti,beforeMount:ti,mounted:ti,beforeUpdate:ti,updated:ti,beforeDestroy:ti,beforeUnmount:ti,destroyed:ti,unmounted:ti,activated:ti,deactivated:ti,errorCaptured:ti,serverPrefetch:ti,components:Cc,directives:Cc,watch:fj,provide:BA,inject:hj};function BA(t,e){return e?t?function(){return mn(He(t)?t.call(this,this):t,He(e)?e.call(this,this):e)}:e:t}function hj(t,e){return Cc(t_(t),t_(e))}function t_(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ti(t,e){return t?[...new Set([].concat(t,e))]:e}function Cc(t,e){return t?mn(Object.create(null),t,e):e}function HA(t,e){return t?Re(t)&&Re(e)?[...new Set([...t,...e])]:mn(Object.create(null),$A(t),$A(e??{})):e}function fj(t,e){if(!t)return e;if(!e)return t;const n=mn(Object.create(null),t);for(const i in e)n[i]=ti(t[i],e[i]);return n}function MP(){return{app:null,config:{isNativeTag:j$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pj=0;function mj(t,e){return function(i,s=null){He(i)||(i=mn({},i)),s!=null&&!Et(s)&&(s=null);const o=MP(),l=new WeakSet;let c=!1;const d=o.app={_uid:pj++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:Wj,get config(){return o.config},set config(f){},use(f,...p){return l.has(f)||(f&&He(f.install)?(l.add(f),f.install(d,...p)):He(f)&&(l.add(f),f(d,...p))),d},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),d},component(f,p){return p?(o.components[f]=p,d):o.components[f]},directive(f,p){return p?(o.directives[f]=p,d):o.directives[f]},mount(f,p,g){if(!c){const y=V(i,s);return y.appContext=o,p&&e?e(y,f):t(y,f,g),c=!0,d._container=f,f.__vue_app__=d,Fm(y.component)||y.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(f,p){return o.provides[f]=p,d},runWithContext(f){fd=d;try{return f()}finally{fd=null}}};return d}}let fd=null;function oi(t,e){if(pn){let n=pn.provides;const i=pn.parent&&pn.parent.provides;i===n&&(n=pn.provides=Object.create(i)),n[t]=e}}function xt(t,e,n=!1){const i=pn||An;if(i||fd){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:fd._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&He(e)?e.call(i&&i.proxy):e}}function gj(){return!!(pn||An||fd)}function vj(t,e,n,i=!1){const s={},o={};_p(o,Vm,1),t.propsDefaults=Object.create(null),VP(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:fP(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function yj(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=Fe(s),[d]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let g=0;g<p.length;g++){let y=p[g];if(Om(t.emitsOptions,y))continue;const w=e[y];if(d)if(dt(o,y))w!==o[y]&&(o[y]=w,f=!0);else{const A=Rr(y);s[A]=n_(d,c,A,w,t,!1)}else w!==o[y]&&(o[y]=w,f=!0)}}}else{VP(t,e,s,o)&&(f=!0);let p;for(const g in c)(!e||!dt(e,g)&&((p=eu(g))===g||!dt(e,p)))&&(d?n&&(n[g]!==void 0||n[p]!==void 0)&&(s[g]=n_(d,c,g,void 0,t,!0)):delete s[g]);if(o!==c)for(const g in o)(!e||!dt(e,g))&&(delete o[g],f=!0)}f&&Gr(t,"set","$attrs")}function VP(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let d in e){if($f(d))continue;const f=e[d];let p;s&&dt(s,p=Rr(d))?!o||!o.includes(p)?n[p]=f:(c||(c={}))[p]=f:Om(t.emitsOptions,d)||(!(d in i)||f!==i[d])&&(i[d]=f,l=!0)}if(o){const d=Fe(n),f=c||Ct;for(let p=0;p<o.length;p++){const g=o[p];n[g]=n_(s,d,g,f[g],t,!dt(f,g))}}return l}function n_(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=dt(l,"default");if(c&&i===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&He(d)){const{propsDefaults:f}=s;n in f?i=f[n]:(Vl(s),i=f[n]=d.call(null,e),Yo())}else i=d}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===eu(n))&&(i=!0))}return i}function FP(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let d=!1;if(!He(t)){const p=g=>{d=!0;const[y,w]=FP(g,e,!0);mn(l,y),w&&c.push(...w)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!d)return Et(t)&&i.set(t,yl),yl;if(Re(o))for(let p=0;p<o.length;p++){const g=Rr(o[p]);qA(g)&&(l[g]=Ct)}else if(o)for(const p in o){const g=Rr(p);if(qA(g)){const y=o[p],w=l[g]=Re(y)||He(y)?{type:y}:mn({},y);if(w){const A=GA(Boolean,w.type),_=GA(String,w.type);w[0]=A>-1,w[1]=_<0||A<_,(A>-1||dt(w,"default"))&&c.push(g)}}}const f=[l,c];return Et(t)&&i.set(t,f),f}function qA(t){return t[0]!=="$"}function zA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function WA(t,e){return zA(t)===zA(e)}function GA(t,e){return Re(e)?e.findIndex(n=>WA(n,t)):He(e)&&WA(e,t)?0:-1}const UP=t=>t[0]==="_"||t==="$stable",b1=t=>Re(t)?t.map(cr):[cr(t)],_j=(t,e,n)=>{if(e._n)return e;const i=Y((...s)=>b1(e(...s)),n);return i._c=!1,i},$P=(t,e,n)=>{const i=t._ctx;for(const s in t){if(UP(s))continue;const o=t[s];if(He(o))e[s]=_j(s,o,i);else if(o!=null){const l=b1(o);e[s]=()=>l}}},jP=(t,e)=>{const n=b1(e);t.slots.default=()=>n},wj=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Fe(e),_p(e,"_",n)):$P(e,t.slots={})}else t.slots={},e&&jP(t,e);_p(t.slots,Vm,1)},bj=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=Ct;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(mn(s,e),!n&&c===1&&delete s._):(o=!e.$stable,$P(e,s)),l=e}else e&&(jP(t,e),l={default:1});if(o)for(const c in s)!UP(c)&&l[c]==null&&delete s[c]};function i_(t,e,n,i,s=!1){if(Re(t)){t.forEach((y,w)=>i_(y,e&&(Re(e)?e[w]:e),n,i,s));return}if(Vc(i)&&!s)return;const o=i.shapeFlag&4?Fm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:d}=t,f=e&&e.r,p=c.refs===Ct?c.refs={}:c.refs,g=c.setupState;if(f!=null&&f!==d&&(Kt(f)?(p[f]=null,dt(g,f)&&(g[f]=null)):Nt(f)&&(f.value=null)),He(d))Hs(d,c,12,[l,p]);else{const y=Kt(d),w=Nt(d);if(y||w){const A=()=>{if(t.f){const _=y?dt(g,d)?g[d]:p[d]:d.value;s?Re(_)&&o1(_,o):Re(_)?_.includes(o)||_.push(o):y?(p[d]=[o],dt(g,d)&&(g[d]=p[d])):(d.value=[o],t.k&&(p[t.k]=d.value))}else y?(p[d]=l,dt(g,d)&&(g[d]=l)):w&&(d.value=l,t.k&&(p[t.k]=l))};l?(A.id=-1,ci(A,n)):A()}}}const ci=H7;function Ej(t){return Ij(t)}function Ij(t,e){const n=Wy();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:d,setText:f,setElementText:p,parentNode:g,nextSibling:y,setScopeId:w=Ki,insertStaticContent:A}=t,_=(k,P,D,F=null,W=null,Q=null,fe=!1,ie=null,le=!!P.dynamicChildren)=>{if(k===P)return;k&&!Do(k,P)&&(F=$(k),lt(k,W,Q,!0),k=null),P.patchFlag===-2&&(le=!1,P.dynamicChildren=null);const{type:Z,ref:ke,shapeFlag:_e}=P;switch(Z){case Mm:I(k,P,D,F);break;case Mi:T(k,P,D,F);break;case Bf:k==null&&x(P,D,F,fe);break;case Ye:se(k,P,D,F,W,Q,fe,ie,le);break;default:_e&1?O(k,P,D,F,W,Q,fe,ie,le):_e&6?he(k,P,D,F,W,Q,fe,ie,le):(_e&64||_e&128)&&Z.process(k,P,D,F,W,Q,fe,ie,le,oe)}ke!=null&&W&&i_(ke,k&&k.ref,Q,P||k,!P)},I=(k,P,D,F)=>{if(k==null)i(P.el=c(P.children),D,F);else{const W=P.el=k.el;P.children!==k.children&&f(W,P.children)}},T=(k,P,D,F)=>{k==null?i(P.el=d(P.children||""),D,F):P.el=k.el},x=(k,P,D,F)=>{[k.el,k.anchor]=A(k.children,P,D,F,k.el,k.anchor)},R=({el:k,anchor:P},D,F)=>{let W;for(;k&&k!==P;)W=y(k),i(k,D,F),k=W;i(P,D,F)},S=({el:k,anchor:P})=>{let D;for(;k&&k!==P;)D=y(k),s(k),k=D;s(P)},O=(k,P,D,F,W,Q,fe,ie,le)=>{fe=fe||P.type==="svg",k==null?U(P,D,F,W,Q,fe,ie,le):ae(k,P,W,Q,fe,ie,le)},U=(k,P,D,F,W,Q,fe,ie)=>{let le,Z;const{type:ke,props:_e,shapeFlag:Ie,transition:Ve,dirs:Ge}=k;if(le=k.el=l(k.type,Q,_e&&_e.is,_e),Ie&8?p(le,k.children):Ie&16&&J(k.children,le,null,F,W,Q&&ke!=="foreignObject",fe,ie),Ge&&Co(k,null,F,"created"),re(le,k,k.scopeId,fe,F),_e){for(const ut in _e)ut!=="value"&&!$f(ut)&&o(le,ut,null,_e[ut],Q,k.children,F,W,gn);"value"in _e&&o(le,"value",null,_e.value),(Z=_e.onVnodeBeforeMount)&&ur(Z,F,k)}Ge&&Co(k,null,F,"beforeMount");const yt=Tj(W,Ve);yt&&Ve.beforeEnter(le),i(le,P,D),((Z=_e&&_e.onVnodeMounted)||yt||Ge)&&ci(()=>{Z&&ur(Z,F,k),yt&&Ve.enter(le),Ge&&Co(k,null,F,"mounted")},W)},re=(k,P,D,F,W)=>{if(D&&w(k,D),F)for(let Q=0;Q<F.length;Q++)w(k,F[Q]);if(W){let Q=W.subTree;if(P===Q){const fe=W.vnode;re(k,fe,fe.scopeId,fe.slotScopeIds,W.parent)}}},J=(k,P,D,F,W,Q,fe,ie,le=0)=>{for(let Z=le;Z<k.length;Z++){const ke=k[Z]=ie?Os(k[Z]):cr(k[Z]);_(null,ke,P,D,F,W,Q,fe,ie)}},ae=(k,P,D,F,W,Q,fe)=>{const ie=P.el=k.el;let{patchFlag:le,dynamicChildren:Z,dirs:ke}=P;le|=k.patchFlag&16;const _e=k.props||Ct,Ie=P.props||Ct;let Ve;D&&Ro(D,!1),(Ve=Ie.onVnodeBeforeUpdate)&&ur(Ve,D,P,k),ke&&Co(P,k,D,"beforeUpdate"),D&&Ro(D,!0);const Ge=W&&P.type!=="foreignObject";if(Z?me(k.dynamicChildren,Z,ie,D,F,Ge,Q):fe||pe(k,P,ie,null,D,F,Ge,Q,!1),le>0){if(le&16)de(ie,P,_e,Ie,D,F,W);else if(le&2&&_e.class!==Ie.class&&o(ie,"class",null,Ie.class,W),le&4&&o(ie,"style",_e.style,Ie.style,W),le&8){const yt=P.dynamicProps;for(let ut=0;ut<yt.length;ut++){const It=yt[ut],dn=_e[It],xr=Ie[It];(xr!==dn||It==="value")&&o(ie,It,dn,xr,W,k.children,D,F,gn)}}le&1&&k.children!==P.children&&p(ie,P.children)}else!fe&&Z==null&&de(ie,P,_e,Ie,D,F,W);((Ve=Ie.onVnodeUpdated)||ke)&&ci(()=>{Ve&&ur(Ve,D,P,k),ke&&Co(P,k,D,"updated")},F)},me=(k,P,D,F,W,Q,fe)=>{for(let ie=0;ie<P.length;ie++){const le=k[ie],Z=P[ie],ke=le.el&&(le.type===Ye||!Do(le,Z)||le.shapeFlag&70)?g(le.el):D;_(le,Z,ke,null,F,W,Q,fe,!0)}},de=(k,P,D,F,W,Q,fe)=>{if(D!==F){if(D!==Ct)for(const ie in D)!$f(ie)&&!(ie in F)&&o(k,ie,D[ie],null,fe,P.children,W,Q,gn);for(const ie in F){if($f(ie))continue;const le=F[ie],Z=D[ie];le!==Z&&ie!=="value"&&o(k,ie,Z,le,fe,P.children,W,Q,gn)}"value"in F&&o(k,"value",D.value,F.value)}},se=(k,P,D,F,W,Q,fe,ie,le)=>{const Z=P.el=k?k.el:c(""),ke=P.anchor=k?k.anchor:c("");let{patchFlag:_e,dynamicChildren:Ie,slotScopeIds:Ve}=P;Ve&&(ie=ie?ie.concat(Ve):Ve),k==null?(i(Z,D,F),i(ke,D,F),J(P.children,D,ke,W,Q,fe,ie,le)):_e>0&&_e&64&&Ie&&k.dynamicChildren?(me(k.dynamicChildren,Ie,D,W,Q,fe,ie),(P.key!=null||W&&P===W.subTree)&&E1(k,P,!0)):pe(k,P,D,ke,W,Q,fe,ie,le)},he=(k,P,D,F,W,Q,fe,ie,le)=>{P.slotScopeIds=ie,k==null?P.shapeFlag&512?W.ctx.activate(P,D,F,fe,le):ot(P,D,F,W,Q,fe,le):ee(k,P,le)},ot=(k,P,D,F,W,Q,fe)=>{const ie=k.component=Mj(k,F,W);if(Dm(k)&&(ie.ctx.renderer=oe),Fj(ie),ie.asyncDep){if(W&&W.registerDep(ie,H),!k.el){const le=ie.subTree=V(Mi);T(null,le,P,D)}return}H(ie,k,P,D,W,Q,fe)},ee=(k,P,D)=>{const F=P.component=k.component;if($7(k,P,D))if(F.asyncDep&&!F.asyncResolved){B(F,P,D);return}else F.next=P,D7(F.update),F.update();else P.el=k.el,F.vnode=P},H=(k,P,D,F,W,Q,fe)=>{const ie=()=>{if(k.isMounted){let{next:ke,bu:_e,u:Ie,parent:Ve,vnode:Ge}=k,yt=ke,ut;Ro(k,!1),ke?(ke.el=Ge.el,B(k,ke,fe)):ke=Ge,_e&&jf(_e),(ut=ke.props&&ke.props.onVnodeBeforeUpdate)&&ur(ut,Ve,ke,Ge),Ro(k,!0);const It=Jv(k),dn=k.subTree;k.subTree=It,_(dn,It,g(dn.el),$(dn),k,W,Q),ke.el=It.el,yt===null&&j7(k,It.el),Ie&&ci(Ie,W),(ut=ke.props&&ke.props.onVnodeUpdated)&&ci(()=>ur(ut,Ve,ke,Ge),W)}else{let ke;const{el:_e,props:Ie}=P,{bm:Ve,m:Ge,parent:yt}=k,ut=Vc(P);if(Ro(k,!1),Ve&&jf(Ve),!ut&&(ke=Ie&&Ie.onVnodeBeforeMount)&&ur(ke,yt,P),Ro(k,!0),_e&&ft){const It=()=>{k.subTree=Jv(k),ft(_e,k.subTree,k,W,null)};ut?P.type.__asyncLoader().then(()=>!k.isUnmounted&&It()):It()}else{const It=k.subTree=Jv(k);_(null,It,D,F,k,W,Q),P.el=It.el}if(Ge&&ci(Ge,W),!ut&&(ke=Ie&&Ie.onVnodeMounted)){const It=P;ci(()=>ur(ke,yt,It),W)}(P.shapeFlag&256||yt&&Vc(yt.vnode)&&yt.vnode.shapeFlag&256)&&k.a&&ci(k.a,W),k.isMounted=!0,P=D=F=null}},le=k.effect=new d1(ie,()=>v1(Z),k.scope),Z=k.update=()=>le.run();Z.id=k.uid,Ro(k,!0),Z()},B=(k,P,D)=>{P.component=k;const F=k.vnode.props;k.vnode=P,k.next=null,yj(k,P.props,F,D),bj(k,P.children,D),tu(),MA(),nu()},pe=(k,P,D,F,W,Q,fe,ie,le=!1)=>{const Z=k&&k.children,ke=k?k.shapeFlag:0,_e=P.children,{patchFlag:Ie,shapeFlag:Ve}=P;if(Ie>0){if(Ie&128){qe(Z,_e,D,F,W,Q,fe,ie,le);return}else if(Ie&256){at(Z,_e,D,F,W,Q,fe,ie,le);return}}Ve&8?(ke&16&&gn(Z,W,Q),_e!==Z&&p(D,_e)):ke&16?Ve&16?qe(Z,_e,D,F,W,Q,fe,ie,le):gn(Z,W,Q,!0):(ke&8&&p(D,""),Ve&16&&J(_e,D,F,W,Q,fe,ie,le))},at=(k,P,D,F,W,Q,fe,ie,le)=>{k=k||yl,P=P||yl;const Z=k.length,ke=P.length,_e=Math.min(Z,ke);let Ie;for(Ie=0;Ie<_e;Ie++){const Ve=P[Ie]=le?Os(P[Ie]):cr(P[Ie]);_(k[Ie],Ve,D,null,W,Q,fe,ie,le)}Z>ke?gn(k,W,Q,!0,!1,_e):J(P,D,F,W,Q,fe,ie,le,_e)},qe=(k,P,D,F,W,Q,fe,ie,le)=>{let Z=0;const ke=P.length;let _e=k.length-1,Ie=ke-1;for(;Z<=_e&&Z<=Ie;){const Ve=k[Z],Ge=P[Z]=le?Os(P[Z]):cr(P[Z]);if(Do(Ve,Ge))_(Ve,Ge,D,null,W,Q,fe,ie,le);else break;Z++}for(;Z<=_e&&Z<=Ie;){const Ve=k[_e],Ge=P[Ie]=le?Os(P[Ie]):cr(P[Ie]);if(Do(Ve,Ge))_(Ve,Ge,D,null,W,Q,fe,ie,le);else break;_e--,Ie--}if(Z>_e){if(Z<=Ie){const Ve=Ie+1,Ge=Ve<ke?P[Ve].el:F;for(;Z<=Ie;)_(null,P[Z]=le?Os(P[Z]):cr(P[Z]),D,Ge,W,Q,fe,ie,le),Z++}}else if(Z>Ie)for(;Z<=_e;)lt(k[Z],W,Q,!0),Z++;else{const Ve=Z,Ge=Z,yt=new Map;for(Z=Ge;Z<=Ie;Z++){const vn=P[Z]=le?Os(P[Z]):cr(P[Z]);vn.key!=null&&yt.set(vn.key,Z)}let ut,It=0;const dn=Ie-Ge+1;let xr=!1,Yd=0;const lo=new Array(dn);for(Z=0;Z<dn;Z++)lo[Z]=0;for(Z=Ve;Z<=_e;Z++){const vn=k[Z];if(It>=dn){lt(vn,W,Q,!0);continue}let yn;if(vn.key!=null)yn=yt.get(vn.key);else for(ut=Ge;ut<=Ie;ut++)if(lo[ut-Ge]===0&&Do(vn,P[ut])){yn=ut;break}yn===void 0?lt(vn,W,Q,!0):(lo[yn-Ge]=Z+1,yn>=Yd?Yd=yn:xr=!0,_(vn,P[yn],D,null,W,Q,fe,ie,le),It++)}const uo=xr?Aj(lo):yl;for(ut=uo.length-1,Z=dn-1;Z>=0;Z--){const vn=Ge+Z,yn=P[vn],Jd=vn+1<ke?P[vn+1].el:F;lo[Z]===0?_(null,yn,D,Jd,W,Q,fe,ie,le):xr&&(ut<0||Z!==uo[ut]?Mt(yn,D,Jd,2):ut--)}}},Mt=(k,P,D,F,W=null)=>{const{el:Q,type:fe,transition:ie,children:le,shapeFlag:Z}=k;if(Z&6){Mt(k.component.subTree,P,D,F);return}if(Z&128){k.suspense.move(P,D,F);return}if(Z&64){fe.move(k,P,D,oe);return}if(fe===Ye){i(Q,P,D);for(let _e=0;_e<le.length;_e++)Mt(le[_e],P,D,F);i(k.anchor,P,D);return}if(fe===Bf){R(k,P,D);return}if(F!==2&&Z&1&&ie)if(F===0)ie.beforeEnter(Q),i(Q,P,D),ci(()=>ie.enter(Q),W);else{const{leave:_e,delayLeave:Ie,afterLeave:Ve}=ie,Ge=()=>i(Q,P,D),yt=()=>{_e(Q,()=>{Ge(),Ve&&Ve()})};Ie?Ie(Q,Ge,yt):yt()}else i(Q,P,D)},lt=(k,P,D,F=!1,W=!1)=>{const{type:Q,props:fe,ref:ie,children:le,dynamicChildren:Z,shapeFlag:ke,patchFlag:_e,dirs:Ie}=k;if(ie!=null&&i_(ie,null,D,k,!0),ke&256){P.ctx.deactivate(k);return}const Ve=ke&1&&Ie,Ge=!Vc(k);let yt;if(Ge&&(yt=fe&&fe.onVnodeBeforeUnmount)&&ur(yt,P,k),ke&6)ma(k.component,D,F);else{if(ke&128){k.suspense.unmount(D,F);return}Ve&&Co(k,null,P,"beforeUnmount"),ke&64?k.type.remove(k,P,D,W,oe,F):Z&&(Q!==Ye||_e>0&&_e&64)?gn(Z,P,D,!1,!0):(Q===Ye&&_e&384||!W&&ke&16)&&gn(le,P,D),F&&nr(k)}(Ge&&(yt=fe&&fe.onVnodeUnmounted)||Ve)&&ci(()=>{yt&&ur(yt,P,k),Ve&&Co(k,null,P,"unmounted")},D)},nr=k=>{const{type:P,el:D,anchor:F,transition:W}=k;if(P===Ye){ir(D,F);return}if(P===Bf){S(k);return}const Q=()=>{s(D),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(k.shapeFlag&1&&W&&!W.persisted){const{leave:fe,delayLeave:ie}=W,le=()=>fe(D,Q);ie?ie(k.el,Q,le):le()}else Q()},ir=(k,P)=>{let D;for(;k!==P;)D=y(k),s(k),k=D;s(P)},ma=(k,P,D)=>{const{bum:F,scope:W,update:Q,subTree:fe,um:ie}=k;F&&jf(F),W.stop(),Q&&(Q.active=!1,lt(fe,k,P,D)),ie&&ci(ie,P),ci(()=>{k.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},gn=(k,P,D,F=!1,W=!1,Q=0)=>{for(let fe=Q;fe<k.length;fe++)lt(k[fe],P,D,F,W)},$=k=>k.shapeFlag&6?$(k.component.subTree):k.shapeFlag&128?k.suspense.next():y(k.anchor||k.el),ge=(k,P,D)=>{k==null?P._vnode&&lt(P._vnode,null,null,!0):_(P._vnode||null,k,P,null,null,null,D),MA(),TP(),P._vnode=k},oe={p:_,um:lt,m:Mt,r:nr,mt:ot,mc:J,pc:pe,pbc:me,n:$,o:t};let Ae,ft;return e&&([Ae,ft]=e(oe)),{render:ge,hydrate:Ae,createApp:mj(ge,Ae)}}function Ro({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Tj(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function E1(t,e,n=!1){const i=t.children,s=e.children;if(Re(i)&&Re(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=Os(s[o]),c.el=l.el),n||E1(l,c)),c.type===Mm&&(c.el=l.el)}}function Aj(t){const e=t.slice(),n=[0];let i,s,o,l,c;const d=t.length;for(i=0;i<d;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const Sj=t=>t.__isTeleport,Uc=t=>t&&(t.disabled||t.disabled===""),KA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,r_=(t,e)=>{const n=t&&t.to;return Kt(n)?e?e(n):null:n},Cj={__isTeleport:!0,process(t,e,n,i,s,o,l,c,d,f){const{mc:p,pc:g,pbc:y,o:{insert:w,querySelector:A,createText:_,createComment:I}}=f,T=Uc(e.props);let{shapeFlag:x,children:R,dynamicChildren:S}=e;if(t==null){const O=e.el=_(""),U=e.anchor=_("");w(O,n,i),w(U,n,i);const re=e.target=r_(e.props,A),J=e.targetAnchor=_("");re&&(w(J,re),l=l||KA(re));const ae=(me,de)=>{x&16&&p(R,me,de,s,o,l,c,d)};T?ae(n,U):re&&ae(re,J)}else{e.el=t.el;const O=e.anchor=t.anchor,U=e.target=t.target,re=e.targetAnchor=t.targetAnchor,J=Uc(t.props),ae=J?n:U,me=J?O:re;if(l=l||KA(U),S?(y(t.dynamicChildren,S,ae,s,o,l,c),E1(t,e,!0)):d||g(t,e,ae,me,s,o,l,c,!1),T)J?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Rf(e,n,O,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const de=e.target=r_(e.props,A);de&&Rf(e,de,null,f,0)}else J&&Rf(e,U,re,f,1)}BP(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:d,anchor:f,targetAnchor:p,target:g,props:y}=t;if(g&&o(p),l&&o(f),c&16){const w=l||!Uc(y);for(let A=0;A<d.length;A++){const _=d[A];s(_,e,n,w,!!_.dynamicChildren)}}},move:Rf,hydrate:Rj};function Rf(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:d,children:f,props:p}=t,g=o===2;if(g&&i(l,e,n),(!g||Uc(p))&&d&16)for(let y=0;y<f.length;y++)s(f[y],e,n,2);g&&i(c,e,n)}function Rj(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:d}},f){const p=e.target=r_(e.props,d);if(p){const g=p._lpa||p.firstChild;if(e.shapeFlag&16)if(Uc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=g;else{e.anchor=l(t);let y=g;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(g,e,p,n,i,s,o)}BP(e)}return e.anchor&&l(e.anchor)}const kj=Cj;function BP(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ye=Symbol.for("v-fgt"),Mm=Symbol.for("v-txt"),Mi=Symbol.for("v-cmt"),Bf=Symbol.for("v-stc"),$c=[];let Gi=null;function L(t=!1){$c.push(Gi=t?null:[])}function Pj(){$c.pop(),Gi=$c[$c.length-1]||null}let pd=1;function YA(t){pd+=t}function HP(t){return t.dynamicChildren=pd>0?Gi||yl:null,Pj(),pd>0&&Gi&&Gi.push(t),t}function K(t,e,n,i,s,o){return HP(E(t,e,n,i,s,o,!0))}function Oe(t,e,n,i,s){return HP(V(t,e,n,i,s,!0))}function Ap(t){return t?t.__v_isVNode===!0:!1}function Do(t,e){return t.type===e.type&&t.key===e.key}const Vm="__vInternal",qP=({key:t})=>t??null,Hf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Kt(t)||Nt(t)||He(t)?{i:An,r:t,k:e,f:!!n}:t:null);function E(t,e=null,n=null,i=0,s=null,o=t===Ye?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qP(e),ref:e&&Hf(e),scopeId:Nm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:An};return c?(I1(d,n),o&128&&t.normalize(d)):n&&(d.shapeFlag|=Kt(n)?8:16),pd>0&&!l&&Gi&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Gi.push(d),d}const V=xj;function xj(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===oj)&&(t=Mi),Ap(t)){const c=ns(t,e,!0);return n&&I1(c,n),pd>0&&!o&&Gi&&(c.shapeFlag&6?Gi[Gi.indexOf(t)]=c:Gi.push(c)),c.patchFlag|=-2,c}if(Hj(t)&&(t=t.__vccOpts),e){e=Oj(e);let{class:c,style:d}=e;c&&!Kt(c)&&(e.class=sn(c)),Et(d)&&(mP(d)&&!Re(d)&&(d=mn({},d)),e.style=l1(d))}const l=Kt(t)?1:B7(t)?128:Sj(t)?64:Et(t)?4:He(t)?2:0;return E(t,e,n,i,s,l,o,!0)}function Oj(t){return t?mP(t)||Vm in t?mn({},t):t:null}function ns(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?Nj(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&qP(c),ref:e&&e.ref?n&&s?Re(s)?s.concat(Hf(e)):[s,Hf(e)]:Hf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ns(t.ssContent),ssFallback:t.ssFallback&&ns(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ze(t=" ",e=0){return V(Mm,null,t,e)}function cJ(t,e){const n=V(Bf,null,t);return n.staticCount=e,n}function Te(t="",e=!1){return e?(L(),Oe(Mi,null,t)):V(Mi,null,t)}function cr(t){return t==null||typeof t=="boolean"?V(Mi):Re(t)?V(Ye,null,t.slice()):typeof t=="object"?Os(t):V(Mm,null,String(t))}function Os(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ns(t)}function I1(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Re(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),I1(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Vm in e)?e._ctx=An:s===3&&An&&(An.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else He(e)?(e={default:e,_ctx:An},n=32):(e=String(e),i&64?(n=16,e=[Ze(e)]):n=8);t.children=e,t.shapeFlag|=n}function Nj(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=sn([e.class,i.class]));else if(s==="style")e.style=l1([e.style,i.style]);else if(Sm(s)){const o=e[s],l=i[s];l&&o!==l&&!(Re(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function ur(t,e,n,i=null){Di(t,e,7,[n,i])}const Dj=MP();let Lj=0;function Mj(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Dj,o={uid:Lj++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new eP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:FP(i,s),emitsOptions:SP(i,s),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:i.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=V7.bind(null,o),t.ce&&t.ce(o),o}let pn=null;const Vj=()=>pn||An;let T1,nl,JA="__VUE_INSTANCE_SETTERS__";(nl=Wy()[JA])||(nl=Wy()[JA]=[]),nl.push(t=>pn=t),T1=t=>{nl.length>1?nl.forEach(e=>e(t)):nl[0](t)};const Vl=t=>{T1(t),t.scope.on()},Yo=()=>{pn&&pn.scope.off(),T1(null)};function zP(t){return t.vnode.shapeFlag&4}let md=!1;function Fj(t,e=!1){md=e;const{props:n,children:i}=t.vnode,s=zP(t);vj(t,n,s,e),wj(t,i);const o=s?Uj(t,e):void 0;return md=!1,o}function Uj(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Pm(new Proxy(t.ctx,lj));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?jj(t):null;Vl(t),tu();const o=Hs(i,t,0,[t.props,s]);if(nu(),Yo(),Yk(o)){if(o.then(Yo,Yo),e)return o.then(l=>{QA(t,l,e)}).catch(l=>{xm(l,t,0)});t.asyncDep=o}else QA(t,o,e)}else WP(t,e)}function QA(t,e,n){He(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Et(e)&&(t.setupState=wP(e)),WP(t,n)}let XA;function WP(t,e,n){const i=t.type;if(!t.render){if(!e&&XA&&!i.render){const s=i.template||w1(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:d}=i,f=mn(mn({isCustomElement:o,delimiters:c},l),d);i.render=XA(s,f)}}t.render=i.render||Ki}{Vl(t),tu();try{uj(t)}finally{nu(),Yo()}}}function $j(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return pi(t,"get","$attrs"),e[n]}}))}function jj(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return $j(t)},slots:t.slots,emit:t.emit,expose:e}}function Fm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wP(Pm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Fc)return Fc[n](t)},has(e,n){return n in e||n in Fc}}))}function Bj(t,e=!0){return He(t)?t.displayName||t.name:t.name||e&&t.__name}function Hj(t){return He(t)&&"__vccOpts"in t}const ye=(t,e)=>x7(t,e,md);function on(t,e,n){const i=arguments.length;return i===2?Et(e)&&!Re(e)?Ap(e)?V(t,null,[e]):V(t,e):V(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ap(n)&&(n=[n]),V(t,e,n))}const qj=Symbol.for("v-scx"),zj=()=>xt(qj),Wj="3.3.7",Gj="http://www.w3.org/2000/svg",Lo=typeof document<"u"?document:null,ZA=Lo&&Lo.createElement("template"),Kj={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?Lo.createElementNS(Gj,t):Lo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Lo.createTextNode(t),createComment:t=>Lo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Lo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{ZA.innerHTML=i?`<svg>${t}</svg>`:t;const c=ZA.content;if(i){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ss="transition",pc="animation",gd=Symbol("_vtc"),Um=(t,{slots:e})=>on(G7,Yj(t),e);Um.displayName="Transition";const GP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Um.props=mn({},RP,GP);const ko=(t,e=[])=>{Re(t)?t.forEach(n=>n(...e)):t&&t(...e)},e2=t=>t?Re(t)?t.some(e=>e.length>1):t.length>1:!1;function Yj(t){const e={};for(const se in t)se in GP||(e[se]=t[se]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:d=o,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:w=`${n}-leave-to`}=t,A=Jj(s),_=A&&A[0],I=A&&A[1],{onBeforeEnter:T,onEnter:x,onEnterCancelled:R,onLeave:S,onLeaveCancelled:O,onBeforeAppear:U=T,onAppear:re=x,onAppearCancelled:J=R}=e,ae=(se,he,ot)=>{Po(se,he?p:c),Po(se,he?f:l),ot&&ot()},me=(se,he)=>{se._isLeaving=!1,Po(se,g),Po(se,w),Po(se,y),he&&he()},de=se=>(he,ot)=>{const ee=se?re:x,H=()=>ae(he,se,ot);ko(ee,[he,H]),t2(()=>{Po(he,se?d:o),Cs(he,se?p:c),e2(ee)||n2(he,i,_,H)})};return mn(e,{onBeforeEnter(se){ko(T,[se]),Cs(se,o),Cs(se,l)},onBeforeAppear(se){ko(U,[se]),Cs(se,d),Cs(se,f)},onEnter:de(!1),onAppear:de(!0),onLeave(se,he){se._isLeaving=!0;const ot=()=>me(se,he);Cs(se,g),Zj(),Cs(se,y),t2(()=>{se._isLeaving&&(Po(se,g),Cs(se,w),e2(S)||n2(se,i,I,ot))}),ko(S,[se,ot])},onEnterCancelled(se){ae(se,!1),ko(R,[se])},onAppearCancelled(se){ae(se,!0),ko(J,[se])},onLeaveCancelled(se){me(se),ko(O,[se])}})}function Jj(t){if(t==null)return null;if(Et(t))return[Zv(t.enter),Zv(t.leave)];{const e=Zv(t);return[e,e]}}function Zv(t){return G$(t)}function Cs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[gd]||(t[gd]=new Set)).add(e)}function Po(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[gd];n&&(n.delete(e),n.size||(t[gd]=void 0))}function t2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Qj=0;function n2(t,e,n,i){const s=t._endId=++Qj,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:d}=Xj(t,e);if(!l)return i();const f=l+"end";let p=0;const g=()=>{t.removeEventListener(f,y),o()},y=w=>{w.target===t&&++p>=d&&g()};setTimeout(()=>{p<d&&g()},c+1),t.addEventListener(f,y)}function Xj(t,e){const n=window.getComputedStyle(t),i=A=>(n[A]||"").split(", "),s=i(`${Ss}Delay`),o=i(`${Ss}Duration`),l=i2(s,o),c=i(`${pc}Delay`),d=i(`${pc}Duration`),f=i2(c,d);let p=null,g=0,y=0;e===Ss?l>0&&(p=Ss,g=l,y=o.length):e===pc?f>0&&(p=pc,g=f,y=d.length):(g=Math.max(l,f),p=g>0?l>f?Ss:pc:null,y=p?p===Ss?o.length:d.length:0);const w=p===Ss&&/\b(transform|all)(,|$)/.test(i(`${Ss}Property`).toString());return{type:p,timeout:g,propCount:y,hasTransform:w}}function i2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>r2(n)+r2(t[i])))}function r2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Zj(){return document.body.offsetHeight}function e8(t,e,n){const i=t[gd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const A1=Symbol("_vod"),s2={beforeMount(t,{value:e},{transition:n}){t[A1]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):mc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),mc(t,!0),i.enter(t)):i.leave(t,()=>{mc(t,!1)}):mc(t,e))},beforeUnmount(t,{value:e}){mc(t,e)}};function mc(t,e){t.style.display=e?t[A1]:"none"}function t8(t,e,n){const i=t.style,s=Kt(n);if(n&&!s){if(e&&!Kt(e))for(const o in e)n[o]==null&&s_(i,o,"");for(const o in n)s_(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),A1 in t&&(i.display=o)}}const o2=/\s*!important$/;function s_(t,e,n){if(Re(n))n.forEach(i=>s_(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=n8(t,e);o2.test(n)?t.setProperty(eu(i),n.replace(o2,""),"important"):t[i]=n}}const a2=["Webkit","Moz","ms"],ey={};function n8(t,e){const n=ey[e];if(n)return n;let i=Rr(e);if(i!=="filter"&&i in t)return ey[e]=i;i=Rm(i);for(let s=0;s<a2.length;s++){const o=a2[s]+i;if(o in t)return ey[e]=o}return e}const l2="http://www.w3.org/1999/xlink";function i8(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(l2,e.slice(6,e.length)):t.setAttributeNS(l2,e,n);else{const o=Z$(e);n==null||o&&!Xk(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function r8(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";f!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let d=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=Xk(n):n==null&&f==="string"?(n="",d=!0):f==="number"&&(n=0,d=!0)}try{t[e]=n}catch{}d&&t.removeAttribute(e)}function Ls(t,e,n,i){t.addEventListener(e,n,i)}function s8(t,e,n,i){t.removeEventListener(e,n,i)}const u2=Symbol("_vei");function o8(t,e,n,i,s=null){const o=t[u2]||(t[u2]={}),l=o[e];if(i&&l)l.value=i;else{const[c,d]=a8(e);if(i){const f=o[e]=c8(i,s);Ls(t,c,f,d)}else l&&(s8(t,c,l,d),o[e]=void 0)}}const c2=/(?:Once|Passive|Capture)$/;function a8(t){let e;if(c2.test(t)){e={};let i;for(;i=t.match(c2);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):eu(t.slice(2)),e]}let ty=0;const l8=Promise.resolve(),u8=()=>ty||(l8.then(()=>ty=0),ty=Date.now());function c8(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Di(d8(i,n.value),e,5,[i])};return n.value=t,n.attached=u8(),n}function d8(t,e){if(Re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const d2=/^on[a-z]/,h8=(t,e,n,i,s=!1,o,l,c,d)=>{e==="class"?e8(t,i,s):e==="style"?t8(t,n,i):Sm(e)?s1(e)||o8(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):f8(t,e,i,s))?r8(t,e,i,o,l,c,d):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),i8(t,e,i,s))};function f8(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&d2.test(e)&&He(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||d2.test(e)&&Kt(n)?!1:e in t}const Fl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Re(e)?n=>jf(e,n):e};function p8(t){t.target.composing=!0}function h2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yr=Symbol("_assign"),Ne={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Yr]=Fl(s);const o=i||s.props&&s.props.type==="number";Ls(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=wp(c)),t[Yr](c)}),n&&Ls(t,"change",()=>{t.value=t.value.trim()}),e||(Ls(t,"compositionstart",p8),Ls(t,"compositionend",h2),Ls(t,"change",h2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[Yr]=Fl(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&wp(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},m8={deep:!0,created(t,e,n){t[Yr]=Fl(n),Ls(t,"change",()=>{const i=t._modelValue,s=vd(t),o=t.checked,l=t[Yr];if(Re(i)){const c=u1(i,s),d=c!==-1;if(o&&!d)l(i.concat(s));else if(!o&&d){const f=[...i];f.splice(c,1),l(f)}}else if(Zl(i)){const c=new Set(i);o?c.add(s):c.delete(s),l(c)}else l(KP(t,o))})},mounted:f2,beforeUpdate(t,e,n){t[Yr]=Fl(n),f2(t,e,n)}};function f2(t,{value:e,oldValue:n},i){t._modelValue=e,Re(e)?t.checked=u1(e,i.props.value)>-1:Zl(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=Wd(e,KP(t,!0)))}const dJ={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Zl(e);Ls(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?wp(vd(l)):vd(l));t[Yr](t.multiple?s?new Set(o):o:o[0])}),t[Yr]=Fl(i)},mounted(t,{value:e}){p2(t,e)},beforeUpdate(t,e,n){t[Yr]=Fl(n)},updated(t,{value:e}){p2(t,e)}};function p2(t,e){const n=t.multiple;if(!(n&&!Re(e)&&!Zl(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=vd(o);if(n)Re(e)?o.selected=u1(e,l)>-1:o.selected=e.has(l);else if(Wd(vd(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function vd(t){return"_value"in t?t._value:t.value}function KP(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const g8=mn({patchProp:h8},Kj);let m2;function v8(){return m2||(m2=Ej(g8))}const y8=(...t)=>{const e=v8().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=_8(i);if(!s)return;const o=e._component;!He(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function _8(t){return Kt(t)?document.querySelector(t):t}var w8=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let YP;const $m=t=>YP=t,JP=Symbol();function o_(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var jc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(jc||(jc={}));function b8(){const t=tP(!0),e=t.run(()=>q({}));let n=[],i=[];const s=Pm({install(o){$m(s),s._a=o,o.provide(JP,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!w8?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const QP=()=>{};function g2(t,e,n,i=QP){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&nP()&&n7(s),s}function il(t,...e){t.slice().forEach(n=>{n(...e)})}const E8=t=>t();function a_(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];o_(s)&&o_(i)&&t.hasOwnProperty(n)&&!Nt(i)&&!Kr(i)?t[n]=a_(s,i):t[n]=i}return t}const I8=Symbol();function T8(t){return!o_(t)||!t.hasOwnProperty(I8)}const{assign:ks}=Object;function A8(t){return!!(Nt(t)&&t.effect)}function S8(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let d;function f(){c||(n.state.value[t]=s?s():{});const p=S7(n.state.value[t]);return ks(p,o,Object.keys(l||{}).reduce((g,y)=>(g[y]=Pm(ye(()=>{$m(n);const w=n._s.get(t);return l[y].call(w,w)})),g),{}))}return d=XP(t,f,e,n,i,!0),d}function XP(t,e,n={},i,s,o){let l;const c=ks({actions:{}},n),d={deep:!0};let f,p,g=[],y=[],w;const A=i.state.value[t];!o&&!A&&(i.state.value[t]={}),q({});let _;function I(J){let ae;f=p=!1,typeof J=="function"?(J(i.state.value[t]),ae={type:jc.patchFunction,storeId:t,events:w}):(a_(i.state.value[t],J),ae={type:jc.patchObject,payload:J,storeId:t,events:w});const me=_=Symbol();Li().then(()=>{_===me&&(f=!0)}),p=!0,il(g,ae,i.state.value[t])}const T=o?function(){const{state:ae}=n,me=ae?ae():{};this.$patch(de=>{ks(de,me)})}:QP;function x(){l.stop(),g=[],y=[],i._s.delete(t)}function R(J,ae){return function(){$m(i);const me=Array.from(arguments),de=[],se=[];function he(H){de.push(H)}function ot(H){se.push(H)}il(y,{args:me,name:J,store:O,after:he,onError:ot});let ee;try{ee=ae.apply(this&&this.$id===t?this:O,me)}catch(H){throw il(se,H),H}return ee instanceof Promise?ee.then(H=>(il(de,H),H)).catch(H=>(il(se,H),Promise.reject(H))):(il(de,ee),ee)}}const S={_p:i,$id:t,$onAction:g2.bind(null,y),$patch:I,$reset:T,$subscribe(J,ae={}){const me=g2(g,J,ae.detached,()=>de()),de=l.run(()=>$n(()=>i.state.value[t],se=>{(ae.flush==="sync"?p:f)&&J({storeId:t,type:jc.direct,events:w},se)},ks({},d,ae)));return me},$dispose:x},O=Ln(S);i._s.set(t,O);const re=(i._a&&i._a.runWithContext||E8)(()=>i._e.run(()=>(l=tP()).run(e)));for(const J in re){const ae=re[J];if(Nt(ae)&&!A8(ae)||Kr(ae))o||(A&&T8(ae)&&(Nt(ae)?ae.value=A[J]:a_(ae,A[J])),i.state.value[t][J]=ae);else if(typeof ae=="function"){const me=R(J,ae);re[J]=me,c.actions[J]=ae}}return ks(O,re),ks(Fe(O),re),Object.defineProperty(O,"$state",{get:()=>i.state.value[t],set:J=>{I(ae=>{ks(ae,J)})}}),i._p.forEach(J=>{ks(O,l.run(()=>J({store:O,app:i._a,pinia:i,options:c})))}),A&&o&&n.hydrate&&n.hydrate(O.$state,A),f=!0,p=!0,O}function ZP(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,d){const f=gj();return c=c||(f?xt(JP,null):null),c&&$m(c),c=YP,c._s.has(i)||(o?XP(i,e,s,c):S8(i,s,c)),c._s.get(i)}return l.$id=i,l}function st(t){{t=Fe(t);const e={};for(const n in t){const i=t[n];(Nt(i)||Kr(i))&&(e[n]=k7(t,n))}return e}}function C8(){return console.log("createUserProfileCallable"),wk(G0(void 0,"northamerica-northeast1"),"createUserProfile")}const jn=ZP("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=q(null),o=q(!1),l=q(null),c=I=>{s.value=I},d=I=>{console.log("setNewUser",I),o.value=I},f=async I=>{let T=null;if(o.value)console.log("Profile setup mounted for new user"),T=await g(I),y(I);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(T=await yp("users",s.value.uid),y(I),!T)throw new Error("continueSignup No profile")}y(T)},p=C8(),g=async I=>{try{console.log("createUser start",I),console.log("createUserProfile",p);const T=await p({...I});return console.log("createUser res",T),T}catch(T){throw console.log("createUser error",T),new Error(T)}},y=I=>{console.log("setProfile",I),l.value=I};return{user:s,setUser:c,createUser:g,getProfile:async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const I=await yp("users",s.value.uid);l.value=I},setProfile:y,setNewUser:d,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,signout:async()=>{const I=nC();console.log("signout"),await I.signOut(),c(null),y(null)},BID_STATUSES:e,AD_STATUSES:n,CLAUSE_STATUSES:i,getProduce:async()=>(console.log("getProduce"),await U$("produce"))}}),R8={beforeMount:function(t,e){let n=0;e.value===void 0?n=0:n=e.value,t.innerHTML=n.toLocaleString("en-US",{style:"currency",currency:"CAD"})},updated:function(t,e){let n=0;e.value===void 0?n=0:n=e.value,t.innerHTML=n.toLocaleString("en-US",{style:"currency",currency:"CAD"})}},k8="/assets/croplink_logo_small-34d67a58.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const al=typeof window<"u";function P8(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const wt=Object.assign;function ny(t,e){const n={};for(const i in e){const s=e[i];n[i]=Zi(s)?s.map(t):t(s)}return n}const Bc=()=>{},Zi=Array.isArray,x8=/\/$/,O8=t=>t.replace(x8,"");function iy(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let d=e.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(i=e.slice(0,d),o=e.slice(d+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=M8(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function N8(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function v2(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function D8(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Ul(e.matched[i],n.matched[s])&&ex(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ul(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ex(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!L8(t[n],e[n]))return!1;return!0}function L8(t,e){return Zi(t)?y2(t,e):Zi(e)?y2(e,t):t===e}function y2(t,e){return Zi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function M8(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var yd;(function(t){t.pop="pop",t.push="push"})(yd||(yd={}));var Hc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Hc||(Hc={}));function V8(t){if(!t)if(al){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),O8(t)}const F8=/^[^#]+#/;function U8(t,e){return t.replace(F8,"#")+e}function $8(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const jm=()=>({left:window.pageXOffset,top:window.pageYOffset});function j8(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=$8(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function _2(t,e){return(history.state?history.state.position-e:-1)+t}const l_=new Map;function B8(t,e){l_.set(t,e)}function H8(t){const e=l_.get(t);return l_.delete(t),e}let q8=()=>location.protocol+"//"+location.host;function tx(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,d=s.slice(c);return d[0]!=="/"&&(d="/"+d),v2(d,"")}return v2(n,t)+i+s}function z8(t,e,n,i){let s=[],o=[],l=null;const c=({state:y})=>{const w=tx(t,location),A=n.value,_=e.value;let I=0;if(y){if(n.value=w,e.value=y,l&&l===A){l=null;return}I=_?y.position-_.position:0}else i(w);s.forEach(T=>{T(n.value,A,{delta:I,type:yd.pop,direction:I?I>0?Hc.forward:Hc.back:Hc.unknown})})};function d(){l=n.value}function f(y){s.push(y);const w=()=>{const A=s.indexOf(y);A>-1&&s.splice(A,1)};return o.push(w),w}function p(){const{history:y}=window;y.state&&y.replaceState(wt({},y.state,{scroll:jm()}),"")}function g(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:d,listen:f,destroy:g}}function w2(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?jm():null}}function W8(t){const{history:e,location:n}=window,i={value:tx(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(d,f,p){const g=t.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+d:q8()+t+d;try{e[p?"replaceState":"pushState"](f,"",y),s.value=f}catch(w){console.error(w),n[p?"replace":"assign"](y)}}function l(d,f){const p=wt({},e.state,w2(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});o(d,p,!0),i.value=d}function c(d,f){const p=wt({},s.value,e.state,{forward:d,scroll:jm()});o(p.current,p,!0);const g=wt({},w2(i.value,d,null),{position:p.position+1},f);o(d,g,!1),i.value=d}return{location:i,state:s,push:c,replace:l}}function G8(t){t=V8(t);const e=W8(t),n=z8(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=wt({location:"",base:t,go:i,createHref:U8.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function K8(t){return typeof t=="string"||t&&typeof t=="object"}function nx(t){return typeof t=="string"||typeof t=="symbol"}const Rs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ix=Symbol("");var b2;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(b2||(b2={}));function $l(t,e){return wt(new Error,{type:t,[ix]:!0},e)}function Fr(t,e){return t instanceof Error&&ix in t&&(e==null||!!(t.type&e))}const E2="[^/]+?",Y8={sensitive:!1,strict:!1,start:!0,end:!0},J8=/[.+*?^${}()[\]/\\]/g;function Q8(t,e){const n=wt({},Y8,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let g=0;g<f.length;g++){const y=f[g];let w=40+(n.sensitive?.25:0);if(y.type===0)g||(s+="/"),s+=y.value.replace(J8,"\\$&"),w+=40;else if(y.type===1){const{value:A,repeatable:_,optional:I,regexp:T}=y;o.push({name:A,repeatable:_,optional:I});const x=T||E2;if(x!==E2){w+=10;try{new RegExp(`(${x})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${A}" (${x}): `+S.message)}}let R=_?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;g||(R=I&&f.length<2?`(?:/${R})`:"/"+R),I&&(R+="?"),s+=R,w+=20,I&&(w+=-8),_&&(w+=-20),x===".*"&&(w+=-50)}p.push(w)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(l),g={};if(!p)return null;for(let y=1;y<p.length;y++){const w=p[y]||"",A=o[y-1];g[A.name]=w&&A.repeatable?w.split("/"):w}return g}function d(f){let p="",g=!1;for(const y of t){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const w of y)if(w.type===0)p+=w.value;else if(w.type===1){const{value:A,repeatable:_,optional:I}=w,T=A in f?f[A]:"";if(Zi(T)&&!_)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const x=Zi(T)?T.join("/"):T;if(!x)if(I)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${A}"`);p+=x}}return p||"/"}return{re:l,score:i,keys:o,parse:c,stringify:d}}function X8(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Z8(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=X8(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(I2(i))return 1;if(I2(s))return-1}return s.length-i.length}function I2(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eB={type:0,value:""},tB=/[a-zA-Z0-9_]/;function nB(t){if(!t)return[[]];if(t==="/")return[[eB]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(w){throw new Error(`ERR (${n})/"${f}": ${w}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,d,f="",p="";function g(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:d==="/"?(f&&g(),l()):d===":"?(g(),n=1):y();break;case 4:y(),n=i;break;case 1:d==="("?n=2:tB.test(d)?y():(g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:n=3:p+=d;break;case 3:g(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),l(),s}function iB(t,e,n){const i=Q8(nB(t.path),n),s=wt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function rB(t,e){const n=[],i=new Map;e=S2({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function o(p,g,y){const w=!y,A=sB(p);A.aliasOf=y&&y.record;const _=S2(e,p),I=[A];if("alias"in p){const R=typeof p.alias=="string"?[p.alias]:p.alias;for(const S of R)I.push(wt({},A,{components:y?y.record.components:A.components,path:S,aliasOf:y?y.record:A}))}let T,x;for(const R of I){const{path:S}=R;if(g&&S[0]!=="/"){const O=g.record.path,U=O[O.length-1]==="/"?"":"/";R.path=g.record.path+(S&&U+S)}if(T=iB(R,g,_),y?y.alias.push(T):(x=x||T,x!==T&&x.alias.push(T),w&&p.name&&!A2(T)&&l(p.name)),A.children){const O=A.children;for(let U=0;U<O.length;U++)o(O[U],T,y&&y.children[U])}y=y||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&d(T)}return x?()=>{l(x)}:Bc}function l(p){if(nx(p)){const g=i.get(p);g&&(i.delete(p),n.splice(n.indexOf(g),1),g.children.forEach(l),g.alias.forEach(l))}else{const g=n.indexOf(p);g>-1&&(n.splice(g,1),p.record.name&&i.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function d(p){let g=0;for(;g<n.length&&Z8(p,n[g])>=0&&(p.record.path!==n[g].record.path||!rx(p,n[g]));)g++;n.splice(g,0,p),p.record.name&&!A2(p)&&i.set(p.record.name,p)}function f(p,g){let y,w={},A,_;if("name"in p&&p.name){if(y=i.get(p.name),!y)throw $l(1,{location:p});_=y.record.name,w=wt(T2(g.params,y.keys.filter(x=>!x.optional).map(x=>x.name)),p.params&&T2(p.params,y.keys.map(x=>x.name))),A=y.stringify(w)}else if("path"in p)A=p.path,y=n.find(x=>x.re.test(A)),y&&(w=y.parse(A),_=y.record.name);else{if(y=g.name?i.get(g.name):n.find(x=>x.re.test(g.path)),!y)throw $l(1,{location:p,currentLocation:g});_=y.record.name,w=wt({},g.params,p.params),A=y.stringify(w)}const I=[];let T=y;for(;T;)I.unshift(T.record),T=T.parent;return{name:_,path:A,params:w,matched:I,meta:aB(I)}}return t.forEach(p=>o(p)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function T2(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function sB(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:oB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function oB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function A2(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function aB(t){return t.reduce((e,n)=>wt(e,n.meta),{})}function S2(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function rx(t,e){return e.children.some(n=>n===t||rx(t,n))}const sx=/#/g,lB=/&/g,uB=/\//g,cB=/=/g,dB=/\?/g,ox=/\+/g,hB=/%5B/g,fB=/%5D/g,ax=/%5E/g,pB=/%60/g,lx=/%7B/g,mB=/%7C/g,ux=/%7D/g,gB=/%20/g;function S1(t){return encodeURI(""+t).replace(mB,"|").replace(hB,"[").replace(fB,"]")}function vB(t){return S1(t).replace(lx,"{").replace(ux,"}").replace(ax,"^")}function u_(t){return S1(t).replace(ox,"%2B").replace(gB,"+").replace(sx,"%23").replace(lB,"%26").replace(pB,"`").replace(lx,"{").replace(ux,"}").replace(ax,"^")}function yB(t){return u_(t).replace(cB,"%3D")}function _B(t){return S1(t).replace(sx,"%23").replace(dB,"%3F")}function wB(t){return t==null?"":_B(t).replace(uB,"%2F")}function Sp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function bB(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(ox," "),l=o.indexOf("="),c=Sp(l<0?o:o.slice(0,l)),d=l<0?null:Sp(o.slice(l+1));if(c in e){let f=e[c];Zi(f)||(f=e[c]=[f]),f.push(d)}else e[c]=d}return e}function C2(t){let e="";for(let n in t){const i=t[n];if(n=yB(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zi(i)?i.map(o=>o&&u_(o)):[i&&u_(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function EB(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Zi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const IB=Symbol(""),R2=Symbol(""),Bm=Symbol(""),cx=Symbol(""),c_=Symbol("");function gc(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ns(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const d=g=>{g===!1?c($l(4,{from:n,to:e})):g instanceof Error?c(g):K8(g)?c($l(2,{from:e,to:g})):(o&&i.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),l())},f=t.call(i&&i.instances[s],e,n,d);let p=Promise.resolve(f);t.length<3&&(p=p.then(d)),p.catch(g=>c(g))})}function ry(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(TB(c)){const f=(c.__vccOpts||c)[e];f&&s.push(Ns(f,n,i,o,l))}else{let d=c();s.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const p=P8(f)?f.default:f;o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&Ns(y,n,i,o,l)()}))}}return s}function TB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function k2(t){const e=xt(Bm),n=xt(cx),i=ye(()=>e.resolve(N(t.to))),s=ye(()=>{const{matched:d}=i.value,{length:f}=d,p=d[f-1],g=n.matched;if(!p||!g.length)return-1;const y=g.findIndex(Ul.bind(null,p));if(y>-1)return y;const w=P2(d[f-2]);return f>1&&P2(p)===w&&g[g.length-1].path!==w?g.findIndex(Ul.bind(null,d[f-2])):y}),o=ye(()=>s.value>-1&&CB(n.params,i.value.params)),l=ye(()=>s.value>-1&&s.value===n.matched.length-1&&ex(n.params,i.value.params));function c(d={}){return SB(d)?e[N(t.replace)?"replace":"push"](N(t.to)).catch(Bc):Promise.resolve()}return{route:i,href:ye(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const AB=Le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:k2,setup(t,{slots:e}){const n=Ln(k2(t)),{options:i}=xt(Bm),s=ye(()=>({[x2(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[x2(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:on("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Ps=AB;function SB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function CB(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Zi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function P2(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const x2=(t,e,n)=>t??e??n,RB=Le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=xt(c_),s=ye(()=>t.route||i.value),o=xt(R2,0),l=ye(()=>{let f=N(o);const{matched:p}=s.value;let g;for(;(g=p[f])&&!g.components;)f++;return f}),c=ye(()=>s.value.matched[l.value]);oi(R2,ye(()=>l.value+1)),oi(IB,c),oi(c_,s);const d=q();return $n(()=>[d.value,c.value,t.name],([f,p,g],[y,w,A])=>{p&&(p.instances[g]=f,w&&w!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=w.leaveGuards),p.updateGuards.size||(p.updateGuards=w.updateGuards))),f&&p&&(!w||!Ul(p,w)||!y)&&(p.enterCallbacks[g]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,g=c.value,y=g&&g.components[p];if(!y)return O2(n.default,{Component:y,route:f});const w=g.props[p],A=w?w===!0?f.params:typeof w=="function"?w(f):w:null,I=on(y,wt({},A,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(g.instances[p]=null)},ref:d}));return O2(n.default,{Component:I,route:f})||I}}});function O2(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const dx=RB;function kB(t){const e=rB(t.routes,t),n=t.parseQuery||bB,i=t.stringifyQuery||C2,s=t.history,o=gc(),l=gc(),c=gc(),d=yP(Rs);let f=Rs;al&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=ny.bind(null,$=>""+$),g=ny.bind(null,wB),y=ny.bind(null,Sp);function w($,ge){let oe,Ae;return nx($)?(oe=e.getRecordMatcher($),Ae=ge):Ae=$,e.addRoute(Ae,oe)}function A($){const ge=e.getRecordMatcher($);ge&&e.removeRoute(ge)}function _(){return e.getRoutes().map($=>$.record)}function I($){return!!e.getRecordMatcher($)}function T($,ge){if(ge=wt({},ge||d.value),typeof $=="string"){const D=iy(n,$,ge.path),F=e.resolve({path:D.path},ge),W=s.createHref(D.fullPath);return wt(D,F,{params:y(F.params),hash:Sp(D.hash),redirectedFrom:void 0,href:W})}let oe;if("path"in $)oe=wt({},$,{path:iy(n,$.path,ge.path).path});else{const D=wt({},$.params);for(const F in D)D[F]==null&&delete D[F];oe=wt({},$,{params:g(D)}),ge.params=g(ge.params)}const Ae=e.resolve(oe,ge),ft=$.hash||"";Ae.params=p(y(Ae.params));const k=N8(i,wt({},$,{hash:vB(ft),path:Ae.path})),P=s.createHref(k);return wt({fullPath:k,hash:ft,query:i===C2?EB($.query):$.query||{}},Ae,{redirectedFrom:void 0,href:P})}function x($){return typeof $=="string"?iy(n,$,d.value.path):wt({},$)}function R($,ge){if(f!==$)return $l(8,{from:ge,to:$})}function S($){return re($)}function O($){return S(wt(x($),{replace:!0}))}function U($){const ge=$.matched[$.matched.length-1];if(ge&&ge.redirect){const{redirect:oe}=ge;let Ae=typeof oe=="function"?oe($):oe;return typeof Ae=="string"&&(Ae=Ae.includes("?")||Ae.includes("#")?Ae=x(Ae):{path:Ae},Ae.params={}),wt({query:$.query,hash:$.hash,params:"path"in Ae?{}:$.params},Ae)}}function re($,ge){const oe=f=T($),Ae=d.value,ft=$.state,k=$.force,P=$.replace===!0,D=U(oe);if(D)return re(wt(x(D),{state:typeof D=="object"?wt({},ft,D.state):ft,force:k,replace:P}),ge||oe);const F=oe;F.redirectedFrom=ge;let W;return!k&&D8(i,Ae,oe)&&(W=$l(16,{to:F,from:Ae}),Mt(Ae,Ae,!0,!1)),(W?Promise.resolve(W):me(F,Ae)).catch(Q=>Fr(Q)?Fr(Q,2)?Q:qe(Q):pe(Q,F,Ae)).then(Q=>{if(Q){if(Fr(Q,2))return re(wt({replace:P},x(Q.to),{state:typeof Q.to=="object"?wt({},ft,Q.to.state):ft,force:k}),ge||F)}else Q=se(F,Ae,!0,P,ft);return de(F,Ae,Q),Q})}function J($,ge){const oe=R($,ge);return oe?Promise.reject(oe):Promise.resolve()}function ae($){const ge=ir.values().next().value;return ge&&typeof ge.runWithContext=="function"?ge.runWithContext($):$()}function me($,ge){let oe;const[Ae,ft,k]=PB($,ge);oe=ry(Ae.reverse(),"beforeRouteLeave",$,ge);for(const D of Ae)D.leaveGuards.forEach(F=>{oe.push(Ns(F,$,ge))});const P=J.bind(null,$,ge);return oe.push(P),gn(oe).then(()=>{oe=[];for(const D of o.list())oe.push(Ns(D,$,ge));return oe.push(P),gn(oe)}).then(()=>{oe=ry(ft,"beforeRouteUpdate",$,ge);for(const D of ft)D.updateGuards.forEach(F=>{oe.push(Ns(F,$,ge))});return oe.push(P),gn(oe)}).then(()=>{oe=[];for(const D of k)if(D.beforeEnter)if(Zi(D.beforeEnter))for(const F of D.beforeEnter)oe.push(Ns(F,$,ge));else oe.push(Ns(D.beforeEnter,$,ge));return oe.push(P),gn(oe)}).then(()=>($.matched.forEach(D=>D.enterCallbacks={}),oe=ry(k,"beforeRouteEnter",$,ge),oe.push(P),gn(oe))).then(()=>{oe=[];for(const D of l.list())oe.push(Ns(D,$,ge));return oe.push(P),gn(oe)}).catch(D=>Fr(D,8)?D:Promise.reject(D))}function de($,ge,oe){c.list().forEach(Ae=>ae(()=>Ae($,ge,oe)))}function se($,ge,oe,Ae,ft){const k=R($,ge);if(k)return k;const P=ge===Rs,D=al?history.state:{};oe&&(Ae||P?s.replace($.fullPath,wt({scroll:P&&D&&D.scroll},ft)):s.push($.fullPath,ft)),d.value=$,Mt($,ge,oe,P),qe()}let he;function ot(){he||(he=s.listen(($,ge,oe)=>{if(!ma.listening)return;const Ae=T($),ft=U(Ae);if(ft){re(wt(ft,{replace:!0}),Ae).catch(Bc);return}f=Ae;const k=d.value;al&&B8(_2(k.fullPath,oe.delta),jm()),me(Ae,k).catch(P=>Fr(P,12)?P:Fr(P,2)?(re(P.to,Ae).then(D=>{Fr(D,20)&&!oe.delta&&oe.type===yd.pop&&s.go(-1,!1)}).catch(Bc),Promise.reject()):(oe.delta&&s.go(-oe.delta,!1),pe(P,Ae,k))).then(P=>{P=P||se(Ae,k,!1),P&&(oe.delta&&!Fr(P,8)?s.go(-oe.delta,!1):oe.type===yd.pop&&Fr(P,20)&&s.go(-1,!1)),de(Ae,k,P)}).catch(Bc)}))}let ee=gc(),H=gc(),B;function pe($,ge,oe){qe($);const Ae=H.list();return Ae.length?Ae.forEach(ft=>ft($,ge,oe)):console.error($),Promise.reject($)}function at(){return B&&d.value!==Rs?Promise.resolve():new Promise(($,ge)=>{ee.add([$,ge])})}function qe($){return B||(B=!$,ot(),ee.list().forEach(([ge,oe])=>$?oe($):ge()),ee.reset()),$}function Mt($,ge,oe,Ae){const{scrollBehavior:ft}=t;if(!al||!ft)return Promise.resolve();const k=!oe&&H8(_2($.fullPath,0))||(Ae||!oe)&&history.state&&history.state.scroll||null;return Li().then(()=>ft($,ge,k)).then(P=>P&&j8(P)).catch(P=>pe(P,$,ge))}const lt=$=>s.go($);let nr;const ir=new Set,ma={currentRoute:d,listening:!0,addRoute:w,removeRoute:A,hasRoute:I,getRoutes:_,resolve:T,options:t,push:S,replace:O,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:H.add,isReady:at,install($){const ge=this;$.component("RouterLink",Ps),$.component("RouterView",dx),$.config.globalProperties.$router=ge,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>N(d)}),al&&!nr&&d.value===Rs&&(nr=!0,S(s.location).catch(ft=>{}));const oe={};for(const ft in Rs)Object.defineProperty(oe,ft,{get:()=>d.value[ft],enumerable:!0});$.provide(Bm,ge),$.provide(cx,fP(oe)),$.provide(c_,d);const Ae=$.unmount;ir.add($),$.unmount=function(){ir.delete($),ir.size<1&&(f=Rs,he&&he(),he=null,d.value=Rs,nr=!1,B=!1),Ae()}}};function gn($){return $.reduce((ge,oe)=>ge.then(()=>ae(oe)),Promise.resolve())}return ma}function PB(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>Ul(f,c))?i.push(c):n.push(c));const d=t.matched[l];d&&(e.matched.find(f=>Ul(f,d))||s.push(d))}return[n,i,s]}function Hm(){return xt(Bm)}const je=ZP("ModalStore",()=>{const t=Ln({addgig:!1,editgig:!1,addjob:!1,editjob:!1,addad:!1,addbid:!1,editad:!1,viewjob:!1,viewgig:!1,confirmremove:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=Ln({show:!1,message:"",type:"",context:{}}),i=Ln({show:!1,message:"",type:"",context:{}}),s=Ln({show:!1,to:null,context:{}});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.viewjob=!1,t.confirmremove=!1,t.addgig=!1,t.editgig=!1,t.addjob=!1,t.editjob=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}},messaging:s,clearMessaging:()=>{s.show=!1,s.to=null,s.context={}}}}),xB={key:0},OB=Le({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(L(),K("div",xB,[E("div",{class:sn(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):Te("",!0)}});const NB=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Jo=NB(OB,[["__scopeId","data-v-634cf170"]]),DB=["disabled"],Ui=Le({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(L(),K("button",{class:sn([t.classes,"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"]),disabled:t.disabled,onClick:i},[V(Jo,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?Te("",!0):NP(s.$slots,"default",{key:0})],10,DB))}});function Sn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Sn),i}var jl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(jl||{}),Us=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Us||{});function ai({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=fx(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return sy(c);if(e&1){let d=(o=l.unmount)==null||o?0:1;return Sn(d,{0(){return null},1(){return sy({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return sy(c)}function sy({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...d}=C1(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),p={};if(i){let g=!1,y=[];for(let[w,A]of Object.entries(i))typeof A=="boolean"&&(g=!0),A===!0&&y.push(w);g&&(p["data-headlessui-state"]=y.join(" "))}if(c==="template"){if(f=hx(f??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[g,...y]=f??[];if(!MB(g)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(_=>_.trim()).filter((_,I,T)=>T.indexOf(_)===I).sort((_,I)=>_.localeCompare(I)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let w=fx((l=g.props)!=null?l:{},d),A=ns(g,w);for(let _ in w)_.startsWith("on")&&(A.props||(A.props={}),A.props[_]=w[_]);return A}return Array.isArray(f)&&f.length===1?f[0]:f}return on(c,Object.assign({},d,p),{default:()=>f})}function hx(t){return t.flatMap(e=>e.type===Ye?hx(e.children):[e])}function fx(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function LB(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function C1(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function MB(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let VB=0;function FB(){return++VB}function ro(){return FB()}var fn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(fn||{});function UB(t){throw new Error("Unexpected object: "+t)}var ni=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ni||{});function $B(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1,o=(()=>{switch(t.focus){case 0:return n.findIndex(l=>!e.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,d,f)=>s!==-1&&f.length-d-1>=s?!1:!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=s?!1:!e.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>e.resolveId(l)===t.id);case 5:return null;default:UB(t)}})();return o===-1?i:o}function Je(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let px=Symbol("Context");var Nn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Nn||{});function jB(){return qm()!==null}function qm(){return xt(px,null)}function mx(t){oi(px,t)}function N2(t,e){if(t)return t;let n=e??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function BB(t,e){let n=q(N2(t.value.type,t.value.as));return St(()=>{n.value=N2(t.value.type,t.value.as)}),Ri(()=>{var i;n.value||Je(e)&&Je(e)instanceof HTMLButtonElement&&!((i=Je(e))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var HB=Object.defineProperty,qB=(t,e,n)=>e in t?HB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D2=(t,e,n)=>(qB(t,typeof e!="symbol"?e+"":e,n),n);class zB{constructor(){D2(this,"current",this.detect()),D2(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Gd=new zB;function pa(t){if(Gd.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Je(t);if(e)return e.ownerDocument}return document}let d_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ms=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ms||{}),gx=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(gx||{}),WB=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(WB||{});function vx(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(d_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var R1=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(R1||{});function k1(t,e=0){var n;return t===((n=pa(t))==null?void 0:n.body)?!1:Sn(e,{0(){return t.matches(d_)},1(){let i=t;for(;i!==null;){if(i.matches(d_))return!0;i=i.parentElement}return!1}})}function hJ(t){let e=pa(t);Li(()=>{e&&!k1(e.activeElement,0)&&qs(t)})}var GB=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(GB||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qs(t){t==null||t.focus({preventScroll:!0})}let KB=["textarea","input"].join(",");function YB(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,KB))!=null?n:!1}function yx(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fJ(t,e){return qc(vx(),e,{relativeTo:t})}function qc(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?yx(t):t:vx(t);s.length>0&&c.length>1&&(c=c.filter(A=>!s.includes(A))),i=i??l.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},g=0,y=c.length,w;do{if(g>=y||g+y<=0)return 0;let A=f+g;if(e&16)A=(A+y)%y;else{if(A<0)return 3;if(A>=y)return 1}w=c[A],w==null||w.focus(p),g+=d}while(w!==l.activeElement);return e&6&&YB(w)&&w.select(),2}function kf(t,e,n){Gd.isServer||Ri(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function _x(t,e,n){Gd.isServer||Ri(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function wx(t,e,n=ye(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let d=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of d){if(f===null)continue;let p=f instanceof HTMLElement?f:Je(f);if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!k1(c,R1.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=q(null);kf("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),kf("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),kf("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),kf("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),_x("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var _d=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(_d||{});let Cp=Le({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return ai({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function bx(t={},e=null,n=[]){for(let[i,s]of Object.entries(t))Ix(n,Ex(e,i),s);return n}function Ex(t,e){return t?t+"["+e+"]":e}function Ix(t,e,n){if(Array.isArray(n))for(let[i,s]of n.entries())Ix(t,Ex(e,i.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):bx(n,e,t)}function JB(t,e,n){let i=q(n==null?void 0:n.value),s=ye(()=>t.value!==void 0);return[ye(()=>s.value?t.value:i.value),function(o){return s.value||(i.value=o),e==null?void 0:e(o)}]}function L2(t){return[t.screenX,t.screenY]}function QB(){let t=q([-1,-1]);return{wasMoved(e){let n=L2(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=L2(e)}}}function XB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function P1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Kd(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return P1(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=Kd();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var Rc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Rc||{});function ZB(){let t=q(0);return _x("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Tx(t,e,n,i){Gd.isServer||Ri(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function eH(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function Ax(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=Je(n);i instanceof HTMLElement&&e.add(i)}return e}var Sx=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Sx||{});let vc=Object.assign(Le({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:q(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=q(null);i({el:s,$el:s});let o=ye(()=>pa(s)),l=q(!1);St(()=>l.value=!0),mi(()=>l.value=!1),nH({ownerDocument:o},ye(()=>l.value&&!!(t.features&16)));let c=iH({ownerDocument:o,container:s,initialFocus:ye(()=>t.initialFocus)},ye(()=>l.value&&!!(t.features&2)));rH({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},ye(()=>l.value&&!!(t.features&8)));let d=ZB();function f(w){let A=Je(s);A&&(_=>_())(()=>{Sn(d.value,{[Rc.Forwards]:()=>{qc(A,Ms.First,{skipElements:[w.relatedTarget]})},[Rc.Backwards]:()=>{qc(A,Ms.Last,{skipElements:[w.relatedTarget]})}})})}let p=q(!1);function g(w){w.key==="Tab"&&(p.value=!0,requestAnimationFrame(()=>{p.value=!1}))}function y(w){if(!l.value)return;let A=Ax(t.containers);Je(s)instanceof HTMLElement&&A.add(Je(s));let _=w.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(Cx(A,_)||(p.value?qc(Je(s),Sn(d.value,{[Rc.Forwards]:()=>Ms.Next,[Rc.Backwards]:()=>Ms.Previous})|Ms.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&qs(w.target)))}return()=>{let w={},A={ref:s,onKeydown:g,onFocusout:y},{features:_,initialFocus:I,containers:T,...x}=t;return on(Ye,[!!(_&4)&&on(Cp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:_d.Focusable}),ai({ourProps:A,theirProps:{...e,...x},slot:w,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&on(Cp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:_d.Focusable})])}}}),{features:Sx}),Mo=[];eH(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Mo[0]!==e.target&&(Mo.unshift(e.target),Mo=Mo.filter(n=>n!=null&&n.isConnected),Mo.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function tH(t){let e=q(Mo.slice());return $n([t],([n],[i])=>{i===!0&&n===!1?P1(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=Mo.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function nH({ownerDocument:t},e){let n=tH(e);St(()=>{Ri(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&qs(n())},{flush:"post"})}),mi(()=>{e.value&&qs(n())})}function iH({ownerDocument:t,container:e,initialFocus:n},i){let s=q(null),o=q(!1);return St(()=>o.value=!0),mi(()=>o.value=!1),St(()=>{$n([e,n,i],(l,c)=>{if(l.every((f,p)=>(c==null?void 0:c[p])===f)||!i.value)return;let d=Je(e);d&&P1(()=>{var f,p;if(!o.value)return;let g=Je(n),y=(f=t.value)==null?void 0:f.activeElement;if(g){if(g===y){s.value=y;return}}else if(d.contains(y)){s.value=y;return}g?qs(g):qc(d,Ms.First|Ms.NoScroll)===gx.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(p=t.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),s}function rH({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;Tx((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=Ax(n);Je(e)instanceof HTMLElement&&c.add(Je(e));let d=i.value;if(!d)return;let f=l.target;f&&f instanceof HTMLElement?Cx(c,f)?(i.value=f,qs(f)):(l.preventDefault(),l.stopPropagation(),qs(d)):qs(i.value)},!0)}function Cx(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let oy=new Map,yc=new Map;function M2(t,e=q(!0)){Ri(n=>{var i;if(!e.value)return;let s=Je(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=yc.get(s))!=null?l:1;if(c===1?yc.delete(s):yc.set(s,c-1),c!==1)return;let d=oy.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,oy.delete(s))});let o=(i=yc.get(s))!=null?i:0;yc.set(s,o+1),o===0&&(oy.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let Rx=Symbol("ForcePortalRootContext");function sH(){return xt(Rx,!1)}let V2=Le({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return oi(Rx,t.force),()=>{let{force:i,...s}=t;return ai({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function oH(t){let e=pa(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let aH=Le({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=q(null),s=ye(()=>pa(i)),o=sH(),l=xt(kx,null),c=q(o===!0||l==null?oH(i.value):l.resolveTarget());Ri(()=>{o||l!=null&&(c.value=l.resolveTarget())});let d=xt(h_,null);return St(()=>{let f=Je(i);f&&d&&mi(d.register(f))}),mi(()=>{var f,p;let g=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");g&&c.value===g&&c.value.children.length<=0&&((p=c.value.parentElement)==null||p.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return on(kj,{to:c.value},ai({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),h_=Symbol("PortalParentContext");function lH(){let t=xt(h_,null),e=q([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,Le({name:"PortalWrapper",setup(o,{slots:l}){return oi(h_,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let kx=Symbol("PortalGroupContext"),uH=Le({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=Ln({resolveTarget(){return t.target}});return oi(kx,i),()=>{let{target:s,...o}=t;return ai({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),Px=Symbol("StackContext");var f_=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(f_||{});function cH(){return xt(Px,()=>{})}function dH({type:t,enabled:e,element:n,onUpdate:i}){let s=cH();function o(...l){i==null||i(...l),s(...l)}St(()=>{$n(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),mi(()=>{e.value&&o(1,t,n)}),oi(Px,o)}let xx=Symbol("DescriptionContext");function hH(){let t=xt(xx,null);if(t===null)throw new Error("Missing parent");return t}function fH({slot:t=q({}),name:e="Description",props:n={}}={}){let i=q([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return oi(xx,{register:s,slot:t,name:e,props:n}),ye(()=>i.value.length>0?i.value.join(" "):void 0)}let pH=Le({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${ro()}`}},setup(t,{attrs:e,slots:n}){let i=hH();return St(()=>mi(i.register(t.id))),()=>{let{name:s="Description",slot:o=q({}),props:l={}}=i,{id:c,...d}=t,f={...Object.entries(l).reduce((p,[g,y])=>Object.assign(p,{[g]:N(y)}),{}),id:c};return ai({ourProps:f,theirProps:d,slot:o.value,attrs:e,slots:n,name:s})}}});function mH(t){let e=yP(t.getSnapshot());return mi(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function gH(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function vH(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function yH(){if(!XB())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Kd();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function _H(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function wH(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Bo=gH(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Kd(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:wH(n)},s=[yH(),vH(),_H()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Bo.subscribe(()=>{let t=Bo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&Bo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Bo.dispatch("TEARDOWN",n)}});function bH(t,e,n){let i=mH(Bo),s=ye(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return $n([t,e],([o,l],[c],d)=>{if(!o||!l)return;Bo.dispatch("PUSH",o,n);let f=!1;d(()=>{f||(Bo.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function EH({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=q(null),s=pa(i);function o(){var l;let c=[];for(let d of t)d!==null&&(d instanceof HTMLElement?c.push(d):"value"in d&&d.value instanceof HTMLElement&&c.push(d.value));if(e!=null&&e.value)for(let d of e.value)c.push(d);for(let d of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(Je(i))||c.some(f=>d.contains(f))||c.push(d));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:on(Cp,{features:_d.Hidden,ref:i})}}}var IH=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(IH||{});let p_=Symbol("DialogContext");function x1(t){let e=xt(p_,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,x1),n}return e}let Pf="DC8F892D-2EBD-447C-A4C8-A03058436FF4",kr=Le({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Pf},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${ro()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=q(!1);St(()=>{l.value=!0});let c=q(0),d=qm(),f=ye(()=>t.open===Pf&&d!==null?(d.value&Nn.Open)===Nn.Open:t.open),p=q(null),g=ye(()=>pa(p));if(s({el:p,$el:p}),!(t.open!==Pf||d!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===Pf?void 0:t.open}`);let y=ye(()=>l.value&&f.value?0:1),w=ye(()=>y.value===0),A=ye(()=>c.value>1),_=xt(p_,null)!==null,[I,T]=lH(),{resolveContainers:x,mainTreeNodeRef:R,MainTreeNode:S}=EH({portals:I,defaultContainers:[ye(()=>{var B;return(B=he.panelRef.value)!=null?B:p.value})]}),O=ye(()=>A.value?"parent":"leaf"),U=ye(()=>d!==null?(d.value&Nn.Closing)===Nn.Closing:!1),re=ye(()=>_||U.value?!1:w.value),J=ye(()=>{var B,pe,at;return(at=Array.from((pe=(B=g.value)==null?void 0:B.querySelectorAll("body > *"))!=null?pe:[]).find(qe=>qe.id==="headlessui-portal-root"?!1:qe.contains(Je(R))&&qe instanceof HTMLElement))!=null?at:null});M2(J,re);let ae=ye(()=>A.value?!0:w.value),me=ye(()=>{var B,pe,at;return(at=Array.from((pe=(B=g.value)==null?void 0:B.querySelectorAll("[data-headlessui-portal]"))!=null?pe:[]).find(qe=>qe.contains(Je(R))&&qe instanceof HTMLElement))!=null?at:null});M2(me,ae),dH({type:"Dialog",enabled:ye(()=>y.value===0),element:p,onUpdate:(B,pe)=>{if(pe==="Dialog")return Sn(B,{[f_.Add]:()=>c.value+=1,[f_.Remove]:()=>c.value-=1})}});let de=fH({name:"DialogDescription",slot:ye(()=>({open:f.value}))}),se=q(null),he={titleId:se,panelRef:q(null),dialogState:y,setTitleId(B){se.value!==B&&(se.value=B)},close(){e("close",!1)}};oi(p_,he);let ot=ye(()=>!(!w.value||A.value));wx(x,(B,pe)=>{he.close(),Li(()=>pe==null?void 0:pe.focus())},ot);let ee=ye(()=>!(A.value||y.value!==0));Tx((o=g.value)==null?void 0:o.defaultView,"keydown",B=>{ee.value&&(B.defaultPrevented||B.key===fn.Escape&&(B.preventDefault(),B.stopPropagation(),he.close()))});let H=ye(()=>!(U.value||y.value!==0||_));return bH(g,H,B=>{var pe;return{containers:[...(pe=B.containers)!=null?pe:[],x]}}),Ri(B=>{if(y.value!==0)return;let pe=Je(p);if(!pe)return;let at=new ResizeObserver(qe=>{for(let Mt of qe){let lt=Mt.target.getBoundingClientRect();lt.x===0&&lt.y===0&&lt.width===0&&lt.height===0&&he.close()}});at.observe(pe),B(()=>at.disconnect())}),()=>{let{id:B,open:pe,initialFocus:at,...qe}=t,Mt={...n,ref:p,id:B,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":se.value,"aria-describedby":de.value},lt={open:y.value===0};return on(V2,{force:!0},()=>[on(aH,()=>on(uH,{target:p.value},()=>on(V2,{force:!1},()=>on(vc,{initialFocus:at,containers:x,features:w.value?Sn(O.value,{parent:vc.features.RestoreFocus,leaf:vc.features.All&~vc.features.FocusLock}):vc.features.None},()=>on(T,{},()=>ai({ourProps:Mt,theirProps:{...qe,...n},slot:lt,attrs:n,slots:i,visible:y.value===0,features:jl.RenderStrategy|jl.Static,name:"Dialog"})))))),on(S)])}}}),Pr=Le({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${ro()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=x1("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,d={id:l,ref:s.panelRef,onClick:o};return ai({ourProps:d,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),so=Le({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${ro()}`}},setup(t,{attrs:e,slots:n}){let i=x1("DialogTitle");return St(()=>{i.setTitleId(t.id),mi(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return ai({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),oo=pH,F2=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function U2(t){var e,n;let i=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":i;return F2.test(l)&&(l=l.replace(F2,"")),l}function TH(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():U2(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return U2(t).trim()}function AH(t){let e=q(""),n=q("");return()=>{let i=Je(t);if(!i)return"";let s=i.innerText;if(e.value===s)return n.value;let o=TH(i).trim().toLowerCase();return e.value=s,n.value=o,o}}function SH(t,e){return t===e}var CH=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(CH||{}),RH=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(RH||{}),kH=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(kH||{});function PH(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Ox=Symbol("ListboxContext");function zm(t){let e=xt(Ox,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zm),n}return e}let xH=Le({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>SH},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:n,emit:i}){let s=q(1),o=q(null),l=q(null),c=q(null),d=q([]),f=q(""),p=q(null),g=q(1);function y(R=S=>S){let S=p.value!==null?d.value[p.value]:null,O=yx(R(d.value.slice()),re=>Je(re.dataRef.domRef)),U=S?O.indexOf(S):null;return U===-1&&(U=null),{options:O,activeOptionIndex:U}}let w=ye(()=>t.multiple?1:0),[A,_]=JB(ye(()=>t.modelValue),R=>i("update:modelValue",R),ye(()=>t.defaultValue)),I=ye(()=>A.value===void 0?Sn(w.value,{1:[],0:void 0}):A.value),T={listboxState:s,value:I,mode:w,compare(R,S){if(typeof t.by=="string"){let O=t.by;return(R==null?void 0:R[O])===(S==null?void 0:S[O])}return t.by(R,S)},orientation:ye(()=>t.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:l,optionsRef:c,disabled:ye(()=>t.disabled),options:d,searchQuery:f,activeOptionIndex:p,activationTrigger:g,closeListbox(){t.disabled||s.value!==1&&(s.value=1,p.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(R,S,O){if(t.disabled||s.value===1)return;let U=y(),re=$B(R===ni.Specific?{focus:ni.Specific,id:S}:{focus:R},{resolveItems:()=>U.options,resolveActiveIndex:()=>U.activeOptionIndex,resolveId:J=>J.id,resolveDisabled:J=>J.dataRef.disabled});f.value="",p.value=re,g.value=O??1,d.value=U.options},search(R){if(t.disabled||s.value===1)return;let S=f.value!==""?0:1;f.value+=R.toLowerCase();let O=(p.value!==null?d.value.slice(p.value+S).concat(d.value.slice(0,p.value+S)):d.value).find(re=>re.dataRef.textValue.startsWith(f.value)&&!re.dataRef.disabled),U=O?d.value.indexOf(O):-1;U===-1||U===p.value||(p.value=U,g.value=1)},clearSearch(){t.disabled||s.value!==1&&f.value!==""&&(f.value="")},registerOption(R,S){let O=y(U=>[...U,{id:R,dataRef:S}]);d.value=O.options,p.value=O.activeOptionIndex},unregisterOption(R){let S=y(O=>{let U=O.findIndex(re=>re.id===R);return U!==-1&&O.splice(U,1),O});d.value=S.options,p.value=S.activeOptionIndex,g.value=1},theirOnChange(R){t.disabled||_(R)},select(R){t.disabled||_(Sn(w.value,{0:()=>R,1:()=>{let S=Fe(T.value.value).slice(),O=Fe(R),U=S.findIndex(re=>T.compare(O,Fe(re)));return U===-1?S.push(O):S.splice(U,1),S}}))}};wx([l,c],(R,S)=>{var O;T.closeListbox(),k1(S,R1.Loose)||(R.preventDefault(),(O=Je(l))==null||O.focus())},ye(()=>s.value===0)),oi(Ox,T),mx(ye(()=>Sn(s.value,{0:Nn.Open,1:Nn.Closed})));let x=ye(()=>{var R;return(R=Je(l))==null?void 0:R.closest("form")});return St(()=>{$n([x],()=>{if(!x.value||t.defaultValue===void 0)return;function R(){T.theirOnChange(t.defaultValue)}return x.value.addEventListener("reset",R),()=>{var S;(S=x.value)==null||S.removeEventListener("reset",R)}},{immediate:!0})}),()=>{let{name:R,modelValue:S,disabled:O,form:U,...re}=t,J={open:s.value===0,disabled:O,value:I.value};return on(Ye,[...R!=null&&I.value!=null?bx({[R]:I.value}).map(([ae,me])=>on(Cp,LB({features:_d.Hidden,key:ae,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:U,name:ae,value:me}))):[],ai({ourProps:{},theirProps:{...n,...C1(re,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:J,slots:e,attrs:n,name:"Listbox"})])}}}),OH=Le({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${ro()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=zm("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function o(f){switch(f.key){case fn.Space:case fn.Enter:case fn.ArrowDown:f.preventDefault(),s.openListbox(),Li(()=>{var p;(p=Je(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(ni.First)});break;case fn.ArrowUp:f.preventDefault(),s.openListbox(),Li(()=>{var p;(p=Je(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(ni.Last)});break}}function l(f){switch(f.key){case fn.Space:f.preventDefault();break}}function c(f){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),Li(()=>{var p;return(p=Je(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),s.openListbox(),PH(()=>{var p;return(p=Je(s.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let d=BB(ye(()=>({as:t.as,type:e.type})),s.buttonRef);return()=>{var f,p;let g={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{id:y,...w}=t,A={ref:s.buttonRef,id:y,type:d.value,"aria-haspopup":"listbox","aria-controls":(f=Je(s.optionsRef))==null?void 0:f.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(p=Je(s.labelRef))==null?void 0:p.id,y].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:l,onClick:c};return ai({ourProps:A,theirProps:w,slot:g,attrs:e,slots:n,name:"ListboxButton"})}}}),NH=Le({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${ro()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=zm("ListboxOptions"),o=q(null);i({el:s.optionsRef,$el:s.optionsRef});function l(f){switch(o.value&&clearTimeout(o.value),f.key){case fn.Space:if(s.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case fn.Enter:if(f.preventDefault(),f.stopPropagation(),s.activeOptionIndex.value!==null){let p=s.options.value[s.activeOptionIndex.value];s.select(p.dataRef.value)}s.mode.value===0&&(s.closeListbox(),Li(()=>{var p;return(p=Je(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case Sn(s.orientation.value,{vertical:fn.ArrowDown,horizontal:fn.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption(ni.Next);case Sn(s.orientation.value,{vertical:fn.ArrowUp,horizontal:fn.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption(ni.Previous);case fn.Home:case fn.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption(ni.First);case fn.End:case fn.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption(ni.Last);case fn.Escape:f.preventDefault(),f.stopPropagation(),s.closeListbox(),Li(()=>{var p;return(p=Je(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case fn.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),o.value=setTimeout(()=>s.clearSearch(),350));break}}let c=qm(),d=ye(()=>c!==null?(c.value&Nn.Open)===Nn.Open:s.listboxState.value===0);return()=>{var f,p,g,y;let w={open:s.listboxState.value===0},{id:A,..._}=t,I={"aria-activedescendant":s.activeOptionIndex.value===null||(f=s.options.value[s.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(y=(p=Je(s.labelRef))==null?void 0:p.id)!=null?y:(g=Je(s.buttonRef))==null?void 0:g.id,"aria-orientation":s.orientation.value,id:A,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return ai({ourProps:I,theirProps:_,slot:w,attrs:e,slots:n,features:jl.RenderStrategy|jl.Static,visible:d.value,name:"ListboxOptions"})}}}),DH=Le({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${ro()}`}},setup(t,{slots:e,attrs:n,expose:i}){let s=zm("ListboxOption"),o=q(null);i({el:o,$el:o});let l=ye(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===t.id:!1),c=ye(()=>Sn(s.mode.value,{0:()=>s.compare(Fe(s.value.value),Fe(t.value)),1:()=>Fe(s.value.value).some(T=>s.compare(Fe(T),Fe(t.value)))})),d=ye(()=>Sn(s.mode.value,{1:()=>{var T;let x=Fe(s.value.value);return((T=s.options.value.find(R=>x.some(S=>s.compare(Fe(S),Fe(R.dataRef.value)))))==null?void 0:T.id)===t.id},0:()=>c.value})),f=AH(o),p=ye(()=>({disabled:t.disabled,value:t.value,get textValue(){return f()},domRef:o}));St(()=>s.registerOption(t.id,p)),mi(()=>s.unregisterOption(t.id)),St(()=>{$n([s.listboxState,c],()=>{s.listboxState.value===0&&c.value&&Sn(s.mode.value,{1:()=>{d.value&&s.goToOption(ni.Specific,t.id)},0:()=>{s.goToOption(ni.Specific,t.id)}})},{immediate:!0})}),Ri(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&Li(()=>{var T,x;return(x=(T=Je(o))==null?void 0:T.scrollIntoView)==null?void 0:x.call(T,{block:"nearest"})})});function g(T){if(t.disabled)return T.preventDefault();s.select(t.value),s.mode.value===0&&(s.closeListbox(),Li(()=>{var x;return(x=Je(s.buttonRef))==null?void 0:x.focus({preventScroll:!0})}))}function y(){if(t.disabled)return s.goToOption(ni.Nothing);s.goToOption(ni.Specific,t.id)}let w=QB();function A(T){w.update(T)}function _(T){w.wasMoved(T)&&(t.disabled||l.value||s.goToOption(ni.Specific,t.id,0))}function I(T){w.wasMoved(T)&&(t.disabled||l.value&&s.goToOption(ni.Nothing))}return()=>{let{disabled:T}=t,x={active:l.value,selected:c.value,disabled:T},{id:R,value:S,disabled:O,...U}=t,re={id:R,ref:o,role:"option",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:g,onFocus:y,onPointerenter:A,onMouseenter:A,onPointermove:_,onMousemove:_,onPointerleave:I,onMouseleave:I};return ai({ourProps:re,theirProps:U,slot:x,attrs:n,slots:e,name:"ListboxOption"})}}});function LH(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function ay(t,...e){t&&e.length>0&&t.classList.add(...e)}function xf(t,...e){t&&e.length>0&&t.classList.remove(...e)}var m_=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(m_||{});function MH(t,e){let n=Kd();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return d});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function $2(t,e,n,i,s,o){let l=Kd(),c=o!==void 0?LH(o):()=>{};return xf(t,...s),ay(t,...e,...n),l.nextFrame(()=>{xf(t,...n),ay(t,...i),l.add(MH(t,d=>(xf(t,...i,...e),ay(t,...s),c(d))))}),l.add(()=>xf(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function xo(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let O1=Symbol("TransitionContext");var VH=(t=>(t.Visible="visible",t.Hidden="hidden",t))(VH||{});function FH(){return xt(O1,null)!==null}function UH(){let t=xt(O1,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function $H(){let t=xt(N1,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let N1=Symbol("NestingContext");function Wm(t){return"children"in t?Wm(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Nx(t){let e=q([]),n=q(!1);St(()=>n.value=!0),mi(()=>n.value=!1);function i(o,l=Us.Hidden){let c=e.value.findIndex(({id:d})=>d===o);c!==-1&&(Sn(l,{[Us.Unmount](){e.value.splice(c,1)},[Us.Hidden](){e.value[c].state="hidden"}}),!Wm(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,Us.Unmount)}return{children:e,register:s,unregister:i}}let Dx=jl.RenderStrategy,Yt=Le({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=q(0);function l(){o.value|=Nn.Opening,e("beforeEnter")}function c(){o.value&=~Nn.Opening,e("afterEnter")}function d(){o.value|=Nn.Closing,e("beforeLeave")}function f(){o.value&=~Nn.Closing,e("afterLeave")}if(!FH()&&jB())return()=>on(tr,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:d,onAfterLeave:f},i);let p=q(null),g=ye(()=>t.unmount?Us.Unmount:Us.Hidden);s({el:p,$el:p});let{show:y,appear:w}=UH(),{register:A,unregister:_}=$H(),I=q(y.value?"visible":"hidden"),T={value:!0},x=ro(),R={value:!1},S=Nx(()=>{!R.value&&I.value!=="hidden"&&(I.value="hidden",_(x),f())});St(()=>{let he=A(x);mi(he)}),Ri(()=>{if(g.value===Us.Hidden&&x){if(y.value&&I.value!=="visible"){I.value="visible";return}Sn(I.value,{hidden:()=>_(x),visible:()=>A(x)})}});let O=xo(t.enter),U=xo(t.enterFrom),re=xo(t.enterTo),J=xo(t.entered),ae=xo(t.leave),me=xo(t.leaveFrom),de=xo(t.leaveTo);St(()=>{Ri(()=>{if(I.value==="visible"){let he=Je(p);if(he instanceof Comment&&he.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function se(he){let ot=T.value&&!w.value,ee=Je(p);!ee||!(ee instanceof HTMLElement)||ot||(R.value=!0,y.value&&l(),y.value||d(),he(y.value?$2(ee,O,U,re,J,H=>{R.value=!1,H===m_.Finished&&c()}):$2(ee,ae,me,de,J,H=>{R.value=!1,H===m_.Finished&&(Wm(S)||(I.value="hidden",_(x),f()))})))}return St(()=>{$n([y],(he,ot,ee)=>{se(ee),T.value=!1},{immediate:!0})}),oi(N1,S),mx(ye(()=>Sn(I.value,{visible:Nn.Open,hidden:Nn.Closed})|o.value)),()=>{let{appear:he,show:ot,enter:ee,enterFrom:H,enterTo:B,entered:pe,leave:at,leaveFrom:qe,leaveTo:Mt,...lt}=t,nr={ref:p},ir={...lt,...w.value&&y.value&&Gd.isServer?{class:sn([n.class,lt.class,...O,...U])}:{}};return ai({theirProps:ir,ourProps:nr,slot:{},slots:i,attrs:n,features:Dx,visible:I.value==="visible",name:"TransitionChild"})}}}),jH=Yt,tr=Le({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=qm(),o=ye(()=>t.show===null&&s!==null?(s.value&Nn.Open)===Nn.Open:t.show);Ri(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=q(o.value?"visible":"hidden"),c=Nx(()=>{l.value="hidden"}),d=q(!0),f={show:o,appear:ye(()=>t.appear||!d.value)};return St(()=>{Ri(()=>{d.value=!1,o.value?l.value="visible":Wm(c)||(l.value="hidden")})}),oi(N1,c),oi(O1,f),()=>{let p=C1(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),g={unmount:t.unmount};return ai({ourProps:{...g,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[on(jH,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...g,...p},i.default)]},attrs:{},features:Dx,visible:l.value==="visible",name:"Transition"})}}});function Lx(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function BH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function HH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function qH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})])}function zH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function WH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})])}function Mx(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function GH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function Vx(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function Fx(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function Ux(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})])}function KH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function YH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})])}function JH(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})])}function g_(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[E("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const QH={class:"relative mt-1 min-w-72"},XH={class:"block truncate capitalize"},ZH={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},eq={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Bl=Le({__name:"Listbox",props:{items:Array,modelValue:[String,Number],placeholder:String,itemLabel:{type:String,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=e,s=q(n.modelValue);$n(()=>n.modelValue,l=>{s.value=l});const o=l=>{console.log("onChange",l),l===s.value&&(l=null),s.value=l,i("update:modelValue",l)};return(l,c)=>(L(),K("div",QH,[V(N(xH),{modelValue:s.value,"onUpdate:modelValue":o,as:"div",disabled:t.disabled},{default:Y(()=>[V(N(OH),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:Y(()=>[E("span",XH,ht(t.modelValue?t.modelValue:t.placeholder),1),E("span",ZH,[V(N(zH),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),V(N(NH),{class:"absolute z-10 mt-1 max-h-60 min-w-72 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:Y(()=>[(L(!0),K(Ye,null,Fi(t.items,d=>(L(),Oe(N(DH),{key:t.itemLabel?d[t.itemLabel]:d,value:t.itemLabel?d[t.itemLabel]:d},{default:Y(({active:f,selected:p})=>[E("li",{class:sn([{"bg-amber-100 text-amber-900":f,"text-gray-900":!f},"relative cursor-default select-none py-2 pl-10 pr-4"])},[E("span",{class:sn([{"font-medium":p,"font-normal":!p},"block truncate capitalize"])},ht(t.itemLabel?d[t.itemLabel]:d),3),p?(L(),K("span",eq,[V(N(BH),{class:"h-5 w-5","aria-hidden":"true"})])):Te("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]))}}),tq={class:"space-y-4 mb-4"},nq=E("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),iq={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},rq=["src"],sq=["onClick"],oq=E("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),aq=E("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),lq=E("label",{class:"block text-sm font-medium text-gray-700",for:"pricePerTon"},"Price per Ton",-1),uq=E("label",{class:"block text-sm font-medium text-gray-700",for:"tons"},"Quantity(tons)",-1),cq=E("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),dq=E("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),hq={class:"flex justify-end space-x-2 mt-4"},fq=5*1024*1024,pq=Le({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,{profile:o}=st(jn()),l=q([]),c=q(null),d=()=>{const R=c.value.files;for(let S=0;S<R.length;S++){const O=R[S];if(O.size>fq){alert("File size should not exceed 5MB");continue}const U=new FileReader;U.onload=re=>{l.value.push({file:O,url:re.target.result})},U.readAsDataURL(O)}},f=R=>{l.value.splice(R,1)},p=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),g=Ln({type:"",variety:"",pricePerTon:0,tons:0,expectedHarvestDate:p,biddingEndTime:p}),y=q(!1),w=async()=>{if(A()&&o.value){const R=l.value.map(U=>U.url.split(",")[1]),S=JSON.parse(JSON.stringify(g));S.biddingEndTime=new Date(S.biddingEndTime).toISOString(),S.expectedHarvestDate=new Date(S.expectedHarvestDate).toISOString();const{callFunction:O}=Tn("createAd",{images:R,...S,adType:o.value.accountType},y,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Ad created!"},U=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error creating ad, please try again later"});await O(),s("close")}},A=()=>!(g.type===""||g.variety===""||g.pricePerTon===0||!g.expectedHarvestDate||g.tons===0||l.value.length===0||!g.biddingEndTime),_=q(!1),I=q([]),T=async()=>{_.value=!0,I.value=await jn().getProduce(),console.log("produce",I.value),_.value=!1},x=ye(()=>{if(g.type==="")return[];const R=I.value.find(S=>S.id===g.type);return R?R.sub:[]});return St(async()=>{console.log("mounted"),await T()}),(R,S)=>(L(),K(Ye,null,[E("div",tq,[nq,E("input",{type:"file",id:"images",ref_key:"imageInput",ref:c,multiple:"",onChange:d,class:"mt-1 p-2 w-full rounded-md border"},null,544),E("div",iq,[(L(!0),K(Ye,null,Fi(l.value,(O,U)=>(L(),K("div",{key:U,class:"mr-2 relative"},[E("img",{src:O.url,class:"w-16 h-16 object-cover"},null,8,rq),E("button",{onClick:re=>f(U)},"Remove",8,sq)]))),128))]),oq,V(Bl,{items:I.value,modelValue:g.type,"onUpdate:modelValue":S[0]||(S[0]=O=>g.type=O),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),aq,V(Bl,{items:x.value,modelValue:g.variety,"onUpdate:modelValue":S[1]||(S[1]=O=>g.variety=O),placeholder:"Select a Variety",disabled:!g.type},null,8,["items","modelValue","disabled"]),lq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"pricePerTon","onUpdate:modelValue":S[2]||(S[2]=O=>g.pricePerTon=O)},null,512),[[Ne,g.pricePerTon]]),uq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"tons","onUpdate:modelValue":S[3]||(S[3]=O=>g.tons=O)},null,512),[[Ne,g.tons]]),cq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":S[4]||(S[4]=O=>g.expectedHarvestDate=O)},null,512),[[Ne,g.expectedHarvestDate]]),dq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":S[5]||(S[5]=O=>g.biddingEndTime=O)},null,512),[[Ne,g.biddingEndTime]])]),E("div",hq,[E("button",{onClick:S[6]||(S[6]=O=>R.$emit("close")),type:"button",class:"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),V(Ui,{onClick:w,isLoading:y.value},{default:Y(()=>[Ze(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),mq={class:"space-y-4 mb-4"},gq=E("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),vq={class:"flex flex-row gap-2 justify-between items-center"},yq=E("label",{class:"block text-sm font-medium text-gray-700",for:"costPerTon"},"Cost per ton",-1),_q=E("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),wq=E("label",{class:"block text-sm font-medium text-gray-700",for:"tons"},"Quantity",-1),bq={class:"flex flex-row items-center gap-2 justify-between"},Eq=E("label",{class:"block text-sm font-medium text-gray-700",for:"certifiedOrganic"},"Certified Organic",-1),Iq={class:"flex justify-end space-x-2 mt-4"},Tq=Le({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,{profile:o}=st(jn());let l=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const c=Ln({type:"",yieldTonnage:0,requestDate:l,price:0}),d=q(!1),f=async()=>{if(p()&&o.value){const g=JSON.parse(JSON.stringify(c));g.requestDate=new Date(g.requestDate).toISOString();const{callFunction:y}=Tn("createAd",{...g,adType:o.value.accountType},d,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Ad created!"},w=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error creating ad, please try again later"});await y(),s("close")}},p=()=>!(c.type===""||c.yieldTonnage===0||!c.requestDate||c.price===0);return(g,y)=>(L(),K(Ye,null,[E("div",mq,[gq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":y[0]||(y[0]=w=>c.type=w)},null,512),[[Ne,c.type]]),E("div",vq,[yq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"costPerTon","onUpdate:modelValue":y[1]||(y[1]=w=>c.minCostPerTon=w)},null,512),[[Ne,c.minCostPerTon]]),Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"minCostPerTon","onUpdate:modelValue":y[2]||(y[2]=w=>c.maxCostPerTon=w)},null,512),[[Ne,c.maxCostPerTon]])]),_q,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":y[3]||(y[3]=w=>c.requestDate=w)},null,512),[[Ne,c.requestDate]]),wq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"tons","onUpdate:modelValue":y[4]||(y[4]=w=>c.tons=w)},null,512),[[Ne,c.tons]]),Ze("tons "),E("div",bq,[Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"checkbox",id:"certifiedOrganic","onUpdate:modelValue":y[5]||(y[5]=w=>c.certifiedOrganic=w)},null,512),[[m8,c.certifiedOrganic]]),Eq])]),E("div",Iq,[E("button",{onClick:y[6]||(y[6]=w=>g.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),V(Ui,{onClick:f,isLoading:d.value},{default:Y(()=>[Ze(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),Aq=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),Sq={class:"fixed inset-0 overflow-y-auto"},Cq={class:"flex min-h-full items-center justify-center p-4 text-center"},Rq=E("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),kq=Le({__name:"AddAdModal",setup(t){const{modals:e}=st(je()),{profile:n}=st(jn()),i=jn().ACCOUNT_TYPES,s=q(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(L(),Oe(N(tr),{appear:"",show:s.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[Aq]),_:1}),E("div",Sq,[E("div",Cq,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>{var d,f;return[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" New Ad ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[Rq]),_:1}),((d=N(n))==null?void 0:d.accountType)===N(i).SELLER?(L(),Oe(pq,{key:0,onClose:c[0]||(c[0]=p=>o(!1))})):Te("",!0),((f=N(n))==null?void 0:f.accountType)===N(i).BUYER?(L(),Oe(Tq,{key:1,onClose:c[1]||(c[1]=p=>o(!1))})):Te("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),ao=Le({__name:"CardButton",props:{classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){return(n,i)=>(L(),K("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:sn([[t.classes],"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"])},[NP(n.$slots,"default")],2))}}),Pq={class:"space-y-4 mb-4"},xq=E("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),Oq={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},Nq=["src"],Dq=["onClick"],Lq=["src"],Mq=["onClick"],Vq=E("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),Fq=E("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),Uq=E("label",{class:"block text-sm font-medium text-gray-700",for:"pricePerTon"},"Price per Ton",-1),$q=E("label",{class:"block text-sm font-medium text-gray-700",for:"tons"},"Quantity(tons)",-1),jq=E("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),Bq=E("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),Hq={class:"flex justify-end space-x-2 mt-4"},qq=5*1024*1024,zq=Le({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=t,o=e,l=q([]),c=q(null),d=()=>{const R=c.value.files;for(let S=0;S<R.length;S++){const O=R[S];if(O.size>qq){alert("File size should not exceed 5MB");continue}const U=new FileReader;U.onload=re=>{l.value.push({file:O,url:re.target.result})},U.readAsDataURL(O)}},f=R=>{l.value.splice(R,1)},p=R=>{y.resizedImages.splice(R,1)},g=JSON.parse(JSON.stringify(s.ad)),y=Ln({type:g.type,variety:g.variety,pricePerTon:g.pricePerTon,tons:g.tons,expectedHarvestDate:g.expectedHarvestDate,price:g.price,resizedImages:g.resizedImages}),w=q(!1),A=async()=>{const R=Object.keys(y).reduce((O,U)=>(y[U]!==s.ad[U]&&(O[U]=y[U]),O),{});if(c.value.files.length>0){const O=l.value.map(U=>U.url.split(",")[1]);R.newImages=O}const{callFunction:S}=Tn("editAd",{changes:R,adId:s.ad.id},w,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Ad edited successfully"},O=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while editing bid, please try again later"});await S(),o("close")},_=q(!1),I=q([]),T=async()=>{_.value=!0,I.value=await jn().getProduce(),console.log("produce",I.value),_.value=!1},x=ye(()=>{if(y.type==="")return[];const R=I.value.find(S=>S.id===y.type);return R?R.sub:[]});return St(async()=>{console.log("mounted"),await T()}),(R,S)=>(L(),K(Ye,null,[E("div",Pq,[xq,E("input",{type:"file",id:"images",ref_key:"imageInput",ref:c,multiple:"",onChange:d,class:"mt-1 p-2 w-full rounded-md border"},null,544),E("div",Oq,[(L(!0),K(Ye,null,Fi(l.value,(O,U)=>(L(),K("div",{key:U,class:"mr-2 relative"},[E("img",{src:O.url,class:"w-16 h-16 object-cover"},null,8,Nq),E("button",{onClick:re=>f(U)},"Remove",8,Dq)]))),128)),(L(!0),K(Ye,null,Fi(y.resizedImages,(O,U)=>(L(),K("div",{key:U,class:"mr-2 relative"},[E("img",{src:O,class:"w-16 h-16 object-cover"},null,8,Lq),E("button",{onClick:re=>p(U)},"Remove",8,Mq)]))),128))]),Vq,V(Bl,{items:I.value,modelValue:y.type,"onUpdate:modelValue":S[0]||(S[0]=O=>y.type=O),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),Fq,V(Bl,{items:x.value,modelValue:y.variety,"onUpdate:modelValue":S[1]||(S[1]=O=>y.variety=O),placeholder:"Select a Variety",disabled:!y.type},null,8,["items","modelValue","disabled"]),Uq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"pricePerTon","onUpdate:modelValue":S[2]||(S[2]=O=>y.pricePerTon=O)},null,512),[[Ne,y.pricePerTon]]),$q,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"tons","onUpdate:modelValue":S[3]||(S[3]=O=>y.tons=O)},null,512),[[Ne,y.tons]]),jq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":S[4]||(S[4]=O=>y.expectedHarvestDate=O)},null,512),[[Ne,y.expectedHarvestDate]]),Bq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":S[5]||(S[5]=O=>y.biddingEndTime=O)},null,512),[[Ne,y.biddingEndTime]])]),E("div",Hq,[V(ao,{onClick:S[6]||(S[6]=O=>R.$emit("close")),type:"button"},{default:Y(()=>[Ze(" Cancel ")]),_:1}),V(Ui,{onClick:A,isLoading:w.value},{default:Y(()=>[Ze(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),Wq={class:"space-y-4 mb-4"},Gq=E("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),Kq=E("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),Yq=E("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),Jq=E("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),Qq={class:"flex justify-end space-x-2 mt-4"},Xq=Le({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=t,o=e,l=JSON.parse(JSON.stringify(s.ad)),c=Ln({type:l.type,yieldTonnage:l.yieldTonnage,requestDate:l.requestDate,price:l.price}),d=q(!1),f=async()=>{const p=Object.keys(c).reduce((y,w)=>(c[w]!==s.ad[w]&&(y[w]=c[w]),y),{}),{callFunction:g}=Tn("editAd",{changes:p,adId:s.ad.id},d,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Ad edited successfully"},y=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while editing bid, please try again later"});await g(),o("close")};return(p,g)=>(L(),K(Ye,null,[E("div",Wq,[Gq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":g[0]||(g[0]=y=>c.type=y)},null,512),[[Ne,c.type]]),Kq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":g[1]||(g[1]=y=>c.yieldTonnage=y)},null,512),[[Ne,c.yieldTonnage]]),Yq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":g[2]||(g[2]=y=>c.requestDate=y)},null,512),[[Ne,c.requestDate]]),Jq,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":g[3]||(g[3]=y=>c.price=y)},null,512),[[Ne,c.price]])]),E("div",Qq,[E("button",{onClick:g[4]||(g[4]=y=>p.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),V(Ui,{onClick:f,isLoading:d.value},{default:Y(()=>[Ze(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),Zq=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),ez={class:"fixed inset-0 overflow-y-auto"},tz={class:"flex min-h-full items-center justify-center p-4 text-center"},nz=E("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),iz=Le({__name:"EditAdModal",setup(t){const{modals:e}=st(je()),{profile:n}=st(jn()),i=jn().ACCOUNT_TYPES,s=q(!0);function o(l){s.value=l,e.value.editad=l,e.value.context={}}return(l,c)=>(L(),Oe(N(tr),{appear:"",show:s.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[Zq]),_:1}),E("div",ez,[E("div",tz,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>{var d,f;return[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" Edit Ad ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[nz]),_:1}),((d=N(n))==null?void 0:d.accountType)===N(i).SELLER?(L(),Oe(zq,{key:0,onClose:c[0]||(c[0]=p=>o(!1)),ad:N(e).context},null,8,["ad"])):Te("",!0),((f=N(n))==null?void 0:f.accountType)===N(i).BUYER?(L(),Oe(Xq,{key:1,onClose:c[1]||(c[1]=p=>o(!1)),ad:N(e).context},null,8,["ad"])):Te("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),rz={class:"space-y-4 mb-4"},sz=E("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),oz={class:"flex justify-end space-x-2 mt-4"},az=Le({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,l=Ln({adId:t.adId,price:0}),c=q(!1),d=async()=>{if(f()){const{callFunction:p}=Tn("placeBid",{...l},c,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Bid placed successfully"},g=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while placing bid, please try again later"});await p(),s("close")}},f=()=>l.price!==0;return(p,g)=>(L(),K(Ye,null,[E("div",rz,[sz,Pe(E("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":g[0]||(g[0]=y=>l.price=y)},null,512),[[Ne,l.price]])]),E("div",oz,[E("button",{onClick:g[1]||(g[1]=y=>p.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),V(Ui,{onClick:d,isLoading:c.value},{default:Y(()=>[Ze(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),lz=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),uz={class:"fixed inset-0 overflow-y-auto"},cz={class:"flex min-h-full items-center justify-center p-4 text-center"},dz=E("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),hz=Le({__name:"AddBidModal",setup(t){const{modals:e}=st(je()),n=q(!0);function i(l){n.value=l,e.value.addad=l}const s=Hm(),o=q("");return St(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(L(),Oe(N(tr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:c[1]||(c[1]=d=>i(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[lz]),_:1}),E("div",uz,[E("div",cz,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" Place bid ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[dz]),_:1}),V(az,{onClose:c[0]||(c[0]=d=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),fz={class:"max-w-md mx-auto"},pz={class:"mb-4"},mz=E("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),gz={class:"mb-4"},vz=E("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),yz={class:"mb-4 mt-4"},_z=E("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),wz={class:"mb-4"},bz=E("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),Ez={class:"flex flex-row gap-2 items-center"},Iz=E("span",{class:"text-sm text-gray-500"},"from",-1),Tz=E("span",{class:"text-sm text-gray-500"},"to",-1),Az={class:"mb-4 space-y-2"},Sz=E("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),Cz=["onUpdate:modelValue"],Rz=["onClick"],kz={class:"flex items-center justify-between mt-4"},Pz=Le({__name:"JobPostAddForm",emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,o=q({createdAt:null,title:"",type:"",description:"",location:"",salaryMin:0,salaryMax:0,tasks:[]}),l=()=>{o.value.tasks.push("")},c=g=>{o.value.tasks.splice(g,1)},d=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.type||!o.value.tasks.length){if(o.value.tasks.length>0){for(const g in o.value.tasks)if(!g){const y=o.value.tasks.indexOf(g);o.value.tasks.splice(y,1)}}return!1}else return!0},f=q(!1),p=async()=>{if(d()){const g=JSON.parse(JSON.stringify(o.value)),{callFunction:y}=Tn("createJobPost",g,f,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Job Post Created"},w=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="An error occured during the process, please try again later"});await y(),s("close")}};return(g,y)=>(L(),K("div",fz,[E("div",null,[E("div",pz,[mz,Pe(E("input",{"onUpdate:modelValue":y[0]||(y[0]=w=>o.value.title=w),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,o.value.title]])]),E("div",gz,[vz,Pe(E("textarea",{"onUpdate:modelValue":y[1]||(y[1]=w=>o.value.description=w),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[Ne,o.value.description]])]),V(Bl,{items:["Full Time","Part Time","Contract"],modelValue:o.value.type,"onUpdate:modelValue":y[2]||(y[2]=w=>o.value.type=w),placeholder:"Select an Employment Type"},null,8,["modelValue"]),E("div",yz,[_z,Pe(E("input",{"onUpdate:modelValue":y[3]||(y[3]=w=>o.value.location=w),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,o.value.location]])]),E("div",wz,[bz,E("div",Ez,[Iz,Pe(E("input",{"onUpdate:modelValue":y[4]||(y[4]=w=>o.value.salaryMin=w),type:"number",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,o.value.salaryMin]]),Tz,Pe(E("input",{"onUpdate:modelValue":y[5]||(y[5]=w=>o.value.salaryMax=w),type:"number",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,o.value.salaryMax]])])]),E("div",Az,[E("span",{class:"w-full flex items-center justify-between"},[Sz,E("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(L(!0),K(Ye,null,Fi(o.value.tasks,(w,A)=>(L(),K("div",{key:A,class:"flex items-center space-x-2"},[Pe(E("input",{"onUpdate:modelValue":_=>o.value.tasks[A]=_,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,Cz),[[Ne,o.value.tasks[A]]]),E("button",{onClick:_=>c(A),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,Rz)]))),128))]),E("div",kz,[V(ao,{onClick:y[6]||(y[6]=w=>g.$emit("close")),classes:"w-20"},{default:Y(()=>[Ze(" Cancel ")]),_:1}),V(Ui,{onClick:p,isLoading:f.value},{default:Y(()=>[Ze("Create Job ")]),_:1},8,["isLoading"])])])]))}}),xz=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),Oz={class:"fixed inset-0 overflow-y-auto"},Nz={class:"flex min-h-full items-center justify-center p-4 text-center"},Dz=E("p",{class:"text-sm text-gray-500"}," Add a Job Post ",-1),Lz=Le({__name:"AddJobModal",setup(t){const{modals:e}=st(je()),n=q(!0);function i(s){n.value=s,e.value.addjob=s}return(s,o)=>(L(),Oe(N(tr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[xz]),_:1}),E("div",Oz,[E("div",Nz,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" New Job Post ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[Dz]),_:1}),V(Pz,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Mz={class:"max-w-md mx-auto"},Vz={class:"mb-4"},Fz=E("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),Uz={class:"mb-4"},$z=E("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),jz={class:"mb-4 mt-4"},Bz=E("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),Hz={class:"mb-4"},qz=E("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),zz={class:"flex flex-row gap-2 items-center"},Wz=E("span",{class:"text-sm text-gray-500"},"from",-1),Gz=E("span",{class:"text-sm text-gray-500"},"to",-1),Kz={class:"mb-4 space-y-2"},Yz=E("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),Jz=["onUpdate:modelValue"],Qz=["onClick"],Xz={class:"flex items-center justify-between mt-4"},Zz=Le({__name:"JobPostEditForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,o=t,l=JSON.parse(JSON.stringify(o.job)),c=q({createdAt:l.createdAt,title:l.title,type:l.type,description:l.description,location:l.location,salary:l.salary,tasks:l.tasks}),d=()=>{c.value.tasks.push("")},f=w=>{c.value.tasks.splice(w,1)},p=()=>{if(!c.value.title||!c.value.description||!c.value.location||!c.value.tasks.length){if(c.value.tasks.length>0){for(const w in c.value.tasks)if(!w){const A=c.value.tasks.indexOf(w);c.value.tasks.splice(A,1)}}return!1}else return!0},g=q(!1),y=async()=>{if(p()){const w=o.job,A=Object.keys(c.value).reduce((x,R)=>R==="tasks"?(x[R]=c.value[R].filter(S=>S!==""),x):(R==="createdAt"||c.value[R]!==w[R]&&(x[R]=c.value[R]),x),{}),_=JSON.parse(JSON.stringify(A));console.log(A);const I=o.job.jobId,{callFunction:T}=Tn("editJobPost",{jobId:I,changes:_},g,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Job Post Edited"},x=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="An error occured during the process, please try again later"});await T(),s("close")}};return(w,A)=>(L(),K("div",Mz,[E("div",null,[E("div",Vz,[Fz,Pe(E("input",{"onUpdate:modelValue":A[0]||(A[0]=_=>c.value.title=_),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,c.value.title]])]),E("div",Uz,[$z,Pe(E("textarea",{"onUpdate:modelValue":A[1]||(A[1]=_=>c.value.description=_),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[Ne,c.value.description]])]),V(Bl,{items:["Full Time","Part Time","Contract"],modelValue:c.value.type,"onUpdate:modelValue":A[2]||(A[2]=_=>c.value.type=_),placeholder:"Select an Employment Type"},null,8,["modelValue"]),E("div",jz,[Bz,Pe(E("input",{"onUpdate:modelValue":A[3]||(A[3]=_=>c.value.location=_),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,c.value.location]])]),E("div",Hz,[qz,E("div",zz,[Wz,Pe(E("input",{"onUpdate:modelValue":A[4]||(A[4]=_=>t.job.salaryMin=_),type:"number",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,t.job.salaryMin]]),Gz,Pe(E("input",{"onUpdate:modelValue":A[5]||(A[5]=_=>t.job.salaryMax=_),type:"number",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,t.job.salaryMax]])])]),E("div",Kz,[E("span",{class:"w-full flex items-center justify-between"},[Yz,E("button",{onClick:d,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(L(!0),K(Ye,null,Fi(c.value.tasks,(_,I)=>(L(),K("div",{key:I,class:"flex items-center space-x-2"},[Pe(E("input",{"onUpdate:modelValue":T=>t.job.tasks[I]=T,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,Jz),[[Ne,t.job.tasks[I]]]),E("button",{onClick:T=>f(I),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,Qz)]))),128))]),E("div",Xz,[V(ao,{onClick:A[6]||(A[6]=_=>w.$emit("close")),classes:"w-20"},{default:Y(()=>[Ze(" Cancel ")]),_:1}),V(Ui,{onClick:y,isLoading:g.value},{default:Y(()=>[Ze("Edit Job ")]),_:1},8,["isLoading"])])])]))}}),eW=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),tW={class:"fixed inset-0 overflow-y-auto"},nW={class:"flex min-h-full items-center justify-center p-4 text-center"},iW=E("p",{class:"text-sm text-gray-500"}," Edit a Job Post ",-1),rW=Le({__name:"EditJobModal",setup(t){const{modals:e}=st(je()),n=q(!0);function i(s){n.value=s,e.value.editjob=s,e.value.context={}}return(s,o)=>(L(),Oe(N(tr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[eW]),_:1}),E("div",tW,[E("div",nW,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" Edit Job Post ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[iW]),_:1}),V(Zz,{onClose:o[0]||(o[0]=l=>i(!1)),job:N(e).context},null,8,["job"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),sW={class:"max-w-md mx-auto"},oW={class:"mb-4"},aW=E("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),lW={class:"mb-4"},uW=E("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),cW={class:"mb-4"},dW=E("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),hW={class:"mb-4 space-y-2"},fW=E("label",{class:"block text-sm font-medium text-gray-700"},"Milestones",-1),pW=["onUpdate:modelValue"],mW=["onUpdate:modelValue"],gW={class:"flex flex-row gap-1 items-center justify-end w-full"},vW=["onUpdate:modelValue"],yW={class:"flex flex-row w-full justify-end items-center"},_W={class:"flex items-center justify-between mt-4"},wW=Le({__name:"GigPostAddForm",emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,o=q({createdAt:null,title:"",description:"",location:"",milestones:[]}),l=()=>{o.value.milestones.push({name:"",price:0})},c=g=>{o.value.milestones.splice(g,1)},d=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.milestones.length){if(o.value.milestones.length>0){for(const g in o.value.milestones)if(!g){const y=o.value.milestones.indexOf(o.value.milestones[g]);o.value.milestones.splice(y,1)}}return!1}else return!0},f=q(!1),p=async()=>{if(d()){const g=JSON.parse(JSON.stringify(o.value)),{callFunction:y}=Tn("createGigPost",g,f,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Gig Created"},()=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="An error occured during the process, please try again later"});await y(),s("close")}};return(g,y)=>(L(),K("div",sW,[E("div",null,[E("div",oW,[aW,Pe(E("input",{"onUpdate:modelValue":y[0]||(y[0]=w=>o.value.title=w),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,o.value.title]])]),E("div",lW,[uW,Pe(E("textarea",{"onUpdate:modelValue":y[1]||(y[1]=w=>o.value.description=w),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[Ne,o.value.description]])]),E("div",cW,[dW,Pe(E("input",{"onUpdate:modelValue":y[2]||(y[2]=w=>o.value.location=w),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,o.value.location]])]),E("div",hW,[E("span",{class:"w-full flex items-center justify-between"},[fW,E("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Milestone")]),(L(!0),K(Ye,null,Fi(o.value.milestones,(w,A)=>(L(),K("div",{key:A,class:"flex flex-col justify-start gap-1"},[E("p",null,ht(A+1)+".",1),Pe(E("input",{"onUpdate:modelValue":_=>o.value.milestones[A].name=_,type:"text",class:"p-1 w-full border rounded-md",placeholder:"Milestone Title",required:""},null,8,pW),[[Ne,o.value.milestones[A].name]]),Pe(E("textarea",{"onUpdate:modelValue":_=>o.value.milestones[A].description=_,type:"text",class:"p-1 w-full border rounded-md resize-none h-10",placeholder:"Description",required:""},null,8,mW),[[Ne,o.value.milestones[A].description]]),E("div",gW,[Ze(" $CA "),Pe(E("input",{"onUpdate:modelValue":_=>o.value.milestones[A].price=_,type:"number",class:"p-1 w-1/6 border rounded-md",placeholder:"Reward",required:""},null,8,vW),[[Ne,o.value.milestones[A].price]])]),E("div",yW,[V(N(YH),{onClick:_=>c(A),type:"button",class:"text-red-500 hover:text-red-700 h-5 w-5"},null,8,["onClick"])])]))),128))]),E("div",_W,[V(ao,{onClick:y[3]||(y[3]=w=>g.$emit("close")),classes:"w-20"},{default:Y(()=>[Ze(" Cancel ")]),_:1}),V(Ui,{onClick:p,isLoading:f.value},{default:Y(()=>[Ze("Create Gig ")]),_:1},8,["isLoading"])])])]))}}),bW=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),EW={class:"fixed inset-0 overflow-y-auto"},IW={class:"flex min-h-full items-center justify-center p-4 text-center"},TW=E("p",{class:"text-sm text-gray-500"}," Add a Gig Post ",-1),AW=Le({__name:"AddGigModal",setup(t){const{modals:e}=st(je()),n=q(!0);function i(s){n.value=s,e.value.addgig=s}return(s,o)=>(L(),Oe(N(tr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[bW]),_:1}),E("div",EW,[E("div",IW,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" New Gig Post ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[TW]),_:1}),V(wW,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),SW={class:"max-w-md mx-auto"},CW={class:"mb-4"},RW=E("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),kW={class:"mb-4"},PW=E("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),xW={class:"mb-4"},OW=E("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),NW={class:"mb-4 space-y-2"},DW=E("label",{class:"block text-sm font-medium text-gray-700"},"Milestones",-1),LW=["onUpdate:modelValue"],MW=["onUpdate:modelValue"],VW=["onUpdate:modelValue"],FW=["onClick"],UW={class:"flex items-center justify-between mt-4"},$W=Le({__name:"GigPostEditForm",props:{gig:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,o=t,l=JSON.parse(JSON.stringify(o.gig)),c=q({createdAt:l.createdAt,title:l.title,description:l.description,location:l.location,milestones:l.milestones}),d=()=>{c.value.milestones.push("")},f=w=>{c.value.milestones.splice(w,1)},p=()=>{if(!c.value.title||!c.value.description||!c.value.location||!c.value.milestones.length){if(c.value.milestones.length>0){for(const w in c.value.milestones)if(!w){const A=c.value.milestones.indexOf(w);c.value.milestones.splice(A,1)}}return!1}else return!0},g=q(!1),y=async()=>{if(p()){const w=o.gig,A=Object.keys(c.value).reduce((x,R)=>(R==="createdAt"||c.value[R]!==w[R]&&(x[R]=c.value[R]),x),{}),_=JSON.parse(JSON.stringify(A));console.log(A);const I=o.gig.gigId,{callFunction:T}=Tn("editGigPost",{gigId:I,changes:_},g,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Gig Edited"},()=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="An error occured during the process, please try again later"});await T(),s("close")}};return(w,A)=>(L(),K("div",SW,[E("div",null,[E("div",CW,[RW,Pe(E("input",{"onUpdate:modelValue":A[0]||(A[0]=_=>c.value.title=_),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,c.value.title]])]),E("div",kW,[PW,Pe(E("textarea",{"onUpdate:modelValue":A[1]||(A[1]=_=>c.value.description=_),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[Ne,c.value.description]])]),E("div",xW,[OW,Pe(E("input",{"onUpdate:modelValue":A[2]||(A[2]=_=>c.value.location=_),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,c.value.location]])]),E("div",NW,[E("span",{class:"w-full flex items-center justify-between"},[DW,E("button",{onClick:d,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Milestone")]),(L(!0),K(Ye,null,Fi(c.value.milestones,(_,I)=>(L(),K("div",{key:I,class:"flex items-center space-x-2"},[Pe(E("input",{"onUpdate:modelValue":T=>t.gig.milestones[I].name=T,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Type name here...",required:""},null,8,LW),[[Ne,t.gig.milestones[I].name]]),Pe(E("input",{"onUpdate:modelValue":T=>t.gig.milestones[I].description=T,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Type description here...",required:""},null,8,MW),[[Ne,t.gig.milestones[I].description]]),Pe(E("input",{"onUpdate:modelValue":T=>t.gig.milestones[I].price=T,type:"number",class:"p-2 w-full border rounded-md",placeholder:"0",required:""},null,8,VW),[[Ne,t.gig.milestones[I].price]]),E("button",{onClick:T=>f(I),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,FW)]))),128))]),E("div",UW,[V(ao,{onClick:A[3]||(A[3]=_=>w.$emit("close")),classes:"w-20"},{default:Y(()=>[Ze(" Cancel ")]),_:1}),V(Ui,{onClick:y,isLoading:g.value},{default:Y(()=>[Ze("Edit Gig ")]),_:1},8,["isLoading"])])])]))}}),jW=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),BW={class:"fixed inset-0 overflow-y-auto"},HW={class:"flex min-h-full items-center justify-center p-4 text-center"},qW=E("p",{class:"text-sm text-gray-500"}," Edit a Gig Post ",-1),zW=Le({__name:"EditGigModal",setup(t){const{modals:e}=st(je()),n=q(!0);function i(s){n.value=s,e.value.editgig=s,e.value.context={}}return(s,o)=>(L(),Oe(N(tr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[jW]),_:1}),E("div",BW,[E("div",HW,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" Edit Gig Post ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[qW]),_:1}),V($W,{onClose:o[0]||(o[0]=l=>i(!1)),gig:N(e).context},null,8,["gig"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),WW={class:"max-w-md mx-auto"},GW={class:"mb-4"},KW={class:"flex items-center justify-between mt-4"},YW=Le({__name:"ConfirmRemoveForm",props:{context:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const{notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,s=e,o=t,l=q(!1),c=q(""),d=async()=>{l.value=!0,c.value==o.context.__key&&(await f(),s("close")),l.value=!1},f=async()=>{if(o.context.__key=="ad"){const{callFunction:p}=Tn("removeAd",{adId:o.context.adId},l,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Ad removed!"},g=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while removing ad, please try again later"});await p()}if(o.context.__key=="job"){const{callFunction:p}=Tn("removeJobPost",{jobId:o.context.jobId},l,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Ad removed!"},g=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while removing ad, please try again later"});await p()}if(o.context.__key=="gig"){const{callFunction:p}=Tn("removeGigPost",{gigId:o.context.gigId},l,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Gig removed!"},g=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while removing gig, please try again later"});await p()}if(o.context.__key=="application"){const{callFunction:p}=Tn("removeApplication",{applicationId:o.context.applicationId},l,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Gig removed!"},g=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="Error while removing gig, please try again later"});await p()}};return(p,g)=>(L(),K("div",WW,[E("div",null,[E("div",GW,[Pe(E("input",{"onUpdate:modelValue":g[0]||(g[0]=y=>c.value=y),type:"text",id:"confirmKeyword",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[Ne,c.value]])]),E("div",KW,[V(ao,{onClick:g[1]||(g[1]=y=>p.$emit("close")),classes:"w-20"},{default:Y(()=>[Ze(" Cancel ")]),_:1}),V(Ui,{disabled:c.value!=o.context.__key,onClick:d,isLoading:l.value},{default:Y(()=>[Ze("Delete ")]),_:1},8,["disabled","isLoading"])])])]))}}),JW=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),QW={class:"fixed inset-0 overflow-y-auto"},XW={class:"flex min-h-full items-center justify-center p-4 text-center"},ZW={class:"text-sm text-gray-500"},eG={class:"font-bold"},tG=Le({__name:"ConfirmRemoveModal",setup(t){const{modals:e}=st(je()),n=q(!0);function i(s){n.value=s,e.value.confirmremove=s}return(s,o)=>(L(),Oe(N(tr),{appear:"",show:n.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[JW]),_:1}),E("div",QW,[E("div",XW,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Y(()=>[V(N(so),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Y(()=>[Ze(" Are you sure? ")]),_:1}),V(N(oo),{class:"mt-2 mb-4"},{default:Y(()=>[E("p",ZW,[Ze(" Type "),E("span",eG,ht(N(e).context.__key),1),Ze(" to confirm ")])]),_:1}),V(YW,{onClose:o[0]||(o[0]=l=>i(!1)),context:N(e).context},null,8,["context"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),nG=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),iG={class:"fixed inset-0 overflow-y-auto"},rG={class:"flex min-h-full items-center justify-center text-center"},sG={key:0},oG={class:"flex flex-col gap-2 justify-start items-start border rounded-md"},aG={class:"px-5 pt-5 text-left"},lG={class:"text-xl font-bold"},uG={class:"text-md"},cG={class:"text-md"},dG={class:"text-md"},hG={class:"w-full border-t-2 h-64 overflow-y-scroll"},fG={class:"text-md text-left p-5"},pG={class:"w-full flex flex-col gap-2 justify-start items-start px-5 pb-5"},mG={class:"text-md"},gG={key:1,class:"flex flex-col gap-2 w-full p-4"},vG=E("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),yG={class:"mt-1"},_G=E("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1),wG={class:"mt-1"},bG=E("label",{from:"phone",class:"block text-sm font-medium text-gray-700"}," Phone ",-1),EG={class:"mt-1"},IG=E("label",{for:"resume",class:"block text-sm font-medium text-gray-700"}," Resume ",-1),TG={class:"mt-1"},AG={class:"flex justify-end w-full"},SG={key:1},CG=Le({__name:"JobViewModal",setup(t){const{user:e}=st(jn()),n=async R=>{const S=e1(),O=Z0(S,`resumes/${e.value.uid}/`+R.name);return await Fk(O,R),O.fullPath},i=q(!1),s=()=>{i.value=!0},{modals:o,notifications:l}=st(je()),c=je().NOTIFICATION_TYPES,d=q(!0);function f(R){d.value=R,o.value.viewjob=R}const p=q({}),g=q(!1),y=async()=>{const R=o.value.context.__key;R&&(g.value=!0,p.value=await i1("jobs",R,"jobId"),g.value=!1)},w=Ln({name:"",email:"",phone:"",resume:""}),A=R=>{const S=R.target.files[0];w.resume=S},_=q(!1),I=async()=>{console.log("application",w),w.parentId=p.value.jobId,w.parentType="job",w.ownerId=p.value.posterId;const R=await n(w.resume);w.resume=R;const S=JSON.parse(JSON.stringify(w)),{callFunction:O}=Tn("submitApplication",S,_,void 0,void 0,()=>{l.value.show=!0,l.value.type=c.SUCCESS,l.value.message="Application submitted",je().resetModals()},()=>{l.value.show=!0,l.value.type=c.ERROR,l.value.message="An error occured while submitting application, please try again later"});await O()};St(async()=>{await y(),await x(o.value.context.__key)});const T=q(!1),x=async R=>{if(!R)return;console.log("jobId",R);const{callFunction:S}=Tn("increaseJobViewCount",{jobId:R},T);await S()};return(R,S)=>(L(),Oe(N(tr),{appear:"",show:d.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:S[3]||(S[3]=O=>f(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[nG]),_:1}),E("div",iG,[E("div",rG,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white text-left align-middle shadow-xl transition-all"},{default:Y(()=>[p.value&&!g.value?(L(),K("div",sG,[E("div",oG,[E("span",aG,[E("h1",lG,ht(p.value.title),1),E("p",uG,ht(p.value.location),1),E("p",cG,"$"+ht(p.value.salaryMin)+" - "+ht(p.value.salaryMax),1),E("p",dG,ht(p.value.type),1),V(ao,{onClick:s},{default:Y(()=>[Ze(" Apply ")]),_:1})]),i.value?(L(),K("div",gG,[vG,E("div",yG,[Pe(E("input",{type:"text",name:"name",id:"name",autocomplete:"given-name","onUpdate:modelValue":S[0]||(S[0]=O=>w.name=O),class:"bg-gray-200/70 p-2 rounded-md border-1 w-full"},null,512),[[Ne,w.name]])]),_G,E("div",wG,[Pe(E("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":S[1]||(S[1]=O=>w.email=O),autocomplete:"email",class:"bg-gray-200/70 p-2 rounded-md border-1 w-full"},null,512),[[Ne,w.email]])]),bG,E("div",EG,[Pe(E("input",{id:"phone",name:"phone",type:"tel",autocomplete:"tel","onUpdate:modelValue":S[2]||(S[2]=O=>w.phone=O),class:"bg-gray-200/70 p-2 rounded-md border-1 w-full"},null,512),[[Ne,w.phone]])]),IG,E("div",TG,[E("input",{id:"resume",name:"resume",type:"file",ref:"resume",class:"bg-gray-200/70 p-2 rounded-md border-1 w-full",onChange:A},null,544)]),E("div",AG,[V(Ui,{isLoading:_.value,onClick:I,classes:"w-18"},{default:Y(()=>[Ze(" Submit ")]),_:1},8,["isLoading"])])])):(L(),K(Ye,{key:0},[E("div",hG,[E("p",fG,ht(p.value.description),1)]),E("div",pG,[(L(!0),K(Ye,null,Fi(p.value.tasks,O=>(L(),K("div",null,[E("p",mG,ht(O),1)]))),256))])],64))])])):(L(),K("div",SG,[V(Jo,{isLoading:g.value},null,8,["isLoading"])]))]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),RG=E("div",{class:"fixed inset-0 bg-black/25"},null,-1),kG={class:"fixed inset-0 overflow-y-auto"},PG={class:"flex min-h-full items-center justify-center text-center"},xG={key:0},OG={class:"flex flex-col gap-2 justify-start items-start border rounded-md"},NG={class:"px-5 pt-5 text-left"},DG={class:"text-xl font-bold"},LG={class:"text-md"},MG={class:"w-full border-t-2 h-32 overflow-y-scroll"},VG={class:"text-md text-left p-5"},FG={class:"w-full flex flex-col gap-2 justify-start items-start px-5 pb-5"},UG={class:"w-full"},$G={class:"flex flex-row justify-between w-full mb-2"},jG={class:"text-md font-bold"},BG={class:"pl-2 text-base"},HG={key:1,class:"w-full border-t-2 h-96 overflow-y-scroll"},qG=E("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Name ",-1),zG={class:"mt-1"},WG=E("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1),GG={class:"mt-1"},KG=E("label",{from:"phone",class:"block text-sm font-medium text-gray-700"}," Phone ",-1),YG={class:"mt-1"},JG=E("label",{for:"resume",class:"block text-sm font-medium text-gray-700"}," Resume ",-1),QG={class:"mt-1"},XG={key:1},ZG=Le({__name:"GigViewModal",setup(t){const{modals:e,notifications:n}=st(je()),i=je().NOTIFICATION_TYPES,{user:s}=st(jn()),o=q(!0),l=q(!1);function c(R){o.value=R,e.value.viewgig=R}const d=()=>{l.value=!0},f=q({}),p=q(!1),g=async()=>{const R=e.value.context.__key;R&&(p.value=!0,f.value=await i1("gigs",R,"gigId"),p.value=!1)},y=Ln({name:"",email:"",phone:"",resume:""}),w=R=>{const S=R.target.files[0];y.resume=S},A=q(!1),_=async R=>{const S=e1(),O=Z0(S,`resumes/${s.value.uid}/`+R.name);return await Fk(O,R),O.fullPath},I=async()=>{console.log("application",y),y.parentId=f.value.gigId,y.parentType="gig",y.ownerId=f.value.posterId;const R=await _(y.resume);y.resume=R;const S=JSON.parse(JSON.stringify(y)),{callFunction:O}=Tn("submitApplication",S,A,void 0,void 0,()=>{n.value.show=!0,n.value.type=i.SUCCESS,n.value.message="Application submitted",je().resetModals()},()=>{n.value.show=!0,n.value.type=i.ERROR,n.value.message="An error occured while submitting application, please try again later"});await O()};St(async()=>{await g(),await x(e.value.context.__key)});const T=q(!1),x=async R=>{if(!R)return;const{callFunction:S}=Tn("increaseGigViewCount",{gigId:R},T);await S()};return(R,S)=>{const O=OP("currency");return L(),Oe(N(tr),{appear:"",show:o.value,as:"template"},{default:Y(()=>[V(N(kr),{as:"div",onClose:S[3]||(S[3]=U=>c(!1)),class:"relative z-10"},{default:Y(()=>[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Y(()=>[RG]),_:1}),E("div",kG,[E("div",PG,[V(N(Yt),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Y(()=>[V(N(Pr),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white text-left align-middle shadow-xl transition-all"},{default:Y(()=>[f.value&&!p.value?(L(),K("div",xG,[E("div",OG,[E("span",NG,[E("h1",DG,ht(f.value.title),1),E("p",LG,ht(f.value.location),1),V(ao,{onClick:d},{default:Y(()=>[Ze(" Apply ")]),_:1})]),l.value?(L(),K("div",HG,[E("div",null,[qG,E("div",zG,[Pe(E("input",{type:"text",name:"name",id:"name",autocomplete:"given-name","onUpdate:modelValue":S[0]||(S[0]=U=>y.name=U),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[Ne,y.name]])]),WG,E("div",GG,[Pe(E("input",{id:"email",name:"email",type:"email","onUpdate:modelValue":S[1]||(S[1]=U=>y.email=U),autocomplete:"email",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[Ne,y.email]])]),KG,E("div",YG,[Pe(E("input",{id:"phone",name:"phone",type:"tel",autocomplete:"tel","onUpdate:modelValue":S[2]||(S[2]=U=>y.phone=U),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[Ne,y.phone]])]),JG,E("div",QG,[E("input",{id:"resume",name:"resume",type:"file",ref:"resume",class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",onChange:w},null,544)]),V(Ui,{isLoading:A.value,onClick:I,classes:"w-full"},{default:Y(()=>[Ze(" Submit ")]),_:1},8,["isLoading"])])])):(L(),K(Ye,{key:0},[E("div",MG,[E("p",VG,ht(f.value.description),1)]),E("div",FG,[(L(!0),K(Ye,null,Fi(f.value.milestones,(U,re)=>(L(),K("div",UG,[E("span",$G,[E("p",jG,ht(re+1)+". "+ht(U.name),1),Pe(E("p",null,null,512),[[O,U.price]])]),E("p",BG,ht(U.description),1)]))),256))])],64))])])):(L(),K("div",XG,[V(Jo,{isLoading:p.value},null,8,["isLoading"])]))]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])}}}),eK={key:0},tK={key:1,class:"text-sm font-medium"},j2=5e3,nK=Le({__name:"StateNotificationToast",setup(t){const{notifications:e}=st(je()),n=je().NOTIFICATION_TYPES,i=q(j2),s=()=>{i.value=j2;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),je().resetNotification())},1e3)};$n(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=ye(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(L(),Oe(Um,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:Y(()=>[N(e).show?(L(),K("div",{key:0,class:sn(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[N(e).type?(L(),K("div",eK,[N(e).type===N(n).SUCCESS?(L(),Oe(N(Lx),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):Te("",!0),N(e).type===N(n).ERROR?(L(),Oe(N(g_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):Te("",!0),N(e).type===N(n).WARNING?(L(),Oe(N(Vx),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):Te("",!0),N(e).type===N(n).INFO?(L(),Oe(N(Fx),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):Te("",!0)])):Te("",!0),N(e).message?(L(),K("div",tK,[E("p",null,ht(N(e).message),1)])):Te("",!0)],2)):Te("",!0)]),_:1}))}}),iK={key:0},rK={key:1,class:"text-sm font-medium text-black"},sK=Le({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=st(je()),n=je().NOTIFICATION_TYPES,i=ye(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(L(),Oe(Um,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:Y(()=>[N(e).show?(L(),K("div",{key:0,class:sn(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[N(e).type?(L(),K("div",iK,[N(e).type===N(n).SUCCESS?(L(),Oe(N(Lx),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):Te("",!0),N(e).type===N(n).ERROR?(L(),Oe(N(g_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):Te("",!0),N(e).type===N(n).WARNING?(L(),Oe(N(Vx),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):Te("",!0),N(e).type===N(n).INFO?(L(),Oe(N(Fx),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):Te("",!0)])):Te("",!0),N(e).message?(L(),K("div",rK,[E("p",null,ht(N(e).message),1)])):Te("",!0),V(N(g_),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):Te("",!0)]),_:1}))}}),oK={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 p-5"},aK={class:"flex flex-row space-x-4 w-full border-b pb-2 mb-4"},lK={class:"text-md font-bold"},uK={class:"space-y-2"},cK={class:"flex flex-row space-x-4"},dK={class:"text-sm"},hK={class:"flex flex-row space-x-4"},fK={class:"text-sm"},pK=E("p",{class:"text-sm"},"-",-1),mK={class:"text-sm"},gK={class:"w-full flex justify-end gap-4"},B2=Le({__name:"JobThumbnailCard",props:{job:{type:Object,required:!0}},emits:["edit","remove"],setup(t,{emit:e}){const{modals:n}=st(je()),i=s=>{s&&(n.value.viewjob=!0,n.value.context.__key=s)};return(s,o)=>(L(),K("span",oK,[E("div",aK,[E("p",lK,ht(t.job.title),1)]),E("div",uK,[E("div",cK,[V(N(Ux),{class:"w-5 h-5"}),E("p",dK,ht(t.job.location),1)]),E("div",hK,[V(N(Mx),{class:"w-5 h-5"}),E("p",fK,ht(t.job.salaryMin),1),pK,E("p",mK,ht(t.job.salaryMax),1)])]),E("div",gK,[E("p",{onClick:o[0]||(o[0]=l=>i(t.job.jobId)),class:"underline text-sm cursor-pointer"},"View")])]))}}),vK={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 p-5"},yK={class:"flex flex-row space-x-4 w-full border-b pb-2 mb-4"},_K={class:"text-md font-bold"},wK={class:"space-y-2"},bK={class:"flex flex-row space-x-4"},EK={class:"text-sm"},IK={class:"flex flex-row space-x-4"},TK={class:"text-sm"},AK={class:"w-full flex justify-end gap-4"},H2=Le({__name:"GigThumbnailCard",props:{gig:{type:Object,required:!0}},emits:["edit","remove"],setup(t,{emit:e}){const{modals:n}=st(je()),i=t,s=ye(()=>i.gig.milestones?i.gig.milestones.reduce((l,c)=>l+c.price,0):0),o=l=>{l&&(n.value.viewgig=!0,n.value.context.__key=l)};return(l,c)=>{const d=OP("currency");return L(),K("span",vK,[E("div",yK,[E("p",_K,ht(t.gig.title),1)]),E("div",wK,[E("div",bK,[V(N(Ux),{class:"w-5 h-5"}),E("p",EK,ht(t.gig.location),1)]),E("div",IK,[V(N(Mx),{class:"w-5 h-5"}),Pe(E("p",TK,null,512),[[d,s.value]])])]),E("div",AK,[E("p",{onClick:c[0]||(c[0]=f=>o(t.gig.gigId)),class:"underline text-sm cursor-pointer"},"View")])])}}});function SK(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[E("path",{d:"M13.75 7h-3v5.296l1.943-2.048a.75.75 0 011.114 1.004l-3.25 3.5a.75.75 0 01-1.114 0l-3.25-3.5a.75.75 0 111.114-1.004l1.943 2.048V7h1.5V1.75a.75.75 0 00-1.5 0V7h-3A2.25 2.25 0 004 9.25v7.5A2.25 2.25 0 006.25 19h7.5A2.25 2.25 0 0016 16.75v-7.5A2.25 2.25 0 0013.75 7z"})])}function CK(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[E("path",{"fill-rule":"evenodd",d:"M4.25 5.5a.75.75 0 00-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 00.75-.75v-4a.75.75 0 011.5 0v4A2.25 2.25 0 0112.75 17h-8.5A2.25 2.25 0 012 14.75v-8.5A2.25 2.25 0 014.25 4h5a.75.75 0 010 1.5h-5z","clip-rule":"evenodd"}),E("path",{"fill-rule":"evenodd",d:"M6.194 12.753a.75.75 0 001.06.053L16.5 4.44v2.81a.75.75 0 001.5 0v-4.5a.75.75 0 00-.75-.75h-4.5a.75.75 0 000 1.5h2.553l-9.056 8.194a.75.75 0 00-.053 1.06z","clip-rule":"evenodd"})])}function RK(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[E("path",{"fill-rule":"evenodd",d:"M7.84 1.804A1 1 0 018.82 1h2.36a1 1 0 01.98.804l.331 1.652a6.993 6.993 0 011.929 1.115l1.598-.54a1 1 0 011.186.447l1.18 2.044a1 1 0 01-.205 1.251l-1.267 1.113a7.047 7.047 0 010 2.228l1.267 1.113a1 1 0 01.206 1.25l-1.18 2.045a1 1 0 01-1.187.447l-1.598-.54a6.993 6.993 0 01-1.929 1.115l-.33 1.652a1 1 0 01-.98.804H8.82a1 1 0 01-.98-.804l-.331-1.652a6.993 6.993 0 01-1.929-1.115l-1.598.54a1 1 0 01-1.186-.447l-1.18-2.044a1 1 0 01.205-1.251l1.267-1.114a7.05 7.05 0 010-2.227L1.821 7.773a1 1 0 01-.206-1.25l1.18-2.045a1 1 0 011.187-.447l1.598.54A6.993 6.993 0 017.51 3.456l.33-1.652zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])}function kK(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[E("path",{"fill-rule":"evenodd",d:"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z","clip-rule":"evenodd"})])}function PK(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[E("path",{"fill-rule":"evenodd",d:"M2 3.5A1.5 1.5 0 013.5 2h9A1.5 1.5 0 0114 3.5v11.75A2.75 2.75 0 0016.75 18h-12A2.75 2.75 0 012 15.25V3.5zm3.75 7a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5zm0 3a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-4.5zM5 5.75A.75.75 0 015.75 5h4.5a.75.75 0 01.75.75v2.5a.75.75 0 01-.75.75h-4.5A.75.75 0 015 8.25v-2.5z","clip-rule":"evenodd"}),E("path",{d:"M16.5 6.5h-1v8.75a1.25 1.25 0 102.5 0V8a1.5 1.5 0 00-1.5-1.5z"})])}function xK(t,e){return L(),K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[E("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])}const OK={class:"py-2 bg-white flex flex-row items-center gap-4 hover:bg-slate-200/50 transition duration-300 first:border-none border-t-2 last:border-b-2 cursor-pointer"},NK=["src"],DK={class:"flex flex-row space-x-4 items-center"},LK={key:0,class:"block text-sm font-medium text-gray-700"},MK={key:1,class:"block text-sm font-medium text-gray-700"},VK={key:2,class:"block text-sm font-medium text-gray-700"},FK={key:3,class:"block text-sm text-gray-500 truncate italic"},UK=Le({__name:"DirectMessageCard",props:{dm:{type:Object,required:!0}},emits:["view"],setup(t,{emit:e}){return Hm(),(n,i)=>(L(),K("span",OK,[t.dm.senderProfilePic?(L(),K("img",{key:0,src:t.dm.senderProfilePic,class:"h-12 w-12 rounded-full bg-slate-400"},null,8,NK)):(L(),Oe(N(JH),{key:1,class:"h-12 w-12"})),E("div",DK,[t.dm.lastContext?t.dm.lastContext&&t.dm.lastContext.__key=="invitation"?(L(),K("p",MK,ht(t.dm.lastSender?`${t.dm.lastSender.substring(0,5)} invited you to chat`:""),1)):t.dm.lastContext&&t.dm.lastContext.__key=="application"?(L(),K("p",VK,ht(t.dm.lastSender?`${t.dm.lastSender.substring(0,5)} responded to your application`:""),1)):(L(),K("p",FK,ht(t.dm.lastMessage?t.dm.lastMessage:""),1)):(L(),K("p",LK,ht(t.dm.lastSender?`${t.dm.lastSender.substring(0,5)} says:`:""),1))])]))}}),$K={class:"flex justify-between items-center flex-row gap-4"},jK={class:"flex justify-center items-center flex-row gap-4"},BK=E("h1",{class:"text-lg font-bold"},"Messaging",-1),HK={key:1,class:"w-full h-full sm:w-80 sm:h-96 fixed bottom-0 sm:right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},qK={class:"p-4 w-full mx-auto rounded-lg flex flex-col space-y-4"},zK=E("h1",{class:"text-xl font-semibold"},"Messaging",-1),WK={key:0,class:"flex flex-col overflow-y-auto w-full flex-1 max-h-72"},GK={key:1},KK={key:2,class:"w-full h-full sm:w-96 sm:h-5/6 fixed bottom-0 sm:right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},YK={class:"flex flex-col h-full p-4 w-full mx-auto rounded-lg space-y-4"},JK=E("h1",{class:"text-xl font-semibold"},"Send a Message",-1),QK={class:"flex-grow overflow-y-auto"},XK={key:0,class:"flex flex-col space-y-2 h-full"},ZK={class:"break-words"},eY={key:0,class:"flex justify-between mb-2"},tY={key:0,class:"text-sm font-medium"},nY={key:1,class:"text-sm font-medium"},iY={class:"text-sm font-medium"},rY={key:0,class:"grid grid-cols-1"},sY={key:2,class:"relative w-full truncate bg-gray-100 rounded-md p-2 max-w-xs md:max-w-md text-xs rounded-md p-1 bg-slate-200"},oY=E("p",{class:"text-sm font-medium italic"},"You have been invited to chat",-1),aY={class:"ml-2 text-sm font-medium"},lY=["onClick"],uY={key:1,class:"flex justify-center items-center h-32"},cY=E("p",{class:"text-gray-500"},"No messages yet",-1),dY=[cY],hY={key:2,class:"flex justify-center items-center h-32"},fY={class:"flex flex-col gap-2 w-full"},pY={class:"flex flex-row gap-2"},mY={class:"border rounded-md w-11/12 p-2"},gY={key:0,class:"relative w-full"},vY={key:0},yY={key:1,class:"grid grid-cols-1"},_Y={class:"h-full flex items-start w-6"},wY=Le({__name:"DirectMessageComponentV2",setup(t){const{user:e}=st(jn()),{notifications:n,messaging:i}=st(je()),s=je().NOTIFICATION_TYPES,o=q(!1),l=q([]),c="messages",d="dms",{subscribe:f,unsubscribe:p}=SA(d,[["participants","array-contains",e.value.uid]],[["createdAt","desc"]],ee=>{l.value=ee},ee=>{n.value.show=!0,n.value.type=s.ERROR,n.value.message="Error loading conversations, please try again later."},o),g=q(!1),y=ee=>{g.value=ee},w=q(!1),A=q(null),_=q([]),I=q(!1);let T;const x=q(""),R=q({});$n(A,ee=>{if(ee&&ee.dmId){console.log("subscribing to messages");const{subscribe:H,unsubscribe:B}=$$(`${d}/${ee.dmId}/${c}`,[],["createdAt","asc"],pe=>{pe.length===0?S.value=!0:S.value=!1,_.value=pe||[]},pe=>{n.value.show=!0,n.value.type=s.ERROR,n.value.message="Error loading messages, please try again later."},I);T=B,H()}});const S=q(!1);$n(i,async(ee,H)=>{if(console.log("messaging changed",ee,H),_.value.length>0&&(_.value=[]),ee.show&&ee.to&&ee.to.id){const B=[e.value.uid,ee.to.id].sort().join("_"),{subscribe:pe,unsubscribe:at}=SA(`${d}`,[["participantKey","==",B]],[["createdAt","desc"]],qe=>{console.log("data",qe),O(qe[0],!0)},qe=>{n.value.show=!0,n.value.type=s.ERROR,n.value.message="Error loading conversations, please try again later."},o);if(ee.context&&(R.value=ee.context,ee.context.__key==="application")){let qe;ee.context.application.parentType==="job"?qe="jobs":ee.context.application.parentType==="gig"&&(qe="gigs"),me.value=await se(qe,ee.context.application.parentId,`${ee.context.application.parentType}Id`)}T=at,pe()}},{deep:!0});const O=(ee,H)=>{w.value=H,A.value=ee,y(!H)};$n(w,ee=>{ee||(i.value.show&&je().clearMessaging(),_.value.length>0&&(_.value=[]),T&&T(),x.value.length>0&&(x.value=""),Object.keys(R.value).length>0&&(R.value={}),Object.keys(me.value).length>0&&(me.value={}),S.value&&(S.value=!1))});const U=ee=>{const H=new Date,B=ee.toDate(),pe=H.getTime()-B.getTime(),at=Math.floor(pe/1e3),qe=Math.floor(at/60),Mt=Math.floor(qe/60),lt=Math.floor(Mt/24);return lt>0?`${lt} days ago`:Mt>0?`${Mt} hours ago`:qe>0?`${qe} minutes ago`:at>0?`${at} seconds ago`:"just now"},re=ee=>{if(ee===0)return!0;const H=_.value[ee-1],B=_.value[ee];return H.senderId!==B.senderId||H.createdAt.toDate().getHours()!==B.createdAt.toDate().getHours()},J=q(!1),ae=async()=>{if(S.value){if(console.log("sending initial message"),!i.value.to.id)return;console.log("messaging",i.value);const ee={senderId:e.value.uid,text:x.value,context:{...i.value.context,details:me.value},participants:[e.value.uid,i.value.to.id]};console.log("data",ee);const{callFunction:H}=Tn("initiateDm",ee,J,()=>{console.log("Function call start")},B=>{console.log("onData",B),A.value=B},()=>{console.log("Function call end")},B=>{n.value.show=!0,n.value.type=s.ERROR,n.value.message="Error sending message, please try again later."});await H()}else{if(console.log("sending message"),!A.value)return;const ee=na(fi,d,A.value.dmId,c);await lU(ee,{text:x.value,senderId:e.value.uid,createdAt:new Date,context:R.value?{...R.value,details:me.value}:null})}x.value="",R.value={},me.value={}},me=q({}),de=q(!1),se=async(ee,H,B)=>{console.log("onFetchContextDetails",ee,H,B),de.value=!0;const pe=await i1(ee,H,B);return de.value=!1,console.log("onFetchContextDetails",pe),pe||{}},he=Hm(),ot=ee=>{ee.adId&&he.push({name:"messaging",params:{adId:ee.adId}})};return St(()=>{f()}),_1(()=>{p()}),(ee,H)=>(L(),K(Ye,null,[g.value?Te("",!0):(L(),K("div",{key:0,class:"w-56 rounded rounded-t-md fixed bottom-0 right-4 h-10 bg-white z-10 border-x-2 border-t-2 flex justify-center items-center",onClick:H[0]||(H[0]=B=>y(!0))},[E("div",$K,[E("span",jK,[V(N(GH),{class:"h-6 w-6"}),BK]),V(N(WH),{class:"h-6 w-6"})])])),g.value?(L(),K("div",HK,[E("div",qK,[E("div",{class:"flex justify-between items-center flex-row gap-4 border-b pb-2",onClick:H[1]||(H[1]=B=>y(!1))},[zK,V(N(HH),{class:"h-6 w-6"})]),l.value&&l.value.length>0&&!o.value?(L(),K("div",WK,[(L(!0),K(Ye,null,Fi(l.value,(B,pe)=>(L(),Oe(UK,{key:pe,dm:B,onClick:at=>O(B,!0)},null,8,["dm","onClick"]))),128))])):l.value&&l.value.length==0&&!o.value?(L(),K("p",GK,"No direct messages yet")):(L(),Oe(Jo,{key:2,isLoading:o.value},null,8,["isLoading"]))])])):Te("",!0),w.value?(L(),K("div",KK,[E("div",YK,[E("div",{class:"flex justify-between items-center flex-row gap-4 border-b pb-2",onClick:H[2]||(H[2]=B=>O("",!1))},[JK,V(N(qH),{class:"h-6 w-6"})]),E("div",QK,[_.value.length>0&&!I.value?(L(),K("div",XK,[(L(!0),K(Ye,null,Fi(_.value,(B,pe)=>(L(),K("span",ZK,[re(pe)?(L(),K("div",eY,[B.context&&B.context.__key!="invitation"?(L(),K("p",tY,ht(B.senderId.substring(0,5))+" says:",1)):B.context&&B.context.__key=="invitation"?(L(),K("p",nY,ht(B.senderId.substring(0,5))+" sends an invitation:",1)):Te("",!0),E("p",iY,ht(U(B.createdAt)),1)])):Te("",!0),B.context&&B.context.__key=="application"?(L(),K(Ye,{key:1},[B.context.details?(L(),K("div",rY,[B.context.application.parentType=="job"?(L(),Oe(B2,{key:0,job:B.context.details},null,8,["job"])):Te("",!0),B.context.application.parentType=="gig"?(L(),Oe(H2,{key:1,gig:B.context.details},null,8,["gig"])):Te("",!0)])):Te("",!0)],64)):Te("",!0),B.context&&B.context.__key=="invitation"?(L(),K("div",sY,[oY,E("p",aY,[E("span",{onClick:at=>ot(B.context.invitation),class:"font-bold underline cursor-pointer"},"Click here",8,lY),Ze(" to view the invitation")])])):Te("",!0),B.text?(L(),K("div",{key:3,class:sn([B.senderId!=N(e).uid?"justify-end":"justify-start","flex"])},[E("p",{class:sn([B.senderId===N(e).uid?"bg-blue-500 text-white":"bg-gray-100","rounded-md p-2 max-w-xs md:max-w-md",B.quote?"ml-2":""])},ht(B.text),3)],2)):Te("",!0)]))),256))])):_.value.length==0&&!I.value?(L(),K("div",uY,dY)):I.value?(L(),K("div",hY,[V(Jo,{isLoading:I.value},null,8,["isLoading"])])):Te("",!0)]),E("div",fY,[E("span",pY,[E("div",mY,[Object.keys(R.value).length>0?(L(),K("div",gY,[V(N(xK),{class:"h-4 w-4 absolute top-1 right-1",onClick:H[3]||(H[3]=()=>R.value={})}),R.value.__key=="application"?(L(),K(Ye,{key:0},[de.value?(L(),K("div",vY,[V(Jo,{isLoading:de.value},null,8,["isLoading"])])):Te("",!0),!de.value&&me.value?(L(),K("div",yY,[R.value.application.parentType=="job"?(L(),Oe(B2,{key:0,job:me.value},null,8,["job"])):Te("",!0),R.value.application.parentType=="gig"?(L(),Oe(H2,{key:1,gig:me.value},null,8,["gig"])):Te("",!0)])):Te("",!0)],64)):Te("",!0)])):Te("",!0),Pe(E("textarea",{"onUpdate:modelValue":H[4]||(H[4]=B=>x.value=B),class:"w-full resize-none focus:outline-none",placeholder:"Type your message here..."},null,512),[[Ne,x.value]])]),E("div",_Y,[V(N(KH),{onClick:ae,class:"h-6 w-6 text-blue-500"})])])])])])):Te("",!0)],64))}}),bY={class:"relative sticky bg-white top-0 z-10 w-full",id:"header__main"},EY={class:"pb-3 px-2 sm:px-6 max-w-[1000px] mx-auto"},IY={class:"mx-auto flex items-center h-16 border-b justify-between"},TY={class:"flex items-center gap-2"},AY=E("img",{src:k8,alt:"CropLink Logo",class:"w-12 h-12 sm:mx-10 rounded-full"},null,-1),SY={class:"sm:hidden flex items-center gap-2"},CY={class:"flex flex-row justify-between items-center sm:w-full"},RY={class:"hidden sm:block sm:space-x-2 md:space-x-4 lg:space-x-6"},kY={class:"flex flex-row gap-2 items-center justify-between"},PY=E("div",{class:"p-2 bg-slate-500/40 rounded-md hidden sm:block"}," Alpha v.1.7.3 ",-1),xY=["src"],OY={class:"relative h-screen"},NY=E("div",{class:"hidden sm:block h-24 w-full absolute top-0 left-0 -z-10"},null,-1),DY={key:0,class:"flex flex-col border rounded-md z-1 bg-white p-1 sm:p-4 mx-auto max-w-[1000px] pb-10 sm:pb-0"},LY={key:1,class:"h-screen w-full flex items-center justify-center"},MY=Le({__name:"App",setup(t){const{profile:e,user:n}=st(jn()),{modals:i,notifications:s,dropdowns:o}=st(je()),l=q(0),c=Hm();ye(()=>c.currentRoute.value.name),c.beforeEach((p,g,y)=>{p.matched.some(A=>A.meta.requiresAuth)&&!e.value?y("/signup"):y()});const d=q(!0);St(async()=>{setTimeout(()=>{d.value=!1},1e3)});const f=async()=>{await jn().signout(),c.push("/signup")};return(p,g)=>(L(),K(Ye,null,[E("header",bY,[E("div",EY,[E("div",IY,[E("div",TY,[AY,E("span",SY,[V(N(Ps),{class:sn(["hover:underline p-2 rounded-md",{"underline text-blue-500":l.value==4}]),to:"/",onClick:g[0]||(g[0]=y=>l.value=4)},{default:Y(()=>[V(N(kK),{class:"h-6 w-6 cursor-pointer"})]),_:1},8,["class"]),N(n)?(L(),Oe(N(Ps),{key:0,class:sn(["hover:underline p-2 rounded-md",{"underline text-blue-500":l.value==1}]),to:"/userboard",onClick:g[1]||(g[1]=y=>l.value=1)},{default:Y(()=>[V(N(PK),{class:"h-6 w-6 cursor-pointer"})]),_:1},8,["class"])):Te("",!0),N(n)?Te("",!0):(L(),Oe(N(Ps),{key:1,class:sn(["hover:underline p-2 rounded-md",{"underline text-blue-500":l.value==2}]),to:"/signup",onClick:g[2]||(g[2]=y=>l.value=2)},{default:Y(()=>[V(N(SK),{class:"h-6 w-6 cursor-pointer"})]),_:1},8,["class"]))])]),E("nav",CY,[E("span",RY,[V(N(Ps),{class:sn(["hover:underline p-2 rounded-md",{"underline text-blue-500":l.value==4}]),to:"/",onClick:g[3]||(g[3]=y=>l.value=4)},{default:Y(()=>[Ze("Home")]),_:1},8,["class"]),N(n)?(L(),Oe(N(Ps),{key:0,class:sn(["hover:underline p-2 rounded-md",{"underline text-blue-500":l.value==1}]),to:"/userboard",onClick:g[4]||(g[4]=y=>l.value=1)},{default:Y(()=>[Ze("Dashboard")]),_:1},8,["class"])):Te("",!0),N(n)?Te("",!0):(L(),Oe(N(Ps),{key:1,class:sn(["hover:underline p-2 rounded-md",{"underline text-blue-500":l.value==2}]),to:"/signup",onClick:g[5]||(g[5]=y=>l.value=2)},{default:Y(()=>[Ze("Signin")]),_:1},8,["class"]))]),E("span",kY,[PY,N(n)?(L(),K("a",{key:0,class:"hover:bg-blue-500 p-2 rounded-md",onClick:f},[V(N(CK),{class:"h-6 w-6 cursor-pointer"})])):Te("",!0),N(n)?(L(),Oe(N(Ps),{key:1,class:sn(["hover:bg-blue-500 p-2 rounded-md",{"bg-blue-700 text-white":l.value==3}]),to:"/profile",onClick:g[6]||(g[6]=y=>l.value=3)},{default:Y(()=>[V(N(RK),{class:"h-6 w-6 cursor-pointer"})]),_:1},8,["class"])):Te("",!0),N(e)?(L(),K("img",{key:2,src:N(e).profilePicResized,alt:"Profile Photo",class:"w-10 h-10 rounded-full bg-slate-500"},null,8,xY)):Te("",!0)])])])]),Pe(V(sK,null,null,512),[[s2,N(o).show]])]),N(i).addad?(L(),Oe(kq,{key:0})):Te("",!0),N(i).editad?(L(),Oe(iz,{key:1})):Te("",!0),N(i).addbid?(L(),Oe(hz,{key:2})):Te("",!0),N(i).editjob?(L(),Oe(rW,{key:3})):Te("",!0),N(i).addjob?(L(),Oe(Lz,{key:4})):Te("",!0),N(i).editgig?(L(),Oe(zW,{key:5})):Te("",!0),N(i).addgig?(L(),Oe(AW,{key:6})):Te("",!0),N(i).confirmremove?(L(),Oe(tG,{key:7})):Te("",!0),N(i).viewjob?(L(),Oe(CG,{key:8})):Te("",!0),N(i).viewgig?(L(),Oe(ZG,{key:9})):Te("",!0),Pe(V(nK,null,null,512),[[s2,N(s).show]]),E("div",OY,[NY,d.value?Te("",!0):(L(),K("div",DY,[V(N(dx))])),d.value?(L(),K("div",LY,[V(Jo,{isLoading:d.value},null,8,["isLoading"])])):Te("",!0)]),N(n)?(L(),Oe(wY,{key:10})):Te("",!0)],64))}}),VY="modulepreload",FY=function(t){return"/"+t},q2={},xi=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=FY(o),o in q2)return;q2[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const g=s[p];if(g.href===o&&(!l||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":VY,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},UY=kB({history:G8("/"),routes:[{path:"/signup",name:"signup",component:()=>xi(()=>import("./SignupView-f326178d.js"),["assets/SignupView-f326178d.js","assets/SignupView-10c928f8.css"])},{path:"/profilesetup",name:"profile-setup",component:()=>xi(()=>import("./ProfileSetupView-5483974b.js"),[])},{path:"/profile",name:"profile",component:()=>xi(()=>import("./UserProfileView-edfe46f6.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>xi(()=>import("./AboutView-7b2c8841.js"),[])},{path:"/",name:"home",component:()=>xi(()=>import("./FeedView-b59f7329.js"),["assets/FeedView-b59f7329.js","assets/ImageCarousel-fbeacc5f.js","assets/ImageCarousel-6d6d92de.css","assets/CheckCircleIcon-bcebf7d0.js","assets/GigStoreCard.vue_vue_type_script_setup_true_lang-d747e8a1.js","assets/PencilIcon-0567f33c.js","assets/menu-14981356.js","assets/XMarkIcon-c8cae34a.js","assets/FeedView-6d56db63.css"])},{path:"/seller/:sellerName/:id",name:"seller-ads",component:()=>xi(()=>import("./SellerAdsView-48941104.js"),["assets/SellerAdsView-48941104.js","assets/GigStoreCard.vue_vue_type_script_setup_true_lang-d747e8a1.js","assets/ImageCarousel-fbeacc5f.js","assets/ImageCarousel-6d6d92de.css","assets/PencilIcon-0567f33c.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-5b32af86.js","assets/CheckCircleIcon-bcebf7d0.js"]),props:!0},{path:"/ad/:adId",name:"ad",component:()=>xi(()=>import("./AdView-8e65dbf7.js"),["assets/AdView-8e65dbf7.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-13177773.js","assets/ImageCarousel-fbeacc5f.js","assets/ImageCarousel-6d6d92de.css","assets/CheckCircleIcon-bcebf7d0.js","assets/BidCard.vue_vue_type_script_setup_true_lang-8eefbbea.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/jobs/:jobId",name:"job",component:()=>xi(()=>import("./JobView-6c1c4e84.js"),[]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>xi(()=>import("./UserBoardView-e2d23f57.js"),["assets/UserBoardView-e2d23f57.js","assets/ImageCarousel-fbeacc5f.js","assets/ImageCarousel-6d6d92de.css","assets/PencilIcon-0567f33c.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-5b32af86.js","assets/BidCard.vue_vue_type_script_setup_true_lang-8eefbbea.js","assets/menu-14981356.js","assets/XMarkIcon-c8cae34a.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>xi(()=>import("./MessagingView-46e62655.js"),["assets/MessagingView-46e62655.js","assets/CheckCircleIcon-bcebf7d0.js"]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId/:contractId/",name:"banking",component:()=>xi(()=>import("./BankingView-21dcf171.js"),["assets/BankingView-21dcf171.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-13177773.js","assets/ImageCarousel-fbeacc5f.js","assets/ImageCarousel-6d6d92de.css","assets/CheckCircleIcon-bcebf7d0.js","assets/XMarkIcon-c8cae34a.js"]),meta:{requiresAuth:!0},props:!0},{path:"/devHelper/",name:"devHelper",component:()=>xi(()=>import("./DevHelper-cd228395.js"),[]),meta:{requiresAuth:!0}}]});let $r,ly;const $Y={}.NODE_ENV==="development";y4(Kk,async t=>{if(!$Y){jY();return}if(t){console.log("User is signed in",t);try{ly=await yp("users",t.uid),ly&&($r||qf(),jn().setProfile(ly))}catch(e){console.log("Error getting profile",e)}$r||qf(),console.log("User is signed in"),jn().setUser(t)}else $r||qf(),console.log("User is signed out")});const qf=()=>{const t=document.getElementById("main__loading");t&&t.remove(),$r=y8(MY),$r.use(b8()),$r.directive("currency",R8),$r.use(UY),$r.mount("#app")},jY=async()=>{console.log("TRIAL MODE");const t=await yp("users","jnxX7x0PwlfjDKFt7GTVUNQQN533");t&&($r||qf(),jn().setProfile(t),jn().setUser({uid:"jnxX7x0PwlfjDKFt7GTVUNQQN533"}))};export{GH as $,Oe as A,N as B,aJ as C,ye as D,Zs as E,Ye as F,Bl as G,m8 as H,xK as I,OP as J,iJ as K,Jo as L,tJ as M,$n as N,e1 as O,Z0 as P,ZY as Q,rJ as R,Nt as S,Um as T,Ux as U,nJ as V,sn as W,lJ as X,uJ as Y,yp as Z,NB as _,jn as a,sJ as a0,YH as a1,oJ as a2,SA as a3,i1 as a4,on as a5,_d as a6,Cp as a7,yx as a8,oi as a9,ni as aA,Li as aB,fJ as aC,hJ as aD,KH as aE,$$ as aF,na as aG,fi as aH,lU as aI,H2 as aJ,KY as aK,D0 as aL,YY as aM,QY as aN,XY as aO,Mx as aP,JY as aQ,UY as aR,l1 as aS,qH as aT,In as aU,wr as aV,Cr as aW,Bd as aX,Ri as aa,Je as ab,ai as ac,C1 as ad,ro as ae,mi as af,xt as ag,BB as ah,jl as ai,Sn as aj,fn as ak,gx as al,P1 as am,pa as an,qc as ao,Ms as ap,BH as aq,wx as ar,k1 as as,R1 as at,mx as au,Nn as av,qm as aw,AH as ax,QB as ay,$B as az,eJ as b,_1 as c,Le as d,L as e,K as f,cJ as g,Ln as h,Ze as i,E as j,dJ as k,Fi as l,je as m,V as n,St as o,Y as p,ao as q,q as r,st as s,ht as t,Hm as u,Ne as v,Pe as w,Ui as x,Tn as y,Te as z};

import{I as R}from"./ImageCarousel-1cdc2a13.js";import{d as C,s as B,x as T,u as N,h as A,e as r,f as c,g as t,q as V,p as v,t as u,i,F as j,a as y,l as k,m as b,_ as q,n as $}from"./index-c5ce0242.js";const E={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},L={class:"w-full h-48 object-cover rounded-lg"},S={class:"text-xl font-semibold mb-2"},D={class:"text-sm mb-2"},F=t("strong",null,"Yield Tonnage:",-1),M={class:"text-sm mb-2"},O=t("strong",null,"Price:",-1),U={class:"w-full flex justify-end space-x-2 flex-wrap"},ee=C({__name:"SellerAdThumbnailCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(e,{emit:h}){const{modals:d}=B(T()),f=N(),l=A(!1),w=async s=>{s&&(l.value=!0,await y().postNewAd(s),l.value=!1)},x=async s=>{s&&(l.value=!0,await y().takedownUserAd(s),l.value=!1)},n=async s=>{s&&(console.log("removeAd",s),d.value.confirmremove=!0,d.value.context={adId:s,__key:"ad"})},a=s=>{s&&f.push({name:"ad",params:{adId:s}})},g=async s=>{s&&(console.log("removeAd",s),d.value.editad=!0,d.value.context=ad)},P=s=>{s&&f.push({name:"messaging",params:{adId:s}})};return(s,o)=>(r(),c("div",E,[t("div",L,[e.ad.images&&e.ad.images.length>0?(r(),V(R,{key:0,images:e.ad.resizedImages},null,8,["images"])):v("",!0)]),t("h3",S,u(e.ad.variety),1),t("p",D,[F,i(" "+u(e.ad.yieldTonnage),1)]),t("p",M,[O,i(" "+u(e.ad.price),1)]),t("div",U,[e.showButtons?(r(),c(j,{key:0},[e.ad.live?v("",!0):(r(),c("p",{key:0,class:"underline",onClick:o[0]||(o[0]=m=>w(e.ad.id))},"Post ad")),e.ad.live?(r(),c("p",{key:1,class:"underline",onClick:o[1]||(o[1]=m=>x(e.ad.id))},"Take down")):v("",!0),t("p",{class:"underline",onClick:o[2]||(o[2]=m=>P(e.ad.id))},"Contact"),t("p",{class:"underline",onClick:o[3]||(o[3]=m=>n(e.ad.id))},"Remove"),t("p",{class:"underline",onClick:o[4]||(o[4]=m=>g(e.ad.id))},"Edit")],64)):v("",!0),t("p",{class:"underline",onClick:o[5]||(o[5]=m=>a(e.ad.id))},"View")])]))}}),Y={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},z={class:"text-xl font-semibold mb-2"},W={class:"text-sm mb-2"},G=t("strong",null,"Id:",-1),H={class:"text-sm mb-2"},J=t("strong",null,"Yield Tonnage:",-1),K={class:"text-sm mb-2"},Q=t("strong",null,"Request Date:",-1),X={class:"text-sm mb-2"},Z=t("strong",null,"Price:",-1),_={key:0,class:"flex justify-end mt-2 space-x-4"},te=C({__name:"BuyerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},setup(e){const{modals:h}=B(T()),d=A(!1),f=async n=>{n&&(d.value=!0,await y().postNewAd(n),d.value=!1)},l=A(""),w=async n=>{n&&(l.value=n,y().removeUserAd(n),l.value="")},x=async n=>{n&&(console.log("removeAd",n),h.value.editad=!0,h.value.context=ads.value.docs.find(a=>a.id===n))};return(n,a)=>(r(),c("div",Y,[t("h3",z,u(e.ad.type),1),t("p",W,[G,i(" "+u(e.ad.id),1)]),t("p",H,[J,i(" "+u(e.ad.yieldTonnage),1)]),t("p",K,[Q,i(" "+u(e.ad.requestDate),1)]),t("p",X,[Z,i(" "+u(e.ad.price),1)]),e.showButtons?(r(),c("div",_,[k(q,{onClick:a[0]||(a[0]=g=>x(e.ad.id))},{default:b(()=>[i(" Edit ")]),_:1}),k($,{isLoading:d.value,disabled:e.ad.live,onClick:a[1]||(a[1]=g=>f(e.ad.id))},{default:b(()=>[i(" Post ")]),_:1},8,["isLoading","disabled"]),k($,{isLoading:l.value==e.ad.id,disabled:!e.ad.live,onClick:a[2]||(a[2]=g=>w(e.ad.id))},{default:b(()=>[i(" Remove ")]),_:1},8,["isLoading","disabled"])])):v("",!0)]))}});export{ee as _,te as a};

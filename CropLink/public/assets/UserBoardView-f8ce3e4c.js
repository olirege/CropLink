import{d as C,h as g,Q as ae,R as $e,S as _e,T as A,U as X,V as fe,o as N,W as ke,X as Ce,Y as $,Z as le,$ as Ie,F as T,a0 as xe,a1 as ge,a2 as re,a3 as Ae,a4 as me,a5 as se,a6 as E,a7 as te,a8 as Se,a9 as je,aa as H,ab as O,s as R,a as V,x as de,c as ee,e as u,f as v,g as o,k as G,q as S,l as x,L as Q,z as J,K as M,M as U,N as W,O as Y,B as z,p as F,G as Te,u as oe,t as k,y,ac as ce,P as ie,m as w,i as D,_ as K,n as be,ad as pe}from"./index-f692dcdc.js";import{_ as Pe,a as Le}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-5deeb1ca.js";import{_ as Be}from"./BidCard.vue_vue_type_script_setup_true_lang-44040459.js";import"./ImageCarousel-57658724.js";let Ee=C({props:{onFocus:{type:Function,required:!0}},setup(e){let c=g(!0);return()=>c.value?ae(_e,{as:"button",type:"button",features:$e.Focusable,onFocus(l){l.preventDefault();let t,s=50;function a(){var i;if(s--<=0){t&&cancelAnimationFrame(t);return}if((i=e.onFocus)!=null&&i.call(e)){c.value=!1,cancelAnimationFrame(t);return}t=requestAnimationFrame(a)}t=requestAnimationFrame(a)}}):null}});var Oe=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Oe||{}),Ne=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ne||{});let ye=Symbol("TabsContext");function ne(e){let c=re(ye,null);if(c===null){let l=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,ne),l}return c}let ve=Symbol("TabsSSRContext"),Re=C({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:c,attrs:l,emit:t}){var s;let a=g((s=e.selectedIndex)!=null?s:e.defaultIndex),i=g([]),m=g([]),h=A(()=>e.selectedIndex!==null),b=A(()=>h.value?e.selectedIndex:a.value);function d(f){var n;let p=X(r.tabs.value,$),j=X(r.panels.value,$),q=p.filter(L=>{var B;return!((B=$(L))!=null&&B.hasAttribute("disabled"))});if(f<0||f>p.length-1){let L=se(a.value===null?0:Math.sign(f-a.value),{[-1]:()=>1,0:()=>se(Math.sign(f),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),B=se(L,{0:()=>p.indexOf(q[0]),1:()=>p.indexOf(q[q.length-1])});B!==-1&&(a.value=B),r.tabs.value=p,r.panels.value=j}else{let L=p.slice(0,f),B=[...p.slice(f),...L].find(we=>q.includes(we));if(!B)return;let ue=(n=p.indexOf(B))!=null?n:r.selectedIndex.value;ue===-1&&(ue=r.selectedIndex.value),a.value=ue,r.tabs.value=p,r.panels.value=j}}let r={selectedIndex:A(()=>{var f,n;return(n=(f=a.value)!=null?f:e.defaultIndex)!=null?n:null}),orientation:A(()=>e.vertical?"vertical":"horizontal"),activation:A(()=>e.manual?"manual":"auto"),tabs:i,panels:m,setSelectedIndex(f){b.value!==f&&t("change",f),h.value||d(f)},registerTab(f){var n;if(i.value.includes(f))return;let p=i.value[a.value];i.value.push(f),i.value=X(i.value,$);let j=(n=i.value.indexOf(p))!=null?n:a.value;j!==-1&&(a.value=j)},unregisterTab(f){let n=i.value.indexOf(f);n!==-1&&i.value.splice(n,1)},registerPanel(f){m.value.includes(f)||(m.value.push(f),m.value=X(m.value,$))},unregisterPanel(f){let n=m.value.indexOf(f);n!==-1&&m.value.splice(n,1)}};fe(ye,r);let _=g({tabs:[],panels:[]}),I=g(!1);N(()=>{I.value=!0}),fe(ve,A(()=>I.value?null:_.value));let P=A(()=>e.selectedIndex);return N(()=>{ke([P],()=>{var f;return d((f=e.selectedIndex)!=null?f:e.defaultIndex)},{immediate:!0})}),Ce(()=>{if(!h.value||b.value==null||r.tabs.value.length<=0)return;let f=X(r.tabs.value,$);f.some((n,p)=>$(r.tabs.value[p])!==$(n))&&r.setSelectedIndex(f.findIndex(n=>$(n)===$(r.tabs.value[b.value])))}),()=>{let f={selectedIndex:a.value};return ae(T,[i.value.length<=0&&ae(Ee,{onFocus:()=>{for(let n of i.value){let p=$(n);if((p==null?void 0:p.tabIndex)===0)return p.focus(),!0}return!1}}),le({theirProps:{...l,...Ie(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:f,slots:c,attrs:l,name:"TabGroup"})])}}}),Ve=C({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:c,slots:l}){let t=ne("TabList");return()=>{let s={selectedIndex:t.selectedIndex.value},a={role:"tablist","aria-orientation":t.orientation.value};return le({ourProps:a,theirProps:e,slot:s,attrs:c,slots:l,name:"TabList"})}}}),he=C({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${xe()}`}},setup(e,{attrs:c,slots:l,expose:t}){let s=ne("Tab"),a=g(null);t({el:a,$el:a}),N(()=>s.registerTab(a)),ge(()=>s.unregisterTab(a));let i=re(ve),m=A(()=>{if(i.value){let n=i.value.tabs.indexOf(e.id);return n===-1?i.value.tabs.push(e.id)-1:n}return-1}),h=A(()=>{let n=s.tabs.value.indexOf(a);return n===-1?m.value:n}),b=A(()=>h.value===s.selectedIndex.value);function d(n){var p;let j=n();if(j===te.Success&&s.activation.value==="auto"){let q=(p=je(a))==null?void 0:p.activeElement,L=s.tabs.value.findIndex(B=>$(B)===q);L!==-1&&s.setSelectedIndex(L)}return j}function r(n){let p=s.tabs.value.map(j=>$(j)).filter(Boolean);if(n.key===E.Space||n.key===E.Enter){n.preventDefault(),n.stopPropagation(),s.setSelectedIndex(h.value);return}switch(n.key){case E.Home:case E.PageUp:return n.preventDefault(),n.stopPropagation(),d(()=>H(p,O.First));case E.End:case E.PageDown:return n.preventDefault(),n.stopPropagation(),d(()=>H(p,O.Last))}if(d(()=>se(s.orientation.value,{vertical(){return n.key===E.ArrowUp?H(p,O.Previous|O.WrapAround):n.key===E.ArrowDown?H(p,O.Next|O.WrapAround):te.Error},horizontal(){return n.key===E.ArrowLeft?H(p,O.Previous|O.WrapAround):n.key===E.ArrowRight?H(p,O.Next|O.WrapAround):te.Error}}))===te.Success)return n.preventDefault()}let _=g(!1);function I(){var n;_.value||(_.value=!0,!e.disabled&&((n=$(a))==null||n.focus({preventScroll:!0}),s.setSelectedIndex(h.value),Se(()=>{_.value=!1})))}function P(n){n.preventDefault()}let f=Ae(A(()=>({as:e.as,type:c.type})),a);return()=>{var n;let p={selected:b.value},{id:j,...q}=e,L={ref:a,onKeydown:r,onMousedown:P,onClick:I,id:j,role:"tab",type:f.value,"aria-controls":(n=$(s.panels.value[h.value]))==null?void 0:n.id,"aria-selected":b.value,tabIndex:b.value?0:-1,disabled:e.disabled?!0:void 0};return le({ourProps:L,theirProps:q,slot:p,attrs:c,slots:l,name:"Tab"})}}}),Z=C({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${xe()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:c,slots:l,expose:t}){let s=ne("TabPanel"),a=g(null);t({el:a,$el:a}),N(()=>s.registerPanel(a)),ge(()=>s.unregisterPanel(a));let i=re(ve),m=A(()=>{if(i.value){let d=i.value.panels.indexOf(e.id);return d===-1?i.value.panels.push(e.id)-1:d}return-1}),h=A(()=>{let d=s.panels.value.indexOf(a);return d===-1?m.value:d}),b=A(()=>h.value===s.selectedIndex.value);return()=>{var d;let r={selected:b.value},{id:_,tabIndex:I,...P}=e,f={ref:a,id:_,role:"tabpanel","aria-labelledby":(d=$(s.tabs.value[h.value]))==null?void 0:d.id,tabIndex:b.value?I:-1};return!b.value&&e.unmount&&!e.static?ae(_e,{as:"span",...f}):le({ourProps:f,theirProps:P,slot:r,attrs:c,slots:l,features:me.Static|me.RenderStrategy,visible:b.value,name:"TabPanel"})}}});const Fe={key:0,class:"px-4 grid grid-flow-col gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},qe={key:1},De=o("div",null,"No ads found",-1),Ge=[De],Je={key:2},Me=C({__name:"SellerContentComponent",setup(e){const{user:c}=R(V()),{modals:l}=R(de()),t=g([]),s=g(!1);let a;const i=async()=>{s.value=!0,a=J(M(Y(z,"ads"),W("uid","==",c.value.uid),U("createdAt","desc")),h=>{t.value.docs=h.docs.map(b=>({...b.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1};N(async()=>{await i()}),ee(()=>{a&&a()});const m=()=>{l.value.addad=!0};return(h,b)=>(u(),v(T,null,[o("button",{onClick:m,class:"mt-2 mb-2 w-full inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},"Add an ad"),t.value.docs&&t.value.docs.length>0&&!s.value?(u(),v("span",Fe,[(u(!0),v(T,null,G(t.value.docs,(d,r)=>(u(),S(Pe,{key:r,ad:d},null,8,["ad"]))),128))])):t.value.docs&&t.value.docs.length==0&&!s.value?(u(),v("div",qe,Ge)):(u(),v("div",Je,[x(Q,{isLoading:s.value},null,8,["isLoading"])]))],64))}}),Ue={key:0,class:"grid grid-flow-col gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},We={key:1},Ye=o("div",null,"No ads found",-1),ze=[Ye],He={key:2},Ke=C({__name:"BuyerContentComponent",setup(e){const{user:c}=R(V()),{modals:l}=R(de()),t=g([]),s=g(!1);let a;const i=async()=>{s.value=!0,a=J(M(Y(z,"ads"),W("uid","==",c.value.uid),U("createdAt","desc")),h=>{t.value.docs=h.docs.map(b=>({...b.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1};N(async()=>{await i()}),ee(()=>{a&&a()});const m=()=>{l.value.addad=!0};return(h,b)=>(u(),v(T,null,[o("button",{onClick:m,class:"mt-2 mb-2 w-full inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},"Add an ad"),t.value.docs&&t.value.docs.length>0&&!s.value?(u(),v("span",Ue,[(u(!0),v(T,null,G(t.value.docs,(d,r)=>(u(),S(Le,{key:r,ad:d},null,8,["ad"]))),128))])):F("",!0),t.value.docs&&t.value.docs.length==0&&!s.value?(u(),v("div",We,ze)):(u(),v("div",He,[x(Q,{isLoading:s.value},null,8,["isLoading"])]))],64))}}),Qe={key:0,class:"grid grid-flow-row space-y-4"},Xe={key:1},Ze={key:2},et=o("p",null,"No bids yet",-1),tt=[et],st=C({__name:"BidContentComponent",setup(e){const{user:c}=R(V()),l=g([]),t=g(!1),s=async()=>{t.value=!0,l.value=await Te("bids","buyerId","==",c.value.uid,["createdAt","desc"],10),t.value=!1};return N(async()=>{await s()}),(a,i)=>l.value.docs&&l.value.docs.length>0&&!t.value?(u(),v("span",Qe,[(u(!0),v(T,null,G(l.value.docs,m=>(u(),S(Be,{bid:m},null,8,["bid"]))),256))])):t.value?(u(),v("div",Xe,[x(Q,{isLoading:t.value},null,8,["isLoading"])])):(u(),v("span",Ze,tt))}}),at={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},lt={class:"flex flex-row space-x-4"},ot=o("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),nt={class:"text-sm"},ut={class:"flex flex-row space-x-4"},rt=o("label",{class:"block text-sm font-medium text-gray-700"},"Ad",-1),dt={class:"text-sm"},ct={class:"flex flex-row space-x-4"},it=o("label",{class:"block text-sm font-medium text-gray-700"},"buyerId",-1),vt={class:"text-sm"},ft={class:"flex flex-row space-x-4"},mt=o("label",{class:"block text-sm font-medium text-gray-700"},"sellerId",-1),bt={class:"text-sm"},pt={class:"w-full flex justify-end gap-4"},ht=C({__name:"ContractCard",props:{contract:{type:Object,required:!0}},setup(e){const c=oe(),l=t=>{c.push({name:"messaging",params:{adId:t}})};return(t,s)=>(u(),v("span",at,[o("div",lt,[ot,o("p",nt,k(y(ce)(e.contract.createdAt)?y(ie)(e.contract.createdAt):e.contract.createdAt),1)]),o("div",ut,[rt,o("p",dt,k(e.contract.adId.substring(0,5)),1)]),o("div",ct,[it,o("p",vt,k(e.contract.buyerId.substring(0,5)),1)]),o("div",ft,[mt,o("p",bt,k(e.contract.sellerId.substring(0,5)),1)]),o("div",pt,[x(K,{onClick:s[0]||(s[0]=a=>l(e.contract.adId)),classes:"w-20"},{default:w(()=>[D("View")]),_:1})])]))}}),_t={key:0,class:"grid grid-flow-row space-y-4"},xt={key:1},gt=o("p",null,"No contracts yet",-1),yt=[gt],wt={key:2},$t=C({__name:"ContractsContentComponent",setup(e){const{user:c}=R(V()),l=g([]),t=g(!1);let s=null,a=null,i=[],m=[];const h=async()=>{s=J(M(Y(z,"contracts"),W("sellerId","==",c.value.uid),U("createdAt","desc")),r=>{t.value=!0,m=r.docs.map(_=>({..._.data()})),b(),t.value=!1}),a=J(M(Y(z,"contracts"),W("buyerId","==",c.value.uid),U("createdAt","desc")),r=>{t.value=!0,i=r.docs.map(_=>({..._.data()})),b(),t.value=!1})},b=()=>{l.value.docs=[...i,...m]},d=()=>{s&&s(),a&&a()};return N(async()=>{await h()}),ee(()=>{d()}),(r,_)=>l.value.docs&&l.value.docs.length>0&&!t.value?(u(),v("span",_t,[(u(!0),v(T,null,G(l.value.docs,(I,P)=>(u(),S(ht,{key:P,contract:I},null,8,["contract"]))),128))])):l.value.docs&&l.value.docs.length==0&&!t.value?(u(),v("div",xt,yt)):(u(),v("span",wt,[x(Q,{isLoading:t.value},null,8,["isLoading"])]))}}),kt={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},Ct={class:"flex flex-row space-x-4"},It=o("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),At={class:"text-sm"},St={class:"flex flex-row space-x-4"},jt=o("label",{class:"block text-sm font-medium text-gray-700"},"Ad",-1),Tt={class:"text-sm"},Pt={class:"flex flex-row space-x-4"},Lt=o("label",{class:"block text-sm font-medium text-gray-700"},"buyerId",-1),Bt={class:"text-sm"},Et={class:"flex flex-row space-x-4"},Ot=o("label",{class:"block text-sm font-medium text-gray-700"},"sellerId",-1),Nt={class:"text-sm"},Rt={class:"w-full flex justify-end gap-4"},Vt=C({__name:"ChatRoomCard",props:{chatroom:{type:Object,required:!0}},setup(e){const c=oe(),l=t=>{c.push({name:"messaging",params:{adId:t}})};return(t,s)=>(u(),v("span",kt,[o("div",Ct,[It,o("p",At,k(y(ce)(e.chatroom.createdAt)?y(ie)(e.chatroom.createdAt):e.chatroom.createdAt),1)]),o("div",St,[jt,o("p",Tt,k(e.chatroom.adId.substring(0,5)),1)]),o("div",Pt,[Lt,o("p",Bt,k(e.chatroom.buyerId.substring(0,5)),1)]),o("div",Et,[Ot,o("p",Nt,k(e.chatroom.sellerId.substring(0,5)),1)]),o("div",Rt,[x(K,{onClick:s[0]||(s[0]=a=>l(e.chatroom.adId)),classes:"w-20"},{default:w(()=>[D("View")]),_:1})])]))}}),Ft=o("img",{src:"",class:"h-12 w-12 rounded-full bg-slate-400"},null,-1),qt={class:"flex flex-row space-x-4 items-center"},Dt={class:"block text-sm font-medium text-gray-700"},Gt={class:"block text-sm text-gray-500 truncate italic"},Jt=C({__name:"ChatRoomThumbnailCard",props:{chatroom:{type:Object,required:!0}},setup(e){const c=oe(),l=t=>{c.push({name:"messaging",params:{adId:t}})};return(t,s)=>(u(),v("span",{class:"py-2 bg-white flex flex-row items-center gap-4 hover:bg-slate-200/50 transition duration-300 first:border-none border-t-2 last:border-b-2",onClick:s[0]||(s[0]=a=>l(e.chatroom.adId))},[Ft,o("div",qt,[o("p",Dt,k(e.chatroom.lastSender?`${e.chatroom.lastSender.substring(0,5)} says:`:""),1),o("p",Gt,k(e.chatroom.lastMessage?e.chatroom.lastMessage:""),1)])]))}}),Mt={key:0,class:"grid grid-flow-row space-y-4"},Ut={key:1,class:"flex flex-col overflow-y-auto w-full flex-1 max-h-72"},Wt={key:1},Yt=C({__name:"ChatRoomsContentComponent",props:{withThumbnails:{type:Boolean,default:!1}},setup(e){const{user:c}=R(V()),l=g([]),t=g(!1);let s=null,a=null,i=[],m=[];const h=async()=>{s=J(M(Y(z,"chatrooms"),W("sellerId","==",c.value.uid),U("createdAt","desc")),r=>{t.value=!0,m=r.docs.map(_=>({..._.data()})),b(),t.value=!1}),a=J(M(Y(z,"chatrooms"),W("buyerId","==",c.value.uid),U("createdAt","desc")),r=>{t.value=!0,i=r.docs.map(_=>({..._.data()})),b(),t.value=!1})},b=()=>{l.value.docs=[...i,...m]},d=()=>{s&&s(),a&&a()};return N(async()=>{await h()}),ee(()=>{d()}),(r,_)=>l.value.docs&&l.value.docs.length>0&&!t.value?(u(),v(T,{key:0},[e.withThumbnails?(u(),v("div",Ut,[(u(!0),v(T,null,G(l.value.docs,(I,P)=>(u(),S(Jt,{key:P,chatroom:I},null,8,["chatroom"]))),128))])):(u(),v("div",Mt,[(u(!0),v(T,null,G(l.value.docs,(I,P)=>(u(),S(Vt,{key:P,chatroom:I},null,8,["chatroom"]))),128))]))],64)):l.value.docs&&l.value.docs.length==0&&!t.value?(u(),v("p",Wt,"No conversations yet")):(u(),S(Q,{key:2,isLoading:t.value},null,8,["isLoading"]))}}),zt={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},Ht={key:0,class:"flex flex-row space-x-4"},Kt=o("p",{class:"text-sm"},[o("span",{class:"text-green-500"},"LIVE")],-1),Qt=[Kt],Xt={class:"flex flex-row space-x-4"},Zt=o("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),es={class:"text-sm"},ts={class:"flex flex-row space-x-4"},ss=o("label",{class:"block text-sm font-medium text-gray-700"},"title",-1),as={class:"text-sm"},ls={class:"flex flex-row space-x-4"},os=o("label",{class:"block text-sm font-medium text-gray-700"},"description",-1),ns={class:"text-sm"},us={class:"flex flex-row space-x-4"},rs=o("label",{class:"block text-sm font-medium text-gray-700"},"location",-1),ds={class:"text-sm"},cs={class:"flex flex-row space-x-4"},is=o("label",{class:"block text-sm font-medium text-gray-700"},"salary",-1),vs={class:"text-sm"},fs={key:1,class:"w-full flex justify-end gap-4"},ms=C({__name:"JobCard",props:{job:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(e,{emit:c}){const l=c,t=oe(),s=g(!1),a=async d=>{s.value=!0,await V().postJobPostAd(d),s.value=!1},i=async d=>{s.value=!0,await V().takedownJobPostAd(d),s.value=!1},m=d=>{t.push({name:"job",params:{jobId:d}})},h=d=>{l("edit",d)},b=d=>{l("remove",d)};return(d,r)=>(u(),v("span",zt,[e.job.live?(u(),v("div",Ht,Qt)):F("",!0),o("div",Xt,[Zt,o("p",es,k(y(ce)(e.job.createdAt)?y(ie)(e.job.createdAt):e.job.createdAt),1)]),o("div",ts,[ss,o("p",as,k(e.job.title),1)]),o("div",ls,[os,o("p",ns,k(e.job.description),1)]),o("div",us,[rs,o("p",ds,k(e.job.location),1)]),o("div",cs,[is,o("p",vs,k(e.job.salary),1)]),e.showButtons?(u(),v("div",fs,[e.job.live?F("",!0):(u(),S(be,{key:0,isLoading:s.value,onClick:r[0]||(r[0]=_=>a(e.job.jobId)),classes:"w-20"},{default:w(()=>[D("Post")]),_:1},8,["isLoading"])),e.job.live?(u(),S(be,{key:1,isLoading:s.value,onClick:r[1]||(r[1]=_=>i(e.job.jobId)),classes:"w-20"},{default:w(()=>[D("Takedown")]),_:1},8,["isLoading"])):F("",!0),x(K,{onClick:r[2]||(r[2]=_=>b(e.job.jobId)),classes:"w-20"},{default:w(()=>[D("Remove")]),_:1}),x(K,{onClick:r[3]||(r[3]=_=>h(e.job.jobId)),classes:"w-20"},{default:w(()=>[D("Edit")]),_:1}),x(K,{onClick:r[4]||(r[4]=_=>m(e.job.jobId)),classes:"w-20"},{default:w(()=>[D("View")]),_:1})])):F("",!0)]))}}),bs={key:0,class:"grid grid-flow-row space-y-4"},ps={key:1},hs=o("p",null,"No job posts",-1),_s=[hs],xs={key:2},gs=C({__name:"JobsContentComponent",setup(e){const{user:c}=R(V()),{modals:l}=R(de()),t=g([]),s=g(!1);let a;const i=async()=>{s.value=!0,a=J(M(Y(z,"jobs"),W("posterId","==",c.value.uid),U("createdAt","desc")),d=>{t.value.docs=d.docs.map(r=>({...r.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1},m=()=>{l.value.addjob=!0},h=d=>{l.value.confirmremove=!0,l.value.context={__key:"job",jobId:d}},b=d=>{l.value.editjob=!0;const r=t.value.docs.find(_=>_.jobId==d);l.value.context=r};return N(async()=>{await i()}),ee(()=>{a&&a()}),(d,r)=>(u(),v("span",null,[x(K,{classes:"w-full",onClick:m},{default:w(()=>[D(" Create a job post ")]),_:1}),t.value.docs&&t.value.docs.length>0&&!s.value?(u(),v("span",bs,[(u(!0),v(T,null,G(t.value.docs,(_,I)=>(u(),S(ms,{key:I,job:_,onEdit:b,onRemove:h},null,8,["job"]))),128))])):t.value.docs&&t.value.docs.length==0&&!s.value?(u(),v("span",ps,_s)):(u(),v("div",xs,[x(Q,{isLoading:s.value},null,8,["isLoading"])]))]))}}),ys={class:"w-full px-2 py-3 sm:px-0"},ws={key:0,class:"w-full"},As=C({__name:"UserBoardView",setup(e){const{profile:c}=R(V()),l=V().ACCOUNT_TYPES,t=g(0),s={ADS:"Ads",CONTRACTS:"Contracts",MESSAGES:"Messages",JOBS:"Job posts"};return(a,i)=>(u(),v("div",ys,[y(c)?(u(),v("div",ws,[x(y(Re),{class:"w-full",as:"div"},{default:w(()=>[x(y(Ve),{class:"w-full flex space-x-1 rounded-xl bg-blue-900/20 p-1"},{default:w(()=>[(u(),v(T,null,G(s,(m,h,b)=>x(y(he),{as:"template",key:h,onClick:d=>t.value=b},{default:w(({selected:d})=>[o("button",{class:pe(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",d?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},k(m),3)]),_:2},1032,["onClick"])),64)),y(c).accountType===y(l).BUYER?(u(),S(y(he),{key:0,as:"template",onClick:i[0]||(i[0]=m=>t.value=4)},{default:w(({selected:m})=>[o("button",{class:pe(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",m?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])}," Bids ",2)]),_:1})):F("",!0)]),_:1}),x(y(Z),null,{default:w(()=>[y(c).accountType==y(l).SELLER?(u(),S(Me,{key:0})):F("",!0),y(c).accountType==y(l).BUYER?(u(),S(Ke,{key:1})):F("",!0)]),_:1}),x(y(Z),null,{default:w(()=>[x($t)]),_:1}),x(y(Z),null,{default:w(()=>[x(Yt)]),_:1}),x(y(Z),null,{default:w(()=>[x(gs)]),_:1}),x(y(Z),null,{default:w(()=>[x(st)]),_:1})]),_:1})])):F("",!0)]))}});export{As as default};

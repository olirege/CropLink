import{d as h,s as L,a as _,h as p,o as y,m as k,n as E,e,f as a,l as i,g as T,p as g,q as C,x as t,F as m,k as R,L as S,i as w,y as f}from"./index-bcedb34b.js";import{_ as B}from"./SellerAdCard.vue_vue_type_script_setup_true_lang-22851e1d.js";import{_ as N}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-ec448299.js";const x={key:0},V={class:"p-4"},P={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},U={key:2},A=h({__name:"FeedView",setup(Y){const{profile:c}=L(_()),s=_().ACCOUNT_TYPES,d=p([]),o=p(!1);return y(async()=>{var n;o.value=!0;const u=((n=c.value)==null?void 0:n.accountType)==s.SELLER?s.BUYER:s.SELLER,l=await k("ads","live","==",!0,"adType","==",u,["postedOn","desc"],25);console.log("ads",l),d.value=l.docs,o.value=!1}),(u,l)=>{const n=E("RouterLink");return e(),a(m,null,[i(c)?(e(),a("div",x,[T("div",V,[g(n,{class:"hover:underline",to:"/userboard"},{default:C(()=>[w("Post an ad")]),_:1})])])):t("",!0),d.value.length>0&&!o.value?(e(),a("div",P,[(e(!0),a(m,null,R(d.value,(r,v)=>(e(),a("div",{key:v,class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},[r.adType==i(s).SELLER?(e(),f(B,{key:0,ad:r},null,8,["ad"])):t("",!0),r.adType==i(s).BUYER?(e(),f(N,{key:1,ad:r},null,8,["ad"])):t("",!0)]))),128))])):t("",!0),o.value?(e(),a("div",U,[g(S,{isLoading:o.value},null,8,["isLoading"])])):t("",!0)],64)}}});export{A as default};

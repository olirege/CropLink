import{I as H}from"./ImageCarousel-90e0a058.js";import{d as D,l as p,s as _,u as K,h as P,o as Q,I as L,e as u,f as w,m as f,L as z,x as m,g as t,y as C,t as h,z as r,Z as V,w as B,i as X,F as Y,Y as ee,$ as U,a0 as te,q as T,S as Z,B as se}from"./index-8dd656b9.js";import{r as G,a as J,b as q,c as W}from"./PencilIcon-404dff3f.js";const oe={class:"relative bg-white p-4 rounded-xl shadow transition-shadow duration-300 hover:shadow-xl"},ne={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},ae={class:"relative w-full h-52 bg-gray-200 rounded-xl overflow-hidden"},ie={key:1,class:"flex items-center justify-center h-full"},le=t("p",{class:"text-gray-500"},"No Image Available",-1),re=[le],ce={class:"mt-4 space-y-2"},de={class:"text-2xl font-bold"},ue={class:"flex flex-row gap-2 items-center justify-center mb-2 rounded-md h-10 border-y"},ge={class:"text-xs"},fe={class:"flex flex-row justify-end"},ve={class:"text-sm bg-slate-200/50 p-2 italic rounded-md w-auto"},me={class:"flex flex-row gap-2 text-sm justify-between gap-2"},he={class:"font-semibold"},we={class:"flex flex-row gap-2 text-sm justify-between gap-2"},ye={class:"font-semibold"},xe={class:"flex justify-end space-x-4 mt-4"},at=D({__name:"SellerAdThumbnailCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(e,{emit:O}){const o=p().NOTIFICATION_TYPES,{modals:$,notifications:l}=_(p()),j=K(),y=e,x=P(!1),A=async s=>{if(!s)return;const{callFunction:a}=T("postAd",{adId:s},x,void 0,void 0,()=>{l.value.show=!0,l.value.type=o.SUCCESS,l.value.message="Ad is live!"},d=>{l.value.show=!0,l.value.type=o.ERROR,l.value.message="Error while posting ad, please try again later"});await a()},S=async s=>{if(!s)return;const{callFunction:a}=T("takedownAd",{adId:s},x,void 0,void 0,()=>{l.value.show=!0,l.value.type=o.SUCCESS,l.value.message="Ad taken down!"},d=>{l.value.show=!0,l.value.type=o.ERROR,l.value.message="Error while taken down ad, please try again later"});await a()},E=async s=>{s&&(console.log("removeAd",s),$.value.confirmremove=!0,$.value.context={adId:s,__key:"ad"})},I=s=>{s&&j.push({name:"ad",params:{adId:s}})},R=async s=>{s&&(console.log("removeAd",s),$.value.editad=!0,$.value.context=ad)},g=s=>{s&&j.push({name:"messaging",params:{adId:s}})},c=s=>{const a=new Date,d=s.toDate(),v=a.getTime()-d.getTime(),b=Math.floor(v/1e3),M=Math.floor(b/60),N=Math.floor(M/60),F=Math.floor(N/24);return F>1?`${F} days old`:F==1?`${F} day old`:N>0?`${N} hours old`:M>0?`${M} minutes old`:b>0?`${b} seconds old`:"just now"},i=P(""),n=()=>{if(!y.ad.biddingEndTime)return"";const s=te(y.ad.biddingEndTime),a=Date.now(),d=s-a;if(d<0){i.value="Bidding has ended",clearInterval(k);return}let v=Math.floor(d/1e3%60),b=Math.floor(d/(1e3*60)%60),M=Math.floor(d/(1e3*60*60)%24),N=Math.floor(d/(1e3*60*60*24));i.value=`${N} days ${M} hours ${b} minutes ${v} seconds`},k=setInterval(n,1e3);return Q(async()=>{n()}),(s,a)=>{const d=L("currency");return u(),w("div",oe,[x.value?(u(),w("div",ne,[f(z,{isLoading:x.value,class:"z-20"},null,8,["isLoading"])])):m("",!0),t("div",ae,[e.ad.images&&e.ad.images.length>0?(u(),C(H,{key:0,images:e.ad.resizedImages,class:"h-full object-cover"},null,8,["images"])):(u(),w("div",ie,re))]),t("div",ce,[t("h3",de,h(e.ad.variety),1),t("div",null,[t("div",ue,[t("p",ge,h(i.value),1)])]),t("div",fe,[t("p",ve,h(r(V)(e.ad.createdAt)?c(e.ad.createdAt):s.gig.createdAt),1)]),t("div",me,[B((u(),w("p",he,[X("/ton")])),[[d,e.ad.pricePerTon]])]),t("div",we,[t("p",ye,h(e.ad.tons)+" tons",1)]),t("div",xe,[e.showButtons?(u(),w(Y,{key:0},[e.ad.live?m("",!0):(u(),C(r(G),{key:0,class:"h-5 w-5 text-cyan-600",onClick:a[0]||(a[0]=v=>A(e.ad.id)),title:"Post ad'"})),e.ad.live?(u(),C(r(J),{key:1,class:"h-5 w-5 text-cyan-600",onClick:a[1]||(a[1]=v=>S(e.ad.id)),title:"Take down ad"})):m("",!0),f(r(ee),{class:"h-5 w-5 text-cyan-600",onClick:a[2]||(a[2]=v=>g(e.ad.id)),title:"Contact"}),f(r(U),{class:"h-5 w-5 text-cyan-600",onClick:a[3]||(a[3]=v=>E(e.ad.id)),title:"Remove"}),f(r(q),{class:"h-5 w-5 text-cyan-600",onClick:a[4]||(a[4]=v=>R(e.ad.id)),title:"Edit"})],64)):m("",!0),f(r(W),{class:"h-5 w-5 text-cyan-600",onClick:a[5]||(a[5]=v=>I(e.ad.id)),title:"View"})])])])}}}),$e={class:"bg-white rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 relative"},be={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},ke={class:"flex flex-row gap-4"},je={class:"text-xl capitalize my-2 pl-4"},Ce={class:"flex flex-row justify-between p-4"},pe={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},Te={class:"flex flex-row gap-1 pl-4 mb-2"},Ae={class:"text-sm truncate italic text-slate-500"},Se={class:"flex flex-row gap-4 p-4"},Ee={class:"text-sm"},Ie={class:"flex flex-row gap-4 divide-x px-4 mb-2"},Re={class:"flex flex-col p-2"},Me=t("p",{class:"text-xs"}," Salary Min. ",-1),Ne={class:"text-sm font-bold"},Oe={class:"flex flex-col p-2"},Fe=t("p",{class:"text-xs"}," Salary Max. ",-1),Pe={class:"text-sm font-bold"},Be={class:"w-full flex justify-end gap-4 pr-4 pb-4"},it=D({__name:"JobStoreCard",props:{job:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(e,{emit:O}){const{notifications:o,modals:$}=_(p()),l=p().NOTIFICATION_TYPES,j=O,y=P(!1),x=async g=>{const{callFunction:c}=T("postJobPost",{jobId:g},y,void 0,void 0,()=>{o.value.show=!0,o.value.type=l.SUCCESS,o.value.message="Job Posted"},()=>{o.value.show=!0,o.value.type=l.ERROR,o.value.message="An error occured during the process, please try again later"});await c()},A=async g=>{const{callFunction:c}=T("takeDownJobPost",{jobId:g},y,void 0,void 0,()=>{o.value.show=!0,o.value.type=l.SUCCESS,o.value.message="Job post is now down"},()=>{o.value.show=!0,o.value.type=l.ERROR,o.value.message="An error occured during the process, please try again later"});await c()},S=g=>{const c=new Date,i=g.toDate(),n=c.getTime()-i.getTime(),k=Math.floor(n/1e3),s=Math.floor(k/60),a=Math.floor(s/60),d=Math.floor(a/24);return d>1?`${d} days ago`:d==1?`${d} day ago`:a>0?`${a} hours ago`:s>0?`${s} minutes ago`:k>0?`${k} seconds ago`:"just now"},E=g=>{g&&($.value.viewjob=!0,$.value.context.__key=g)},I=g=>{j("edit",g)},R=g=>{j("remove",g)};return(g,c)=>{const i=L("currency");return u(),w("span",$e,[y.value?(u(),w("div",be,[f(z,{isLoading:y.value,class:"z-20"},null,8,["isLoading"])])):m("",!0),t("div",ke,[t("p",je,h(e.job.title),1)]),t("div",Ce,[t("p",pe,h(r(V)(e.job.createdAt)?S(e.job.createdAt):e.job.createdAt),1)]),t("div",Te,[f(r(Z),{class:"w-5 h-5"}),t("p",Ae,h(e.job.location),1)]),t("div",Se,[t("p",Ee,h(e.job.description.substring(0,197)+"..."),1)]),t("div",Ie,[t("div",Re,[Me,B(t("p",Ne,null,512),[[i,e.job.salaryMin]])]),t("div",Oe,[Fe,B(t("p",Pe,null,512),[[i,e.job.salaryMax]])])]),t("div",Be,[e.showButtons?(u(),w(Y,{key:0},[e.job.live?m("",!0):(u(),C(r(G),{key:0,onClick:c[0]||(c[0]=n=>x(e.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})),e.job.live?(u(),C(r(J),{key:1,onClick:c[1]||(c[1]=n=>A(e.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})):m("",!0),f(r(U),{onClick:c[2]||(c[2]=n=>R(e.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"}),f(r(q),{onClick:c[3]||(c[3]=n=>I(e.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})],64)):m("",!0),f(r(W),{onClick:c[4]||(c[4]=n=>E(e.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})])])}}}),De={class:"relative bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},_e={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},Le={class:"flex flex-row border-top"},ze={class:"text-xl capitalize"},Ve={class:"flex flex-row justify-between p-4"},Ye={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},Ue={class:"flex flex-row gap-2 mb-2 items-center"},Ge={class:"text-sm truncate italic text-slate-500"},Je={class:"flex flex-row gap-4 p-4"},qe={class:"text-sm"},We={class:"grid grid-cols-2 divide-x px-4 mb-2"},Ze={class:"flex flex-col p-2 justify-between"},He=t("p",{class:"text-xs italic"},"Number of milestones",-1),Ke={class:"text-sm font-bold"},Qe={class:"flex flex-col p-2 justify-between"},Xe=t("p",{class:"text-xs italic"},"Total",-1),et={class:"text-sm font-bold"},tt={key:1,class:"w-full flex justify-end gap-4"},lt=D({__name:"GigStoreCard",props:{gig:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(e,{emit:O}){const{notifications:o,modals:$}=_(p()),l=p().NOTIFICATION_TYPES,j=O,y=e,x=P(!1),A=async i=>{const{callFunction:n}=T("postGigPost",{gigId:i},x,void 0,void 0,()=>{o.value.show=!0,o.value.type=l.SUCCESS,o.value.message="Gig posted successfully"},()=>{o.value.show=!0,o.value.type=l.ERROR,o.value.message="An error occured while posting gig, please try again later"});await n()},S=async i=>{const{callFunction:n}=T("takeDownGigPost",{gigId:i},x,void 0,void 0,()=>{o.value.show=!0,o.value.type=l.SUCCESS,o.value.message="Gig taken down successfully"},()=>{o.value.show=!0,o.value.type=l.ERROR,o.value.message="An error occured while taking down the gig, please try again later"});await n()},E=se(()=>!y.gig.milestones||y.gig.milestones.length===0?0:y.gig.milestones.reduce((i,n)=>i+n.price,0)),I=i=>{const n=new Date,k=i.toDate(),s=n.getTime()-k.getTime(),a=Math.floor(s/1e3),d=Math.floor(a/60),v=Math.floor(d/60),b=Math.floor(v/24);return b>1?`${b} days ago`:b==1?`${b} day ago`:v>0?`${v} hours ago`:d>0?`${d} minutes ago`:a>0?`${a} seconds ago`:"just now"},R=i=>{i&&($.value.viewgig=!0,$.value.context.__key=i)},g=i=>{j("edit",i)},c=i=>{j("remove",i)};return(i,n)=>{const k=L("currency");return u(),w("span",De,[x.value?(u(),w("div",_e,[f(z,{isLoading:x.value,class:"z-20"},null,8,["isLoading"])])):m("",!0),t("div",Le,[t("p",ze,h(e.gig.title),1)]),t("div",Ve,[t("p",Ye,h(r(V)(e.gig.createdAt)?I(e.gig.createdAt):e.gig.createdAt),1)]),t("div",Ue,[f(r(Z),{class:"w-5 h-5 text-slate-500"}),t("p",Ge,h(e.gig.location),1)]),t("div",Je,[t("p",qe,h(e.gig.description.substring(0,197)+"..."),1)]),t("div",We,[t("div",Ze,[He,t("p",Ke,h(e.gig.milestones.length),1)]),t("div",Qe,[Xe,B(t("p",et,null,512),[[k,E.value]])])]),e.showButtons?(u(),w("div",tt,[e.showButtons?(u(),w(Y,{key:0},[e.gig.live?m("",!0):(u(),C(r(G),{key:0,onClick:n[0]||(n[0]=s=>A(e.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})),e.gig.live?(u(),C(r(J),{key:1,onClick:n[1]||(n[1]=s=>S(e.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})):m("",!0),f(r(U),{onClick:n[2]||(n[2]=s=>c(e.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"}),f(r(q),{onClick:n[3]||(n[3]=s=>g(e.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})],64)):m("",!0),f(r(W),{onClick:n[4]||(n[4]=s=>R(e.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})])):m("",!0)])}}});export{at as _,it as a,lt as b};

import{I as B}from"./ImageCarousel-f7c7d20c.js";import{d as V,s as $,x as O,a as v,u as j,h as y,e as o,f as A,g as s,q as u,p as l,t as i,i as a,y as d,m as r,_ as b,n as S,l as N,ab as k,O as T}from"./index-c8d29054.js";const R={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},H={class:"w-full h-48 object-cover rounded-lg"},P={class:"text-xl font-semibold mb-2"},U={class:"text-sm mb-2"},q=s("strong",null,"Status:",-1),M={class:"text-sm mb-2"},W=s("strong",null,"Id:",-1),z={class:"text-sm mb-2"},F=s("strong",null,"Variety:",-1),Y={class:"text-sm mb-2"},G=s("strong",null,"Yield Tonnage:",-1),J={class:"text-sm mb-2"},K=s("strong",null,"Expected Harvest Date:",-1),Q={class:"text-sm mb-2"},X=s("strong",null,"Price:",-1),Z={class:"text-sm mb-2"},I=s("strong",null,"bidding End time:",-1),_={key:0,class:"flex items-center justify-end mt-2 space-x-4"},se=V({__name:"SellerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(e,{emit:p}){const{modals:x}=$(O()),c=v().AD_STATUSES,h=j(),g=y(!1),w=async t=>{t&&(g.value=!0,await v().postNewAd(t),g.value=!1)},f=y(""),C=async t=>{t&&(f.value=t,console.log("removeAd",t),await v().removeUserAd(t),f.value="")},D=t=>{t&&h.push({name:"ad",params:{adId:t}})},E=async t=>{t&&(console.log("removeAd",t),x.value.editad=!0,x.value.context=ads.value.docs.find(n=>n.id===t))},L=t=>{t&&h.push({name:"messaging",params:{adId:t}})};return(t,n)=>(o(),A("div",R,[s("div",H,[e.ad.images&&e.ad.images.length>0?(o(),u(B,{key:0,images:e.ad.resizedImages},null,8,["images"])):l("",!0)]),s("h3",P,i(e.ad.type),1),s("p",U,[q,a(" "+i(e.ad.status),1)]),s("p",M,[W,a(" "+i(e.ad.id),1)]),s("p",z,[F,a(" "+i(e.ad.variety),1)]),s("p",Y,[G,a(" "+i(e.ad.yieldTonnage),1)]),s("p",J,[K,a(" "+i(d(k)(e.ad.expectedHarvestDate)?d(T)(e.ad.expectedHarvestDate):e.ad.expectedHarvestDate),1)]),s("p",Q,[X,a(" "+i(e.ad.price),1)]),s("p",Z,[I,a(" "+i(d(k)(e.ad.biddingEndTime)?d(T)(e.ad.biddingEndTime):e.ad.biddingEndTime),1)]),e.showButtons?(o(),A("div",_,[!e.ad.live&&e.ad.status!=d(c).SOLD?(o(),u(b,{key:0,onClick:n[0]||(n[0]=m=>E(e.ad.id))},{default:r(()=>[a(" Edit ")]),_:1})):l("",!0),!e.ad.live&&e.ad.status==d(c).SOLD?(o(),u(b,{key:1,classes:"truncate",onClick:n[1]||(n[1]=m=>L(e.ad.id))},{default:r(()=>[a(" Contact Winner ")]),_:1})):l("",!0),!e.ad.live&&e.ad.status!=d(c).SOLD?(o(),u(S,{key:2,disabled:e.ad.live,isLoading:g.value,onClick:n[2]||(n[2]=m=>w(e.ad.id)),class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},{default:r(()=>[a(" Post "+i(e.ad.status),1)]),_:1},8,["disabled","isLoading"])):l("",!0),N(b,{onClick:n[3]||(n[3]=m=>D(e.ad.id))},{default:r(()=>[a(" View ")]),_:1}),!e.ad.live&&e.ad.status!=d(c).SOLD?(o(),u(S,{key:3,disabled:e.ad.live,isLoading:f.value==e.ad.id,onClick:n[4]||(n[4]=m=>C(e.ad.id)),class:"inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},{default:r(()=>[a(" Remove ")]),_:1},8,["disabled","isLoading"])):l("",!0)])):l("",!0)]))}});export{se as _};

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(y=64)),i.push(n[p],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new RN;const y=o<<2|c>>4;if(i.push(y),f!==64){const b=c<<4&240|f>>2;if(i.push(b),v!==64){const I=f<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PN=function(t){const e=_S(t);return wS.encodeByteArray(e,!0)},xf=function(t){return PN(t).replace(/\./g,"")},bS=function(t){try{return wS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Of(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kN(n)||(t[n]=Of(t[n],e[n]));return t}function kN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=()=>xN().__FIREBASE_DEFAULTS__,NN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bS(t[1]);return e&&JSON.parse(e)},gp=()=>{try{return ON()||NN()||DN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ES=t=>{var e,n;return(n=(e=gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o_=t=>{const e=ES(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IS=()=>{var t;return(t=gp())===null||t===void 0?void 0:t.config},TS=t=>{var e;return(e=gp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[xf(JSON.stringify(n)),xf(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function SS(){var t;const e=(t=gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof self=="object"&&self.self===self}function CS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nf(){try{return typeof indexedDB=="object"}catch{return!1}}function FN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FirebaseError";class Rn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=UN,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?$N(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Rn(s,c,i)}}function $N(t,e){return t.replace(jN,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const jN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function BN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Df(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(II(o)&&II(l)){if(!Df(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function II(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function cc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PS(t,e){const n=new HN(t,e);return n.subscribe.bind(n)}class HN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");qN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=hv),s.error===void 0&&(s.error=hv),s.complete===void 0&&(s.complete=hv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new LN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zN(e))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=_o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_o){return this.instances.has(e)}getOptions(e=_o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:KN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_o){return this.component?this.component.multipleInstances?e:_o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KN(t){return t===_o?void 0:t}function zN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=[];var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const kS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},YN=Ke.INFO,JN={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},QN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=JN[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=YN,this._logHandler=QN,this._userLogHandler=null,l_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}function XN(t){l_.forEach(e=>{e.setLogLevel(t)})}function ZN(t,e){for(const n of l_){let i=null;e&&e.level&&(i=kS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(h=>{if(h==null)return null;if(typeof h=="string")return h;if(typeof h=="number"||typeof h=="boolean")return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch{return null}}).filter(h=>h).join(" ");o>=(i??s.logLevel)&&t({level:Ke[o].toLowerCase(),message:c,args:l,type:s.name})}}}const eD=(t,e)=>e.some(n=>t instanceof n);let TI,AI;function tD(){return TI||(TI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nD(){return AI||(AI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,Qv=new WeakMap,OS=new WeakMap,fv=new WeakMap,u_=new WeakMap;function iD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Ps(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xS.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function rD(t){if(Qv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Qv.set(t,e)}let Xv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sD(t){Xv=t(Xv)}function oD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(pv(this),e,...n);return OS.set(i,e.sort?e.sort():[e]),Ps(i)}:nD().includes(t)?function(...e){return t.apply(pv(this),e),Ps(xS.get(this))}:function(...e){return Ps(t.apply(pv(this),e))}}function aD(t){return typeof t=="function"?oD(t):(t instanceof IDBTransaction&&rD(t),eD(t,tD())?new Proxy(t,Xv):t)}function Ps(t){if(t instanceof IDBRequest)return iD(t);if(fv.has(t))return fv.get(t);const e=aD(t);return e!==t&&(fv.set(t,e),u_.set(e,t)),e}const pv=t=>u_.get(t);function lD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=Ps(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Ps(l.result),h.oldVersion,h.newVersion,Ps(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const uD=["get","getKey","getAll","getAllKeys","count"],cD=["put","add","delete","clear"],mv=new Map;function SI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mv.get(e))return mv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=cD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||uD.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return mv.set(e,o),o}sD(t=>({...t,get:(e,n,i)=>SI(e,n)||t.get(e,n,i),has:(e,n)=>!!SI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zv="@firebase/app",CI="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new vp("@firebase/app"),fD="@firebase/app-compat",pD="@firebase/analytics-compat",mD="@firebase/analytics",gD="@firebase/app-check-compat",vD="@firebase/app-check",yD="@firebase/auth",_D="@firebase/auth-compat",wD="@firebase/database",bD="@firebase/database-compat",ED="@firebase/functions",ID="@firebase/functions-compat",TD="@firebase/installations",AD="@firebase/installations-compat",SD="@firebase/messaging",CD="@firebase/messaging-compat",RD="@firebase/performance",PD="@firebase/performance-compat",kD="@firebase/remote-config",xD="@firebase/remote-config-compat",OD="@firebase/storage",ND="@firebase/storage-compat",DD="@firebase/firestore",LD="@firebase/firestore-compat",MD="firebase",VD="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]",FD={[Zv]:"fire-core",[fD]:"fire-core-compat",[mD]:"fire-analytics",[pD]:"fire-analytics-compat",[vD]:"fire-app-check",[gD]:"fire-app-check-compat",[yD]:"fire-auth",[_D]:"fire-auth-compat",[wD]:"fire-rtdb",[bD]:"fire-rtdb-compat",[ED]:"fire-fn",[ID]:"fire-fn-compat",[TD]:"fire-iid",[AD]:"fire-iid-compat",[SD]:"fire-fcm",[CD]:"fire-fcm-compat",[RD]:"fire-perf",[PD]:"fire-perf-compat",[kD]:"fire-rc",[xD]:"fire-rc-compat",[OD]:"fire-gcs",[ND]:"fire-gcs-compat",[DD]:"fire-fst",[LD]:"fire-fst-compat","fire-js":"fire-js",[MD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Map,Lc=new Map;function Lf(t,e){try{t.container.addComponent(e)}catch(n){Uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function NS(t,e){t.container.addOrOverwriteComponent(e)}function _r(t){const e=t.name;if(Lc.has(e))return Uo.debug(`There were multiple attempts to register component ${e}.`),!1;Lc.set(e,t);for(const n of Ds.values())Lf(n,t);return!0}function Go(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function UD(t,e,n=Ns){Go(t,e).clearInstance(n)}function $D(){Lc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lr=new zo("app","Firebase",jD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=VD;function yp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ns,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=IS()),!n)throw Lr.create("no-options");const o=Ds.get(s);if(o){if(Df(n,o.options)&&Df(i,o.config))return o;throw Lr.create("duplicate-app",{appName:s})}const l=new GN(s);for(const h of Lc.values())l.addComponent(h);const c=new BD(n,i,l);return Ds.set(s,c),c}function cd(t=Ns){const e=Ds.get(t);if(!e&&t===Ns&&IS())return yp();if(!e)throw Lr.create("no-app",{appName:t});return e}function HD(){return Array.from(Ds.values())}async function DS(t){const e=t.name;Ds.has(e)&&(Ds.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Yn(t,e,n){var i;let s=(i=FD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Uo.warn(c.join(" "));return}_r(new Ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function LS(t,e){if(t!==null&&typeof t!="function")throw Lr.create("invalid-log-argument");ZN(t,e)}function MS(t){XN(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebase-heartbeat-database",WD=1,Mc="firebase-heartbeat-store";let gv=null;function VS(){return gv||(gv=lD(qD,WD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mc)}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),gv}async function KD(t){try{return await(await VS()).transaction(Mc).objectStore(Mc).get(FS(t))}catch(e){if(e instanceof Rn)Uo.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Uo.warn(n.message)}}}async function RI(t,e){try{const i=(await VS()).transaction(Mc,"readwrite");await i.objectStore(Mc).put(e,FS(t)),await i.done}catch(n){if(n instanceof Rn)Uo.warn(n.message);else{const i=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Uo.warn(i.message)}}}function FS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1024,GD=30*24*60*60*1e3;class YD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=GD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=PI(),{heartbeatsToSend:n,unsentEntries:i}=JD(this._heartbeatsCache.heartbeats),s=xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function PI(){return new Date().toISOString().substring(0,10)}function JD(t,e=zD){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),kI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class QD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nf()?FN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return RI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return RI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kI(t){return xf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){_r(new Ki("platform-logger",e=>new dD(e),"PRIVATE")),_r(new Ki("heartbeat",e=>new YD(e),"PRIVATE")),Yn(Zv,CI,t),Yn(Zv,CI,"esm2017"),Yn("fire-js","")}XD("");const ZD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Rn,SDK_VERSION:zr,_DEFAULT_ENTRY_NAME:Ns,_addComponent:Lf,_addOrOverwriteComponent:NS,_apps:Ds,_clearComponents:$D,_components:Lc,_getProvider:Go,_registerComponent:_r,_removeServiceInstance:UD,deleteApp:DS,getApp:cd,getApps:HD,initializeApp:yp,onLog:LS,registerVersion:Yn,setLogLevel:MS},Symbol.toStringTag,{value:"Module"}));function c_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const Zu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$a={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tL=eL,nL=US,$S=new zo("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new vp("@firebase/auth");function iL(t,...e){Mf.logLevel<=Ke.WARN&&Mf.warn(`Auth (${zr}): ${t}`,...e)}function _f(t,...e){Mf.logLevel<=Ke.ERROR&&Mf.error(`Auth (${zr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,...e){throw d_(t,...e)}function Pn(t,...e){return d_(t,...e)}function jS(t,e,n){const i=Object.assign(Object.assign({},nL()),{[e]:n});return new zo("auth","Firebase",i).create(e,{appName:t.name})}function Ol(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&yn(t,"argument-error"),jS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function d_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return $S.create(t,...e)}function J(t,e,...n){if(!t)throw d_(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _f(e),new Error(e)}function zi(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h_(){return xI()==="http:"||xI()==="https:"}function xI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h_()||CS()||"connection"in navigator)?navigator.onLine:!0}function sL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=MN()||a_()}get(){return rL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new dd(3e4,6e4);function Wt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sn(t,e,n,i,s={}){return HS(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=xl(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),BS.fetch()(qS(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function HS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},oL),e);try{const s=new uL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw dc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw dc(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw jS(t,p,f);yn(t,p)}}catch(s){if(s instanceof Rn)throw s;yn(t,"network-request-failed",{message:String(s)})}}async function Gr(t,e,n,i,s={}){const o=await sn(t,e,n,i,s);return"mfaPendingCredential"in o&&yn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function qS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?f_(t.config,s):`${t.config.apiScheme}://${s}`}function lL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Pn(this.auth,"network-request-failed")),aL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Pn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){return t!==void 0&&t.getResponse!==void 0}function NI(t){return t!==void 0&&t.enterprise!==void 0}class cL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t){return(await sn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function hL(t,e){return sn(t,"GET","/v2/recaptchaConfig",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){return sn(t,"POST","/v1/accounts:delete",e)}async function pL(t,e){return sn(t,"POST","/v1/accounts:update",e)}async function mL(t,e){return sn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gL(t,e=!1){const n=Re(t),i=await n.getIdToken(e),s=_p(i);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:bc(vv(s.auth_time)),issuedAtTime:bc(vv(s.iat)),expirationTime:bc(vv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vv(t){return Number(t)*1e3}function _p(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const s=bS(n);return s?JSON.parse(s):(_f("Failed to decode base64 JWT payload"),null)}catch(s){return _f("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vL(t){const e=_p(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Rn&&yL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function yL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await $r(t,mL(n,{idToken:i}));J(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?EL(o.providerUserInfo):[],c=bL(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new WS(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function wL(t){const e=Re(t);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function EL(t){return t.map(e=>{var{providerId:n}=e,i=c_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e){const n=await HS(t,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=qS(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",BS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await IL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Uc;return i&&(J(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(J(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oo{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=c_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new WS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $r(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gL(this,e)}reload(){return wL(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $r(this,fL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,h,f,p;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,R=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:x,emailVerified:N,isAnonymous:U,providerData:G,stsTokenManager:se}=n;J(x&&se,e,"internal-error");const q=Uc.fromJSON(this.name,se);J(typeof x=="string",e,"internal-error"),ms(v,e.name),ms(y,e.name),J(typeof N=="boolean",e,"internal-error"),J(typeof U=="boolean",e,"internal-error"),ms(b,e.name),ms(I,e.name),ms(_,e.name),ms(E,e.name),ms(T,e.name),ms(R,e.name);const ie=new Oo({uid:x,auth:e,email:y,emailVerified:N,displayName:v,isAnonymous:U,photoURL:I,phoneNumber:b,tenantId:_,stsTokenManager:q,createdAt:T,lastLoginAt:R});return G&&Array.isArray(G)&&(ie.providerData=G.map(_e=>Object.assign({},_e))),E&&(ie._redirectEventId=E),ie}static async _fromIdTokenResponse(e,n,i=!1){const s=new Uc;s.updateFromServerResponse(n);const o=new Oo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Fc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;function yi(t){zi(t instanceof Function,"Expected a class definition");let e=DI.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KS.type="NONE";const ll=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=No(this.userKey,s.apiKey,o),this.fullPersistenceKey=No("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ja(yi(ll),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||yi(ll);const l=No(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){const v=Oo._fromJSON(e,p);f!==o&&(c=v),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ja(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ja(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JS(e))return"Blackberry";if(QS(e))return"Webos";if(p_(e))return"Safari";if((e.includes("chrome/")||GS(e))&&!e.includes("edge/"))return"Chrome";if(hd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zS(t=rn()){return/firefox\//i.test(t)}function p_(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GS(t=rn()){return/crios\//i.test(t)}function YS(t=rn()){return/iemobile/i.test(t)}function hd(t=rn()){return/android/i.test(t)}function JS(t=rn()){return/blackberry/i.test(t)}function QS(t=rn()){return/webos/i.test(t)}function Nl(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TL(t=rn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function AL(t=rn()){var e;return Nl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SL(){return RS()&&document.documentMode===10}function XS(t=rn()){return Nl(t)||hd(t)||QS(t)||JS(t)||/windows phone/i.test(t)||YS(t)}function CL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e=[]){let n;switch(t){case"Browser":n=LI(rn());break;case"Worker":n=`${LI(rn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return sn(t,"GET","/v2/passwordPolicy",Wt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=6;class xL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:kL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MI(this),this.idTokenSubscription=new MI(this),this.beforeStateQueue=new RL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Re(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),n=new xL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yi(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ft(t){return Re(t)}class MI{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function m_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Pn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",NL().appendChild(i)})}function eC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DL="https://www.google.com/recaptcha/enterprise.js?render=",LL="recaptcha-enterprise",ML="NO_RECAPTCHA";class VL{constructor(e){this.type=LL,this.auth=Ft(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{hL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new cL(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;NI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(ML)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&NI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}m_(DL+c).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function VI(t,e,n,i=!1){const s=new VL(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function wp(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await VI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await VI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=Go(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Df(o,e??{}))return s;yn(s,"already-initialized")}return n.initialize({options:e})}function UL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tC(t,e,n){const i=Ft(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=nC(e),{host:l,port:c}=$L(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||jL()}function nC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $L(t){const e=nC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:FI(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:FI(l)}}}function FI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e){return sn(t,"POST","/v1/accounts:resetPassword",Wt(t,e))}async function rC(t,e){return sn(t,"POST","/v1/accounts:update",e)}async function BL(t,e){return sn(t,"POST","/v1/accounts:update",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){return Gr(t,"POST","/v1/accounts:signInWithPassword",Wt(t,e))}async function bp(t,e){return sn(t,"POST","/v1/accounts:sendOobCode",Wt(t,e))}async function qL(t,e){return bp(t,e)}async function WL(t,e){return bp(t,e)}async function KL(t,e){return bp(t,e)}async function zL(t,e){return bp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return Gr(t,"POST","/v1/accounts:signInWithEmailLink",Wt(t,e))}async function YL(t,e){return Gr(t,"POST","/v1/accounts:signInWithEmailLink",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Dl{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $c(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new $c(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,n,"signInWithPassword",HL);case"emailLink":return GL(e,{email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return rC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return YL(e,{idToken:n,email:this._email,oobCode:this._password});default:yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(t,e){return Gr(t,"POST","/v1/accounts:signInWithIdp",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="http://localhost";class wr extends Dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=c_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new wr(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Mr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mr(e,n)}buildRequest(){const e={requestUri:JL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return sn(t,"POST","/v1/accounts:sendVerificationCode",Wt(t,e))}async function XL(t,e){return Gr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wt(t,e))}async function ZL(t,e){const n=await Gr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wt(t,e));if(n.temporaryProof)throw dc(t,"account-exists-with-different-credential",n);return n}const eM={USER_NOT_FOUND:"user-not-found"};async function tM(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Gr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wt(t,n),eM)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Dl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Do({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Do({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return XL(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return ZL(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return tM(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new Do({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iM(t){const e=Ga(cc(t)).link,n=e?Ga(cc(e)).deep_link_id:null,i=Ga(cc(t)).deep_link_id;return(i?Ga(cc(i)).link:null)||i||n||e||t}class Ep{constructor(e){var n,i,s,o,l,c;const h=Ga(cc(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=nM((s=h.mode)!==null&&s!==void 0?s:null);J(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=iM(e);try{return new Ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.providerId=Bs.PROVIDER_ID}static credential(e,n){return $c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ep.parseLink(n);return J(i,"argument-error"),$c._fromEmailAndCode(e,i.code,i.tenantId)}}Bs.PROVIDER_ID="password";Bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Yr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qa extends Ll{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return J("providerId"in n&&"signInMethod"in n,"argument-error"),wr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return J(e.idToken||e.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Qa.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Qa.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new Qa(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Ll{constructor(){super("facebook.com")}static credential(e){return wr._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wr._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Ll{constructor(){super("github.com")}static credential(e){return wr._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="http://localhost";class ul extends Dl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Mr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new ul(i,o)}static _create(e,n){return new ul(e,n)}buildRequest(){return{requestUri:rM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="saml.";class Vf extends Yr{constructor(e){J(e.startsWith(sM),"argument-error"),super(e)}static credentialFromResult(e){return Vf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=ul.fromJSON(e);return J(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return ul._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Ll{constructor(){super("twitter.com")}static credential(e,n){return wr._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return cr.credential(n,i)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e){return Gr(t,"POST","/v1/accounts:signUp",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Oo._fromIdTokenResponse(e,i,s),l=UI(i);return new Ni({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=UI(i);return new Ni({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function UI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t){var e;const n=Ft(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ni({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await sC(n,{returnSecureToken:!0}),s=await Ni._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends Rn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Ff(e,n,i,s)}}function oC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){const n=Re(t);await Ip(!0,n,e);const{providerUserInfo:i}=await pL(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=aC(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function g_(t,e,n=!1){const i=await $r(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",i)}async function Ip(t,e,n){await Fc(e);const i=aC(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";J(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await $r(t,oC(i,s,e,t),n);J(o.idToken,i,"internal-error");const l=_p(o.idToken);J(l,i,"internal-error");const{sub:c}=l;return J(t.uid===c,i,"user-mismatch"),Ni._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){const i="signIn",s=await oC(t,i,e),o=await Ni._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function Tp(t,e){return uC(Ft(t),e)}async function cC(t,e){const n=Re(t);return await Ip(!1,n,e.providerId),g_(n,e)}async function dC(t,e){return lC(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return Gr(t,"POST","/v1/accounts:signInWithCustomToken",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(t,e){const n=Ft(t),i=await lM(n,{token:e,returnSecureToken:!0}),s=await Ni._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?v_._fromServerResponse(e,n):"totpInfo"in n?y_._fromServerResponse(e,n):yn(e,"internal-error")}}class v_ extends fd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new v_(n)}}class y_ extends fd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new y_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(t){const e=Ft(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cM(t,e,n){const i=Ft(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Ap(i,s,n),await wp(i,s,"getOobCode",WL)}async function dM(t,e,n){await iC(Re(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&__(t),i})}async function hM(t,e){await BL(Re(t),{oobCode:e})}async function hC(t,e){const n=Re(t),i=await iC(n,{oobCode:e}),s=i.requestType;switch(J(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(i.mfaInfo,n,"internal-error");default:J(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=fd._fromServerResponse(Ft(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function fM(t,e){const{data:n}=await hC(Re(t),e);return n.email}async function pM(t,e,n){const i=Ft(t),l=await wp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sC).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&__(t),h}),c=await Ni._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function mM(t,e,n){return Tp(Re(t),Bs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&__(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e,n){const i=Ft(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){J(c.handleCodeInApp,i,"argument-error"),c&&Ap(i,l,c)}o(s,n),await wp(i,s,"getOobCode",KL)}function vM(t,e){const n=Ep.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function yM(t,e,n){const i=Re(t),s=Bs.credentialWithLink(e,n||Vc());return J(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Tp(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){return sn(t,"POST","/v1/accounts:createAuthUri",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){const n=h_()?Vc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await _M(Re(t),i);return s||[]}async function bM(t,e){const n=Re(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Ap(n.auth,s,e);const{email:o}=await qL(n.auth,s);o!==t.email&&await t.reload()}async function EM(t,e,n){const i=Re(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Ap(i.auth,o,n);const{email:l}=await zL(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){return sn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Re(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await $r(i,IM(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function AM(t,e){return fC(Re(t),e,null)}function SM(t,e){return fC(Re(t),null,e)}async function fC(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await $r(t,rC(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=_p(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Xa(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new RM(o,s);case"github.com":return new PM(o,s);case"google.com":return new kM(o,s);case"twitter.com":return new xM(o,s,t.screenName||null);case"custom":case"anonymous":return new Xa(o,null);default:return new Xa(o,i,s)}}class Xa{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class pC extends Xa{constructor(e,n,i,s){super(e,n,i),this.username=s}}class RM extends Xa{constructor(e,n){super(e,"facebook.com",n)}}class PM extends pC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class kM extends Xa{constructor(e,n){super(e,"google.com",n)}}class xM extends pC{constructor(e,n,i){super(e,"twitter.com",n,i)}}function OM(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:CM(n)}function NM(t,e,n,i){return Re(t).onIdTokenChanged(e,n,i)}function DM(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}function LM(t,e,n,i){return Re(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new Ao("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ao("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ao._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return Ao._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Ft(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>fd._fromServerResponse(i,c));J(s.mfaPendingCredential,i,"internal-error");const l=Ao._fromMfaPendingCredential(s.mfaPendingCredential);return new w_(l,o,async c=>{const h=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:h.idToken,refreshToken:h.refreshToken});switch(n.operationType){case"signIn":const p=await Ni._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(p.user),p;case"reauthenticate":return J(n.user,i,"internal-error"),Ni._forOperation(n.user,n.operationType,f);default:yn(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function MM(t,e){var n;const i=Re(t),s=e;return J(e.customData.operationType,i,"argument-error"),J((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),w_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:start",Wt(t,e))}function FM(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(t,e))}function UM(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(t,e))}class b_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>fd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new b_(e)}async getSession(){return Ao._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await $r(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await $r(this.user,UM(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const yv=new WeakMap;function $M(t){const e=Re(t);return yv.has(e)||yv.set(e,b_._fromUser(e)),yv.get(e)}const Uf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){const t=rn();return p_(t)||Nl(t)}const BM=1e3,HM=10;class gC extends mC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jM()&&CL(),this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);SL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,HM):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gC.type="LOCAL";const Sp=gC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends mC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vC.type="SESSION";const Ls=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Cp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await qM(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=pd("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function KM(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function zM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YM(){return E_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",JM=1,$f="firebaseLocalStorage",_C="fbase_key";class md{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rp(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function QM(){const t=indexedDB.deleteDatabase(yC);return new md(t).toPromise()}function ey(){const t=indexedDB.open(yC,JM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore($f,{keyPath:_C})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains($f)?e(i):(i.close(),await QM(),e(await ey()))})})}async function $I(t,e,n){const i=Rp(t,!0).put({[_C]:e,value:n});return new md(i).toPromise()}async function XM(t,e){const n=Rp(t,!1).get(e),i=await new md(n).toPromise();return i===void 0?null:i.value}function jI(t,e){const n=Rp(t,!0).delete(e);return new md(n).toPromise()}const ZM=800,eV=3;class wC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>eV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(YM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zM(),!this.activeServiceWorker)return;this.sender=new WM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ey();return await $I(e,Uf,"1"),await jI(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>$I(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>XM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Rp(s,!1).getAll();return new md(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wC.type="LOCAL";const cl=wC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){return sn(t,"POST","/v2/accounts/mfaSignIn:start",Wt(t,e))}function nV(t,e){return sn(t,"POST","/v2/accounts/mfaSignIn:finalize",Wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=500,rV=6e4,Qh=1e12;class sV{constructor(e){this.auth=e,this.counter=Qh,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new oV(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||Qh;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||Qh;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||Qh;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class oV{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;J(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=aV(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},rV)},iV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function aV(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=eC("rcb"),lV=new dd(3e4,6e4),uV="https://www.google.com/recaptcha/api.js?";class cV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Xt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return J(dV(n),e,"argument-error"),this.shouldResolveImmediately(n)&&OI(Xt().grecaptcha)?Promise.resolve(Xt().grecaptcha):new Promise((i,s)=>{const o=Xt().setTimeout(()=>{s(Pn(e,"network-request-failed"))},lV.get());Xt()[_v]=()=>{Xt().clearTimeout(o),delete Xt()[_v];const c=Xt().grecaptcha;if(!c||!OI(c)){s(Pn(e,"internal-error"));return}const h=c.render;c.render=(f,p)=>{const v=h(f,p);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${uV}?${xl({onload:_v,render:"explicit",hl:n})}`;m_(l).catch(()=>{clearTimeout(o),s(Pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Xt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function dV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class hV{async load(e){return new sV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="recaptcha",fV={theme:"light",type:"image"};let pV=class{constructor(e,n,i=Object.assign({},fV)){this.parameters=i,this.type=bC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(e),this.isInvisible=this.parameters.size==="invisible",J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;J(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hV:new cV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=Xt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){J(h_()&&!E_(),this.auth,"internal-error"),await mV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await dL(this.auth);J(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function mV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Do._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function gV(t,e,n){const i=Ft(t),s=await Pp(i,e,Re(n));return new I_(s,o=>Tp(i,o))}async function vV(t,e,n){const i=Re(t);await Ip(!1,i,"phone");const s=await Pp(i.auth,e,Re(n));return new I_(s,o=>cC(i,o))}async function yV(t,e,n){const i=Re(t),s=await Pp(i.auth,e,Re(n));return new I_(s,o=>dC(i,o))}async function Pp(t,e,n){var i;const s=await n.verify();try{J(typeof s=="string",t,"argument-error"),J(n.type===bC,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return J(l.type==="enroll",t,"internal-error"),(await VM(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{J(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return J(c,t,"missing-multi-factor-info"),(await tV(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await QL(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function _V(t,e){await g_(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o=class wf{constructor(e){this.providerId=wf.PROVIDER_ID,this.auth=Ft(e)}verifyPhoneNumber(e,n){return Pp(this.auth,e,Re(n))}static credential(e,n){return Do._fromVerification(e,n)}static credentialFromResult(e){const n=e;return wf.credentialFromTaggedObject(n)}static credentialFromError(e){return wf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Do._fromTokenResponse(n,i):null}};$o.PROVIDER_ID="phone";$o.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){return e?yi(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_ extends Dl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wV(t){return uC(t.auth,new T_(t),t.bypassAuthState)}function bV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),lC(n,new T_(t),t.bypassAuthState)}async function EV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),g_(n,new T_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wV;case"linkViaPopup":case"linkViaRedirect":return EV;case"reauthViaPopup":case"reauthViaRedirect":return bV;default:yn(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new dd(2e3,1e4);async function TV(t,e,n){const i=Ft(t);Ol(t,e,Yr);const s=Yo(i,n);return new Or(i,"signInViaPopup",e,s).executeNotNull()}async function AV(t,e,n){const i=Re(t);Ol(i.auth,e,Yr);const s=Yo(i.auth,n);return new Or(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function SV(t,e,n){const i=Re(t);Ol(i.auth,e,Yr);const s=Yo(i.auth,n);return new Or(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class Or extends EC{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=pd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}Or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="pendingRedirect",Ec=new Map;class RV extends EC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const i=await PV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PV(t,e){const n=TC(e),i=IC(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function A_(t,e){return IC(t)._set(TC(e),"true")}function kV(){Ec.clear()}function S_(t,e){Ec.set(t._key(),e)}function IC(t){return yi(t._redirectPersistence)}function TC(t){return No(CV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e,n){return OV(t,e,n)}async function OV(t,e,n){const i=Ft(t);Ol(t,e,Yr),await i._initializationPromise;const s=Yo(i,n);return await A_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function NV(t,e,n){return DV(t,e,n)}async function DV(t,e,n){const i=Re(t);Ol(i.auth,e,Yr),await i.auth._initializationPromise;const s=Yo(i.auth,n);await A_(s,i.auth);const o=await AC(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function LV(t,e,n){return MV(t,e,n)}async function MV(t,e,n){const i=Re(t);Ol(i.auth,e,Yr),await i.auth._initializationPromise;const s=Yo(i.auth,n);await Ip(!1,i,e.providerId),await A_(s,i.auth);const o=await AC(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function VV(t,e){return await Ft(t)._initializationPromise,kp(t,e,!1)}async function kp(t,e,n=!1){const i=Ft(t),s=Yo(i,e),l=await new RV(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function AC(t){const e=pd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=10*60*1e3;class SC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!CC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(BI(e))}saveEventToCache(e){this.cachedEventUids.add(BI(e)),this.lastProcessedEventTime=Date.now()}}function BI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e={}){return sn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jV=/^https?/;async function BV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RC(t);for(const n of e)try{if(HV(n))return}catch{}yn(t,"unauthorized-domain")}function HV(t){const e=Vc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!jV.test(n))return!1;if($V.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new dd(3e4,6e4);function HI(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WV(t){return new Promise((e,n)=>{var i,s,o;function l(){HI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HI(),n(Pn(t,"network-request-failed"))},timeout:qV.get()})}if(!((s=(i=Xt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Xt().gapi)===null||o===void 0)&&o.load)l();else{const c=eC("iframefcb");return Xt()[c]=()=>{gapi.load?l():n(Pn(t,"network-request-failed"))},m_(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw bf=null,e})}let bf=null;function KV(t){return bf=bf||WV(t),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new dd(5e3,15e3),GV="__/auth/iframe",YV="emulator/auth/iframe",JV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XV(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f_(e,YV):`https://${t.config.authDomain}/${GV}`,i={apiKey:e.apiKey,appName:t.name,v:zr},s=QV.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${xl(i).slice(1)}`}async function ZV(t){const e=await KV(t),n=Xt().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:XV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Pn(t,"network-request-failed"),c=Xt().setTimeout(()=>{o(l)},zV.get());function h(){Xt().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t4=500,n4=600,i4="_blank",r4="http://localhost";class qI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s4(t,e,n,i=t4,s=n4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},e4),{width:i.toString(),height:s.toString(),top:o,left:l}),f=rn().toLowerCase();n&&(c=GS(f)?i4:n),zS(f)&&(e=e||r4,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[b,I])=>`${y}${b}=${I},`,"");if(AL(f)&&c!=="_self")return o4(e||"",c),new qI(null);const v=window.open(e||"",c,p);J(v,t,"popup-blocked");try{v.focus()}catch{}return new qI(v)}function o4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="__/auth/handler",l4="emulator/auth/handler",u4=encodeURIComponent("fac");async function ty(t,e,n,i,s,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:zr,eventId:s};if(e instanceof Yr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",BN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(o||{}))l[p]=v}if(e instanceof Ll){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${u4}=${encodeURIComponent(h)}`:"";return`${c4(t)}?${xl(c).slice(1)}${f}`}function c4({config:t}){return t.emulator?f_(t,l4):`https://${t.authDomain}/${a4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="webStorageSupport";class d4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ls,this._completeRedirectFn=kp,this._overrideRedirectResult=S_}async _openPopup(e,n,i,s){var o;zi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await ty(e,n,i,Vc(),s);return s4(e,l,pd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await ty(e,n,i,Vc(),s);return KM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(zi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ZV(e),i=new SC(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wv,{type:wv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[wv];l!==void 0&&n(!!l),yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XS()||p_()||Nl()}}const PC=d4;class h4{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return fr("unexpected MultiFactorSessionType")}}}class C_ extends h4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new C_(e)}_finalizeEnroll(e,n,i){return FM(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return nV(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kC{constructor(){}static assertion(e){return C_._fromCredential(e)}}kC.FACTOR_ID="phone";var WI="@firebase/auth",KI="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function m4(t){_r(new Ki("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;J(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZS(t)},f=new OL(i,s,o,h);return UL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_r(new Ki("auth-internal",e=>{const n=Ft(e.getProvider("auth").getImmediate());return(i=>new f4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(WI,KI,p4(t)),Yn(WI,KI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=5*60,v4=TS("authIdTokenMaxAge")||g4;let zI=null;const y4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>v4)return;const s=n==null?void 0:n.token;zI!==s&&(zI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xC(t=cd()){const e=Go(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FL(t,{popupRedirectResolver:PC,persistence:[cl,Sp,Ls]}),i=TS("authTokenSyncURL");if(i){const o=y4(i);DM(n,o,()=>o(n.currentUser)),NM(n,l=>o(l))}const s=ES("auth");return s&&tC(n,`http://${s}`),n}m4("Browser");var _4="firebase",w4="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn(_4,w4,"app");var b4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,R_=R_||{},Le=b4||self;function xp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function gd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function E4(t){return Object.prototype.hasOwnProperty.call(t,bv)&&t[bv]||(t[bv]=++I4)}var bv="closure_uid_"+(1e9*Math.random()>>>0),I4=0;function T4(t,e,n){return t.call.apply(t.bind,arguments)}function A4(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Mn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=T4:Mn=A4,Mn.apply(null,arguments)}function Xh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Hs(){this.s=this.s,this.o=this.o}var S4=0;Hs.prototype.s=!1;Hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),S4!=0)&&E4(this)};Hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function P_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function GI(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(xp(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var C4=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Le.addEventListener("test",()=>{},e),Le.removeEventListener("test",()=>{},e)}catch{}return t}();function jc(t){return/^[\s\xa0]*$/.test(t)}function Op(){var t=Le.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return Op().indexOf(t)!=-1}function k_(t){return k_[" "](t),t}k_[" "]=function(){};function R4(t,e){var n=wF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var P4=dr("Opera"),dl=dr("Trident")||dr("MSIE"),NC=dr("Edge"),ny=NC||dl,DC=dr("Gecko")&&!(Op().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),k4=Op().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function LC(){var t=Le.document;return t?t.documentMode:void 0}var iy;e:{var Ev="",Iv=function(){var t=Op();if(DC)return/rv:([^\);]+)(\)|;)/.exec(t);if(NC)return/Edge\/([\d\.]+)/.exec(t);if(dl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(k4)return/WebKit\/(\S+)/.exec(t);if(P4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Iv&&(Ev=Iv?Iv[1]:""),dl){var Tv=LC();if(Tv!=null&&Tv>parseFloat(Ev)){iy=String(Tv);break e}}iy=Ev}var ry;if(Le.document&&dl){var YI=LC();ry=YI||parseInt(iy,10)||void 0}else ry=void 0;var x4=ry;function Bc(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DC){e:{try{k_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:O4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bc.$.h.call(this)}}bn(Bc,Vn);var O4={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vd="closure_listenable_"+(1e6*Math.random()|0),N4=0;function D4(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++N4,this.fa=this.ia=!1}function Np(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function x_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function L4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function MC(t){const e={};for(const n in t)e[n]=t[n];return e}const JI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VC(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<JI.length;o++)n=JI[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Dp(t){this.src=t,this.g={},this.h=0}Dp.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=oy(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new D4(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function sy(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=OC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(Np(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function oy(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var O_="closure_lm_"+(1e6*Math.random()|0),Av={};function FC(t,e,n,i,s){if(i&&i.once)return $C(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)FC(t,e[o],n,i,s);return null}return n=L_(n),t&&t[vd]?t.O(e,n,gd(i)?!!i.capture:!!i,s):UC(t,e,n,!1,i,s)}function UC(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=gd(s)?!!s.capture:!!s,c=D_(t);if(c||(t[O_]=c=new Dp(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=M4(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)C4||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(BC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function M4(){function t(n){return e.call(t.src,t.listener,n)}const e=V4;return t}function $C(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$C(t,e[o],n,i,s);return null}return n=L_(n),t&&t[vd]?t.P(e,n,gd(i)?!!i.capture:!!i,s):UC(t,e,n,!0,i,s)}function jC(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)jC(t,e[o],n,i,s);else i=gd(i)?!!i.capture:!!i,n=L_(n),t&&t[vd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=oy(o,n,i,s),-1<n&&(Np(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=D_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=oy(e,n,i,s)),(n=-1<t?e[t]:null)&&N_(n))}function N_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vd])sy(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(BC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=D_(e))?(sy(n,t),n.h==0&&(n.src=null,e[O_]=null)):Np(t)}}}function BC(t){return t in Av?Av[t]:Av[t]="on"+t}function V4(t,e){if(t.fa)t=!0;else{e=new Bc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&N_(t),t=n.call(i,e)}return t}function D_(t){return t=t[O_],t instanceof Dp?t:null}var Sv="__closure_events_fn_"+(1e9*Math.random()>>>0);function L_(t){return typeof t=="function"?t:(t[Sv]||(t[Sv]=function(e){return t.handleEvent(e)}),t[Sv])}function _n(){Hs.call(this),this.i=new Dp(this),this.S=this,this.J=null}bn(_n,Hs);_n.prototype[vd]=!0;_n.prototype.removeEventListener=function(t,e,n,i){jC(this,t,e,n,i)};function kn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var s=e;e=new Vn(i,t),VC(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=Zh(l,i,!0,e)&&s}if(l=e.g=t,s=Zh(l,i,!0,e)&&s,s=Zh(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=Zh(l,i,!1,e)&&s}_n.prototype.N=function(){if(_n.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Np(n[i]);delete t.g[e],t.h--}}this.J=null};_n.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};_n.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Zh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&sy(t.i,l),s=c.call(h,i)!==!1&&s}}return s&&!i.defaultPrevented}var M_=Le.JSON.stringify;class F4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function U4(){var t=V_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class $4{constructor(){this.h=this.g=null}add(e,n){const i=HC.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var HC=new F4(()=>new j4,t=>t.reset());class j4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function B4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function H4(t){Le.setTimeout(()=>{throw t},0)}let Hc,qc=!1,V_=new $4,qC=()=>{const t=Le.Promise.resolve(void 0);Hc=()=>{t.then(q4)}};var q4=()=>{for(var t;t=U4();){try{t.h.call(t.g)}catch(n){H4(n)}var e=HC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qc=!1};function Lp(t,e){_n.call(this),this.h=t||1,this.g=e||Le,this.j=Mn(this.qb,this),this.l=Date.now()}bn(Lp,_n);le=Lp.prototype;le.ga=!1;le.T=null;le.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kn(this,"tick"),this.ga&&(F_(this),this.start()))}};le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function F_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}le.N=function(){Lp.$.N.call(this),F_(this),delete this.g};function U_(t,e,n){if(typeof t=="function")n&&(t=Mn(t,n));else if(t&&typeof t.handleEvent=="function")t=Mn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Le.setTimeout(t,e||0)}function WC(t){t.g=U_(()=>{t.g=null,t.i&&(t.i=!1,WC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class W4 extends Hs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WC(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(t){Hs.call(this),this.h=t,this.g={}}bn(Wc,Hs);var QI=[];function KC(t,e,n,i){Array.isArray(n)||(n&&(QI[0]=n.toString()),n=QI);for(var s=0;s<n.length;s++){var o=FC(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function zC(t){x_(t.g,function(e,n){this.g.hasOwnProperty(n)&&N_(e)},t),t.g={}}Wc.prototype.N=function(){Wc.$.N.call(this),zC(this)};Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mp(){this.g=!0}Mp.prototype.Ea=function(){this.g=!1};function K4(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");l=2<=v.length&&v[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function z4(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function Ya(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Y4(t,n)+(i?" "+i:"")})}function G4(t,e){t.info(function(){return"TIMEOUT: "+e})}Mp.prototype.info=function(){};function Y4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return M_(n)}catch{return e}}var Jo={},XI=null;function Vp(){return XI=XI||new _n}Jo.Ta="serverreachability";function GC(t){Vn.call(this,Jo.Ta,t)}bn(GC,Vn);function Kc(t){const e=Vp();kn(e,new GC(e))}Jo.STAT_EVENT="statevent";function YC(t,e){Vn.call(this,Jo.STAT_EVENT,t),this.stat=e}bn(YC,Vn);function zn(t){const e=Vp();kn(e,new YC(e,t))}Jo.Ua="timingevent";function JC(t,e){Vn.call(this,Jo.Ua,t),this.size=e}bn(JC,Vn);function yd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){t()},e)}var Fp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $_(){}$_.prototype.h=null;function ZI(t){return t.h||(t.h=t.i())}function XC(){}var _d={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function j_(){Vn.call(this,"d")}bn(j_,Vn);function B_(){Vn.call(this,"c")}bn(B_,Vn);var ay;function Up(){}bn(Up,$_);Up.prototype.g=function(){return new XMLHttpRequest};Up.prototype.i=function(){return{}};ay=new Up;function wd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Wc(this),this.P=J4,t=ny?125:void 0,this.V=new Lp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZC}function ZC(){this.i=null,this.g="",this.h=!1}var J4=45e3,ly={},jf={};le=wd.prototype;le.setTimeout=function(t){this.P=t};function uy(t,e,n){t.L=1,t.v=jp(jr(e)),t.s=n,t.S=!0,eR(t,null)}function eR(t,e){t.G=Date.now(),bd(t),t.A=jr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),lR(n.i,"t",i),t.C=0,n=t.l.J,t.h=new ZC,t.g=PR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new W4(Mn(t.Pa,t,t.g),t.O)),KC(t.U,t.g,"readystatechange",t.nb),e=t.I?MC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kc(),K4(t.j,t.u,t.A,t.m,t.W,t.s)}le.nb=function(t){t=t.target;const e=this.M;e&&pr(t)==3?e.l():this.Pa(t)};le.Pa=function(t){try{if(t==this.g)e:{const p=pr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||ny||this.g&&(this.h.h||this.g.ja()||iT(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Kc(3):Kc(2)),$p(this);var n=this.g.da();this.ca=n;t:if(tR(this)){var i=iT(this.g);t="";var s=i.length,o=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),Ic(this);var l="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,z4(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jc(c)){var f=c;break t}}f=null}if(n=f)Ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,n);else{this.i=!1,this.o=3,zn(12),So(this),Ic(this);break e}}this.S?(nR(this,p,l),ny&&this.i&&p==3&&(KC(this.U,this.V,"tick",this.mb),this.V.start())):(Ya(this.j,this.m,l,null),cy(this,l)),p==4&&So(this),this.i&&!this.J&&(p==4?AR(this.l,this):(this.i=!1,bd(this)))}else vF(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,zn(12)):(this.o=0,zn(13)),So(this),Ic(this)}}}catch{}finally{}};function tR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function nR(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=Q4(t,n),s==jf){e==4&&(t.o=4,zn(14),i=!1),Ya(t.j,t.m,null,"[Incomplete Response]");break}else if(s==ly){t.o=4,zn(15),Ya(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Ya(t.j,t.m,s,null),cy(t,s);tR(t)&&s!=jf&&s!=ly&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,zn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),G_(e),e.M=!0,zn(11))):(Ya(t.j,t.m,n,"[Invalid Chunked Response]"),So(t),Ic(t))}le.mb=function(){if(this.g){var t=pr(this.g),e=this.g.ja();this.C<e.length&&($p(this),nR(this,t,e),this.i&&t!=4&&bd(this))}};function Q4(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?jf:(n=Number(e.substring(n,i)),isNaN(n)?ly:(i+=1,i+n>e.length?jf:(e=e.slice(i,i+n),t.C=i+n,e)))}le.cancel=function(){this.J=!0,So(this)};function bd(t){t.Y=Date.now()+t.P,iR(t,t.P)}function iR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yd(Mn(t.lb,t),e)}function $p(t){t.B&&(Le.clearTimeout(t.B),t.B=null)}le.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(G4(this.j,this.A),this.L!=2&&(Kc(),zn(17)),So(this),this.o=2,Ic(this)):iR(this,this.Y-t)};function Ic(t){t.l.H==0||t.J||AR(t.l,t)}function So(t){$p(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,F_(t.V),zC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dy(n.i,t))){if(!t.K&&dy(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qf(n),qp(n);else break e;z_(n),zn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=yd(Mn(n.ib,n),6e3));if(1>=dR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Co(n,11)}else if((t.K||n.g==t)&&qf(n),!jc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const b=t.g;if(b){const I=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var o=i.i;o.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(H_(o,o.h),o.h=null))}if(i.F){const _=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Tt(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=RR(i,i.J?i.pa:null,i.Y),l.K){hR(i.i,l);var c=l,h=i.L;h&&c.setTimeout(h),c.B&&($p(c),bd(c)),i.g=l}else IR(i);0<n.j.length&&Wp(n)}else f[0]!="stop"&&f[0]!="close"||Co(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Co(n,7):K_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Kc(4)}catch{}}function X4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Z4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function rR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Z4(t),i=X4(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var sR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Lo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Lo){this.h=t.h,Bf(this,t.j),this.s=t.s,this.g=t.g,Hf(this,t.m),this.l=t.l;var e=t.i,n=new zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),eT(this,n),this.o=t.o}else t&&(e=String(t).match(sR))?(this.h=!1,Bf(this,e[1]||"",!0),this.s=hc(e[2]||""),this.g=hc(e[3]||"",!0),Hf(this,e[4]),this.l=hc(e[5]||"",!0),eT(this,e[6]||"",!0),this.o=hc(e[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}Lo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fc(e,tT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fc(e,tT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fc(n,n.charAt(0)=="/"?iF:nF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fc(n,sF)),t.join("")};function jr(t){return new Lo(t)}function Bf(t,e,n){t.j=n?hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eT(t,e,n){e instanceof zc?(t.i=e,oF(t.i,t.h)):(n||(e=fc(e,rF)),t.i=new zc(e,t.h))}function Tt(t,e,n){t.i.set(e,n)}function jp(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tT=/[#\/\?@]/g,nF=/[#\?:]/g,iF=/[#\?]/g,rF=/[#\?@]/g,sF=/#/g;function zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qs(t){t.g||(t.g=new Map,t.h=0,t.i&&eF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}le=zc.prototype;le.add=function(t,e){qs(this),this.i=null,t=Ml(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oR(t,e){qs(t),e=Ml(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aR(t,e){return qs(t),e=Ml(t,e),t.g.has(e)}le.forEach=function(t,e){qs(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};le.ta=function(){qs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};le.Z=function(t){qs(this);let e=[];if(typeof t=="string")aR(this,t)&&(e=e.concat(this.g.get(Ml(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};le.set=function(t,e){return qs(this),this.i=null,t=Ml(this,t),aR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};le.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lR(t,e,n){oR(t,e),0<n.length&&(t.i=null,t.g.set(Ml(t,e),P_(n)),t.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Ml(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oF(t,e){e&&!t.j&&(qs(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(oR(this,i),lR(this,s,n))},t)),t.j=e}var aF=class{constructor(t,e){this.g=t,this.map=e}};function uR(t){this.l=t||lF,Le.PerformanceNavigationTiming?(t=Le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lF=10;function cR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dR(t){return t.h?1:t.g?t.g.size:0}function dy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function H_(t,e){t.g?t.g.add(e):t.h=e}function hR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}uR.prototype.cancel=function(){if(this.i=fR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return P_(t.i)}var uF=class{stringify(t){return Le.JSON.stringify(t,void 0)}parse(t){return Le.JSON.parse(t,void 0)}};function cF(){this.g=new uF}function dF(t,e,n){const i=n||"";try{rR(t,function(s,o){let l=s;gd(s)&&(l=M_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function hF(t,e){const n=new Mp;if(Le.Image){const i=new Image;i.onload=Xh(ef,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Xh(ef,n,i,"TestLoadImage: error",!1,e),i.onabort=Xh(ef,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Xh(ef,n,i,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function ef(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Ed(t){this.l=t.ec||null,this.j=t.ob||!1}bn(Ed,$_);Ed.prototype.g=function(){return new Bp(this.l,this.j)};Ed.prototype.i=function(t){return function(){return t}}({});function Bp(t,e){_n.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=q_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn(Bp,_n);var q_=0;le=Bp.prototype;le.open=function(t,e){if(this.readyState!=q_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gc(this)};le.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Id(this)),this.readyState=q_};le.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}le.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Id(this):Gc(this),this.readyState==3&&pR(this)}};le.Za=function(t){this.g&&(this.response=this.responseText=t,Id(this))};le.Ya=function(t){this.g&&(this.response=t,Id(this))};le.ka=function(){this.g&&Id(this)};function Id(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gc(t)}le.setRequestHeader=function(t,e){this.v.append(t,e)};le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fF=Le.JSON.parse;function Ut(t){_n.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mR,this.L=this.M=!1}bn(Ut,_n);var mR="",pF=/^https?$/i,mF=["POST","PUT"];le=Ut.prototype;le.Oa=function(t){this.M=t};le.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ay.g(),this.C=this.u?ZI(this.u):ZI(ay),this.g.onreadystatechange=Mn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){nT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Le.FormData&&t instanceof Le.FormData,!(0<=OC(mF,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yR(this),0<this.B&&((this.L=gF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.ua,this)):this.A=U_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){nT(this,o)}};function gF(t){return dl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}le.ua=function(){typeof R_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))};function nT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gR(t),Hp(t)}function gR(t){t.F||(t.F=!0,kn(t,"complete"),kn(t,"error"))}le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kn(this,"complete"),kn(this,"abort"),Hp(this))};le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),Ut.$.N.call(this)};le.La=function(){this.s||(this.G||this.v||this.l?vR(this):this.kb())};le.kb=function(){vR(this)};function vR(t){if(t.h&&typeof R_<"u"&&(!t.C[1]||pr(t)!=4||t.da()!=2)){if(t.v&&pr(t)==4)U_(t.La,0,t);else if(kn(t,"readystatechange"),pr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(sR)[1]||null;!s&&Le.self&&Le.self.location&&(s=Le.self.location.protocol.slice(0,-1)),i=!pF.test(s?s.toLowerCase():"")}n=i}if(n)kn(t,"complete"),kn(t,"success");else{t.m=6;try{var o=2<pr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",gR(t)}}finally{Hp(t)}}}}function Hp(t,e){if(t.g){yR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||kn(t,"ready");try{n.onreadystatechange=i}catch{}}}function yR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Le.clearTimeout(t.A),t.A=null)}le.isActive=function(){return!!this.g};function pr(t){return t.g?t.g.readyState:0}le.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fF(e)}};function iT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vF(t){const e={};t=(t.g&&2<=pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(jc(t[i]))continue;var n=B4(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}L4(e,function(i){return i.join(", ")})}le.Ia=function(){return this.m};le.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _R(t){let e="";return x_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function W_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=_R(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function ec(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wR(t){this.Ga=0,this.j=[],this.l=new Mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,t),this.hb=ec("retryDelaySeedMs",1e4,t),this.eb=ec("forwardChannelMaxRetries",2,t),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new uR(t&&t.concurrentRequestLimit),this.Ja=new cF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}le=wR.prototype;le.ra=8;le.H=1;function K_(t){if(bR(t),t.H==3){var e=t.W++,n=jr(t.I);if(Tt(n,"SID",t.K),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),Td(t,n),e=new wd(t,t.l,e),e.L=2,e.v=jp(jr(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon)try{n=Le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Le.Image&&(new Image().src=e.v,n=!0),n||(e.g=PR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bd(e)}CR(t)}function qp(t){t.g&&(G_(t),t.g.cancel(),t.g=null)}function bR(t){qp(t),t.u&&(Le.clearTimeout(t.u),t.u=null),qf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Le.clearTimeout(t.m),t.m=null)}function Wp(t){if(!cR(t.i)&&!t.m){t.m=!0;var e=t.Na;Hc||qC(),qc||(Hc(),qc=!0),V_.add(e,t),t.C=0}}function yF(t,e){return dR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=yd(Mn(t.Na,t,e),SR(t,t.C)),t.C++,!0)}le.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new wd(this,this.l,t);let o=this.s;if(this.U&&(o?(o=MC(o),VC(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ER(this,s,e),n=jr(this.I),Tt(n,"RID",t),Tt(n,"CVER",22),this.F&&Tt(n,"X-HTTP-Session-Id",this.F),Td(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_R(o)))+"&"+e:this.o&&W_(n,this.o,o)),H_(this.i,s),this.bb&&Tt(n,"TYPE","init"),this.P?(Tt(n,"$req",e),Tt(n,"SID","null"),s.aa=!0,uy(s,n,null)):uy(s,n,e),this.H=2}}else this.H==3&&(t?rT(this,t):this.j.length==0||cR(this.i)||rT(this))};function rT(t,e){var n;e?n=e.m:n=t.W++;const i=jr(t.I);Tt(i,"SID",t.K),Tt(i,"RID",n),Tt(i,"AID",t.V),Td(t,i),t.o&&t.s&&W_(i,t.o,t.s),n=new wd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ER(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),H_(t.i,n),uy(n,i,e)}function Td(t,e){t.na&&x_(t.na,function(n,i){Tt(e,i,n)}),t.h&&rR({},function(n,i){Tt(e,i,n)})}function ER(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Mn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=s[h].g;const p=s[h].map;if(f-=o,0>f)o=Math.max(0,s[h].g-100),c=!1;else try{dF(p,l,"req"+f+"_")}catch{i&&i(p)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function IR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hc||qC(),qc||(Hc(),qc=!0),V_.add(e,t),t.A=0}}function z_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=yd(Mn(t.Ma,t),SR(t,t.A)),t.A++,!0)}le.Ma=function(){if(this.u=null,TR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=yd(Mn(this.jb,this),t)}};le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zn(10),qp(this),TR(this))};function G_(t){t.B!=null&&(Le.clearTimeout(t.B),t.B=null)}function TR(t){t.g=new wd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jr(t.wa);Tt(e,"RID","rpc"),Tt(e,"SID",t.K),Tt(e,"AID",t.V),Tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Tt(e,"TO",t.qa),Tt(e,"TYPE","xmlhttp"),Td(t,e),t.o&&t.s&&W_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=jp(jr(e)),n.s=null,n.S=!0,eR(n,t)}le.ib=function(){this.v!=null&&(this.v=null,qp(this),z_(this),zn(19))};function qf(t){t.v!=null&&(Le.clearTimeout(t.v),t.v=null)}function AR(t,e){var n=null;if(t.g==e){qf(t),G_(t),t.g=null;var i=2}else if(dy(t.i,e))n=e.F,hR(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Vp(),kn(i,new JC(i,n)),Wp(t)}else IR(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&yF(t,e)||i==2&&z_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Co(t,5);break;case 4:Co(t,10);break;case 3:Co(t,6);break;default:Co(t,2)}}}function SR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Co(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Mn(t.pb,t);n||(n=new Lo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Bf(n,"https"),jp(n)),hF(n.toString(),i)}else zn(2);t.H=0,t.h&&t.h.za(e),CR(t),bR(t)}le.pb=function(t){t?(this.l.info("Successfully pinged google.com"),zn(2)):(this.l.info("Failed to ping google.com"),zn(1))};function CR(t){if(t.H=0,t.ma=[],t.h){const e=fR(t.i);(e.length!=0||t.j.length!=0)&&(GI(t.ma,e),GI(t.ma,t.j),t.i.i.length=0,P_(t.j),t.j.length=0),t.h.ya()}}function RR(t,e,n){var i=n instanceof Lo?jr(n):new Lo(n);if(i.g!="")e&&(i.g=e+"."+i.g),Hf(i,i.m);else{var s=Le.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Lo(null);i&&Bf(o,i),e&&(o.g=e),s&&Hf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Tt(i,n,e),Tt(i,"VER",t.ra),Td(t,i),i}function PR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ut(new Ed({ob:!0})):new Ut(t.va),e.Oa(t.J),e}le.isActive=function(){return!!this.h&&this.h.isActive(this)};function kR(){}le=kR.prototype;le.Ba=function(){};le.Aa=function(){};le.za=function(){};le.ya=function(){};le.isActive=function(){return!0};le.Va=function(){};function Wf(){if(dl&&!(10<=Number(x4)))throw Error("Environmental error: no available transport.")}Wf.prototype.g=function(t,e){return new bi(t,e)};function bi(t,e){_n.call(this),this.g=new wR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vl(this)}bn(bi,_n);bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;zn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RR(t,null,t.Y),Wp(t)};bi.prototype.close=function(){K_(this.g)};bi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=M_(t),t=n);e.j.push(new aF(e.fb++,t)),e.H==3&&Wp(e)};bi.prototype.N=function(){this.g.h=null,delete this.j,K_(this.g),delete this.g,bi.$.N.call(this)};function xR(t){j_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}bn(xR,j_);function OR(){B_.call(this),this.status=1}bn(OR,B_);function Vl(t){this.g=t}bn(Vl,kR);Vl.prototype.Ba=function(){kn(this.g,"a")};Vl.prototype.Aa=function(t){kn(this.g,new xR(t))};Vl.prototype.za=function(t){kn(this.g,new OR)};Vl.prototype.ya=function(){kn(this.g,"b")};function _F(){this.blockSize=-1}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}bn(Gi,_F);Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Cv(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Gi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)Cv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){Cv(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){Cv(this,i),s=0;break}}this.h=s,this.i+=e};Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function vt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var wF={};function Y_(t){return-128<=t&&128>t?R4(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return Za;if(0>t)return Tn(mr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=hy;return new vt(e,0)}function NR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tn(NR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),i=Za,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=mr(Math.pow(e,o)),i=i.R(o).add(mr(l))):(i=i.R(n),i=i.add(mr(l)))}return i}var hy=4294967296,Za=Y_(0),fy=Y_(1),sT=Y_(16777216);le=vt.prototype;le.ea=function(){if(Ci(this))return-Tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:hy+i)*e,e*=hy}return t};le.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Nr(this))return"0";if(Ci(this))return"-"+Tn(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,i="";;){var s=zf(n,e).g;n=Kf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Nr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};le.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Nr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ci(t){return t.h==-1}le.X=function(t){return t=Kf(this,t),Ci(t)?-1:Nr(t)?0:1};function Tn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new vt(n,~t.h).add(fy)}le.abs=function(){return Ci(this)?Tn(this):this};le.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function Kf(t,e){return t.add(Tn(e))}le.R=function(t){if(Nr(this)||Nr(t))return Za;if(Ci(this))return Ci(t)?Tn(this).R(Tn(t)):Tn(Tn(this).R(t));if(Ci(t))return Tn(this.R(Tn(t)));if(0>this.X(sT)&&0>t.X(sT))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,h=t.D(s)&65535;n[2*i+2*s]+=l*h,tf(n,2*i+2*s),n[2*i+2*s+1]+=o*h,tf(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,tf(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,tf(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new vt(n,0)};function tf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tc(t,e){this.g=t,this.h=e}function zf(t,e){if(Nr(e))throw Error("division by zero");if(Nr(t))return new tc(Za,Za);if(Ci(t))return e=zf(Tn(t),e),new tc(Tn(e.g),Tn(e.h));if(Ci(e))return e=zf(t,Tn(e)),new tc(Tn(e.g),e.h);if(30<t.g.length){if(Ci(t)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fy,i=e;0>=i.X(t);)n=oT(n),i=oT(i);var s=ja(n,1),o=ja(i,1);for(i=ja(i,2),n=ja(n,2);!Nr(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=ja(i,1),n=ja(n,1)}return e=Kf(t,s.R(e)),new tc(s,e)}for(s=Za;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=mr(n),l=o.R(e);Ci(l)||0<l.X(t);)n-=i,o=mr(n),l=o.R(e);Nr(o)&&(o=fy),s=s.add(o),t=Kf(t,l)}return new tc(s,t)}le.gb=function(t){return zf(this,t).h};le.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new vt(n,this.h&t.h)};le.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new vt(n,this.h|t.h)};le.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new vt(n,this.h^t.h)};function oT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new vt(n,t.h)}function ja(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new vt(s,t.h)}Wf.prototype.createWebChannel=Wf.prototype.g;bi.prototype.send=bi.prototype.u;bi.prototype.open=bi.prototype.m;bi.prototype.close=bi.prototype.close;Fp.NO_ERROR=0;Fp.TIMEOUT=8;Fp.HTTP_ERROR=6;QC.COMPLETE="complete";XC.EventType=_d;_d.OPEN="a";_d.CLOSE="b";_d.ERROR="c";_d.MESSAGE="d";_n.prototype.listen=_n.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;Gi.prototype.digest=Gi.prototype.l;Gi.prototype.reset=Gi.prototype.reset;Gi.prototype.update=Gi.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=mr;vt.fromString=NR;var bF=function(){return new Wf},EF=function(){return Vp()},Rv=Fp,IF=QC,TF=Jo,aT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AF=Ed,nf=XC,SF=Ut,CF=Gi,el=vt;const lT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new vp("@firebase/firestore");function nc(){return jo.logLevel}function ge(t,...e){if(jo.logLevel<=Ke.DEBUG){const n=e.map(J_);jo.debug(`Firestore (${Fl}): ${t}`,...n)}}function Br(t,...e){if(jo.logLevel<=Ke.ERROR){const n=e.map(J_);jo.error(`Firestore (${Fl}): ${t}`,...n)}}function hl(t,...e){if(jo.logLevel<=Ke.WARN){const n=e.map(J_);jo.warn(`Firestore (${Fl}): ${t}`,...n)}}function J_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(t="Unexpected state"){const e=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: `+t;throw Br(e),new Error(e)}function At(t,e){t||De()}function $e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class PF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kF{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string"),new DR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Nn(e)}}class xF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new xF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new NF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=LF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function at(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new nn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new nn(0,0))}static max(){return new Me(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,i){n===void 0?n=0:n>e.length&&De(),i===void 0?i=e.length-n:i>e.length-n&&De(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Yc{construct(e,n,i){return new Et(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const MF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Yc{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return MF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Et.fromString(e))}static fromName(e){return new Ie(Et.fromString(e).popFirst(5))}static empty(){return new Ie(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Et(e.slice()))}}function VF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(i===1e9?new nn(n+1,0):new nn(n,i));return new Ms(s,Ie.empty(),e)}function FF(t){return new Ms(t.readTime,t.key,-1)}class Ms{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ms(Me.min(),Ie.empty(),-1)}static max(){return new Ms(Me.max(),Ie.empty(),-1)}}function UF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==$F)throw t;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,i)=>{n(e)})}static reject(e){return new K((n,i)=>{i(e)})}static waitFor(e){return new K((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},h=>i(h))}),l=!0,o===s&&n()})}static or(e){let n=K.resolve(!1);for(const i of e)n=n.next(s=>s?K.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new K((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++c,c===o&&i(l)},p=>s(p))}})}static doWhile(e,n){return new K((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function Sd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Q_._e=-1;function Kp(t){return t==null}function Gf(t){return t===0&&1/t==-1/0}function BF(t){return typeof t=="number"&&Number.isInteger(t)&&!Gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??In.RED,this.left=s??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new In(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw De();const e=this.left.check();if(e!==this.right.check())throw De();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw De()}get value(){throw De()}get color(){throw De()}get left(){throw De()}get right(){throw De()}copy(e,n,i,s,o){return this}insert(e,n,i){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(e){return new cT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class cT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new _i([])}unionWith(e){let n=new xn(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VR("Invalid base64 string: "+o):o}}(e);return new Un(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const HF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(At(!!t),typeof t=="string"){let e=0;const n=HF.exec(t);if(At(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function X_(t){const e=t.mapValue.fields.__previous_value__;return zp(e)?X_(e):e}function Jc(t){const e=Vs(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,i,s,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zp(t)?4:WF(t)?9007199254740991:10:De()}function br(t,e){if(t===e)return!0;const n=Ho(t);if(n!==Ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Vs(s.timestampValue),c=Vs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Bo(s.bytesValue).isEqual(Bo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Zt(s.geoPointValue.latitude)===Zt(o.geoPointValue.latitude)&&Zt(s.geoPointValue.longitude)===Zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Zt(s.integerValue)===Zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Zt(s.doubleValue),c=Zt(o.doubleValue);return l===c?Gf(l)===Gf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(uT(l)!==uT(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!br(l[h],c[h])))return!1;return!0}(t,e);default:return De()}}function Xc(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=Ho(t),i=Ho(e);if(n!==i)return at(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Zt(o.integerValue||o.doubleValue),h=Zt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return dT(t.timestampValue,e.timestampValue);case 4:return dT(Jc(t),Jc(e));case 5:return at(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Bo(o),h=Bo(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=at(c[f],h[f]);if(p!==0)return p}return at(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=at(Zt(o.latitude),Zt(l.latitude));return c!==0?c:at(Zt(o.longitude),Zt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],h=l.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=pl(c[f],h[f]);if(p)return p}return at(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===sf.mapValue&&l===sf.mapValue)return 0;if(o===sf.mapValue)return 1;if(l===sf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const y=at(h[v],p[v]);if(y!==0)return y;const b=pl(c[h[v]],f[p[v]]);if(b!==0)return b}return at(h.length,p.length)}(t.mapValue,e.mapValue);default:throw De()}}function dT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Vs(t),i=Vs(e),s=at(n.seconds,i.seconds);return s!==0?s:at(n.nanos,i.nanos)}function ml(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Vs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=py(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${py(n.fields[l])}`;return s+"}"}(t.mapValue):De()}function Yf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function my(t){return!!t&&"integerValue"in t}function Z_(t){return!!t&&"arrayValue"in t}function hT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ef(t){return!!t&&"mapValue"in t}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Tc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Sn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Tc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Qo(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new ri(Tc(this.value))}}function FR(t){const e=[];return Qo(t.fields,(n,i)=>{const s=new Sn([n]);if(Ef(i)){const o=FR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,Me.min(),Me.min(),Me.min(),ri.empty(),0)}static newFoundDocument(e,n,i,s){return new Dn(e,1,n,Me.min(),i,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,Me.min(),Me.min(),ri.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Me.min(),Me.min(),ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.position=e,this.inclusive=n}}function pT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=Ie.comparator(Ie.fromName(l.referenceValue),n.key):i=pl(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function mT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function KF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{}class tn extends UR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new GF(e,n,i):n==="array-contains"?new QF(e,i):n==="in"?new XF(e,i):n==="not-in"?new ZF(e,i):n==="array-contains-any"?new eU(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new YF(e,i):new JF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pl(n,this.value)):n!==null&&Ho(this.value)===Ho(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends UR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Yi(e,n)}matches(e){return $R(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $R(t){return t.op==="and"}function jR(t){return zF(t)&&$R(t)}function zF(t){for(const e of t.filters)if(e instanceof Yi)return!1;return!0}function gy(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(jR(t))return t.filters.map(e=>gy(e)).join(",");{const e=t.filters.map(n=>gy(n)).join(",");return`${t.op}(${e})`}}function BR(t,e){return t instanceof tn?function(i,s){return s instanceof tn&&i.op===s.op&&i.field.isEqual(s.field)&&br(i.value,s.value)}(t,e):t instanceof Yi?function(i,s){return s instanceof Yi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&BR(l,s.filters[c]),!0):!1}(t,e):void De()}function HR(t){return t instanceof tn?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof Yi?function(n){return n.op.toString()+" {"+n.getFilters().map(HR).join(" ,")+"}"}(t):"Filter"}class GF extends tn{constructor(e,n,i){super(e,n,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class YF extends tn{constructor(e,n){super(e,"in",n),this.keys=qR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JF extends tn{constructor(e,n){super(e,"not-in",n),this.keys=qR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class QF extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Z_(n)&&Xc(n.arrayValue,this.value)}}class XF extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class ZF extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class eU extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function gT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new tU(t,e,n,i,s,o,l)}function e0(t){const e=$e(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>gy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ml(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ml(i)).join(",")),e.ce=n}return e.ce}function t0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mT(t.startAt,e.startAt)&&mT(t.endAt,e.endAt)}function vy(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function nU(t,e,n,i,s,o,l,c){return new Ws(t,e,n,i,s,o,l,c)}function Gp(t){return new Ws(t)}function vT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n0(t){return t.collectionGroup!==null}function tl(t){const e=$e(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new xn(Sn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Zc(o,i))}),n.has(Sn.keyField().canonicalString())||e.le.push(new Zc(Sn.keyField(),i))}return e.le}function vr(t){const e=$e(t);return e.he||(e.he=iU(e,tl(t))),e.he}function iU(t,e){if(t.limitType==="F")return gT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Zc(s.field,o)});const n=t.endAt?new gl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gl(t.startAt.position,t.startAt.inclusive):null;return gT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function yy(t,e){const n=t.filters.concat([e]);return new Ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jf(t,e,n){return new Ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return t0(vr(t),vr(e))&&t.limitType===e.limitType}function WR(t){return`${e0(vr(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>HR(s)).join(", ")}]`),Kp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ml(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ml(s)).join(",")),`Target(${i})`}(vr(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ie.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of tl(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=pT(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,tl(i),s)||i.endAt&&!function(l,c,h){const f=pT(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,tl(i),s))}(t,e)}function rU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KR(t){return(e,n)=>{let i=!1;for(const s of tl(t)){const o=sU(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function sU(t,e,n){const i=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?pl(h,f):De()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return De()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return MR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Ot(Ie.comparator);function Hr(){return oU}const zR=new Ot(Ie.comparator);function pc(...t){let e=zR;for(const n of t)e=e.insert(n.key,n);return e}function GR(t){let e=zR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ro(){return Ac()}function YR(){return Ac()}function Ac(){return new Ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const aU=new Ot(Ie.comparator),lU=new xn(Ie.comparator);function ze(...t){let e=lU;for(const n of t)e=e.add(n);return e}const uU=new xn(at);function cU(){return uU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function QR(t){return{integerValue:""+t}}function dU(t,e){return BF(e)?QR(e):JR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function hU(t,e,n){return t instanceof Qf?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&zp(o)&&(o=X_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof vl?ZR(t,e):t instanceof yl?eP(t,e):function(s,o){const l=XR(s,o),c=yT(l)+yT(s.Ie);return my(l)&&my(s.Ie)?QR(c):JR(s.serializer,c)}(t,e)}function fU(t,e,n){return t instanceof vl?ZR(t,e):t instanceof yl?eP(t,e):n}function XR(t,e){return t instanceof Xf?function(i){return my(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Qf extends Qp{}class vl extends Qp{constructor(e){super(),this.elements=e}}function ZR(t,e){const n=tP(e);for(const i of t.elements)n.some(s=>br(s,i))||n.push(i);return{arrayValue:{values:n}}}class yl extends Qp{constructor(e){super(),this.elements=e}}function eP(t,e){let n=tP(e);for(const i of t.elements)n=n.filter(s=>!br(s,i));return{arrayValue:{values:n}}}class Xf extends Qp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yT(t){return Zt(t.integerValue||t.doubleValue)}function tP(t){return Z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.field=e,this.transform=n}}function pU(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof vl&&s instanceof vl||i instanceof yl&&s instanceof yl?fl(i.elements,s.elements,br):i instanceof Xf&&s instanceof Xf?br(i.Ie,s.Ie):i instanceof Qf&&s instanceof Qf}(t.transform,e.transform)}class mU{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function If(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function iP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i0(t.key,ki.none()):new Cd(t.key,t.data,ki.none());{const n=t.data,i=ri.empty();let s=new xn(Sn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Ks(t.key,i,new _i(s.toArray()),ki.none())}}function gU(t,e,n){t instanceof Cd?function(s,o,l){const c=s.value.clone(),h=wT(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(s,o,l){if(!If(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=wT(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(rP(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,i){return t instanceof Cd?function(o,l,c,h){if(!If(o.precondition,l))return c;const f=o.value.clone(),p=bT(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ks?function(o,l,c,h){if(!If(o.precondition,l))return c;const f=bT(o.fieldTransforms,h,l),p=l.data;return p.setAll(rP(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return If(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function vU(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=XR(i.transform,s||null);o!=null&&(n===null&&(n=ri.empty()),n.set(i.field,o))}return n||null}function _T(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&fl(i,s,(o,l)=>pU(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cd extends Xp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ks extends Xp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function wT(t,e,n){const i=new Map;At(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,fU(l,c,n[s]))}return i}function bT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,hU(o,l,e))}return i}class i0 extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yU extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&gU(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=YR();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const h=iP(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,i)=>_T(n,i))&&fl(this.baseMutations,e.baseMutations,(n,i)=>_T(n,i))}}class r0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){At(e.mutations.length===i.length);let s=function(){return aU}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new r0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Qe;function EU(t){switch(t){default:return De();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function sP(t){if(t===void 0)return Br("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qt.OK:return $.OK;case Qt.CANCELLED:return $.CANCELLED;case Qt.UNKNOWN:return $.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return $.INTERNAL;case Qt.UNAVAILABLE:return $.UNAVAILABLE;case Qt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qt.NOT_FOUND:return $.NOT_FOUND;case Qt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qt.ABORTED:return $.ABORTED;case Qt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qt.DATA_LOSS:return $.DATA_LOSS;default:return De()}}(Qe=Qt||(Qt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new el([4294967295,4294967295],0);function ET(t){const e=IU().encode(t),n=new CF;return n.update(e),new Uint8Array(n.digest())}function IT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new el([n,i],0),new el([s,o],0)]}class s0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(i<0)throw new mc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=el.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(el.fromNumber(i)));return s.compare(TU)===1&&(s=new el([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ET(e),[i,s]=IT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new s0(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=ET(e),[i,s]=IT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zp(Me.min(),s,new Ot(at),Hr(),ze())}}class Rd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Rd(i,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class oP{constructor(e,n){this.targetId=e,this.fe=n}}class aP{constructor(e,n,i=Un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class TT{constructor(){this.ge=0,this.pe=ST(),this.ye=Un.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ze(),n=ze(),i=ze();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:De()}}),new Rd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=ST()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class AU{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hr(),this.Qe=AT(),this.Ke=new Ot(at)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:De()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(vy(o))if(i===0){const l=new Ie(o.path);this.We(n,l,Dn.newNoDocument(l,Me.min()))}else At(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Bo(i).toUint8Array()}catch(h){if(h instanceof VR)return hl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new s0(l,s,o)}catch(h){return hl(h instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&vy(c.target)){const h=new Ie(c.target.path);this.qe.get(h)!==null||this.st(l,h)||this.We(l,h,Dn.newNoDocument(h,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=ze();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new Zp(e,n,this.Ke,this.qe,i);return this.qe=Hr(),this.Qe=AT(),this.Ke=new Ot(at),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new TT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xn(at),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new TT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AT(){return new Ot(Ie.comparator)}function ST(){return new Ot(Ie.comparator)}const SU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),CU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RU=(()=>({and:"AND",or:"OR"}))();class PU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _y(t,e){return t.useProto3Json||Kp(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kU(t,e){return Zf(t,e.toTimestamp())}function yr(t){return At(!!t),Me.fromTimestamp(function(n){const i=Vs(n);return new nn(i.seconds,i.nanos)}(t))}function o0(t,e){return function(i){return new Et(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function uP(t){const e=Et.fromString(t);return At(fP(e)),e}function wy(t,e){return o0(t.databaseId,e.path)}function Pv(t,e){const n=uP(e);if(n.get(1)!==t.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(cP(n))}function by(t,e){return o0(t.databaseId,e)}function xU(t){const e=uP(t);return e.length===4?Et.emptyPath():cP(e)}function Ey(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cP(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CT(t,e,n){return{name:wy(t,e),fields:n.value.mapValue.fields}}function OU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(At(p===void 0||typeof p=="string"),Un.fromBase64String(p||"")):(At(p===void 0||p instanceof Uint8Array),Un.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?$.UNKNOWN:sP(f.code);return new ae(p,f.message||"")}(l);n=new aP(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Pv(t,i.document.name),o=yr(i.document.updateTime),l=i.document.createTime?yr(i.document.createTime):Me.min(),c=new ri({mapValue:{fields:i.document.fields}}),h=Dn.newFoundDocument(s,o,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new Tf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Pv(t,i.document),o=i.readTime?yr(i.readTime):Me.min(),l=Dn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new Tf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Pv(t,i.document),o=i.removedTargetIds||[];n=new Tf([],o,s,null)}else{if(!("filter"in e))return De();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new bU(s,o),c=i.targetId;n=new oP(c,l)}}return n}function NU(t,e){let n;if(e instanceof Cd)n={update:CT(t,e.key,e.value)};else if(e instanceof i0)n={delete:wy(t,e.key)};else if(e instanceof Ks)n={update:CT(t,e.key,e.data),updateMask:BU(e.fieldMask)};else{if(!(e instanceof yU))return De();n={verify:wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Qf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw De()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:kU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De()}(t,e.precondition)),n}function DU(t,e){return t&&t.length>0?(At(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?yr(s.updateTime):yr(o);return l.isEqual(Me.min())&&(l=yr(o)),new mU(l,s.transformResults||[])}(n,e))):[]}function LU(t,e){return{documents:[by(t,e.path)]}}function MU(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=by(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=by(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(h.length!==0)return hP(Yi.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:Wa(v.field),direction:UU(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=_y(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function VU(t){let e=xU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){At(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const y=dP(v);return y instanceof Yi&&jR(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(y=>function(I){return new Zc(Ka(I.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,Kp(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(v){const y=!!v.before,b=v.values||[];return new gl(b,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const y=!v.before,b=v.values||[];return new gl(b,y)}(n.endAt)),nU(e,s,l,o,c,"F",h,f)}function FU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ka(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ka(n.unaryFilter.field);return tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ka(n.unaryFilter.field);return tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ka(n.unaryFilter.field);return tn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return De()}}(t):t.fieldFilter!==void 0?function(n){return tn.create(Ka(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return De()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yi.create(n.compositeFilter.filters.map(i=>dP(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De()}}(n.compositeFilter.op))}(t):De()}function UU(t){return SU[t]}function $U(t){return CU[t]}function jU(t){return RU[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Sn.fromServerFormat(t.fieldPath)}function hP(t){return t instanceof tn?function(n){if(n.op==="=="){if(fT(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(hT(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fT(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(hT(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:$U(n.op),value:n.value}}}(t):t instanceof Yi?function(n){const i=n.getFilters().map(s=>hP(s));return i.length===1?i[0]:{compositeFilter:{op:jU(n.op),filters:i}}}(t):De()}function BU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,i,s,o=Me.min(),l=Me.min(),c=Un.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.ut=e}}function qU(t){const e=VU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.on=new KU}addToCollectionParentIndex(e,n){return this.on.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Ms.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class KU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new xn(Et.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new xn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new _l(0)}static Nn(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.changes=new Ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Sc(i.mutation,s,_i.empty(),nn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ze()){const s=Ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=pc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ze()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=Hr();const l=Ac(),c=function(){return Ac()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Ks)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Sc(p.mutation,f,p.mutation.getFieldMask(),nn.now())):l.set(f.key,_i.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var v;return c.set(f,new GU(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Ac();let s=new Ot((l,c)=>l-c),o=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||_i.empty();p=c.applyToLocalView(f,p),i.set(h,p);const v=(s.get(c.batchId)||ze()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,v=YR();p.forEach(y=>{if(!o.has(y)){const b=iP(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return K.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):K.resolve(Ro());let c=-1,h=o;return l.next(f=>K.forEach(f,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?K.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,ze())).next(p=>({batchId:c,changes:GR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(i=>{let s=pc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=pc();return this.indexManager.getCollectionParents(e,o).next(c=>K.forEach(c,h=>{const f=function(v,y){return new Ws(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Dn.newInvalidDocument(p)))});let c=pc();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&Sc(p.mutation,f,_i.empty(),nn.now()),Jp(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return K.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yr(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:qU(s.bundledQuery),readTime:yr(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.overlays=new Ot(Ie.comparator),this.lr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ro();return K.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){const s=Ro(),o=n.length+1,l=new Ie(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Ot((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Ro(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Ro(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return K.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new wU(n,i));let o=this.lr.get(n);o===void 0&&(o=ze(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.hr=new xn(mn.Pr),this.Ir=new xn(mn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new mn(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new mn(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Ie(new Et([])),i=new mn(n,e),s=new mn(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ie(new Et([])),i=new mn(n,e),s=new mn(n,e+1);let o=ze();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new mn(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ie.comparator(e.key,n.key)||at(e.gr,n.gr)}static Tr(e,n){return at(e.gr,n.gr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new xn(mn.Pr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _U(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,n){return K.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new xn(at);return n.forEach(s=>{const o=new mn(s,0),l=new mn(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),K.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ie.isDocumentKey(o)||(o=o.child(""));const l=new mn(new Ie(o),0);let c=new xn(at);return this.yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.gr)),!0)},l),K.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){At(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return K.forEach(n.mutations,s=>{const o=new mn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new mn(n,0),s=this.yr.firstAfterOrEqual(i);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.Cr=e,this.docs=function(){return new Ot(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=Hr();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Hr();const l=n.path,c=new Ie(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||UF(FF(p),i)<=0||(s.has(p.key)||Jp(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,s){De()}vr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new e3(this)}getSize(e){return K.resolve(this.size)}}class e3 extends zU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.persistence=e,this.Fr=new Ul(n=>e0(n),t0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new a0,this.targetCount=0,this.Nr=_l.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),K.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.kn(n),K.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),K.waitFor(o).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Q_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new t3(this),this.indexManager=new WU,this.remoteDocumentCache=function(s){return new ZU(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new HU(n),this.Kr=new JU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new XU(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){ge("MemoryPersistence","Starting transaction:",e);const s=new i3(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return K.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class i3 extends jF{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.Gr=new a0,this.zr=null}static jr(e){return new l0(e)}get Hr(){if(this.zr)return this.zr;throw De()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Hr,i=>{const s=Ie.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Me.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return K.or([()=>K.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=ze(),s=ze();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new u0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new r3;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(nc()<=Ke.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),K.resolve()):(nc()<=Ke.DEBUG&&ge("QueryEngine","Query:",qa(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(nc()<=Ke.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):K.resolve())}zi(e,n){if(vT(n))return K.resolve(null);let i=vr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Jf(n,null,"F"),i=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=ze(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Yi(n,c);return this.Zi(n,f,l,h.readTime)?this.zi(e,Jf(n,null,"F")):this.Xi(e,f,n,h)}))})))}ji(e,n,i,s){return vT(n)||s.isEqual(Me.min())?K.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?K.resolve(null):(nc()<=Ke.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qa(n)),this.Xi(e,l,n,VF(s,-1)).next(c=>c))})}Yi(e,n){let i=new xn(KR(e));return n.forEach((s,o)=>{Jp(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return nc()<=Ke.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",qa(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ms.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ot(at),this.ns=new Ul(o=>e0(o),t0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function a3(t,e,n,i){return new o3(t,e,n,i)}async function pP(t,e){const n=$e(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=ze();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function l3(t,e){const n=$e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const v=f.batch,y=v.keys();let b=K.resolve();return y.forEach(I=>{b=b.next(()=>p.getEntry(h,I)).next(_=>{const E=f.docVersions.get(I);At(E!==null),_.version.compareTo(E)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=ze();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function mP(t){const e=$e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function u3(t,e){const n=$e(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((p,v)=>{const y=s.get(v);if(!y)return;c.push(n.qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,p.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Un.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(v,b),function(_,E,T){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,b,p)&&c.push(n.qr.updateTargetData(o,b))});let h=Hr(),f=ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(c3(o,l,e.documentUpdates).next(p=>{h=p.us,f=p.cs})),!i.isEqual(Me.min())){const p=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(p)}return K.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ts=s,o))}function c3(t,e,n){let i=ze(),s=ze();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Hr();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ge("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{us:l,cs:s}})}function d3(t,e){const n=$e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function h3(t,e){const n=$e(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,K.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new As(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Iy(t,e,n){const i=$e(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Sd(l))throw l;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function RT(t,e,n){const i=$e(t);let s=Me.min(),o=ze();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=$e(h),y=v.ns.get(p);return y!==void 0?K.resolve(v.ts.get(y)):v.qr.getTargetData(f,p)}(i,l,vr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:Me.min(),n?o:ze())).next(c=>(f3(i,rU(e),c),{documents:c,ls:o})))}function f3(t,e,n){let i=t.rs.get(e)||Me.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class PT{constructor(){this.activeTargetIds=cU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p3{constructor(){this.eo=new PT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new PT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function kv(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class y3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=kv(),h=this.So(n,i);ge("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,h,f,s).then(p=>(ge("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw hl("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",s),p})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=g3[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=kv();return new Promise((l,c)=>{const h=new SF;h.setWithCredentials(!0),h.listenOnce(IF.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Rv.NO_ERROR:const p=h.getResponseJson();ge(On,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Rv.TIMEOUT:ge(On,`RPC '${e}' ${o} timed out`),c(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case Rv.HTTP_ERROR:const v=h.getStatus();if(ge(On,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const I=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(b.status);c(new ae(I,b.message))}else c(new ae($.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ae($.UNAVAILABLE,"Connection failed."));break;default:De()}}finally{ge(On,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);ge(On,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,i,15)})}vo(e,n,i){const s=kv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=bF(),c=EF(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new AF({})),this.bo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");ge(On,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);let y=!1,b=!1;const I=new v3({co:E=>{b?ge(On,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(ge(On,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),ge(On,`RPC '${e}' stream ${s} sending:`,E),v.send(E))},lo:()=>v.close()}),_=(E,T,R)=>{E.listen(T,x=>{try{R(x)}catch(N){setTimeout(()=>{throw N},0)}})};return _(v,nf.EventType.OPEN,()=>{b||ge(On,`RPC '${e}' stream ${s} transport opened.`)}),_(v,nf.EventType.CLOSE,()=>{b||(b=!0,ge(On,`RPC '${e}' stream ${s} transport closed`),I.Ro())}),_(v,nf.EventType.ERROR,E=>{b||(b=!0,hl(On,`RPC '${e}' stream ${s} transport errored:`,E),I.Ro(new ae($.UNAVAILABLE,"The operation could not be completed")))}),_(v,nf.EventType.MESSAGE,E=>{var T;if(!b){const R=E.data[0];At(!!R);const x=R,N=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(N){ge(On,`RPC '${e}' stream ${s} received error:`,N);const U=N.status;let G=function(ie){const _e=Qt[ie];if(_e!==void 0)return sP(_e)}(U),se=N.message;G===void 0&&(G=$.INTERNAL,se="Unknown error status: "+U+" with message "+N.message),b=!0,I.Ro(new ae(G,se)),v.close()}else ge(On,`RPC '${e}' stream ${s} received:`,R),I.Vo(R)}}),_(c,TF.STAT_EVENT,E=>{E.stat===aT.PROXY?ge(On,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===aT.NOPROXY&&ge(On,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.Ao()},0),I}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){return new PU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,i,s,o,l,c,h){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gP(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new ae($.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _3 extends vP{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=OU(this.serializer,e),i=function(o){if(!("targetChange"in o))return Me.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?yr(l.readTime):Me.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=Ey(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=vy(h)?{documents:LU(o,h)}:{query:MU(o,h)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=lP(o,l.resumeToken);const f=_y(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Me.min())>0){c.readTime=Zf(o,l.snapshotVersion.toTimestamp());const f=_y(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=FU(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.e_(n)}}class w3 extends vP{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=DU(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.I_(i,n)}return At(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ey(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>NU(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae($.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae($.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class E3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Br(n),this.f_=!1):ge("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{Xo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=$e(h);f.C_.add(4),await Pd(f),f.M_.set("Unknown"),f.C_.delete(4),await tm(f)}(this))})}),this.M_=new E3(i,s)}}async function tm(t){if(Xo(t))for(const e of t.v_)await e(!0)}async function Pd(t){for(const e of t.v_)await e(!1)}function yP(t,e){const n=$e(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),h0(n)?d0(n):$l(n).Ho()&&c0(n,e))}function _P(t,e){const n=$e(t),i=$l(n);n.D_.delete(e),i.Ho()&&wP(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Xo(n)&&n.M_.set("Unknown"))}function c0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).u_(e)}function wP(t,e){t.x_.Oe(e),$l(t).c_(e)}function d0(t){t.x_=new AU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.M_.g_()}function h0(t){return Xo(t)&&!$l(t).jo()&&t.D_.size>0}function Xo(t){return $e(t).C_.size===0}function bP(t){t.x_=void 0}async function T3(t){t.D_.forEach((e,n)=>{c0(t,e)})}async function A3(t,e){bP(t),h0(t)?(t.M_.w_(e),d0(t)):t.M_.set("Unknown")}async function S3(t,e,n){if(t.M_.set("Online"),e instanceof aP&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ep(t,i)}else if(e instanceof Tf?t.x_.$e(e):e instanceof oP?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Me.min()))try{const i=await mP(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.D_.get(f);p&&o.D_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=o.D_.get(h);if(!p)return;o.D_.set(h,p.withResumeToken(Un.EMPTY_BYTE_STRING,p.snapshotVersion)),wP(o,h);const v=new As(p.target,h,f,p.sequenceNumber);c0(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){ge("RemoteStore","Failed to raise snapshot:",i),await ep(t,i)}}async function ep(t,e,n){if(!Sd(e))throw e;t.C_.add(1),await Pd(t),t.M_.set("Offline"),n||(n=()=>mP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await tm(t)})}function EP(t,e){return e().catch(n=>ep(t,n,e))}async function nm(t){const e=$e(t),n=Fs(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;C3(e);)try{const s=await d3(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,R3(e,s)}catch(s){await ep(e,s)}IP(e)&&TP(e)}function C3(t){return Xo(t)&&t.b_.length<10}function R3(t,e){t.b_.push(e);const n=Fs(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function IP(t){return Xo(t)&&!Fs(t).jo()&&t.b_.length>0}function TP(t){Fs(t).start()}async function P3(t){Fs(t).E_()}async function k3(t){const e=Fs(t);for(const n of t.b_)e.P_(n.mutations)}async function x3(t,e,n){const i=t.b_.shift(),s=r0.from(i,e,n);await EP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nm(t)}async function O3(t,e){e&&Fs(t).h_&&await async function(i,s){if(function(l){return EU(l)&&l!==$.ABORTED}(s.code)){const o=i.b_.shift();Fs(i).Yo(),await EP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await nm(i)}}(t,e),IP(t)&&TP(t)}async function xT(t,e){const n=$e(t);n.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const i=Xo(n);n.C_.add(3),await Pd(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await tm(n)}async function N3(t,e){const n=$e(t);e?(n.C_.delete(2),await tm(n)):e||(n.C_.add(2),await Pd(n),n.M_.set("Unknown"))}function $l(t){return t.O_||(t.O_=function(n,i,s){const o=$e(n);return o.A_(),new _3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:T3.bind(null,t),Io:A3.bind(null,t),a_:S3.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),h0(t)?d0(t):t.M_.set("Unknown")):(await t.O_.stop(),bP(t))})),t.O_}function Fs(t){return t.N_||(t.N_=function(n,i,s){const o=$e(n);return o.A_(),new w3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:P3.bind(null,t),Io:O3.bind(null,t),T_:k3.bind(null,t),I_:x3.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await nm(t)):(await t.N_.stop(),t.b_.length>0&&(ge("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new f0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(t,e){if(Br("AsyncQueue",`${e}: ${t}`),Sd(t))return new ae($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ie.comparator(n.key,i.key):(n,i)=>Ie.comparator(n.key,i.key),this.keyedMap=pc(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new nl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.B_=new Ot(Ie.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):De():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class wl{constructor(e,n,i,s,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new wl(e,n,nl.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.k_=void 0,this.listeners=[]}}class L3{constructor(){this.queries=new Ul(e=>WR(e),Yp),this.onlineState="Unknown",this.q_=new Set}}async function m0(t,e){const n=$e(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new D3),s)try{o.k_=await n.onListen(i)}catch(l){const c=p0(l,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&v0(n)}async function g0(t,e){const n=$e(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function M3(t,e){const n=$e(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&v0(n)}function V3(t,e,n){const i=$e(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function v0(t){t.q_.forEach(e=>{e.next()})}class y0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.key=e}}class SP{constructor(e){this.key=e}}class F3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ze(),this.mutatedKeys=ze(),this._a=KR(e),this.aa=new nl(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new OT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const y=s.get(p),b=Jp(this.query,v)?v:null,I=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?I!==_&&(i.track({type:3,doc:b}),E=!0):this.ha(y,b)||(i.track({type:2,doc:b}),E=!0,(h&&this._a(b,h)>0||f&&this._a(b,f)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),E=!0):y&&!b&&(i.track({type:1,doc:y}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),o=_?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,p)=>function(y,b){const I=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De()}};return I(y)-I(b)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,h=c!==this.sa;return this.sa=c,o.length!==0||h?{snapshot:new wl(this.query,e.aa,s,o,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new OT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ze(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new SP(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new AP(i))}),n}da(e){this.ia=e.ls,this.oa=ze();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return wl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class U3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class $3{constructor(e){this.key=e,this.Ra=!1}}class j3{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new Ul(c=>WR(c),Yp),this.fa=new Map,this.ga=new Set,this.pa=new Ot(Ie.comparator),this.ya=new Map,this.wa=new a0,this.Sa={},this.ba=new Map,this.Da=_l.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function B3(t,e){const n=X3(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await h3(n.localStore,vr(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await H3(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&yP(n.remoteStore,l)}return s}async function H3(t,e,n,i,s){t.va=(v,y,b)=>async function(_,E,T,R){let x=E.view.ca(T);x.Zi&&(x=await RT(_.localStore,E.query,!1).then(({documents:G})=>E.view.ca(G,x)));const N=R&&R.targetChanges.get(E.targetId),U=E.view.applyChanges(x,_.isPrimaryClient,N);return DT(_,E.targetId,U.Ta),U.snapshot}(t,v,y,b);const o=await RT(t.localStore,e,!0),l=new F3(e,o.ls),c=l.ca(o.documents),h=Rd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,h);DT(t,n,f.Ta);const p=new U3(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function q3(t,e){const n=$e(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!Yp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Iy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),_P(n.remoteStore,i.targetId),Ty(n,i.targetId)}).catch(Ad)):(Ty(n,i.targetId),await Iy(n.localStore,i.targetId,!0))}async function W3(t,e,n){const i=Z3(t);try{const s=await function(l,c){const h=$e(l),f=nn.now(),p=c.reduce((b,I)=>b.add(I.key),ze());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=Hr(),_=ze();return h.ss.getEntries(b,p).next(E=>{I=E,I.forEach((T,R)=>{R.isValidDocument()||(_=_.add(T))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,I)).next(E=>{v=E;const T=[];for(const R of c){const x=vU(R,v.get(R.key).overlayedDocument);x!=null&&T.push(new Ks(R.key,x,FR(x.value.mapValue),ki.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,T,c)}).next(E=>{y=E;const T=E.applyToLocalDocumentSet(v,_);return h.documentOverlayCache.saveOverlays(b,E.batchId,T)})}).then(()=>({batchId:y.batchId,changes:GR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Sa[l.currentUser.toKey()];f||(f=new Ot(at)),f=f.insert(c,h),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await kd(i,s.changes),await nm(i.remoteStore)}catch(s){const o=p0(s,"Failed to persist write");n.reject(o)}}async function CP(t,e){const n=$e(t);try{const i=await u3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?At(l.Ra):s.removedDocuments.size>0&&(At(l.Ra),l.Ra=!1))}),await kd(n,i,e)}catch(i){await Ad(i)}}function NT(t,e,n){const i=$e(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=$e(l);h.onlineState=c;let f=!1;h.queries.forEach((p,v)=>{for(const y of v.listeners)y.Q_(c)&&(f=!0)}),f&&v0(h)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function K3(t,e,n){const i=$e(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new Ot(Ie.comparator);l=l.insert(o,Dn.newNoDocument(o,Me.min()));const c=ze().add(o),h=new Zp(Me.min(),new Map,new Ot(at),l,c);await CP(i,h),i.pa=i.pa.remove(o),i.ya.delete(e),_0(i)}else await Iy(i.localStore,e,!1).then(()=>Ty(i,e,n)).catch(Ad)}async function z3(t,e){const n=$e(t),i=e.batch.batchId;try{const s=await l3(n.localStore,e);PP(n,i,null),RP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await kd(n,s)}catch(s){await Ad(s)}}async function G3(t,e,n){const i=$e(t);try{const s=await function(l,c){const h=$e(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(At(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);PP(i,e,n),RP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await kd(i,s)}catch(s){await Ad(s)}}function RP(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function PP(t,e,n){const i=$e(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function Ty(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||kP(t,i)})}function kP(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(_P(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),_0(t))}function DT(t,e,n){for(const i of n)i instanceof AP?(t.wa.addReference(i.key,e),Y3(t,i)):i instanceof SP?(ge("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||kP(t,i.key)):De()}function Y3(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(ge("SyncEngine","New document in limbo: "+n),t.ga.add(i),_0(t))}function _0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ie(Et.fromString(e)),i=t.Da.next();t.ya.set(i,new $3(n)),t.pa=t.pa.insert(n,i),yP(t.remoteStore,new As(vr(Gp(n.path)),i,"TargetPurposeLimboResolution",Q_._e))}}async function kd(t,e,n){const i=$e(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,h)=>{l.push(i.va(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const p=u0.Qi(h.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Va.a_(s),await async function(h,f){const p=$e(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(f,y=>K.forEach(y.ki,b=>p.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>K.forEach(y.qi,b=>p.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!Sd(v))throw v;ge("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const b=p.ts.get(y),I=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(I);p.ts=p.ts.insert(y,_)}}}(i.localStore,o))}async function J3(t,e){const n=$e(t);if(!n.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const i=await pP(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(h=>{h.reject(new ae($.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kd(n,i._s)}}function Q3(t,e){const n=$e(t),i=n.ya.get(e);if(i&&i.Ra)return ze().add(i.key);{let s=ze();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function X3(t){const e=$e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K3.bind(null,e),e.Va.a_=M3.bind(null,e.eventManager),e.Va.Fa=V3.bind(null,e.eventManager),e}function Z3(t){const e=$e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G3.bind(null,e),e}class LT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return a3(this.persistence,new s3,e.initialUser,this.serializer)}createPersistence(e){return new n3(l0.jr,this.serializer)}createSharedClientState(e){return new p3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class e9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=J3.bind(null,this.syncEngine),await N3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L3}()}createDatastore(e){const n=em(e.databaseInfo.databaseId),i=function(o){return new y3(o)}(e.databaseInfo);return function(o,l,c,h){return new b3(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new I3(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>NT(this.syncEngine,n,0),function(){return kT.D()?new kT:new m3}())}createSyncEngine(e,n){return function(s,o,l,c,h,f,p){const v=new j3(s,o,l,c,h,f);return p&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=$e(n);ge("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Pd(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=LR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{ge("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ge("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=p0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ov(t,e){t.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await pP(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i9(t);ge("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>xT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>xT(e.remoteStore,o)),t._onlineComponents=e}function n9(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function i9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!n9(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await Ov(t,new LT)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await Ov(t,new LT);return t._offlineComponents}async function xP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await MT(t,t._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await MT(t,new e9))),t._onlineComponents}function r9(t){return xP(t).then(e=>e.syncEngine)}async function tp(t){const e=await xP(t),n=e.eventManager;return n.onListen=B3.bind(null,e.syncEngine),n.onUnlisten=q3.bind(null,e.syncEngine),n}function s9(t,e,n={}){const i=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new w0({next:y=>{l.enqueueAndForget(()=>g0(o,v));const b=y.docs.has(c);!b&&y.fromCache?f.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?f.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new y0(Gp(c.path),p,{includeMetadataChanges:!0,J_:!0});return m0(o,v)}(await tp(t),t.asyncQueue,e,n,i)),i.promise}function o9(t,e,n={}){const i=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new w0({next:y=>{l.enqueueAndForget(()=>g0(o,v)),y.fromCache&&h.source==="server"?f.reject(new ae($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new y0(c,p,{includeMetadataChanges:!0,J_:!0});return m0(o,v)}(await tp(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e,n){if(!n)throw new ae($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a9(t,e,n,i){if(e===!0&&i===!0)throw new ae($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FT(t){if(!Ie.isDocumentKey(t))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UT(t){if(Ie.isDocumentKey(t))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":De()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function l9(t,e){if(e<=0)throw new ae($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new RF;switch(i.type){case"firstParty":return new OF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=VT.get(n);i&&(ge("ComponentProvider","Removing Datastore"),VT.delete(n),i.terminate())}(this),Promise.resolve()}}function u9(t,e,n,i={}){var s;const o=(t=Jn(t,xd))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Nn.MOCK_USER;else{c=AS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Nn(f)}t._authCredentials=new PF(new DR(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Fn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class ks extends Xi{constructor(e,n,i){super(e,n,Gp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Ie(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function bl(t,e,...n){if(t=Re(t),b0("collection","path",e),t instanceof xd){const i=Et.fromString(e,...n);return UT(i),new ks(t,null,i)}{if(!(t instanceof Fn||t instanceof ks))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return UT(i),new ks(t.firestore,null,i)}}function ed(t,e){if(t=Jn(t,xd),b0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(t,null,function(i){return new Ws(Et.emptyPath(),i)}(e))}function NP(t,e,...n){if(t=Re(t),arguments.length===1&&(e=LR.newId()),b0("doc","path",e),t instanceof xd){const i=Et.fromString(e,...n);return FT(i),new Fn(t,null,new Ie(i))}{if(!(t instanceof Fn||t instanceof ks))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return FT(i),new Fn(t.firestore,t instanceof ks?t.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gP(this,"async_queue_retry"),this.iu=()=>{const n=xv();n&&ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=xv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Vr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Sd(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Br("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=f0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&De()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function jT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class qr extends xd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new c9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DP(this),this._firestoreClient.terminate()}}function d9(t,e){const n=typeof t=="object"?t:cd(),i=typeof t=="string"?t:e||"(default)",s=Go(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=o_("firestore");o&&u9(s,...o)}return s}function rm(t){return t._firestoreClient||DP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DP(t){var e,n,i;const s=t._freezeSettings(),o=function(c,h,f,p){return new qF(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,OP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new t9(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(Un.fromBase64String(e))}catch(n){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=/^__.*__$/;class f9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cd(e,this.data,n,this.fieldTransforms)}}class LP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De()}}class om{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return np(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(MP(this.Iu)&&h9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class p9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||em(e)}pu(e,n,i,s=!1){return new om({Iu:e,methodName:n,gu:i,path:Sn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(t){const e=t._freezeSettings(),n=em(t._databaseId);return new p9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VP(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);I0("Data must be an object, but it was:",l,i);const c=$P(i,l);let h,f;if(o.merge)h=new _i(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const y=Ay(e,v,n);if(!l.contains(y))throw new ae($.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);BP(p,y)||p.push(y)}h=new _i(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new f9(new ri(c),h,f)}class am extends Od{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function FP(t,e,n){return new om({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class m9 extends Od{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=FP(this,e,!0),i=this.yu.map(o=>Zo(o,n)),s=new vl(i);return new nP(e.path,s)}isEqual(e){return this===e}}class g9 extends Od{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=FP(this,e,!0),i=this.yu.map(o=>Zo(o,n)),s=new yl(i);return new nP(e.path,s)}isEqual(e){return this===e}}function v9(t,e,n,i){const s=t.pu(1,e,n);I0("Data must be an object, but it was:",s,i);const o=[],l=ri.empty();Qo(i,(h,f)=>{const p=T0(e,h,n);f=Re(f);const v=s.Ru(p);if(f instanceof am)o.push(p);else{const y=Zo(f,v);y!=null&&(o.push(p),l.set(p,y))}});const c=new _i(o);return new LP(l,c,s.fieldTransforms)}function y9(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[Ay(e,i,n)],h=[s];if(o.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Ay(e,o[y])),h.push(o[y+1]);const f=[],p=ri.empty();for(let y=c.length-1;y>=0;--y)if(!BP(f,c[y])){const b=c[y];let I=h[y];I=Re(I);const _=l.Ru(b);if(I instanceof am)f.push(b);else{const E=Zo(I,_);E!=null&&(f.push(b),p.set(b,E))}}const v=new _i(f);return new LP(p,v,l.fieldTransforms)}function UP(t,e,n,i=!1){return Zo(n,t.pu(i?4:3,e))}function Zo(t,e){if(jP(t=Re(t)))return I0("Unsupported field value:",e,t),$P(t,e);if(t instanceof Od)return function(i,s){if(!MP(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=Zo(c,s.Vu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=Re(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=nn.fromDate(i);return{timestampValue:Zf(s.serializer,o)}}if(i instanceof nn){const o=new nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zf(s.serializer,o)}}if(i instanceof E0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof El)return{bytesValue:lP(s.serializer,i._byteString)};if(i instanceof Fn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:o0(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${im(i)}`)}(t,e)}function $P(t,e){const n={};return MR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,(i,s)=>{const o=Zo(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function jP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof E0||t instanceof El||t instanceof Fn||t instanceof Od)}function I0(t,e,n){if(!jP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=im(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Ay(t,e,n){if((e=Re(e))instanceof sm)return e._internalPath;if(typeof e=="string")return T0(t,e);throw np("Field path arguments must be of type string or ",t,!1,void 0,n)}const _9=new RegExp("[~\\*/\\[\\]]");function T0(t,e,n){if(e.search(_9)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function np(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new ae($.INVALID_ARGUMENT,c+t+h)}function BP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w9 extends A0{data(){return super.data()}}function lm(t,e){return typeof e=="string"?T0(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}class um extends S0{}function Er(t,e,...n){let i=[];e instanceof S0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(h=>h instanceof C0).length,c=o.filter(h=>h instanceof cm).length;if(l>1||l>0&&c>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class cm extends um{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new cm(e,n,i)}_apply(e){const n=this._parse(e);return qP(e._query,n),new Xi(e.firestore,e.converter,yy(e._query,n))}_parse(e){const n=Nd(e.firestore);return function(o,l,c,h,f,p,v){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){HT(v,p);const b=[];for(const I of v)b.push(BT(h,o,I));y={arrayValue:{values:b}}}else y=BT(h,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||HT(v,p),y=UP(c,l,v,p==="in"||p==="not-in");return tn.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gr(t,e,n){const i=e,s=lm("where",t);return cm._create(s,i,n)}class C0 extends S0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const h of c)qP(l,h),l=yy(l,h)}(e._query,n),new Xi(e.firestore,e.converter,yy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends um{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(o,l)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ws(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Us(t,e="asc"){const n=e,i=lm("orderBy",t);return R0._create(i,n)}class P0 extends um{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new P0(e,n,i)}_apply(e){return new Xi(e.firestore,e.converter,Jf(e._query,this._limit,this._limitType))}}function Il(t){return l9("limit",t),P0._create("limit",t,"F")}class k0 extends um{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new k0(e,n,i)}_apply(e){const n=b9(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,function(s,o){return new Ws(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function x0(...t){return k0._create("startAfter",t,!1)}function b9(t,e,n,i){if(n[0]=Re(n[0]),n[0]instanceof A0)return function(o,l,c,h,f){if(!h)throw new ae($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const v of tl(o))if(v.field.isKeyField())p.push(Yf(l,h.key));else{const y=h.data.field(v.field);if(zp(y))throw new ae($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=v.field.canonicalString();throw new ae($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(y)}return new gl(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=Nd(t.firestore);return function(l,c,h,f,p,v){const y=l.explicitOrderBy;if(p.length>y.length)throw new ae($.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let I=0;I<p.length;I++){const _=p[I];if(y[I].field.isKeyField()){if(typeof _!="string")throw new ae($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof _}`);if(!n0(l)&&_.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${_}' contains a slash.`);const E=l.path.child(Et.fromString(_));if(!Ie.isDocumentKey(E))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const T=new Ie(E);b.push(Yf(c,T))}else{const E=UP(h,f,_);b.push(E)}}return new gl(b,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function BT(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n0(e)&&n.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Et.fromString(n));if(!Ie.isDocumentKey(i))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yf(t,new Ie(i))}if(n instanceof Fn)return Yf(t,n._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function HT(t,e){if(!Array.isArray(t)||t.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qP(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E9{convertValue(e,n="none"){switch(Ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw De()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qo(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new E0(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=X_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Et.fromString(e);At(fP(i));const s=new Qc(i.get(1),i.get(3)),o=new Ie(i.popFirst(5));return s.isEqual(n)||Br(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KP extends A0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Af extends KP{data(e={}){return super.data(e)}}class zP{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Af(this._firestore,this._userDataWriter,i.key,i,new gc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Af(s._firestore,s._userDataWriter,c.doc.key,c.doc,new gc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Af(s._firestore,s._userDataWriter,c.doc.key,c.doc,new gc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:I9(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){t=Jn(t,Fn);const e=Jn(t.firestore,qr);return s9(rm(e),t._key).then(n=>GP(e,t,n))}class O0 extends E9{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function Wr(t){t=Jn(t,Xi);const e=Jn(t.firestore,qr),n=rm(e),i=new O0(e);return HP(t._query),o9(n,t._query).then(s=>new zP(e,i,t,s))}function zW(t,e,n){t=Jn(t,Fn);const i=Jn(t.firestore,qr),s=WP(t.converter,e,n);return dm(i,[VP(Nd(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ki.none())])}function GW(t,e,n,...i){t=Jn(t,Fn);const s=Jn(t.firestore,qr),o=Nd(s);let l;return l=typeof(e=Re(e))=="string"||e instanceof sm?y9(o,"updateDoc",t._key,e,n,i):v9(o,"updateDoc",t._key,e),dm(s,[l.toMutation(t._key,ki.exists(!0))])}function YW(t){return dm(Jn(t.firestore,qr),[new i0(t._key,ki.none())])}function JW(t,e){const n=Jn(t.firestore,qr),i=NP(t),s=WP(t.converter,e);return dm(n,[VP(Nd(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}function qT(t,...e){var n,i,s;t=Re(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||jT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(jT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,f,p;if(t instanceof Fn)f=Jn(t.firestore,qr),p=Gp(t._key.path),h={next:v=>{e[l]&&e[l](GP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Jn(t,Xi);f=Jn(v.firestore,qr),p=v._query;const y=new O0(f);h={next:b=>{e[l]&&e[l](new zP(f,y,v,b))},error:e[l+1],complete:e[l+2]},HP(t._query)}return function(y,b,I,_){const E=new w0(_),T=new y0(b,E,I);return y.asyncQueue.enqueueAndForget(async()=>m0(await tp(y),T)),()=>{E.Na(),y.asyncQueue.enqueueAndForget(async()=>g0(await tp(y),T))}}(rm(f),p,c,h)}function dm(t,e){return function(i,s){const o=new Vr;return i.asyncQueue.enqueueAndForget(async()=>W3(await r9(i),s,o)),o.promise}(rm(t),e)}function GP(t,e,n){const i=n.docs.get(e._key),s=new O0(t);return new KP(t,s,e._key,i,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function QW(...t){return new m9("arrayUnion",t)}function XW(...t){return new g9("arrayRemove",t)}(function(e,n=!0){(function(s){Fl=s})(zr),_r(new Ki("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new qr(new kF(i.getProvider("auth-internal")),new DF(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Yn(lT,"4.3.2",e),Yn(lT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="type.googleapis.com/google.protobuf.Int64Value",S9="type.googleapis.com/google.protobuf.UInt64Value";function YP(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Sy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Sy(e));if(typeof t=="function"||typeof t=="object")return YP(t,e=>Sy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ip(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case A9:case S9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ip(e)):typeof t=="function"||typeof t=="object"?YP(t,e=>ip(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class il extends Rn{constructor(e,n,i){super(`${N0}/${e}`,n||""),this.details=i}}function C9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function R9(t,e){let n=C9(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!WT[l])return new il("internal","internal");n=WT[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=ip(s))}}catch{}return n==="ok"?null:new il(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="us-central1";function k9(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new il("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class x9{constructor(e,n,i,s,o=Cy,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new P9(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Cy}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function O9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function N9(t,e,n){return i=>L9(t,e,i,n||{})}async function D9(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function L9(t,e,n,i){const s=t._url(e);return M9(t,s,n,i)}async function M9(t,e,n,i){n=Sy(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,h=k9(c),f=await Promise.race([D9(e,s,o,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new il("cancelled","Firebase Functions instance was deleted.");const p=R9(f.status,f.json);if(p)throw p;if(!f.json)throw new il("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new il("internal","Response is missing data field.");return{data:ip(v)}}const KT="@firebase/functions",zT="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="auth-internal",F9="app-check-internal",U9="messaging-internal";function $9(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(V9),c=i.getProvider(U9),h=i.getProvider(F9);return new x9(o,l,c,h,s,t)};_r(new Ki(N0,n,"PUBLIC").setMultipleInstances(!0)),Yn(KT,zT,e),Yn(KT,zT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t=cd(),e=Cy){const i=Go(Re(t),N0).getImmediate({identifier:e}),s=o_("functions");return s&&j9(i,...s),i}function j9(t,e,n){O9(Re(t),e,n)}function Xn(t,e,n){return N9(Re(t),e,n)}$9(fetch.bind(self));const B9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebasestorage.googleapis.com",QP="storageBucket",H9=2*60*1e3,q9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Rn{constructor(e,n,i=0){super(Nv(e),`Firebase Storage: ${n} (${Nv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function Nv(t){return"storage/"+t}function W9(){const t="An unknown error occurred, please check the error payload for server response.";return new Zi(Ji.UNKNOWN,t)}function K9(){return new Zi(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z9(){return new Zi(Ji.CANCELED,"User canceled the upload/download.")}function G9(t){return new Zi(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function Y9(t){return new Zi(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J9(){return new Zi(Ji.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QP+"' property when initializing the app?")}function Ry(t){return new Zi(Ji.INVALID_ARGUMENT,t)}function XP(){return new Zi(Ji.APP_DELETED,"The Firebase app was deleted.")}function Q9(t){return new Zi(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ri.makeFromUrl(e,n)}catch{return new Ri(e,"")}if(i.path==="")return i;throw Y9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(N){N.path_=decodeURIComponent(N.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${p}/b/${s}/o${y}`,"i"),I={bucket:1,path:3},_=n===JP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp(`^https?://${_}/${s}/${E}`,"i"),x=[{regex:c,indices:h,postModify:o},{regex:b,indices:I,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let N=0;N<x.length;N++){const U=x[N],G=U.regex.exec(e);if(G){const se=G[U.indices.bucket];let q=G[U.indices.path];q||(q=""),i=new Ri(se,q),U.postModify(i);break}}if(i==null)throw G9(e);return i}}class X9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function v(E){s=setTimeout(()=>{s=null,t(b,h())},E)}function y(){o&&clearTimeout(o)}function b(E,...T){if(f){y();return}if(E){y(),p.call(null,E,...T);return}if(h()||l){y(),p.call(null,E,...T);return}i<64&&(i*=2);let x;c===1?(c=2,x=0):x=(i+Math.random())*1e3,v(x)}let I=!1;function _(E){I||(I=!0,y(),!f&&(s!==null?(E||(c=2),clearTimeout(s),v(0)):E||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,_(!0)},n),_}function e5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return t!==void 0}function GT(t,e,n,i){if(i<e)throw Ry(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Ry(`Invalid value for '${t}'. Expected ${n} or less.`)}function n5(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rp||(rp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,i,s,o,l,c,h,f,p,v,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new af(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===rp.NO_ERROR,h=o.getStatus();if(!c||i5(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===rp.ABORT;i(!1,new af(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new af(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());t5(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=W9();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?XP():z9();l(h)}else{const h=K9();l(h)}};this.canceled_?n(!1,new af(!1,null,!0)):this.backoffId_=Z9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&e5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class af{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function s5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function l5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u5(t,e,n,i,s,o,l=!0){const c=n5(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return a5(f,e),s5(f,n),o5(f,o),l5(f,i),new r5(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d5(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function h5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this._service=e,n instanceof Ri?this._location=n:this._location=Ri.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qo(e,n)}get root(){const e=new Ri(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h5(this._location.path)}get storage(){return this._service}get parent(){const e=c5(this._location.path);if(e===null)return null;const n=new Ri(this._location.bucket,e);return new qo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Q9(e)}}function f5(t,e){const n=d5(t._location.path,e),i=new Ri(t._location.bucket,n);return new qo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){return/^[A-Za-z]+:\/\//.test(t)}function m5(t,e){return new qo(t,e)}function ZP(t,e){if(t instanceof D0){const n=t;if(n._bucket==null)throw J9();const i=new qo(n,n._bucket);return e!=null?ZP(i,e):i}else return e!==void 0?f5(t,e):t}function g5(t,e){if(e&&p5(e)){if(t instanceof D0)return m5(t,e);throw Ry("To use ref(service, url), the first argument must be a Storage instance.")}else return ZP(t,e)}function YT(t,e){const n=e==null?void 0:e[QP];return n==null?null:Ri.makeFromBucketSpec(n,t)}function v5(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:AS(s,t.app.options.projectId))}class D0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=JP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H9,this._maxUploadRetryTime=q9,this._requests=new Set,s!=null?this._bucket=Ri.makeFromBucketSpec(s,this._host):this._bucket=YT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ri.makeFromBucketSpec(this._url,e):this._bucket=YT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qo(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new X9(XP());{const l=u5(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const JT="@firebase/storage",QT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="storage";function y5(t,e){return t=Re(t),g5(t,e)}function _5(t=cd(),e){t=Re(t);const i=Go(t,e2).getImmediate({identifier:e}),s=o_("storage");return s&&w5(i,...s),i}function w5(t,e,n,i={}){v5(t,e,n,i)}function b5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new D0(n,i,s,e,zr)}function E5(){_r(new Ki(e2,b5,"PUBLIC").setMultipleInstances(!0)),Yn(JT,QT,""),Yn(JT,QT,"esm2017")}E5();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this._delegate=e,this.firebase=n,Lf(e,new Ki("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),DS(this._delegate)))}_getService(e,n=Ns){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ns){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Lf(this._delegate,e)}_addOrOverwriteComponent(e){NS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},XT=new zo("app-compat","Firebase",T5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:Yn,setLogLevel:MS,onLog:LS,apps:null,SDK_VERSION:zr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:ZD}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||Ns,!EI(e,f))throw XT.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,p={}){const v=yp(f,p);if(EI(e,v.name))return e[v.name];const y=new t(v,n);return e[v.name]=y,y}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,v=p.replace("-compat","");if(_r(f)&&f.type==="PUBLIC"){const y=(b=s())=>{if(typeof b[v]!="function")throw XT.create("invalid-app-argument",{appName:p});return b[v]()};f.serviceProps!==void 0&&Of(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?n[v]:null}function h(f,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){const t=A5(I5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:t2,extendNamespace:e,createSubscribe:PS,ErrorFactory:zo,deepExtend:Of});function e(n){Of(t,n)}return t}const S5=t2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new vp("@firebase/app-compat"),C5="@firebase/app-compat",R5="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t){Yn(C5,R5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(VN()&&self.firebase!==void 0){ZT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ZT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ee=S5;P5();var k5="firebase",x5="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ee.registerVersion(k5,x5,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=2e3;async function N5(t,e,n){var i;const{BuildInfo:s}=Wo();zi(e.sessionId,"AuthEvent did not contain a session ID");const o=await F5(e.sessionId),l={};return Nl()?l.ibi=s.packageName:hd()?l.apn=s.packageName:yn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,ty(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function D5(t){const{BuildInfo:e}=Wo(),n={};Nl()?n.iosBundleId=e.packageName:hd()?n.androidPackageName=e.packageName:yn(t,"operation-not-supported-in-this-environment"),await RC(t,n)}function L5(t){const{cordova:e}=Wo();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,TL()?"_blank":"_system","location=yes"),n(s)})})}async function M5(t,e,n){const{cordova:i}=Wo();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function h(){var v;o();const y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(Pn(t,"redirect-cancelled-by-user"))},O5))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(h),document.addEventListener("resume",f,!1),hd()&&document.addEventListener("visibilitychange",p,!1),s=()=>{e.removePassiveListener(h),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{s()}}function V5(t){var e,n,i,s,o,l,c,h,f,p;const v=Wo();J(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J(typeof((h=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||h===void 0?void 0:h.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J(typeof((p=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function F5(t){const e=U5(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function U5(t){if(zi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=20;class j5 extends SC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function B5(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:W5(),postBody:null,tenantId:t.tenantId,error:Pn(t,"no-auth-event")}}function H5(t,e){return Py()._set(ky(t),e)}async function eA(t){const e=await Py()._get(ky(t));return e&&await Py()._remove(ky(t)),e}function q5(t,e){var n,i;const s=z5(e);if(s.includes("/__/auth/callback")){const o=Sf(s),l=o.firebaseError?K5(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],h=c?Pn(c):null;return h?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:h,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function W5(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<$5;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function Py(){return yi(Sp)}function ky(t){return No("authEvent",t.config.apiKey,t.name)}function K5(t){try{return JSON.parse(t)}catch{return null}}function z5(t){const e=Sf(t),n=e.link?decodeURIComponent(e.link):void 0,i=Sf(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sf(s).link||s||i||n||t}function Sf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ga(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=500;class Y5{constructor(){this._redirectPersistence=Ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kp,this._overrideRedirectResult=S_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new j5(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){yn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){V5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),kV(),await this._originValidation(e);const l=B5(e,i,s);await H5(e,l);const c=await N5(e,l,n),h=await L5(c);return M5(e,o,h)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D5(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=Wo(),l=setTimeout(async()=>{await eA(e),n.onEvent(tA())},G5),c=async p=>{clearTimeout(l);const v=await eA(e);let y=null;v&&(p!=null&&p.url)&&(y=q5(v,p.url)),n.onEvent(y||tA())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const h=s,f=`${o.packageName.toLowerCase()}://`;Wo().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof h=="function")try{h(p)}catch(v){console.error(v)}}}}const J5=Y5;function tA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e){Ft(t)._logFramework(e)}var X5="@firebase/auth-compat",Z5="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1e3;function Cc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function t6(){return Cc()==="http:"||Cc()==="https:"}function n2(t=rn()){return!!((Cc()==="file:"||Cc()==="ionic:"||Cc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function n6(){return a_()||SS()}function i6(){return RS()&&(document==null?void 0:document.documentMode)===11}function r6(t=rn()){return/Edge\/\d+/.test(t)}function s6(t=rn()){return i6()||r6(t)}function i2(){try{const t=self.localStorage,e=pd();if(t)return t.setItem(e,"1"),t.removeItem(e),s6()?Nf():!0}catch{return L0()&&Nf()}return!1}function L0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dv(){return(t6()||CS()||n2())&&!n6()&&i2()&&!L0()}function r2(){return n2()&&typeof document<"u"}async function o6(){return r2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},e6);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function a6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi={LOCAL:"local",NONE:"none",SESSION:"session"},ic=J,s2="persistence";function l6(t,e){if(ic(Object.values(vi).includes(e),t,"invalid-persistence-type"),a_()){ic(e!==vi.SESSION,t,"unsupported-persistence-type");return}if(SS()){ic(e===vi.NONE,t,"unsupported-persistence-type");return}if(L0()){ic(e===vi.NONE||e===vi.LOCAL&&Nf(),t,"unsupported-persistence-type");return}ic(e===vi.NONE||i2(),t,"unsupported-persistence-type")}async function xy(t){await t._initializationPromise;const e=o2(),n=No(s2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function u6(t,e){const n=o2();if(!n)return[];const i=No(s2,t,e);switch(n.getItem(i)){case vi.NONE:return[ll];case vi.LOCAL:return[cl,Ls];case vi.SESSION:return[Ls];default:return[]}}function o2(){var t;try{return((t=a6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=J;class Ss{constructor(){this.browserResolver=yi(PC),this.cordovaResolver=yi(J5),this.underlyingResolver=null,this._redirectPersistence=Ls,this._completeRedirectFn=kp,this._overrideRedirectResult=S_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return r2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return c6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await o6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){return t.unwrap()}function d6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){return l2(t)}function f6(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new p6(t,MM(t,e))}else if(i){const s=l2(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function l2(t){const{_tokenResponse:e}=t instanceof Rn?t.customData:t;if(!e)return null;if(!(t instanceof Rn)&&"temporaryProof"in e&&"phoneNumber"in e)return $o.credentialFromResult(t);const n=e.providerId;if(!n||n===Zu.PASSWORD)return null;let i;switch(n){case Zu.GOOGLE:i=lr;break;case Zu.FACEBOOK:i=ar;break;case Zu.GITHUB:i=ur;break;case Zu.TWITTER:i=cr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:h}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?ul._create(n,c):wr._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new Qa(n).credential({idToken:s,accessToken:o,rawNonce:h})}return t instanceof Rn?i.credentialFromError(t):i.credentialFromResult(t)}function ii(t,e){return e.catch(n=>{throw n instanceof Rn&&f6(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:h6(n),additionalUserInfo:OM(n),user:Dr.getOrCreate(s)}})}async function Oy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>ii(t,n.confirm(i))}}class p6{constructor(e,n){this.resolver=n,this.auth=d6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ii(a2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._delegate=e,this.multiFactor=$M(e)}static getOrCreate(e){return Dr.USER_MAP.has(e)||Dr.USER_MAP.set(e,new Dr(e)),Dr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ii(this.auth,cC(this._delegate,e))}async linkWithPhoneNumber(e,n){return Oy(this.auth,vV(this._delegate,e,n))}async linkWithPopup(e){return ii(this.auth,SV(this._delegate,e,Ss))}async linkWithRedirect(e){return await xy(Ft(this.auth)),LV(this._delegate,e,Ss)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ii(this.auth,dC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Oy(this.auth,yV(this._delegate,e,n))}reauthenticateWithPopup(e){return ii(this.auth,AV(this._delegate,e,Ss))}async reauthenticateWithRedirect(e){return await xy(Ft(this.auth)),NV(this._delegate,e,Ss)}sendEmailVerification(e){return bM(this._delegate,e)}async unlink(e){return await aM(this._delegate,e),this}updateEmail(e){return AM(this._delegate,e)}updatePassword(e){return SM(this._delegate,e)}updatePhoneNumber(e){return _V(this._delegate,e)}updateProfile(e){return TM(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return EM(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=J;class Ny{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;rc(i,"invalid-api-key",{appName:e.name}),rc(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Ss:void 0;this._delegate=n.initialize({options:{persistence:m6(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(tL),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){tC(this._delegate,e,n)}applyActionCode(e){return hM(this._delegate,e)}checkActionCode(e){return hC(this._delegate,e)}confirmPasswordReset(e,n){return dM(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ii(this._delegate,pM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return wM(this._delegate,e)}isSignInWithEmailLink(e){return vM(this._delegate,e)}async getRedirectResult(){rc(Dv(),this._delegate,"operation-not-supported-in-this-environment");const e=await VV(this._delegate,Ss);return e?ii(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Q5(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=nA(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=nA(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return gM(this._delegate,e,n)}sendPasswordResetEmail(e,n){return cM(this._delegate,e,n||void 0)}async setPersistence(e){l6(this._delegate,e);let n;switch(e){case vi.SESSION:n=Ls;break;case vi.LOCAL:n=await yi(cl)._isAvailable()?cl:Sp;break;case vi.NONE:n=ll;break;default:return yn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ii(this._delegate,oM(this._delegate))}signInWithCredential(e){return ii(this._delegate,Tp(this._delegate,e))}signInWithCustomToken(e){return ii(this._delegate,uM(this._delegate,e))}signInWithEmailAndPassword(e,n){return ii(this._delegate,mM(this._delegate,e,n))}signInWithEmailLink(e,n){return ii(this._delegate,yM(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Oy(this._delegate,gV(this._delegate,e,n))}async signInWithPopup(e){return rc(Dv(),this._delegate,"operation-not-supported-in-this-environment"),ii(this._delegate,TV(this._delegate,e,Ss))}async signInWithRedirect(e){return rc(Dv(),this._delegate,"operation-not-supported-in-this-environment"),await xy(this._delegate),xV(this._delegate,e,Ss)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return fM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Ny.Persistence=vi;function nA(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Dr.getOrCreate(l)),error:e,complete:n}}function m6(t,e){const n=u6(t,e);if(typeof self<"u"&&!n.includes(cl)&&n.push(cl),typeof window<"u")for(const i of[Sp,Ls])n.includes(i)||n.push(i);return n.includes(ll)||n.push(ll),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.providerId="phone",this._delegate=new $o(a2(Ee.auth()))}static credential(e,n){return $o.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}M0.PHONE_SIGN_IN_METHOD=$o.PHONE_SIGN_IN_METHOD;M0.PROVIDER_ID=$o.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=J;class v6{constructor(e,n,i=Ee.app()){var s;g6((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new pV(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="auth-compat";function _6(t){t.INTERNAL.registerComponent(new Ki(y6,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Ny(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$a.EMAIL_SIGNIN,PASSWORD_RESET:$a.PASSWORD_RESET,RECOVER_EMAIL:$a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$a.VERIFY_EMAIL}},EmailAuthProvider:Bs,FacebookAuthProvider:ar,GithubAuthProvider:ur,GoogleAuthProvider:lr,OAuthProvider:Qa,SAMLAuthProvider:Vf,PhoneAuthProvider:M0,PhoneMultiFactorGenerator:kC,RecaptchaVerifier:v6,TwitterAuthProvider:cr,Auth:Ny,AuthCredential:Dl,Error:Rn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(X5,Z5)}_6(Ee);function w6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u2={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(E,T){T=T||{};var R=document.createEvent("CustomEvent");return R.initCustomEvent(E,!!T.bubbles,!!T.cancelable,T.detail||null),R},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var E=window.getComputedStyle(_),T=function(R,x){return!(E[R]===void 0||E[R]===x)};if(E.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||E.isolation==="isolate"||E.position==="fixed"||E.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function o(_,E){for(var T=0;T<_.length;++T)if(_[T]===E)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var E=new MutationObserver(this.maybeHideModal.bind(this));E.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,R=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),x,N=function(U){if(U.target===_){var G="DOMNodeRemoved";T|=U.type.substr(0,G.length)===G,window.clearTimeout(x),x=window.setTimeout(R,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(U){_.addEventListener(U,N)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),h.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var E=document.createElement("div");this.dialog_.insertBefore(E,this.dialog_.firstChild),E.tabIndex=-1,E.focus(),this.dialog_.removeChild(E)}var T=document.createEvent("MouseEvents");T.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(T),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var E=["button","input","keygen","select","textarea"],T=E.map(function(R){return R+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(T.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,E){if(_<E)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=E},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!h.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,h.needsCentering(this.dialog_)?(h.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var E=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(E)}};var h={};if(h.reposition=function(_){var E=document.body.scrollTop||document.documentElement.scrollTop,T=E+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(E,T)+"px"},h.isInlinePositionSetByStylesheet=function(_){for(var E=0;E<document.styleSheets.length;++E){var T=document.styleSheets[E],R=null;try{R=T.cssRules}catch{}if(R)for(var x=0;x<R.length;++x){var N=R[x],U=null;try{U=document.querySelectorAll(N.selectorText)}catch{}if(!(!U||!o(U,_))){var G=N.style.getPropertyValue("top"),se=N.style.getPropertyValue("bottom");if(G&&G!=="auto"||se&&se!=="auto")return!0}}}return!1},h.needsCentering=function(_){var E=window.getComputedStyle(_);return E.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!h.isInlinePositionSetByStylesheet(_)},h.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},h.registerDialog=function(_){_.showModal||h.forceRegisterDialog(_)},h.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(E){this.forwardTab_=void 0,E.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(E){var T=[];E.forEach(function(R){for(var x=0,N;N=R.removedNodes[x];++x){if(N instanceof Element)N.localName==="dialog"&&T.push(N);else continue;T=T.concat(N.querySelectorAll("dialog"))}}),T.length&&_(T)}))},h.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},h.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},h.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,E=0,T;T=this.pendingDialogStack[E];++E)T.updateZIndex(--_,--_),E===0&&(this.overlay.style.zIndex=--_);var R=this.pendingDialogStack[0];if(R){var x=R.dialog.parentNode||document.body;x.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},h.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var E=0,T;T=this.pendingDialogStack[E];++E)if(T.dialog===_)return E===0;_=_.parentElement}return!1},h.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var E=this.pendingDialogStack[0],T=E.dialog,R=T.compareDocumentPosition(_.target);return R&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?E.focus_():document.documentElement.focus()),!1}},h.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var E=new e("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(E)&&T.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},h.DialogManager.prototype.checkDOM_=function(_){var E=this.pendingDialogStack.slice();E.forEach(function(T){_.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},h.DialogManager.prototype.pushDialog=function(_){var E=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=E?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},h.DialogManager.prototype.removeDialog=function(_){var E=this.pendingDialogStack.indexOf(_);E!==-1&&(this.pendingDialogStack.splice(E,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},h.dm=new h.DialogManager,h.formSubmitter=null,h.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var v=p.get;p.get=function(){return l(this)?"dialog":v.call(this)};var y=p.set;p.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(_){if(h.formSubmitter=null,h.useValue=null,!_.defaultPrevented){var E=_.target;if(!(!E||!l(E.form))){var T=E.type==="submit"&&["button","input"].indexOf(E.localName)>-1;if(!T){if(!(E.localName==="input"&&E.type==="image"))return;h.useValue=_.offsetX+","+_.offsetY}var R=i(E);R&&(h.formSubmitter=E)}}},!1);var b=HTMLFormElement.prototype.submit,I=function(){if(!l(this))return b.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(_){var E=_.target;if(l(E)){_.preventDefault();var T=i(E);if(T){var R=h.formSubmitter;R&&R.form===E?T.close(h.useValue||R.value):T.close(),h.formSubmitter=null}}},!0)}h.forceRegisterDialog=h.forceRegisterDialog,h.registerDialog=h.registerDialog,typeof t.exports=="object"?t.exports=h:window.dialogPolyfill=h})()})(u2);var b6=u2.exports;const E6=w6(b6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};kt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,E){for(var T=0;T<t.length;T++)if(t[T].className===_)return typeof E<"u"&&(t[T]=E),t[T];return!1}function s(_){var E=_.getAttribute("data-upgraded");return E===null?[""]:E.split(",")}function o(_,E){var T=s(_);return T.indexOf(E)!==-1}function l(_,E,T){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:E,cancelable:T});var R=document.createEvent("Events");return R.initEvent(_,E,T),R}function c(_,E){if(typeof _>"u"&&typeof E>"u")for(var T=0;T<t.length;T++)c(t[T].className,t[T].cssClass);else{var R=_;if(typeof E>"u"){var x=i(R);x&&(E=x.cssClass)}for(var N=document.querySelectorAll("."+E),U=0;U<N.length;U++)h(N[U],R)}}function h(_,E){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var T=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(T),!T.defaultPrevented){var R=s(_),x=[];if(E)o(_,E)||x.push(i(E));else{var N=_.classList;t.forEach(function(ee){N.contains(ee.cssClass)&&x.indexOf(ee)===-1&&!o(_,ee.className)&&x.push(ee)})}for(var U=0,G=x.length,se;U<G;U++){if(se=x[U],se){R.push(se.className),_.setAttribute("data-upgraded",R.join(","));var q=new se.classConstructor(_);q[n]=se,e.push(q);for(var ie=0,_e=se.callbacks.length;ie<_e;ie++)se.callbacks[ie](_);se.widget&&(_[se.className]=q)}else throw new Error("Unable to find a registered component for the given class.");var ce=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(ce)}}}function f(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var E=0,T=_.length,R;E<T;E++)R=_[E],R instanceof HTMLElement&&(h(R),R.children.length>0&&f(R.children))}function p(_){var E=typeof _.widget>"u"&&typeof _.widget>"u",T=!0;E||(T=_.widget||_.widget);var R={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:T,callbacks:[]};if(t.forEach(function(N){if(N.cssClass===R.cssClass)throw new Error("The provided cssClass has already been registered: "+N.cssClass);if(N.className===R.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var x=i(_.classAsString,R);x||t.push(R)}function v(_,E){var T=i(_);T&&T.callbacks.push(E)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function b(_){if(_){var E=e.indexOf(_);e.splice(E,1);var T=_.element_.getAttribute("data-upgraded").split(","),R=T.indexOf(_[n].classAsString);T.splice(R,1),_.element_.setAttribute("data-upgraded",T.join(","));var x=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(x)}}function I(_){var E=function(R){e.filter(function(x){return x.element_===R}).forEach(b)};if(_ instanceof Array||_ instanceof NodeList)for(var T=0;T<_.length;T++)E(_[T]);else if(_ instanceof Node)E(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:h,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:I}}();kt.ComponentConfigPublic;kt.ComponentConfig;kt.Component;kt.upgradeDom=kt.upgradeDom;kt.upgradeElement=kt.upgradeElement;kt.upgradeElements=kt.upgradeElements;kt.upgradeAllRegistered=kt.upgradeAllRegistered;kt.registerUpgradedCallback=kt.registerUpgradedCallback;kt.register=kt.register;kt.downgradeElements=kt.downgradeElements;window.componentHandler=kt;window.componentHandler=kt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),kt.upgradeAllRegistered()):(kt.upgradeElement=function(){},kt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var h=document.createElement("div");h.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(h)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(r,u,d)}else r[u]=a[u];r.K=a.prototype}var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(r,a){if(a){var u=f;r=r.split(".");for(var d=0;d<r.length-1;d++){var m=r[d];m in u||(u[m]={}),u=u[m]}r=r[r.length-1],d=u[r],a=a(d),a!=d&&a!=null&&h(u,r,{configurable:!0,writable:!0,value:a})}}p("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),p("Array.prototype.includes",function(r){return r||function(a,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=d[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function y(r){return r!==void 0}function b(r){return typeof r=="string"}var I=/^[\w+/_-]+[=]{0,2}$/,_=null;function E(){}function T(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function R(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function x(r){return R(r)=="array"}function N(r){var a=R(r);return a=="array"||a=="object"&&typeof r.length=="number"}function U(r){return R(r)=="function"}function G(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var se="closure_uid_"+(1e9*Math.random()>>>0),q=0;function ie(r,a,u){return r.call.apply(r.bind,arguments)}function _e(r,a,u){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),r.apply(a,m)}}return function(){return r.apply(a,arguments)}}function ce(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ce=ie:ce=_e,ce.apply(null,arguments)}function ee(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function oe(r,a){for(var u in a)r[u]=a[u]}var Xe=Date.now||function(){return+new Date};function Ce(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)!r.length&&y(a)?u[d]=a:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function Q(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(d,m,g){for(var w=Array(arguments.length-2),A=2;A<arguments.length;A++)w[A-2]=arguments[A];return a.prototype[m].apply(d,w)}}function de(r){if(Error.captureStackTrace)Error.captureStackTrace(this,de);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}Q(de,Error),de.prototype.name="CustomError";var Te;function _t(r,a){r=r.split("%s");for(var u="",d=r.length-1,m=0;m<d;m++)u+=r[m]+(m<a.length?a[m]:"%s");de.call(this,u+r[d])}Q(_t,de),_t.prototype.name="AssertionError";function Ze(r,a){throw new _t("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var Kt=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(b(r))return b(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},et=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var d=r.length,m=b(r)?r.split(""):r,g=0;g<d;g++)g in m&&a.call(u,m[g],g,r)};function Ti(r,a){for(var u=b(r)?r.split(""):r,d=r.length-1;0<=d;--d)d in u&&a.call(void 0,u[d],d,r)}var ui=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=[],m=0,g=b(r)?r.split(""):r,w=0;w<u;w++)if(w in g){var A=g[w];a.call(void 0,A,w,r)&&(d[m++]=A)}return d},Qr=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=Array(u),m=b(r)?r.split(""):r,g=0;g<u;g++)g in m&&(d[g]=a.call(void 0,m[g],g,r));return d},$t=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r))return!0;return!1};function F(r,a){return 0<=Kt(r,a)}function M(r,a){a=Kt(r,a);var u;return(u=0<=a)&&k(r,a),u}function k(r,a){return Array.prototype.splice.call(r,a,1).length==1}function be(r,a){e:{for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r)){a=m;break e}a=-1}0<=a&&k(r,a)}function st(r,a){var u=0;Ti(r,function(d,m){a.call(void 0,d,m,r)&&k(r,m)&&u++})}function S(r){return Array.prototype.concat.apply([],arguments)}function C(r){var a=r.length;if(0<a){for(var u=Array(a),d=0;d<a;d++)u[d]=r[d];return u}return[]}function O(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var L=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},B=/&/g,W=/</g,ue=/>/g,X=/"/g,re=/'/g,z=/\x00/g,Ae=/[\x00&<>"']/;function pe(r,a){return r<a?-1:r>a?1:0}function we(r){return Ae.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(B,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(W,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ue,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(X,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(re,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(z,"&#0;"))),r}function Oe(r,a,u){for(var d in r)a.call(u,r[d],d,r)}function je(r){var a={},u;for(u in r)a[u]=r[u];return a}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(r,a){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)r[u]=d[u];for(var g=0;g<ht.length;g++)u=ht[g],Object.prototype.hasOwnProperty.call(d,u)&&(r[u]=d[u])}}var wt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function on(){}on.prototype.next=function(){throw wt},on.prototype.ha=function(){return this};function Ir(r){if(r instanceof on)return r;if(typeof r.ha=="function")return r.ha(!1);if(N(r)){var a=0,u=new on;return u.next=function(){for(;;){if(a>=r.length)throw wt;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function Vd(r,a){if(N(r))try{et(r,a,void 0)}catch(u){if(u!==wt)throw u}else{r=Ir(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==wt)throw u}}}function Ys(r){if(N(r))return C(r);r=Ir(r);var a=[];return Vd(r,function(u){a.push(u)}),a}function Js(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof Js)for(u=r.ja(),d=0;d<u.length;d++)this.set(u[d],r.get(u[d]));else for(d in r)this.set(d,r[d])}t=Js.prototype,t.la=function(){cn(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return cn(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function cn(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var d=r.a[a];dn(r.g,d)&&(r.a[u++]=d),a++}r.a.length=u}if(r.h!=r.a.length){var m={};for(u=a=0;a<r.a.length;)d=r.a[a],dn(m,d)||(r.a[u++]=d,m[d]=1),a++;r.a.length=u}}t.get=function(r,a){return dn(this.g,r)?this.g[r]:a},t.set=function(r,a){dn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],g=this.get(m);r.call(a,g,m,this)}},t.ha=function(r){cn(this);var a=0,u=this.j,d=this,m=new on;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(a>=d.a.length)throw wt;var g=d.a[a++];return r?g:d.g[g]},m};function dn(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Fd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ix(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var d=r[u].indexOf("="),m=null;if(0<=d){var g=r[u].substring(0,d);m=r[u].substring(d+1)}else g=r[u];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function dw(r,a,u,d){for(var m=u.length;0<=(a=r.indexOf(u,a))&&a<d;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+m),!g||g==61||g==38||g==35))return a;a+=m+1}return-1}var hw=/#|$/;function Ud(r,a){var u=r.search(hw),d=dw(r,0,a,u);if(0>d)return null;var m=r.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=a.length+1,decodeURIComponent(r.substr(d,m-d).replace(/\+/g," "))}var rx=/[?&]($|#)/;function Xr(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof Xr?(this.i=y(a)?a:r.i,Dm(this,r.j),this.A=r.A,this.h=r.h,Lm(this,r.C),this.g=r.g,Mm(this,mw(r.a)),this.s=r.s):r&&(u=String(r).match(Fd))?(this.i=!!a,Dm(this,u[1]||"",!0),this.A=Yl(u[2]||""),this.h=Yl(u[3]||"",!0),Lm(this,u[4]),this.g=Yl(u[5]||"",!0),Mm(this,u[6]||"",!0),this.s=Yl(u[7]||"")):(this.i=!!a,this.a=new Ql(null,this.i))}Xr.prototype.toString=function(){var r=[],a=this.j;a&&r.push(Jl(a,fw,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(Jl(a,fw,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(Jl(u,u.charAt(0)=="/"?ax:ox,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",Jl(u,ux)),r.join("")};function Dm(r,a,u){r.j=u?Yl(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function Lm(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Mm(r,a,u){a instanceof Ql?(r.a=a,cx(r.a,r.i)):(u||(a=Jl(a,lx)),r.a=new Ql(a,r.i))}function Vm(r){return r instanceof Xr?new Xr(r):new Xr(r,void 0)}function Yl(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Jl(r,a,u){return b(r)?(r=encodeURI(r).replace(a,sx),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function sx(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var fw=/[#\/\?@]/g,ox=/[#\?:]/g,ax=/[#\?]/g,lx=/[#\?@]/g,ux=/#/g;function Ql(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function Zr(r){r.a||(r.a=new Js,r.g=0,r.h&&ix(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Ql.prototype,t.add=function(r,a){Zr(this),this.h=null,r=na(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function Qs(r,a){Zr(r),a=na(r,a),dn(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,dn(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&cn(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function pw(r,a){return Zr(r),a=na(r,a),dn(r.a.g,a)}t.forEach=function(r,a){Zr(this),this.a.forEach(function(u,d){et(u,function(m){r.call(a,m,d,this)},this)},this)},t.ja=function(){Zr(this);for(var r=this.a.la(),a=this.a.ja(),u=[],d=0;d<a.length;d++)for(var m=r[d],g=0;g<m.length;g++)u.push(a[d]);return u},t.la=function(r){Zr(this);var a=[];if(b(r))pw(this,r)&&(a=S(a,this.a.get(na(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=S(a,r[u])}return a},t.set=function(r,a){return Zr(this),this.h=null,r=na(this,r),pw(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var d=a[u],m=encodeURIComponent(String(d));d=this.la(d);for(var g=0;g<d.length;g++){var w=m;d[g]!==""&&(w+="="+encodeURIComponent(String(d[g]))),r.push(w)}}return this.h=r.join("&")};function mw(r){var a=new Ql;return a.h=r.h,r.a&&(a.a=new Js(r.a),a.g=r.g),a}function na(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function cx(r,a){a&&!r.j&&(Zr(r),r.h=null,r.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(Qs(this,d),Qs(this,m),0<u.length&&(this.h=null,this.a.set(na(this,m),C(u)),this.g+=u.length))},r)),r.j=a}function Xs(r){this.a=Vm(r)}function dx(r,a){a?r.a.a.set(zt.Sa,a):Qs(r.a.a,zt.Sa)}function hx(r,a){a!==null?r.a.a.set(zt.Qa,a?"1":"0"):Qs(r.a.a,zt.Qa)}function gw(r){return r.a.a.get(zt.Pa)||null}function vw(r,a){a?r.a.a.set(zt.PROVIDER_ID,a):Qs(r.a.a,zt.PROVIDER_ID)}Xs.prototype.toString=function(){return this.a.toString()};var zt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},ia;e:{var yw=v.navigator;if(yw){var _w=yw.userAgent;if(_w){ia=_w;break e}}ia=""}function qe(r){return ia.indexOf(r)!=-1}function ww(){return(qe("Chrome")||qe("CriOS"))&&!qe("Edge")}function Fm(r){return Fm[" "](r),r}Fm[" "]=E;function fx(r,a){var u=gx;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var bw=qe("Opera"),Nt=qe("Trident")||qe("MSIE"),es=qe("Edge"),px=es||Nt,Li=qe("Gecko")&&!(ia.toLowerCase().indexOf("webkit")!=-1&&!qe("Edge"))&&!(qe("Trident")||qe("MSIE"))&&!qe("Edge"),jn=ia.toLowerCase().indexOf("webkit")!=-1&&!qe("Edge"),mx=jn&&qe("Mobile"),ts=qe("Macintosh");function Ew(){var r=v.document;return r?r.documentMode:void 0}var $d;e:{var Um="",$m=function(){var r=ia;if(Li)return/rv:([^\);]+)(\)|;)/.exec(r);if(es)return/Edge\/([\d\.]+)/.exec(r);if(Nt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(jn)return/WebKit\/(\S+)/.exec(r);if(bw)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if($m&&(Um=$m?$m[1]:""),Nt){var jm=Ew();if(jm!=null&&jm>parseFloat(Um)){$d=String(jm);break e}}$d=Um}var gx={};function Zs(r){return fx(r,function(){for(var a=0,u=L(String($d)).split("."),d=L(String(r)).split("."),m=Math.max(u.length,d.length),g=0;a==0&&g<m;g++){var w=u[g]||"",A=d[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],w[0].length==0&&A[0].length==0)break;a=pe(w[1].length==0?0:parseInt(w[1],10),A[1].length==0?0:parseInt(A[1],10))||pe(w[2].length==0,A[2].length==0)||pe(w[2],A[2]),w=w[3],A=A[3]}while(a==0)}return 0<=a})}var Xl,Iw=v.document;Xl=Iw&&Nt?Ew()||(Iw.compatMode=="CSS1Compat"?parseInt($d,10):5):void 0;function ra(r,a){this.a=r===Aw&&a||"",this.g=Tw}ra.prototype.ma=!0,ra.prototype.ka=function(){return this.a},ra.prototype.toString=function(){return"Const{"+this.a+"}"};var Tw={},Aw={};function eo(){this.a="",this.h=Cw}eo.prototype.ma=!0,eo.prototype.ka=function(){return this.a.toString()},eo.prototype.g=function(){return 1},eo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Sw(r){return r instanceof eo&&r.constructor===eo&&r.h===Cw?r.a:(Ze("expected object of type TrustedResourceUrl, got '"+r+"' of type "+R(r)),"type_error:TrustedResourceUrl")}function vx(){var r=lO;r instanceof ra&&r.constructor===ra&&r.g===Tw?r=r.a:(Ze("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new eo;return a.a=r,a}var Cw={};function ci(){this.a="",this.h=kw}ci.prototype.ma=!0,ci.prototype.ka=function(){return this.a.toString()},ci.prototype.g=function(){return 1},ci.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function ns(r){return r instanceof ci&&r.constructor===ci&&r.h===kw?r.a:(Ze("expected object of type SafeUrl, got '"+r+"' of type "+R(r)),"type_error:SafeUrl")}var Rw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jd(r){return r instanceof ci?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Rw.test(r)||(r="about:invalid#zClosurez"),Bm(r))}function Pw(r){return r instanceof ci?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Rw.test(r)||(r="about:invalid#zClosurez"),Bm(r))}var kw={};function Bm(r){var a=new ci;return a.a=r,a}Bm("about:blank");function sa(){this.a="",this.g=xw}sa.prototype.ma=!0;var xw={};sa.prototype.ka=function(){return this.a},sa.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function is(){this.a="",this.j=Ow,this.h=null}is.prototype.g=function(){return this.h},is.prototype.ma=!0,is.prototype.ka=function(){return this.a.toString()},is.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Bd(r){return r instanceof is&&r.constructor===is&&r.j===Ow?r.a:(Ze("expected object of type SafeHtml, got '"+r+"' of type "+R(r)),"type_error:SafeHtml")}var Ow={};function Zl(r,a){var u=new is;return u.a=r,u.h=a,u}Zl("<!DOCTYPE html>",0);var yx=Zl("",0);Zl("<br>",0);var _x=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=Bd(yx),!a.parentElement):!1});function wx(r,a){if(r.src=Sw(a),_===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&I.test(a)){_=a;break e}_=""}a=_,a&&r.setAttribute("nonce",a)}function oa(r,a){a=a instanceof ci?a:Pw(a),r.assign(ns(a))}function rs(r,a){this.a=y(r)?r:0,this.g=y(a)?a:0}rs.prototype.toString=function(){return"("+this.a+", "+this.g+")"},rs.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},rs.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},rs.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Hm(r,a){this.width=r,this.height=a}t=Hm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Hd(r){return r?new zm(eu(r)):Te||(Te=new zm)}function qm(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):Nw(document,r,a)}function Wm(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var d=a||u;r=d.querySelectorAll&&d.querySelector&&r?d.querySelector(r?"."+r:""):Nw(u,r,a)[0]||null}return r||null}function Nw(r,a,u){var d;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var m=r.getElementsByClassName(a);return m}if(m=r.getElementsByTagName("*"),a){var g={};for(u=d=0;r=m[u];u++){var w=r.className;typeof w.split=="function"&&F(w.split(/\s+/),a)&&(g[d++]=r)}return g.length=d,g}return m}function bx(r,a){Oe(a,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?r.style.cssText=u:d=="class"?r.className=u:d=="for"?r.htmlFor=u:Dw.hasOwnProperty(d)?r.setAttribute(Dw[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,u):r[d]=u})}var Dw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qd(r){return r.scrollingElement?r.scrollingElement:(jn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function to(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function eu(r){return r.nodeType==9?r:r.ownerDocument||r.document}function Km(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(eu(r).createTextNode(String(a)))}}function Lw(r,a){return a?Ex(r,function(u){return!a||b(u.className)&&F(u.className.split(/\s+/),a)}):null}function Ex(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function zm(r){this.a=r||v.document||document}zm.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var Wd={Fc:!0},Mw={Hc:!0},Ix={Ec:!0},Vw={Gc:!0};function ss(){throw Error("Do not instantiate directly")}ss.prototype.va=null,ss.prototype.toString=function(){return this.content};function tu(r,a,u,d){if(r=r(a||Sx,void 0,u),d=(d||Hd()).a.createElement("DIV"),r=Tx(r),r.match(Ax),r=Zl(r,null),_x())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=Bd(r),d.childNodes.length==1&&(r=d.firstChild,r.nodeType==1&&(d=r)),d}function Tx(r){if(!G(r))return we(String(r));if(r instanceof ss){if(r.fa===Wd)return r.content;if(r.fa===Vw)return we(r.content)}return Ze("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var Ax=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Sx={};function Cx(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Kd(){ss.call(this)}Q(Kd,ss),Kd.prototype.fa=Wd;function xe(r){return r!=null&&r.fa===Wd?r:r instanceof is?fe(Bd(r).toString(),r.g()):fe(we(String(String(r))),Cx(r))}function zd(){ss.call(this)}Q(zd,ss),zd.prototype.fa=Mw,zd.prototype.va=1;function Gd(r,a){this.content=String(r),this.va=a??null}Q(Gd,ss),Gd.prototype.fa=Vw;function nt(r){return new Gd(r,void 0)}var fe=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=new a(String(u)),d!==void 0&&(u.va=d),u}}(Kd),Rx=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(zd);function Px(r){function a(){}var u={label:Dt("New password")};a.prototype=r,r=new a;for(var d in u)r[d]=u[d];return r}function Dt(r){return(r=String(r))?new Gd(r,void 0):""}var Fw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=String(u),u?(u=new a(u),d!==void 0&&(u.va=d),u):""}}(Kd);function Bn(r){return r!=null&&r.fa===Wd?String(String(r.content).replace(Mx,"").replace(Vx,"&lt;")).replace(Nx,xx):we(String(r))}function no(r){return r!=null&&r.fa===Mw?r=String(r).replace(Ym,Gm):r instanceof ci?r=String(ns(r).toString()).replace(Ym,Gm):(r=String(r),Lx.test(r)?r=r.replace(Ym,Gm):(Ze("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function Uw(r){return r!=null&&r.fa===Ix?r=r.content:r==null?r="":r instanceof sa?r instanceof sa&&r.constructor===sa&&r.g===xw?r=r.a:(Ze("expected object of type SafeStyle, got '"+r+"' of type "+R(r)),r="type_error:SafeStyle"):(r=String(r),Dx.test(r)||(Ze("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var kx={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function xx(r){return kx[r]}var Ox={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function Gm(r){return Ox[r]}var Nx=/[\x00\x22\x27\x3c\x3e]/g,Ym=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Dx=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Lx=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Mx=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Vx=/</g;function Jm(){return nt("Enter a valid phone number")}function $w(){return nt("Unable to send password reset code to specified email")}function jw(){return nt("Something went wrong. Please try again.")}function Bw(){return nt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Hw(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return nt(a)}function qw(){return nt("Please login again to perform this operation")}function nu(r,a,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=Fx+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=jw()}r=nt(r).toString()}this.message=r||"",this.credential=u||null}c(nu,Error),nu.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Fx="firebaseui/";function io(){this.T=this.T,this.C=this.C}var Ux=0;io.prototype.T=!1,io.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Ux!=0)&&(this[se]||(this[se]=++q))};function iu(r,a){r.T?y(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(y(void 0)?ce(a,void 0):a))}io.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ru(r){r&&typeof r.m=="function"&&r.m()}var $x=Object.freeze||function(r){return r},Ww=!Nt||9<=Number(Xl),jx=Nt&&!Zs("9"),Bx=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",E,a),v.removeEventListener("test",E,a)}catch{}return r}();function Tr(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}Tr.prototype.stopPropagation=function(){this.h=!0},Tr.prototype.preventDefault=function(){this.qb=!1};function Hn(r,a){if(Tr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if(Li){e:{try{Fm(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=b(r.pointerType)?r.pointerType:Hx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Q(Hn,Tr);var Hx=$x({2:"touch",3:"pen",4:"mouse"});Hn.prototype.stopPropagation=function(){Hn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Hn.prototype.preventDefault=function(){Hn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,jx)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var su="closure_listenable_"+(1e6*Math.random()|0),qx=0;function Wx(r,a,u,d,m){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.La=m,this.key=++qx,this.sa=this.Ia=!1}function Yd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function Jd(r){this.src=r,this.a={},this.g=0}Jd.prototype.add=function(r,a,u,d,m){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var w=Xm(r,a,d,m);return-1<w?(a=r[w],u||(a.Ia=!1)):(a=new Wx(a,this.src,g,!!d,m),a.Ia=u,r.push(a)),a};function Qm(r,a){var u=a.type;u in r.a&&M(r.a[u],a)&&(Yd(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function Xm(r,a,u,d){for(var m=0;m<r.length;++m){var g=r[m];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==d)return m}return-1}var Zm="closure_lm_"+(1e6*Math.random()|0),eg={};function Mi(r,a,u,d,m){if(d&&d.once)return ou(r,a,u,d,m);if(x(a)){for(var g=0;g<a.length;g++)Mi(r,a[g],u,d,m);return null}return u=ng(u),r&&r[su]?r.J.add(String(a),u,!1,G(d)?!!d.capture:!!d,m):Kw(r,a,u,!1,d,m)}function Kw(r,a,u,d,m,g){if(!a)throw Error("Invalid event type");var w=G(m)?!!m.capture:!!m,A=Qd(r);if(A||(r[Zm]=A=new Jd(r)),u=A.add(a,u,d,w,g),u.proxy)return u;if(d=Kx(),u.proxy=d,d.src=r,d.listener=u,r.addEventListener)Bx||(m=w),m===void 0&&(m=!1),r.addEventListener(a.toString(),d,m);else if(r.attachEvent)r.attachEvent(zw(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function Kx(){var r=zx,a=Ww?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function ou(r,a,u,d,m){if(x(a)){for(var g=0;g<a.length;g++)ou(r,a[g],u,d,m);return null}return u=ng(u),r&&r[su]?r.J.add(String(a),u,!0,G(d)?!!d.capture:!!d,m):Kw(r,a,u,!0,d,m)}function ro(r,a,u,d,m){if(x(a))for(var g=0;g<a.length;g++)ro(r,a[g],u,d,m);else d=G(d)?!!d.capture:!!d,u=ng(u),r&&r[su]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=Xm(g,u,d,m),-1<u&&(Yd(g[u]),k(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=Qd(r))&&(a=r.a[a.toString()],r=-1,a&&(r=Xm(a,u,d,m)),(u=-1<r?a[r]:null)&&os(u))}function os(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[su])Qm(a.J,r);else{var u=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(u,d,r.capture):a.detachEvent?a.detachEvent(zw(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=Qd(a))?(Qm(u,r),u.g==0&&(u.src=null,a[Zm]=null)):Yd(r)}}}function zw(r){return r in eg?eg[r]:eg[r]="on"+r}function Gw(r,a,u,d){var m=!0;if((r=Qd(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=Yw(g,d),m=m&&g!==!1)}return m}function Yw(r,a){var u=r.listener,d=r.La||r.src;return r.Ia&&os(r),u.call(d,a)}function zx(r,a){if(r.sa)return!0;if(!Ww){if(!a)e:{a=["window","event"];for(var u=v,d=0;d<a.length;d++)if(u=u[a[d]],u==null){a=null;break e}a=u}if(d=a,a=new Hn(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.g;m;m=m.parentNode)d.push(m);for(r=r.type,m=d.length-1;!a.h&&0<=m;m--){a.g=d[m];var g=Gw(d[m],r,!0,a);u=u&&g}for(m=0;!a.h&&m<d.length;m++)a.g=d[m],g=Gw(d[m],r,!1,a),u=u&&g}return u}return Yw(r,new Hn(a,this))}function Qd(r){return r=r[Zm],r instanceof Jd?r:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ng(r){return U(r)?r:(r[tg]||(r[tg]=function(a){return r.handleEvent(a)}),r[tg])}function Gt(){io.call(this),this.J=new Jd(this),this.wb=this,this.Ha=null}Q(Gt,io),Gt.prototype[su]=!0,Gt.prototype.Za=function(r){this.Ha=r},Gt.prototype.removeEventListener=function(r,a,u,d){ro(this,r,a,u,d)};function as(r,a){var u,d=r.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(r=r.wb,d=a.type||a,b(a))a=new Tr(a,r);else if(a instanceof Tr)a.target=a.target||r;else{var m=a;a=new Tr(d,r),tt(a,m)}if(m=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];m=Xd(w,d,!0,a)&&m}if(a.h||(w=a.g=r,m=Xd(w,d,!0,a)&&m,a.h||(m=Xd(w,d,!1,a)&&m)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],m=Xd(w,d,!1,a)&&m;return m}Gt.prototype.o=function(){if(Gt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],d=0;d<u.length;d++)Yd(u[d]);delete r.a[a],r.g--}}this.Ha=null};function Xd(r,a,u,d){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var A=w.listener,D=w.La||w.src;w.Ia&&Qm(r.J,w),m=A.call(D,d)!==!1&&m}}return m&&d.qb!=0}var di={},Jw=0;function Qw(r,a){if(!r)throw Error("Event target element must be provided!");if(r=ig(r),di[r]&&di[r].length)for(var u=0;u<di[r].length;u++)as(di[r][u],a)}function Gx(r){var a=ig(r.N());di[a]&&di[a].length&&(be(di[a],function(u){return u==r}),di[a].length||delete di[a])}function ig(r){return typeof r.a>"u"&&(r.a=Jw,Jw++),r.a}function Zd(r){if(!r)throw Error("Event target element must be provided!");Gt.call(this),this.a=r}c(Zd,Gt),Zd.prototype.N=function(){return this.a},Zd.prototype.register=function(){var r=ig(this.N());di[r]?F(di[r],this)||di[r].push(this):di[r]=[this]};function Xw(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function rg(r,a){this.h=r,this.j=a,this.g=0,this.a=null}rg.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Zw(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function eb(){this.g=this.a=null}var tb=new rg(function(){return new sg},function(r){r.reset()});eb.prototype.add=function(r,a){var u=tb.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function Yx(){var r=ib,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function sg(){this.next=this.g=this.a=null}sg.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},sg.prototype.reset=function(){this.next=this.g=this.a=null};function nb(r){v.setTimeout(function(){throw r},0)}var og;function Jx(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!qe("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var w="callImmediate"+Math.random(),A=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=ce(function(D){(A=="*"||D.origin==A)&&D.data==w&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,A)}}}),typeof r<"u"&&!qe("Trident")&&!qe("MSIE")){var a=new r,u={},d=u;return a.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function ag(r,a){eh||Qx(),lg||(eh(),lg=!0),ib.add(r,a)}var eh;function Qx(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);eh=function(){r.then(rb)}}else eh=function(){var a=rb;!U(v.setImmediate)||v.Window&&v.Window.prototype&&!qe("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(og||(og=Jx()),og(a)):v.setImmediate(a)}}var lg=!1,ib=new eb;function rb(){for(var r;r=Yx();){try{r.a.call(r.g)}catch(a){nb(a)}Zw(tb,r)}lg=!1}function Yt(r){if(this.a=so,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=E)try{var a=this;r.call(void 0,function(u){oo(a,au,u)},function(u){if(!(u instanceof la))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}oo(a,Ar,u)})}catch(u){oo(this,Ar,u)}}var so=0,au=2,Ar=3;function sb(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}sb.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var ob=new rg(function(){return new sb},function(r){r.reset()});function ug(r,a,u){var d=ob.get();return d.s=r,d.g=a,d.j=u,d}function Lt(r){if(r instanceof Yt)return r;var a=new Yt(E);return oo(a,au,r),a}function aa(r){return new Yt(function(a,u){u(r)})}Yt.prototype.then=function(r,a,u){return lb(this,U(r)?r:null,U(a)?a:null,u)},Yt.prototype.$goog_Thenable=!0,t=Yt.prototype,t.fc=function(r,a){return r=ug(r,r,a),r.h=!0,cg(this,r),this},t.Ca=function(r,a){return lb(this,null,r,a)},t.cancel=function(r){this.a==so&&ag(function(){var a=new la(r);ab(this,a)},this)};function ab(r,a){if(r.a==so)if(r.h){var u=r.h;if(u.g){for(var d=0,m=null,g=null,w=u.g;w&&(w.h||(d++,w.a==r&&(m=w),!(m&&1<d)));w=w.next)m||(g=w);m&&(u.a==so&&d==1?ab(u,a):(g?(d=g,d.next==u.j&&(u.j=d),d.next=d.next.next):cb(u),db(u,m,Ar,a)))}r.h=null}else oo(r,Ar,a)}function cg(r,a){r.g||r.a!=au&&r.a!=Ar||ub(r),r.j?r.j.next=a:r.g=a,r.j=a}function lb(r,a,u,d){var m=ug(null,null,null);return m.a=new Yt(function(g,w){m.s=a?function(A){try{var D=a.call(d,A);g(D)}catch(Y){w(Y)}}:g,m.g=u?function(A){try{var D=u.call(d,A);!y(D)&&A instanceof la?w(A):g(D)}catch(Y){w(Y)}}:w}),m.a.h=r,cg(r,m),m.a}t.hc=function(r){this.a=so,oo(this,au,r)},t.ic=function(r){this.a=so,oo(this,Ar,r)};function oo(r,a,u){if(r.a==so){r===u&&(a=Ar,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var d=u,m=r.hc,g=r.ic;if(d instanceof Yt){cg(d,ug(m||E,g||null,r));var w=!0}else if(Xw(d))d.then(m,g,r),w=!0;else{if(G(d))try{var A=d.then;if(U(A)){Xx(d,A,m,g,r),w=!0;break e}}catch(D){g.call(r,D),w=!0;break e}w=!1}}w||(r.A=u,r.a=a,r.h=null,ub(r),a!=Ar||u instanceof la||Zx(r,u))}}function Xx(r,a,u,d,m){function g(D){A||(A=!0,d.call(m,D))}function w(D){A||(A=!0,u.call(m,D))}var A=!1;try{a.call(r,w,g)}catch(D){g(D)}}function ub(r){r.i||(r.i=!0,ag(r.Hb,r))}function cb(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=cb(this);)db(this,r,this.a,this.A);this.i=!1};function db(r,a,u,d){if(u==Ar&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,hb(a,u,d);else try{a.h?a.s.call(a.j):hb(a,u,d)}catch(m){fb.call(null,m)}Zw(ob,a)}function hb(r,a,u){a==au?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function Zx(r,a){r.s=!0,ag(function(){r.s&&fb.call(null,a)})}var fb=nb;function la(r){de.call(this,r)}Q(la,de),la.prototype.name="cancel";function pb(r,a,u){a||(a={}),u=u||window;var d=r instanceof ci?r:jd(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var m=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(a[g]?1:0))}var g=m.join(",");return(qe("iPhone")&&!qe("iPod")&&!qe("iPad")||qe("iPad")||qe("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),d=d instanceof ci?d:Pw(d),g.href=ns(d),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=ns(d).toString(),u&&(px&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Zl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+we(a)+'">',null),u.document.write(Bd(a)),u.document.close())):(u=u.open(ns(d).toString(),r,g))&&a.noopener&&(u.opener=null),u}function mb(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function ua(r){pb(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function th(r,a){if(r=G(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function Sr(){return window.location.href}function eO(){var r=null;return new Yt(function(a){v.document.readyState=="complete"?a():(r=function(){a()},ou(window,"load",r))}).Ca(function(a){throw ro(window,"load",r),a})}function tO(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function nO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(d){return a.includes(d)}).reduce(function(d,m){return d[m]=r[m],d},u)}function ls(r){var a=sO;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}ls.prototype.cancel=function(r){if(this.a)this.h instanceof ls&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new uu,nh(this),lu(this,!1,r))}},ls.prototype.L=function(r,a){this.A=!1,lu(this,r,a)};function lu(r,a,u){r.a=!0,r.h=u,r.j=!a,yb(r)}function nh(r){if(r.a){if(!r.J)throw new ih;r.J=!1}}ls.prototype.callback=function(r){nh(this),lu(this,!0,r)};function gb(r,a,u){r.s.push([a,u,void 0]),r.a&&yb(r)}ls.prototype.then=function(r,a,u){var d,m,g=new Yt(function(w,A){d=w,m=A});return gb(this,d,function(w){w instanceof uu?g.cancel():m(w)}),g.then(r,a,u)},ls.prototype.$goog_Thenable=!0;function vb(r){return $t(r.s,function(a){return U(a[1])})}function yb(r){if(r.i&&r.a&&vb(r)){var a=r.i,u=rh[a];u&&(v.clearTimeout(u.a),delete rh[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var d=u=!1;r.s.length&&!r.A;){var m=r.s.shift(),g=m[0],w=m[1];if(m=m[2],g=r.j?w:g)try{var A=g.call(m||r.O,a);y(A)&&(r.j=r.j&&(A==a||A instanceof Error),r.h=a=A),(Xw(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(d=!0,r.A=!0)}catch(D){a=D,r.j=!0,vb(r)||(u=!0)}}r.h=a,d&&(A=ce(r.L,r,!0),d=ce(r.L,r,!1),a instanceof ls?(gb(a,A,d),a.l=!0):a.then(A,d)),u&&(a=new _b(a),rh[a.a]=a,r.i=a.a)}function ih(){de.call(this)}Q(ih,de),ih.prototype.message="Deferred has already fired",ih.prototype.name="AlreadyCalledError";function uu(){de.call(this)}Q(uu,de),uu.prototype.message="Deferred was canceled",uu.prototype.name="CanceledError";function _b(r){this.a=v.setTimeout(ce(this.h,this),0),this.g=r}_b.prototype.h=function(){throw delete rh[this.a],this.g};var rh={};function iO(r){var a={},u=a.document||document,d=Sw(r).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},w=new ls(g),A=null,D=a.timeout!=null?a.timeout:5e3;return 0<D&&(A=window.setTimeout(function(){sh(m,!0);var Y=new dg(aO,"Timeout reached for loading script "+d);nh(w),lu(w,!1,Y)},D),g.sb=A),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(sh(m,a.xc||!1,A),w.callback(null))},m.onerror=function(){sh(m,!0,A);var Y=new dg(oO,"Error while loading script "+d);nh(w),lu(w,!1,Y)},g=a.attributes||{},tt(g,{type:"text/javascript",charset:"UTF-8"}),bx(m,g),wx(m,r),rO(u).appendChild(m),w}function rO(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function sO(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&sh(r,!0,this.sb)}}function sh(r,a,u){u!=null&&v.clearTimeout(u),r.onload=E,r.onerror=E,r.onreadystatechange=E,a&&window.setTimeout(function(){to(r)},0)}var oO=0,aO=1;function dg(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),de.call(this,u),this.code=r}Q(dg,de);function cu(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function hg(r){this.a=r||cu(),this.h=!1,this.g=null}hg.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function wb(r,a,u){if(r.a&&a)return function(){return r.h=!0,new Yt(function(m){r.g=m,r.a.initialize({client_id:a,callback:m,auto_select:!u}),r.a.prompt()})}();if(a){var d=fg.Xa().load().then(function(){return r.a=cu(),wb(r,a,u)}).Ca(function(){return null});return Lt(d)}return Lt(null)}T(hg);var lO=new ra(Aw,"https://accounts.google.com/gsi/client");function fg(){this.a=null}fg.prototype.load=function(){var r=this;if(this.a)return this.a;var a=vx();return cu()?Lt():this.a=eO().then(function(){if(!cu())return new Yt(function(u,d){var m=setTimeout(function(){r.a=null,d(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},Lt(iO(a)).then(function(){cu()&&u()}).Ca(function(g){clearTimeout(m),r.a=null,d(g)})})})},T(fg);function pg(r,a){this.a=r,this.g=a||function(u){throw u}}pg.prototype.confirm=function(r){return Lt(this.a.confirm(r)).Ca(this.g)};function mg(r,a,u){this.reset(r,a,u,void 0,void 0)}mg.prototype.a=null,mg.prototype.reset=function(r,a,u,d,m){this.h=d||Xe(),this.j=r,this.s=a,this.g=u,delete this.a};function gg(r){this.s=r,this.a=this.h=this.j=this.g=null}function oh(r,a){this.name=r,this.value=a}oh.prototype.toString=function(){return this.name};var bb=new oh("SEVERE",1e3),Eb=new oh("WARNING",900),Ib=new oh("CONFIG",700);function Tb(r){return r.j?r.j:r.g?Tb(r.g):(Ze("Root logger has no level set."),null)}gg.prototype.log=function(r,a,u){if(r.value>=Tb(this).value)for(U(a)&&(a=a()),r=new mg(r,String(a),this.s),u&&(r.a=u),u=this;u;){var d=u,m=r;if(d.a)for(var g=0;a=d.a[g];g++)a(m);u=u.g}};var vg={},du=null;function Ab(){du||(du=new gg(""),vg[""]=du,du.j=Ib)}function Sb(r){Ab();var a;if(!(a=vg[r])){a=new gg(r);var u=r.lastIndexOf("."),d=r.substr(u+1);u=Sb(r.substr(0,u)),u.h||(u.h={}),u.h[d]=a,a.g=u,vg[r]=a}return a}function ah(){this.a=Xe()}var yg=null;ah.prototype.set=function(r){this.a=r},ah.prototype.reset=function(){this.set(Xe())},ah.prototype.get=function(){return this.a};function hu(r){this.j=r||"",yg||(yg=new ah),this.s=yg}hu.prototype.a=!0,hu.prototype.g=!0,hu.prototype.h=!1;function ao(r){return 10>r?"0"+r:String(r)}function uO(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function Cb(r){hu.call(this,r)}Q(Cb,hu);function cO(r,a){var u=[];if(u.push(r.j," "),r.g){var d=new Date(a.h);u.push("[",ao(d.getFullYear()-2e3)+ao(d.getMonth()+1)+ao(d.getDate())+" "+ao(d.getHours())+":"+ao(d.getMinutes())+":"+ao(d.getSeconds())+"."+ao(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",uO(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function Rb(){this.s=ce(this.h,this),this.a=new Cb,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Rb.prototype.h=function(r){function a(g){if(g){if(g.value>=bb.value)return"error";if(g.value>=Eb.value)return"warn";if(g.value>=Ib.value)return"log"}return"debug"}if(!this.j[r.g]){var u=cO(this.a,r),d=dO;if(d){var m=a(r.j);hO(d,m,u,r.a)}}};var dO=v.console;function hO(r,a,u,d){r[a]?r[a](u,d||""):r.log(u,d||"")}function hi(r,a){var u=_g;u&&u.log(bb,r,a)}var _g;_g=Sb("firebaseui");var wg=new Rb;if(wg.g!=1){var lh;Ab(),lh=du;var fO=wg.s;lh.a||(lh.a=[]),lh.a.push(fO),wg.g=!0}function us(r){var a=_g;a&&a.log(Eb,r,void 0)}function Pb(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=Pb.prototype,t.set=function(r,a,u,d,m,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');y(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Xe()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+m+d+u+g},t.get=function(r,a){for(var u=r+"=",d=(this.a.cookie||"").split(";"),m=0,g;m<d.length;m++){if(g=L(d[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return bg(this).keys},t.la=function(){return bg(this).values},t.clear=function(){for(var r=bg(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function bg(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],d,m,g=0;g<r.length;g++)m=L(r[g]),d=m.indexOf("="),d==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:a,values:u}}var uh=new Pb;function kb(){}function ca(r,a,u,d){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!d}c(ca,kb),ca.prototype.set=function(r,a){uh.set(r,a,this.h,this.g,this.a,this.j)},ca.prototype.get=function(r){return uh.get(r)||null},ca.prototype.ra=function(r){var a=this.g,u=this.a;uh.get(r),uh.set(r,"",0,a,u)};function Eg(r,a){this.g=r,this.a=a||null}function xb(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function Ob(r){if(r&&r.email){var a=r.credential&&Ee.auth.AuthCredential.fromJSON(r.credential);return new Eg(r.email,a)}return null}function Nb(r){this.a=r||null}function Db(r){for(var a=[],u=0,d=0;d<r.length;d++){var m=r.charCodeAt(d);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function pO(r){return Qr(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function ch(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(da*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<da*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,Ub(a),a[0]^=hh[r/this.g][0],a[1]^=hh[r/this.g][1],a[2]^=hh[r/this.g][2],a[3]^=hh[r/this.g][3]}else 6<this.g&&r%this.g==4&&Ub(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}ch.prototype.A=16;var da=ch.prototype.A/4;function Lb(r,a){for(var u,d=0;d<da;d++)for(var m=0;4>m;m++)u=4*m+d,u=a[u],r.h[d][m]=u}function Mb(r){for(var a=[],u=0;u<da;u++)for(var d=0;4>d;d++)a[4*d+u]=r.h[u][d];return a}function ha(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]^=r.a[4*a+d][u]}function dh(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]=a[r.h[u][d]]}function Vb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%da]}function Fb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%da]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function Ub(r){r[0]=fa[r[0]],r[1]=fa[r[1]],r[2]=fa[r[2]],r[3]=fa[r[3]]}var fa=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],$b=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],hh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],fh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],ph=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],mh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],gh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],vh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],yh=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function jb(r,a){r=new ch(Hb(r)),a=Db(a);for(var u=a.splice(0,16),d="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=r,Lb(m,u),ha(m,0),u=1;u<m.j;++u){dh(m,fa),Vb(m),g=m.h;for(var w=m.s[0],A=0;4>A;A++)w[0]=g[0][A],w[1]=g[1][A],w[2]=g[2][A],w[3]=g[3][A],g[0][A]=fh[w[0]]^ph[w[1]]^w[2]^w[3],g[1][A]=w[0]^fh[w[1]]^ph[w[2]]^w[3],g[2][A]=w[0]^w[1]^fh[w[2]]^ph[w[3]],g[3][A]=ph[w[0]]^w[1]^w[2]^fh[w[3]];ha(m,u)}dh(m,fa),Vb(m),ha(m,m.j),d+=pO(Mb(m)),u=a.splice(0,16)}return d}function Bb(r,a){r=new ch(Hb(r));for(var u=[],d=0;d<a.length;d+=2)u.push(parseInt(a.substring(d,d+2),16));var m=u.splice(0,16);for(a="";m.length;){for(d=r,Lb(d,m),ha(d,d.j),m=1;m<d.j;++m){Fb(d),dh(d,$b),ha(d,d.j-m);for(var g=d.h,w=d.s[0],A=0;4>A;A++)w[0]=g[0][A],w[1]=g[1][A],w[2]=g[2][A],w[3]=g[3][A],g[0][A]=yh[w[0]]^gh[w[1]]^vh[w[2]]^mh[w[3]],g[1][A]=mh[w[0]]^yh[w[1]]^gh[w[2]]^vh[w[3]],g[2][A]=vh[w[0]]^mh[w[1]]^yh[w[2]]^gh[w[3]],g[3][A]=gh[w[0]]^vh[w[1]]^mh[w[2]]^yh[w[3]]}if(Fb(d),dh(d,$b),ha(d,0),d=Mb(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",g=0;g<d.length;g+=8192)m+=String.fromCharCode.apply(null,O(d,g,g+8192));d=m}a+=d,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function Hb(r){r=Db(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function qb(r){var a=[];return Ig(new mO,r,a),a.join("")}function mO(){}function Ig(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(x(a)){var d=a;a=d.length,u.push("[");for(var m="",g=0;g<a;g++)u.push(m),Ig(r,d[g],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(g=a[d],typeof g!="function"&&(u.push(m),Kb(d,u),u.push(":"),Ig(r,g,u),m=","));u.push("}");return}}switch(typeof a){case"string":Kb(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var Wb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},gO=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Kb(r,a){a.push('"',r.replace(gO,function(u){var d=Wb[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),Wb[u]=d),d}),'"')}function fu(r){this.a=r}fu.prototype.set=function(r,a){y(a)?this.a.set(r,qb(a)):this.a.ra(r)},fu.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function _h(){}Q(_h,kb),_h.prototype.clear=function(){var r=Ys(this.ha(!0)),a=this;et(r,function(u){a.ra(u)})};function wh(r){this.a=r}Q(wh,_h);function bh(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=wh.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!b(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,d=new on;return d.next=function(){if(a>=u.length)throw wt;var m=u.key(a++);if(r)return m;if(m=u.getItem(m),!b(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function Tg(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}Q(Tg,wh);function Ag(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}Q(Ag,wh);function pa(r,a){this.g=r,this.a=a+"::"}Q(pa,_h),pa.prototype.set=function(r,a){this.g.set(this.a+r,a)},pa.prototype.get=function(r){return this.g.get(this.a+r)},pa.prototype.ra=function(r){this.g.ra(this.a+r)},pa.prototype.ha=function(r){var a=this.g.ha(!0),u=this,d=new on;return d.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return r?m.substr(u.a.length):u.g.get(m)},d},bh(new Tg);var zb,Gb=new Ag;zb=bh(Gb)?new pa(Gb,"firebaseui"):null;var Sg=new fu(zb),Cg={name:"pendingEmailCredential",storage:Sg},lo={name:"redirectStatus",storage:Sg},pu={name:"redirectUrl",storage:Sg},ma={name:"emailForSignIn",storage:new fu(new ca(3600,"/"))},mu={name:"pendingEncryptedCredential",storage:new fu(new ca(3600,"/"))};function ga(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function ei(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function va(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function Yb(r){return ga(pu,r)||null}function er(r){return r=ga(Cg,r)||null,Ob(r)}function tr(r){ei(Cg,r)}function Jb(r,a){va(Cg,xb(r),a)}function Rg(r){return(r=ga(lo,r)||null)&&typeof r.tenantId<"u"?new Nb(r.tenantId):null}function vO(r,a){va(lo,{tenantId:r.a},a)}function yO(r,a){a=ga(ma,a);var u=null;if(a)try{var d=Bb(r,a),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function _O(r,a){a=ga(mu,a);var u=null;if(a)try{var d=Bb(r,a);u=JSON.parse(d)}catch{}return Ob(u||null)}function wO(r,a,u){va(mu,jb(r,JSON.stringify(xb(a))),u)}function Pg(){this.W={}}function jt(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function kg(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}Pg.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function xg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function Og(){this.g=void 0,this.a={}}t=Og.prototype,t.set=function(r,a){Qb(this,r,a,!1)},t.add=function(r,a){Qb(this,r,a,!0)};function Qb(r,a,u,d){for(var m=0;m<a.length;m++){var g=a.charAt(m);r.a[g]||(r.a[g]=new Og),r=r.a[g]}if(d&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return Xb(this,r),r};function Xb(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)Xb(r.a[u],a)}t.ja=function(){var r=[];return Zb(this,"",r),r};function Zb(r,a,u){r.g!==void 0&&u.push(a);for(var d in r.a)Zb(r.a[d],a+d,u)}t.clear=function(){this.a={},this.g=void 0};function e1(r){for(this.a=r,this.g=new Og,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function Eh(r,a){r=r.g;var u={},d=0;for(r.g!==void 0&&(u[d]=r.g);d<a.length;d++){var m=a.charAt(d);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(u[d]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function uo(r){for(var a=0;a<qn.length;a++)if(qn[a].c===r)return qn[a];return null}function t1(r){r=r.toUpperCase();for(var a=[],u=0;u<qn.length;u++)qn[u].f===r&&a.push(qn[u]);return a}function n1(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<qn.length;u++)qn[u].b==r&&a.push(qn[u]);r=a}else r=t1(r);return r}function i1(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var qn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];i1(qn);var gu=new e1(qn);function r1(r,a){this.a=r,this.Aa=a}function s1(r){r=L(r);var a=Eh(gu,r);return 0<a.length?new r1(a[0].b=="1"?"1-US-0":a[0].c,L(r.substr(a[0].b.length+1))):null}function Ng(r){var a=uo(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function o1(r,a){for(var u=0;u<r.length;u++)if(!F(a1,r[u])&&(ya!==null&&r[u]in ya||F(a,r[u])))return r[u];return null}var a1=["emailLink","password","phone"],ya={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function bO(){this.a=new Pg,jt(this.a,"autoUpgradeAnonymousUsers"),jt(this.a,"callbacks"),jt(this.a,"credentialHelper",Ah),jt(this.a,"immediateFederatedRedirect",!1),jt(this.a,"popupMode",!1),jt(this.a,"privacyPolicyUrl"),jt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),jt(this.a,"queryParameterForWidgetMode","mode"),jt(this.a,"signInFlow"),jt(this.a,"signInOptions"),jt(this.a,"signInSuccessUrl"),jt(this.a,"siteName"),jt(this.a,"tosUrl"),jt(this.a,"widgetUrl"),jt(this.a,"adminRestrictedOperation")}function Ih(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!v1(r)&&hi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function Th(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var d=r[u];d=G(d)?d:{provider:d},d.provider&&a.push(d)}return a}function fi(r,a){r=Th(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function _a(r){return Th(r).map(function(a){return a.provider})}function vu(r,a){r=l1(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function l1(r){return Th(r).map(function(a){if(ya[a.provider]||F(xO,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?ns(jd(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?ns(jd(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function u1(r){var a=fi(r,Ee.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in r=r.a.get("credentialHelper"),Fg)if(Fg[d]===r){var d=Fg[d];break e}}d=Ah}u=d===Vg}return u&&a.clientId||null}function c1(r){return r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function co(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function EO(r){var a=null;if(Th(r).forEach(function(d){d.provider==Ee.auth.PhoneAuthProvider.PROVIDER_ID&&G(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(a=je(d.recaptchaParameters))}),a){var u=[];OO.forEach(function(d){typeof a[d]<"u"&&(u.push(d),delete a[d])}),u.length&&us('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function IO(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function TO(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){ua(a)}}return null}function AO(r){return(r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function SO(r){if((r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){ua(a)}}return null}function d1(r,a){return r=(r=fi(r,a))&&r.scopes,Array.isArray(r)?r:[]}function h1(r,a){return r=(r=fi(r,a))&&r.customParameters,G(r)?(r=je(r),a===Ee.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===Ee.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function CO(r){r=fi(r,Ee.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=s1(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function RO(r){var a=(r=fi(r,Ee.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&t1(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=s1(r.loginHint)),a&&a[0]||u&&uo(u.a)||null}function Dg(r){if(r=fi(r,Ee.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return qn;if(r=[],a){u={};for(var d=0;d<a.length;d++)for(var m=n1(a[d]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var w in u)u.hasOwnProperty(w)&&r.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(m=n1(u[a]),d=0;d<m.length;d++)w[m[d].c]=m[d];for(m=0;m<qn.length;m++)w!==null&&qn[m].c in w||r.push(qn[m])}return r}function f1(r){return xg(r.a,"queryParameterForWidgetMode")}function Bt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&us("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){ua(a)}}return null}function Ht(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&us("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){ua(u)}}return null}function p1(r){return(r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function wa(r){return r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==Ee.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function PO(r){return r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function kO(r){if(wa(r)){var a={url:Sr(),handleCodeInApp:!0};(r=fi(r,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&tt(a,r.emailLinkSignIn()),r=a.url;var u=Sr();u instanceof Xr||(u=Vm(u)),r instanceof Xr||(r=Vm(r));var d=u;u=new Xr(d);var m=!!r.j;m?Dm(u,r.j):m=!!r.A,m?u.A=r.A:m=!!r.h,m?u.h=r.h:m=r.C!=null;var g=r.g;if(m)Lm(u,r.C);else if(m=!!r.g){if(g.charAt(0)!="/"&&(d.h&&!d.g?g="/"+g:(d=u.g.lastIndexOf("/"),d!=-1&&(g=u.g.substr(0,d+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],A=0;A<g.length;){var D=g[A++];D=="."?d&&A==g.length&&w.push(""):D==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&A==g.length&&w.push("")):(w.push(D),d=!0)}g=w.join("/")}}return m?u.g=g:m=r.a.toString()!=="",m?Mm(u,mw(r.a)):m=!!r.s,m&&(u.s=r.s),a.url=u.toString(),a}return null}function Lg(r){var a=!!r.a.get("immediateFederatedRedirect"),u=_a(r);return r=m1(r),a&&u.length==1&&!F(a1,u[0])&&r==Sh}function m1(r){r=r.a.get("signInFlow");for(var a in Ug)if(Ug[a]==r)return Ug[a];return Sh}function Mg(r){return yu(r).signInSuccess||null}function g1(r){return yu(r).signInSuccessWithAuthResult||null}function v1(r){return yu(r).signInFailure||null}function yu(r){return r.a.get("callbacks")||{}}var Vg="googleyolo",Ah="none",Fg={nc:Vg,NONE:Ah},Sh="redirect",Ug={qc:"popup",rc:Sh},$g={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},xO=["anonymous"],OO=["sitekey","tabindex","callback","expired-callback"],_u,ba,jg,y1,ot={};function me(r,a,u,d){ot[r].apply(null,Array.prototype.slice.call(arguments,1))}function _1(r){return r.classList?r.classList:(r=r.className,b(r)&&r.match(/\S+/g)||[])}function wu(r,a){return r.classList?r.classList.contains(a):F(_1(r),a)}function nr(r,a){r.classList?r.classList.add(a):wu(r,a)||(r.className+=0<r.className.length?" "+a:a)}function ir(r,a){r.classList?r.classList.remove(a):wu(r,a)&&(r.className=ui(_1(r),function(u){return u!=a}).join(" "))}function hn(r){var a=r.type;switch(b(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,d=0;u=r.options[d];d++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function w1(r,a){var u=r.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,b(a)){for(var d=0;u=r.options[d];d++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(b(a)&&(a=[a]),d=0;u=r.options[d];d++)if(u.selected=!1,a)for(var m,g=0;m=a[g];g++)u.value==m&&(u.selected=!0);break;default:r.value=a??""}}function NO(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(bu(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Li;default:return 166>r.keyCode||183<r.keyCode}}function b1(r,a,u,d,m,g){if(jn&&!Zs("525"))return!0;if(ts&&m)return bu(r);if(m&&!d)return!1;if(!Li){typeof a=="number"&&(a=Bg(a));var w=a==17||a==18||ts&&a==91;if((!u||ts)&&w||ts&&a==16&&(d||g))return!1}if((jn||es)&&d&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Nt&&d&&a==r)return!1;switch(r){case 13:return Li?g||m?!1:!(u&&d):!0;case 27:return!(jn||es||Li)}return Li&&(d||m||g)?!1:bu(r)}function bu(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(jn||es)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Li;default:return!1}}function Bg(r){if(Li)r=DO(r);else if(ts&&jn)switch(r){case 93:r=91}return r}function DO(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function Ea(r){Gt.call(this),this.a=r,Mi(r,"keydown",this.g,!1,this),Mi(r,"click",this.h,!1,this)}Q(Ea,Gt),Ea.prototype.g=function(r){(r.keyCode==13||jn&&r.keyCode==3)&&E1(this,r)},Ea.prototype.h=function(r){E1(this,r)};function E1(r,a){var u=new T1(a);if(as(r,u)){u=new I1(a);try{as(r,u)}finally{a.stopPropagation()}}}Ea.prototype.o=function(){Ea.K.o.call(this),ro(this.a,"keydown",this.g,!1,this),ro(this.a,"click",this.h,!1,this),delete this.a};function I1(r){Hn.call(this,r.a),this.type="action"}Q(I1,Hn);function T1(r){Hn.call(this,r.a),this.type="beforeaction"}Q(T1,Hn);function Ia(r){Gt.call(this),this.a=r,r=Nt?"focusout":"blur",this.g=Mi(this.a,Nt?"focusin":"focus",this,!Nt),this.h=Mi(this.a,r,this,!Nt)}Q(Ia,Gt),Ia.prototype.handleEvent=function(r){var a=new Hn(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",as(this,a)},Ia.prototype.o=function(){Ia.K.o.call(this),os(this.g),os(this.h),delete this.a};function Ch(r,a){Gt.call(this),this.g=r||1,this.a=a||v,this.h=ce(this.gc,this),this.j=Xe()}Q(Ch,Gt),t=Ch.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=Xe()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),as(this,"tick"),this.Ka&&(Rh(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Xe())};function Rh(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){Ch.K.o.call(this),Rh(this),delete this.a};function LO(r,a){if(U(r))a&&(r=ce(r,a));else if(r&&typeof r.handleEvent=="function")r=ce(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function Ta(r){io.call(this),this.g=r,this.a={}}Q(Ta,io);var A1=[];function Aa(r,a,u,d){x(u)||(u&&(A1[0]=u.toString()),u=A1);for(var m=0;m<u.length;m++){var g=Mi(a,u[m],d||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function S1(r){Oe(r.a,function(a,u){this.a.hasOwnProperty(u)&&os(a)},r),r.a={}}Ta.prototype.o=function(){Ta.K.o.call(this),S1(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eu(r){Gt.call(this),this.a=null,this.g=r,r=Nt||es||jn&&!Zs("531")&&r.tagName=="TEXTAREA",this.h=new Ta(this),Aa(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}Q(Eu,Gt),Eu.prototype.handleEvent=function(r){if(r.type=="input")Nt&&Zs(10)&&r.keyCode==0&&r.j==0||(Hg(this),as(this,C1(r)));else if(r.type!="keydown"||NO(r)){var a=r.type=="keydown"?this.g.value:null;Nt&&r.keyCode==229&&(a=null);var u=C1(r);Hg(this),this.a=LO(function(){this.a=null,this.g.value!=a&&as(this,u)},this)}};function Hg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function C1(r){return r=new Hn(r.a),r.type="input",r}Eu.prototype.o=function(){Eu.K.o.call(this),this.h.m(),Hg(this),delete this.g};function Iu(r,a){Gt.call(this),r&&(this.Oa&&O1(this),this.qa=r,this.Na=Mi(this.qa,"keypress",this,a),this.Ya=Mi(this.qa,"keydown",this.Jb,a,this),this.Oa=Mi(this.qa,"keyup",this.Kb,a,this))}Q(Iu,Gt),t=Iu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var R1={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},P1={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},k1=!jn||Zs("525"),x1=ts&&Li;t=Iu.prototype,t.Jb=function(r){(jn||es)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||ts&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),k1&&!b1(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=Bg(r.keyCode),x1&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Nt&&r.type=="keypress")var d=this.X,m=d!=13&&d!=27?a.keyCode:0;else(jn||es)&&r.type=="keypress"?(d=this.X,m=0<=a.charCode&&63232>a.charCode&&bu(d)?a.charCode:0):bw&&!jn?(d=this.X,m=bu(d)?a.keyCode:0):(r.type=="keypress"?(x1&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(d=a.keyCode,m=0):(d=this.X,m=a.charCode):(d=a.keyCode||this.X,m=a.charCode||0)):(d=a.keyCode||this.X,m=a.charCode||0),ts&&m==63&&d==224&&(d=191));var g=d=Bg(d);d?63232<=d&&d in R1?g=R1[d]:d==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in P1&&(g=P1[a.keyIdentifier]),Li&&k1&&r.type=="keypress"&&!b1(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new N1(g,m,r,a),a.altKey=u,as(this,a))},t.N=function(){return this.qa};function O1(r){r.Na&&(os(r.Na),os(r.Ya),os(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){Iu.K.o.call(this),O1(this)};function N1(r,a,u,d){Hn.call(this,d),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}Q(N1,Hn);function Sa(r,a,u,d){this.top=r,this.right=a,this.bottom=u,this.left=d}Sa.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Sa.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Sa.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Sa.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Ph(r,a){var u=eu(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function D1(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Nt&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function MO(r,a){a=a||qd(document);var u=a||qd(document),d=L1(r),m=L1(u);if(!Nt||9<=Number(Xl)){w=Ph(u,"borderLeftWidth");var g=Ph(u,"borderRightWidth");A=Ph(u,"borderTopWidth"),D=Ph(u,"borderBottomWidth"),g=new Sa(parseFloat(A),parseFloat(g),parseFloat(D),parseFloat(w))}else{var w=kh(u,"borderLeft");g=kh(u,"borderRight");var A=kh(u,"borderTop"),D=kh(u,"borderBottom");g=new Sa(A,g,D,w)}u==qd(document)?(w=d.a-u.scrollLeft,d=d.g-u.scrollTop,!Nt||10<=Number(Xl)||(w+=g.left,d+=g.top)):(w=d.a-m.a-g.left,d=d.g-m.g-g.top),m=r.offsetWidth,g=r.offsetHeight,A=jn&&!m&&!g,y(m)&&!A||!r.getBoundingClientRect?r=new Hm(m,g):(r=D1(r),r=new Hm(r.right-r.left,r.bottom-r.top)),m=u.clientHeight-r.height,g=u.scrollLeft,A=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-r.width),0)),A+=Math.min(d,Math.max(d-m,0)),u=new rs(g,A),a.scrollLeft=u.a,a.scrollTop=u.g}function L1(r){var a=eu(r),u=new rs(0,0),d=a?eu(a):document;return d=!Nt||9<=Number(Xl)||Hd(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,r==d||(r=D1(r),d=Hd(a).a,a=qd(d),d=d.parentWindow||d.defaultView,a=Nt&&Zs("10")&&d.pageYOffset!=a.scrollTop?new rs(a.scrollLeft,a.scrollTop):new rs(d.pageXOffset||a.scrollLeft,d.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var M1={thin:2,medium:4,thick:6};function kh(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in M1)r=M1[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var d=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=d,r=+u}return r}function qg(){}T(qg),qg.prototype.a=0;function ho(r){Gt.call(this),this.s=r||Hd(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Q(ho,Gt),t=ho.prototype,t.Lb=qg.Xa(),t.N=function(){return this.g};function Ge(r,a){return r.g?Wm(a,r.g||r.s.a):null}function Tu(r){return r.L||(r.L=new Ta(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");ho.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Wg(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){Wg(this,function(r){r.na&&r.ya()}),this.L&&S1(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Wg(this,function(r){r.m()}),this.g&&to(this.g),this.Y=this.g=this.oa=this.Ea=null,ho.K.o.call(this)};function Wg(r,a){r.Ea&&et(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=b(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var d=this.oa;if(u in d&&delete d[u],M(this.Ea,r),a&&(r.ya(),r.g&&to(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,ho.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function Mt(r,a){var u=Lw(r,"firebaseui-textfield");a?(ir(r,"firebaseui-input-invalid"),nr(r,"firebaseui-input"),u&&ir(u,"firebaseui-textfield-invalid")):(ir(r,"firebaseui-input"),nr(r,"firebaseui-input-invalid"),u&&nr(u,"firebaseui-textfield-invalid"))}function Ca(r,a,u){a=new Eu(a),iu(r,ee(ru,a)),Aa(Tu(r),a,"input",u)}function Au(r,a,u){a=new Iu(a),iu(r,ee(ru,a)),Aa(Tu(r),a,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function VO(r,a,u){a=new Ia(a),iu(r,ee(ru,a)),Aa(Tu(r),a,"focusin",u)}function FO(r,a,u){a=new Ia(a),iu(r,ee(ru,a)),Aa(Tu(r),a,"focusout",u)}function Rt(r,a,u){a=new Ea(a),iu(r,ee(ru,a)),Aa(Tu(r),a,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function pi(r){nr(r,"firebaseui-hidden")}function fn(r,a){a&&Km(r,a),ir(r,"firebaseui-hidden")}function Ra(r){return!wu(r,"firebaseui-hidden")&&r.style.display!="none"}function Pa(r){r=r||{};var a=r.email,u=r.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=r.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Bn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',fe(d)}function ti(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+xe(r):a+"Next",fe(a+"</button>")}function Kg(){var r=""+ti({label:Dt("Sign In")});return fe(r)}function V1(){var r=""+ti({label:Dt("Save")});return fe(r)}function Vi(){var r=""+ti({label:Dt("Continue")});return fe(r)}function F1(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+xe(r):a+"Choose password",fe(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function U1(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",fe(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function $1(){return fe('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function mi(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+xe(r):a+"Cancel",fe(a+"</button>")}function En(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),fe(a)}function ka(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),fe(a)}function j1(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+xe(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',fe(r)}j1.a="firebaseui.auth.soy2.element.infoBar";function B1(r){var a=r.content;return r=r.Ab,fe('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Bn(r):"")+'">'+xe(a)+"</dialog>")}function H1(r){var a=r.message;return fe(B1({content:Fw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Bn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+xe(a)+"</div>")}))}H1.a="firebaseui.auth.soy2.element.progressDialog";function q1(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,d=0;d<u;d++){var m=r[d];a+='<button type="button" data-listboxid="'+Bn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Bn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+xe(m.label)+"</div></button>"}return a=""+B1({Ab:Dt("firebaseui-list-box-dialog"),content:Fw(a+"</div>")}),fe(a)}q1.a="firebaseui.auth.soy2.element.listBoxDialog";function xh(r){return r=r||{},fe(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}xh.a="firebaseui.auth.soy2.element.busyIndicator";function cs(r,a){return r=r||{},r=r.ga,nt(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function zg(r){W1(r,"upgradeElement")}function Gg(r){W1(r,"downgradeElements")}var UO=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function W1(r,a){r&&window.componentHandler&&window.componentHandler[a]&&UO.forEach(function(u){wu(r,u)&&window.componentHandler[a](r),et(qm(u,r),function(d){window.componentHandler[a](d)})})}function K1(r,a,u){if(Oh.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),zg(r),a&&Rt(this,r,function(g){var w=r.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&Oh.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,w=d.getBoundingClientRect().height,A=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,D=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=r.getBoundingClientRect().width,ye=d.getBoundingClientRect().width;r.style.top=(A+(w-g)/2).toString()+"px",g=D+(ye-Y)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Oh(){var r=Yg.call(this);r&&(Gg(r),r.open&&r.close(),to(r),this.da&&window.removeEventListener("resize",this.da))}function Yg(){return Wm("firebaseui-id-dialog")}function z1(){to(G1.call(this))}function G1(){return Ge(this,"firebaseui-id-info-bar")}function Y1(){return Ge(this,"firebaseui-id-dismiss-info-bar")}var $O={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Jg(r,a,u){Tr.call(this,r,a);for(var d in u)this[d]=u[d]}Q(Jg,Tr);function j(r,a,u,d,m){ho.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=je($O),tt(this.Z,m||{})}Q(j,ho),t=j.prototype,t.kb=function(){var r=tu(this.fb,this.eb,this.Z,this.s);zg(r),this.g=r},t.v=function(){if(j.K.v.call(this),Qw(St(this),new Jg("pageEnter",St(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;Rt(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;Rt(this,this.ab(),function(){a()})}},t.ya=function(){Qw(St(this),new Jg("pageExit",St(this),{pageId:this.Ga})),j.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Gg(this.N()),j.K.o.call(this)};function jO(r){r.Fa=!0;var a=wu(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=tu(xh,{tb:a},null,r.s),r.N().appendChild(r.A),zg(r.A))},500)}t.I=function(r,a,u,d){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(Gg(g.A),to(g.A),g.A=null)}var g=this;return g.Fa?null:(jO(g),r.apply(null,a).then(u,d).then(m,m))};function St(r){return r.N().parentElement||r.N().parentNode}function Su(r,a,u){Au(r,a,function(){u.focus()})}function xa(r,a,u){Au(r,a,function(){u()})}oe(j.prototype,{a:function(r){z1.call(this);var a=tu(j1,{message:r},null,this.s);this.N().appendChild(a),Rt(this,Y1.call(this),function(){to(a)})},yc:z1,Ac:G1,zc:Y1,$:function(r,a){r=tu(H1,{Ma:r,message:a},null,this.s),K1.call(this,r)},h:Oh,Cb:Yg,Cc:function(){return Ge(this,"firebaseui-tos")},bb:function(){return Ge(this,"firebaseui-tos-link")},ab:function(){return Ge(this,"firebaseui-pp-link")},Dc:function(){return Ge(this,"firebaseui-tos-list")}});function J1(r,a,u){r=r||{},a=r.Va;var d=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Pa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?mi(null):"")+ti(null)+'</div></div><div class="firebaseui-card-footer">'+(d?ka(u):En(u))+"</div></form></div>",fe(r)}J1.a="firebaseui.auth.soy2.page.signIn";function Q1(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Pa(r)+U1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+$1()+'</div><div class="firebaseui-form-actions">'+Kg()+'</div></div><div class="firebaseui-card-footer">'+(a?ka(u):En(u))+"</div></form></div>",fe(r)}Q1.a="firebaseui.auth.soy2.page.passwordSignIn";function X1(r,a,u){r=r||{};var d=r.Tb;a=r.Ta;var m=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Pa(r);return d?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Bn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=fe(r)):r="",u=g+r+F1(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?mi(null):"")+V1()+'</div></div><div class="firebaseui-card-footer">'+(m?ka(u):En(u))+"</div></form></div>",fe(u)}X1.a="firebaseui.auth.soy2.page.passwordSignUp";function Z1(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Pa(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?mi(null):"")+ti({label:Dt("Send")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(r)}Z1.a="firebaseui.auth.soy2.page.passwordRecovery";function eE(r,a,u){a=r.G;var d="";return r="Follow the instructions sent to <strong>"+(xe(r.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(d+='<div class="firebaseui-form-actions">'+ti({label:Dt("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+En(u)+"</div></div>",fe(d)}eE.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function tE(r,a,u){return fe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+xh(null)+"</div></div>")}tE.a="firebaseui.auth.soy2.page.callback";function nE(r,a,u){return fe('<div class="firebaseui-container firebaseui-id-page-spinner">'+xh({tb:!0})+"</div>")}nE.a="firebaseui.auth.soy2.page.spinner";function iE(){return fe('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}iE.a="firebaseui.auth.soy2.page.blank";function rE(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(xe(r.email)+"</strong>. Check your email to complete sign-in.");var d=fe('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+mi({label:Dt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}rE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function sE(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+fe('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+mi({label:Dt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(r)}sE.a="firebaseui.auth.soy2.page.emailNotReceived";function oE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Pa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti(null)+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(r)}oE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function aE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi({label:Dt("Dismiss")})+"</div></div></div>";return fe(r)}aE.a="firebaseui.auth.soy2.page.differentDeviceError";function lE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi({label:Dt("Dismiss")})+"</div></div></div>";return fe(r)}lE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function uE(r,a,u){return a="",r="Youve already used <strong>"+(xe(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+U1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+$1()+'</div><div class="firebaseui-form-actions">'+Kg()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}uE.a="firebaseui.auth.soy2.page.passwordLinking";function cE(r,a,u){var d=r.email;return a="",r=""+cs(r,u),r=Dt(r),d="Youve already used <strong>"+(xe(d)+("</strong>. You can connect your <strong>"+(xe(r)+("</strong> account with <strong>"+(xe(d)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(xe(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Kg()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}cE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function dE(r,a,u){a="";var d=""+cs(r,u);return d=Dt(d),r="You originally intended to connect <strong>"+(xe(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(xe(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}dE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function hE(r,a,u){var d=r.email;return a="",r=""+cs(r,u),r=Dt(r),d="Youve already used <strong>"+(xe(d)+("</strong>. Sign in with "+(xe(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti({label:Dt("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}hE.a="firebaseui.auth.soy2.page.federatedLinking";function fE(r,a,u){r=r||{};var d=r.kc;a=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(xe(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(xe(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+mi({label:Dt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(m)}fE.a="firebaseui.auth.soy2.page.unauthorizedUser";function pE(r,a,u){return a="",r="To continue sign in with <strong>"+(xe(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti({label:Dt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}pE.a="firebaseui.auth.soy2.page.unsupportedProvider";function mE(r){var a="",u='<p class="firebaseui-text">for <strong>'+(xe(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+F1(Px(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+V1()+"</div></div></form></div>",fe(a)}mE.a="firebaseui.auth.soy2.page.passwordReset";function gE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}gE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function vE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}vE.a="firebaseui.auth.soy2.page.passwordResetFailure";function yE(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(xe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></form></div>",fe(u)}yE.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function _E(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}_E.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function wE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}wE.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function bE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}bE.a="firebaseui.auth.soy2.page.emailVerificationFailure";function EE(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(xe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(u)}EE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function IE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}IE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function TE(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(xe(a)+(" "+(xe(u)+"</strong> was removed as a second authentication step."))),d+=a;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></form></div>",fe(d)}TE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function AE(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",fe(r)}AE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function SE(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+xe(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=ti({label:Dt("Retry")})),fe(r+"</div></div></div>")}SE.a="firebaseui.auth.soy2.page.recoverableError";function CE(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+xe(r.errorMessage)+"</p></div></div>",fe(r)}CE.a="firebaseui.auth.soy2.page.unrecoverableError";function RE(r,a,u){var d=r.Qb;return a="",r="Continue with "+(xe(r.jc)+"?"),d="You originally wanted to sign in with "+xe(d),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti({label:Dt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",fe(a)}RE.a="firebaseui.auth.soy2.page.emailMismatch";function PE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var m=0;m<a;m++){var g={ga:r[m]},w=u;g=g||{};var A=g.ga,D=g;D=D||{};var Y="";switch(D.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}D='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Bn(nt(Y))+' firebaseui-id-idp-button" data-provider-id="'+Bn(A.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,D=D+Bn(Uw(nt(Y.ta?Y.ta:w.wa[Y.providerId]?""+w.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+w.wa.saml:Y.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ye=g;Y=w,ye=ye||{},ye=ye.ga,Y=Rx(ye.za?no(ye.za):Y.xa[ye.providerId]?no(Y.xa[ye.providerId]):ye.providerId.indexOf("saml.")==0?no(Y.xa.saml):ye.providerId.indexOf("oidc.")==0?no(Y.xa.oidc):no(Y.xa.password)),D=D+Bn(no(Y))+'"></span>',A.providerId=="password"?(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=xe(A.V):A.S?(g="Sign in with "+xe(cs(g,w)),D+=g):D+="Sign in with email",D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',D=A.S?D+xe(A.S):D+"Email",D+="</span>"):A.providerId=="phone"?(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=xe(A.V):A.S?(g="Sign in with "+xe(cs(g,w)),D+=g):D+="Sign in with phone",D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',D=A.S?D+xe(A.S):D+"Phone",D+="</span>"):A.providerId=="anonymous"?(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=xe(A.V):A.S?(g="Sign in with "+xe(cs(g,w)),D+=g):D+="Continue as guest",D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',D=A.S?D+xe(A.S):D+"Guest",D+="</span>"):(D+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?D+=xe(A.V):(Y="Sign in with "+xe(cs(g,w)),D+=Y),D+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(A.S?xe(A.S):xe(cs(g,w)))+"</span>"),A=fe(D+"</button>"),d+='<li class="firebaseui-list-item">'+A+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ka(u)+"</div></div>",fe(d)}PE.a="firebaseui.auth.soy2.page.providerSignIn";function kE(r,a,u){r=r||{};var d=r.Gb,m=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Bn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+fe(r);var g;return d?g=fe('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?mi(null):"")+ti({label:Dt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=fe(a+"</p>")):u=fe('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+En(u),fe(g+u+"</div></form></div>")}kE.a="firebaseui.auth.soy2.page.phoneSignInStart";function xE(r,a,u){r=r||{},a=r.phoneNumber;var d="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(xe(a)+"</a>"),xe(a),a=d,d=fe('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+mi(null)+ti({label:Dt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form>",r=fe('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),fe(a+(u+r+"</div>"))}xE.a="firebaseui.auth.soy2.page.phoneSignInFinish";function OE(){return fe('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}OE.a="firebaseui.auth.soy2.page.signOut";function NE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var m=0;m<a;m++){var g=r[m],w="",A=xe(g.displayName),D=g.tenantId?g.tenantId:"top-level-project";D=Dt(D),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Bn(D)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Bn(g.tenantId)+'"':"")+'style="background-color:'+Bn(Uw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Bn(no(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=xe(g.V):(g="Sign in to "+xe(g.displayName),w+=g),w=fe(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+A+"</span></button>")),d+='<li class="firebaseui-list-item">'+w+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ka(u)+"</div></div>",fe(d)}NE.a="firebaseui.auth.soy2.page.selectTenant";function DE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Pa(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti(null)+'</div></div><div class="firebaseui-card-footer">'+ka(u)+"</div></form></div>",fe(r)}DE.a="firebaseui.auth.soy2.page.providerMatchByEmail";function an(){return Ge(this,"firebaseui-id-submit")}function Jt(){return Ge(this,"firebaseui-id-secondary-link")}function pn(r,a){Rt(this,an.call(this),function(d){r(d)});var u=Jt.call(this);u&&a&&Rt(this,u,function(d){a(d)})}function Nh(){return Ge(this,"firebaseui-id-password")}function Dh(){return Ge(this,"firebaseui-id-password-error")}function LE(){var r=Nh.call(this),a=Dh.call(this);Ca(this,r,function(){Ra(a)&&(Mt(r,!0),pi(a))})}function ME(){var r=Nh.call(this),a=Dh.call(this);return hn(r)?(Mt(r,!0),pi(a),a=!0):(Mt(r,!1),fn(a,nt("Enter your password").toString()),a=!1),a?hn(r):null}function Oa(r,a,u,d,m,g){j.call(this,uE,{email:r},g,"passwordLinking",{F:d,D:m}),this.w=a,this.H=u}c(Oa,j),Oa.prototype.v=function(){this.P(),this.M(this.w,this.H),xa(this,this.i(),this.w),this.i().focus(),j.prototype.v.call(this)},Oa.prototype.o=function(){this.w=null,j.prototype.o.call(this)},Oa.prototype.j=function(){return hn(Ge(this,"firebaseui-id-email"))},oe(Oa.prototype,{i:Nh,B:Dh,P:LE,u:ME,ea:an,ba:Jt,M:pn});var BO=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Cr(){return Ge(this,"firebaseui-id-email")}function ds(){return Ge(this,"firebaseui-id-email-error")}function Na(r){var a=Cr.call(this),u=ds.call(this);Ca(this,a,function(){Ra(u)&&(Mt(a,!0),pi(u))}),r&&Au(this,a,function(){r()})}function Da(){return L(hn(Cr.call(this))||"")}function La(){var r=Cr.call(this),a=ds.call(this),u=hn(r)||"";return u?BO.test(u)?(Mt(r,!0),pi(a),a=!0):(Mt(r,!1),fn(a,nt("That email address isn't correct").toString()),a=!1):(Mt(r,!1),fn(a,nt("Enter your email address to continue").toString()),a=!1),a?L(hn(r)):null}function Cu(r,a,u,d,m,g,w){j.call(this,Q1,{email:u,ia:!!g},w,"passwordSignIn",{F:d,D:m}),this.w=r,this.H=a}c(Cu,j),Cu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Su(this,this.l(),this.i()),xa(this,this.i(),this.w),hn(this.l())?this.i().focus():this.l().focus(),j.prototype.v.call(this)},Cu.prototype.o=function(){this.H=this.w=null,j.prototype.o.call(this)},oe(Cu.prototype,{l:Cr,U:ds,P:Na,M:Da,j:La,i:Nh,B:Dh,ea:LE,u:ME,ua:an,pa:Jt,ba:pn});function ct(r,a,u,d,m,g){j.call(this,r,a,d,m||"notice",g),this.i=u||null}Q(ct,j),ct.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ct.K.v.call(this)},ct.prototype.o=function(){this.i=null,ct.K.o.call(this)},oe(ct.prototype,{l:an,w:Jt,u:pn});function Lh(r,a,u,d,m){ct.call(this,eE,{email:r,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:d})}Q(Lh,ct);function VE(r,a){ct.call(this,wE,{G:!!r},r,a,"emailVerificationSuccess")}Q(VE,ct);function FE(r,a){ct.call(this,bE,{G:!!r},r,a,"emailVerificationFailure")}Q(FE,ct);function UE(r,a,u){ct.call(this,EE,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}Q(UE,ct);function $E(r,a){ct.call(this,IE,{G:!!r},r,a,"verifyAndChangeEmailFailure")}Q($E,ct);function jE(r,a){ct.call(this,AE,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}Q(jE,ct);function BE(r){ct.call(this,OE,void 0,void 0,r,"signOut")}Q(BE,ct);function HE(r,a){ct.call(this,gE,{G:!!r},r,a,"passwordResetSuccess")}Q(HE,ct);function qE(r,a){ct.call(this,vE,{G:!!r},r,a,"passwordResetFailure")}Q(qE,ct);function WE(r,a){ct.call(this,_E,{G:!!r},r,a,"emailChangeRevokeFailure")}Q(WE,ct);function KE(r,a,u){ct.call(this,SE,{errorMessage:r,zb:!!a},a,u,"recoverableError")}Q(KE,ct);function zE(r,a){ct.call(this,CE,{errorMessage:r},void 0,a,"unrecoverableError")}Q(zE,ct);function Ru(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function Rr(r,a,u,d){function m(w){if(!w.name||w.name!="cancel"){e:{var A=w.message;try{var D=((JSON.parse(A).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(D&&D.length){var Y=!0;break e}}catch{}Y=!1}if(Y)w=St(a),a.m(),bt(r,w,void 0,nt("Your sign-in session has expired. Please try again.").toString());else{if(Y=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;Y=ft(w)}a.a(Y)}}}if(mI(r),d)return GE(r,u),Lt();if(!u.credential)throw Error("No credential found!");if(!We(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=wN(r,u)}catch(w){return hi(w.code||w.message,w),a.a(w.code||w.message),Lt()}return u=g.then(function(w){GE(r,w)},m).then(void 0,m),Fe(r,g),Lt(u)}function GE(r,a){if(!a.user)throw Error("No user found");var u=g1(H(r));if(Mg(H(r))&&u&&us("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=g1(H(r));var d=Yb(Pe(r))||void 0;ei(pu,Pe(r));var m=!1;mb()?((!u||u(a,d))&&(m=!0,oa(window.opener.location,Mh(r,d))),u||window.close()):(!u||u(a,d))&&(m=!0,oa(window.location,Mh(r,d))),m||r.reset()}else{u=a.user,a=a.credential,d=Mg(H(r)),m=Yb(Pe(r))||void 0,ei(pu,Pe(r));var g=!1;mb()?((!d||d(u,a,m))&&(g=!0,oa(window.opener.location,Mh(r,m))),d||window.close()):(!d||d(u,a,m))&&(g=!0,oa(window.location,Mh(r,m))),g||r.reset()}}function Mh(r,a){if(r=a||H(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function ft(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=qw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=qw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=Jm();break;case"auth/invalid-verification-code":u+=nt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=nt(u).toString())return a;try{return JSON.parse(r.message),hi("Internal error: "+r.message,void 0),jw().toString()}catch{return r.message}}function HO(r,a,u){var d=ya[a]&&Ee.auth[ya[a]]?new Ee.auth[ya[a]]:a.indexOf("saml.")==0?new Ee.auth.SAMLAuthProvider(a):new Ee.auth.OAuthProvider(a);if(!d)throw Error("Invalid Firebase Auth provider!");var m=d1(H(r),a);if(d.addScope)for(var g=0;g<m.length;g++)d.addScope(m[g]);return m=h1(H(r),a)||{},u&&(a==Ee.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==Ee.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=vu(H(r),a))&&r.Ob,r&&(m[r]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function Pu(r,a,u,d){function m(){vO(new Nb(r.h.tenantId||null),Pe(r)),Fe(r,a.I(ce(r.dc,r),[D],function(){if((window.location&&window.location.protocol)==="file:")return Fe(r,cI(r).then(function(Y){a.m(),ei(lo,Pe(r)),me("callback",r,A,Lt(Y))},g))},w))}function g(Y){if(ei(lo,Pe(r)),!Y.name||Y.name!="cancel")switch(Y=Ru(Y),Y.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(ft(Y));break;case"auth/admin-restricted-operation":a.m(),co(H(r))?me("handleUnauthorizedUser",r,A,null,u):me("callback",r,A,aa(Y));break;default:a.m(),me("callback",r,A,aa(Y))}}function w(Y){ei(lo,Pe(r)),Y.name&&Y.name=="cancel"||(hi("signInWithRedirect: "+Y.code,void 0),Y=ft(Y),a.Ga=="blank"&&Lg(H(r))?(a.m(),me("providerSignIn",r,A,Y)):a.a(Y))}var A=St(a),D=HO(r,u,d);m1(H(r))==Sh?m():Fe(r,_N(r,D).then(function(Y){a.m(),me("callback",r,A,Lt(Y))},g))}function qO(r,a){Fe(r,a.I(ce(r.$b,r),[],function(u){return a.m(),Rr(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(hi("ContinueAsGuest: "+u.code,void 0),u=ft(u),a.a(u))}))}function WO(r,a,u){function d(g){var w=!1;return g=a.I(ce(r.ac,r),[g],function(A){var D=St(a);a.m(),me("callback",r,D,Lt(A)),w=!0},function(A){if((!A.name||A.name!="cancel")&&(!A||A.code!="auth/credential-already-in-use"))if(A&&A.code=="auth/email-already-in-use"&&A.email&&A.credential){var D=St(a);a.m(),me("callback",r,D,aa(A))}else A&&A.code=="auth/admin-restricted-operation"&&co(H(r))?(A=St(a),a.m(),me("handleUnauthorizedUser",r,A,null,Ee.auth.GoogleAuthProvider.PROVIDER_ID)):(A=ft(A),a.a(A))}),Fe(r,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===u1(H(r))){if(d1(H(r),Ee.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Pu(r,a,Ee.auth.GoogleAuthProvider.PROVIDER_ID,m),Lt(!0)}return d(Ee.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(nt("The selected credential for the authentication provider is not supported!").toString()),Lt(!1)}function KO(r,a){var u=a.j(),d=a.u();if(u)if(d){var m=Ee.auth.EmailAuthProvider.credential(u,d);Fe(r,a.I(ce(r.bc,r),[u,d],function(g){return Rr(r,a,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":Mt(a.l(),!1),fn(a.U(),ft(g));break;case"auth/too-many-requests":case"auth/wrong-password":Mt(a.i(),!1),fn(a.B(),ft(g));break;default:hi("verifyPassword: "+g.message,void 0),a.a(ft(g))}}))}else a.i().focus();else a.l().focus()}function Vh(r){return r=_a(H(r)),r.length==1&&r[0]==Ee.auth.EmailAuthProvider.PROVIDER_ID}function YE(r){return r=_a(H(r)),r.length==1&&r[0]==Ee.auth.PhoneAuthProvider.PROVIDER_ID}function bt(r,a,u,d){Vh(r)?d?me("signIn",r,a,u,d):Xg(r,a,u):r&&YE(r)&&!d?me("phoneSignInStart",r,a):r&&Lg(H(r))&&!d?me("federatedRedirect",r,a,u):me("providerSignIn",r,a,d,u)}function JE(r,a,u,d){var m=St(a);Fe(r,a.I(ce(We(r).fetchSignInMethodsForEmail,We(r)),[u],function(g){a.m(),QE(r,m,g,u,d)},function(g){g=ft(g),a.a(g)}))}function QE(r,a,u,d,m,g){u.length||wa(H(r))&&!wa(H(r))?F(u,Ee.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?me("passwordSignIn",r,a,d,g):u.length==1&&u[0]===Ee.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?wa(H(r))?me("sendEmailLinkForSignIn",r,a,d,function(){me("signIn",r,a)}):me("unsupportedProvider",r,a,d):(u=o1(u,_a(H(r))))?(Jb(new Eg(d),Pe(r)),me("federatedSignIn",r,a,d,u,m)):me("unsupportedProvider",r,a,d):c1(H(r))?me("handleUnauthorizedUser",r,a,d,Ee.auth.EmailAuthProvider.PROVIDER_ID):wa(H(r))?me("sendEmailLinkForSignIn",r,a,d,function(){me("signIn",r,a)}):me("passwordSignUp",r,a,d,void 0,void 0,g)}function Qg(r,a,u,d,m,g){var w=St(a);Fe(r,a.I(ce(r.Ib,r),[u,g],function(){a.m(),me("emailLinkSignInSent",r,w,u,d,g)},m))}function Xg(r,a,u){u?me("prefilledEmailSignIn",r,a,u):me("signIn",r,a)}function ku(){return Ud(Sr(),"oobCode")}function Zg(){var r=Ud(Sr(),"continueUrl");return r?function(){oa(window.location,r)}:null}function xu(r,a){j.call(this,lE,void 0,a,"anonymousUserMismatch"),this.i=r}c(xu,j),xu.prototype.v=function(){var r=this;Rt(this,this.l(),function(){r.i()}),this.l().focus(),j.prototype.v.call(this)},xu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(xu.prototype,{l:Jt}),ot.anonymousUserMismatch=function(r,a){var u=new xu(function(){u.m(),bt(r,a)});u.render(a),Be(r,u)};function Fh(r){j.call(this,tE,void 0,r,"callback")}c(Fh,j),Fh.prototype.I=function(r,a,u,d){return r.apply(null,a).then(u,d)};function XE(r,a,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=er(Pe(r)),g=m&&m.g;if(g&&!GO(u.user,g))zO(r,a,d);else{var w=m&&m.a;w?Fe(r,u.user.linkWithCredential(w).then(function(A){d={user:A.user,credential:w,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo},ZE(r,a,d)},function(A){Uh(r,a,A)})):ZE(r,a,d)}}else u=St(a),a.m(),tr(Pe(r)),bt(r,u)}function ZE(r,a,u){tr(Pe(r)),Rr(r,a,u)}function Uh(r,a,u){var d=St(a);tr(Pe(r)),u=ft(u),a.m(),bt(r,d,void 0,u)}function eI(r,a,u,d){var m=St(a);Fe(r,We(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?F(g,Ee.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?me("passwordLinking",r,m,u):g.length==1&&g[0]===Ee.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?me("emailLinkSignInLinking",r,m,u):(g=o1(g,_a(H(r))))?me("federatedLinking",r,m,u,g,d):(tr(Pe(r)),me("unsupportedProvider",r,m,u)):(tr(Pe(r)),me("passwordRecovery",r,m,u,!1,Bw().toString()))},function(g){Uh(r,a,g)}))}function zO(r,a,u){var d=St(a);Fe(r,hs(r).then(function(){a.m(),me("emailMismatch",r,d,u)},function(m){m.name&&m.name=="cancel"||(m=ft(m.code),a.a(m))}))}function GO(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}ot.callback=function(r,a,u){var d=new Fh;d.render(a),Be(r,d),u=u||cI(r),Fe(r,u.then(function(m){XE(r,d,m)},function(m){if((m=Ru(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)Jb(new Eg(m.email,m.credential),Pe(r)),eI(r,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=er(Pe(r)),w=ft(m);g&&g.a?eI(r,d,g.g,w):g?JE(r,d,g.g,w):Uh(r,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Vh(r)?XE(r,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&co(H(r))?(d.m(),tr(Pe(r)),me("handleUnauthorizedUser",r,a,null,null)):Uh(r,d,m))}))};function Ou(r,a){j.call(this,aE,void 0,a,"differentDeviceError"),this.i=r}c(Ou,j),Ou.prototype.v=function(){var r=this;Rt(this,this.l(),function(){r.i()}),this.l().focus(),j.prototype.v.call(this)},Ou.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(Ou.prototype,{l:Jt}),ot.differentDeviceError=function(r,a){var u=new Ou(function(){u.m(),bt(r,a)});u.render(a),Be(r,u)};function Nu(r,a,u,d){j.call(this,yE,{email:r,G:!!u},d,"emailChangeRevoke"),this.l=a,this.i=u||null}c(Nu,j),Nu.prototype.v=function(){var r=this;Rt(this,Ge(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),j.prototype.v.call(this)},Nu.prototype.o=function(){this.l=this.i=null,j.prototype.o.call(this)},oe(Nu.prototype,{u:an,B:Jt,w:pn});function Du(){return Ge(this,"firebaseui-id-new-password")}function $h(){return Ge(this,"firebaseui-id-password-toggle")}function YO(){this.Ra=!this.Ra;var r=$h.call(this),a=Du.call(this);this.Ra?(a.type="text",nr(r,"firebaseui-input-toggle-off"),ir(r,"firebaseui-input-toggle-on")):(a.type="password",nr(r,"firebaseui-input-toggle-on"),ir(r,"firebaseui-input-toggle-off")),a.focus()}function jh(){return Ge(this,"firebaseui-id-new-password-error")}function tI(){this.Ra=!1;var r=Du.call(this);r.type="password";var a=jh.call(this);Ca(this,r,function(){Ra(a)&&(Mt(r,!0),pi(a))});var u=$h.call(this);nr(u,"firebaseui-input-toggle-on"),ir(u,"firebaseui-input-toggle-off"),VO(this,r,function(){nr(u,"firebaseui-input-toggle-focus"),ir(u,"firebaseui-input-toggle-blur")}),FO(this,r,function(){nr(u,"firebaseui-input-toggle-blur"),ir(u,"firebaseui-input-toggle-focus")}),Rt(this,u,ce(YO,this))}function nI(){var r=Du.call(this),a=jh.call(this);return hn(r)?(Mt(r,!0),pi(a),a=!0):(Mt(r,!1),fn(a,nt("Enter your password").toString()),a=!1),a?hn(r):null}function Lu(r,a,u){j.call(this,mE,{email:r},u,"passwordReset"),this.l=a}c(Lu,j),Lu.prototype.v=function(){this.H(),this.B(this.l),xa(this,this.i(),this.l),this.i().focus(),j.prototype.v.call(this)},Lu.prototype.o=function(){this.l=null,j.prototype.o.call(this)},oe(Lu.prototype,{i:Du,w:jh,M:$h,H:tI,u:nI,U:an,P:Jt,B:pn});function Mu(r,a,u,d,m){j.call(this,TE,{factorId:r,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=d||null}c(Mu,j),Mu.prototype.v=function(){var r=this;Rt(this,Ge(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),j.prototype.v.call(this)},Mu.prototype.o=function(){this.l=this.i=null,j.prototype.o.call(this)},oe(Mu.prototype,{u:an,B:Jt,w:pn});function JO(r,a,u,d,m){var g=u.u();g&&Fe(r,u.I(ce(We(r).confirmPasswordReset,We(r)),[d,g],function(){u.m();var w=new HE(m);w.render(a),Be(r,w)},function(w){iI(r,a,u,w)}))}function iI(r,a,u,d){(d&&d.code)=="auth/weak-password"?(r=ft(d),Mt(u.i(),!1),fn(u.w(),r),u.i().focus()):(u&&u.m(),u=new qE,u.render(a),Be(r,u))}function QO(r,a,u){var d=new Nu(u,function(){Fe(r,d.I(ce(We(r).sendPasswordResetEmail,We(r)),[u],function(){d.m(),d=new Lh(u,void 0,Bt(H(r)),Ht(H(r))),d.render(a),Be(r,d)},function(){d.a($w().toString())}))});d.render(a),Be(r,d)}function XO(r,a,u,d){var m=new Mu(d.factorId,function(){m.I(ce(We(r).sendPasswordResetEmail,We(r)),[u],function(){m.m(),m=new Lh(u,void 0,Bt(H(r)),Ht(H(r))),m.render(a),Be(r,m)},function(){m.a($w().toString())})},d.phoneNumber);m.render(a),Be(r,m)}ot.passwordReset=function(r,a,u,d){Fe(r,We(r).verifyPasswordResetCode(u).then(function(m){var g=new Lu(m,function(){JO(r,a,g,u,d)});g.render(a),Be(r,g)},function(){iI(r,a)}))},ot.emailChangeRevocation=function(r,a,u){var d=null;Fe(r,We(r).checkActionCode(u).then(function(m){return d=m.data.email,We(r).applyActionCode(u)}).then(function(){QO(r,a,d)},function(){var m=new WE;m.render(a),Be(r,m)}))},ot.emailVerification=function(r,a,u,d){Fe(r,We(r).applyActionCode(u).then(function(){var m=new VE(d);m.render(a),Be(r,m)},function(){var m=new FE;m.render(a),Be(r,m)}))},ot.revertSecondFactorAddition=function(r,a,u){var d=null,m=null;Fe(r,We(r).checkActionCode(u).then(function(g){return d=g.data.email,m=g.data.multiFactorInfo,We(r).applyActionCode(u)}).then(function(){XO(r,a,d,m)},function(){var g=new jE;g.render(a),Be(r,g)}))},ot.verifyAndChangeEmail=function(r,a,u,d){var m=null;Fe(r,We(r).checkActionCode(u).then(function(g){return m=g.data.email,We(r).applyActionCode(u)}).then(function(){var g=new UE(m,d);g.render(a),Be(r,g)},function(){var g=new $E;g.render(a),Be(r,g)}))};function Bh(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Nt&&!Zs("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function Vu(r,a,u,d,m,g){j.call(this,oE,{email:u},g,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=r,this.u=a}c(Vu,j),Vu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Bh(this.i(),(this.i().value||"").length),j.prototype.v.call(this)},Vu.prototype.o=function(){this.u=this.l=null,j.prototype.o.call(this)},oe(Vu.prototype,{i:Cr,M:ds,w:Na,H:Da,j:La,U:an,P:Jt,B:pn}),ot.emailLinkConfirmation=function(r,a,u,d,m,g){var w=new Vu(function(){var A=w.j();A?(w.m(),d(r,a,A,u)):w.i().focus()},function(){w.m(),bt(r,a,m||void 0)},m||void 0,Bt(H(r)),Ht(H(r)));w.render(a),Be(r,w),g&&w.a(g)};function Fu(r,a,u,d,m){j.call(this,dE,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=a}c(Fu,j),Fu.prototype.v=function(){this.u(this.i),this.l().focus(),j.prototype.v.call(this)},Fu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(Fu.prototype,{l:an,u:pn}),ot.emailLinkNewDeviceLinking=function(r,a,u,d){var m=new Xs(u);if(u=m.a.a.get(zt.PROVIDER_ID)||null,vw(m,null),u){var g=new Fu(vu(H(r),u),function(){g.m(),d(r,a,m.toString())},Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g)}else bt(r,a)};function Hh(r){j.call(this,iE,void 0,r,"blank")}c(Hh,j);function ev(r,a,u,d,m){var g=new Hh,w=new Xs(u),A=w.a.a.get(zt.$a)||"",D=w.a.a.get(zt.Sa)||"",Y=w.a.a.get(zt.Qa)==="1",ye=gw(w),dt=w.a.a.get(zt.PROVIDER_ID)||null;w=w.a.a.get(zt.vb)||null,gI(r,w);var $i=!ga(ma,Pe(r)),bI=d||yO(D,Pe(r)),Qu=(d=_O(D,Pe(r)))&&d.a;dt&&Qu&&Qu.providerId!==dt&&(Qu=null),g.render(a),Be(r,g),Fe(r,g.I(function(){var Ai=Lt(null);Ai=ye&&$i||$i&&Y?aa(Error("anonymous-user-not-found")):gN(r,u).then(function(dv){if(dt&&!Qu)throw Error("pending-credential-not-found");return dv});var Xu=null;return Ai.then(function(dv){return Xu=dv,m?null:We(r).checkActionCode(A)}).then(function(){return Xu})},[],function(Ai){bI?eN(r,g,bI,u,Qu,Ai):Y?(g.m(),me("differentDeviceError",r,a)):(g.m(),me("emailLinkConfirmation",r,a,u,rI))},function(Ai){var Xu=void 0;if(!Ai||!Ai.name||Ai.name!="cancel")switch(g.m(),Ai&&Ai.message){case"anonymous-user-not-found":me("differentDeviceError",r,a);break;case"anonymous-user-mismatch":me("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":me("emailLinkNewDeviceLinking",r,a,u,ZO);break;default:Ai&&(Xu=ft(Ai)),bt(r,a,void 0,Xu)}}))}function rI(r,a,u,d){ev(r,a,d,u,!0)}function ZO(r,a,u){ev(r,a,u)}function eN(r,a,u,d,m,g){var w=St(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",nt("Signing in...").toString());var A=null;m=(g?vN(r,g,u,d,m):yN(r,u,d,m)).then(function(D){ei(mu,Pe(r)),ei(ma,Pe(r)),a.h(),a.$("firebaseui-icon-done",nt("Signed in!").toString()),A=setTimeout(function(){a.h(),Rr(r,a,D,!0)},1e3),Fe(r,function(){a&&(a.h(),a.m()),clearTimeout(A)})},function(D){if(a.h(),a.m(),!D.name||D.name!="cancel"){D=Ru(D);var Y=ft(D);D.code=="auth/email-already-in-use"||D.code=="auth/credential-already-in-use"?(ei(mu,Pe(r)),ei(ma,Pe(r))):D.code=="auth/invalid-email"?(Y=nt("The email provided does not match the current sign-in session.").toString(),me("emailLinkConfirmation",r,w,d,rI,null,Y)):bt(r,w,u,Y)}}),Fe(r,m)}ot.emailLinkSignInCallback=ev;function Uu(r,a,u,d,m,g){j.call(this,cE,{email:r,ga:a},g,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}c(Uu,j),Uu.prototype.v=function(){this.u(this.i),this.l().focus(),j.prototype.v.call(this)},Uu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(Uu.prototype,{l:an,u:pn});function tN(r,a,u,d){var m=St(a);Qg(r,a,u,function(){bt(r,m,u)},function(g){if(!g.name||g.name!="cancel"){var w=ft(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),bt(r,m,u,w))}},d)}ot.emailLinkSignInLinking=function(r,a,u){var d=er(Pe(r));if(tr(Pe(r)),d){var m=d.a.providerId,g=new Uu(u,vu(H(r),m),function(){tN(r,g,u,d)},Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g)}else bt(r,a)};function $u(r,a,u,d,m,g){j.call(this,rE,{email:r},g,"emailLinkSignInSent",{F:d,D:m}),this.u=a,this.i=u}c($u,j),$u.prototype.v=function(){var r=this;Rt(this,this.l(),function(){r.i()}),Rt(this,Ge(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),j.prototype.v.call(this)},$u.prototype.o=function(){this.i=this.u=null,j.prototype.o.call(this)},oe($u.prototype,{l:Jt}),ot.emailLinkSignInSent=function(r,a,u,d,m){var g=new $u(u,function(){g.m(),me("emailNotReceived",r,a,u,d,m)},function(){g.m(),d()},Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g)};function ju(r,a,u,d,m,g,w){j.call(this,RE,{jc:r,Qb:a},w,"emailMismatch",{F:m,D:g}),this.l=u,this.i=d}c(ju,j),ju.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),j.prototype.v.call(this)},ju.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(ju.prototype,{u:an,B:Jt,w:pn}),ot.emailMismatch=function(r,a,u){var d=er(Pe(r));if(d){var m=new ju(u.user.email,d.g,function(){var g=m;tr(Pe(r)),Rr(r,g,u)},function(){var g=u.credential.providerId,w=St(m);m.m(),d.a?me("federatedLinking",r,w,d.g,g):me("federatedSignIn",r,w,d.g,g)},Bt(H(r)),Ht(H(r)));m.render(a),Be(r,m)}else bt(r,a)};function Ma(r,a,u,d,m){j.call(this,sE,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=r,this.i=a}c(Ma,j),Ma.prototype.v=function(){var r=this;Rt(this,this.u(),function(){r.i()}),Rt(this,this.Da(),function(){r.l()}),this.u().focus(),j.prototype.v.call(this)},Ma.prototype.Da=function(){return Ge(this,"firebaseui-id-resend-email-link")},Ma.prototype.o=function(){this.i=this.l=null,j.prototype.o.call(this)},oe(Ma.prototype,{u:Jt}),ot.emailNotReceived=function(r,a,u,d,m){var g=new Ma(function(){Qg(r,g,u,d,function(w){w=ft(w),g.a(w)},m)},function(){g.m(),bt(r,a,u)},Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g)};function Va(r,a,u,d,m,g){j.call(this,hE,{email:r,ga:a},g,"federatedLinking",{F:d,D:m}),this.i=u}c(Va,j),Va.prototype.v=function(){this.u(this.i),this.l().focus(),j.prototype.v.call(this)},Va.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(Va.prototype,{l:an,u:pn}),ot.federatedLinking=function(r,a,u,d,m){var g=er(Pe(r));if(g&&g.a){var w=new Va(u,vu(H(r),d),function(){Pu(r,w,d,u)},Bt(H(r)),Ht(H(r)));w.render(a),Be(r,w),m&&w.a(m)}else bt(r,a)},ot.federatedRedirect=function(r,a,u){var d=new Hh;d.render(a),Be(r,d),a=_a(H(r))[0],Pu(r,d,a,u)},ot.federatedSignIn=function(r,a,u,d,m){var g=new Va(u,vu(H(r),d),function(){Pu(r,g,d,u)},Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g),m&&g.a(m)};function nN(r,a,u,d){var m=a.u();m?Fe(r,a.I(ce(r.Xb,r),[u,m],function(g){return g=g.user.linkWithCredential(d).then(function(w){return Rr(r,a,{user:w.user,credential:d,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Fe(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":Mt(a.i(),!1),fn(a.B(),ft(g));break;case"auth/too-many-requests":a.a(ft(g));break;default:hi("signInWithEmailAndPassword: "+g.message,void 0),a.a(ft(g))}})):a.i().focus()}ot.passwordLinking=function(r,a,u){var d=er(Pe(r));tr(Pe(r));var m=d&&d.a;if(m){var g=new Oa(u,function(){nN(r,g,u,m)},function(){g.m(),me("passwordRecovery",r,a,u)},Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g)}else bt(r,a)};function Bu(r,a,u,d,m,g){j.call(this,Z1,{email:u,Ta:!!a},g,"passwordRecovery",{F:d,D:m}),this.l=r,this.u=a}c(Bu,j),Bu.prototype.v=function(){this.B(),this.H(this.l,this.u),hn(this.i())||this.i().focus(),xa(this,this.i(),this.l),j.prototype.v.call(this)},Bu.prototype.o=function(){this.u=this.l=null,j.prototype.o.call(this)},oe(Bu.prototype,{i:Cr,w:ds,B:Na,M:Da,j:La,U:an,P:Jt,H:pn});function iN(r,a){var u=a.j();if(u){var d=St(a);Fe(r,a.I(ce(We(r).sendPasswordResetEmail,We(r)),[u],function(){a.m();var m=new Lh(u,function(){m.m(),bt(r,d)},Bt(H(r)),Ht(H(r)));m.render(d),Be(r,m)},function(m){Mt(a.i(),!1),fn(a.w(),ft(m))}))}else a.i().focus()}ot.passwordRecovery=function(r,a,u,d,m){var g=new Bu(function(){iN(r,g)},d?void 0:function(){g.m(),bt(r,a)},u,Bt(H(r)),Ht(H(r)));g.render(a),Be(r,g),m&&g.a(m)},ot.passwordSignIn=function(r,a,u,d){var m=new Cu(function(){KO(r,m)},function(){var g=m.M();m.m(),me("passwordRecovery",r,a,g)},u,Bt(H(r)),Ht(H(r)),d);m.render(a),Be(r,m)};function tv(){return Ge(this,"firebaseui-id-name")}function nv(){return Ge(this,"firebaseui-id-name-error")}function Hu(r,a,u,d,m,g,w,A,D){j.call(this,X1,{email:d,Tb:r,name:m,Ta:!!u,ia:!!A},D,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=r}c(Hu,j),Hu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Su(this,this.i(),this.u()),Su(this,this.u(),this.l())):Su(this,this.i(),this.l()),this.w&&xa(this,this.l(),this.w),hn(this.i())?this.B&&!hn(this.u())?this.u().focus():this.l().focus():this.i().focus(),j.prototype.v.call(this)},Hu.prototype.o=function(){this.H=this.w=null,j.prototype.o.call(this)},oe(Hu.prototype,{i:Cr,U:ds,ea:Na,jb:Da,j:La,u:tv,Bc:nv,Ja:function(){var r=tv.call(this),a=nv.call(this);Ca(this,r,function(){Ra(a)&&(Mt(r,!0),pi(a))})},M:function(){var r=tv.call(this),a=nv.call(this),u=hn(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Mt(r,u),u?(pi(a),a=!0):(fn(a,nt("Enter your account name").toString()),a=!1),a?L(hn(r)):null},l:Du,ba:jh,lb:$h,ua:tI,P:nI,Nb:an,Mb:Jt,pa:pn});function rN(r,a){var u=p1(H(r)),d=a.j(),m=null;u&&(m=a.M());var g=a.P();if(d){if(u)if(m)m=we(m);else{a.u().focus();return}if(g){var w=Ee.auth.EmailAuthProvider.credential(d,g);Fe(r,a.I(ce(r.Yb,r),[d,g],function(A){var D={user:A.user,credential:w,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo};return u?(A=A.user.updateProfile({displayName:m}).then(function(){return Rr(r,a,D)}),Fe(r,A),A):Rr(r,a,D)},function(A){if(!A.name||A.name!="cancel"){var D=Ru(A);switch(A=ft(D),D.code){case"auth/email-already-in-use":return sN(r,a,d,D);case"auth/too-many-requests":A=nt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Mt(a.l(),!1),fn(a.ba(),A);break;case"auth/admin-restricted-operation":co(H(r))?(A=St(a),a.m(),me("handleUnauthorizedUser",r,A,d,Ee.auth.EmailAuthProvider.PROVIDER_ID)):a.a(A);break;default:D="setAccountInfo: "+qb(D),hi(D,void 0),a.a(A)}}}))}else a.l().focus()}else a.i().focus()}function sN(r,a,u,d){function m(){var w=ft(d);Mt(a.i(),!1),fn(a.U(),w),a.i().focus()}var g=We(r).fetchSignInMethodsForEmail(u).then(function(w){w.length?m():(w=St(a),a.m(),me("passwordRecovery",r,w,u,!1,Bw().toString()))},function(){m()});return Fe(r,g),g}ot.passwordSignUp=function(r,a,u,d,m,g){function w(){A.m(),bt(r,a)}var A=new Hu(p1(H(r)),function(){rN(r,A)},m?void 0:w,u,d,Bt(H(r)),Ht(H(r)),g);A.render(a),Be(r,A)};function iv(){return Ge(this,"firebaseui-id-phone-confirmation-code")}function sI(){return Ge(this,"firebaseui-id-phone-confirmation-code-error")}function oI(){return Ge(this,"firebaseui-id-resend-countdown")}function Fa(r,a,u,d,m,g,w,A,D){j.call(this,xE,{phoneNumber:m},D,"phoneSignInFinish",{F:w,D:A}),this.jb=g,this.i=new Ch(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=d}c(Fa,j),Fa.prototype.v=function(){var r=this;this.U(this.jb),Mi(this.i,"tick",this.w,!1,this),this.i.start(),Rt(this,Ge(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),Rt(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),j.prototype.v.call(this)},Fa.prototype.o=function(){this.M=this.H=this.l=this.P=null,Rh(this.i),ro(this.i,"tick",this.w),this.i=null,j.prototype.o.call(this)},Fa.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Rh(this.i),ro(this.i,"tick",this.w),this.ua(),this.lb())},oe(Fa.prototype,{u:iv,pa:sI,Ja:function(r){var a=iv.call(this),u=sI.call(this);Ca(this,a,function(){Ra(u)&&(Mt(a,!0),pi(u))}),r&&Au(this,a,function(){r()})},ba:function(){var r=L(hn(iv.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:oI,U:function(r){Km(oI.call(this),nt("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){pi(this.Fb())},Da:function(){return Ge(this,"firebaseui-id-resend-link")},lb:function(){fn(this.Da())},Nb:an,Mb:Jt,ea:pn});function oN(r,a,u,d){function m(w){a.u().focus(),Mt(a.u(),!1),fn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",nt("Verifying...").toString()),Fe(r,a.I(ce(d.confirm,d),[g],function(w){a.h(),a.$("firebaseui-icon-done",nt("Verified!").toString());var A=setTimeout(function(){a.h(),a.m();var D={user:Fi(r).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};Rr(r,a,D,!0)},1e3);Fe(r,function(){a&&a.h(),clearTimeout(A)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var A=Ru(w);switch(w=ft(A),A.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":A=St(a),a.h(),a.m(),me("phoneSignInStart",r,A,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(w);break;default:a.h(),a.a(w)}}}))):m(nt("Wrong code. Try again.").toString())}ot.phoneSignInFinish=function(r,a,u,d,m,g){var w=new Fa(function(){w.m(),me("phoneSignInStart",r,a,u)},function(){oN(r,w,u,m)},function(){w.m(),bt(r,a)},function(){w.m(),me("phoneSignInStart",r,a,u)},Ng(u),d,Bt(H(r)),Ht(H(r)));w.render(a),Be(r,w),g&&w.a(g)};var aN=!Nt&&!(qe("Safari")&&!(ww()||qe("Coast")||qe("Opera")||qe("Edge")||qe("Firefox")||qe("FxiOS")||qe("Silk")||qe("Android")));function qh(r,a){return/-[a-z]/.test(a)?null:aN&&r.dataset?!qe("Android")||ww()||qe("Firefox")||qe("FxiOS")||qe("Opera")||qe("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function lN(r,a,u){var d=this;r=tu(q1,{items:r},null,this.s),K1.call(this,r,!0,!0),u&&(u=uN(r,u))&&(u.focus(),MO(u,r)),Rt(this,r,function(m){(m=(m=Lw(m.target,"firebaseui-id-list-box-dialog-button"))&&qh(m,"listboxid"))&&(Oh.call(d),a(m))})}function uN(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(qh(r[u],"listboxid")===a)return r[u];return null}function fo(){return Ge(this,"firebaseui-id-phone-number")}function aI(){return Ge(this,"firebaseui-id-country-selector")}function rv(){return Ge(this,"firebaseui-id-phone-number-error")}function cN(r,a){var u=r.a,d=sv("1-US-0",u),m=null;if(a&&sv(a,u)?m=a:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");Wh.call(this,m,r)}function sv(r,a){return r=uo(r),!(!r||!F(a,r))}function dN(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+ov(a),label:a.name+" "+("+"+a.b)}})}function ov(r){return"firebaseui-flag-"+r.f}function hN(r){var a=this;lN.call(this,dN(r.a),function(u){Wh.call(a,u,r,!0),a.O().focus()},this.Ba)}function Wh(r,a,u){var d=uo(r);d&&(u&&(u=L(hn(fo.call(this))||""),a=Eh(a,u),a.length&&a[0].b!=d.b&&(u="+"+d.b+u.substr(a[0].b.length+1),w1(fo.call(this),u))),a=uo(this.Ba),this.Ba=r,r=Ge(this,"firebaseui-id-country-selector-flag"),a&&ir(r,ov(a)),nr(r,ov(d)),Km(Ge(this,"firebaseui-id-country-selector-code"),"+"+d.b))}function qu(r,a,u,d,m,g,w,A,D,Y){j.call(this,kE,{Gb:a,Aa:D||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:d,D:m}),this.H=A||null,this.M=a,this.l=r,this.w=u||null,this.pa=w||null}c(qu,j),qu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Su(this,this.O(),this.i()),xa(this,this.i(),this.l),this.O().focus(),Bh(this.O(),(this.O().value||"").length),j.prototype.v.call(this)},qu.prototype.o=function(){this.w=this.l=null,j.prototype.o.call(this)},oe(qu.prototype,{Cb:Yg,O:fo,B:rv,ea:function(r,a,u){var d=this,m=fo.call(this),g=aI.call(this),w=rv.call(this),A=r||gu,D=A.a;if(D.length==0)throw Error("No available countries provided.");cN.call(d,A,a),Rt(this,g,function(){hN.call(d,A)}),Ca(this,m,function(){Ra(w)&&(Mt(m,!0),pi(w));var Y=L(hn(m)||""),ye=uo(this.Ba),dt=Eh(A,Y);Y=sv("1-US-0",D),dt.length&&dt[0].b!=ye.b&&(ye=dt[0],Wh.call(d,ye.b=="1"&&Y?"1-US-0":ye.c,A))}),u&&Au(this,m,function(){u()})},U:function(r){var a=L(hn(fo.call(this))||"");r=r||gu;var u=r.a,d=Eh(gu,a);if(d.length&&!F(u,d[0]))throw w1(fo.call(this)),fo.call(this).focus(),fn(rv.call(this),nt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=uo(this.Ba),d.length&&d[0].b!=u.b&&Wh.call(this,d[0].c,r),d.length&&(a=a.substr(d[0].b.length+1)),a?new r1(this.Ba,a):null},Ja:aI,ba:function(){return Ge(this,"firebaseui-recaptcha-container")},u:function(){return Ge(this,"firebaseui-id-recaptcha-error")},i:an,ua:Jt,P:pn});function lI(r,a,u,d){try{var m=a.U(jg)}catch{return}m?_u?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",nt("Verifying...").toString()),Fe(r,a.I(ce(r.cc,r),[Ng(m),u],function(g){var w=St(a);a.$("firebaseui-icon-done",nt("Code sent!").toString());var A=setTimeout(function(){a.h(),a.m(),me("phoneSignInFinish",r,w,m,15,g)},1e3);Fe(r,function(){a&&a.h(),clearTimeout(A)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(y1),_u=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=nt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),fn(a.B(),Jm().toString());return;case"auth/admin-restricted-operation":if(co(H(r))){g=St(a),a.m(),me("handleUnauthorizedUser",r,g,Ng(m),Ee.auth.PhoneAuthProvider.PROVIDER_ID);return}w=ft(g);break;default:w=ft(g)}a.a(w)}}))):ba?fn(a.u(),nt("Solve the reCAPTCHA").toString()):!ba&&d&&a.i().click():(a.O().focus(),fn(a.B(),Jm().toString()))}ot.phoneSignInStart=function(r,a,u,d){var m=EO(H(r))||{};_u=null,ba=!(m&&m.size==="invisible");var g=YE(r),w=RO(H(r)),A=g?CO(H(r)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||A,(A=Dg(H(r)))&&i1(A),jg=A?new e1(Dg(H(r))):gu;var D=new qu(function(ye){lI(r,D,Y,!(!ye||!ye.keyCode))},ba,g?null:function(){Y.clear(),D.m(),bt(r,a)},Bt(H(r)),Ht(H(r)),g,jg,w,u);D.render(a),Be(r,D),d&&D.a(d),m.callback=function(ye){D.u()&&pi(D.u()),_u=ye,ba||lI(r,D,Y)},m["expired-callback"]=function(){_u=null};var Y=new Ee.auth.RecaptchaVerifier(ba?D.ba():D.i(),m,Fi(r).app);Fe(r,D.I(ce(Y.render,Y),[],function(ye){y1=ye},function(ye){ye.name&&ye.name=="cancel"||(ye=ft(ye),D.m(),bt(r,a,void 0,ye))}))},ot.prefilledEmailSignIn=function(r,a,u){var d=new Hh;d.render(a),Be(r,d),Fe(r,d.I(ce(We(r).fetchSignInMethodsForEmail,We(r)),[u],function(m){d.m();var g=!(!Vh(r)||!dI(r));QE(r,a,m,u,void 0,g)},function(m){m=ft(m),d.m(),me("signIn",r,a,u,m)}))};function Wu(r,a,u,d,m){j.call(this,PE,{Sb:a},m,"providerSignIn",{F:u,D:d}),this.i=r}c(Wu,j),Wu.prototype.v=function(){this.l(this.i),j.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(Wu.prototype,{l:function(r){function a(w){r(w)}for(var u=this.g?qm("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],g=qh(m,"providerId");Rt(this,m,ee(a,g))}}}),ot.providerSignIn=function(r,a,u,d){var m=new Wu(function(g){g==Ee.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),Xg(r,a,d)):g==Ee.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),me("phoneSignInStart",r,a)):g=="anonymous"?qO(r,m):Pu(r,m,g,d),Ye(r),r.l.cancel()},l1(H(r)),Bt(H(r)),Ht(H(r)));m.render(a),Be(r,m),u&&m.a(u),mN(r)},ot.sendEmailLinkForSignIn=function(r,a,u,d){var m=new Fh;m.render(a),Be(r,m),Qg(r,m,u,d,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&co(H(r))?me("handleUnauthorizedUser",r,a,u,Ee.auth.EmailAuthProvider.PROVIDER_ID):(g=ft(g),me("signIn",r,a,u,g))})};function Ku(r,a,u,d,m,g,w){j.call(this,J1,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:d,D:m}),this.i=r,this.u=a}c(Ku,j),Ku.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Bh(this.l(),(this.l().value||"").length),j.prototype.v.call(this)},Ku.prototype.o=function(){this.u=this.i=null,j.prototype.o.call(this)},oe(Ku.prototype,{l:Cr,M:ds,w:Na,H:Da,j:La,U:an,P:Jt,B:pn}),ot.signIn=function(r,a,u,d){var m=Vh(r),g=new Ku(function(){var w=g,A=w.j()||"";A&&JE(r,w,A)},m?null:function(){g.m(),bt(r,a,u)},u,Bt(H(r)),Ht(H(r)),m);g.render(a),Be(r,g),d&&g.a(d)};function zu(r,a,u,d,m,g,w){j.call(this,fE,{kc:r,yb:u,Eb:!!d},w,"unauthorizedUser",{F:m,D:g}),this.l=a,this.i=d}c(zu,j),zu.prototype.v=function(){var r=this,a=Ge(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&Rt(this,a,function(){r.i()}),Rt(this,this.u(),function(){r.l()}),this.u().focus(),j.prototype.v.call(this)},zu.prototype.o=function(){this.i=this.l=null,j.prototype.o.call(this)},oe(zu.prototype,{u:Jt}),ot.handleUnauthorizedUser=function(r,a,u,d){function m(){bt(r,a)}d===Ee.auth.EmailAuthProvider.PROVIDER_ID?m=function(){Xg(r,a)}:d===Ee.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){me("phoneSignInStart",r,a)});var g=null,w=null;d===Ee.auth.EmailAuthProvider.PROVIDER_ID&&c1(H(r))?(g=AO(H(r)),w=SO(H(r))):co(H(r))&&(g=IO(H(r)),w=TO(H(r)));var A=new zu(u,function(){A.m(),m()},g,w,Bt(H(r)),Ht(H(r)));A.render(a),Be(r,A)};function Gu(r,a,u,d,m,g){j.call(this,pE,{email:r},g,"unsupportedProvider",{F:d,D:m}),this.l=a,this.i=u}c(Gu,j),Gu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),j.prototype.v.call(this)},Gu.prototype.o=function(){this.i=this.l=null,j.prototype.o.call(this)},oe(Gu.prototype,{u:an,B:Jt,w:pn}),ot.unsupportedProvider=function(r,a,u){var d=new Gu(u,function(){d.m(),me("passwordRecovery",r,a,u)},function(){d.m(),bt(r,a,u)},Bt(H(r)),Ht(H(r)));d.render(a),Be(r,d)};function rr(r,a){this.$=!1;var u=av(a);if(Yu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Yu[u]=this,this.a=r,this.u=null,this.Y=!1,uI(this.a),this.h=Ee.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),uI(this.h),this.h.setPersistence&&this.h.setPersistence(Ee.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new bO,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=hg.Xa(),this.j=this.C=null,this.da=this.A=!1}function uI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Yu={};function av(r){return r||"[DEFAULT]"}function cI(r){return Ye(r),r.i||(r.i=Pr(r,function(a){return a&&!er(Pe(r))?Lt(Fi(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return fs(r,u)})):Lt(We(r).getRedirectResult().then(function(u){return Ih(H(r))&&!u.user&&r.j&&!r.j.isAnonymous?Fi(r).getRedirectResult():u}))})),r.i}function Be(r,a){Ye(r),r.g=a}var Ua=null;function We(r){return Ye(r),r.h}function Fi(r){return Ye(r),r.a}function Pe(r){return Ye(r),r.oa}function dI(r){return Ye(r),r.O?r.O.emailHint:void 0}t=rr.prototype,t.nb=function(){return Ye(this),!!Rg(Pe(this))||hI(Sr())};function hI(r){return r=new Xs(r),(r.a.a.get(zt.ub)||null)==="signIn"&&!!r.a.a.get(zt.$a)}t.start=function(r,a){fI(this,r,a)};function fI(r,a,u,d){Ye(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=d||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?Kh(r,a):ou(window,"load",function(){Kh(r,a)})}):g.readyState=="complete"?Kh(r,a):ou(window,"load",function(){Kh(r,a)})}function Kh(r,a){var u=th(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ua){var d=Ua;Ye(d),er(Pe(d))&&us("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ua.reset()}if(Ua=r,r.T=u,pN(r,u),bh(new Tg)&&bh(new Ag)){a=th(a,"Could not find the FirebaseUI widget element on the page."),u=Sr(),d=xg(H(r).a,"queryParameterForSignInSuccessUrl"),u=(u=Ud(u,d))?ns(jd(u)).toString():null;e:{d=Sr();var m=f1(H(r));d=Ud(d,m)||"";for(g in $g)if($g[g].toLowerCase()==d.toLowerCase()){var g=$g[g];break e}g="callback"}switch(g){case"callback":u&&(g=Pe(r),va(pu,u,g)),r.nb()?me("callback",r,a):bt(r,a,dI(r));break;case"resetPassword":me("passwordReset",r,a,ku(),Zg());break;case"recoverEmail":me("emailChangeRevocation",r,a,ku());break;case"revertSecondFactorAddition":me("revertSecondFactorAddition",r,a,ku());break;case"verifyEmail":me("emailVerification",r,a,ku(),Zg());break;case"verifyAndChangeEmail":me("verifyAndChangeEmail",r,a,ku(),Zg());break;case"signIn":me("emailLinkSignInCallback",r,a,Sr()),vI();break;case"select":u&&(g=Pe(r),va(pu,u,g)),bt(r,a);break;default:throw Error("Unhandled widget operation.")}a=H(r),(a=yu(a).uiShown||null)&&a()}else a=th(a,"Could not find the FirebaseUI widget element on the page."),g=new zE(nt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),Be(r,g);a=r.g&&r.g.Ga=="blank"&&Lg(H(r)),Rg(Pe(r))&&!a&&(a=Rg(Pe(r)),gI(r,a.a),ei(lo,Pe(r)))}function Pr(r,a){if(r.A)return a(pI(r));if(Fe(r,function(){r.A=!1}),Ih(H(r))){var u=new Yt(function(d){Fe(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,d(a(pI(r))))}))});return Fe(r,u),u}return r.A=!0,a(null)}function pI(r){return Ye(r),Ih(H(r))&&r.j&&r.j.isAnonymous?r.j:null}function Fe(r,a){if(Ye(r),a){r.s.push(a);var u=function(){st(r.s,function(d){return d==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){Ye(this),this.Z=!0};function fN(r){Ye(r);var a;return(a=r.Z)||(r=H(r),r=h1(r,Ee.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function mI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function gI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){Ye(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&Gx(this.J),mI(this),this.O=null,vI(),ei(lo,Pe(this)),Ye(this),this.l.cancel(),this.i=Lt({user:null,credential:null}),Ua==this&&(Ua=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],tr(Pe(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=hs(this).then(function(){r.C=null},function(){r.C=null}))};function pN(r,a){r.L=null,r.J=new Zd(a),r.J.register(),Mi(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var d=H(r);(d=yu(d).uiChanged||null)&&d(r.L,u),r.L=u}})}t.ib=function(r){Ye(this);var a=this.ca,u;for(u in r)try{kg(a.a,u,r[u])}catch{hi('Invalid config: "'+u+'"',void 0)}mx&&kg(a.a,"popupMode",!1),Dg(a),!this.da&&Mg(H(this))&&(us("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function H(r){return Ye(r),r.ca}t.Wb=function(){Ye(this);var r=H(this),a=xg(r.a,"widgetUrl");r=f1(r);for(var u=a.search(hw),d=0,m,g=[];0<=(m=dw(a,d,r,u));)g.push(a.substring(d,m)),d=Math.min(a.indexOf("&",m)+1||u,u);g.push(a.substr(d)),a=g.join("").replace(rx,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),d=a.indexOf("?"),0>d||d>u?(d=u,m=""):m=a.substring(d+1,u),a=[a.substr(0,d),m,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,H(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=pb(u,r))&&r.focus()):oa(window.location,u)};function Ye(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return Ye(this),this.h.app.delete().then(function(){var a=av(Pe(r));delete Yu[a],r.reset(),r.$=!0})};function mN(r){Ye(r);try{wb(r.l,u1(H(r)),fN(r)).then(function(a){return r.g?WO(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){Ye(this);var u=this,d=tO();if(!wa(H(this)))return aa(Error("Email link sign-in should be enabled to trigger email sending."));var m=kO(H(this)),g=new Xs(m.url);return dx(g,d),a&&a.a&&(wO(d,a,Pe(this)),vw(g,a.a.providerId)),hx(g,PO(H(this))),Pr(this,function(w){return w&&((w=w.uid)?g.a.a.set(zt.Pa,w):Qs(g.a.a,zt.Pa)),m.url=g.toString(),We(u).sendSignInLinkToEmail(r,m)}).then(function(){var w=Pe(u),A={};A.email=r,va(ma,jb(d,JSON.stringify(A)),w)},function(w){throw ei(mu,Pe(u)),ei(ma,Pe(u)),w})};function gN(r,a){var u=gw(new Xs(a));return u?(a=new Yt(function(d,m){var g=Fi(r).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?d(w):w&&w.isAnonymous&&w.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Fe(r,g)}),Fe(r,a),a):Lt(null)}function vN(r,a,u,d,m){Ye(r);var g=m||null,w=Ee.auth.EmailAuthProvider.credentialWithLink(u,d);return u=g?We(r).signInWithEmailLink(u,d).then(function(A){return A.user.linkWithCredential(g)}).then(function(){return hs(r)}).then(function(){return fs(r,{code:"auth/email-already-in-use"},g)}):We(r).fetchSignInMethodsForEmail(u).then(function(A){return A.length?fs(r,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Fe(r,u),u}function yN(r,a,u,d){Ye(r);var m=d||null,g;return a=We(r).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},m)return w.user.linkWithCredential(m).then(function(A){g={user:A.user,credential:m,operationType:g.operationType,additionalUserInfo:A.additionalUserInfo}})}).then(function(){hs(r)}).then(function(){return Fi(r).updateCurrentUser(g.user)}).then(function(){return g.user=Fi(r).currentUser,g}),Fe(r,a),a}function vI(){var r=Sr();if(hI(r)){r=new Xs(r);for(var a in zt)zt.hasOwnProperty(a)&&Qs(r.a.a,zt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){Ye(this);var u=this;return We(this).signInWithEmailAndPassword(r,a).then(function(d){return Pr(u,function(m){return m?hs(u).then(function(){return fs(u,{code:"auth/email-already-in-use"},Ee.auth.EmailAuthProvider.credential(r,a))}):d})})},t.Yb=function(r,a){Ye(this);var u=this;return Pr(this,function(d){if(d){var m=Ee.auth.EmailAuthProvider.credential(r,a);return d.linkWithCredential(m)}return We(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){Ye(this);var a=this;return Pr(this,function(u){return u?u.linkWithCredential(r).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return fs(a,d,r)}):We(a).signInWithCredential(r)})};function _N(r,a){return Ye(r),Pr(r,function(u){return u&&!er(Pe(r))?u.linkWithPopup(a).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return fs(r,d)}):We(r).signInWithPopup(a)})}t.dc=function(r){Ye(this);var a=this,u=this.i;return this.i=null,Pr(this,function(d){return d&&!er(Pe(a))?d.linkWithRedirect(r):We(a).signInWithRedirect(r)}).then(function(){},function(d){throw a.i=u,d})},t.cc=function(r,a){Ye(this);var u=this;return Pr(this,function(d){return d?d.linkWithPhoneNumber(r,a).then(function(m){return new pg(m,function(g){if(g.code=="auth/credential-already-in-use")return fs(u,g);throw g})}):Fi(u).signInWithPhoneNumber(r,a).then(function(m){return new pg(m)})})},t.$b=function(){return Ye(this),Fi(this).signInAnonymously()};function wN(r,a){return Ye(r),Pr(r,function(u){if(r.j&&!r.j.isAnonymous&&Ih(H(r))&&!We(r).currentUser)return hs(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return hs(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(d){return a.user=d.user,a.credential=d.credential,a.operationType=d.operationType,a.additionalUserInfo=d.additionalUserInfo,a},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return fs(r,d,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return hs(r).then(function(){return Fi(r).updateCurrentUser(a.user)}).then(function(){return a.user=Fi(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return Ye(this),We(this).signInWithEmailAndPassword(r,a)};function hs(r){return Ye(r),We(r).signOut()}function fs(r,a,u){if(Ye(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var d=v1(H(r));return Lt().then(function(){return d(new nu("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return aa(a)}function Ju(r,a,u,d){j.call(this,DE,void 0,d,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(Ju,j),Ju.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Bh(this.l(),(this.l().value||"").length),j.prototype.v.call(this)},Ju.prototype.o=function(){this.i=null,j.prototype.o.call(this)},oe(Ju.prototype,{l:Cr,H:ds,u:Na,B:Da,j:La,M:an,w:pn});function zh(r,a,u,d,m){j.call(this,NE,{ec:a},m,"selectTenant",{F:u,D:d}),this.i=r}c(zh,j),zh.prototype.v=function(){bN(this,this.i),j.prototype.v.call(this)},zh.prototype.o=function(){this.i=null,j.prototype.o.call(this)};function bN(r,a){function u(A){a(A)}for(var d=r.g?qm("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<d.length;m++){var g=d[m],w=qh(g,"tenantId");Rt(r,g,ee(u,w))}}function lv(r){j.call(this,nE,void 0,r,"spinner")}c(lv,j);function EN(r){this.a=new Pg,jt(this.a,"authDomain"),jt(this.a,"displayMode",Yh),jt(this.a,"tenants"),jt(this.a,"callbacks"),jt(this.a,"tosUrl"),jt(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{kg(this.a,a,r[a])}catch{hi('Invalid config: "'+a+'"',void 0)}}function IN(r){r=r.a.get("displayMode");for(var a in cv)if(cv[a]===r)return cv[a];return Yh}function Gh(r){return r.a.get("callbacks")||{}}function yI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&us("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){ua(a)}}return null}function _I(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&us("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){ua(u)}}return null}function uv(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(Jh))throw Error("Invalid tenant configuration!")}function wI(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var d=[];if(r=r[a]||r[Jh],!r)return hi("Invalid tenant configuration: "+(a+" is not configured!"),void 0),d;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),hi(m,void 0)}),d}function TN(r,a,u){return r=AN(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),r.signInOptions=a),r}function AN(r,a){var u=SN,d=d===void 0?{}:d;return uv(r,a),r=r.a.get("tenants"),nO(r[a]||r[Jh],u,d)}var SN=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Yh="optionFirst",cv={pc:Yh,oc:"identifierFirst"},Jh="*";function Ui(r,a){var u=this;this.s=th(r),this.a={},Object.keys(a).forEach(function(d){u.a[d]=new EN(a[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=Ui.prototype,t.Ub=function(r,a){var u=this;ps(this);var d=r.apiKey;return new Yt(function(m,g){if(u.a.hasOwnProperty(d)){var w=Gh(u.a[d]).selectTenantUiHidden||null;if(IN(u.a[d])===Yh){var A=[];a.forEach(function(ye){ye=ye||"_";var dt=u.a[d].a.get("tenants");if(!dt)throw Error("Invalid tenant configuration!");(dt=dt[ye]||dt[Jh])?ye={tenantId:ye!=="_"?ye:null,V:dt.fullLabel||null,displayName:dt.displayName,za:dt.iconUrl,ta:dt.buttonColor}:(hi("Invalid tenant configuration: "+(ye+" is not configured!"),void 0),ye=null),ye&&A.push(ye)});var D=function(ye){ye={tenantId:ye,providerIds:wI(u.a[d],ye||"_")},m(ye)};if(A.length===1){D(A[0].tenantId);return}u.g=new zh(function(ye){ps(u),w&&w(),D(ye)},A,yI(u.a[d]),_I(u.a[d]))}else u.g=new Ju(function(){var ye=u.g.j();if(ye){for(var dt=0;dt<a.length;dt++){var $i=wI(u.a[d],a[dt]||"_",ye);if($i.length!==0){ye={tenantId:a[dt],providerIds:$i,email:ye},ps(u),w&&w(),m(ye);return}}u.g.a(Hw({code:"no-matching-tenant-for-email"}).toString())}},yI(u.a[d]),_I(u.a[d]));u.g.render(u.s),(g=Gh(u.a[d]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;uv(this.a[r],a||"_");try{this.i=Ee.app(u).auth()}catch{var d=this.a[r].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");r=Ee.initializeApp({apiKey:r,authDomain:d},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new Yt(function(d,m){function g(dt,$i){u.j=new rr(r),fI(u.j,u.s,dt,$i)}var w=r.app.options.apiKey;u.a.hasOwnProperty(w)||m(Error("Invalid project configuration: API key is invalid!"));var A=TN(u.a[w],r.tenantId||"_",a&&a.providerIds);ps(u),m={signInSuccessWithAuthResult:function(dt){return d(dt),!1}};var D=Gh(u.a[w]).signInUiShown||null,Y=!1;m.uiChanged=function(dt,$i){dt===null&&$i==="callback"?((dt=Wm("firebaseui-id-page-callback",u.s))&&pi(dt),u.h=new lv,u.h.render(u.s)):Y||dt===null&&$i==="spinner"||$i==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,D&&D(r.tenantId))},A.callbacks=m,A.credentialHelper="none";var ye;a&&a.email&&(ye={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(A,ye)}):g(A,ye)})},t.reset=function(){var r=this;return Lt().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,ps(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){ps(r),r.h=new lv,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return ps(this),this.g=new BE,this.g.render(this.s),Lt()};function ps(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=Hw({code:r.code}).toString()||r.message;ps(this);var d;r.retry&&typeof r.retry=="function"&&(d=function(){a.reset(),r.retry()}),this.g=new KE(u,d),this.g.render(this.s)},t.Rb=function(r){var a=this;return Lt().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(uv(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=Gh(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},Ce("firebaseui.auth.FirebaseUiHandler",Ui),Ce("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ui.prototype.Ub),Ce("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ui.prototype.Pb),Ce("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ui.prototype.Zb),Ce("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ui.prototype.reset),Ce("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ui.prototype.Vb),Ce("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ui.prototype.mb),Ce("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ui.prototype.Bb),Ce("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ui.prototype.pb),Ce("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ui.prototype.Rb),Ce("firebaseui.auth.AuthUI",rr),Ce("firebaseui.auth.AuthUI.getInstance",function(r){return r=av(r),Yu[r]?Yu[r]:null}),Ce("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",rr.prototype.Db),Ce("firebaseui.auth.AuthUI.prototype.start",rr.prototype.start),Ce("firebaseui.auth.AuthUI.prototype.setConfig",rr.prototype.ib),Ce("firebaseui.auth.AuthUI.prototype.signIn",rr.prototype.Wb),Ce("firebaseui.auth.AuthUI.prototype.reset",rr.prototype.reset),Ce("firebaseui.auth.AuthUI.prototype.delete",rr.prototype.Wa),Ce("firebaseui.auth.AuthUI.prototype.isPendingRedirect",rr.prototype.nb),Ce("firebaseui.auth.AuthUIError",nu),Ce("firebaseui.auth.AuthUIError.prototype.toJSON",nu.prototype.toJSON),Ce("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Vg),Ce("firebaseui.auth.CredentialHelper.NONE",Ah),Ce("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Yt.prototype.catch=Yt.prototype.Ca,Yt.prototype.finally=Yt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=E6);var I6=firebaseui.auth;const hm=yp(B9),Di=d9(hm);$n(hm,"northamerica-northeast1");const c2=xC(hm),ZW=new I6.AuthUI(c2),T6=_5(hm);y5(T6);const ea=t=>{console.error(`Error fetching documents with conditions: ${t}`)},A6=async t=>{try{return(await Wr(bl(Di,t))).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return ea(e),[]}},eK=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=Er(bl(Di,t),gr(e,n,i));return(await Wr(s)).docs.map(c=>c.data())}catch(s){return ea(s),[]}},tK=async(t,e,n,i)=>{console.log("getPaginatedDocuments",t,e,n,i);try{if(i){const s=Er(bl(Di,t),Us(...e),x0(i),Il(n)),o=await Wr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}else{const s=Er(bl(Di,t),Us(...e),Il(n)),o=await Wr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}}catch(s){return ea(s),{lastVisible:{},docs:[]}}},nK=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=Er(bl(Di,t),gr(e,n,i),Us(e),x0(l),Il(o)),h=await Wr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,p),{lastVisible:p,docs:f}}else{const c=Er(ed(Di,t),gr(e,n,i),Us(...s),Il(o)),h=await Wr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,p),{lastVisible:p,docs:f}}}catch(c){return ea(c),{lastVisible:{},docs:[]}}},iK=async(t,e,n,i,s,o,l,c,h,f)=>{try{if(f){const p=Er(bl(Di,t),gr(e,n,i),gr(s,o,l),Us(e),x0(f),Il(h)),v=await Wr(p),y=v.docs.map(I=>({id:I.id,...I.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}else{const p=Er(ed(Di,t),gr(e,n,i),gr(s,o,l),Us(...c),Il(h)),v=await Wr(p),y=v.docs.map(I=>({id:I.id,...I.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}}catch(p){return ea(p),{lastVisible:{},docs:[]}}},Dy=async(t,e)=>{try{console.log("getDocument",t,e);const n=NP(Di,t,e),i=await T9(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return ea(n),[]}},rK=async(t,e,n="id")=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const i=Er(ed(Di,t),gr(n,"==",e)),s=await Wr(i);if(s.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const o=s.docs[0];return console.log("queryForCollectionGroupDocumentById",o.data()),{id:o.id,...o.data()}}catch(i){return ea(i),null}},d2=t=>t instanceof nn,h2=t=>t.toDate();function V0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const It={},rl=[],qi=()=>{},S6=()=>!1,C6=/^on[^a-z]/,fm=t=>C6.test(t),F0=t=>t.startsWith("onUpdate:"),un=Object.assign,U0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},R6=Object.prototype.hasOwnProperty,it=(t,e)=>R6.call(t,e),Se=Array.isArray,sl=t=>Dd(t)==="[object Map]",pm=t=>Dd(t)==="[object Set]",iA=t=>Dd(t)==="[object Date]",Ue=t=>typeof t=="function",qt=t=>typeof t=="string",Tl=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",f2=t=>(yt(t)||Ue(t))&&Ue(t.then)&&Ue(t.catch),p2=Object.prototype.toString,Dd=t=>p2.call(t),P6=t=>Dd(t).slice(8,-1),m2=t=>Dd(t)==="[object Object]",$0=t=>qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Cf=V0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},k6=/-(\w)/g,Al=mm(t=>t.replace(k6,(e,n)=>n?n.toUpperCase():"")),x6=/\B([A-Z])/g,jl=mm(t=>t.replace(x6,"-$1").toLowerCase()),g2=mm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Lv=mm(t=>t?`on${g2(t)}`:""),Ko=(t,e)=>!Object.is(t,e),Rf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},sp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},op=t=>{const e=parseFloat(t);return isNaN(e)?t:e},O6=t=>{const e=qt(t)?Number(t):NaN;return isNaN(e)?t:e};let rA;const Ly=()=>rA||(rA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function j0(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=qt(i)?M6(i):j0(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(qt(t)||yt(t))return t}const N6=/;(?![^(]*\))/g,D6=/:([^]+)/,L6=/\/\*[^]*?\*\//g;function M6(t){const e={};return t.replace(L6,"").split(N6).forEach(n=>{if(n){const i=n.split(D6);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Gn(t){let e="";if(qt(t))e=t;else if(Se(t))for(let n=0;n<t.length;n++){const i=Gn(t[n]);i&&(e+=i+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const V6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F6=V0(V6);function v2(t){return!!t||t===""}function U6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=gm(t[i],e[i]);return n}function gm(t,e){if(t===e)return!0;let n=iA(t),i=iA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Tl(t),i=Tl(e),n||i)return t===e;if(n=Se(t),i=Se(e),n||i)return n&&i?U6(t,e):!1;if(n=yt(t),i=yt(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!gm(t[l],e[l]))return!1}}return String(t)===String(e)}function $6(t,e){return t.findIndex(n=>gm(n,e))}const Pi=t=>qt(t)?t:t==null?"":Se(t)||yt(t)&&(t.toString===p2||!Ue(t.toString))?JSON.stringify(t,y2,2):String(t),y2=(t,e)=>e&&e.__v_isRef?y2(t,e.value):sl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:pm(e)?{[`Set(${e.size})`]:[...e.values()]}:yt(e)&&!Se(e)&&!m2(e)?String(e):e;let gi;class _2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gi,!e&&gi&&(this.index=(gi.scopes||(gi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=gi;try{return gi=this,e()}finally{gi=n}}}on(){gi=this}off(){gi=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function w2(t){return new _2(t)}function j6(t,e=gi){e&&e.active&&e.effects.push(t)}function b2(){return gi}function B6(t){gi&&gi.cleanups.push(t)}const B0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},E2=t=>(t.w&$s)>0,I2=t=>(t.n&$s)>0,H6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=$s},q6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];E2(s)&&!I2(s)?s.delete(t):e[n++]=s,s.w&=~$s,s.n&=~$s}e.length=n}},ap=new WeakMap;let vc=0,$s=1;const My=30;let Bi;const Mo=Symbol(""),Vy=Symbol("");class H0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,j6(this,i)}run(){if(!this.active)return this.fn();let e=Bi,n=xs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Bi,Bi=this,xs=!0,$s=1<<++vc,vc<=My?H6(this):sA(this),this.fn()}finally{vc<=My&&q6(this),$s=1<<--vc,Bi=this.parent,xs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Bi===this?this.deferStop=!0:this.active&&(sA(this),this.onStop&&this.onStop(),this.active=!1)}}function sA(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let xs=!0;const T2=[];function Bl(){T2.push(xs),xs=!1}function Hl(){const t=T2.pop();xs=t===void 0?!0:t}function ai(t,e,n){if(xs&&Bi){let i=ap.get(t);i||ap.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=B0()),A2(s)}}function A2(t,e){let n=!1;vc<=My?I2(t)||(t.n|=$s,n=!E2(t)):n=!t.has(Bi),n&&(t.add(Bi),Bi.deps.push(t))}function Fr(t,e,n,i,s,o){const l=ap.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Se(t)){const h=Number(i);l.forEach((f,p)=>{(p==="length"||!Tl(p)&&p>=h)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Se(t)?$0(n)&&c.push(l.get("length")):(c.push(l.get(Mo)),sl(t)&&c.push(l.get(Vy)));break;case"delete":Se(t)||(c.push(l.get(Mo)),sl(t)&&c.push(l.get(Vy)));break;case"set":sl(t)&&c.push(l.get(Mo));break}if(c.length===1)c[0]&&Fy(c[0]);else{const h=[];for(const f of c)f&&h.push(...f);Fy(B0(h))}}function Fy(t,e){const n=Se(t)?t:[...t];for(const i of n)i.computed&&oA(i);for(const i of n)i.computed||oA(i)}function oA(t,e){(t!==Bi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function W6(t,e){var n;return(n=ap.get(t))==null?void 0:n.get(e)}const K6=V0("__proto__,__v_isRef,__isVue"),S2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Tl)),aA=z6();function z6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ne(this);for(let o=0,l=this.length;o<l;o++)ai(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ne)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Bl();const i=Ne(this)[e].apply(this,n);return Hl(),i}}),t}function G6(t){const e=Ne(this);return ai(e,"has",t),e.hasOwnProperty(t)}class C2{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?a$:x2:o?k2:P2).get(e))return e;const l=Se(e);if(!s){if(l&&it(aA,n))return Reflect.get(aA,n,i);if(n==="hasOwnProperty")return G6}const c=Reflect.get(e,n,i);return(Tl(n)?S2.has(n):K6(n))||(s||ai(e,"get",n),o)?c:Pt(c)?l&&$0(n)?c:c.value:yt(c)?s?N2(c):si(c):c}}class R2 extends C2{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(Sl(o)&&Pt(o)&&!Pt(i))return!1;if(!this._shallow&&(!lp(i)&&!Sl(i)&&(o=Ne(o),i=Ne(i)),!Se(e)&&Pt(o)&&!Pt(i)))return o.value=i,!0;const l=Se(e)&&$0(n)?Number(n)<e.length:it(e,n),c=Reflect.set(e,n,i,s);return e===Ne(s)&&(l?Ko(i,o)&&Fr(e,"set",n,i):Fr(e,"add",n,i)),c}deleteProperty(e,n){const i=it(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Fr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Tl(n)||!S2.has(n))&&ai(e,"has",n),i}ownKeys(e){return ai(e,"iterate",Se(e)?"length":Mo),Reflect.ownKeys(e)}}class Y6 extends C2{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const J6=new R2,Q6=new Y6,X6=new R2(!0),q0=t=>t,vm=t=>Reflect.getPrototypeOf(t);function lf(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ne(t),o=Ne(e);n||(Ko(e,o)&&ai(s,"get",e),ai(s,"get",o));const{has:l}=vm(s),c=i?q0:n?z0:td;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function uf(t,e=!1){const n=this.__v_raw,i=Ne(n),s=Ne(t);return e||(Ko(t,s)&&ai(i,"has",t),ai(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function cf(t,e=!1){return t=t.__v_raw,!e&&ai(Ne(t),"iterate",Mo),Reflect.get(t,"size",t)}function lA(t){t=Ne(t);const e=Ne(this);return vm(e).has.call(e,t)||(e.add(t),Fr(e,"add",t,t)),this}function uA(t,e){e=Ne(e);const n=Ne(this),{has:i,get:s}=vm(n);let o=i.call(n,t);o||(t=Ne(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?Ko(e,l)&&Fr(n,"set",t,e):Fr(n,"add",t,e),this}function cA(t){const e=Ne(this),{has:n,get:i}=vm(e);let s=n.call(e,t);s||(t=Ne(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Fr(e,"delete",t,void 0),o}function dA(){const t=Ne(this),e=t.size!==0,n=t.clear();return e&&Fr(t,"clear",void 0,void 0),n}function df(t,e){return function(i,s){const o=this,l=o.__v_raw,c=Ne(l),h=e?q0:t?z0:td;return!t&&ai(c,"iterate",Mo),l.forEach((f,p)=>i.call(s,h(f),h(p),o))}}function hf(t,e,n){return function(...i){const s=this.__v_raw,o=Ne(s),l=sl(o),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,f=s[t](...i),p=n?q0:e?z0:td;return!e&&ai(o,"iterate",h?Vy:Mo),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:c?[p(v[0]),p(v[1])]:p(v),done:y}},[Symbol.iterator](){return this}}}}function gs(t){return function(...e){return t==="delete"?!1:this}}function Z6(){const t={get(o){return lf(this,o)},get size(){return cf(this)},has:uf,add:lA,set:uA,delete:cA,clear:dA,forEach:df(!1,!1)},e={get(o){return lf(this,o,!1,!0)},get size(){return cf(this)},has:uf,add:lA,set:uA,delete:cA,clear:dA,forEach:df(!1,!0)},n={get(o){return lf(this,o,!0)},get size(){return cf(this,!0)},has(o){return uf.call(this,o,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:df(!0,!1)},i={get(o){return lf(this,o,!0,!0)},get size(){return cf(this,!0)},has(o){return uf.call(this,o,!0)},add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear"),forEach:df(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=hf(o,!1,!1),n[o]=hf(o,!0,!1),e[o]=hf(o,!1,!0),i[o]=hf(o,!0,!0)}),[t,n,e,i]}const[e$,t$,n$,i$]=Z6();function W0(t,e){const n=e?t?i$:n$:t?t$:e$;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(it(n,s)&&s in i?n:i,s,o)}const r$={get:W0(!1,!1)},s$={get:W0(!1,!0)},o$={get:W0(!0,!1)},P2=new WeakMap,k2=new WeakMap,x2=new WeakMap,a$=new WeakMap;function l$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function u$(t){return t.__v_skip||!Object.isExtensible(t)?0:l$(P6(t))}function si(t){return Sl(t)?t:K0(t,!1,J6,r$,P2)}function O2(t){return K0(t,!1,X6,s$,k2)}function N2(t){return K0(t,!0,Q6,o$,x2)}function K0(t,e,n,i,s){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=u$(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Ur(t){return Sl(t)?Ur(t.__v_raw):!!(t&&t.__v_isReactive)}function Sl(t){return!!(t&&t.__v_isReadonly)}function lp(t){return!!(t&&t.__v_isShallow)}function D2(t){return Ur(t)||Sl(t)}function Ne(t){const e=t&&t.__v_raw;return e?Ne(e):t}function ym(t){return sp(t,"__v_skip",!0),t}const td=t=>yt(t)?si(t):t,z0=t=>yt(t)?N2(t):t;function L2(t){xs&&Bi&&(t=Ne(t),A2(t.dep||(t.dep=B0())))}function M2(t,e){t=Ne(t);const n=t.dep;n&&Fy(n)}function Pt(t){return!!(t&&t.__v_isRef===!0)}function ne(t){return F2(t,!1)}function V2(t){return F2(t,!0)}function F2(t,e){return Pt(t)?t:new c$(t,e)}class c${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ne(e),this._value=n?e:td(e)}get value(){return L2(this),this._value}set value(e){const n=this.__v_isShallow||lp(e)||Sl(e);e=n?e:Ne(e),Ko(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:td(e),M2(this))}}function V(t){return Pt(t)?t.value:t}const d$={get:(t,e,n)=>V(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Pt(s)&&!Pt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function U2(t){return Ur(t)?t:new Proxy(t,d$)}function h$(t){const e=Se(t)?new Array(t.length):{};for(const n in t)e[n]=$2(t,n);return e}class f${constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return W6(Ne(this._object),this._key)}}class p${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function m$(t,e,n){return Pt(t)?t:Ue(t)?new p$(t):yt(t)&&arguments.length>1?$2(t,e,n):ne(t)}function $2(t,e,n){const i=t[e];return Pt(i)?i:new f$(t,e,n)}class g${constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new H0(e,()=>{this._dirty||(this._dirty=!0,M2(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ne(this);return L2(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function v$(t,e,n=!1){let i,s;const o=Ue(t);return o?(i=t,s=qi):(i=t.get,s=t.set),new g$(i,s,o||!s,n)}function Os(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){_m(o,e,n)}return s}function xi(t,e,n,i){if(Ue(t)){const o=Os(t,e,n,i);return o&&f2(o)&&o.catch(l=>{_m(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(xi(t[o],e,n,i));return s}function _m(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){Os(h,null,10,[t,l,c]);return}}y$(t,n,s,i)}function y$(t,e,n,i=!0){console.error(t)}let nd=!1,Uy=!1;const Ln=[];let hr=0;const ol=[];let xr=null,wo=0;const j2=Promise.resolve();let G0=null;function Wi(t){const e=G0||j2;return t?e.then(this?t.bind(this):t):e}function _$(t){let e=hr+1,n=Ln.length;for(;e<n;){const i=e+n>>>1,s=Ln[i],o=id(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function Y0(t){(!Ln.length||!Ln.includes(t,nd&&t.allowRecurse?hr+1:hr))&&(t.id==null?Ln.push(t):Ln.splice(_$(t.id),0,t),B2())}function B2(){!nd&&!Uy&&(Uy=!0,G0=j2.then(q2))}function w$(t){const e=Ln.indexOf(t);e>hr&&Ln.splice(e,1)}function b$(t){Se(t)?ol.push(...t):(!xr||!xr.includes(t,t.allowRecurse?wo+1:wo))&&ol.push(t),B2()}function hA(t,e=nd?hr+1:0){for(;e<Ln.length;e++){const n=Ln[e];n&&n.pre&&(Ln.splice(e,1),e--,n())}}function H2(t){if(ol.length){const e=[...new Set(ol)];if(ol.length=0,xr){xr.push(...e);return}for(xr=e,xr.sort((n,i)=>id(n)-id(i)),wo=0;wo<xr.length;wo++)xr[wo]();xr=null,wo=0}}const id=t=>t.id==null?1/0:t.id,E$=(t,e)=>{const n=id(t)-id(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function q2(t){Uy=!1,nd=!0,Ln.sort(E$);const e=qi;try{for(hr=0;hr<Ln.length;hr++){const n=Ln[hr];n&&n.active!==!1&&Os(n,null,14)}}finally{hr=0,Ln.length=0,H2(),nd=!1,G0=null,(Ln.length||ol.length)&&q2()}}function I$(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||It;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:y}=i[p]||It;y&&(s=n.map(b=>qt(b)?b.trim():b)),v&&(s=n.map(op))}let c,h=i[c=Lv(e)]||i[c=Lv(Al(e))];!h&&o&&(h=i[c=Lv(jl(e))]),h&&xi(h,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,xi(f,t,6,s)}}function W2(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!Ue(t)){const h=f=>{const p=W2(f,e,!0);p&&(c=!0,un(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!o&&!c?(yt(t)&&i.set(t,null),null):(Se(o)?o.forEach(h=>l[h]=null):un(l,o),yt(t)&&i.set(t,l),l)}function wm(t,e){return!t||!fm(e)?!1:(e=e.slice(2).replace(/Once$/,""),it(t,e[0].toLowerCase()+e.slice(1))||it(t,jl(e))||it(t,e))}let Cn=null,K2=null;function up(t){const e=Cn;return Cn=t,K2=t&&t.type.__scopeId||null,e}function he(t,e=Cn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&TA(-1);const o=up(e);let l;try{l=t(...s)}finally{up(o),i._d&&TA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Mv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:h,emit:f,render:p,renderCache:v,data:y,setupState:b,ctx:I,inheritAttrs:_}=t;let E,T;const R=up(t);try{if(n.shapeFlag&4){const N=s||i;E=or(p.call(N,N,v,o,b,y,I)),T=h}else{const N=e;E=or(N.length>1?N(o,{attrs:h,slots:c,emit:f}):N(o,null)),T=e.props?h:T$(h)}}catch(N){xc.length=0,_m(N,t,1),E=Z(Oi)}let x=E;if(T&&_!==!1){const N=Object.keys(T),{shapeFlag:U}=x;N.length&&U&7&&(l&&N.some(F0)&&(T=A$(T,l)),x=Kr(x,T))}return n.dirs&&(x=Kr(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),E=x,up(R),E}const T$=t=>{let e;for(const n in t)(n==="class"||n==="style"||fm(n))&&((e||(e={}))[n]=t[n]);return e},A$=(t,e)=>{const n={};for(const i in t)(!F0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function S$(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:h}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?fA(i,l,f):!!l;if(h&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const y=p[v];if(l[y]!==i[y]&&!wm(f,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?fA(i,l,f):!0:!!l;return!1}function fA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!wm(n,o))return!0}return!1}function C$({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const R$=t=>t.__isSuspense;function P$(t,e){e&&e.pendingBranch?Se(t)?e.effects.push(...t):e.effects.push(t):b$(t)}function Ei(t,e){return J0(t,null,e)}const ff={};function wi(t,e,n){return J0(t,e,n)}function J0(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=It){var c;const h=b2()===((c=gn)==null?void 0:c.scope)?gn:null;let f,p=!1,v=!1;if(Pt(t)?(f=()=>t.value,p=lp(t)):Ur(t)?(f=()=>t,i=!0):Se(t)?(v=!0,p=t.some(N=>Ur(N)||lp(N)),f=()=>t.map(N=>{if(Pt(N))return N.value;if(Ur(N))return Po(N);if(Ue(N))return Os(N,h,2)})):Ue(t)?e?f=()=>Os(t,h,2):f=()=>{if(!(h&&h.isUnmounted))return y&&y(),xi(t,h,3,[b])}:f=qi,e&&i){const N=f;f=()=>Po(N())}let y,b=N=>{y=R.onStop=()=>{Os(N,h,4)}},I;if(od)if(b=qi,e?n&&xi(e,h,3,[f(),v?[]:void 0,b]):f(),s==="sync"){const N=Cj();I=N.__watcherHandles||(N.__watcherHandles=[])}else return qi;let _=v?new Array(t.length).fill(ff):ff;const E=()=>{if(R.active)if(e){const N=R.run();(i||p||(v?N.some((U,G)=>Ko(U,_[G])):Ko(N,_)))&&(y&&y(),xi(e,h,3,[N,_===ff?void 0:v&&_[0]===ff?[]:_,b]),_=N)}else R.run()};E.allowRecurse=!!e;let T;s==="sync"?T=E:s==="post"?T=()=>ni(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),T=()=>Y0(E));const R=new H0(f,T);e?n?E():_=R.run():s==="post"?ni(R.run.bind(R),h&&h.suspense):R.run();const x=()=>{R.stop(),h&&h.scope&&U0(h.scope.effects,R)};return I&&I.push(x),x}function k$(t,e,n){const i=this.proxy,s=qt(t)?t.includes(".")?z2(i,t):()=>i[t]:t.bind(i,i);let o;Ue(e)?o=e:(o=e.handler,n=e);const l=gn;Cl(this);const c=J0(s,o.bind(i),n);return l?Cl(l):Vo(),c}function z2(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Po(t,e){if(!yt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Pt(t))Po(t.value,e);else if(Se(t))for(let n=0;n<t.length;n++)Po(t[n],e);else if(pm(t)||sl(t))t.forEach(n=>{Po(n,e)});else if(m2(t))for(const n in t)Po(t[n],e);return t}function ut(t,e){const n=Cn;if(n===null)return t;const i=Am(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,h,f=It]=e[o];l&&(Ue(l)&&(l={mounted:l,updated:l}),l.deep&&Po(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:h,modifiers:f}))}return t}function po(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let h=c.dir[i];h&&(Bl(),xi(h,n,8,[t.el,c,t,e]),Hl())}}const bs=Symbol("_leaveCb"),pf=Symbol("_enterCb");function x$(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xt(()=>{t.isMounted=!0}),Q0(()=>{t.isUnmounting=!0}),t}const Si=[Function,Array],G2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Si,onEnter:Si,onAfterEnter:Si,onEnterCancelled:Si,onBeforeLeave:Si,onLeave:Si,onAfterLeave:Si,onLeaveCancelled:Si,onBeforeAppear:Si,onAppear:Si,onAfterAppear:Si,onAppearCancelled:Si},O$={name:"BaseTransition",props:G2,setup(t,{slots:e}){const n=wj(),i=x$();let s;return()=>{const o=e.default&&J2(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const _ of o)if(_.type!==Oi){l=_;break}}const c=Ne(t),{mode:h}=c;if(i.isLeaving)return Vv(l);const f=pA(l);if(!f)return Vv(l);const p=$y(f,c,i,n);jy(f,p);const v=n.subTree,y=v&&pA(v);let b=!1;const{getTransitionKey:I}=f.type;if(I){const _=I();s===void 0?s=_:_!==s&&(s=_,b=!0)}if(y&&y.type!==Oi&&(!bo(f,y)||b)){const _=$y(y,c,i,n);if(jy(y,_),h==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Vv(l);h==="in-out"&&f.type!==Oi&&(_.delayLeave=(E,T,R)=>{const x=Y2(i,y);x[String(y.key)]=y,E[bs]=()=>{T(),E[bs]=void 0,delete p.delayedLeave},p.delayedLeave=R})}return l}}},N$=O$;function Y2(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function $y(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:v,onLeave:y,onAfterLeave:b,onLeaveCancelled:I,onBeforeAppear:_,onAppear:E,onAfterAppear:T,onAppearCancelled:R}=e,x=String(t.key),N=Y2(n,t),U=(q,ie)=>{q&&xi(q,i,9,ie)},G=(q,ie)=>{const _e=ie[1];U(q,ie),Se(q)?q.every(ce=>ce.length<=1)&&_e():q.length<=1&&_e()},se={mode:o,persisted:l,beforeEnter(q){let ie=c;if(!n.isMounted)if(s)ie=_||c;else return;q[bs]&&q[bs](!0);const _e=N[x];_e&&bo(t,_e)&&_e.el[bs]&&_e.el[bs](),U(ie,[q])},enter(q){let ie=h,_e=f,ce=p;if(!n.isMounted)if(s)ie=E||h,_e=T||f,ce=R||p;else return;let ee=!1;const oe=q[pf]=Xe=>{ee||(ee=!0,Xe?U(ce,[q]):U(_e,[q]),se.delayedLeave&&se.delayedLeave(),q[pf]=void 0)};ie?G(ie,[q,oe]):oe()},leave(q,ie){const _e=String(t.key);if(q[pf]&&q[pf](!0),n.isUnmounting)return ie();U(v,[q]);let ce=!1;const ee=q[bs]=oe=>{ce||(ce=!0,ie(),oe?U(I,[q]):U(b,[q]),q[bs]=void 0,N[_e]===t&&delete N[_e])};N[_e]=t,y?G(y,[q,ee]):ee()},clone(q){return $y(q,e,n,i)}};return se}function Vv(t){if(bm(t))return t=Kr(t),t.children=null,t}function pA(t){return bm(t)?t.children?t.children[0]:void 0:t}function jy(t,e){t.shapeFlag&6&&t.component?jy(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function J2(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===lt?(l.patchFlag&128&&s++,i=i.concat(J2(l.children,e,c))):(e||l.type!==Oi)&&i.push(c!=null?Kr(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Ve(t,e){return Ue(t)?(()=>un({name:t.name},e,{setup:t}))():t}const Rc=t=>!!t.type.__asyncLoader,bm=t=>t.type.__isKeepAlive;function D$(t,e){Q2(t,"a",e)}function L$(t,e){Q2(t,"da",e)}function Q2(t,e,n=gn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Em(e,i,n),n){let s=n.parent;for(;s&&s.parent;)bm(s.parent.vnode)&&M$(i,e,n,s),s=s.parent}}function M$(t,e,n,i){const s=Em(e,t,i,!0);li(()=>{U0(i[e],s)},n)}function Em(t,e,n=gn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;Bl(),Cl(n);const c=xi(e,n,t,l);return Vo(),Hl(),c});return i?s.unshift(o):s.push(o),o}}const Jr=t=>(e,n=gn)=>(!od||t==="sp")&&Em(t,(...i)=>e(...i),n),V$=Jr("bm"),xt=Jr("m"),F$=Jr("bu"),U$=Jr("u"),Q0=Jr("bum"),li=Jr("um"),$$=Jr("sp"),j$=Jr("rtg"),B$=Jr("rtc");function H$(t,e=gn){Em("ec",t,e)}const q$=Symbol.for("v-ndc");function js(t,e,n,i){let s;const o=n&&n[i];if(Se(t)||qt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(yt(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function X2(t,e,n={},i,s){if(Cn.isCE||Cn.parent&&Rc(Cn.parent)&&Cn.parent.isCE)return e!=="default"&&(n.name=e),Z("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),te();const l=o&&Z2(o(n)),c=Je(lt,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Z2(t){return t.some(e=>dp(e)?!(e.type===Oi||e.type===lt&&!Z2(e.children)):!0)?t:null}const By=t=>t?ck(t)?Am(t)||t.proxy:By(t.parent):null,Pc=un(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>By(t.parent),$root:t=>By(t.root),$emit:t=>t.emit,$options:t=>X0(t),$forceUpdate:t=>t.f||(t.f=()=>Y0(t.update)),$nextTick:t=>t.n||(t.n=Wi.bind(t.proxy)),$watch:t=>k$.bind(t)}),Fv=(t,e)=>t!==It&&!t.__isScriptSetup&&it(t,e),W$={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:h}=t;let f;if(e[0]!=="$"){const b=l[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Fv(i,e))return l[e]=1,i[e];if(s!==It&&it(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&it(f,e))return l[e]=3,o[e];if(n!==It&&it(n,e))return l[e]=4,n[e];Hy&&(l[e]=0)}}const p=Pc[e];let v,y;if(p)return e==="$attrs"&&ai(t,"get",e),p(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==It&&it(n,e))return l[e]=4,n[e];if(y=h.config.globalProperties,it(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return Fv(s,e)?(s[e]=n,!0):i!==It&&it(i,e)?(i[e]=n,!0):it(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==It&&it(t,l)||Fv(e,l)||(c=o[0])&&it(c,l)||it(i,l)||it(Pc,l)||it(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:it(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function mA(t){return Se(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Hy=!0;function K$(t){const e=X0(t),n=t.proxy,i=t.ctx;Hy=!1,e.beforeCreate&&gA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:h,inject:f,created:p,beforeMount:v,mounted:y,beforeUpdate:b,updated:I,activated:_,deactivated:E,beforeDestroy:T,beforeUnmount:R,destroyed:x,unmounted:N,render:U,renderTracked:G,renderTriggered:se,errorCaptured:q,serverPrefetch:ie,expose:_e,inheritAttrs:ce,components:ee,directives:oe,filters:Xe}=e;if(f&&z$(f,i,null),l)for(const de in l){const Te=l[de];Ue(Te)&&(i[de]=Te.bind(n))}if(s){const de=s.call(n,n);yt(de)&&(t.data=si(de))}if(Hy=!0,o)for(const de in o){const Te=o[de],_t=Ue(Te)?Te.bind(n,n):Ue(Te.get)?Te.get.bind(n,n):qi,Ze=!Ue(Te)&&Ue(Te.set)?Te.set.bind(n):qi,Kt=ve({get:_t,set:Ze});Object.defineProperty(i,de,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:et=>Kt.value=et})}if(c)for(const de in c)ek(c[de],i,n,de);if(h){const de=Ue(h)?h.call(n):h;Reflect.ownKeys(de).forEach(Te=>{Qn(Te,de[Te])})}p&&gA(p,t,"c");function Q(de,Te){Se(Te)?Te.forEach(_t=>de(_t.bind(n))):Te&&de(Te.bind(n))}if(Q(V$,v),Q(xt,y),Q(F$,b),Q(U$,I),Q(D$,_),Q(L$,E),Q(H$,q),Q(B$,G),Q(j$,se),Q(Q0,R),Q(li,N),Q($$,ie),Se(_e))if(_e.length){const de=t.exposed||(t.exposed={});_e.forEach(Te=>{Object.defineProperty(de,Te,{get:()=>n[Te],set:_t=>n[Te]=_t})})}else t.exposed||(t.exposed={});U&&t.render===qi&&(t.render=U),ce!=null&&(t.inheritAttrs=ce),ee&&(t.components=ee),oe&&(t.directives=oe)}function z$(t,e,n=qi){Se(t)&&(t=qy(t));for(const i in t){const s=t[i];let o;yt(s)?"default"in s?o=Ct(s.from||i,s.default,!0):o=Ct(s.from||i):o=Ct(s),Pt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function gA(t,e,n){xi(Se(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function ek(t,e,n,i){const s=i.includes(".")?z2(n,i):()=>n[i];if(qt(t)){const o=e[t];Ue(o)&&wi(s,o)}else if(Ue(t))wi(s,t.bind(n));else if(yt(t))if(Se(t))t.forEach(o=>ek(o,e,n,i));else{const o=Ue(t.handler)?t.handler.bind(n):e[t.handler];Ue(o)&&wi(s,o,t)}}function X0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let h;return c?h=c:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(f=>cp(h,f,l,!0)),cp(h,e,l)),yt(e)&&o.set(e,h),h}function cp(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&cp(t,o,n,!0),s&&s.forEach(l=>cp(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=G$[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const G$={data:vA,props:yA,emits:yA,methods:yc,computed:yc,beforeCreate:Wn,created:Wn,beforeMount:Wn,mounted:Wn,beforeUpdate:Wn,updated:Wn,beforeDestroy:Wn,beforeUnmount:Wn,destroyed:Wn,unmounted:Wn,activated:Wn,deactivated:Wn,errorCaptured:Wn,serverPrefetch:Wn,components:yc,directives:yc,watch:J$,provide:vA,inject:Y$};function vA(t,e){return e?t?function(){return un(Ue(t)?t.call(this,this):t,Ue(e)?e.call(this,this):e)}:e:t}function Y$(t,e){return yc(qy(t),qy(e))}function qy(t){if(Se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Wn(t,e){return t?[...new Set([].concat(t,e))]:e}function yc(t,e){return t?un(Object.create(null),t,e):e}function yA(t,e){return t?Se(t)&&Se(e)?[...new Set([...t,...e])]:un(Object.create(null),mA(t),mA(e??{})):e}function J$(t,e){if(!t)return e;if(!e)return t;const n=un(Object.create(null),t);for(const i in e)n[i]=Wn(t[i],e[i]);return n}function tk(){return{app:null,config:{isNativeTag:S6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q$=0;function X$(t,e){return function(i,s=null){Ue(i)||(i=un({},i)),s!=null&&!yt(s)&&(s=null);const o=tk(),l=new WeakSet;let c=!1;const h=o.app={_uid:Q$++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:Rj,get config(){return o.config},set config(f){},use(f,...p){return l.has(f)||(f&&Ue(f.install)?(l.add(f),f.install(h,...p)):Ue(f)&&(l.add(f),f(h,...p))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,p){return p?(o.components[f]=p,h):o.components[f]},directive(f,p){return p?(o.directives[f]=p,h):o.directives[f]},mount(f,p,v){if(!c){const y=Z(i,s);return y.appContext=o,p&&e?e(y,f):t(y,f,v),c=!0,h._container=f,f.__vue_app__=h,Am(y.component)||y.component.proxy}},unmount(){c&&(t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return o.provides[f]=p,h},runWithContext(f){rd=h;try{return f()}finally{rd=null}}};return h}}let rd=null;function Qn(t,e){if(gn){let n=gn.provides;const i=gn.parent&&gn.parent.provides;i===n&&(n=gn.provides=Object.create(i)),n[t]=e}}function Ct(t,e,n=!1){const i=gn||Cn;if(i||rd){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:rd._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Ue(e)?e.call(i&&i.proxy):e}}function Z$(){return!!(gn||Cn||rd)}function ej(t,e,n,i=!1){const s={},o={};sp(o,Tm,1),t.propsDefaults=Object.create(null),nk(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:O2(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function tj(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=Ne(s),[h]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let y=p[v];if(wm(t.emitsOptions,y))continue;const b=e[y];if(h)if(it(o,y))b!==o[y]&&(o[y]=b,f=!0);else{const I=Al(y);s[I]=Wy(h,c,I,b,t,!1)}else b!==o[y]&&(o[y]=b,f=!0)}}}else{nk(t,e,s,o)&&(f=!0);let p;for(const v in c)(!e||!it(e,v)&&((p=jl(v))===v||!it(e,p)))&&(h?n&&(n[v]!==void 0||n[p]!==void 0)&&(s[v]=Wy(h,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!it(e,v))&&(delete o[v],f=!0)}f&&Fr(t,"set","$attrs")}function nk(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(Cf(h))continue;const f=e[h];let p;s&&it(s,p=Al(h))?!o||!o.includes(p)?n[p]=f:(c||(c={}))[p]=f:wm(t.emitsOptions,h)||(!(h in i)||f!==i[h])&&(i[h]=f,l=!0)}if(o){const h=Ne(n),f=c||It;for(let p=0;p<o.length;p++){const v=o[p];n[v]=Wy(s,h,v,f[v],t,!it(f,v))}}return l}function Wy(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=it(l,"default");if(c&&i===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Ue(h)){const{propsDefaults:f}=s;n in f?i=f[n]:(Cl(s),i=f[n]=h.call(null,e),Vo())}else i=h}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===jl(n))&&(i=!0))}return i}function ik(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let h=!1;if(!Ue(t)){const p=v=>{h=!0;const[y,b]=ik(v,e,!0);un(l,y),b&&c.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!h)return yt(t)&&i.set(t,rl),rl;if(Se(o))for(let p=0;p<o.length;p++){const v=Al(o[p]);_A(v)&&(l[v]=It)}else if(o)for(const p in o){const v=Al(p);if(_A(v)){const y=o[p],b=l[v]=Se(y)||Ue(y)?{type:y}:un({},y);if(b){const I=EA(Boolean,b.type),_=EA(String,b.type);b[0]=I>-1,b[1]=_<0||I<_,(I>-1||it(b,"default"))&&c.push(v)}}}const f=[l,c];return yt(t)&&i.set(t,f),f}function _A(t){return t[0]!=="$"}function wA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function bA(t,e){return wA(t)===wA(e)}function EA(t,e){return Se(e)?e.findIndex(n=>bA(n,t)):Ue(e)&&bA(e,t)?0:-1}const rk=t=>t[0]==="_"||t==="$stable",Z0=t=>Se(t)?t.map(or):[or(t)],nj=(t,e,n)=>{if(e._n)return e;const i=he((...s)=>Z0(e(...s)),n);return i._c=!1,i},sk=(t,e,n)=>{const i=t._ctx;for(const s in t){if(rk(s))continue;const o=t[s];if(Ue(o))e[s]=nj(s,o,i);else if(o!=null){const l=Z0(o);e[s]=()=>l}}},ok=(t,e)=>{const n=Z0(e);t.slots.default=()=>n},ij=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ne(e),sp(e,"_",n)):sk(e,t.slots={})}else t.slots={},e&&ok(t,e);sp(t.slots,Tm,1)},rj=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=It;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(un(s,e),!n&&c===1&&delete s._):(o=!e.$stable,sk(e,s)),l=e}else e&&(ok(t,e),l={default:1});if(o)for(const c in s)!rk(c)&&l[c]==null&&delete s[c]};function Ky(t,e,n,i,s=!1){if(Se(t)){t.forEach((y,b)=>Ky(y,e&&(Se(e)?e[b]:e),n,i,s));return}if(Rc(i)&&!s)return;const o=i.shapeFlag&4?Am(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:h}=t,f=e&&e.r,p=c.refs===It?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==h&&(qt(f)?(p[f]=null,it(v,f)&&(v[f]=null)):Pt(f)&&(f.value=null)),Ue(h))Os(h,c,12,[l,p]);else{const y=qt(h),b=Pt(h);if(y||b){const I=()=>{if(t.f){const _=y?it(v,h)?v[h]:p[h]:h.value;s?Se(_)&&U0(_,o):Se(_)?_.includes(o)||_.push(o):y?(p[h]=[o],it(v,h)&&(v[h]=p[h])):(h.value=[o],t.k&&(p[t.k]=h.value))}else y?(p[h]=l,it(v,h)&&(v[h]=l)):b&&(h.value=l,t.k&&(p[t.k]=l))};l?(I.id=-1,ni(I,n)):I()}}}const ni=P$;function sj(t){return oj(t)}function oj(t,e){const n=Ly();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:h,setText:f,setElementText:p,parentNode:v,nextSibling:y,setScopeId:b=qi,insertStaticContent:I}=t,_=(S,C,O,L=null,B=null,W=null,ue=!1,X=null,re=!!C.dynamicChildren)=>{if(S===C)return;S&&!bo(S,C)&&(L=F(S),et(S,B,W,!0),S=null),C.patchFlag===-2&&(re=!1,C.dynamicChildren=null);const{type:z,ref:Ae,shapeFlag:pe}=C;switch(z){case Im:E(S,C,O,L);break;case Oi:T(S,C,O,L);break;case Uv:S==null&&R(C,O,L,ue);break;case lt:ee(S,C,O,L,B,W,ue,X,re);break;default:pe&1?U(S,C,O,L,B,W,ue,X,re):pe&6?oe(S,C,O,L,B,W,ue,X,re):(pe&64||pe&128)&&z.process(S,C,O,L,B,W,ue,X,re,k)}Ae!=null&&B&&Ky(Ae,S&&S.ref,W,C||S,!C)},E=(S,C,O,L)=>{if(S==null)i(C.el=c(C.children),O,L);else{const B=C.el=S.el;C.children!==S.children&&f(B,C.children)}},T=(S,C,O,L)=>{S==null?i(C.el=h(C.children||""),O,L):C.el=S.el},R=(S,C,O,L)=>{[S.el,S.anchor]=I(S.children,C,O,L,S.el,S.anchor)},x=({el:S,anchor:C},O,L)=>{let B;for(;S&&S!==C;)B=y(S),i(S,O,L),S=B;i(C,O,L)},N=({el:S,anchor:C})=>{let O;for(;S&&S!==C;)O=y(S),s(S),S=O;s(C)},U=(S,C,O,L,B,W,ue,X,re)=>{ue=ue||C.type==="svg",S==null?G(C,O,L,B,W,ue,X,re):ie(S,C,B,W,ue,X,re)},G=(S,C,O,L,B,W,ue,X)=>{let re,z;const{type:Ae,props:pe,shapeFlag:we,transition:Oe,dirs:je}=S;if(re=S.el=l(S.type,W,pe&&pe.is,pe),we&8?p(re,S.children):we&16&&q(S.children,re,null,L,B,W&&Ae!=="foreignObject",ue,X),je&&po(S,null,L,"created"),se(re,S,S.scopeId,ue,L),pe){for(const tt in pe)tt!=="value"&&!Cf(tt)&&o(re,tt,null,pe[tt],W,S.children,L,B,$t);"value"in pe&&o(re,"value",null,pe.value),(z=pe.onVnodeBeforeMount)&&sr(z,L,S)}je&&po(S,null,L,"beforeMount");const ht=aj(B,Oe);ht&&Oe.beforeEnter(re),i(re,C,O),((z=pe&&pe.onVnodeMounted)||ht||je)&&ni(()=>{z&&sr(z,L,S),ht&&Oe.enter(re),je&&po(S,null,L,"mounted")},B)},se=(S,C,O,L,B)=>{if(O&&b(S,O),L)for(let W=0;W<L.length;W++)b(S,L[W]);if(B){let W=B.subTree;if(C===W){const ue=B.vnode;se(S,ue,ue.scopeId,ue.slotScopeIds,B.parent)}}},q=(S,C,O,L,B,W,ue,X,re=0)=>{for(let z=re;z<S.length;z++){const Ae=S[z]=X?Es(S[z]):or(S[z]);_(null,Ae,C,O,L,B,W,ue,X)}},ie=(S,C,O,L,B,W,ue)=>{const X=C.el=S.el;let{patchFlag:re,dynamicChildren:z,dirs:Ae}=C;re|=S.patchFlag&16;const pe=S.props||It,we=C.props||It;let Oe;O&&mo(O,!1),(Oe=we.onVnodeBeforeUpdate)&&sr(Oe,O,C,S),Ae&&po(C,S,O,"beforeUpdate"),O&&mo(O,!0);const je=B&&C.type!=="foreignObject";if(z?_e(S.dynamicChildren,z,X,O,L,je,W):ue||Te(S,C,X,null,O,L,je,W,!1),re>0){if(re&16)ce(X,C,pe,we,O,L,B);else if(re&2&&pe.class!==we.class&&o(X,"class",null,we.class,B),re&4&&o(X,"style",pe.style,we.style,B),re&8){const ht=C.dynamicProps;for(let tt=0;tt<ht.length;tt++){const wt=ht[tt],on=pe[wt],Ir=we[wt];(Ir!==on||wt==="value")&&o(X,wt,on,Ir,B,S.children,O,L,$t)}}re&1&&S.children!==C.children&&p(X,C.children)}else!ue&&z==null&&ce(X,C,pe,we,O,L,B);((Oe=we.onVnodeUpdated)||Ae)&&ni(()=>{Oe&&sr(Oe,O,C,S),Ae&&po(C,S,O,"updated")},L)},_e=(S,C,O,L,B,W,ue)=>{for(let X=0;X<C.length;X++){const re=S[X],z=C[X],Ae=re.el&&(re.type===lt||!bo(re,z)||re.shapeFlag&70)?v(re.el):O;_(re,z,Ae,null,L,B,W,ue,!0)}},ce=(S,C,O,L,B,W,ue)=>{if(O!==L){if(O!==It)for(const X in O)!Cf(X)&&!(X in L)&&o(S,X,O[X],null,ue,C.children,B,W,$t);for(const X in L){if(Cf(X))continue;const re=L[X],z=O[X];re!==z&&X!=="value"&&o(S,X,z,re,ue,C.children,B,W,$t)}"value"in L&&o(S,"value",O.value,L.value)}},ee=(S,C,O,L,B,W,ue,X,re)=>{const z=C.el=S?S.el:c(""),Ae=C.anchor=S?S.anchor:c("");let{patchFlag:pe,dynamicChildren:we,slotScopeIds:Oe}=C;Oe&&(X=X?X.concat(Oe):Oe),S==null?(i(z,O,L),i(Ae,O,L),q(C.children,O,Ae,B,W,ue,X,re)):pe>0&&pe&64&&we&&S.dynamicChildren?(_e(S.dynamicChildren,we,O,B,W,ue,X),(C.key!=null||B&&C===B.subTree)&&ew(S,C,!0)):Te(S,C,O,Ae,B,W,ue,X,re)},oe=(S,C,O,L,B,W,ue,X,re)=>{C.slotScopeIds=X,S==null?C.shapeFlag&512?B.ctx.activate(C,O,L,ue,re):Xe(C,O,L,B,W,ue,re):Ce(S,C,re)},Xe=(S,C,O,L,B,W,ue)=>{const X=S.component=_j(S,L,B);if(bm(S)&&(X.ctx.renderer=k),bj(X),X.asyncDep){if(B&&B.registerDep(X,Q),!S.el){const re=X.subTree=Z(Oi);T(null,re,C,O)}return}Q(X,S,C,O,B,W,ue)},Ce=(S,C,O)=>{const L=C.component=S.component;if(S$(S,C,O))if(L.asyncDep&&!L.asyncResolved){de(L,C,O);return}else L.next=C,w$(L.update),L.update();else C.el=S.el,L.vnode=C},Q=(S,C,O,L,B,W,ue)=>{const X=()=>{if(S.isMounted){let{next:Ae,bu:pe,u:we,parent:Oe,vnode:je}=S,ht=Ae,tt;mo(S,!1),Ae?(Ae.el=je.el,de(S,Ae,ue)):Ae=je,pe&&Rf(pe),(tt=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&sr(tt,Oe,Ae,je),mo(S,!0);const wt=Mv(S),on=S.subTree;S.subTree=wt,_(on,wt,v(on.el),F(on),S,B,W),Ae.el=wt.el,ht===null&&C$(S,wt.el),we&&ni(we,B),(tt=Ae.props&&Ae.props.onVnodeUpdated)&&ni(()=>sr(tt,Oe,Ae,je),B)}else{let Ae;const{el:pe,props:we}=C,{bm:Oe,m:je,parent:ht}=S,tt=Rc(C);if(mo(S,!1),Oe&&Rf(Oe),!tt&&(Ae=we&&we.onVnodeBeforeMount)&&sr(Ae,ht,C),mo(S,!0),pe&&st){const wt=()=>{S.subTree=Mv(S),st(pe,S.subTree,S,B,null)};tt?C.type.__asyncLoader().then(()=>!S.isUnmounted&&wt()):wt()}else{const wt=S.subTree=Mv(S);_(null,wt,O,L,S,B,W),C.el=wt.el}if(je&&ni(je,B),!tt&&(Ae=we&&we.onVnodeMounted)){const wt=C;ni(()=>sr(Ae,ht,wt),B)}(C.shapeFlag&256||ht&&Rc(ht.vnode)&&ht.vnode.shapeFlag&256)&&S.a&&ni(S.a,B),S.isMounted=!0,C=O=L=null}},re=S.effect=new H0(X,()=>Y0(z),S.scope),z=S.update=()=>re.run();z.id=S.uid,mo(S,!0),z()},de=(S,C,O)=>{C.component=S;const L=S.vnode.props;S.vnode=C,S.next=null,tj(S,C.props,L,O),rj(S,C.children,O),Bl(),hA(),Hl()},Te=(S,C,O,L,B,W,ue,X,re=!1)=>{const z=S&&S.children,Ae=S?S.shapeFlag:0,pe=C.children,{patchFlag:we,shapeFlag:Oe}=C;if(we>0){if(we&128){Ze(z,pe,O,L,B,W,ue,X,re);return}else if(we&256){_t(z,pe,O,L,B,W,ue,X,re);return}}Oe&8?(Ae&16&&$t(z,B,W),pe!==z&&p(O,pe)):Ae&16?Oe&16?Ze(z,pe,O,L,B,W,ue,X,re):$t(z,B,W,!0):(Ae&8&&p(O,""),Oe&16&&q(pe,O,L,B,W,ue,X,re))},_t=(S,C,O,L,B,W,ue,X,re)=>{S=S||rl,C=C||rl;const z=S.length,Ae=C.length,pe=Math.min(z,Ae);let we;for(we=0;we<pe;we++){const Oe=C[we]=re?Es(C[we]):or(C[we]);_(S[we],Oe,O,null,B,W,ue,X,re)}z>Ae?$t(S,B,W,!0,!1,pe):q(C,O,L,B,W,ue,X,re,pe)},Ze=(S,C,O,L,B,W,ue,X,re)=>{let z=0;const Ae=C.length;let pe=S.length-1,we=Ae-1;for(;z<=pe&&z<=we;){const Oe=S[z],je=C[z]=re?Es(C[z]):or(C[z]);if(bo(Oe,je))_(Oe,je,O,null,B,W,ue,X,re);else break;z++}for(;z<=pe&&z<=we;){const Oe=S[pe],je=C[we]=re?Es(C[we]):or(C[we]);if(bo(Oe,je))_(Oe,je,O,null,B,W,ue,X,re);else break;pe--,we--}if(z>pe){if(z<=we){const Oe=we+1,je=Oe<Ae?C[Oe].el:L;for(;z<=we;)_(null,C[z]=re?Es(C[z]):or(C[z]),O,je,B,W,ue,X,re),z++}}else if(z>we)for(;z<=pe;)et(S[z],B,W,!0),z++;else{const Oe=z,je=z,ht=new Map;for(z=je;z<=we;z++){const cn=C[z]=re?Es(C[z]):or(C[z]);cn.key!=null&&ht.set(cn.key,z)}let tt,wt=0;const on=we-je+1;let Ir=!1,Vd=0;const Ys=new Array(on);for(z=0;z<on;z++)Ys[z]=0;for(z=Oe;z<=pe;z++){const cn=S[z];if(wt>=on){et(cn,B,W,!0);continue}let dn;if(cn.key!=null)dn=ht.get(cn.key);else for(tt=je;tt<=we;tt++)if(Ys[tt-je]===0&&bo(cn,C[tt])){dn=tt;break}dn===void 0?et(cn,B,W,!0):(Ys[dn-je]=z+1,dn>=Vd?Vd=dn:Ir=!0,_(cn,C[dn],O,null,B,W,ue,X,re),wt++)}const Js=Ir?lj(Ys):rl;for(tt=Js.length-1,z=on-1;z>=0;z--){const cn=je+z,dn=C[cn],Fd=cn+1<Ae?C[cn+1].el:L;Ys[z]===0?_(null,dn,O,Fd,B,W,ue,X,re):Ir&&(tt<0||z!==Js[tt]?Kt(dn,O,Fd,2):tt--)}}},Kt=(S,C,O,L,B=null)=>{const{el:W,type:ue,transition:X,children:re,shapeFlag:z}=S;if(z&6){Kt(S.component.subTree,C,O,L);return}if(z&128){S.suspense.move(C,O,L);return}if(z&64){ue.move(S,C,O,k);return}if(ue===lt){i(W,C,O);for(let pe=0;pe<re.length;pe++)Kt(re[pe],C,O,L);i(S.anchor,C,O);return}if(ue===Uv){x(S,C,O);return}if(L!==2&&z&1&&X)if(L===0)X.beforeEnter(W),i(W,C,O),ni(()=>X.enter(W),B);else{const{leave:pe,delayLeave:we,afterLeave:Oe}=X,je=()=>i(W,C,O),ht=()=>{pe(W,()=>{je(),Oe&&Oe()})};we?we(W,je,ht):ht()}else i(W,C,O)},et=(S,C,O,L=!1,B=!1)=>{const{type:W,props:ue,ref:X,children:re,dynamicChildren:z,shapeFlag:Ae,patchFlag:pe,dirs:we}=S;if(X!=null&&Ky(X,null,O,S,!0),Ae&256){C.ctx.deactivate(S);return}const Oe=Ae&1&&we,je=!Rc(S);let ht;if(je&&(ht=ue&&ue.onVnodeBeforeUnmount)&&sr(ht,C,S),Ae&6)Qr(S.component,O,L);else{if(Ae&128){S.suspense.unmount(O,L);return}Oe&&po(S,null,C,"beforeUnmount"),Ae&64?S.type.remove(S,C,O,B,k,L):z&&(W!==lt||pe>0&&pe&64)?$t(z,C,O,!1,!0):(W===lt&&pe&384||!B&&Ae&16)&&$t(re,C,O),L&&Ti(S)}(je&&(ht=ue&&ue.onVnodeUnmounted)||Oe)&&ni(()=>{ht&&sr(ht,C,S),Oe&&po(S,null,C,"unmounted")},O)},Ti=S=>{const{type:C,el:O,anchor:L,transition:B}=S;if(C===lt){ui(O,L);return}if(C===Uv){N(S);return}const W=()=>{s(O),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:ue,delayLeave:X}=B,re=()=>ue(O,W);X?X(S.el,W,re):re()}else W()},ui=(S,C)=>{let O;for(;S!==C;)O=y(S),s(S),S=O;s(C)},Qr=(S,C,O)=>{const{bum:L,scope:B,update:W,subTree:ue,um:X}=S;L&&Rf(L),B.stop(),W&&(W.active=!1,et(ue,S,C,O)),X&&ni(X,C),ni(()=>{S.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},$t=(S,C,O,L=!1,B=!1,W=0)=>{for(let ue=W;ue<S.length;ue++)et(S[ue],C,O,L,B)},F=S=>S.shapeFlag&6?F(S.component.subTree):S.shapeFlag&128?S.suspense.next():y(S.anchor||S.el),M=(S,C,O)=>{S==null?C._vnode&&et(C._vnode,null,null,!0):_(C._vnode||null,S,C,null,null,null,O),hA(),H2(),C._vnode=S},k={p:_,um:et,m:Kt,r:Ti,mt:Xe,mc:q,pc:Te,pbc:_e,n:F,o:t};let be,st;return e&&([be,st]=e(k)),{render:M,hydrate:be,createApp:X$(M,be)}}function mo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function aj(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ew(t,e,n=!1){const i=t.children,s=e.children;if(Se(i)&&Se(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=Es(s[o]),c.el=l.el),n||ew(l,c)),c.type===Im&&(c.el=l.el)}}function lj(t){const e=t.slice(),n=[0];let i,s,o,l,c;const h=t.length;for(i=0;i<h;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const uj=t=>t.__isTeleport,kc=t=>t&&(t.disabled||t.disabled===""),IA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,zy=(t,e)=>{const n=t&&t.to;return qt(n)?e?e(n):null:n},cj={__isTeleport:!0,process(t,e,n,i,s,o,l,c,h,f){const{mc:p,pc:v,pbc:y,o:{insert:b,querySelector:I,createText:_,createComment:E}}=f,T=kc(e.props);let{shapeFlag:R,children:x,dynamicChildren:N}=e;if(t==null){const U=e.el=_(""),G=e.anchor=_("");b(U,n,i),b(G,n,i);const se=e.target=zy(e.props,I),q=e.targetAnchor=_("");se&&(b(q,se),l=l||IA(se));const ie=(_e,ce)=>{R&16&&p(x,_e,ce,s,o,l,c,h)};T?ie(n,G):se&&ie(se,q)}else{e.el=t.el;const U=e.anchor=t.anchor,G=e.target=t.target,se=e.targetAnchor=t.targetAnchor,q=kc(t.props),ie=q?n:G,_e=q?U:se;if(l=l||IA(G),N?(y(t.dynamicChildren,N,ie,s,o,l,c),ew(t,e,!0)):h||v(t,e,ie,_e,s,o,l,c,!1),T)q?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):mf(e,n,U,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const ce=e.target=zy(e.props,I);ce&&mf(e,ce,null,f,0)}else q&&mf(e,G,se,f,1)}ak(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:h,anchor:f,targetAnchor:p,target:v,props:y}=t;if(v&&o(p),l&&o(f),c&16){const b=l||!kc(y);for(let I=0;I<h.length;I++){const _=h[I];s(_,e,n,b,!!_.dynamicChildren)}}},move:mf,hydrate:dj};function mf(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:h,children:f,props:p}=t,v=o===2;if(v&&i(l,e,n),(!v||kc(p))&&h&16)for(let y=0;y<f.length;y++)s(f[y],e,n,2);v&&i(c,e,n)}function dj(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:h}},f){const p=e.target=zy(e.props,h);if(p){const v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(kc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let y=v;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,p,n,i,s,o)}ak(e)}return e.anchor&&l(e.anchor)}const hj=cj;function ak(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const lt=Symbol.for("v-fgt"),Im=Symbol.for("v-txt"),Oi=Symbol.for("v-cmt"),Uv=Symbol.for("v-stc"),xc=[];let Hi=null;function te(t=!1){xc.push(Hi=t?null:[])}function fj(){xc.pop(),Hi=xc[xc.length-1]||null}let sd=1;function TA(t){sd+=t}function lk(t){return t.dynamicChildren=sd>0?Hi||rl:null,fj(),sd>0&&Hi&&Hi.push(t),t}function ke(t,e,n,i,s,o){return lk(P(t,e,n,i,s,o,!0))}function Je(t,e,n,i,s){return lk(Z(t,e,n,i,s,!0))}function dp(t){return t?t.__v_isVNode===!0:!1}function bo(t,e){return t.type===e.type&&t.key===e.key}const Tm="__vInternal",uk=({key:t})=>t??null,Pf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qt(t)||Pt(t)||Ue(t)?{i:Cn,r:t,k:e,f:!!n}:t:null);function P(t,e=null,n=null,i=0,s=null,o=t===lt?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uk(e),ref:e&&Pf(e),scopeId:K2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Cn};return c?(tw(h,n),o&128&&t.normalize(h)):n&&(h.shapeFlag|=qt(n)?8:16),sd>0&&!l&&Hi&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&Hi.push(h),h}const Z=pj;function pj(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===q$)&&(t=Oi),dp(t)){const c=Kr(t,e,!0);return n&&tw(c,n),sd>0&&!o&&Hi&&(c.shapeFlag&6?Hi[Hi.indexOf(t)]=c:Hi.push(c)),c.patchFlag|=-2,c}if(Aj(t)&&(t=t.__vccOpts),e){e=mj(e);let{class:c,style:h}=e;c&&!qt(c)&&(e.class=Gn(c)),yt(h)&&(D2(h)&&!Se(h)&&(h=un({},h)),e.style=j0(h))}const l=qt(t)?1:R$(t)?128:uj(t)?64:yt(t)?4:Ue(t)?2:0;return P(t,e,n,i,s,l,o,!0)}function mj(t){return t?D2(t)||Tm in t?un({},t):t:null}function Kr(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?gj(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&uk(c),ref:e&&e.ref?n&&s?Se(s)?s.concat(Pf(e)):[s,Pf(e)]:Pf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Kr(t.ssContent),ssFallback:t.ssFallback&&Kr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function gt(t=" ",e=0){return Z(Im,null,t,e)}function rt(t="",e=!1){return e?(te(),Je(Oi,null,t)):Z(Oi,null,t)}function or(t){return t==null||typeof t=="boolean"?Z(Oi):Se(t)?Z(lt,null,t.slice()):typeof t=="object"?Es(t):Z(Im,null,String(t))}function Es(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Kr(t)}function tw(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Se(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),tw(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Tm in e)?e._ctx=Cn:s===3&&Cn&&(Cn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ue(e)?(e={default:e,_ctx:Cn},n=32):(e=String(e),i&64?(n=16,e=[gt(e)]):n=8);t.children=e,t.shapeFlag|=n}function gj(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Gn([e.class,i.class]));else if(s==="style")e.style=j0([e.style,i.style]);else if(fm(s)){const o=e[s],l=i[s];l&&o!==l&&!(Se(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function sr(t,e,n,i=null){xi(t,e,7,[n,i])}const vj=tk();let yj=0;function _j(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||vj,o={uid:yj++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new _2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ik(i,s),emitsOptions:W2(i,s),emit:null,emitted:null,propsDefaults:It,inheritAttrs:i.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=I$.bind(null,o),t.ce&&t.ce(o),o}let gn=null;const wj=()=>gn||Cn;let nw,Ba,AA="__VUE_INSTANCE_SETTERS__";(Ba=Ly()[AA])||(Ba=Ly()[AA]=[]),Ba.push(t=>gn=t),nw=t=>{Ba.length>1?Ba.forEach(e=>e(t)):Ba[0](t)};const Cl=t=>{nw(t),t.scope.on()},Vo=()=>{gn&&gn.scope.off(),nw(null)};function ck(t){return t.vnode.shapeFlag&4}let od=!1;function bj(t,e=!1){od=e;const{props:n,children:i}=t.vnode,s=ck(t);ej(t,n,s,e),ij(t,i);const o=s?Ej(t,e):void 0;return od=!1,o}function Ej(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ym(new Proxy(t.ctx,W$));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?Tj(t):null;Cl(t),Bl();const o=Os(i,t,0,[t.props,s]);if(Hl(),Vo(),f2(o)){if(o.then(Vo,Vo),e)return o.then(l=>{SA(t,l,e)}).catch(l=>{_m(l,t,0)});t.asyncDep=o}else SA(t,o,e)}else dk(t,e)}function SA(t,e,n){Ue(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=U2(e)),dk(t,n)}let CA;function dk(t,e,n){const i=t.type;if(!t.render){if(!e&&CA&&!i.render){const s=i.template||X0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=i,f=un(un({isCustomElement:o,delimiters:c},l),h);i.render=CA(s,f)}}t.render=i.render||qi}{Cl(t),Bl();try{K$(t)}finally{Hl(),Vo()}}}function Ij(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ai(t,"get","$attrs"),e[n]}}))}function Tj(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Ij(t)},slots:t.slots,emit:t.emit,expose:e}}function Am(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(U2(ym(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pc)return Pc[n](t)},has(e,n){return n in e||n in Pc}}))}function Aj(t){return Ue(t)&&"__vccOpts"in t}const ve=(t,e)=>v$(t,e,od);function en(t,e,n){const i=arguments.length;return i===2?yt(e)&&!Se(e)?dp(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&dp(n)&&(n=[n]),Z(t,e,n))}const Sj=Symbol.for("v-scx"),Cj=()=>Ct(Sj),Rj="3.3.7",Pj="http://www.w3.org/2000/svg",Eo=typeof document<"u"?document:null,RA=Eo&&Eo.createElement("template"),kj={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?Eo.createElementNS(Pj,t):Eo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Eo.createTextNode(t),createComment:t=>Eo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Eo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{RA.innerHTML=i?`<svg>${t}</svg>`:t;const c=RA.content;if(i){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vs="transition",sc="animation",ad=Symbol("_vtc"),Sm=(t,{slots:e})=>en(N$,xj(t),e);Sm.displayName="Transition";const hk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Sm.props=un({},G2,hk);const go=(t,e=[])=>{Se(t)?t.forEach(n=>n(...e)):t&&t(...e)},PA=t=>t?Se(t)?t.some(e=>e.length>1):t.length>1:!1;function xj(t){const e={};for(const ee in t)ee in hk||(e[ee]=t[ee]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,I=Oj(s),_=I&&I[0],E=I&&I[1],{onBeforeEnter:T,onEnter:R,onEnterCancelled:x,onLeave:N,onLeaveCancelled:U,onBeforeAppear:G=T,onAppear:se=R,onAppearCancelled:q=x}=e,ie=(ee,oe,Xe)=>{vo(ee,oe?p:c),vo(ee,oe?f:l),Xe&&Xe()},_e=(ee,oe)=>{ee._isLeaving=!1,vo(ee,v),vo(ee,b),vo(ee,y),oe&&oe()},ce=ee=>(oe,Xe)=>{const Ce=ee?se:R,Q=()=>ie(oe,ee,Xe);go(Ce,[oe,Q]),kA(()=>{vo(oe,ee?h:o),ys(oe,ee?p:c),PA(Ce)||xA(oe,i,_,Q)})};return un(e,{onBeforeEnter(ee){go(T,[ee]),ys(ee,o),ys(ee,l)},onBeforeAppear(ee){go(G,[ee]),ys(ee,h),ys(ee,f)},onEnter:ce(!1),onAppear:ce(!0),onLeave(ee,oe){ee._isLeaving=!0;const Xe=()=>_e(ee,oe);ys(ee,v),Lj(),ys(ee,y),kA(()=>{ee._isLeaving&&(vo(ee,v),ys(ee,b),PA(N)||xA(ee,i,E,Xe))}),go(N,[ee,Xe])},onEnterCancelled(ee){ie(ee,!1),go(x,[ee])},onAppearCancelled(ee){ie(ee,!0),go(q,[ee])},onLeaveCancelled(ee){_e(ee),go(U,[ee])}})}function Oj(t){if(t==null)return null;if(yt(t))return[$v(t.enter),$v(t.leave)];{const e=$v(t);return[e,e]}}function $v(t){return O6(t)}function ys(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ad]||(t[ad]=new Set)).add(e)}function vo(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[ad];n&&(n.delete(e),n.size||(t[ad]=void 0))}function kA(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Nj=0;function xA(t,e,n,i){const s=t._endId=++Nj,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:h}=Dj(t,e);if(!l)return i();const f=l+"end";let p=0;const v=()=>{t.removeEventListener(f,y),o()},y=b=>{b.target===t&&++p>=h&&v()};setTimeout(()=>{p<h&&v()},c+1),t.addEventListener(f,y)}function Dj(t,e){const n=window.getComputedStyle(t),i=I=>(n[I]||"").split(", "),s=i(`${vs}Delay`),o=i(`${vs}Duration`),l=OA(s,o),c=i(`${sc}Delay`),h=i(`${sc}Duration`),f=OA(c,h);let p=null,v=0,y=0;e===vs?l>0&&(p=vs,v=l,y=o.length):e===sc?f>0&&(p=sc,v=f,y=h.length):(v=Math.max(l,f),p=v>0?l>f?vs:sc:null,y=p?p===vs?o.length:h.length:0);const b=p===vs&&/\b(transform|all)(,|$)/.test(i(`${vs}Property`).toString());return{type:p,timeout:v,propCount:y,hasTransform:b}}function OA(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>NA(n)+NA(t[i])))}function NA(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Lj(){return document.body.offsetHeight}function Mj(t,e,n){const i=t[ad];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const iw=Symbol("_vod"),DA={beforeMount(t,{value:e},{transition:n}){t[iw]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):oc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),oc(t,!0),i.enter(t)):i.leave(t,()=>{oc(t,!1)}):oc(t,e))},beforeUnmount(t,{value:e}){oc(t,e)}};function oc(t,e){t.style.display=e?t[iw]:"none"}function Vj(t,e,n){const i=t.style,s=qt(n);if(n&&!s){if(e&&!qt(e))for(const o in e)n[o]==null&&Gy(i,o,"");for(const o in n)Gy(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),iw in t&&(i.display=o)}}const LA=/\s*!important$/;function Gy(t,e,n){if(Se(n))n.forEach(i=>Gy(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Fj(t,e);LA.test(n)?t.setProperty(jl(i),n.replace(LA,""),"important"):t[i]=n}}const MA=["Webkit","Moz","ms"],jv={};function Fj(t,e){const n=jv[e];if(n)return n;let i=Al(e);if(i!=="filter"&&i in t)return jv[e]=i;i=g2(i);for(let s=0;s<MA.length;s++){const o=MA[s]+i;if(o in t)return jv[e]=o}return e}const VA="http://www.w3.org/1999/xlink";function Uj(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(VA,e.slice(6,e.length)):t.setAttributeNS(VA,e,n);else{const o=F6(e);n==null||o&&!v2(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function $j(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";f!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let h=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=v2(n):n==null&&f==="string"?(n="",h=!0):f==="number"&&(n=0,h=!0)}try{t[e]=n}catch{}h&&t.removeAttribute(e)}function Io(t,e,n,i){t.addEventListener(e,n,i)}function jj(t,e,n,i){t.removeEventListener(e,n,i)}const FA=Symbol("_vei");function Bj(t,e,n,i,s=null){const o=t[FA]||(t[FA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,h]=Hj(e);if(i){const f=o[e]=Kj(i,s);Io(t,c,f,h)}else l&&(jj(t,c,l,h),o[e]=void 0)}}const UA=/(?:Once|Passive|Capture)$/;function Hj(t){let e;if(UA.test(t)){e={};let i;for(;i=t.match(UA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jl(t.slice(2)),e]}let Bv=0;const qj=Promise.resolve(),Wj=()=>Bv||(qj.then(()=>Bv=0),Bv=Date.now());function Kj(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;xi(zj(i,n.value),e,5,[i])};return n.value=t,n.attached=Wj(),n}function zj(t,e){if(Se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const $A=/^on[a-z]/,Gj=(t,e,n,i,s=!1,o,l,c,h)=>{e==="class"?Mj(t,i,s):e==="style"?Vj(t,n,i):fm(e)?F0(e)||Bj(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yj(t,e,i,s))?$j(t,e,i,o,l,c,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Uj(t,e,i,s))};function Yj(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&$A.test(e)&&Ue(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||$A.test(e)&&qt(n)?!1:e in t}const hp=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Se(e)?n=>Rf(e,n):e};function Jj(t){t.target.composing=!0}function jA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const al=Symbol("_assign"),mt={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[al]=hp(s);const o=i||s.props&&s.props.type==="number";Io(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=op(c)),t[al](c)}),n&&Io(t,"change",()=>{t.value=t.value.trim()}),e||(Io(t,"compositionstart",Jj),Io(t,"compositionend",jA),Io(t,"change",jA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[al]=hp(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&op(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},sK={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=pm(e);Io(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?op(fp(l)):fp(l));t[al](t.multiple?s?new Set(o):o:o[0])}),t[al]=hp(i)},mounted(t,{value:e}){BA(t,e)},beforeUpdate(t,e,n){t[al]=hp(n)},updated(t,{value:e}){BA(t,e)}};function BA(t,e){const n=t.multiple;if(!(n&&!Se(e)&&!pm(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=fp(o);if(n)Se(e)?o.selected=$6(e,l)>-1:o.selected=e.has(l);else if(gm(fp(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function fp(t){return"_value"in t?t._value:t.value}const Qj=un({patchProp:Gj},kj);let HA;function Xj(){return HA||(HA=sj(Qj))}const Zj=(...t)=>{const e=Xj().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=eB(i);if(!s)return;const o=e._component;!Ue(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function eB(t){return qt(t)?document.querySelector(t):t}var tB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let fk;const Cm=t=>fk=t,pk=Symbol();function Yy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Oc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Oc||(Oc={}));function nB(){const t=w2(!0),e=t.run(()=>ne({}));let n=[],i=[];const s=ym({install(o){Cm(s),s._a=o,o.provide(pk,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!tB?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const mk=()=>{};function qA(t,e,n,i=mk){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&b2()&&B6(s),s}function Ha(t,...e){t.slice().forEach(n=>{n(...e)})}const iB=t=>t();function Jy(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Yy(s)&&Yy(i)&&t.hasOwnProperty(n)&&!Pt(i)&&!Ur(i)?t[n]=Jy(s,i):t[n]=i}return t}const rB=Symbol();function sB(t){return!Yy(t)||!t.hasOwnProperty(rB)}const{assign:ws}=Object;function oB(t){return!!(Pt(t)&&t.effect)}function aB(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let h;function f(){c||(n.state.value[t]=s?s():{});const p=h$(n.state.value[t]);return ws(p,o,Object.keys(l||{}).reduce((v,y)=>(v[y]=ym(ve(()=>{Cm(n);const b=n._s.get(t);return l[y].call(b,b)})),v),{}))}return h=gk(t,f,e,n,i,!0),h}function gk(t,e,n={},i,s,o){let l;const c=ws({actions:{}},n),h={deep:!0};let f,p,v=[],y=[],b;const I=i.state.value[t];!o&&!I&&(i.state.value[t]={}),ne({});let _;function E(q){let ie;f=p=!1,typeof q=="function"?(q(i.state.value[t]),ie={type:Oc.patchFunction,storeId:t,events:b}):(Jy(i.state.value[t],q),ie={type:Oc.patchObject,payload:q,storeId:t,events:b});const _e=_=Symbol();Wi().then(()=>{_===_e&&(f=!0)}),p=!0,Ha(v,ie,i.state.value[t])}const T=o?function(){const{state:ie}=n,_e=ie?ie():{};this.$patch(ce=>{ws(ce,_e)})}:mk;function R(){l.stop(),v=[],y=[],i._s.delete(t)}function x(q,ie){return function(){Cm(i);const _e=Array.from(arguments),ce=[],ee=[];function oe(Q){ce.push(Q)}function Xe(Q){ee.push(Q)}Ha(y,{args:_e,name:q,store:U,after:oe,onError:Xe});let Ce;try{Ce=ie.apply(this&&this.$id===t?this:U,_e)}catch(Q){throw Ha(ee,Q),Q}return Ce instanceof Promise?Ce.then(Q=>(Ha(ce,Q),Q)).catch(Q=>(Ha(ee,Q),Promise.reject(Q))):(Ha(ce,Ce),Ce)}}const N={_p:i,$id:t,$onAction:qA.bind(null,y),$patch:E,$reset:T,$subscribe(q,ie={}){const _e=qA(v,q,ie.detached,()=>ce()),ce=l.run(()=>wi(()=>i.state.value[t],ee=>{(ie.flush==="sync"?p:f)&&q({storeId:t,type:Oc.direct,events:b},ee)},ws({},h,ie)));return _e},$dispose:R},U=si(N);i._s.set(t,U);const se=(i._a&&i._a.runWithContext||iB)(()=>i._e.run(()=>(l=w2()).run(e)));for(const q in se){const ie=se[q];if(Pt(ie)&&!oB(ie)||Ur(ie))o||(I&&sB(ie)&&(Pt(ie)?ie.value=I[q]:Jy(ie,I[q])),i.state.value[t][q]=ie);else if(typeof ie=="function"){const _e=x(q,ie);se[q]=_e,c.actions[q]=ie}}return ws(U,se),ws(Ne(U),se),Object.defineProperty(U,"$state",{get:()=>i.state.value[t],set:q=>{E(ie=>{ws(ie,q)})}}),i._p.forEach(q=>{ws(U,l.run(()=>q({store:U,app:i._a,pinia:i,options:c})))}),I&&o&&n.hydrate&&n.hydrate(U.$state,I),f=!0,p=!0,U}function vk(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,h){const f=Z$();return c=c||(f?Ct(pk,null):null),c&&Cm(c),c=fk,c._s.has(i)||(o?gk(i,e,s,c):aB(i,s,c)),c._s.get(i)}return l.$id=i,l}function wn(t){{t=Ne(t);const e={};for(const n in t){const i=t[n];(Pt(i)||Ur(i))&&(e[n]=m$(t,n))}return e}}function lB(){return console.log("createUserProfileCallable"),Xn($n(void 0,"northamerica-northeast1"),"createUserProfile")}function uB(){return console.log("createAdCallable"),Xn($n(void 0,"northamerica-northeast1"),"createAd")}function cB(){return console.log("removeAdCallable"),Xn($n(void 0,"northamerica-northeast1"),"removeAd")}function dB(){return console.log("editAdCallable"),Xn($n(void 0,"northamerica-northeast1"),"editAd")}function WA(){return console.log("postAdCallable"),Xn($n(void 0,"northamerica-northeast1"),"postAd")}function hB(){return console.log("placeBidCallable"),Xn($n(void 0,"northamerica-northeast1"),"placeBid")}function fB(){return console.log("cancelBidCallable"),Xn($n(void 0,"northamerica-northeast1"),"cancelBid")}function oK(){return console.log("createTransactionCallable"),Xn($n(void 0,"northamerica-northeast1"),"createTransaction")}function pB(){return console.log("createEscrowAccountCallable"),Xn($n(void 0,"northamerica-northeast1"),"createEscrowAccount")}function mB(){return console.log("linkEscrowAccountCallable"),Xn($n(void 0,"northamerica-northeast1"),"linkEscrowAccount")}function gB(){return console.log("createJobPostCallable"),Xn($n(void 0,"northamerica-northeast1"),"createJobPost")}function vB(){return console.log("editJobPostCallable"),Xn($n(void 0,"northamerica-northeast1"),"editJobPost")}function yB(){return console.log("removeJobPostCallable"),Xn($n(void 0,"northamerica-northeast1"),"removeJobPost")}function _B(){return console.log("postJobPostCallable"),Xn($n(void 0,"northamerica-northeast1"),"postJobPost")}function wB(){return console.log("takedownJobPostCallable"),Xn($n(void 0,"northamerica-northeast1"),"takeDownJobPost")}const Vt=vk("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=ne(null),o=ne(!1),l=ne(null),c=M=>{s.value=M},h=M=>{console.log("setNewUser",M),o.value=M},f=async M=>{let k=null;if(o.value)console.log("Profile setup mounted for new user"),k=await v(M),y(M);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(k=await Dy("users",s.value.uid),y(M),!k)throw new Error("continueSignup No profile")}y(k)},p=lB(),v=async M=>{try{console.log("createUser start",M),console.log("createUserProfile",p);const k=await p({...M});return console.log("createUser res",k),k}catch(k){throw console.log("createUser error",k),new Error(k)}},y=M=>{if(console.log("setProfile",M),!M)throw new Error("No profile");l.value=M},b=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const M=await Dy("users",s.value.uid);l.value=M},I=uB(),_=async M=>{try{console.log("createUserAd start",M),console.log("createAd",I);const k=await I({...M});return console.log("createUserAd res",k),k}catch(k){throw console.log("createUserAd error",k),new Error(k)}},E=WA(),T=async M=>{try{console.log("postAd start",M);const k=await E({adId:M});return console.log("postAd res",k),k}catch(k){throw console.log("postAd error",k),new Error(k)}},R=WA(),x=async M=>{try{console.log("takedownAd start",M);const k=await R({adId:M});return console.log("takedownAd res",k),k}catch(k){throw console.log("takedownAd error",k),new Error(k)}},N=cB(),U=async M=>{try{console.log("removeUserAd start",M),console.log("createAd",I);const k=await N({adId:M});return console.log("removeUserAd res",k),k}catch(k){throw console.log("removeUserAd error",k),new Error(k)}},G=dB(),se=async M=>{try{console.log("editUserAd start",M),console.log("editUserAd",G);const k=await G({...M});return console.log("editUserAd res",k),k}catch(k){throw console.log("editUserAd error",k),new Error(k)}},q=async()=>{const M=xC();console.log("signout"),await M.signOut(),c(null),y(null)},ie=hB(),_e=async M=>{console.log("placeBid",M);try{console.log("placeBid start",M),console.log("placeBid",ie);const k=await ie(M);return console.log("placeBid res",k),k}catch(k){throw console.log("placeBid error",k),new Error(k)}},ce=fB(),ee=async M=>{try{console.log("cancelBid start",M),console.log("cancelBid",ce);const k=await ce({bidId:M});return console.log("cancelBid res",k),k}catch(k){throw console.log("cancelBid error",k),new Error(k)}},oe=pB(),Xe=async M=>{try{console.log("createEscrowUserAccount start"),console.log("createEscrowAccount",oe);const k=await oe(M);return console.log("createEscrowUserAccount res",k),k}catch(k){throw console.log("createEscrowUserAccount error",k),new Error(k)}},Ce=mB(),Q=async M=>{try{console.log("linkEscrowUserAccount start"),console.log("createEscrowAccount",oe);const k=await Ce(M);return console.log("linkEscrowUserAccount res",k),k}catch(k){throw console.log("linkEscrowUserAccount error",k),new Error(k)}},de=async()=>(console.log("getProduce"),await A6("produce")),Te=gB(),_t=async M=>{try{console.log("createJobPostAd start"),console.log("createJobPostAd",Te);const k=await Te(M);return console.log("createJobPostAd res",M),k}catch(k){throw console.log("createJobPostAd error",k),new Error(k)}},Ze=_B(),Kt=async M=>{try{console.log("postJobPostAd start",M),console.log("postJobPostAd",Ze);const k=await Ze({jobId:M});return console.log("postJobPostAd res",M),k}catch(k){throw console.log("postJobPostAd error",k),new Error(k)}},et=wB(),Ti=async M=>{try{console.log("takedownJobPostAd start",M),console.log("takedownJobPostAd",et);const k=await et({jobId:M});return console.log("takedownJobPostAd res",M),k}catch(k){throw console.log("takedownJobPostAd error",k),new Error(k)}},ui=vB(),Qr=async M=>{try{console.log("editJobPostAd start"),console.log("editJobPostAd",ui);const k=await ui(M);return console.log("editJobPostAd res",M),k}catch(k){throw console.log("editJobPostAd error",k),new Error(k)}},$t=yB();return{user:s,setUser:c,createUser:v,getProfile:b,setProfile:y,setNewUser:h,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:_,postNewAd:T,takedownUserAd:x,signout:q,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:_e,cancelUserBid:ee,removeUserAd:U,editUserAd:se,CLAUSE_STATUSES:i,createEscrowUserAccount:Xe,linkEscrowUserAccount:Q,getProduce:de,createJobPostAd:_t,editJobPostAd:Qr,removeJobPostAd:async M=>{try{console.log("removeJobPostAd start"),console.log("removeJobPostAd",$t);const k=await $t({jobId:M});return console.log("removeJobPostAd res",M),k}catch(k){throw console.log("removeJobPostAd error",k),new Error(k)}},postJobPostAd:Kt,takedownJobPostAd:Ti}}),bB="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const za=typeof window<"u";function EB(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const pt=Object.assign;function Hv(t,e){const n={};for(const i in e){const s=e[i];n[i]=Qi(s)?s.map(t):t(s)}return n}const Nc=()=>{},Qi=Array.isArray,IB=/\/$/,TB=t=>t.replace(IB,"");function qv(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let h=e.indexOf("?");return c<h&&c>=0&&(h=-1),h>-1&&(i=e.slice(0,h),o=e.slice(h+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=RB(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function AB(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function KA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function SB(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Rl(e.matched[i],n.matched[s])&&yk(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Rl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function yk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!CB(t[n],e[n]))return!1;return!0}function CB(t,e){return Qi(t)?zA(t,e):Qi(e)?zA(e,t):t===e}function zA(t,e){return Qi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function RB(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var ld;(function(t){t.pop="pop",t.push="push"})(ld||(ld={}));var Dc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Dc||(Dc={}));function PB(t){if(!t)if(za){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),TB(t)}const kB=/^[^#]+#/;function xB(t,e){return t.replace(kB,"#")+e}function OB(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Rm=()=>({left:window.pageXOffset,top:window.pageYOffset});function NB(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=OB(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function GA(t,e){return(history.state?history.state.position-e:-1)+t}const Qy=new Map;function DB(t,e){Qy.set(t,e)}function LB(t){const e=Qy.get(t);return Qy.delete(t),e}let MB=()=>location.protocol+"//"+location.host;function _k(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,h=s.slice(c);return h[0]!=="/"&&(h="/"+h),KA(h,"")}return KA(n,t)+i+s}function VB(t,e,n,i){let s=[],o=[],l=null;const c=({state:y})=>{const b=_k(t,location),I=n.value,_=e.value;let E=0;if(y){if(n.value=b,e.value=y,l&&l===I){l=null;return}E=_?y.position-_.position:0}else i(b);s.forEach(T=>{T(n.value,I,{delta:E,type:ld.pop,direction:E?E>0?Dc.forward:Dc.back:Dc.unknown})})};function h(){l=n.value}function f(y){s.push(y);const b=()=>{const I=s.indexOf(y);I>-1&&s.splice(I,1)};return o.push(b),b}function p(){const{history:y}=window;y.state&&y.replaceState(pt({},y.state,{scroll:Rm()}),"")}function v(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:h,listen:f,destroy:v}}function YA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Rm():null}}function FB(t){const{history:e,location:n}=window,i={value:_k(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(h,f,p){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+h:MB()+t+h;try{e[p?"replaceState":"pushState"](f,"",y),s.value=f}catch(b){console.error(b),n[p?"replace":"assign"](y)}}function l(h,f){const p=pt({},e.state,YA(s.value.back,h,s.value.forward,!0),f,{position:s.value.position});o(h,p,!0),i.value=h}function c(h,f){const p=pt({},s.value,e.state,{forward:h,scroll:Rm()});o(p.current,p,!0);const v=pt({},YA(i.value,h,null),{position:p.position+1},f);o(h,v,!1),i.value=h}return{location:i,state:s,push:c,replace:l}}function UB(t){t=PB(t);const e=FB(t),n=VB(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=pt({location:"",base:t,go:i,createHref:xB.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function $B(t){return typeof t=="string"||t&&typeof t=="object"}function wk(t){return typeof t=="string"||typeof t=="symbol"}const _s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bk=Symbol("");var JA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(JA||(JA={}));function Pl(t,e){return pt(new Error,{type:t,[bk]:!0},e)}function kr(t,e){return t instanceof Error&&bk in t&&(e==null||!!(t.type&e))}const QA="[^/]+?",jB={sensitive:!1,strict:!1,start:!0,end:!0},BB=/[.+*?^${}()[\]/\\]/g;function HB(t,e){const n=pt({},jB,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const y=f[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(s+="/"),s+=y.value.replace(BB,"\\$&"),b+=40;else if(y.type===1){const{value:I,repeatable:_,optional:E,regexp:T}=y;o.push({name:I,repeatable:_,optional:E});const R=T||QA;if(R!==QA){b+=10;try{new RegExp(`(${R})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${I}" (${R}): `+N.message)}}let x=_?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;v||(x=E&&f.length<2?`(?:/${x})`:"/"+x),E&&(x+="?"),s+=x,b+=20,E&&(b+=-8),_&&(b+=-20),R===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(l),v={};if(!p)return null;for(let y=1;y<p.length;y++){const b=p[y]||"",I=o[y-1];v[I.name]=b&&I.repeatable?b.split("/"):b}return v}function h(f){let p="",v=!1;for(const y of t){(!v||!p.endsWith("/"))&&(p+="/"),v=!1;for(const b of y)if(b.type===0)p+=b.value;else if(b.type===1){const{value:I,repeatable:_,optional:E}=b,T=I in f?f[I]:"";if(Qi(T)&&!_)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const R=Qi(T)?T.join("/"):T;if(!R)if(E)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):v=!0);else throw new Error(`Missing required param "${I}"`);p+=R}}return p||"/"}return{re:l,score:i,keys:o,parse:c,stringify:h}}function qB(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function WB(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=qB(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(XA(i))return 1;if(XA(s))return-1}return s.length-i.length}function XA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const KB={type:0,value:""},zB=/[a-zA-Z0-9_]/;function GB(t){if(!t)return[[]];if(t==="/")return[[KB]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${f}": ${b}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,h,f="",p="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:p,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=h}for(;c<t.length;){if(h=t[c++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(f&&v(),l()):h===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:h==="("?n=2:zB.test(h)?y():(v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--);break;case 2:h===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+h:n=3:p+=h;break;case 3:v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function YB(t,e,n){const i=HB(GB(t.path),n),s=pt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function JB(t,e){const n=[],i=new Map;e=tS({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function o(p,v,y){const b=!y,I=QB(p);I.aliasOf=y&&y.record;const _=tS(e,p),E=[I];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const N of x)E.push(pt({},I,{components:y?y.record.components:I.components,path:N,aliasOf:y?y.record:I}))}let T,R;for(const x of E){const{path:N}=x;if(v&&N[0]!=="/"){const U=v.record.path,G=U[U.length-1]==="/"?"":"/";x.path=v.record.path+(N&&G+N)}if(T=YB(x,v,_),y?y.alias.push(T):(R=R||T,R!==T&&R.alias.push(T),b&&p.name&&!eS(T)&&l(p.name)),I.children){const U=I.children;for(let G=0;G<U.length;G++)o(U[G],T,y&&y.children[G])}y=y||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&h(T)}return R?()=>{l(R)}:Nc}function l(p){if(wk(p)){const v=i.get(p);v&&(i.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&i.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function h(p){let v=0;for(;v<n.length&&WB(p,n[v])>=0&&(p.record.path!==n[v].record.path||!Ek(p,n[v]));)v++;n.splice(v,0,p),p.record.name&&!eS(p)&&i.set(p.record.name,p)}function f(p,v){let y,b={},I,_;if("name"in p&&p.name){if(y=i.get(p.name),!y)throw Pl(1,{location:p});_=y.record.name,b=pt(ZA(v.params,y.keys.filter(R=>!R.optional).map(R=>R.name)),p.params&&ZA(p.params,y.keys.map(R=>R.name))),I=y.stringify(b)}else if("path"in p)I=p.path,y=n.find(R=>R.re.test(I)),y&&(b=y.parse(I),_=y.record.name);else{if(y=v.name?i.get(v.name):n.find(R=>R.re.test(v.path)),!y)throw Pl(1,{location:p,currentLocation:v});_=y.record.name,b=pt({},v.params,p.params),I=y.stringify(b)}const E=[];let T=y;for(;T;)E.unshift(T.record),T=T.parent;return{name:_,path:I,params:b,matched:E,meta:ZB(E)}}return t.forEach(p=>o(p)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function ZA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function QB(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:XB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function XB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function eS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ZB(t){return t.reduce((e,n)=>pt(e,n.meta),{})}function tS(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Ek(t,e){return e.children.some(n=>n===t||Ek(t,n))}const Ik=/#/g,e7=/&/g,t7=/\//g,n7=/=/g,i7=/\?/g,Tk=/\+/g,r7=/%5B/g,s7=/%5D/g,Ak=/%5E/g,o7=/%60/g,Sk=/%7B/g,a7=/%7C/g,Ck=/%7D/g,l7=/%20/g;function rw(t){return encodeURI(""+t).replace(a7,"|").replace(r7,"[").replace(s7,"]")}function u7(t){return rw(t).replace(Sk,"{").replace(Ck,"}").replace(Ak,"^")}function Xy(t){return rw(t).replace(Tk,"%2B").replace(l7,"+").replace(Ik,"%23").replace(e7,"%26").replace(o7,"`").replace(Sk,"{").replace(Ck,"}").replace(Ak,"^")}function c7(t){return Xy(t).replace(n7,"%3D")}function d7(t){return rw(t).replace(Ik,"%23").replace(i7,"%3F")}function h7(t){return t==null?"":d7(t).replace(t7,"%2F")}function pp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function f7(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(Tk," "),l=o.indexOf("="),c=pp(l<0?o:o.slice(0,l)),h=l<0?null:pp(o.slice(l+1));if(c in e){let f=e[c];Qi(f)||(f=e[c]=[f]),f.push(h)}else e[c]=h}return e}function nS(t){let e="";for(let n in t){const i=t[n];if(n=c7(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qi(i)?i.map(o=>o&&Xy(o)):[i&&Xy(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function p7(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Qi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const m7=Symbol(""),iS=Symbol(""),Pm=Symbol(""),Rk=Symbol(""),Zy=Symbol("");function ac(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Is(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=v=>{v===!1?c(Pl(4,{from:n,to:e})):v instanceof Error?c(v):$B(v)?c(Pl(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,h);let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(v=>c(v))})}function Wv(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(g7(c)){const f=(c.__vccOpts||c)[e];f&&s.push(Is(f,n,i,o,l))}else{let h=c();s.push(()=>h.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const p=EB(f)?f.default:f;o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&Is(y,n,i,o,l)()}))}}return s}function g7(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function rS(t){const e=Ct(Pm),n=Ct(Rk),i=ve(()=>e.resolve(V(t.to))),s=ve(()=>{const{matched:h}=i.value,{length:f}=h,p=h[f-1],v=n.matched;if(!p||!v.length)return-1;const y=v.findIndex(Rl.bind(null,p));if(y>-1)return y;const b=sS(h[f-2]);return f>1&&sS(p)===b&&v[v.length-1].path!==b?v.findIndex(Rl.bind(null,h[f-2])):y}),o=ve(()=>s.value>-1&&_7(n.params,i.value.params)),l=ve(()=>s.value>-1&&s.value===n.matched.length-1&&yk(n.params,i.value.params));function c(h={}){return y7(h)?e[V(t.replace)?"replace":"push"](V(t.to)).catch(Nc):Promise.resolve()}return{route:i,href:ve(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const v7=Ve({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rS,setup(t,{slots:e}){const n=si(rS(t)),{options:i}=Ct(Pm),s=ve(()=>({[oS(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[oS(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:en("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),_c=v7;function y7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function _7(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Qi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function sS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const oS=(t,e,n)=>t??e??n,w7=Ve({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Ct(Zy),s=ve(()=>t.route||i.value),o=Ct(iS,0),l=ve(()=>{let f=V(o);const{matched:p}=s.value;let v;for(;(v=p[f])&&!v.components;)f++;return f}),c=ve(()=>s.value.matched[l.value]);Qn(iS,ve(()=>l.value+1)),Qn(m7,c),Qn(Zy,s);const h=ne();return wi(()=>[h.value,c.value,t.name],([f,p,v],[y,b,I])=>{p&&(p.instances[v]=f,b&&b!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),f&&p&&(!b||!Rl(p,b)||!y)&&(p.enterCallbacks[v]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,v=c.value,y=v&&v.components[p];if(!y)return aS(n.default,{Component:y,route:f});const b=v.props[p],I=b?b===!0?f.params:typeof b=="function"?b(f):b:null,E=en(y,pt({},I,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(v.instances[p]=null)},ref:h}));return aS(n.default,{Component:E,route:f})||E}}});function aS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Pk=w7;function b7(t){const e=JB(t.routes,t),n=t.parseQuery||f7,i=t.stringifyQuery||nS,s=t.history,o=ac(),l=ac(),c=ac(),h=V2(_s);let f=_s;za&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Hv.bind(null,F=>""+F),v=Hv.bind(null,h7),y=Hv.bind(null,pp);function b(F,M){let k,be;return wk(F)?(k=e.getRecordMatcher(F),be=M):be=F,e.addRoute(be,k)}function I(F){const M=e.getRecordMatcher(F);M&&e.removeRoute(M)}function _(){return e.getRoutes().map(F=>F.record)}function E(F){return!!e.getRecordMatcher(F)}function T(F,M){if(M=pt({},M||h.value),typeof F=="string"){const O=qv(n,F,M.path),L=e.resolve({path:O.path},M),B=s.createHref(O.fullPath);return pt(O,L,{params:y(L.params),hash:pp(O.hash),redirectedFrom:void 0,href:B})}let k;if("path"in F)k=pt({},F,{path:qv(n,F.path,M.path).path});else{const O=pt({},F.params);for(const L in O)O[L]==null&&delete O[L];k=pt({},F,{params:v(O)}),M.params=v(M.params)}const be=e.resolve(k,M),st=F.hash||"";be.params=p(y(be.params));const S=AB(i,pt({},F,{hash:u7(st),path:be.path})),C=s.createHref(S);return pt({fullPath:S,hash:st,query:i===nS?p7(F.query):F.query||{}},be,{redirectedFrom:void 0,href:C})}function R(F){return typeof F=="string"?qv(n,F,h.value.path):pt({},F)}function x(F,M){if(f!==F)return Pl(8,{from:M,to:F})}function N(F){return se(F)}function U(F){return N(pt(R(F),{replace:!0}))}function G(F){const M=F.matched[F.matched.length-1];if(M&&M.redirect){const{redirect:k}=M;let be=typeof k=="function"?k(F):k;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=R(be):{path:be},be.params={}),pt({query:F.query,hash:F.hash,params:"path"in be?{}:F.params},be)}}function se(F,M){const k=f=T(F),be=h.value,st=F.state,S=F.force,C=F.replace===!0,O=G(k);if(O)return se(pt(R(O),{state:typeof O=="object"?pt({},st,O.state):st,force:S,replace:C}),M||k);const L=k;L.redirectedFrom=M;let B;return!S&&SB(i,be,k)&&(B=Pl(16,{to:L,from:be}),Kt(be,be,!0,!1)),(B?Promise.resolve(B):_e(L,be)).catch(W=>kr(W)?kr(W,2)?W:Ze(W):Te(W,L,be)).then(W=>{if(W){if(kr(W,2))return se(pt({replace:C},R(W.to),{state:typeof W.to=="object"?pt({},st,W.to.state):st,force:S}),M||L)}else W=ee(L,be,!0,C,st);return ce(L,be,W),W})}function q(F,M){const k=x(F,M);return k?Promise.reject(k):Promise.resolve()}function ie(F){const M=ui.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(F):F()}function _e(F,M){let k;const[be,st,S]=E7(F,M);k=Wv(be.reverse(),"beforeRouteLeave",F,M);for(const O of be)O.leaveGuards.forEach(L=>{k.push(Is(L,F,M))});const C=q.bind(null,F,M);return k.push(C),$t(k).then(()=>{k=[];for(const O of o.list())k.push(Is(O,F,M));return k.push(C),$t(k)}).then(()=>{k=Wv(st,"beforeRouteUpdate",F,M);for(const O of st)O.updateGuards.forEach(L=>{k.push(Is(L,F,M))});return k.push(C),$t(k)}).then(()=>{k=[];for(const O of S)if(O.beforeEnter)if(Qi(O.beforeEnter))for(const L of O.beforeEnter)k.push(Is(L,F,M));else k.push(Is(O.beforeEnter,F,M));return k.push(C),$t(k)}).then(()=>(F.matched.forEach(O=>O.enterCallbacks={}),k=Wv(S,"beforeRouteEnter",F,M),k.push(C),$t(k))).then(()=>{k=[];for(const O of l.list())k.push(Is(O,F,M));return k.push(C),$t(k)}).catch(O=>kr(O,8)?O:Promise.reject(O))}function ce(F,M,k){c.list().forEach(be=>ie(()=>be(F,M,k)))}function ee(F,M,k,be,st){const S=x(F,M);if(S)return S;const C=M===_s,O=za?history.state:{};k&&(be||C?s.replace(F.fullPath,pt({scroll:C&&O&&O.scroll},st)):s.push(F.fullPath,st)),h.value=F,Kt(F,M,k,C),Ze()}let oe;function Xe(){oe||(oe=s.listen((F,M,k)=>{if(!Qr.listening)return;const be=T(F),st=G(be);if(st){se(pt(st,{replace:!0}),be).catch(Nc);return}f=be;const S=h.value;za&&DB(GA(S.fullPath,k.delta),Rm()),_e(be,S).catch(C=>kr(C,12)?C:kr(C,2)?(se(C.to,be).then(O=>{kr(O,20)&&!k.delta&&k.type===ld.pop&&s.go(-1,!1)}).catch(Nc),Promise.reject()):(k.delta&&s.go(-k.delta,!1),Te(C,be,S))).then(C=>{C=C||ee(be,S,!1),C&&(k.delta&&!kr(C,8)?s.go(-k.delta,!1):k.type===ld.pop&&kr(C,20)&&s.go(-1,!1)),ce(be,S,C)}).catch(Nc)}))}let Ce=ac(),Q=ac(),de;function Te(F,M,k){Ze(F);const be=Q.list();return be.length?be.forEach(st=>st(F,M,k)):console.error(F),Promise.reject(F)}function _t(){return de&&h.value!==_s?Promise.resolve():new Promise((F,M)=>{Ce.add([F,M])})}function Ze(F){return de||(de=!F,Xe(),Ce.list().forEach(([M,k])=>F?k(F):M()),Ce.reset()),F}function Kt(F,M,k,be){const{scrollBehavior:st}=t;if(!za||!st)return Promise.resolve();const S=!k&&LB(GA(F.fullPath,0))||(be||!k)&&history.state&&history.state.scroll||null;return Wi().then(()=>st(F,M,S)).then(C=>C&&NB(C)).catch(C=>Te(C,F,M))}const et=F=>s.go(F);let Ti;const ui=new Set,Qr={currentRoute:h,listening:!0,addRoute:b,removeRoute:I,hasRoute:E,getRoutes:_,resolve:T,options:t,push:N,replace:U,go:et,back:()=>et(-1),forward:()=>et(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:Q.add,isReady:_t,install(F){const M=this;F.component("RouterLink",_c),F.component("RouterView",Pk),F.config.globalProperties.$router=M,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>V(h)}),za&&!Ti&&h.value===_s&&(Ti=!0,N(s.location).catch(st=>{}));const k={};for(const st in _s)Object.defineProperty(k,st,{get:()=>h.value[st],enumerable:!0});F.provide(Pm,M),F.provide(Rk,O2(k)),F.provide(Zy,h);const be=F.unmount;ui.add(F),F.unmount=function(){ui.delete(F),ui.size<1&&(f=_s,oe&&oe(),oe=null,h.value=_s,Ti=!1,de=!1),be()}}};function $t(F){return F.reduce((M,k)=>M.then(()=>ie(k)),Promise.resolve())}return Qr}function E7(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>Rl(f,c))?i.push(c):n.push(c));const h=t.matched[l];h&&(e.matched.find(f=>Rl(f,h))||s.push(h))}return[n,i,s]}function km(){return Ct(Pm)}const oi=vk("ModalStore",()=>{const t=si({addjob:!1,editjob:!1,addad:!1,addbid:!1,editad:!1,confirmremove:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=si({show:!1,message:"",type:"",context:{}}),i=si({show:!1,message:"",type:"",context:{}});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}}}}),I7={key:0},T7=Ve({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(te(),ke("div",I7,[P("div",{class:Gn(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):rt("",!0)}});const A7=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},kk=A7(T7,[["__scopeId","data-v-634cf170"]]),S7=["disabled"],zs=Ve({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(te(),ke("button",{class:Gn([t.classes,"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"]),disabled:t.disabled,onClick:i},[Z(kk,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?rt("",!0):X2(s.$slots,"default",{key:0})],10,S7))}});function vn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,vn),i}var kl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(kl||{}),Cs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Cs||{});function Zn({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=Ok(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return Kv(c);if(e&1){let h=(o=l.unmount)==null||o?0:1;return vn(h,{0(){return null},1(){return Kv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return Kv(c)}function Kv({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...h}=sw(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),p={};if(i){let v=!1,y=[];for(let[b,I]of Object.entries(i))typeof I=="boolean"&&(v=!0),I===!0&&y.push(b);v&&(p["data-headlessui-state"]=y.join(" "))}if(c==="template"){if(f=xk(f??[]),Object.keys(h).length>0||Object.keys(e).length>0){let[v,...y]=f??[];if(!R7(v)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(e)).map(_=>_.trim()).filter((_,E,T)=>T.indexOf(_)===E).sort((_,E)=>_.localeCompare(E)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let b=Ok((l=v.props)!=null?l:{},h),I=Kr(v,b);for(let _ in b)_.startsWith("on")&&(I.props||(I.props={}),I.props[_]=b[_]);return I}return Array.isArray(f)&&f.length===1?f[0]:f}return en(c,Object.assign({},h,p),{default:()=>f})}function xk(t){return t.flatMap(e=>e.type===lt?xk(e.children):[e])}function Ok(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function C7(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function sw(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function R7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let P7=0;function k7(){return++P7}function Gs(){return k7()}var ln=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ln||{});function x7(t){throw new Error("Unexpected object: "+t)}var Kn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Kn||{});function O7(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1,o=(()=>{switch(t.focus){case 0:return n.findIndex(l=>!e.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,h,f)=>s!==-1&&f.length-h-1>=s?!1:!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=s?!1:!e.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>e.resolveId(l)===t.id);case 5:return null;default:x7(t)}})();return o===-1?i:o}function He(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let Nk=Symbol("Context");var An=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(An||{});function N7(){return xm()!==null}function xm(){return Ct(Nk,null)}function Dk(t){Qn(Nk,t)}function lS(t,e){if(t)return t;let n=e??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function D7(t,e){let n=ne(lS(t.value.type,t.value.as));return xt(()=>{n.value=lS(t.value.type,t.value.as)}),Ei(()=>{var i;n.value||He(e)&&He(e)instanceof HTMLButtonElement&&!((i=He(e))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var L7=Object.defineProperty,M7=(t,e,n)=>e in t?L7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uS=(t,e,n)=>(M7(t,typeof e!="symbol"?e+"":e,n),n);class V7{constructor(){uS(this,"current",this.detect()),uS(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Ld=new V7;function ql(t){if(Ld.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=He(t);if(e)return e.ownerDocument}return document}let e_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ts=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ts||{}),Lk=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Lk||{}),F7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(F7||{});function U7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(e_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ow=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(ow||{});function Mk(t,e=0){var n;return t===((n=ql(t))==null?void 0:n.body)?!1:vn(e,{0(){return t.matches(e_)},1(){let i=t;for(;i!==null;){if(i.matches(e_))return!0;i=i.parentElement}return!1}})}var $7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))($7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Fo(t){t==null||t.focus({preventScroll:!0})}let j7=["textarea","input"].join(",");function B7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,j7))!=null?n:!1}function Vk(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?Vk(t):t:U7(t);s.length>0&&c.length>1&&(c=c.filter(I=>!s.includes(I))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,y=c.length,b;do{if(v>=y||v+y<=0)return 0;let I=f+v;if(e&16)I=(I+y)%y;else{if(I<0)return 3;if(I>=y)return 1}b=c[I],b==null||b.focus(p),v+=h}while(b!==l.activeElement);return e&6&&B7(b)&&b.select(),2}function gf(t,e,n){Ld.isServer||Ei(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function Fk(t,e,n){Ld.isServer||Ei(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function Uk(t,e,n=ve(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:He(f);if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!Mk(c,ow.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=ne(null);gf("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),gf("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),gf("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),gf("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Fk("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var ud=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ud||{});let mp=Ve({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Zn({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function $k(t={},e=null,n=[]){for(let[i,s]of Object.entries(t))Bk(n,jk(e,i),s);return n}function jk(t,e){return t?t+"["+e+"]":e}function Bk(t,e,n){if(Array.isArray(n))for(let[i,s]of n.entries())Bk(t,jk(e,i.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):$k(n,e,t)}function H7(t,e,n){let i=ne(n==null?void 0:n.value),s=ve(()=>t.value!==void 0);return[ve(()=>s.value?t.value:i.value),function(o){return s.value||(i.value=o),e==null?void 0:e(o)}]}function cS(t){return[t.screenX,t.screenY]}function q7(){let t=ne([-1,-1]);return{wasMoved(e){let n=cS(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=cS(e)}}}function W7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function aw(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Md(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return aw(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=Md();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var wc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(wc||{});function K7(){let t=ne(0);return Fk("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Hk(t,e,n,i){Ld.isServer||Ei(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function z7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function qk(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=He(n);i instanceof HTMLElement&&e.add(i)}return e}var Wk=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Wk||{});let lc=Object.assign(Ve({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:ne(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=ne(null);i({el:s,$el:s});let o=ve(()=>ql(s)),l=ne(!1);xt(()=>l.value=!0),li(()=>l.value=!1),Y7({ownerDocument:o},ve(()=>l.value&&!!(t.features&16)));let c=J7({ownerDocument:o,container:s,initialFocus:ve(()=>t.initialFocus)},ve(()=>l.value&&!!(t.features&2)));Q7({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},ve(()=>l.value&&!!(t.features&8)));let h=K7();function f(b){let I=He(s);I&&(_=>_())(()=>{vn(h.value,{[wc.Forwards]:()=>{kf(I,Ts.First,{skipElements:[b.relatedTarget]})},[wc.Backwards]:()=>{kf(I,Ts.Last,{skipElements:[b.relatedTarget]})}})})}let p=ne(!1);function v(b){b.key==="Tab"&&(p.value=!0,requestAnimationFrame(()=>{p.value=!1}))}function y(b){if(!l.value)return;let I=qk(t.containers);He(s)instanceof HTMLElement&&I.add(He(s));let _=b.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(Kk(I,_)||(p.value?kf(He(s),vn(h.value,{[wc.Forwards]:()=>Ts.Next,[wc.Backwards]:()=>Ts.Previous})|Ts.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&Fo(b.target)))}return()=>{let b={},I={ref:s,onKeydown:v,onFocusout:y},{features:_,initialFocus:E,containers:T,...R}=t;return en(lt,[!!(_&4)&&en(mp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:ud.Focusable}),Zn({ourProps:I,theirProps:{...e,...R},slot:b,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&en(mp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:ud.Focusable})])}}}),{features:Wk}),To=[];z7(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&To[0]!==e.target&&(To.unshift(e.target),To=To.filter(n=>n!=null&&n.isConnected),To.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function G7(t){let e=ne(To.slice());return wi([t],([n],[i])=>{i===!0&&n===!1?aw(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=To.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function Y7({ownerDocument:t},e){let n=G7(e);xt(()=>{Ei(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&Fo(n())},{flush:"post"})}),li(()=>{e.value&&Fo(n())})}function J7({ownerDocument:t,container:e,initialFocus:n},i){let s=ne(null),o=ne(!1);return xt(()=>o.value=!0),li(()=>o.value=!1),xt(()=>{wi([e,n,i],(l,c)=>{if(l.every((f,p)=>(c==null?void 0:c[p])===f)||!i.value)return;let h=He(e);h&&aw(()=>{var f,p;if(!o.value)return;let v=He(n),y=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===y){s.value=y;return}}else if(h.contains(y)){s.value=y;return}v?Fo(v):kf(h,Ts.First|Ts.NoScroll)===Lk.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(p=t.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),s}function Q7({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;Hk((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=qk(n);He(e)instanceof HTMLElement&&c.add(He(e));let h=i.value;if(!h)return;let f=l.target;f&&f instanceof HTMLElement?Kk(c,f)?(i.value=f,Fo(f)):(l.preventDefault(),l.stopPropagation(),Fo(h)):Fo(i.value)},!0)}function Kk(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let zv=new Map,uc=new Map;function dS(t,e=ne(!0)){Ei(n=>{var i;if(!e.value)return;let s=He(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=uc.get(s))!=null?l:1;if(c===1?uc.delete(s):uc.set(s,c-1),c!==1)return;let h=zv.get(s);h&&(h["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",h["aria-hidden"]),s.inert=h.inert,zv.delete(s))});let o=(i=uc.get(s))!=null?i:0;uc.set(s,o+1),o===0&&(zv.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let zk=Symbol("ForcePortalRootContext");function X7(){return Ct(zk,!1)}let hS=Ve({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Qn(zk,t.force),()=>{let{force:i,...s}=t;return Zn({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function Z7(t){let e=ql(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let e8=Ve({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=ne(null),s=ve(()=>ql(i)),o=X7(),l=Ct(Gk,null),c=ne(o===!0||l==null?Z7(i.value):l.resolveTarget());Ei(()=>{o||l!=null&&(c.value=l.resolveTarget())});let h=Ct(t_,null);return xt(()=>{let f=He(i);f&&h&&li(h.register(f))}),li(()=>{var f,p;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((p=c.value.parentElement)==null||p.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return en(hj,{to:c.value},Zn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),t_=Symbol("PortalParentContext");function t8(){let t=Ct(t_,null),e=ne([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,Ve({name:"PortalWrapper",setup(o,{slots:l}){return Qn(t_,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let Gk=Symbol("PortalGroupContext"),n8=Ve({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=si({resolveTarget(){return t.target}});return Qn(Gk,i),()=>{let{target:s,...o}=t;return Zn({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),Yk=Symbol("StackContext");var n_=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(n_||{});function i8(){return Ct(Yk,()=>{})}function r8({type:t,enabled:e,element:n,onUpdate:i}){let s=i8();function o(...l){i==null||i(...l),s(...l)}xt(()=>{wi(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),li(()=>{e.value&&o(1,t,n)}),Qn(Yk,o)}let Jk=Symbol("DescriptionContext");function s8(){let t=Ct(Jk,null);if(t===null)throw new Error("Missing parent");return t}function o8({slot:t=ne({}),name:e="Description",props:n={}}={}){let i=ne([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return Qn(Jk,{register:s,slot:t,name:e,props:n}),ve(()=>i.value.length>0?i.value.join(" "):void 0)}let a8=Ve({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${Gs()}`}},setup(t,{attrs:e,slots:n}){let i=s8();return xt(()=>li(i.register(t.id))),()=>{let{name:s="Description",slot:o=ne({}),props:l={}}=i,{id:c,...h}=t,f={...Object.entries(l).reduce((p,[v,y])=>Object.assign(p,{[v]:V(y)}),{}),id:c};return Zn({ourProps:f,theirProps:h,slot:o.value,attrs:e,slots:n,name:s})}}});function l8(t){let e=V2(t.getSnapshot());return li(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function u8(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function c8(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function d8(){if(!W7())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Md();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),f=e.querySelector(h);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function h8(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function f8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ko=u8(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Md(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:f8(n)},s=[d8(),c8(),h8()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ko.subscribe(()=>{let t=ko.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&ko.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ko.dispatch("TEARDOWN",n)}});function p8(t,e,n){let i=l8(ko),s=ve(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return wi([t,e],([o,l],[c],h)=>{if(!o||!l)return;ko.dispatch("PUSH",o,n);let f=!1;h(()=>{f||(ko.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function m8({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=ne(null),s=ql(i);function o(){var l;let c=[];for(let h of t)h!==null&&(h instanceof HTMLElement?c.push(h):"value"in h&&h.value instanceof HTMLElement&&c.push(h.value));if(e!=null&&e.value)for(let h of e.value)c.push(h);for(let h of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(He(i))||c.some(f=>h.contains(f))||c.push(h));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:en(mp,{features:ud.Hidden,ref:i})}}}var g8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(g8||{});let i_=Symbol("DialogContext");function lw(t){let e=Ct(i_,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lw),n}return e}let vf="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Wl=Ve({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:vf},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Gs()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=ne(!1);xt(()=>{l.value=!0});let c=ne(0),h=xm(),f=ve(()=>t.open===vf&&h!==null?(h.value&An.Open)===An.Open:t.open),p=ne(null),v=ve(()=>ql(p));if(s({el:p,$el:p}),!(t.open!==vf||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===vf?void 0:t.open}`);let y=ve(()=>l.value&&f.value?0:1),b=ve(()=>y.value===0),I=ve(()=>c.value>1),_=Ct(i_,null)!==null,[E,T]=t8(),{resolveContainers:R,mainTreeNodeRef:x,MainTreeNode:N}=m8({portals:E,defaultContainers:[ve(()=>{var de;return(de=oe.panelRef.value)!=null?de:p.value})]}),U=ve(()=>I.value?"parent":"leaf"),G=ve(()=>h!==null?(h.value&An.Closing)===An.Closing:!1),se=ve(()=>_||G.value?!1:b.value),q=ve(()=>{var de,Te,_t;return(_t=Array.from((Te=(de=v.value)==null?void 0:de.querySelectorAll("body > *"))!=null?Te:[]).find(Ze=>Ze.id==="headlessui-portal-root"?!1:Ze.contains(He(x))&&Ze instanceof HTMLElement))!=null?_t:null});dS(q,se);let ie=ve(()=>I.value?!0:b.value),_e=ve(()=>{var de,Te,_t;return(_t=Array.from((Te=(de=v.value)==null?void 0:de.querySelectorAll("[data-headlessui-portal]"))!=null?Te:[]).find(Ze=>Ze.contains(He(x))&&Ze instanceof HTMLElement))!=null?_t:null});dS(_e,ie),r8({type:"Dialog",enabled:ve(()=>y.value===0),element:p,onUpdate:(de,Te)=>{if(Te==="Dialog")return vn(de,{[n_.Add]:()=>c.value+=1,[n_.Remove]:()=>c.value-=1})}});let ce=o8({name:"DialogDescription",slot:ve(()=>({open:f.value}))}),ee=ne(null),oe={titleId:ee,panelRef:ne(null),dialogState:y,setTitleId(de){ee.value!==de&&(ee.value=de)},close(){e("close",!1)}};Qn(i_,oe);let Xe=ve(()=>!(!b.value||I.value));Uk(R,(de,Te)=>{oe.close(),Wi(()=>Te==null?void 0:Te.focus())},Xe);let Ce=ve(()=>!(I.value||y.value!==0));Hk((o=v.value)==null?void 0:o.defaultView,"keydown",de=>{Ce.value&&(de.defaultPrevented||de.key===ln.Escape&&(de.preventDefault(),de.stopPropagation(),oe.close()))});let Q=ve(()=>!(G.value||y.value!==0||_));return p8(v,Q,de=>{var Te;return{containers:[...(Te=de.containers)!=null?Te:[],R]}}),Ei(de=>{if(y.value!==0)return;let Te=He(p);if(!Te)return;let _t=new ResizeObserver(Ze=>{for(let Kt of Ze){let et=Kt.target.getBoundingClientRect();et.x===0&&et.y===0&&et.width===0&&et.height===0&&oe.close()}});_t.observe(Te),de(()=>_t.disconnect())}),()=>{let{id:de,open:Te,initialFocus:_t,...Ze}=t,Kt={...n,ref:p,id:de,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":ee.value,"aria-describedby":ce.value},et={open:y.value===0};return en(hS,{force:!0},()=>[en(e8,()=>en(n8,{target:p.value},()=>en(hS,{force:!1},()=>en(lc,{initialFocus:_t,containers:R,features:b.value?vn(U.value,{parent:lc.features.RestoreFocus,leaf:lc.features.All&~lc.features.FocusLock}):lc.features.None},()=>en(T,{},()=>Zn({ourProps:Kt,theirProps:{...Ze,...n},slot:et,attrs:n,slots:i,visible:y.value===0,features:kl.RenderStrategy|kl.Static,name:"Dialog"})))))),en(N)])}}}),Kl=Ve({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${Gs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=lw("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,h={id:l,ref:s.panelRef,onClick:o};return Zn({ourProps:h,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),zl=Ve({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${Gs()}`}},setup(t,{attrs:e,slots:n}){let i=lw("DialogTitle");return xt(()=>{i.setTitleId(t.id),li(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return Zn({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),Gl=a8,fS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function pS(t){var e,n;let i=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":i;return fS.test(l)&&(l=l.replace(fS,"")),l}function v8(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():pS(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return pS(t).trim()}function y8(t){let e=ne(""),n=ne("");return()=>{let i=He(t);if(!i)return"";let s=i.innerText;if(e.value===s)return n.value;let o=v8(i).trim().toLowerCase();return e.value=s,n.value=o,o}}function _8(t,e){return t===e}var w8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(w8||{}),b8=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(b8||{}),E8=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(E8||{});function I8(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Qk=Symbol("ListboxContext");function Om(t){let e=Ct(Qk,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Om),n}return e}let T8=Ve({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>_8},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:n,emit:i}){let s=ne(1),o=ne(null),l=ne(null),c=ne(null),h=ne([]),f=ne(""),p=ne(null),v=ne(1);function y(x=N=>N){let N=p.value!==null?h.value[p.value]:null,U=Vk(x(h.value.slice()),se=>He(se.dataRef.domRef)),G=N?U.indexOf(N):null;return G===-1&&(G=null),{options:U,activeOptionIndex:G}}let b=ve(()=>t.multiple?1:0),[I,_]=H7(ve(()=>t.modelValue),x=>i("update:modelValue",x),ve(()=>t.defaultValue)),E=ve(()=>I.value===void 0?vn(b.value,{1:[],0:void 0}):I.value),T={listboxState:s,value:E,mode:b,compare(x,N){if(typeof t.by=="string"){let U=t.by;return(x==null?void 0:x[U])===(N==null?void 0:N[U])}return t.by(x,N)},orientation:ve(()=>t.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:l,optionsRef:c,disabled:ve(()=>t.disabled),options:h,searchQuery:f,activeOptionIndex:p,activationTrigger:v,closeListbox(){t.disabled||s.value!==1&&(s.value=1,p.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(x,N,U){if(t.disabled||s.value===1)return;let G=y(),se=O7(x===Kn.Specific?{focus:Kn.Specific,id:N}:{focus:x},{resolveItems:()=>G.options,resolveActiveIndex:()=>G.activeOptionIndex,resolveId:q=>q.id,resolveDisabled:q=>q.dataRef.disabled});f.value="",p.value=se,v.value=U??1,h.value=G.options},search(x){if(t.disabled||s.value===1)return;let N=f.value!==""?0:1;f.value+=x.toLowerCase();let U=(p.value!==null?h.value.slice(p.value+N).concat(h.value.slice(0,p.value+N)):h.value).find(se=>se.dataRef.textValue.startsWith(f.value)&&!se.dataRef.disabled),G=U?h.value.indexOf(U):-1;G===-1||G===p.value||(p.value=G,v.value=1)},clearSearch(){t.disabled||s.value!==1&&f.value!==""&&(f.value="")},registerOption(x,N){let U=y(G=>[...G,{id:x,dataRef:N}]);h.value=U.options,p.value=U.activeOptionIndex},unregisterOption(x){let N=y(U=>{let G=U.findIndex(se=>se.id===x);return G!==-1&&U.splice(G,1),U});h.value=N.options,p.value=N.activeOptionIndex,v.value=1},theirOnChange(x){t.disabled||_(x)},select(x){t.disabled||_(vn(b.value,{0:()=>x,1:()=>{let N=Ne(T.value.value).slice(),U=Ne(x),G=N.findIndex(se=>T.compare(U,Ne(se)));return G===-1?N.push(U):N.splice(G,1),N}}))}};Uk([l,c],(x,N)=>{var U;T.closeListbox(),Mk(N,ow.Loose)||(x.preventDefault(),(U=He(l))==null||U.focus())},ve(()=>s.value===0)),Qn(Qk,T),Dk(ve(()=>vn(s.value,{0:An.Open,1:An.Closed})));let R=ve(()=>{var x;return(x=He(l))==null?void 0:x.closest("form")});return xt(()=>{wi([R],()=>{if(!R.value||t.defaultValue===void 0)return;function x(){T.theirOnChange(t.defaultValue)}return R.value.addEventListener("reset",x),()=>{var N;(N=R.value)==null||N.removeEventListener("reset",x)}},{immediate:!0})}),()=>{let{name:x,modelValue:N,disabled:U,form:G,...se}=t,q={open:s.value===0,disabled:U,value:E.value};return en(lt,[...x!=null&&E.value!=null?$k({[x]:E.value}).map(([ie,_e])=>en(mp,C7({features:ud.Hidden,key:ie,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:G,name:ie,value:_e}))):[],Zn({ourProps:{},theirProps:{...n,...sw(se,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:q,slots:e,attrs:n,name:"Listbox"})])}}}),A8=Ve({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${Gs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Om("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function o(f){switch(f.key){case ln.Space:case ln.Enter:case ln.ArrowDown:f.preventDefault(),s.openListbox(),Wi(()=>{var p;(p=He(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(Kn.First)});break;case ln.ArrowUp:f.preventDefault(),s.openListbox(),Wi(()=>{var p;(p=He(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(Kn.Last)});break}}function l(f){switch(f.key){case ln.Space:f.preventDefault();break}}function c(f){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),Wi(()=>{var p;return(p=He(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),s.openListbox(),I8(()=>{var p;return(p=He(s.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=D7(ve(()=>({as:t.as,type:e.type})),s.buttonRef);return()=>{var f,p;let v={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{id:y,...b}=t,I={ref:s.buttonRef,id:y,type:h.value,"aria-haspopup":"listbox","aria-controls":(f=He(s.optionsRef))==null?void 0:f.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(p=He(s.labelRef))==null?void 0:p.id,y].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:l,onClick:c};return Zn({ourProps:I,theirProps:b,slot:v,attrs:e,slots:n,name:"ListboxButton"})}}}),S8=Ve({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${Gs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Om("ListboxOptions"),o=ne(null);i({el:s.optionsRef,$el:s.optionsRef});function l(f){switch(o.value&&clearTimeout(o.value),f.key){case ln.Space:if(s.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case ln.Enter:if(f.preventDefault(),f.stopPropagation(),s.activeOptionIndex.value!==null){let p=s.options.value[s.activeOptionIndex.value];s.select(p.dataRef.value)}s.mode.value===0&&(s.closeListbox(),Wi(()=>{var p;return(p=He(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case vn(s.orientation.value,{vertical:ln.ArrowDown,horizontal:ln.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption(Kn.Next);case vn(s.orientation.value,{vertical:ln.ArrowUp,horizontal:ln.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption(Kn.Previous);case ln.Home:case ln.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption(Kn.First);case ln.End:case ln.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption(Kn.Last);case ln.Escape:f.preventDefault(),f.stopPropagation(),s.closeListbox(),Wi(()=>{var p;return(p=He(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case ln.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),o.value=setTimeout(()=>s.clearSearch(),350));break}}let c=xm(),h=ve(()=>c!==null?(c.value&An.Open)===An.Open:s.listboxState.value===0);return()=>{var f,p,v,y;let b={open:s.listboxState.value===0},{id:I,..._}=t,E={"aria-activedescendant":s.activeOptionIndex.value===null||(f=s.options.value[s.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(y=(p=He(s.labelRef))==null?void 0:p.id)!=null?y:(v=He(s.buttonRef))==null?void 0:v.id,"aria-orientation":s.orientation.value,id:I,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return Zn({ourProps:E,theirProps:_,slot:b,attrs:e,slots:n,features:kl.RenderStrategy|kl.Static,visible:h.value,name:"ListboxOptions"})}}}),C8=Ve({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${Gs()}`}},setup(t,{slots:e,attrs:n,expose:i}){let s=Om("ListboxOption"),o=ne(null);i({el:o,$el:o});let l=ve(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===t.id:!1),c=ve(()=>vn(s.mode.value,{0:()=>s.compare(Ne(s.value.value),Ne(t.value)),1:()=>Ne(s.value.value).some(T=>s.compare(Ne(T),Ne(t.value)))})),h=ve(()=>vn(s.mode.value,{1:()=>{var T;let R=Ne(s.value.value);return((T=s.options.value.find(x=>R.some(N=>s.compare(Ne(N),Ne(x.dataRef.value)))))==null?void 0:T.id)===t.id},0:()=>c.value})),f=y8(o),p=ve(()=>({disabled:t.disabled,value:t.value,get textValue(){return f()},domRef:o}));xt(()=>s.registerOption(t.id,p)),li(()=>s.unregisterOption(t.id)),xt(()=>{wi([s.listboxState,c],()=>{s.listboxState.value===0&&c.value&&vn(s.mode.value,{1:()=>{h.value&&s.goToOption(Kn.Specific,t.id)},0:()=>{s.goToOption(Kn.Specific,t.id)}})},{immediate:!0})}),Ei(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&Wi(()=>{var T,R;return(R=(T=He(o))==null?void 0:T.scrollIntoView)==null?void 0:R.call(T,{block:"nearest"})})});function v(T){if(t.disabled)return T.preventDefault();s.select(t.value),s.mode.value===0&&(s.closeListbox(),Wi(()=>{var R;return(R=He(s.buttonRef))==null?void 0:R.focus({preventScroll:!0})}))}function y(){if(t.disabled)return s.goToOption(Kn.Nothing);s.goToOption(Kn.Specific,t.id)}let b=q7();function I(T){b.update(T)}function _(T){b.wasMoved(T)&&(t.disabled||l.value||s.goToOption(Kn.Specific,t.id,0))}function E(T){b.wasMoved(T)&&(t.disabled||l.value&&s.goToOption(Kn.Nothing))}return()=>{let{disabled:T}=t,R={active:l.value,selected:c.value,disabled:T},{id:x,value:N,disabled:U,...G}=t,se={id:x,ref:o,role:"option",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:v,onFocus:y,onPointerenter:I,onMouseenter:I,onPointermove:_,onMousemove:_,onPointerleave:E,onMouseleave:E};return Zn({ourProps:se,theirProps:G,slot:R,attrs:n,slots:e,name:"ListboxOption"})}}});function R8(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Gv(t,...e){t&&e.length>0&&t.classList.add(...e)}function yf(t,...e){t&&e.length>0&&t.classList.remove(...e)}var r_=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(r_||{});function P8(t,e){let n=Md();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[h=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return h});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function mS(t,e,n,i,s,o){let l=Md(),c=o!==void 0?R8(o):()=>{};return yf(t,...s),Gv(t,...e,...n),l.nextFrame(()=>{yf(t,...n),Gv(t,...i),l.add(P8(t,h=>(yf(t,...i,...e),Gv(t,...s),c(h))))}),l.add(()=>yf(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function yo(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let uw=Symbol("TransitionContext");var k8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(k8||{});function x8(){return Ct(uw,null)!==null}function O8(){let t=Ct(uw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function N8(){let t=Ct(cw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let cw=Symbol("NestingContext");function Nm(t){return"children"in t?Nm(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Xk(t){let e=ne([]),n=ne(!1);xt(()=>n.value=!0),li(()=>n.value=!1);function i(o,l=Cs.Hidden){let c=e.value.findIndex(({id:h})=>h===o);c!==-1&&(vn(l,{[Cs.Unmount](){e.value.splice(c,1)},[Cs.Hidden](){e.value[c].state="hidden"}}),!Nm(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,Cs.Unmount)}return{children:e,register:s,unregister:i}}let Zk=kl.RenderStrategy,Ii=Ve({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=ne(0);function l(){o.value|=An.Opening,e("beforeEnter")}function c(){o.value&=~An.Opening,e("afterEnter")}function h(){o.value|=An.Closing,e("beforeLeave")}function f(){o.value&=~An.Closing,e("afterLeave")}if(!x8()&&N7())return()=>en(ta,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:h,onAfterLeave:f},i);let p=ne(null),v=ve(()=>t.unmount?Cs.Unmount:Cs.Hidden);s({el:p,$el:p});let{show:y,appear:b}=O8(),{register:I,unregister:_}=N8(),E=ne(y.value?"visible":"hidden"),T={value:!0},R=Gs(),x={value:!1},N=Xk(()=>{!x.value&&E.value!=="hidden"&&(E.value="hidden",_(R),f())});xt(()=>{let oe=I(R);li(oe)}),Ei(()=>{if(v.value===Cs.Hidden&&R){if(y.value&&E.value!=="visible"){E.value="visible";return}vn(E.value,{hidden:()=>_(R),visible:()=>I(R)})}});let U=yo(t.enter),G=yo(t.enterFrom),se=yo(t.enterTo),q=yo(t.entered),ie=yo(t.leave),_e=yo(t.leaveFrom),ce=yo(t.leaveTo);xt(()=>{Ei(()=>{if(E.value==="visible"){let oe=He(p);if(oe instanceof Comment&&oe.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ee(oe){let Xe=T.value&&!b.value,Ce=He(p);!Ce||!(Ce instanceof HTMLElement)||Xe||(x.value=!0,y.value&&l(),y.value||h(),oe(y.value?mS(Ce,U,G,se,q,Q=>{x.value=!1,Q===r_.Finished&&c()}):mS(Ce,ie,_e,ce,q,Q=>{x.value=!1,Q===r_.Finished&&(Nm(N)||(E.value="hidden",_(R),f()))})))}return xt(()=>{wi([y],(oe,Xe,Ce)=>{ee(Ce),T.value=!1},{immediate:!0})}),Qn(cw,N),Dk(ve(()=>vn(E.value,{visible:An.Open,hidden:An.Closed})|o.value)),()=>{let{appear:oe,show:Xe,enter:Ce,enterFrom:Q,enterTo:de,entered:Te,leave:_t,leaveFrom:Ze,leaveTo:Kt,...et}=t,Ti={ref:p},ui={...et,...b.value&&y.value&&Ld.isServer?{class:Gn([n.class,et.class,...U,...G])}:{}};return Zn({theirProps:ui,ourProps:Ti,slot:{},slots:i,attrs:n,features:Zk,visible:E.value==="visible",name:"TransitionChild"})}}}),D8=Ii,ta=Ve({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=xm(),o=ve(()=>t.show===null&&s!==null?(s.value&An.Open)===An.Open:t.show);Ei(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=ne(o.value?"visible":"hidden"),c=Xk(()=>{l.value="hidden"}),h=ne(!0),f={show:o,appear:ve(()=>t.appear||!h.value)};return xt(()=>{Ei(()=>{h.value=!1,o.value?l.value="visible":Nm(c)||(l.value="hidden")})}),Qn(cw,c),Qn(uw,f),()=>{let p=sw(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return Zn({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[en(D8,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...p},i.default)]},attrs:{},features:Zk,visible:l.value==="visible",name:"Transition"})}}});function ex(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function L8(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function M8(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function V8(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function tx(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function nx(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function s_(t,e){return te(),ke("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const F8={class:"relative mt-1 w-72"},U8={class:"block truncate"},$8={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},j8={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},gS=Ve({__name:"Listbox",props:{items:Array,modelValue:[String,Number],placeholder:String,itemLabel:{type:String,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=e,s=ne(n.modelValue),o=l=>{console.log("onChange",l),i("update:modelValue",l)};return(l,c)=>(te(),ke("div",F8,[Z(V(T8),{modelValue:s.value,"onUpdate:modelValue":o,as:"div",disabled:t.disabled},{default:he(()=>[Z(V(A8),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:he(()=>[P("span",U8,Pi(s.value||t.placeholder),1),P("span",$8,[Z(V(M8),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),Z(V(S8),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:he(()=>[(te(!0),ke(lt,null,js(t.items,h=>(te(),Je(V(C8),{key:t.itemLabel?h[t.itemLabel]:h,value:t.itemLabel?h[t.itemLabel]:h},{default:he(({active:f,selected:p})=>[P("li",{class:Gn([{"bg-amber-100 text-amber-900":f,"text-gray-900":!f},"relative cursor-default select-none py-2 pl-10 pr-4"])},[P("span",{class:Gn([{"font-medium":p,"font-normal":!p},"block truncate"])},Pi(t.itemLabel?h[t.itemLabel]:h),3),p?(te(),ke("span",j8,[Z(V(L8),{class:"h-5 w-5","aria-hidden":"true"})])):rt("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]))}}),B8={class:"space-y-4 mb-4"},H8=P("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),q8={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},W8=["src"],K8=["onClick"],z8=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),G8=P("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),Y8=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),J8=P("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),Q8=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),X8=P("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),Z8={class:"flex justify-end space-x-2 mt-4"},eH=5*1024*1024,tH=Ve({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=wn(Vt()),s=ne([]),o=ne(null),l=()=>{const T=o.value.files;for(let R=0;R<T.length;R++){const x=T[R];if(x.size>eH){alert("File size should not exceed 5MB");continue}const N=new FileReader;N.onload=U=>{s.value.push({file:x,url:U.target.result})},N.readAsDataURL(x)}},c=T=>{s.value.splice(T,1)},h=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=si({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:h,price:0,biddingEndTime:h}),p=ne(!1),v=async()=>{if(p.value=!0,y()&&i.value){const T=s.value.map(x=>x.url.split(",")[1]),R=JSON.parse(JSON.stringify(f));R.biddingEndTime=new Date(R.biddingEndTime).toISOString(),R.expectedHarvestDate=new Date(R.expectedHarvestDate).toISOString(),await Vt().createUserAd({images:T,...R,adType:i.value.accountType}),p.value=!1,n("close")}else p.value=!1},y=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime),b=ne(!1),I=ne([]),_=async()=>{b.value=!0,I.value=await Vt().getProduce(),console.log("produce",I.value),b.value=!1},E=ve(()=>{if(f.type==="")return[];const T=I.value.find(R=>R.id===f.type);return T?T.sub:[]});return xt(async()=>{console.log("mounted"),await _()}),(T,R)=>(te(),ke(lt,null,[P("div",B8,[H8,P("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),P("div",q8,[(te(!0),ke(lt,null,js(s.value,(x,N)=>(te(),ke("div",{key:N,class:"mr-2 relative"},[P("img",{src:x.url,class:"w-16 h-16 object-cover"},null,8,W8),P("button",{onClick:U=>c(N)},"Remove",8,K8)]))),128))]),z8,Z(gS,{items:I.value,modelValue:f.type,"onUpdate:modelValue":R[0]||(R[0]=x=>f.type=x),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),G8,Z(gS,{items:E.value,modelValue:f.variety,"onUpdate:modelValue":R[1]||(R[1]=x=>f.variety=x),placeholder:"Select a Variety",disabled:!f.type},null,8,["items","modelValue","disabled"]),Y8,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":R[2]||(R[2]=x=>f.yieldTonnage=x)},null,512),[[mt,f.yieldTonnage]]),J8,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":R[3]||(R[3]=x=>f.expectedHarvestDate=x)},null,512),[[mt,f.expectedHarvestDate]]),Q8,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":R[4]||(R[4]=x=>f.price=x)},null,512),[[mt,f.price]]),X8,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":R[5]||(R[5]=x=>f.biddingEndTime=x)},null,512),[[mt,f.biddingEndTime]])]),P("div",Z8,[P("button",{onClick:R[6]||(R[6]=x=>T.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Z(zs,{onClick:v,isLoading:p.value},{default:he(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),nH={class:"space-y-4 mb-4"},iH=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),rH=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),sH=P("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),oH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),aH={class:"flex justify-end space-x-2 mt-4"},lH=Ve({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=wn(Vt());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=si({type:"",yieldTonnage:0,requestDate:s,price:0}),l=ne(!1),c=async()=>{if(l.value=!0,h()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await Vt().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},h=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,p)=>(te(),ke(lt,null,[P("div",nH,[iH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":p[0]||(p[0]=v=>o.type=v)},null,512),[[mt,o.type]]),rH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":p[1]||(p[1]=v=>o.yieldTonnage=v)},null,512),[[mt,o.yieldTonnage]]),sH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":p[2]||(p[2]=v=>o.requestDate=v)},null,512),[[mt,o.requestDate]]),oH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":p[3]||(p[3]=v=>o.price=v)},null,512),[[mt,o.price]])]),P("div",aH,[P("button",{onClick:p[4]||(p[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Z(zs,{onClick:c,isLoading:l.value},{default:he(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),uH=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),cH={class:"fixed inset-0 overflow-y-auto"},dH={class:"flex min-h-full items-center justify-center p-4 text-center"},hH=P("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),fH=Ve({__name:"AddAdModal",setup(t){const{modals:e}=wn(oi()),{profile:n}=wn(Vt()),i=Vt().ACCOUNT_TYPES,s=ne(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(te(),Je(V(ta),{appear:"",show:s.value,as:"template"},{default:he(()=>[Z(V(Wl),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:he(()=>[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[uH]),_:1}),P("div",cH,[P("div",dH,[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[Z(V(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>{var h,f;return[Z(V(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[gt(" New Ad ")]),_:1}),Z(V(Gl),{class:"mt-2 mb-4"},{default:he(()=>[hH]),_:1}),((h=V(n))==null?void 0:h.accountType)===V(i).SELLER?(te(),Je(tH,{key:0,onClose:c[0]||(c[0]=p=>o(!1))})):rt("",!0),((f=V(n))==null?void 0:f.accountType)===V(i).BUYER?(te(),Je(lH,{key:1,onClose:c[1]||(c[1]=p=>o(!1))})):rt("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),pH={class:"space-y-4 mb-4"},mH=P("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),gH={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},vH=["src"],yH=["onClick"],_H=["src"],wH=["onClick"],bH=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),EH=P("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),IH=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),TH=P("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),AH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),SH={class:"flex justify-end space-x-2 mt-4"},CH=5*1024*1024,RH=Ve({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;wn(Vt());const s=ne([]),o=ne(null),l=()=>{const b=o.value.files;for(let I=0;I<b.length;I++){const _=b[I];if(_.size>CH){alert("File size should not exceed 5MB");continue}const E=new FileReader;E.onload=T=>{s.value.push({file:_,url:T.target.result})},E.readAsDataURL(_)}},c=b=>{s.value.splice(b,1)},h=b=>{p.resizedImages.splice(b,1)},f=JSON.parse(JSON.stringify(n.ad)),p=si({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=ne(!1),y=async()=>{v.value=!0;const b=Object.keys(p).reduce((I,_)=>(p[_]!==n.ad[_]&&(I[_]=p[_]),I),{});if(o.value.files.length>0){const I=s.value.map(_=>_.url.split(",")[1]);b.newImages=I}await Vt().editUserAd({changes:b,adId:n.ad.id}),v.value=!1,i("close")};return(b,I)=>(te(),ke(lt,null,[P("div",pH,[mH,P("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),P("div",gH,[(te(!0),ke(lt,null,js(s.value,(_,E)=>(te(),ke("div",{key:E,class:"mr-2 relative"},[P("img",{src:_.url,class:"w-16 h-16 object-cover"},null,8,vH),P("button",{onClick:T=>c(E)},"Remove",8,yH)]))),128)),(te(!0),ke(lt,null,js(p.resizedImages,(_,E)=>(te(),ke("div",{key:E,class:"mr-2 relative"},[P("img",{src:_,class:"w-16 h-16 object-cover"},null,8,_H),P("button",{onClick:T=>h(E)},"Remove",8,wH)]))),128))]),bH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":I[0]||(I[0]=_=>p.type=_)},null,512),[[mt,p.type]]),EH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":I[1]||(I[1]=_=>p.variety=_)},null,512),[[mt,p.variety]]),IH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":I[2]||(I[2]=_=>p.yieldTonnage=_)},null,512),[[mt,p.yieldTonnage]]),TH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":I[3]||(I[3]=_=>p.expectedHarvestDate=_)},null,512),[[mt,p.expectedHarvestDate]]),AH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":I[4]||(I[4]=_=>p.price=_)},null,512),[[mt,p.price]])]),P("div",SH,[P("button",{onClick:I[5]||(I[5]=_=>b.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Z(zs,{onClick:y,isLoading:v.value},{default:he(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),PH={class:"space-y-4 mb-4"},kH=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),xH=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),OH=P("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),NH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),DH={class:"flex justify-end space-x-2 mt-4"},LH=Ve({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;wn(Vt());const s=JSON.parse(JSON.stringify(n.ad)),o=si({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=ne(!1),c=async()=>{l.value=!0;const h=Object.keys(o).reduce((f,p)=>(o[p]!==n.ad[p]&&(f[p]=o[p]),f),{});await Vt().editUserAd({changes:h,adId:n.ad.id}),l.value=!1,i("close")};return(h,f)=>(te(),ke(lt,null,[P("div",PH,[kH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=p=>o.type=p)},null,512),[[mt,o.type]]),xH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=p=>o.yieldTonnage=p)},null,512),[[mt,o.yieldTonnage]]),OH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=p=>o.requestDate=p)},null,512),[[mt,o.requestDate]]),NH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=p=>o.price=p)},null,512),[[mt,o.price]])]),P("div",DH,[P("button",{onClick:f[4]||(f[4]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Z(zs,{onClick:c,isLoading:l.value},{default:he(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),MH=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),VH={class:"fixed inset-0 overflow-y-auto"},FH={class:"flex min-h-full items-center justify-center p-4 text-center"},UH=P("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),$H=Ve({__name:"EditAdModal",setup(t){const{modals:e}=wn(oi()),{profile:n}=wn(Vt()),i=Vt().ACCOUNT_TYPES,s=ne(!0);function o(l){s.value=l,e.value.editad=l,e.value.context={}}return(l,c)=>(te(),Je(V(ta),{appear:"",show:s.value,as:"template"},{default:he(()=>[Z(V(Wl),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:he(()=>[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[MH]),_:1}),P("div",VH,[P("div",FH,[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[Z(V(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>{var h,f;return[Z(V(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[gt(" Edit Ad ")]),_:1}),Z(V(Gl),{class:"mt-2 mb-4"},{default:he(()=>[UH]),_:1}),((h=V(n))==null?void 0:h.accountType)===V(i).SELLER?(te(),Je(RH,{key:0,onClose:c[0]||(c[0]=p=>o(!1)),ad:V(e).context},null,8,["ad"])):rt("",!0),((f=V(n))==null?void 0:f.accountType)===V(i).BUYER?(te(),Je(LH,{key:1,onClose:c[1]||(c[1]=p=>o(!1)),ad:V(e).context},null,8,["ad"])):rt("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),jH={class:"space-y-4 mb-4"},BH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),HH={class:"flex justify-end space-x-2 mt-4"},qH=Ve({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=si({adId:t.adId,price:0}),o=ne(!1),l=async()=>{o.value=!0,c()?(await Vt().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(h,f)=>(te(),ke(lt,null,[P("div",jH,[BH,ut(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=p=>s.price=p)},null,512),[[mt,s.price]])]),P("div",HH,[P("button",{onClick:f[1]||(f[1]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Z(zs,{onClick:l,isLoading:o.value},{default:he(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),WH=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),KH={class:"fixed inset-0 overflow-y-auto"},zH={class:"flex min-h-full items-center justify-center p-4 text-center"},GH=P("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),YH=Ve({__name:"AddBidModal",setup(t){const{modals:e}=wn(oi()),n=ne(!0);function i(l){n.value=l,e.value.addad=l}const s=km(),o=ne("");return xt(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(te(),Je(V(ta),{appear:"",show:n.value,as:"template"},{default:he(()=>[Z(V(Wl),{as:"div",onClose:c[1]||(c[1]=h=>i(!1)),class:"relative z-10"},{default:he(()=>[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[WH]),_:1}),P("div",KH,[P("div",zH,[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[Z(V(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[Z(V(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[gt(" Place bid ")]),_:1}),Z(V(Gl),{class:"mt-2 mb-4"},{default:he(()=>[GH]),_:1}),Z(qH,{onClose:c[0]||(c[0]=h=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Rs=Ve({__name:"CardButton",props:{classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){return(n,i)=>(te(),ke("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:Gn([[t.classes],"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"])},[X2(n.$slots,"default")],2))}}),JH={class:"max-w-md mx-auto"},QH={class:"mb-4"},XH=P("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),ZH={class:"mb-4"},eq=P("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),tq={class:"mb-4"},nq=P("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),iq={class:"mb-4"},rq=P("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),sq={class:"mb-4 space-y-2"},oq=P("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),aq=["onUpdate:modelValue"],lq=["onClick"],uq={class:"flex items-center justify-between mt-4"},cq=Ve({__name:"JobPostAddForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=ne({createdAt:null,title:"",description:"",location:"",salary:"",tasks:[]}),s=()=>{i.value.tasks.push("")},o=f=>{i.value.tasks.splice(f,1)},l=()=>{if(!i.value.title||!i.value.description||!i.value.location||!i.value.salary||!i.value.tasks.length){if(i.value.tasks.length>0){for(const f in i.value.tasks)if(!f){const p=i.value.tasks.indexOf(f);i.value.tasks.splice(p,1)}}return!1}else return!0},c=ne(!1),h=async()=>{if(c.value=!0,l()){const f=JSON.parse(JSON.stringify(i.value));await Vt().createJobPostAd(f),n("close")}c.value=!1};return(f,p)=>(te(),ke("div",JH,[P("div",null,[P("div",QH,[XH,ut(P("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>i.value.title=v),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,i.value.title]])]),P("div",ZH,[eq,ut(P("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>i.value.description=v),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[mt,i.value.description]])]),P("div",tq,[nq,ut(P("input",{"onUpdate:modelValue":p[2]||(p[2]=v=>i.value.location=v),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,i.value.location]])]),P("div",iq,[rq,ut(P("input",{"onUpdate:modelValue":p[3]||(p[3]=v=>i.value.salary=v),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,i.value.salary]])]),P("div",sq,[P("span",{class:"w-full flex items-center justify-between"},[oq,P("button",{onClick:s,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(te(!0),ke(lt,null,js(i.value.tasks,(v,y)=>(te(),ke("div",{key:y,class:"flex items-center space-x-2"},[ut(P("input",{"onUpdate:modelValue":b=>i.value.tasks[y]=b,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,aq),[[mt,i.value.tasks[y]]]),P("button",{onClick:b=>o(y),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,lq)]))),128))]),P("div",uq,[Z(Rs,{onClick:p[4]||(p[4]=v=>f.$emit("close")),classes:"w-20"},{default:he(()=>[gt(" Cancel ")]),_:1}),Z(zs,{onClick:h,isLoading:c.value},{default:he(()=>[gt("Create Job ")]),_:1},8,["isLoading"])])])]))}}),dq=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),hq={class:"fixed inset-0 overflow-y-auto"},fq={class:"flex min-h-full items-center justify-center p-4 text-center"},pq=P("p",{class:"text-sm text-gray-500"}," Add a Job Post ",-1),mq=Ve({__name:"AddJobModal",setup(t){const{modals:e}=wn(oi()),n=ne(!0);function i(s){n.value=s,e.value.addjob=s}return(s,o)=>(te(),Je(V(ta),{appear:"",show:n.value,as:"template"},{default:he(()=>[Z(V(Wl),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:he(()=>[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[dq]),_:1}),P("div",hq,[P("div",fq,[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[Z(V(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[Z(V(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[gt(" New Job Post ")]),_:1}),Z(V(Gl),{class:"mt-2 mb-4"},{default:he(()=>[pq]),_:1}),Z(cq,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),gq={class:"max-w-md mx-auto"},vq={class:"mb-4"},yq=P("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),_q={class:"mb-4"},wq=P("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),bq={class:"mb-4"},Eq=P("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),Iq={class:"mb-4"},Tq=P("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),Aq={class:"mb-4 space-y-2"},Sq=P("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),Cq=["onUpdate:modelValue"],Rq=["onClick"],Pq={class:"flex items-center justify-between mt-4"},kq=Ve({__name:"JobPostEditForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=JSON.parse(JSON.stringify(i.job)),o=ne({createdAt:s.createdAt,title:s.title,description:s.description,location:s.location,salary:s.salary,tasks:s.tasks}),l=()=>{o.value.tasks.push("")},c=v=>{o.value.tasks.splice(v,1)},h=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.salary||!o.value.tasks.length){if(o.value.tasks.length>0){for(const v in o.value.tasks)if(!v){const y=o.value.tasks.indexOf(v);o.value.tasks.splice(y,1)}}return!1}else return!0},f=ne(!1),p=async()=>{if(f.value=!0,h()){const v=i.job,y=Object.keys(o.value).reduce((I,_)=>(o.value[_]!==v[_]&&(I[_]=o.value[_]),I),{}),b=JSON.parse(JSON.stringify(y));try{const I=i.job.jobId;await Vt().editJobPostAd({jobId:I,changes:b}),n("close")}catch(I){f.value=!1,console.log(I)}}f.value=!1};return(v,y)=>(te(),ke("div",gq,[P("div",null,[P("div",vq,[yq,ut(P("input",{"onUpdate:modelValue":y[0]||(y[0]=b=>o.value.title=b),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,o.value.title]])]),P("div",_q,[wq,ut(P("textarea",{"onUpdate:modelValue":y[1]||(y[1]=b=>o.value.description=b),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[mt,o.value.description]])]),P("div",bq,[Eq,ut(P("input",{"onUpdate:modelValue":y[2]||(y[2]=b=>o.value.location=b),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,o.value.location]])]),P("div",Iq,[Tq,ut(P("input",{"onUpdate:modelValue":y[3]||(y[3]=b=>o.value.salary=b),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,o.value.salary]])]),P("div",Aq,[P("span",{class:"w-full flex items-center justify-between"},[Sq,P("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(te(!0),ke(lt,null,js(o.value.tasks,(b,I)=>(te(),ke("div",{key:I,class:"flex items-center space-x-2"},[ut(P("input",{"onUpdate:modelValue":_=>t.job.tasks[I]=_,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,Cq),[[mt,t.job.tasks[I]]]),P("button",{onClick:_=>c(I),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,Rq)]))),128))]),P("div",Pq,[Z(Rs,{onClick:y[4]||(y[4]=b=>v.$emit("close")),classes:"w-20"},{default:he(()=>[gt(" Cancel ")]),_:1}),Z(zs,{onClick:p,isLoading:f.value},{default:he(()=>[gt("Edit Job ")]),_:1},8,["isLoading"])])])]))}}),xq=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),Oq={class:"fixed inset-0 overflow-y-auto"},Nq={class:"flex min-h-full items-center justify-center p-4 text-center"},Dq=P("p",{class:"text-sm text-gray-500"}," Edit a Job Post ",-1),Lq=Ve({__name:"EditJobModal",setup(t){const{modals:e}=wn(oi()),n=ne(!0);function i(s){n.value=s,e.value.editjob=s,e.value.context={}}return(s,o)=>(te(),Je(V(ta),{appear:"",show:n.value,as:"template"},{default:he(()=>[Z(V(Wl),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:he(()=>[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[xq]),_:1}),P("div",Oq,[P("div",Nq,[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[Z(V(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[Z(V(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[gt(" Edit Job Post ")]),_:1}),Z(V(Gl),{class:"mt-2 mb-4"},{default:he(()=>[Dq]),_:1}),Z(kq,{onClose:o[0]||(o[0]=l=>i(!1)),job:V(e).context},null,8,["job"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Mq={class:"max-w-md mx-auto"},Vq={class:"mb-4"},Fq={class:"flex items-center justify-between mt-4"},Uq=Ve({__name:"ConfirmRemoveForm",props:{context:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=ne(!1),o=ne(""),l=async()=>{s.value=!0,o.value==i.context.__key&&(await c(),n("close")),s.value=!1},c=async()=>{i.context.__key=="job"&&await Vt().removeJobPostAd(i.context.jobId)};return(h,f)=>(te(),ke("div",Mq,[P("div",null,[P("div",Vq,[ut(P("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),type:"text",id:"confirmKeyword",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[mt,o.value]])]),P("div",Fq,[Z(Rs,{onClick:f[1]||(f[1]=p=>h.$emit("close")),classes:"w-20"},{default:he(()=>[gt(" Cancel ")]),_:1}),Z(zs,{disabled:o.value!=i.context.__key,onClick:l,isLoading:s.value},{default:he(()=>[gt("Delete ")]),_:1},8,["disabled","isLoading"])])])]))}}),$q=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),jq={class:"fixed inset-0 overflow-y-auto"},Bq={class:"flex min-h-full items-center justify-center p-4 text-center"},Hq={class:"text-sm text-gray-500"},qq={class:"font-bold"},Wq=Ve({__name:"ConfirmRemoveModal",setup(t){const{modals:e}=wn(oi()),n=ne(!0);function i(s){n.value=s,e.value.confirmremove=s}return(s,o)=>(te(),Je(V(ta),{appear:"",show:n.value,as:"template"},{default:he(()=>[Z(V(Wl),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:he(()=>[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:he(()=>[$q]),_:1}),P("div",jq,[P("div",Bq,[Z(V(Ii),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:he(()=>[Z(V(Kl),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:he(()=>[Z(V(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:he(()=>[gt(" Are you sure? ")]),_:1}),Z(V(Gl),{class:"mt-2 mb-4"},{default:he(()=>[P("p",Hq,[gt(" Type "),P("span",qq,Pi(V(e).context.__key),1),gt(" to confirm ")])]),_:1}),Z(Uq,{onClose:o[0]||(o[0]=l=>i(!1)),context:V(e).context},null,8,["context"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Kq={key:0},zq={key:1,class:"text-sm font-medium"},vS=5e3,Gq=Ve({__name:"StateNotificationToast",setup(t){const{notifications:e}=wn(oi()),n=oi().NOTIFICATION_TYPES,i=ne(vS),s=()=>{i.value=vS;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),oi().resetNotification())},1e3)};wi(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=ve(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(te(),Je(Sm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:he(()=>[V(e).show?(te(),ke("div",{key:0,class:Gn(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[V(e).type?(te(),ke("div",Kq,[V(e).type===V(n).SUCCESS?(te(),Je(V(ex),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):rt("",!0),V(e).type===V(n).ERROR?(te(),Je(V(s_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):rt("",!0),V(e).type===V(n).WARNING?(te(),Je(V(tx),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):rt("",!0),V(e).type===V(n).INFO?(te(),Je(V(nx),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):rt("",!0)])):rt("",!0),V(e).message?(te(),ke("div",zq,[P("p",null,Pi(V(e).message),1)])):rt("",!0)],2)):rt("",!0)]),_:1}))}}),Yq={key:0},Jq={key:1,class:"text-sm font-medium text-black"},Qq=Ve({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=wn(oi()),n=oi().NOTIFICATION_TYPES,i=ve(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(te(),Je(Sm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:he(()=>[V(e).show?(te(),ke("div",{key:0,class:Gn(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[V(e).type?(te(),ke("div",Yq,[V(e).type===V(n).SUCCESS?(te(),Je(V(ex),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):rt("",!0),V(e).type===V(n).ERROR?(te(),Je(V(s_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):rt("",!0),V(e).type===V(n).WARNING?(te(),Je(V(tx),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):rt("",!0),V(e).type===V(n).INFO?(te(),Je(V(nx),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):rt("",!0)])):rt("",!0),V(e).message?(te(),ke("div",Jq,[P("p",null,Pi(V(e).message),1)])):rt("",!0),Z(V(s_),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):rt("",!0)]),_:1}))}}),Xq={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},Zq={class:"flex flex-row space-x-4"},eW=P("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),tW={class:"text-sm"},nW={class:"flex flex-row space-x-4"},iW=P("label",{class:"block text-sm font-medium text-gray-700"},"Ad",-1),rW={class:"text-sm"},sW={class:"flex flex-row space-x-4"},oW=P("label",{class:"block text-sm font-medium text-gray-700"},"buyerId",-1),aW={class:"text-sm"},lW={class:"flex flex-row space-x-4"},uW=P("label",{class:"block text-sm font-medium text-gray-700"},"sellerId",-1),cW={class:"text-sm"},dW={class:"w-full flex justify-end gap-4"},hW=Ve({__name:"ChatRoomCard",props:{chatroom:{type:Object,required:!0}},setup(t){const e=km(),n=i=>{e.push({name:"messaging",params:{adId:i}})};return(i,s)=>(te(),ke("span",Xq,[P("div",Zq,[eW,P("p",tW,Pi(V(d2)(t.chatroom.createdAt)?V(h2)(t.chatroom.createdAt):t.chatroom.createdAt),1)]),P("div",nW,[iW,P("p",rW,Pi(t.chatroom.adId.substring(0,5)),1)]),P("div",sW,[oW,P("p",aW,Pi(t.chatroom.buyerId.substring(0,5)),1)]),P("div",lW,[uW,P("p",cW,Pi(t.chatroom.sellerId.substring(0,5)),1)]),P("div",dW,[Z(Rs,{onClick:s[0]||(s[0]=o=>n(t.chatroom.adId)),classes:"w-20"},{default:he(()=>[gt("View")]),_:1})])]))}}),fW={class:"flex flex-row space-x-4"},pW={class:"block text-sm font-medium text-gray-700"},mW={class:"block text-sm text-gray-500"},gW={class:"block text-sm text-gray-500"},vW=Ve({__name:"ChatRoomThumbnailCard",props:{chatroom:{type:Object,required:!0}},setup(t){const e=km(),n=i=>{e.push({name:"messaging",params:{adId:i}})};return(i,s)=>(te(),ke("span",{class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4",onClick:s[0]||(s[0]=o=>n(t.chatroom.adId))},[P("div",fW,[P("p",pW,Pi(t.chatroom.lastSender?t.chatroom.lastSender:""),1),P("p",mW,Pi(t.chatroom.lastMessage?t.chatroom.lastMessage:""),1),P("p",gW,Pi(V(d2)(t.chatroom.lastUpdated)?V(h2)(t.chatroom.lastUpdated):t.chatroom.lastUpdated),1)])]))}}),yW={key:0,class:"grid grid-flow-row space-y-4"},_W={key:1},wW=P("p",null,"No conversations yet",-1),bW=[wW],EW={key:2},IW=Ve({__name:"ChatRoomsContentComponent",props:{withThumbnails:{type:String,default:!1}},setup(t){const{user:e}=wn(Vt()),n=ne([]),i=ne(!1);let s=null,o=null,l=[],c=[];const h=async()=>{s=qT(Er(ed(Di,"chatrooms"),gr("sellerId","==",e.value.uid),Us("createdAt","desc")),v=>{i.value=!0,c=v.docs.map(y=>({...y.data()})),f(),i.value=!1}),o=qT(Er(ed(Di,"chatrooms"),gr("buyerId","==",e.value.uid),Us("createdAt","desc")),v=>{i.value=!0,l=v.docs.map(y=>({...y.data()})),f(),i.value=!1})},f=()=>{n.value.docs=[...l,...c]},p=()=>{s&&s(),o&&o()};return xt(async()=>{await h()}),Q0(()=>{p()}),(v,y)=>n.value.docs&&n.value.docs.length>0&&!i.value?(te(),ke("span",yW,[t.withThumbnails?(te(!0),ke(lt,{key:1},js(n.value.docs,(b,I)=>(te(),Je(vW,{key:I,chatroom:b},null,8,["chatroom"]))),128)):(te(!0),ke(lt,{key:0},js(n.value.docs,(b,I)=>(te(),Je(hW,{key:I,chatroom:b},null,8,["chatroom"]))),128))])):n.value.docs&&n.value.docs.length==0&&!i.value?(te(),ke("span",_W,bW)):(te(),ke("div",EW,[Z(kk,{isLoading:i.value},null,8,["isLoading"])]))}}),TW={class:"flex justify-center items-center flex-row gap-4"},AW=P("h1",{class:"text-lg font-bold"},"Messaging",-1),SW={key:1,class:"w-80 h-96 fixed bottom-0 right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},CW={class:"p-4 w-full mx-auto rounded-lg flex flex-col space-y-4"},RW={class:"flex flex-col space-y-2 overflow-y-auto h-full"},PW=Ve({__name:"DirectMessageComponent",setup(t){const e=ne(!1);ne(!1);const n=i=>{e.value=i};return(i,s)=>(te(),ke(lt,null,[e.value?rt("",!0):(te(),ke("div",{key:0,class:"w-48 rounded rounded-t-md fixed bottom-0 right-1 h-10 bg-white z-10 border-x-4 border-t-4 flex justify-center items-center",onClick:s[0]||(s[0]=o=>n(!0))},[P("div",TW,[Z(V(V8),{class:"h-6 w-6"}),AW])])),e.value?(te(),ke("div",SW,[P("div",CW,[P("h1",{class:"text-xl font-semibold border-b pb-2",onClick:s[1]||(s[1]=o=>n(!1))},"Messaging"),P("div",RW,[Z(IW,{withThumbnails:!0})])])])):rt("",!0)],64))}}),kW={class:"relative bg-blue-900 text-white p-4"},xW={class:"container mx-auto flex justify-between items-center"},OW=P("div",{class:"flex items-center"},[P("img",{src:bB,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),P("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),NW={class:"space-x-4"},DW={class:"w-full"},LW=Ve({__name:"App",setup(t){const{profile:e}=wn(Vt()),{modals:n,notifications:i,dropdowns:s}=wn(oi()),o=ne(0),l=km();l.beforeEach((h,f,p)=>{h.matched.some(y=>y.meta.requiresAuth)&&!e.value?p("/signup"):p()});const c=async()=>{await Vt().signout(),l.push("/signup")};return(h,f)=>(te(),ke(lt,null,[P("header",kW,[P("div",xW,[OW,P("nav",NW,[V(e)?(te(),Je(V(_c),{key:0,class:Gn(["hover:underline",{"bg-blue-700 text-white":o.value==1}]),to:"/userboard",onClick:f[0]||(f[0]=p=>o.value=1)},{default:he(()=>[gt("Dashboard")]),_:1},8,["class"])):rt("",!0),V(e)?rt("",!0):(te(),Je(V(_c),{key:1,class:Gn(["hover:underline",{"bg-blue-700 text-white":o.value==2}]),to:"/signup",onClick:f[1]||(f[1]=p=>o.value=2)},{default:he(()=>[gt("Signin")]),_:1},8,["class"])),V(e)?(te(),Je(V(_c),{key:2,class:Gn(["hover:underline",{"bg-blue-700 text-white":o.value==3}]),to:"/profile",onClick:f[2]||(f[2]=p=>o.value=3)},{default:he(()=>[gt("Profile")]),_:1},8,["class"])):rt("",!0),V(e)?(te(),Je(V(_c),{key:3,class:Gn(["hover:underline",{"bg-blue-700 text-white":o.value==4}]),to:"/feed",onClick:f[3]||(f[3]=p=>o.value=4)},{default:he(()=>[gt("Feed")]),_:1},8,["class"])):rt("",!0),P("a",{class:"hover:underline",onClick:c},"Signout")])]),ut(Z(Qq,null,null,512),[[DA,V(s).show]])]),V(n).addad?(te(),Je(fH,{key:0})):rt("",!0),V(n).editad?(te(),Je($H,{key:1})):rt("",!0),V(n).addbid?(te(),Je(YH,{key:2})):rt("",!0),V(n).editjob?(te(),Je(Lq,{key:3})):rt("",!0),V(n).addjob?(te(),Je(mq,{key:4})):rt("",!0),V(n).confirmremove?(te(),Je(Wq,{key:5})):rt("",!0),ut(Z(Gq,null,null,512),[[DA,V(i).show]]),P("div",DW,[Z(V(Pk))]),Z(PW)],64))}}),MW="modulepreload",VW=function(t){return"/"+t},yS={},ji=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=VW(o),o in yS)return;yS[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const v=s[p];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":MW,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},FW=P("h1",null,"HomeView",-1),UW=Ve({__name:"HomeView",setup(t){const{dropdowns:e}=wn(oi()),n=oi().NOTIFICATION_TYPES,i=s=>{s==n.ERROR&&(e.value.show=!0,e.value.type=n.ERROR,e.value.message="Failed to create escrow account"),s==n.SUCCESS&&(e.value.show=!0,e.value.type=n.SUCCESS,e.value.message="Successfully created escrow account"),s==n.WARNING&&(e.value.show=!0,e.value.type=n.WARNING,e.value.message="Warning: This is a warning"),s==n.INFO&&(e.value.show=!0,e.value.type=n.INFO,e.value.message="Info: This is an info message")};return(s,o)=>(te(),ke(lt,null,[FW,Z(Rs,{onClick:o[0]||(o[0]=l=>i(V(n).ERROR))},{default:he(()=>[gt("Error")]),_:1}),Z(Rs,{onClick:o[1]||(o[1]=l=>i(V(n).SUCCESS))},{default:he(()=>[gt("Success")]),_:1}),Z(Rs,{onClick:o[2]||(o[2]=l=>i(V(n).WARNING))},{default:he(()=>[gt("Warning")]),_:1}),Z(Rs,{onClick:o[3]||(o[3]=l=>i(V(n).INFO))},{default:he(()=>[gt("Info")]),_:1})],64))}}),$W=b7({history:UB("/"),routes:[{path:"/",name:"home",component:UW},{path:"/signup",name:"signup",component:()=>ji(()=>import("./SignupView-4e5a60ad.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>ji(()=>import("./ProfileSetupView-f485c8cc.js"),[])},{path:"/profile",name:"profile",component:()=>ji(()=>import("./UserProfileView-8d669a36.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>ji(()=>import("./AboutView-d5bc6abe.js"),[])},{path:"/feed",name:"feed",component:()=>ji(()=>import("./FeedView-a288286d.js"),["assets/FeedView-a288286d.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-6ec80fd3.js","assets/ImageCarousel-5f240b38.js","assets/ImageCarousel-b21701ad.css"])},{path:"/seller/:sellerName/:id",name:"seller-ads",component:()=>ji(()=>import("./SellerAdsView-f6025356.js"),["assets/SellerAdsView-f6025356.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-6ec80fd3.js","assets/ImageCarousel-5f240b38.js","assets/ImageCarousel-b21701ad.css"]),props:!0},{path:"/ad/:adId",name:"ad",component:()=>ji(()=>import("./AdView-c4c98a3b.js"),["assets/AdView-c4c98a3b.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-d6645ed1.js","assets/ImageCarousel-5f240b38.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-bbbe3f8b.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/jobs/:jobId",name:"job",component:()=>ji(()=>import("./JobView-ed38a59a.js"),[]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>ji(()=>import("./UserBoardView-72f56da9.js"),["assets/UserBoardView-72f56da9.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-6ec80fd3.js","assets/ImageCarousel-5f240b38.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-bbbe3f8b.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>ji(()=>import("./MessagingView-f976ce0e.js"),[]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId",name:"banking",component:()=>ji(()=>import("./BankingView-c9042439.js"),["assets/BankingView-c9042439.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-d6645ed1.js","assets/ImageCarousel-5f240b38.js","assets/ImageCarousel-b21701ad.css"]),meta:{requiresAuth:!0},props:!0}]});let xo,Yv;LM(c2,async t=>{if(t){try{Yv=await Dy("users",t.uid),Yv&&(xo||Jv(),Vt().setProfile(Yv))}catch(e){console.log("Error getting profile",e)}xo||Jv(),console.log("User is signed in"),Vt().setUser(t)}else xo||Jv(),console.log("User is signed out")});const Jv=()=>{xo=Zj(LW),xo.use(nB()),xo.use($W),xo.mount("#app")};export{sw as $,NP as A,Di as B,A7 as C,tK as D,Bs as E,lt as F,nK as G,iK as H,V8 as I,rK as J,Er as K,kk as L,Us as M,gr as N,ed as O,h2 as P,en as Q,ud as R,mp as S,ve as T,Vk as U,Qn as V,wi as W,Ei as X,He as Y,Zn as Z,Rs as _,Vt as a,Gs as a0,li as a1,Ct as a2,D7 as a3,kl as a4,vn as a5,ln as a6,Lk as a7,aw as a8,ql as a9,kf as aa,Ts as ab,d2 as ac,Gn as ad,IW as ae,eK as af,bl as ag,JW as ah,zW as ai,GW as aj,QW as ak,XW as al,$W as am,YW as an,oK as ao,j0 as ap,ZW as b,Q0 as c,Ve as d,te as e,ke as f,P as g,ne as h,gt as i,sK as j,js as k,Z as l,he as m,zs as n,xt as o,rt as p,Je as q,si as r,wn as s,Pi as t,km as u,mt as v,ut as w,oi as x,V as y,qT as z};

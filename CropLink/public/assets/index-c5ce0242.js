(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},AN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(y=64)),i.push(n[p],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new SN;const y=o<<2|c>>4;if(i.push(y),f!==64){const b=c<<4&240|f>>2;if(i.push(b),v!==64){const I=f<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CN=function(t){const e=_S(t);return wS.encodeByteArray(e,!0)},kf=function(t){return CN(t).replace(/\./g,"")},bS=function(t){try{return wS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!RN(n)||(t[n]=xf(t[n],e[n]));return t}function RN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=()=>PN().__FIREBASE_DEFAULTS__,xN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ON=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bS(t[1]);return e&&JSON.parse(e)},gp=()=>{try{return kN()||xN()||ON()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ES=t=>{var e,n;return(n=(e=gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},l_=t=>{const e=ES(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IS=()=>{var t;return(t=gp())===null||t===void 0?void 0:t.config},TS=t=>{var e;return(e=gp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[kf(JSON.stringify(n)),kf(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function SS(){var t;const e=(t=gp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LN(){return typeof self=="object"&&self.self===self}function CS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RS(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Of(){try{return typeof indexedDB=="object"}catch{return!1}}function MN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="FirebaseError";class Pn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=VN,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?FN(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Pn(s,c,i)}}function FN(t,e){return t.replace(UN,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const UN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(AI(o)&&AI(l)){if(!Nf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function AI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function cc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PS(t,e){const n=new jN(t,e);return n.subscribe.bind(n)}class jN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=pv),s.error===void 0&&(s.error=pv),s.complete===void 0&&(s.complete=pv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new NN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WN(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qN(t){return t===wo?void 0:t}function WN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=[];var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const kS={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},zN=Ye.INFO,GN={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},YN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=GN[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vp{constructor(e){this.name=e,this._logLevel=zN,this._logHandler=YN,this._userLogHandler=null,c_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}function JN(t){c_.forEach(e=>{e.setLogLevel(t)})}function QN(t,e){for(const n of c_){let i=null;e&&e.level&&(i=kS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(h=>{if(h==null)return null;if(typeof h=="string")return h;if(typeof h=="number"||typeof h=="boolean")return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch{return null}}).filter(h=>h).join(" ");o>=(i??s.logLevel)&&t({level:Ye[o].toLowerCase(),message:c,args:l,type:s.name})}}}const XN=(t,e)=>e.some(n=>t instanceof n);let SI,CI;function ZN(){return SI||(SI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return CI||(CI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xS=new WeakMap,Zv=new WeakMap,OS=new WeakMap,mv=new WeakMap,d_=new WeakMap;function tD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ks(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&xS.set(n,t)}).catch(()=>{}),d_.set(e,t),e}function nD(t){if(Zv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Zv.set(t,e)}let ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iD(t){ey=t(ey)}function rD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(gv(this),e,...n);return OS.set(i,e.sort?e.sort():[e]),ks(i)}:eD().includes(t)?function(...e){return t.apply(gv(this),e),ks(xS.get(this))}:function(...e){return ks(t.apply(gv(this),e))}}function sD(t){return typeof t=="function"?rD(t):(t instanceof IDBTransaction&&nD(t),XN(t,ZN())?new Proxy(t,ey):t)}function ks(t){if(t instanceof IDBRequest)return tD(t);if(mv.has(t))return mv.get(t);const e=sD(t);return e!==t&&(mv.set(t,e),d_.set(e,t)),e}const gv=t=>d_.get(t);function oD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=ks(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ks(l.result),h.oldVersion,h.newVersion,ks(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const aD=["get","getKey","getAll","getAllKeys","count"],lD=["put","add","delete","clear"],vv=new Map;function RI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vv.get(e))return vv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=lD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||aD.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return vv.set(e,o),o}iD(t=>({...t,get:(e,n,i)=>RI(e,n)||t.get(e,n,i),has:(e,n)=>!!RI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function cD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ty="@firebase/app",PI="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new vp("@firebase/app"),dD="@firebase/app-compat",hD="@firebase/analytics-compat",fD="@firebase/analytics",pD="@firebase/app-check-compat",mD="@firebase/app-check",gD="@firebase/auth",vD="@firebase/auth-compat",yD="@firebase/database",_D="@firebase/database-compat",wD="@firebase/functions",bD="@firebase/functions-compat",ED="@firebase/installations",ID="@firebase/installations-compat",TD="@firebase/messaging",AD="@firebase/messaging-compat",SD="@firebase/performance",CD="@firebase/performance-compat",RD="@firebase/remote-config",PD="@firebase/remote-config-compat",kD="@firebase/storage",xD="@firebase/storage-compat",OD="@firebase/firestore",ND="@firebase/firestore-compat",DD="firebase",LD="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]",MD={[ty]:"fire-core",[dD]:"fire-core-compat",[fD]:"fire-analytics",[hD]:"fire-analytics-compat",[mD]:"fire-app-check",[pD]:"fire-app-check-compat",[gD]:"fire-auth",[vD]:"fire-auth-compat",[yD]:"fire-rtdb",[_D]:"fire-rtdb-compat",[wD]:"fire-fn",[bD]:"fire-fn-compat",[ED]:"fire-iid",[ID]:"fire-iid-compat",[TD]:"fire-fcm",[AD]:"fire-fcm-compat",[SD]:"fire-perf",[CD]:"fire-perf-compat",[RD]:"fire-rc",[PD]:"fire-rc-compat",[kD]:"fire-gcs",[xD]:"fire-gcs-compat",[OD]:"fire-fst",[ND]:"fire-fst-compat","fire-js":"fire-js",[DD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Map,Lc=new Map;function Df(t,e){try{t.container.addComponent(e)}catch(n){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function NS(t,e){t.container.addOrOverwriteComponent(e)}function yr(t){const e=t.name;if(Lc.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;Lc.set(e,t);for(const n of Ls.values())Df(n,t);return!0}function Jo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VD(t,e,n=Ds){Jo(t,e).clearInstance(n)}function FD(){Lc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lr=new Yo("app","Firebase",UD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $D=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=LD;function yp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ds,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=IS()),!n)throw Lr.create("no-options");const o=Ls.get(s);if(o){if(Nf(n,o.options)&&Nf(i,o.config))return o;throw Lr.create("duplicate-app",{appName:s})}const l=new KN(s);for(const h of Lc.values())l.addComponent(h);const c=new $D(n,i,l);return Ls.set(s,c),c}function ud(t=Ds){const e=Ls.get(t);if(!e&&t===Ds&&IS())return yp();if(!e)throw Lr.create("no-app",{appName:t});return e}function jD(){return Array.from(Ls.values())}async function DS(t){const e=t.name;Ls.has(e)&&(Ls.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Zn(t,e,n){var i;let s=(i=MD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$o.warn(c.join(" "));return}yr(new Ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function LS(t,e){if(t!==null&&typeof t!="function")throw Lr.create("invalid-log-argument");QN(t,e)}function MS(t){JN(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebase-heartbeat-database",HD=1,Mc="firebase-heartbeat-store";let yv=null;function VS(){return yv||(yv=oD(BD,HD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mc)}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),yv}async function qD(t){try{return await(await VS()).transaction(Mc).objectStore(Mc).get(FS(t))}catch(e){if(e instanceof Pn)$o.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$o.warn(n.message)}}}async function kI(t,e){try{const i=(await VS()).transaction(Mc,"readwrite");await i.objectStore(Mc).put(e,FS(t)),await i.done}catch(n){if(n instanceof Pn)$o.warn(n.message);else{const i=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$o.warn(i.message)}}}function FS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1024,KD=30*24*60*60*1e3;class zD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=KD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xI(),{heartbeatsToSend:n,unsentEntries:i}=GD(this._heartbeatsCache.heartbeats),s=kf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function xI(){return new Date().toISOString().substring(0,10)}function GD(t,e=WD){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),OI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class YD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Of()?MN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await qD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function OI(t){return kf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){yr(new Ki("platform-logger",e=>new uD(e),"PRIVATE")),yr(new Ki("heartbeat",e=>new zD(e),"PRIVATE")),Zn(ty,PI,t),Zn(ty,PI,"esm2017"),Zn("fire-js","")}JD("");const QD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Pn,SDK_VERSION:Gr,_DEFAULT_ENTRY_NAME:Ds,_addComponent:Df,_addOrOverwriteComponent:NS,_apps:Ls,_clearComponents:FD,_components:Lc,_getProvider:Jo,_registerComponent:yr,_removeServiceInstance:VD,deleteApp:DS,getApp:ud,getApps:jD,initializeApp:yp,onLog:LS,registerVersion:Zn,setLogLevel:MS},Symbol.toStringTag,{value:"Module"}));function h_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const Zu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ha={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZD=XD,eL=US,$S=new Yo("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new vp("@firebase/auth");function tL(t,...e){Lf.logLevel<=Ye.WARN&&Lf.warn(`Auth (${Gr}): ${t}`,...e)}function yf(t,...e){Lf.logLevel<=Ye.ERROR&&Lf.error(`Auth (${Gr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw f_(t,...e)}function kn(t,...e){return f_(t,...e)}function jS(t,e,n){const i=Object.assign(Object.assign({},eL()),{[e]:n});return new Yo("auth","Firebase",i).create(e,{appName:t.name})}function Dl(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&_n(t,"argument-error"),jS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function f_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return $S.create(t,...e)}function X(t,e,...n){if(!t)throw f_(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function zi(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p_(){return NI()==="http:"||NI()==="https:"}function NI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p_()||CS()||"connection"in navigator)?navigator.onLine:!0}function iL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=DN()||u_()}get(){return nL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new cd(3e4,6e4);function Kt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function on(t,e,n,i,s={}){return HS(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Nl(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),BS.fetch()(qS(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function HS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},rL),e);try{const s=new aL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw dc(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw dc(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw dc(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw jS(t,p,f);_n(t,p)}}catch(s){if(s instanceof Pn)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function Yr(t,e,n,i,s={}){const o=await on(t,e,n,i,s);return"mfaPendingCredential"in o&&_n(t,"multi-factor-auth-required",{_serverResponse:o}),o}function qS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?m_(t.config,s):`${t.config.apiScheme}://${s}`}function oL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(kn(this.auth,"network-request-failed")),sL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=kn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){return t!==void 0&&t.getResponse!==void 0}function LI(t){return t!==void 0&&t.enterprise!==void 0}class lL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t){return(await on(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function cL(t,e){return on(t,"GET","/v2/recaptchaConfig",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dL(t,e){return on(t,"POST","/v1/accounts:delete",e)}async function hL(t,e){return on(t,"POST","/v1/accounts:update",e)}async function fL(t,e){return on(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pL(t,e=!1){const n=ke(t),i=await n.getIdToken(e),s=_p(i);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:bc(_v(s.auth_time)),issuedAtTime:bc(_v(s.iat)),expirationTime:bc(_v(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function _v(t){return Number(t)*1e3}function _p(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const s=bS(n);return s?JSON.parse(s):(yf("Failed to decode base64 JWT payload"),null)}catch(s){return yf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mL(t){const e=_p(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Pn&&gL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function gL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bc(this.lastLoginAt),this.creationTime=bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await $r(t,fL(n,{idToken:i}));X(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wL(o.providerUserInfo):[],c=_L(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new WS(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function yL(t){const e=ke(t);await Fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _L(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function wL(t){return t.map(e=>{var{providerId:n}=e,i=h_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){const n=await HS(t,{},async()=>{const i=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=qS(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",BS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return X(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await bL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Uc;return i&&(X(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(X(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(X(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class No{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=h_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new WS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $r(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pL(this,e)}reload(){return yL(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new No(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Fc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $r(this,dL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,h,f,p;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,R=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:k,emailVerified:x,isAnonymous:D,providerData:K,stsTokenManager:se}=n;X(k&&se,e,"internal-error");const q=Uc.fromJSON(this.name,se);X(typeof k=="string",e,"internal-error"),gs(v,e.name),gs(y,e.name),X(typeof x=="boolean",e,"internal-error"),X(typeof D=="boolean",e,"internal-error"),gs(b,e.name),gs(I,e.name),gs(_,e.name),gs(E,e.name),gs(T,e.name),gs(R,e.name);const ie=new No({uid:k,auth:e,email:y,emailVerified:x,displayName:v,isAnonymous:D,photoURL:I,phoneNumber:b,tenantId:_,stsTokenManager:q,createdAt:T,lastLoginAt:R});return K&&Array.isArray(K)&&(ie.providerData=K.map(ye=>Object.assign({},ye))),E&&(ie._redirectEventId=E),ie}static async _fromIdTokenResponse(e,n,i=!1){const s=new Uc;s.updateFromServerResponse(n);const o=new No({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Fc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Map;function wi(t){zi(t instanceof Function,"Expected a class definition");let e=MI.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KS.type="NONE";const dl=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e,n){return`firebase:${t}:${e}:${n}`}class Za{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Do(this.userKey,s.apiKey,o),this.fullPersistenceKey=Do("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?No._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Za(wi(dl),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||wi(dl);const l=Do(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){const v=No._fromJSON(e,p);f!==o&&(c=v),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Za(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Za(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JS(e))return"Blackberry";if(QS(e))return"Webos";if(g_(e))return"Safari";if((e.includes("chrome/")||GS(e))&&!e.includes("edge/"))return"Chrome";if(dd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zS(t=sn()){return/firefox\//i.test(t)}function g_(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GS(t=sn()){return/crios\//i.test(t)}function YS(t=sn()){return/iemobile/i.test(t)}function dd(t=sn()){return/android/i.test(t)}function JS(t=sn()){return/blackberry/i.test(t)}function QS(t=sn()){return/webos/i.test(t)}function Ll(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EL(t=sn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function IL(t=sn()){var e;return Ll(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TL(){return RS()&&document.documentMode===10}function XS(t=sn()){return Ll(t)||dd(t)||QS(t)||JS(t)||/windows phone/i.test(t)||YS(t)}function AL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e=[]){let n;switch(t){case"Browser":n=VI(sn());break;case"Worker":n=`${VI(sn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e={}){return on(t,"GET","/v2/passwordPolicy",Kt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=6;class PL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:RL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FI(this),this.idTokenSubscription=new FI(this),this.beforeStateQueue=new SL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ke(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CL(this),n=new PL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Yo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ft(t){return ke(t)}class FI{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function v_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=kn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",xL().appendChild(i)})}function eC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OL="https://www.google.com/recaptcha/enterprise.js?render=",NL="recaptcha-enterprise",DL="NO_RECAPTCHA";class LL{constructor(e){this.type=NL,this.auth=Ft(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{cL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new lL(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;LI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(DL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&LI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}v_(OL+c).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function UI(t,e,n,i=!1){const s=new LL(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function wp(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await UI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await UI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e){const n=Jo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Nf(o,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function VL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tC(t,e,n){const i=Ft(t);X(i._canInitEmulator,i,"emulator-config-failed"),X(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=nC(e),{host:l,port:c}=FL(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||UL()}function nC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FL(t){const e=nC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:$I(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:$I(l)}}}function $I(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e){return on(t,"POST","/v1/accounts:resetPassword",Kt(t,e))}async function rC(t,e){return on(t,"POST","/v1/accounts:update",e)}async function $L(t,e){return on(t,"POST","/v1/accounts:update",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e){return Yr(t,"POST","/v1/accounts:signInWithPassword",Kt(t,e))}async function bp(t,e){return on(t,"POST","/v1/accounts:sendOobCode",Kt(t,e))}async function BL(t,e){return bp(t,e)}async function HL(t,e){return bp(t,e)}async function qL(t,e){return bp(t,e)}async function WL(t,e){return bp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return Yr(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}async function zL(t,e){return Yr(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Ml{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $c(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new $c(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wp(e,n,"signInWithPassword",jL);case"emailLink":return KL(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return rC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return zL(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(t,e){return Yr(t,"POST","/v1/accounts:signInWithIdp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="http://localhost";class _r extends Ml{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=h_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new _r(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Mr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mr(e,n)}buildRequest(){const e={requestUri:GL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e){return on(t,"POST","/v1/accounts:sendVerificationCode",Kt(t,e))}async function JL(t,e){return Yr(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e))}async function QL(t,e){const n=await Yr(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e));if(n.temporaryProof)throw dc(t,"account-exists-with-different-credential",n);return n}const XL={USER_NOT_FOUND:"user-not-found"};async function ZL(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Yr(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,n),XL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Ml{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Lo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Lo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return JL(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return QL(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return ZL(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new Lo({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tM(t){const e=Qa(cc(t)).link,n=e?Qa(cc(e)).deep_link_id:null,i=Qa(cc(t)).deep_link_id;return(i?Qa(cc(i)).link:null)||i||n||e||t}class Ep{constructor(e){var n,i,s,o,l,c;const h=Qa(cc(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=eM((s=h.mode)!==null&&s!==void 0?s:null);X(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=tM(e);try{return new Ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.providerId=Bs.PROVIDER_ID}static credential(e,n){return $c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ep.parseLink(n);return X(i,"argument-error"),$c._fromEmailAndCode(e,i.code,i.tenantId)}}Bs.PROVIDER_ID="password";Bs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class el extends Vl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return X("providerId"in n&&"signInMethod"in n,"argument-error"),_r._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return X(e.idToken||e.accessToken,"argument-error"),_r._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return el.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return el.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new el(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Vl{constructor(){super("facebook.com")}static credential(e){return _r._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _r._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Vl{constructor(){super("github.com")}static credential(e){return _r._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="http://localhost";class hl extends Ml{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Mr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new hl(i,o)}static _create(e,n){return new hl(e,n)}buildRequest(){return{requestUri:nM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="saml.";class Mf extends Jr{constructor(e){X(e.startsWith(iM),"argument-error"),super(e)}static credentialFromResult(e){return Mf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Mf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=hl.fromJSON(e);return X(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return hl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Vl{constructor(){super("twitter.com")}static credential(e,n){return _r._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return cr.credential(n,i)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t,e){return Yr(t,"POST","/v1/accounts:signUp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await No._fromIdTokenResponse(e,i,s),l=jI(i);return new Ni({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=jI(i);return new Ni({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function jI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t){var e;const n=Ft(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ni({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await sC(n,{returnSecureToken:!0}),s=await Ni._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Pn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Vf(e,n,i,s)}}function oC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){const n=ke(t);await Ip(!0,n,e);const{providerUserInfo:i}=await hL(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=aC(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function y_(t,e,n=!1){const i=await $r(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ni._forOperation(t,"link",i)}async function Ip(t,e,n){await Fc(e);const i=aC(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";X(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await $r(t,oC(i,s,e,t),n);X(o.idToken,i,"internal-error");const l=_p(o.idToken);X(l,i,"internal-error");const{sub:c}=l;return X(t.uid===c,i,"user-mismatch"),Ni._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_n(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e,n=!1){const i="signIn",s=await oC(t,i,e),o=await Ni._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function Tp(t,e){return uC(Ft(t),e)}async function cC(t,e){const n=ke(t);return await Ip(!1,n,e.providerId),y_(n,e)}async function dC(t,e){return lC(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){return Yr(t,"POST","/v1/accounts:signInWithCustomToken",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){const n=Ft(t),i=await oM(n,{token:e,returnSecureToken:!0}),s=await Ni._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?__._fromServerResponse(e,n):"totpInfo"in n?w_._fromServerResponse(e,n):_n(e,"internal-error")}}class __ extends hd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new __(n)}}class w_ extends hd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new w_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e,n){var i;X(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(t){const e=Ft(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lM(t,e,n){const i=Ft(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Ap(i,s,n),await wp(i,s,"getOobCode",HL)}async function uM(t,e,n){await iC(ke(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&b_(t),i})}async function cM(t,e){await $L(ke(t),{oobCode:e})}async function hC(t,e){const n=ke(t),i=await iC(n,{oobCode:e}),s=i.requestType;switch(X(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(i.mfaInfo,n,"internal-error");default:X(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=hd._fromServerResponse(Ft(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function dM(t,e){const{data:n}=await hC(ke(t),e);return n.email}async function hM(t,e,n){const i=Ft(t),l=await wp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sC).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&b_(t),h}),c=await Ni._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function fM(t,e,n){return Tp(ke(t),Bs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&b_(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e,n){const i=Ft(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){X(c.handleCodeInApp,i,"argument-error"),c&&Ap(i,l,c)}o(s,n),await wp(i,s,"getOobCode",qL)}function mM(t,e){const n=Ep.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function gM(t,e,n){const i=ke(t),s=Bs.credentialWithLink(e,n||Vc());return X(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Tp(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return on(t,"POST","/v1/accounts:createAuthUri",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){const n=p_()?Vc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await vM(ke(t),i);return s||[]}async function _M(t,e){const n=ke(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Ap(n.auth,s,e);const{email:o}=await BL(n.auth,s);o!==t.email&&await t.reload()}async function wM(t,e,n){const i=ke(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Ap(i.auth,o,n);const{email:l}=await WL(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e){return on(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=ke(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await $r(i,bM(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function IM(t,e){return fC(ke(t),e,null)}function TM(t,e){return fC(ke(t),null,e)}async function fC(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await $r(t,rC(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=_p(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new tl(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new SM(o,s);case"github.com":return new CM(o,s);case"google.com":return new RM(o,s);case"twitter.com":return new PM(o,s,t.screenName||null);case"custom":case"anonymous":return new tl(o,null);default:return new tl(o,i,s)}}class tl{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class pC extends tl{constructor(e,n,i,s){super(e,n,i),this.username=s}}class SM extends tl{constructor(e,n){super(e,"facebook.com",n)}}class CM extends pC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class RM extends tl{constructor(e,n){super(e,"google.com",n)}}class PM extends pC{constructor(e,n,i){super(e,"twitter.com",n,i)}}function kM(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:AM(n)}function xM(t,e,n,i){return ke(t).onIdTokenChanged(e,n,i)}function OM(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function NM(t,e,n,i){return ke(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new So("enroll",e,n)}static _fromMfaPendingCredential(e){return new So("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return So._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return So._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Ft(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>hd._fromServerResponse(i,c));X(s.mfaPendingCredential,i,"internal-error");const l=So._fromMfaPendingCredential(s.mfaPendingCredential);return new E_(l,o,async c=>{const h=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:h.idToken,refreshToken:h.refreshToken});switch(n.operationType){case"signIn":const p=await Ni._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(p.user),p;case"reauthenticate":return X(n.user,i,"internal-error"),Ni._forOperation(n.user,n.operationType,f);default:_n(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function DM(t,e){var n;const i=ke(t),s=e;return X(e.customData.operationType,i,"argument-error"),X((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),E_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e){return on(t,"POST","/v2/accounts/mfaEnrollment:start",Kt(t,e))}function MM(t,e){return on(t,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(t,e))}function VM(t,e){return on(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(t,e))}class I_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>hd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new I_(e)}async getSession(){return So._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await $r(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await $r(this.user,VM(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const wv=new WeakMap;function FM(t){const e=ke(t);return wv.has(e)||wv.set(e,I_._fromUser(e)),wv.get(e)}const Ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){const t=sn();return g_(t)||Ll(t)}const $M=1e3,jM=10;class gC extends mC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=UM()&&AL(),this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);TL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jM):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},$M)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gC.type="LOCAL";const Sp=gC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends mC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vC.type="SESSION";const Ms=vC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Cp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await BM(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=fd("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return window}function qM(t){Zt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function WM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zM(){return T_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebaseLocalStorageDb",GM=1,Uf="firebaseLocalStorage",_C="fbase_key";class pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rp(t,e){return t.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function YM(){const t=indexedDB.deleteDatabase(yC);return new pd(t).toPromise()}function ny(){const t=indexedDB.open(yC,GM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Uf,{keyPath:_C})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Uf)?e(i):(i.close(),await YM(),e(await ny()))})})}async function BI(t,e,n){const i=Rp(t,!0).put({[_C]:e,value:n});return new pd(i).toPromise()}async function JM(t,e){const n=Rp(t,!1).get(e),i=await new pd(n).toPromise();return i===void 0?null:i.value}function HI(t,e){const n=Rp(t,!0).delete(e);return new pd(n).toPromise()}const QM=800,XM=3;class wC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>XM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cp._getInstance(zM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WM(),!this.activeServiceWorker)return;this.sender=new HM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await BI(e,Ff,"1"),await HI(e,Ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>BI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>JM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Rp(s,!1).getAll();return new pd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wC.type="LOCAL";const fl=wC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e){return on(t,"POST","/v2/accounts/mfaSignIn:start",Kt(t,e))}function eV(t,e){return on(t,"POST","/v2/accounts/mfaSignIn:finalize",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=500,nV=6e4,Jh=1e12;class iV{constructor(e){this.auth=e,this.counter=Jh,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new rV(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||Jh;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||Jh;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||Jh;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class rV{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;X(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=sV(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},nV)},tV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function sV(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=eC("rcb"),oV=new cd(3e4,6e4),aV="https://www.google.com/recaptcha/api.js?";class lV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Zt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return X(uV(n),e,"argument-error"),this.shouldResolveImmediately(n)&&DI(Zt().grecaptcha)?Promise.resolve(Zt().grecaptcha):new Promise((i,s)=>{const o=Zt().setTimeout(()=>{s(kn(e,"network-request-failed"))},oV.get());Zt()[bv]=()=>{Zt().clearTimeout(o),delete Zt()[bv];const c=Zt().grecaptcha;if(!c||!DI(c)){s(kn(e,"internal-error"));return}const h=c.render;c.render=(f,p)=>{const v=h(f,p);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${aV}?${Nl({onload:bv,render:"explicit",hl:n})}`;v_(l).catch(()=>{clearTimeout(o),s(kn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Zt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function uV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class cV{async load(e){return new iV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="recaptcha",dV={theme:"light",type:"image"};let hV=class{constructor(e,n,i=Object.assign({},dV)){this.parameters=i,this.type=bC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ft(e),this.isInvisible=this.parameters.size==="invisible",X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;X(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cV:new lV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=Zt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){X(p_()&&!T_(),this.auth,"internal-error"),await fV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await uL(this.auth);X(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function fV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Lo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function pV(t,e,n){const i=Ft(t),s=await Pp(i,e,ke(n));return new A_(s,o=>Tp(i,o))}async function mV(t,e,n){const i=ke(t);await Ip(!1,i,"phone");const s=await Pp(i.auth,e,ke(n));return new A_(s,o=>cC(i,o))}async function gV(t,e,n){const i=ke(t),s=await Pp(i.auth,e,ke(n));return new A_(s,o=>dC(i,o))}async function Pp(t,e,n){var i;const s=await n.verify();try{X(typeof s=="string",t,"argument-error"),X(n.type===bC,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return X(l.type==="enroll",t,"internal-error"),(await LM(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{X(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return X(c,t,"missing-multi-factor-info"),(await ZM(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await YL(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function vV(t,e){await y_(ke(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=class _f{constructor(e){this.providerId=_f.PROVIDER_ID,this.auth=Ft(e)}verifyPhoneNumber(e,n){return Pp(this.auth,e,ke(n))}static credential(e,n){return Lo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return _f.credentialFromTaggedObject(n)}static credentialFromError(e){return _f.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Lo._fromTokenResponse(n,i):null}};jo.PROVIDER_ID="phone";jo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,e){return e?wi(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends Ml{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yV(t){return uC(t.auth,new S_(t),t.bypassAuthState)}function _V(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),lC(n,new S_(t),t.bypassAuthState)}async function wV(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),y_(n,new S_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yV;case"linkViaPopup":case"linkViaRedirect":return wV;case"reauthViaPopup":case"reauthViaRedirect":return _V;default:_n(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new cd(2e3,1e4);async function EV(t,e,n){const i=Ft(t);Dl(t,e,Jr);const s=Qo(i,n);return new xr(i,"signInViaPopup",e,s).executeNotNull()}async function IV(t,e,n){const i=ke(t);Dl(i.auth,e,Jr);const s=Qo(i.auth,n);return new xr(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function TV(t,e,n){const i=ke(t);Dl(i.auth,e,Jr);const s=Qo(i.auth,n);return new xr(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class xr extends EC{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,xr.currentPopupAction&&xr.currentPopupAction.cancel(),xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=fd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bV.get())};e()}}xr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="pendingRedirect",Ec=new Map;class SV extends EC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const i=await CV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CV(t,e){const n=TC(e),i=IC(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function C_(t,e){return IC(t)._set(TC(e),"true")}function RV(){Ec.clear()}function R_(t,e){Ec.set(t._key(),e)}function IC(t){return wi(t._redirectPersistence)}function TC(t){return Do(AV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e,n){return kV(t,e,n)}async function kV(t,e,n){const i=Ft(t);Dl(t,e,Jr),await i._initializationPromise;const s=Qo(i,n);return await C_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function xV(t,e,n){return OV(t,e,n)}async function OV(t,e,n){const i=ke(t);Dl(i.auth,e,Jr),await i.auth._initializationPromise;const s=Qo(i.auth,n);await C_(s,i.auth);const o=await AC(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function NV(t,e,n){return DV(t,e,n)}async function DV(t,e,n){const i=ke(t);Dl(i.auth,e,Jr),await i.auth._initializationPromise;const s=Qo(i.auth,n);await Ip(!1,i,e.providerId),await C_(s,i.auth);const o=await AC(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function LV(t,e){return await Ft(t)._initializationPromise,kp(t,e,!1)}async function kp(t,e,n=!1){const i=Ft(t),s=Qo(i,e),l=await new SV(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function AC(t){const e=fd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=10*60*1e3;class SC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!CC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MV&&this.cachedEventUids.clear(),this.cachedEventUids.has(qI(e))}saveEventToCache(e){this.cachedEventUids.add(qI(e)),this.lastProcessedEventTime=Date.now()}}function qI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e={}){return on(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UV=/^https?/;async function $V(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RC(t);for(const n of e)try{if(jV(n))return}catch{}_n(t,"unauthorized-domain")}function jV(t){const e=Vc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!UV.test(n))return!1;if(FV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new cd(3e4,6e4);function WI(){const t=Zt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HV(t){return new Promise((e,n)=>{var i,s,o;function l(){WI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WI(),n(kn(t,"network-request-failed"))},timeout:BV.get()})}if(!((s=(i=Zt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Zt().gapi)===null||o===void 0)&&o.load)l();else{const c=eC("iframefcb");return Zt()[c]=()=>{gapi.load?l():n(kn(t,"network-request-failed"))},v_(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw wf=null,e})}let wf=null;function qV(t){return wf=wf||HV(t),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new cd(5e3,15e3),KV="__/auth/iframe",zV="emulator/auth/iframe",GV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JV(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m_(e,zV):`https://${t.config.authDomain}/${KV}`,i={apiKey:e.apiKey,appName:t.name,v:Gr},s=YV.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Nl(i).slice(1)}`}async function QV(t){const e=await qV(t),n=Zt().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:JV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=kn(t,"network-request-failed"),c=Zt().setTimeout(()=>{o(l)},WV.get());function h(){Zt().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,e4=600,t4="_blank",n4="http://localhost";class KI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(t,e,n,i=ZV,s=e4){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},XV),{width:i.toString(),height:s.toString(),top:o,left:l}),f=sn().toLowerCase();n&&(c=GS(f)?t4:n),zS(f)&&(e=e||n4,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[b,I])=>`${y}${b}=${I},`,"");if(IL(f)&&c!=="_self")return r4(e||"",c),new KI(null);const v=window.open(e||"",c,p);X(v,t,"popup-blocked");try{v.focus()}catch{}return new KI(v)}function r4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="__/auth/handler",o4="emulator/auth/handler",a4=encodeURIComponent("fac");async function iy(t,e,n,i,s,o){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Gr,eventId:s};if(e instanceof Jr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",$N(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(o||{}))l[p]=v}if(e instanceof Vl){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${a4}=${encodeURIComponent(h)}`:"";return`${l4(t)}?${Nl(c).slice(1)}${f}`}function l4({config:t}){return t.emulator?m_(t,o4):`https://${t.authDomain}/${s4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="webStorageSupport";class u4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=kp,this._overrideRedirectResult=R_}async _openPopup(e,n,i,s){var o;zi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await iy(e,n,i,Vc(),s);return i4(e,l,fd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await iy(e,n,i,Vc(),s);return qM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(zi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QV(e),i=new SC(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ev,{type:Ev},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Ev];l!==void 0&&n(!!l),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$V(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XS()||g_()||Ll()}}const PC=u4;class c4{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return fr("unexpected MultiFactorSessionType")}}}class P_ extends c4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new P_(e)}_finalizeEnroll(e,n,i){return MM(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return eV(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kC{constructor(){}static assertion(e){return P_._fromCredential(e)}}kC.FACTOR_ID="phone";var zI="@firebase/auth",GI="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function f4(t){yr(new Ki("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;X(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZS(t)},f=new kL(i,s,o,h);return VL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),yr(new Ki("auth-internal",e=>{const n=Ft(e.getProvider("auth").getImmediate());return(i=>new d4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(zI,GI,h4(t)),Zn(zI,GI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=5*60,m4=TS("authIdTokenMaxAge")||p4;let YI=null;const g4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>m4)return;const s=n==null?void 0:n.token;YI!==s&&(YI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xC(t=ud()){const e=Jo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ML(t,{popupRedirectResolver:PC,persistence:[fl,Sp,Ms]}),i=TS("authTokenSyncURL");if(i){const o=g4(i);OM(n,o,()=>o(n.currentUser)),xM(n,l=>o(l))}const s=ES("auth");return s&&tC(n,`http://${s}`),n}f4("Browser");var v4="firebase",y4="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(v4,y4,"app");var _4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue,k_=k_||{},Me=_4||self;function xp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function md(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function w4(t){return Object.prototype.hasOwnProperty.call(t,Iv)&&t[Iv]||(t[Iv]=++b4)}var Iv="closure_uid_"+(1e9*Math.random()>>>0),b4=0;function E4(t,e,n){return t.call.apply(t.bind,arguments)}function I4(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Un=E4:Un=I4,Un.apply(null,arguments)}function Qh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Hs(){this.s=this.s,this.o=this.o}var T4=0;Hs.prototype.s=!1;Hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),T4!=0)&&w4(this)};Hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const OC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function x_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function JI(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(xp(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function $n(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$n.prototype.h=function(){this.defaultPrevented=!0};var A4=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Me.addEventListener("test",()=>{},e),Me.removeEventListener("test",()=>{},e)}catch{}return t}();function jc(t){return/^[\s\xa0]*$/.test(t)}function Op(){var t=Me.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return Op().indexOf(t)!=-1}function O_(t){return O_[" "](t),t}O_[" "]=function(){};function S4(t,e){var n=yF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var C4=dr("Opera"),pl=dr("Trident")||dr("MSIE"),NC=dr("Edge"),ry=NC||pl,DC=dr("Gecko")&&!(Op().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),R4=Op().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function LC(){var t=Me.document;return t?t.documentMode:void 0}var sy;e:{var Tv="",Av=function(){var t=Op();if(DC)return/rv:([^\);]+)(\)|;)/.exec(t);if(NC)return/Edge\/([\d\.]+)/.exec(t);if(pl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(R4)return/WebKit\/(\S+)/.exec(t);if(C4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Av&&(Tv=Av?Av[1]:""),pl){var Sv=LC();if(Sv!=null&&Sv>parseFloat(Tv)){sy=String(Sv);break e}}sy=Tv}var oy;if(Me.document&&pl){var QI=LC();oy=QI||parseInt(sy,10)||void 0}else oy=void 0;var P4=oy;function Bc(t,e){if($n.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DC){e:{try{O_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:k4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bc.$.h.call(this)}}bn(Bc,$n);var k4={2:"touch",3:"pen",4:"mouse"};Bc.prototype.h=function(){Bc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),x4=0;function O4(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++x4,this.fa=this.ia=!1}function Np(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function N_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function N4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function MC(t){const e={};for(const n in t)e[n]=t[n];return e}const XI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VC(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<XI.length;o++)n=XI[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Dp(t){this.src=t,this.g={},this.h=0}Dp.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=ly(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new O4(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function ay(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=OC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(Np(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ly(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var D_="closure_lm_"+(1e6*Math.random()|0),Cv={};function FC(t,e,n,i,s){if(i&&i.once)return $C(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)FC(t,e[o],n,i,s);return null}return n=V_(n),t&&t[gd]?t.O(e,n,md(i)?!!i.capture:!!i,s):UC(t,e,n,!1,i,s)}function UC(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=md(s)?!!s.capture:!!s,c=M_(t);if(c||(t[D_]=c=new Dp(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=D4(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)A4||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(BC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function D4(){function t(n){return e.call(t.src,t.listener,n)}const e=L4;return t}function $C(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)$C(t,e[o],n,i,s);return null}return n=V_(n),t&&t[gd]?t.P(e,n,md(i)?!!i.capture:!!i,s):UC(t,e,n,!0,i,s)}function jC(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)jC(t,e[o],n,i,s);else i=md(i)?!!i.capture:!!i,n=V_(n),t&&t[gd]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ly(o,n,i,s),-1<n&&(Np(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=M_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ly(e,n,i,s)),(n=-1<t?e[t]:null)&&L_(n))}function L_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gd])ay(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(BC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=M_(e))?(ay(n,t),n.h==0&&(n.src=null,e[D_]=null)):Np(t)}}}function BC(t){return t in Cv?Cv[t]:Cv[t]="on"+t}function L4(t,e){if(t.fa)t=!0;else{e=new Bc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&L_(t),t=n.call(i,e)}return t}function M_(t){return t=t[D_],t instanceof Dp?t:null}var Rv="__closure_events_fn_"+(1e9*Math.random()>>>0);function V_(t){return typeof t=="function"?t:(t[Rv]||(t[Rv]=function(e){return t.handleEvent(e)}),t[Rv])}function wn(){Hs.call(this),this.i=new Dp(this),this.S=this,this.J=null}bn(wn,Hs);wn.prototype[gd]=!0;wn.prototype.removeEventListener=function(t,e,n,i){jC(this,t,e,n,i)};function xn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new $n(e,t);else if(e instanceof $n)e.target=e.target||t;else{var s=e;e=new $n(i,t),VC(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=Xh(l,i,!0,e)&&s}if(l=e.g=t,s=Xh(l,i,!0,e)&&s,s=Xh(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=Xh(l,i,!1,e)&&s}wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Np(n[i]);delete t.g[e],t.h--}}this.J=null};wn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};wn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Xh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&ay(t.i,l),s=c.call(h,i)!==!1&&s}}return s&&!i.defaultPrevented}var F_=Me.JSON.stringify;class M4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function V4(){var t=U_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class F4{constructor(){this.h=this.g=null}add(e,n){const i=HC.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var HC=new M4(()=>new U4,t=>t.reset());class U4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function j4(t){Me.setTimeout(()=>{throw t},0)}let Hc,qc=!1,U_=new F4,qC=()=>{const t=Me.Promise.resolve(void 0);Hc=()=>{t.then(B4)}};var B4=()=>{for(var t;t=V4();){try{t.h.call(t.g)}catch(n){j4(n)}var e=HC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qc=!1};function Lp(t,e){wn.call(this),this.h=t||1,this.g=e||Me,this.j=Un(this.qb,this),this.l=Date.now()}bn(Lp,wn);ue=Lp.prototype;ue.ga=!1;ue.T=null;ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&($_(this),this.start()))}};ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ue.N=function(){Lp.$.N.call(this),$_(this),delete this.g};function j_(t,e,n){if(typeof t=="function")n&&(t=Un(t,n));else if(t&&typeof t.handleEvent=="function")t=Un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Me.setTimeout(t,e||0)}function WC(t){t.g=j_(()=>{t.g=null,t.i&&(t.i=!1,WC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class H4 extends Hs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WC(this)}N(){super.N(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(t){Hs.call(this),this.h=t,this.g={}}bn(Wc,Hs);var ZI=[];function KC(t,e,n,i){Array.isArray(n)||(n&&(ZI[0]=n.toString()),n=ZI);for(var s=0;s<n.length;s++){var o=FC(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function zC(t){N_(t.g,function(e,n){this.g.hasOwnProperty(n)&&L_(e)},t),t.g={}}Wc.prototype.N=function(){Wc.$.N.call(this),zC(this)};Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mp(){this.g=!0}Mp.prototype.Ea=function(){this.g=!1};function q4(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");l=2<=v.length&&v[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function W4(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function Xa(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+z4(t,n)+(i?" "+i:"")})}function K4(t,e){t.info(function(){return"TIMEOUT: "+e})}Mp.prototype.info=function(){};function z4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return F_(n)}catch{return e}}var Xo={},eT=null;function Vp(){return eT=eT||new wn}Xo.Ta="serverreachability";function GC(t){$n.call(this,Xo.Ta,t)}bn(GC,$n);function Kc(t){const e=Vp();xn(e,new GC(e))}Xo.STAT_EVENT="statevent";function YC(t,e){$n.call(this,Xo.STAT_EVENT,t),this.stat=e}bn(YC,$n);function Qn(t){const e=Vp();xn(e,new YC(e,t))}Xo.Ua="timingevent";function JC(t,e){$n.call(this,Xo.Ua,t),this.size=e}bn(JC,$n);function vd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){t()},e)}var Fp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function B_(){}B_.prototype.h=null;function tT(t){return t.h||(t.h=t.i())}function XC(){}var yd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function H_(){$n.call(this,"d")}bn(H_,$n);function q_(){$n.call(this,"c")}bn(q_,$n);var uy;function Up(){}bn(Up,B_);Up.prototype.g=function(){return new XMLHttpRequest};Up.prototype.i=function(){return{}};uy=new Up;function _d(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Wc(this),this.P=G4,t=ry?125:void 0,this.V=new Lp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZC}function ZC(){this.i=null,this.g="",this.h=!1}var G4=45e3,cy={},$f={};ue=_d.prototype;ue.setTimeout=function(t){this.P=t};function dy(t,e,n){t.L=1,t.v=jp(jr(e)),t.s=n,t.S=!0,eR(t,null)}function eR(t,e){t.G=Date.now(),wd(t),t.A=jr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),lR(n.i,"t",i),t.C=0,n=t.l.J,t.h=new ZC,t.g=PR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new H4(Un(t.Pa,t,t.g),t.O)),KC(t.U,t.g,"readystatechange",t.nb),e=t.I?MC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Kc(),q4(t.j,t.u,t.A,t.m,t.W,t.s)}ue.nb=function(t){t=t.target;const e=this.M;e&&pr(t)==3?e.l():this.Pa(t)};ue.Pa=function(t){try{if(t==this.g)e:{const p=pr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||ry||this.g&&(this.h.h||this.g.ja()||sT(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Kc(3):Kc(2)),$p(this);var n=this.g.da();this.ca=n;t:if(tR(this)){var i=sT(this.g);t="";var s=i.length,o=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Co(this),Ic(this);var l="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,W4(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jc(c)){var f=c;break t}}f=null}if(n=f)Xa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hy(this,n);else{this.i=!1,this.o=3,Qn(12),Co(this),Ic(this);break e}}this.S?(nR(this,p,l),ry&&this.i&&p==3&&(KC(this.U,this.V,"tick",this.mb),this.V.start())):(Xa(this.j,this.m,l,null),hy(this,l)),p==4&&Co(this),this.i&&!this.J&&(p==4?AR(this.l,this):(this.i=!1,wd(this)))}else mF(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),Co(this),Ic(this)}}}catch{}finally{}};function tR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function nR(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=Y4(t,n),s==$f){e==4&&(t.o=4,Qn(14),i=!1),Xa(t.j,t.m,null,"[Incomplete Response]");break}else if(s==cy){t.o=4,Qn(15),Xa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Xa(t.j,t.m,s,null),hy(t,s);tR(t)&&s!=$f&&s!=cy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Qn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),J_(e),e.M=!0,Qn(11))):(Xa(t.j,t.m,n,"[Invalid Chunked Response]"),Co(t),Ic(t))}ue.mb=function(){if(this.g){var t=pr(this.g),e=this.g.ja();this.C<e.length&&($p(this),nR(this,t,e),this.i&&t!=4&&wd(this))}};function Y4(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?$f:(n=Number(e.substring(n,i)),isNaN(n)?cy:(i+=1,i+n>e.length?$f:(e=e.slice(i,i+n),t.C=i+n,e)))}ue.cancel=function(){this.J=!0,Co(this)};function wd(t){t.Y=Date.now()+t.P,iR(t,t.P)}function iR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=vd(Un(t.lb,t),e)}function $p(t){t.B&&(Me.clearTimeout(t.B),t.B=null)}ue.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(K4(this.j,this.A),this.L!=2&&(Kc(),Qn(17)),Co(this),this.o=2,Ic(this)):iR(this,this.Y-t)};function Ic(t){t.l.H==0||t.J||AR(t.l,t)}function Co(t){$p(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$_(t.V),zC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function hy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||fy(n.i,t))){if(!t.K&&fy(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hf(n),qp(n);else break e;Y_(n),Qn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=vd(Un(n.ib,n),6e3));if(1>=dR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ro(n,11)}else if((t.K||n.g==t)&&Hf(n),!jc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const b=t.g;if(b){const I=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var o=i.i;o.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(W_(o,o.h),o.h=null))}if(i.F){const _=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Tt(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=RR(i,i.J?i.pa:null,i.Y),l.K){hR(i.i,l);var c=l,h=i.L;h&&c.setTimeout(h),c.B&&($p(c),wd(c)),i.g=l}else IR(i);0<n.j.length&&Wp(n)}else f[0]!="stop"&&f[0]!="close"||Ro(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Ro(n,7):G_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Kc(4)}catch{}}function J4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Q4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function rR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Q4(t),i=J4(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var sR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Mo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mo){this.h=t.h,jf(this,t.j),this.s=t.s,this.g=t.g,Bf(this,t.m),this.l=t.l;var e=t.i,n=new zc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),nT(this,n),this.o=t.o}else t&&(e=String(t).match(sR))?(this.h=!1,jf(this,e[1]||"",!0),this.s=hc(e[2]||""),this.g=hc(e[3]||"",!0),Bf(this,e[4]),this.l=hc(e[5]||"",!0),nT(this,e[6]||"",!0),this.o=hc(e[7]||"")):(this.h=!1,this.i=new zc(null,this.h))}Mo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fc(e,iT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fc(e,iT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fc(n,n.charAt(0)=="/"?tF:eF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fc(n,iF)),t.join("")};function jr(t){return new Mo(t)}function jf(t,e,n){t.j=n?hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function nT(t,e,n){e instanceof zc?(t.i=e,rF(t.i,t.h)):(n||(e=fc(e,nF)),t.i=new zc(e,t.h))}function Tt(t,e,n){t.i.set(e,n)}function jp(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Z4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Z4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iT=/[#\/\?@]/g,eF=/[#\?:]/g,tF=/[#\?]/g,nF=/[#\?@]/g,iF=/#/g;function zc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qs(t){t.g||(t.g=new Map,t.h=0,t.i&&X4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ue=zc.prototype;ue.add=function(t,e){qs(this),this.i=null,t=Fl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oR(t,e){qs(t),e=Fl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aR(t,e){return qs(t),e=Fl(t,e),t.g.has(e)}ue.forEach=function(t,e){qs(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};ue.ta=function(){qs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};ue.Z=function(t){qs(this);let e=[];if(typeof t=="string")aR(this,t)&&(e=e.concat(this.g.get(Fl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ue.set=function(t,e){return qs(this),this.i=null,t=Fl(this,t),aR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function lR(t,e,n){oR(t,e),0<n.length&&(t.i=null,t.g.set(Fl(t,e),x_(n)),t.h+=n.length)}ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Fl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function rF(t,e){e&&!t.j&&(qs(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(oR(this,i),lR(this,s,n))},t)),t.j=e}var sF=class{constructor(t,e){this.g=t,this.map=e}};function uR(t){this.l=t||oF,Me.PerformanceNavigationTiming?(t=Me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Me.g&&Me.g.Ka&&Me.g.Ka()&&Me.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oF=10;function cR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dR(t){return t.h?1:t.g?t.g.size:0}function fy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W_(t,e){t.g?t.g.add(e):t.h=e}function hR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}uR.prototype.cancel=function(){if(this.i=fR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function fR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return x_(t.i)}var aF=class{stringify(t){return Me.JSON.stringify(t,void 0)}parse(t){return Me.JSON.parse(t,void 0)}};function lF(){this.g=new aF}function uF(t,e,n){const i=n||"";try{rR(t,function(s,o){let l=s;md(s)&&(l=F_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function cF(t,e){const n=new Mp;if(Me.Image){const i=new Image;i.onload=Qh(Zh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Qh(Zh,n,i,"TestLoadImage: error",!1,e),i.onabort=Qh(Zh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Qh(Zh,n,i,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Zh(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function bd(t){this.l=t.ec||null,this.j=t.ob||!1}bn(bd,B_);bd.prototype.g=function(){return new Bp(this.l,this.j)};bd.prototype.i=function(t){return function(){return t}}({});function Bp(t,e){wn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=K_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn(Bp,wn);var K_=0;ue=Bp.prototype;ue.open=function(t,e){if(this.readyState!=K_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gc(this)};ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ed(this)),this.readyState=K_};ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ed(this):Gc(this),this.readyState==3&&pR(this)}};ue.Za=function(t){this.g&&(this.response=this.responseText=t,Ed(this))};ue.Ya=function(t){this.g&&(this.response=t,Ed(this))};ue.ka=function(){this.g&&Ed(this)};function Ed(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gc(t)}ue.setRequestHeader=function(t,e){this.v.append(t,e)};ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dF=Me.JSON.parse;function Ut(t){wn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mR,this.L=this.M=!1}bn(Ut,wn);var mR="",hF=/^https?$/i,fF=["POST","PUT"];ue=Ut.prototype;ue.Oa=function(t){this.M=t};ue.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uy.g(),this.C=this.u?tT(this.u):tT(uy),this.g.onreadystatechange=Un(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){rT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Me.FormData&&t instanceof Me.FormData,!(0<=OC(fF,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yR(this),0<this.B&&((this.L=pF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.ua,this)):this.A=j_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){rT(this,o)}};function pF(t){return pl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ue.ua=function(){typeof k_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))};function rT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gR(t),Hp(t)}function gR(t){t.F||(t.F=!0,xn(t,"complete"),xn(t,"error"))}ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xn(this,"complete"),xn(this,"abort"),Hp(this))};ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),Ut.$.N.call(this)};ue.La=function(){this.s||(this.G||this.v||this.l?vR(this):this.kb())};ue.kb=function(){vR(this)};function vR(t){if(t.h&&typeof k_<"u"&&(!t.C[1]||pr(t)!=4||t.da()!=2)){if(t.v&&pr(t)==4)j_(t.La,0,t);else if(xn(t,"readystatechange"),pr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(sR)[1]||null;!s&&Me.self&&Me.self.location&&(s=Me.self.location.protocol.slice(0,-1)),i=!hF.test(s?s.toLowerCase():"")}n=i}if(n)xn(t,"complete"),xn(t,"success");else{t.m=6;try{var o=2<pr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",gR(t)}}finally{Hp(t)}}}}function Hp(t,e){if(t.g){yR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xn(t,"ready");try{n.onreadystatechange=i}catch{}}}function yR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Me.clearTimeout(t.A),t.A=null)}ue.isActive=function(){return!!this.g};function pr(t){return t.g?t.g.readyState:0}ue.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dF(e)}};function sT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mF(t){const e={};t=(t.g&&2<=pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(jc(t[i]))continue;var n=$4(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}N4(e,function(i){return i.join(", ")})}ue.Ia=function(){return this.m};ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _R(t){let e="";return N_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function z_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=_R(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function ec(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wR(t){this.Ga=0,this.j=[],this.l=new Mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ec("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ec("baseRetryDelayMs",5e3,t),this.hb=ec("retryDelaySeedMs",1e4,t),this.eb=ec("forwardChannelMaxRetries",2,t),this.xa=ec("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new uR(t&&t.concurrentRequestLimit),this.Ja=new lF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ue=wR.prototype;ue.ra=8;ue.H=1;function G_(t){if(bR(t),t.H==3){var e=t.W++,n=jr(t.I);if(Tt(n,"SID",t.K),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),Id(t,n),e=new _d(t,t.l,e),e.L=2,e.v=jp(jr(n)),n=!1,Me.navigator&&Me.navigator.sendBeacon)try{n=Me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Me.Image&&(new Image().src=e.v,n=!0),n||(e.g=PR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wd(e)}CR(t)}function qp(t){t.g&&(J_(t),t.g.cancel(),t.g=null)}function bR(t){qp(t),t.u&&(Me.clearTimeout(t.u),t.u=null),Hf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Me.clearTimeout(t.m),t.m=null)}function Wp(t){if(!cR(t.i)&&!t.m){t.m=!0;var e=t.Na;Hc||qC(),qc||(Hc(),qc=!0),U_.add(e,t),t.C=0}}function gF(t,e){return dR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vd(Un(t.Na,t,e),SR(t,t.C)),t.C++,!0)}ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new _d(this,this.l,t);let o=this.s;if(this.U&&(o?(o=MC(o),VC(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ER(this,s,e),n=jr(this.I),Tt(n,"RID",t),Tt(n,"CVER",22),this.F&&Tt(n,"X-HTTP-Session-Id",this.F),Id(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(_R(o)))+"&"+e:this.o&&z_(n,this.o,o)),W_(this.i,s),this.bb&&Tt(n,"TYPE","init"),this.P?(Tt(n,"$req",e),Tt(n,"SID","null"),s.aa=!0,dy(s,n,null)):dy(s,n,e),this.H=2}}else this.H==3&&(t?oT(this,t):this.j.length==0||cR(this.i)||oT(this))};function oT(t,e){var n;e?n=e.m:n=t.W++;const i=jr(t.I);Tt(i,"SID",t.K),Tt(i,"RID",n),Tt(i,"AID",t.V),Id(t,i),t.o&&t.s&&z_(i,t.o,t.s),n=new _d(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ER(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W_(t.i,n),dy(n,i,e)}function Id(t,e){t.na&&N_(t.na,function(n,i){Tt(e,i,n)}),t.h&&rR({},function(n,i){Tt(e,i,n)})}function ER(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Un(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=s[h].g;const p=s[h].map;if(f-=o,0>f)o=Math.max(0,s[h].g-100),c=!1;else try{uF(p,l,"req"+f+"_")}catch{i&&i(p)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function IR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hc||qC(),qc||(Hc(),qc=!0),U_.add(e,t),t.A=0}}function Y_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vd(Un(t.Ma,t),SR(t,t.A)),t.A++,!0)}ue.Ma=function(){if(this.u=null,TR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vd(Un(this.jb,this),t)}};ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),qp(this),TR(this))};function J_(t){t.B!=null&&(Me.clearTimeout(t.B),t.B=null)}function TR(t){t.g=new _d(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=jr(t.wa);Tt(e,"RID","rpc"),Tt(e,"SID",t.K),Tt(e,"AID",t.V),Tt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Tt(e,"TO",t.qa),Tt(e,"TYPE","xmlhttp"),Id(t,e),t.o&&t.s&&z_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=jp(jr(e)),n.s=null,n.S=!0,eR(n,t)}ue.ib=function(){this.v!=null&&(this.v=null,qp(this),Y_(this),Qn(19))};function Hf(t){t.v!=null&&(Me.clearTimeout(t.v),t.v=null)}function AR(t,e){var n=null;if(t.g==e){Hf(t),J_(t),t.g=null;var i=2}else if(fy(t.i,e))n=e.F,hR(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Vp(),xn(i,new JC(i,n)),Wp(t)}else IR(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&gF(t,e)||i==2&&Y_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ro(t,5);break;case 4:Ro(t,10);break;case 3:Ro(t,6);break;default:Ro(t,2)}}}function SR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ro(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Un(t.pb,t);n||(n=new Mo("//www.google.com/images/cleardot.gif"),Me.location&&Me.location.protocol=="http"||jf(n,"https"),jp(n)),cF(n.toString(),i)}else Qn(2);t.H=0,t.h&&t.h.za(e),CR(t),bR(t)}ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function CR(t){if(t.H=0,t.ma=[],t.h){const e=fR(t.i);(e.length!=0||t.j.length!=0)&&(JI(t.ma,e),JI(t.ma,t.j),t.i.i.length=0,x_(t.j),t.j.length=0),t.h.ya()}}function RR(t,e,n){var i=n instanceof Mo?jr(n):new Mo(n);if(i.g!="")e&&(i.g=e+"."+i.g),Bf(i,i.m);else{var s=Me.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Mo(null);i&&jf(o,i),e&&(o.g=e),s&&Bf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Tt(i,n,e),Tt(i,"VER",t.ra),Id(t,i),i}function PR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ut(new bd({ob:!0})):new Ut(t.va),e.Oa(t.J),e}ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function kR(){}ue=kR.prototype;ue.Ba=function(){};ue.Aa=function(){};ue.za=function(){};ue.ya=function(){};ue.isActive=function(){return!0};ue.Va=function(){};function qf(){if(pl&&!(10<=Number(P4)))throw Error("Environmental error: no available transport.")}qf.prototype.g=function(t,e){return new Ii(t,e)};function Ii(t,e){wn.call(this),this.g=new wR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!jc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ul(this)}bn(Ii,wn);Ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RR(t,null,t.Y),Wp(t)};Ii.prototype.close=function(){G_(this.g)};Ii.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=F_(t),t=n);e.j.push(new sF(e.fb++,t)),e.H==3&&Wp(e)};Ii.prototype.N=function(){this.g.h=null,delete this.j,G_(this.g),delete this.g,Ii.$.N.call(this)};function xR(t){H_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}bn(xR,H_);function OR(){q_.call(this),this.status=1}bn(OR,q_);function Ul(t){this.g=t}bn(Ul,kR);Ul.prototype.Ba=function(){xn(this.g,"a")};Ul.prototype.Aa=function(t){xn(this.g,new xR(t))};Ul.prototype.za=function(t){xn(this.g,new OR)};Ul.prototype.ya=function(){xn(this.g,"b")};function vF(){this.blockSize=-1}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}bn(Gi,vF);Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Pv(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Gi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)Pv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){Pv(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){Pv(this,i),s=0;break}}this.h=s,this.i+=e};Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function vt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var yF={};function Q_(t){return-128<=t&&128>t?S4(t,function(e){return new vt([e|0],0>e?-1:0)}):new vt([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return nl;if(0>t)return Tn(mr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=py;return new vt(e,0)}function NR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tn(NR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),i=nl,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=mr(Math.pow(e,o)),i=i.R(o).add(mr(l))):(i=i.R(n),i=i.add(mr(l)))}return i}var py=4294967296,nl=Q_(0),my=Q_(1),aT=Q_(16777216);ue=vt.prototype;ue.ea=function(){if(Ri(this))return-Tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:py+i)*e,e*=py}return t};ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(Ri(this))return"-"+Tn(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,i="";;){var s=Kf(n,e).g;n=Wf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Or(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ri(t){return t.h==-1}ue.X=function(t){return t=Wf(this,t),Ri(t)?-1:Or(t)?0:1};function Tn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new vt(n,~t.h).add(my)}ue.abs=function(){return Ri(this)?Tn(this):this};ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function Wf(t,e){return t.add(Tn(e))}ue.R=function(t){if(Or(this)||Or(t))return nl;if(Ri(this))return Ri(t)?Tn(this).R(Tn(t)):Tn(Tn(this).R(t));if(Ri(t))return Tn(this.R(Tn(t)));if(0>this.X(aT)&&0>t.X(aT))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,h=t.D(s)&65535;n[2*i+2*s]+=l*h,ef(n,2*i+2*s),n[2*i+2*s+1]+=o*h,ef(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,ef(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,ef(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new vt(n,0)};function ef(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tc(t,e){this.g=t,this.h=e}function Kf(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new tc(nl,nl);if(Ri(t))return e=Kf(Tn(t),e),new tc(Tn(e.g),Tn(e.h));if(Ri(e))return e=Kf(t,Tn(e)),new tc(Tn(e.g),e.h);if(30<t.g.length){if(Ri(t)||Ri(e))throw Error("slowDivide_ only works with positive integers.");for(var n=my,i=e;0>=i.X(t);)n=lT(n),i=lT(i);var s=qa(n,1),o=qa(i,1);for(i=qa(i,2),n=qa(n,2);!Or(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=qa(i,1),n=qa(n,1)}return e=Wf(t,s.R(e)),new tc(s,e)}for(s=nl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=mr(n),l=o.R(e);Ri(l)||0<l.X(t);)n-=i,o=mr(n),l=o.R(e);Or(o)&&(o=my),s=s.add(o),t=Wf(t,l)}return new tc(s,t)}ue.gb=function(t){return Kf(this,t).h};ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new vt(n,this.h&t.h)};ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new vt(n,this.h|t.h)};ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new vt(n,this.h^t.h)};function lT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new vt(n,t.h)}function qa(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new vt(s,t.h)}qf.prototype.createWebChannel=qf.prototype.g;Ii.prototype.send=Ii.prototype.u;Ii.prototype.open=Ii.prototype.m;Ii.prototype.close=Ii.prototype.close;Fp.NO_ERROR=0;Fp.TIMEOUT=8;Fp.HTTP_ERROR=6;QC.COMPLETE="complete";XC.EventType=yd;yd.OPEN="a";yd.CLOSE="b";yd.ERROR="c";yd.MESSAGE="d";wn.prototype.listen=wn.prototype.O;Ut.prototype.listenOnce=Ut.prototype.P;Ut.prototype.getLastError=Ut.prototype.Sa;Ut.prototype.getLastErrorCode=Ut.prototype.Ia;Ut.prototype.getStatus=Ut.prototype.da;Ut.prototype.getResponseJson=Ut.prototype.Wa;Ut.prototype.getResponseText=Ut.prototype.ja;Ut.prototype.send=Ut.prototype.ha;Ut.prototype.setWithCredentials=Ut.prototype.Oa;Gi.prototype.digest=Gi.prototype.l;Gi.prototype.reset=Gi.prototype.reset;Gi.prototype.update=Gi.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=mr;vt.fromString=NR;var _F=function(){return new qf},wF=function(){return Vp()},kv=Fp,bF=QC,EF=Xo,uT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IF=bd,tf=XC,TF=Ut,AF=Gi,il=vt;const cT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new vp("@firebase/firestore");function nc(){return Bo.logLevel}function _e(t,...e){if(Bo.logLevel<=Ye.DEBUG){const n=e.map(X_);Bo.debug(`Firestore (${$l}): ${t}`,...n)}}function Br(t,...e){if(Bo.logLevel<=Ye.ERROR){const n=e.map(X_);Bo.error(`Firestore (${$l}): ${t}`,...n)}}function ml(t,...e){if(Bo.logLevel<=Ye.WARN){const n=e.map(X_);Bo.warn(`Firestore (${$l}): ${t}`,...n)}}function X_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+t;throw Br(e),new Error(e)}function At(t,e){t||Le()}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class CF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RF{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string"),new DR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new Ln(e)}}class PF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new PF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new xF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=NF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function lt(t,e){return t<e?-1:t>e?1:0}function gl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new rn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new rn(0,0))}static max(){return new Ve(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(),i===void 0?i=e.length-n:i>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Yc{construct(e,n,i){return new Et(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new le($.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const DF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends Yc{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return DF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new le($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new le($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new le($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new le($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Et.fromString(e))}static fromName(e){return new Ae(Et.fromString(e).popFirst(5))}static empty(){return new Ae(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Et(e.slice()))}}function LF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(i===1e9?new rn(n+1,0):new rn(n,i));return new Vs(s,Ae.empty(),e)}function MF(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Vs(Ve.min(),Ae.empty(),-1)}static max(){return new Vs(Ve.max(),Ae.empty(),-1)}}function VF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==FF)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,i)=>{n(e)})}static reject(e){return new G((n,i)=>{i(e)})}static waitFor(e){return new G((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},h=>i(h))}),l=!0,o===s&&n()})}static or(e){let n=G.resolve(!1);for(const i of e)n=n.next(s=>s?G.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new G((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++c,c===o&&i(l)},p=>s(p))}})}static doWhile(e,n){return new G((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function Ad(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Z_._e=-1;function Kp(t){return t==null}function zf(t){return t===0&&1/t==-1/0}function $F(t){return typeof t=="number"&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??In.RED,this.left=s??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new In(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,i,s,o){return this}insert(e,n,i){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(e){return new hT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new On(this.comparator);return n.data=e,n}}class hT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new bi([])}unionWith(e){let n=new On(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new bi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VR("Invalid base64 string: "+o):o}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const jF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(At(!!t),typeof t=="string"){let e=0;const n=jF.exec(t);if(At(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ho(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function e0(t){const e=t.mapValue.fields.__previous_value__;return zp(e)?e0(e):e}function Jc(t){const e=Fs(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,i,s,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zp(t)?4:HF(t)?9007199254740991:10:Le()}function wr(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Fs(s.timestampValue),c=Fs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ho(s.bytesValue).isEqual(Ho(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return en(s.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(s.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return en(s.integerValue)===en(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=en(s.doubleValue),c=en(o.doubleValue);return l===c?zf(l)===zf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(dT(l)!==dT(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!wr(l[h],c[h])))return!1;return!0}(t,e);default:return Le()}}function Xc(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=qo(t),i=qo(e);if(n!==i)return lt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=en(o.integerValue||o.doubleValue),h=en(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return fT(t.timestampValue,e.timestampValue);case 4:return fT(Jc(t),Jc(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Ho(o),h=Ho(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=lt(c[f],h[f]);if(p!==0)return p}return lt(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=lt(en(o.latitude),en(l.latitude));return c!==0?c:lt(en(o.longitude),en(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],h=l.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=vl(c[f],h[f]);if(p)return p}return lt(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===rf.mapValue&&l===rf.mapValue)return 0;if(o===rf.mapValue)return 1;if(l===rf.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const y=lt(h[v],p[v]);if(y!==0)return y;const b=vl(c[h[v]],f[p[v]]);if(b!==0)return b}return lt(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Le()}}function fT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Fs(t),i=Fs(e),s=lt(n.seconds,i.seconds);return s!==0?s:lt(n.nanos,i.nanos)}function yl(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Fs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=gy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${gy(n.fields[l])}`;return s+"}"}(t.mapValue):Le()}function Gf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vy(t){return!!t&&"integerValue"in t}function t0(t){return!!t&&"arrayValue"in t}function pT(t){return!!t&&"nullValue"in t}function mT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bf(t){return!!t&&"mapValue"in t}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Tc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.value=e}static empty(){return new li({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Sn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Tc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];bf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Zo(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new li(Tc(this.value))}}function FR(t){const e=[];return Zo(t.fields,(n,i)=>{const s=new Sn([n]);if(bf(i)){const o=FR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Mn(e,0,Ve.min(),Ve.min(),Ve.min(),li.empty(),0)}static newFoundDocument(e,n,i,s){return new Mn(e,1,n,Ve.min(),i,s,0)}static newNoDocument(e,n){return new Mn(e,2,n,Ve.min(),Ve.min(),li.empty(),0)}static newUnknownDocument(e,n){return new Mn(e,3,n,Ve.min(),Ve.min(),li.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=li.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.position=e,this.inclusive=n}}function gT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=Ae.comparator(Ae.fromName(l.referenceValue),n.key):i=vl(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function vT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function qF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{}class nn extends UR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new KF(e,n,i):n==="array-contains"?new YF(e,i):n==="in"?new JF(e,i):n==="not-in"?new QF(e,i):n==="array-contains-any"?new XF(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new zF(e,i):new GF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends UR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Yi(e,n)}matches(e){return $R(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $R(t){return t.op==="and"}function jR(t){return WF(t)&&$R(t)}function WF(t){for(const e of t.filters)if(e instanceof Yi)return!1;return!0}function yy(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(jR(t))return t.filters.map(e=>yy(e)).join(",");{const e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function BR(t,e){return t instanceof nn?function(i,s){return s instanceof nn&&i.op===s.op&&i.field.isEqual(s.field)&&wr(i.value,s.value)}(t,e):t instanceof Yi?function(i,s){return s instanceof Yi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&BR(l,s.filters[c]),!0):!1}(t,e):void Le()}function HR(t){return t instanceof nn?function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`}(t):t instanceof Yi?function(n){return n.op.toString()+" {"+n.getFilters().map(HR).join(" ,")+"}"}(t):"Filter"}class KF extends nn{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class zF extends nn{constructor(e,n){super(e,"in",n),this.keys=qR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GF extends nn{constructor(e,n){super(e,"not-in",n),this.keys=qR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class YF extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t0(n)&&Xc(n.arrayValue,this.value)}}class JF extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class QF extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}}class XF extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function yT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new ZF(t,e,n,i,s,o,l)}function n0(t){const e=je(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>yy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>yl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>yl(i)).join(",")),e.ce=n}return e.ce}function i0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vT(t.startAt,e.startAt)&&vT(t.endAt,e.endAt)}function _y(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function e3(t,e,n,i,s,o,l,c){return new Ws(t,e,n,i,s,o,l,c)}function Gp(t){return new Ws(t)}function _T(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r0(t){return t.collectionGroup!==null}function rl(t){const e=je(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new On(Sn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Zc(o,i))}),n.has(Sn.keyField().canonicalString())||e.le.push(new Zc(Sn.keyField(),i))}return e.le}function gr(t){const e=je(t);return e.he||(e.he=t3(e,rl(t))),e.he}function t3(t,e){if(t.limitType==="F")return yT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Zc(s.field,o)});const n=t.endAt?new _l(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _l(t.startAt.position,t.startAt.inclusive):null;return yT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function wy(t,e){const n=t.filters.concat([e]);return new Ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yf(t,e,n){return new Ws(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yp(t,e){return i0(gr(t),gr(e))&&t.limitType===e.limitType}function WR(t){return`${n0(gr(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>HR(s)).join(", ")}]`),Kp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>yl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>yl(s)).join(",")),`Target(${i})`}(gr(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of rl(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=gT(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,rl(i),s)||i.endAt&&!function(l,c,h){const f=gT(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,rl(i),s))}(t,e)}function n3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KR(t){return(e,n)=>{let i=!1;for(const s of rl(t)){const o=i3(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function i3(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?vl(h,f):Le()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return MR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Nt(Ae.comparator);function Hr(){return r3}const zR=new Nt(Ae.comparator);function pc(...t){let e=zR;for(const n of t)e=e.insert(n.key,n);return e}function GR(t){let e=zR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Po(){return Ac()}function YR(){return Ac()}function Ac(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const s3=new Nt(Ae.comparator),o3=new On(Ae.comparator);function Je(...t){let e=o3;for(const n of t)e=e.add(n);return e}const a3=new On(lt);function l3(){return a3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function QR(t){return{integerValue:""+t}}function u3(t,e){return $F(e)?QR(e):JR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function c3(t,e,n){return t instanceof Jf?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&zp(o)&&(o=e0(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof wl?ZR(t,e):t instanceof bl?e2(t,e):function(s,o){const l=XR(s,o),c=wT(l)+wT(s.Ie);return vy(l)&&vy(s.Ie)?QR(c):JR(s.serializer,c)}(t,e)}function d3(t,e,n){return t instanceof wl?ZR(t,e):t instanceof bl?e2(t,e):n}function XR(t,e){return t instanceof Qf?function(i){return vy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Jf extends Qp{}class wl extends Qp{constructor(e){super(),this.elements=e}}function ZR(t,e){const n=t2(e);for(const i of t.elements)n.some(s=>wr(s,i))||n.push(i);return{arrayValue:{values:n}}}class bl extends Qp{constructor(e){super(),this.elements=e}}function e2(t,e){let n=t2(e);for(const i of t.elements)n=n.filter(s=>!wr(s,i));return{arrayValue:{values:n}}}class Qf extends Qp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function wT(t){return en(t.integerValue||t.doubleValue)}function t2(t){return t0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.field=e,this.transform=n}}function h3(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof wl&&s instanceof wl||i instanceof bl&&s instanceof bl?gl(i.elements,s.elements,wr):i instanceof Qf&&s instanceof Qf?wr(i.Ie,s.Ie):i instanceof Jf&&s instanceof Jf}(t.transform,e.transform)}class f3{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function i2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s0(t.key,ki.none()):new Sd(t.key,t.data,ki.none());{const n=t.data,i=li.empty();let s=new On(Sn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Ks(t.key,i,new bi(s.toArray()),ki.none())}}function p3(t,e,n){t instanceof Sd?function(s,o,l){const c=s.value.clone(),h=ET(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(s,o,l){if(!Ef(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=ET(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(r2(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,i){return t instanceof Sd?function(o,l,c,h){if(!Ef(o.precondition,l))return c;const f=o.value.clone(),p=IT(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ks?function(o,l,c,h){if(!Ef(o.precondition,l))return c;const f=IT(o.fieldTransforms,h,l),p=l.data;return p.setAll(r2(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return Ef(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function m3(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=XR(i.transform,s||null);o!=null&&(n===null&&(n=li.empty()),n.set(i.field,o))}return n||null}function bT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&gl(i,s,(o,l)=>h3(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Xp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ks extends Xp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function r2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ET(t,e,n){const i=new Map;At(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,d3(l,c,n[s]))}return i}function IT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,c3(o,l,e))}return i}class s0 extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g3 extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&p3(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Sc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=YR();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const h=i2(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,i)=>bT(n,i))&&gl(this.baseMutations,e.baseMutations,(n,i)=>bT(n,i))}}class o0{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){At(e.mutations.length===i.length);let s=function(){return s3}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new o0(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Ze;function w3(t){switch(t){default:return Le();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function s2(t){if(t===void 0)return Br("GRPC error has no .code"),$.UNKNOWN;switch(t){case Xt.OK:return $.OK;case Xt.CANCELLED:return $.CANCELLED;case Xt.UNKNOWN:return $.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return $.INTERNAL;case Xt.UNAVAILABLE:return $.UNAVAILABLE;case Xt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Xt.NOT_FOUND:return $.NOT_FOUND;case Xt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Xt.ABORTED:return $.ABORTED;case Xt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Xt.DATA_LOSS:return $.DATA_LOSS;default:return Le()}}(Ze=Xt||(Xt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new il([4294967295,4294967295],0);function TT(t){const e=b3().encode(t),n=new AF;return n.update(e),new Uint8Array(n.digest())}function AT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new il([n,i],0),new il([s,o],0)]}class a0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(i<0)throw new mc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=il.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(il.fromNumber(i)));return s.compare(E3)===1&&(s=new il([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=TT(e),[i,s]=AT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new a0(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=TT(e),[i,s]=AT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Cd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Zp(Ve.min(),s,new Nt(lt),Hr(),Je())}}class Cd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Cd(i,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class o2{constructor(e,n){this.targetId=e,this.fe=n}}class a2{constructor(e,n,i=Hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class ST{constructor(){this.ge=0,this.pe=RT(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Je(),n=Je(),i=Je();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Le()}}),new Cd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=RT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class I3{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hr(),this.Qe=CT(),this.Ke=new Nt(lt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(_y(o))if(i===0){const l=new Ae(o.path);this.We(n,l,Mn.newNoDocument(l,Ve.min()))}else At(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Ho(i).toUint8Array()}catch(h){if(h instanceof VR)return ml("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new a0(l,s,o)}catch(h){return ml(h instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&_y(c.target)){const h=new Ae(c.target.path);this.qe.get(h)!==null||this.st(l,h)||this.We(l,h,Mn.newNoDocument(h,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=Je();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new Zp(e,n,this.Ke,this.qe,i);return this.qe=Hr(),this.Qe=CT(),this.Ke=new Nt(lt),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new ST,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new On(lt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ST),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function CT(){return new Nt(Ae.comparator)}function RT(){return new Nt(Ae.comparator)}const T3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),A3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),S3=(()=>({and:"AND",or:"OR"}))();class C3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function by(t,e){return t.useProto3Json||Kp(e)?e:{value:e}}function Xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R3(t,e){return Xf(t,e.toTimestamp())}function vr(t){return At(!!t),Ve.fromTimestamp(function(n){const i=Fs(n);return new rn(i.seconds,i.nanos)}(t))}function l0(t,e){return function(i){return new Et(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function u2(t){const e=Et.fromString(t);return At(f2(e)),e}function Ey(t,e){return l0(t.databaseId,e.path)}function xv(t,e){const n=u2(e);if(n.get(1)!==t.databaseId.projectId)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(c2(n))}function Iy(t,e){return l0(t.databaseId,e)}function P3(t){const e=u2(t);return e.length===4?Et.emptyPath():c2(e)}function Ty(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c2(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PT(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function k3(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(At(p===void 0||typeof p=="string"),Hn.fromBase64String(p||"")):(At(p===void 0||p instanceof Uint8Array),Hn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?$.UNKNOWN:s2(f.code);return new le(p,f.message||"")}(l);n=new a2(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=xv(t,i.document.name),o=vr(i.document.updateTime),l=i.document.createTime?vr(i.document.createTime):Ve.min(),c=new li({mapValue:{fields:i.document.fields}}),h=Mn.newFoundDocument(s,o,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new If(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=xv(t,i.document),o=i.readTime?vr(i.readTime):Ve.min(),l=Mn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new If([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=xv(t,i.document),o=i.removedTargetIds||[];n=new If([],o,s,null)}else{if(!("filter"in e))return Le();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new _3(s,o),c=i.targetId;n=new o2(c,l)}}return n}function x3(t,e){let n;if(e instanceof Sd)n={update:PT(t,e.key,e.value)};else if(e instanceof s0)n={delete:Ey(t,e.key)};else if(e instanceof Ks)n={update:PT(t,e.key,e.data),updateMask:$3(e.fieldMask)};else{if(!(e instanceof g3))return Le();n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Jf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Le()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:R3(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le()}(t,e.precondition)),n}function O3(t,e){return t&&t.length>0?(At(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?vr(s.updateTime):vr(o);return l.isEqual(Ve.min())&&(l=vr(o)),new f3(l,s.transformResults||[])}(n,e))):[]}function N3(t,e){return{documents:[Iy(t,e.path)]}}function D3(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Iy(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Iy(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(h.length!==0)return h2(Yi.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:Ga(v.field),direction:V3(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=by(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function L3(t){let e=P3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){At(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const y=d2(v);return y instanceof Yi&&jR(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(y=>function(I){return new Zc(Ya(I.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,Kp(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(v){const y=!!v.before,b=v.values||[];return new _l(b,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const y=!v.before,b=v.values||[];return new _l(b,y)}(n.endAt)),e3(e,s,l,o,c,"F",h,f)}function M3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ya(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ya(n.unaryFilter.field);return nn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ya(n.unaryFilter.field);return nn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ya(n.unaryFilter.field);return nn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return nn.create(Ya(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yi.create(n.compositeFilter.filters.map(i=>d2(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function V3(t){return T3[t]}function F3(t){return A3[t]}function U3(t){return S3[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Ya(t){return Sn.fromServerFormat(t.fieldPath)}function h2(t){return t instanceof nn?function(n){if(n.op==="=="){if(mT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(pT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(pT(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:F3(n.op),value:n.value}}}(t):t instanceof Yi?function(n){const i=n.getFilters().map(s=>h2(s));return i.length===1?i[0]:{compositeFilter:{op:U3(n.op),filters:i}}}(t):Le()}function $3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,i,s,o=Ve.min(),l=Ve.min(),c=Hn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.ut=e}}function B3(t){const e=L3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.on=new q3}addToCollectionParentIndex(e,n){return this.on.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Vs.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class q3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new On(Et.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new On(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new El(0)}static Nn(){return new El(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Sc(i.mutation,s,bi.empty(),rn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Je()){const s=Po();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=pc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Je()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=Hr();const l=Ac(),c=function(){return Ac()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Ks)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Sc(p.mutation,f,p.mutation.getFieldMask(),rn.now())):l.set(f.key,bi.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var v;return c.set(f,new K3(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Ac();let s=new Nt((l,c)=>l-c),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||bi.empty();p=c.applyToLocalView(f,p),i.set(h,p);const v=(s.get(c.batchId)||Je()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,v=YR();p.forEach(y=>{if(!o.has(y)){const b=i2(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return G.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):G.resolve(Po());let c=-1,h=o;return l.next(f=>G.forEach(f,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?G.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Je())).next(p=>({batchId:c,changes:GR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(i=>{let s=pc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=pc();return this.indexManager.getCollectionParents(e,o).next(c=>G.forEach(c,h=>{const f=function(v,y){return new Ws(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Mn.newInvalidDocument(p)))});let c=pc();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&Sc(p.mutation,f,bi.empty(),rn.now()),Jp(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return G.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:B3(s.bundledQuery),readTime:vr(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.overlays=new Nt(Ae.comparator),this.lr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Po();return G.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){const s=Po(),o=n.length+1,l=new Ae(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Nt((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Po(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Po(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return G.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new y3(n,i));let o=this.lr.get(n);o===void 0&&(o=Je(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.hr=new On(gn.Pr),this.Ir=new On(gn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new gn(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new gn(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Ae(new Et([])),i=new gn(n,e),s=new gn(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ae(new Et([])),i=new gn(n,e),s=new gn(n,e+1);let o=Je();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new gn(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class gn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ae.comparator(e.key,n.key)||lt(e.gr,n.gr)}static Tr(e,n){return lt(e.gr,n.gr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new On(gn.Pr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new v3(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new gn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,n){return G.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new gn(n,0),s=new gn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new On(lt);return n.forEach(s=>{const o=new gn(s,0),l=new gn(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),G.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ae.isDocumentKey(o)||(o=o.child(""));const l=new gn(new Ae(o),0);let c=new On(lt);return this.yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.gr)),!0)},l),G.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){At(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return G.forEach(n.mutations,s=>{const o=new gn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new gn(n,0),s=this.yr.firstAfterOrEqual(i);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.Cr=e,this.docs=function(){return new Nt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let i=Hr();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Mn.newInvalidDocument(s))}),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Hr();const l=n.path,c=new Ae(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||VF(MF(p),i)<=0||(s.has(p.key)||Jp(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Le()}vr(e,n){return G.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new X3(this)}getSize(e){return G.resolve(this.size)}}class X3 extends W3{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),G.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.persistence=e,this.Fr=new jl(n=>n0(n),i0),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new u0,this.targetCount=0,this.Nr=El.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),G.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new El(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.kn(n),G.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),G.waitFor(o).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Z_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Z3(this),this.indexManager=new H3,this.remoteDocumentCache=function(s){return new Q3(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new j3(n),this.Kr=new G3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new J3(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const s=new tU(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return G.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class tU extends UF{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Gr=new u0,this.zr=null}static jr(e){return new c0(e)}get Hr(){if(this.zr)return this.zr;throw Le()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Hr,i=>{const s=Ae.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Ve.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return G.or([()=>G.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=Je(),s=Je();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new d0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new nU;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(nc()<=Ye.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),G.resolve()):(nc()<=Ye.DEBUG&&_e("QueryEngine","Query:",za(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(nc()<=Ye.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):G.resolve())}zi(e,n){if(_T(n))return G.resolve(null);let i=gr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yf(n,null,"F"),i=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Je(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Yi(n,c);return this.Zi(n,f,l,h.readTime)?this.zi(e,Yf(n,null,"F")):this.Xi(e,f,n,h)}))})))}ji(e,n,i,s){return _T(n)||s.isEqual(Ve.min())?G.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?G.resolve(null):(nc()<=Ye.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),za(n)),this.Xi(e,l,n,LF(s,-1)).next(c=>c))})}Yi(e,n){let i=new On(KR(e));return n.forEach((s,o)=>{Jp(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return nc()<=Ye.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",za(n)),this.Gi.getDocumentsMatchingQuery(e,n,Vs.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Nt(lt),this.ns=new jl(o=>n0(o),i0),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z3(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function sU(t,e,n,i){return new rU(t,e,n,i)}async function p2(t,e){const n=je(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=Je();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function oU(t,e){const n=je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const v=f.batch,y=v.keys();let b=G.resolve();return y.forEach(I=>{b=b.next(()=>p.getEntry(h,I)).next(_=>{const E=f.docVersions.get(I);At(E!==null),_.version.compareTo(E)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Je();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function m2(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function aU(t,e){const n=je(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((p,v)=>{const y=s.get(v);if(!y)return;c.push(n.qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,p.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Hn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(v,b),function(_,E,T){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,b,p)&&c.push(n.qr.updateTargetData(o,b))});let h=Hr(),f=Je();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(lU(o,l,e.documentUpdates).next(p=>{h=p.us,f=p.cs})),!i.isEqual(Ve.min())){const p=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(p)}return G.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ts=s,o))}function lU(t,e,n){let i=Je(),s=Je();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Hr();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ve.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):_e("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{us:l,cs:s}})}function uU(t,e){const n=je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function cU(t,e){const n=je(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,G.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new Ss(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Ay(t,e,n){const i=je(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ad(l))throw l;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function kT(t,e,n){const i=je(t);let s=Ve.min(),o=Je();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=je(h),y=v.ns.get(p);return y!==void 0?G.resolve(v.ts.get(y)):v.qr.getTargetData(f,p)}(i,l,gr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:Ve.min(),n?o:Je())).next(c=>(dU(i,n3(e),c),{documents:c,ls:o})))}function dU(t,e,n){let i=t.rs.get(e)||Ve.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class xT{constructor(){this.activeTargetIds=l3()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hU{constructor(){this.eo=new xT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new xT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Ov(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class gU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=Ov(),h=this.So(n,i);_e("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,h,f,s).then(p=>(_e("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw ml("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",s),p})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=pU[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=Ov();return new Promise((l,c)=>{const h=new TF;h.setWithCredentials(!0),h.listenOnce(bF.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case kv.NO_ERROR:const p=h.getResponseJson();_e(Dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case kv.TIMEOUT:_e(Dn,`RPC '${e}' ${o} timed out`),c(new le($.DEADLINE_EXCEEDED,"Request time out"));break;case kv.HTTP_ERROR:const v=h.getStatus();if(_e(Dn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const I=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(T)>=0?T:$.UNKNOWN}(b.status);c(new le(I,b.message))}else c(new le($.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new le($.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{_e(Dn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);_e(Dn,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,i,15)})}vo(e,n,i){const s=Ov(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_F(),c=wF(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new IF({})),this.bo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");_e(Dn,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);let y=!1,b=!1;const I=new mU({co:E=>{b?_e(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(_e(Dn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),_e(Dn,`RPC '${e}' stream ${s} sending:`,E),v.send(E))},lo:()=>v.close()}),_=(E,T,R)=>{E.listen(T,k=>{try{R(k)}catch(x){setTimeout(()=>{throw x},0)}})};return _(v,tf.EventType.OPEN,()=>{b||_e(Dn,`RPC '${e}' stream ${s} transport opened.`)}),_(v,tf.EventType.CLOSE,()=>{b||(b=!0,_e(Dn,`RPC '${e}' stream ${s} transport closed`),I.Ro())}),_(v,tf.EventType.ERROR,E=>{b||(b=!0,ml(Dn,`RPC '${e}' stream ${s} transport errored:`,E),I.Ro(new le($.UNAVAILABLE,"The operation could not be completed")))}),_(v,tf.EventType.MESSAGE,E=>{var T;if(!b){const R=E.data[0];At(!!R);const k=R,x=k.error||((T=k[0])===null||T===void 0?void 0:T.error);if(x){_e(Dn,`RPC '${e}' stream ${s} received error:`,x);const D=x.status;let K=function(ie){const ye=Xt[ie];if(ye!==void 0)return s2(ye)}(D),se=x.message;K===void 0&&(K=$.INTERNAL,se="Unknown error status: "+D+" with message "+x.message),b=!0,I.Ro(new le(K,se)),v.close()}else _e(Dn,`RPC '${e}' stream ${s} received:`,R),I.Vo(R)}}),_(c,EF.STAT_EVENT,E=>{E.stat===uT.PROXY?_e(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===uT.NOPROXY&&_e(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.Ao()},0),I}}function Nv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){return new C3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,i,s,o,l,c,h){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new g2(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new le($.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vU extends v2{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=k3(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ve.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?vr(l.readTime):Ve.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=Ty(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=_y(h)?{documents:N3(o,h)}:{query:D3(o,h)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=l2(o,l.resumeToken);const f=by(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ve.min())>0){c.readTime=Xf(o,l.snapshotVersion.toTimestamp());const f=by(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=M3(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.e_(n)}}class yU extends v2{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=O3(e.writeResults,e.commitTime),i=vr(e.commitTime);return this.listener.I_(i,n)}return At(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Ty(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>x3(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le($.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le($.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class wU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Br(n),this.f_=!1):_e("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{ea(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=je(h);f.C_.add(4),await Rd(f),f.M_.set("Unknown"),f.C_.delete(4),await tm(f)}(this))})}),this.M_=new wU(i,s)}}async function tm(t){if(ea(t))for(const e of t.v_)await e(!0)}async function Rd(t){for(const e of t.v_)await e(!1)}function y2(t,e){const n=je(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),p0(n)?f0(n):Bl(n).Ho()&&h0(n,e))}function _2(t,e){const n=je(t),i=Bl(n);n.D_.delete(e),i.Ho()&&w2(n,e),n.D_.size===0&&(i.Ho()?i.Zo():ea(n)&&n.M_.set("Unknown"))}function h0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).u_(e)}function w2(t,e){t.x_.Oe(e),Bl(t).c_(e)}function f0(t){t.x_=new I3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.M_.g_()}function p0(t){return ea(t)&&!Bl(t).jo()&&t.D_.size>0}function ea(t){return je(t).C_.size===0}function b2(t){t.x_=void 0}async function EU(t){t.D_.forEach((e,n)=>{h0(t,e)})}async function IU(t,e){b2(t),p0(t)?(t.M_.w_(e),f0(t)):t.M_.set("Unknown")}async function TU(t,e,n){if(t.M_.set("Online"),e instanceof a2&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zf(t,i)}else if(e instanceof If?t.x_.$e(e):e instanceof o2?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Ve.min()))try{const i=await m2(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.D_.get(f);p&&o.D_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=o.D_.get(h);if(!p)return;o.D_.set(h,p.withResumeToken(Hn.EMPTY_BYTE_STRING,p.snapshotVersion)),w2(o,h);const v=new Ss(p.target,h,f,p.sequenceNumber);h0(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){_e("RemoteStore","Failed to raise snapshot:",i),await Zf(t,i)}}async function Zf(t,e,n){if(!Ad(e))throw e;t.C_.add(1),await Rd(t),t.M_.set("Offline"),n||(n=()=>m2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await tm(t)})}function E2(t,e){return e().catch(n=>Zf(t,n,e))}async function nm(t){const e=je(t),n=Us(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;AU(e);)try{const s=await uU(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,SU(e,s)}catch(s){await Zf(e,s)}I2(e)&&T2(e)}function AU(t){return ea(t)&&t.b_.length<10}function SU(t,e){t.b_.push(e);const n=Us(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function I2(t){return ea(t)&&!Us(t).jo()&&t.b_.length>0}function T2(t){Us(t).start()}async function CU(t){Us(t).E_()}async function RU(t){const e=Us(t);for(const n of t.b_)e.P_(n.mutations)}async function PU(t,e,n){const i=t.b_.shift(),s=o0.from(i,e,n);await E2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nm(t)}async function kU(t,e){e&&Us(t).h_&&await async function(i,s){if(function(l){return w3(l)&&l!==$.ABORTED}(s.code)){const o=i.b_.shift();Us(i).Yo(),await E2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await nm(i)}}(t,e),I2(t)&&T2(t)}async function NT(t,e){const n=je(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const i=ea(n);n.C_.add(3),await Rd(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await tm(n)}async function xU(t,e){const n=je(t);e?(n.C_.delete(2),await tm(n)):e||(n.C_.add(2),await Rd(n),n.M_.set("Unknown"))}function Bl(t){return t.O_||(t.O_=function(n,i,s){const o=je(n);return o.A_(),new vU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:EU.bind(null,t),Io:IU.bind(null,t),a_:TU.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),p0(t)?f0(t):t.M_.set("Unknown")):(await t.O_.stop(),b2(t))})),t.O_}function Us(t){return t.N_||(t.N_=function(n,i,s){const o=je(n);return o.A_(),new yU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:CU.bind(null,t),Io:kU.bind(null,t),T_:RU.bind(null,t),I_:PU.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await nm(t)):(await t.N_.stop(),t.b_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new m0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(t,e){if(Br("AsyncQueue",`${e}: ${t}`),Ad(t))return new le($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=pc(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new sl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new sl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.B_=new Nt(Ae.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Le():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Il{constructor(e,n,i,s,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Il(e,n,sl.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.k_=void 0,this.listeners=[]}}class NU{constructor(){this.queries=new jl(e=>WR(e),Yp),this.onlineState="Unknown",this.q_=new Set}}async function v0(t,e){const n=je(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new OU),s)try{o.k_=await n.onListen(i)}catch(l){const c=g0(l,`Initialization of query '${za(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&_0(n)}async function y0(t,e){const n=je(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function DU(t,e){const n=je(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&_0(n)}function LU(t,e,n){const i=je(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function _0(t){t.q_.forEach(e=>{e.next()})}class w0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Il(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.key=e}}class S2{constructor(e){this.key=e}}class MU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Je(),this.mutatedKeys=Je(),this._a=KR(e),this.aa=new sl(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new DT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const y=s.get(p),b=Jp(this.query,v)?v:null,I=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?I!==_&&(i.track({type:3,doc:b}),E=!0):this.ha(y,b)||(i.track({type:2,doc:b}),E=!0,(h&&this._a(b,h)>0||f&&this._a(b,f)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),E=!0):y&&!b&&(i.track({type:1,doc:y}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),o=_?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,p)=>function(y,b){const I=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return I(y)-I(b)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,h=c!==this.sa;return this.sa=c,o.length!==0||h?{snapshot:new Il(this.query,e.aa,s,o,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new DT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Je(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new S2(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new A2(i))}),n}da(e){this.ia=e.ls,this.oa=Je();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Il.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class VU{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class FU{constructor(e){this.key=e,this.Ra=!1}}class UU{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new jl(c=>WR(c),Yp),this.fa=new Map,this.ga=new Set,this.pa=new Nt(Ae.comparator),this.ya=new Map,this.wa=new u0,this.Sa={},this.ba=new Map,this.Da=El.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function $U(t,e){const n=JU(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await cU(n.localStore,gr(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await jU(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&y2(n.remoteStore,l)}return s}async function jU(t,e,n,i,s){t.va=(v,y,b)=>async function(_,E,T,R){let k=E.view.ca(T);k.Zi&&(k=await kT(_.localStore,E.query,!1).then(({documents:K})=>E.view.ca(K,k)));const x=R&&R.targetChanges.get(E.targetId),D=E.view.applyChanges(k,_.isPrimaryClient,x);return MT(_,E.targetId,D.Ta),D.snapshot}(t,v,y,b);const o=await kT(t.localStore,e,!0),l=new MU(e,o.ls),c=l.ca(o.documents),h=Cd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,h);MT(t,n,f.Ta);const p=new VU(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function BU(t,e){const n=je(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!Yp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ay(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),_2(n.remoteStore,i.targetId),Sy(n,i.targetId)}).catch(Td)):(Sy(n,i.targetId),await Ay(n.localStore,i.targetId,!0))}async function HU(t,e,n){const i=QU(t);try{const s=await function(l,c){const h=je(l),f=rn.now(),p=c.reduce((b,I)=>b.add(I.key),Je());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let I=Hr(),_=Je();return h.ss.getEntries(b,p).next(E=>{I=E,I.forEach((T,R)=>{R.isValidDocument()||(_=_.add(T))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,I)).next(E=>{v=E;const T=[];for(const R of c){const k=m3(R,v.get(R.key).overlayedDocument);k!=null&&T.push(new Ks(R.key,k,FR(k.value.mapValue),ki.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,T,c)}).next(E=>{y=E;const T=E.applyToLocalDocumentSet(v,_);return h.documentOverlayCache.saveOverlays(b,E.batchId,T)})}).then(()=>({batchId:y.batchId,changes:GR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Sa[l.currentUser.toKey()];f||(f=new Nt(lt)),f=f.insert(c,h),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await Pd(i,s.changes),await nm(i.remoteStore)}catch(s){const o=g0(s,"Failed to persist write");n.reject(o)}}async function C2(t,e){const n=je(t);try{const i=await aU(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?At(l.Ra):s.removedDocuments.size>0&&(At(l.Ra),l.Ra=!1))}),await Pd(n,i,e)}catch(i){await Td(i)}}function LT(t,e,n){const i=je(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=je(l);h.onlineState=c;let f=!1;h.queries.forEach((p,v)=>{for(const y of v.listeners)y.Q_(c)&&(f=!0)}),f&&_0(h)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qU(t,e,n){const i=je(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new Nt(Ae.comparator);l=l.insert(o,Mn.newNoDocument(o,Ve.min()));const c=Je().add(o),h=new Zp(Ve.min(),new Map,new Nt(lt),l,c);await C2(i,h),i.pa=i.pa.remove(o),i.ya.delete(e),b0(i)}else await Ay(i.localStore,e,!1).then(()=>Sy(i,e,n)).catch(Td)}async function WU(t,e){const n=je(t),i=e.batch.batchId;try{const s=await oU(n.localStore,e);P2(n,i,null),R2(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Pd(n,s)}catch(s){await Td(s)}}async function KU(t,e,n){const i=je(t);try{const s=await function(l,c){const h=je(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(At(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);P2(i,e,n),R2(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Pd(i,s)}catch(s){await Td(s)}}function R2(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function P2(t,e,n){const i=je(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||k2(t,i)})}function k2(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(_2(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),b0(t))}function MT(t,e,n){for(const i of n)i instanceof A2?(t.wa.addReference(i.key,e),zU(t,i)):i instanceof S2?(_e("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||k2(t,i.key)):Le()}function zU(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(_e("SyncEngine","New document in limbo: "+n),t.ga.add(i),b0(t))}function b0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ae(Et.fromString(e)),i=t.Da.next();t.ya.set(i,new FU(n)),t.pa=t.pa.insert(n,i),y2(t.remoteStore,new Ss(gr(Gp(n.path)),i,"TargetPurposeLimboResolution",Z_._e))}}async function Pd(t,e,n){const i=je(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,h)=>{l.push(i.va(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const p=d0.Qi(h.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Va.a_(s),await async function(h,f){const p=je(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>G.forEach(f,y=>G.forEach(y.ki,b=>p.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>G.forEach(y.qi,b=>p.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!Ad(v))throw v;_e("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const b=p.ts.get(y),I=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(I);p.ts=p.ts.insert(y,_)}}}(i.localStore,o))}async function GU(t,e){const n=je(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const i=await p2(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(h=>{h.reject(new le($.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pd(n,i._s)}}function YU(t,e){const n=je(t),i=n.ya.get(e);if(i&&i.Ra)return Je().add(i.key);{let s=Je();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function JU(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qU.bind(null,e),e.Va.a_=DU.bind(null,e.eventManager),e.Va.Fa=LU.bind(null,e.eventManager),e}function QU(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KU.bind(null,e),e}class VT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sU(this.persistence,new iU,e.initialUser,this.serializer)}createPersistence(e){return new eU(c0.jr,this.serializer)}createSharedClientState(e){return new hU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NU}()}createDatastore(e){const n=em(e.databaseInfo.databaseId),i=function(o){return new gU(o)}(e.databaseInfo);return function(o,l,c,h){return new _U(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new bU(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>LT(this.syncEngine,n,0),function(){return OT.D()?new OT:new fU}())}createSyncEngine(e,n){return function(s,o,l,c,h,f,p){const v=new UU(s,o,l,c,h,f);return p&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=je(n);_e("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Rd(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=LR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{_e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(_e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new le($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=g0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Dv(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await p2(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await t5(t);_e("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>NT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>NT(e.remoteStore,o)),t._onlineComponents=e}function e5(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function t5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!e5(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Dv(t,new VT)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Dv(t,new VT);return t._offlineComponents}async function x2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await FT(t,new XU))),t._onlineComponents}function n5(t){return x2(t).then(e=>e.syncEngine)}async function ep(t){const e=await x2(t),n=e.eventManager;return n.onListen=$U.bind(null,e.syncEngine),n.onUnlisten=BU.bind(null,e.syncEngine),n}function i5(t,e,n={}){const i=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new E0({next:y=>{l.enqueueAndForget(()=>y0(o,v));const b=y.docs.has(c);!b&&y.fromCache?f.reject(new le($.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?f.reject(new le($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new w0(Gp(c.path),p,{includeMetadataChanges:!0,J_:!0});return v0(o,v)}(await ep(t),t.asyncQueue,e,n,i)),i.promise}function r5(t,e,n={}){const i=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new E0({next:y=>{l.enqueueAndForget(()=>y0(o,v)),y.fromCache&&h.source==="server"?f.reject(new le($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new w0(c,p,{includeMetadataChanges:!0,J_:!0});return v0(o,v)}(await ep(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t,e,n){if(!n)throw new le($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s5(t,e,n,i){if(e===!0&&i===!0)throw new le($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $T(t){if(!Ae.isDocumentKey(t))throw new le($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jT(t){if(Ae.isDocumentKey(t))throw new le($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=im(t);throw new le($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function o5(t,e){if(e<=0)throw new le($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new le($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new le($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SF;switch(i.type){case"firstParty":return new kF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=UT.get(n);i&&(_e("ComponentProvider","Removing Datastore"),UT.delete(n),i.terminate())}(this),Promise.resolve()}}function a5(t,e,n,i={}){var s;const o=(t=ei(t,kd))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Ln.MOCK_USER;else{c=AS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new le($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ln(f)}t._authCredentials=new CF(new DR(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class jn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class xs extends Xi{constructor(e,n,i){super(e,n,Gp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ae(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function Wo(t,e,...n){if(t=ke(t),I0("collection","path",e),t instanceof kd){const i=Et.fromString(e,...n);return jT(i),new xs(t,null,i)}{if(!(t instanceof jn||t instanceof xs))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return jT(i),new xs(t.firestore,null,i)}}function rm(t,e){if(t=ei(t,kd),I0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le($.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(t,null,function(i){return new Ws(Et.emptyPath(),i)}(e))}function N2(t,e,...n){if(t=ke(t),arguments.length===1&&(e=LR.newId()),I0("doc","path",e),t instanceof kd){const i=Et.fromString(e,...n);return $T(i),new jn(t,null,new Ae(i))}{if(!(t instanceof jn||t instanceof xs))throw new le($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Et.fromString(e,...n));return $T(i),new jn(t.firestore,t instanceof xs?t.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new g2(this,"async_queue_retry"),this.iu=()=>{const n=Nv();n&&_e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Nv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Nv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Vr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ad(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Br("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=m0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&Le()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function HT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class qr extends kd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new l5}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||D2(this),this._firestoreClient.terminate()}}function u5(t,e){const n=typeof t=="object"?t:ud(),i=typeof t=="string"?t:e||"(default)",s=Jo(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=l_("firestore");o&&a5(s,...o)}return s}function sm(t){return t._firestoreClient||D2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function D2(t){var e,n,i;const s=t._freezeSettings(),o=function(c,h,f,p){return new BF(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,O2(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new ZU(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tl(Hn.fromBase64String(e))}catch(n){throw new le($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tl(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=/^__.*__$/;class d5{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}class L2{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class am{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return tp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(M2(this.Iu)&&c5.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class h5{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||em(e)}pu(e,n,i,s=!1){return new am({Iu:e,methodName:n,gu:i,path:Sn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(t){const e=t._freezeSettings(),n=em(t._databaseId);return new h5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V2(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);A0("Data must be an object, but it was:",l,i);const c=$2(i,l);let h,f;if(o.merge)h=new bi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const y=Cy(e,v,n);if(!l.contains(y))throw new le($.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);B2(p,y)||p.push(y)}h=new bi(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new d5(new li(c),h,f)}class lm extends xd{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function F2(t,e,n){return new am({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class f5 extends xd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=F2(this,e,!0),i=this.yu.map(o=>ta(o,n)),s=new wl(i);return new n2(e.path,s)}isEqual(e){return this===e}}class p5 extends xd{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=F2(this,e,!0),i=this.yu.map(o=>ta(o,n)),s=new bl(i);return new n2(e.path,s)}isEqual(e){return this===e}}function m5(t,e,n,i){const s=t.pu(1,e,n);A0("Data must be an object, but it was:",s,i);const o=[],l=li.empty();Zo(i,(h,f)=>{const p=S0(e,h,n);f=ke(f);const v=s.Ru(p);if(f instanceof lm)o.push(p);else{const y=ta(f,v);y!=null&&(o.push(p),l.set(p,y))}});const c=new bi(o);return new L2(l,c,s.fieldTransforms)}function g5(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[Cy(e,i,n)],h=[s];if(o.length%2!=0)throw new le($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(Cy(e,o[y])),h.push(o[y+1]);const f=[],p=li.empty();for(let y=c.length-1;y>=0;--y)if(!B2(f,c[y])){const b=c[y];let I=h[y];I=ke(I);const _=l.Ru(b);if(I instanceof lm)f.push(b);else{const E=ta(I,_);E!=null&&(f.push(b),p.set(b,E))}}const v=new bi(f);return new L2(p,v,l.fieldTransforms)}function U2(t,e,n,i=!1){return ta(n,t.pu(i?4:3,e))}function ta(t,e){if(j2(t=ke(t)))return A0("Unsupported field value:",e,t),$2(t,e);if(t instanceof xd)return function(i,s){if(!M2(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=ta(c,s.Vu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return u3(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=rn.fromDate(i);return{timestampValue:Xf(s.serializer,o)}}if(i instanceof rn){const o=new rn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xf(s.serializer,o)}}if(i instanceof T0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Tl)return{bytesValue:l2(s.serializer,i._byteString)};if(i instanceof jn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:l0(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${im(i)}`)}(t,e)}function $2(t,e){const n={};return MR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(i,s)=>{const o=ta(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function j2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof T0||t instanceof Tl||t instanceof jn||t instanceof xd)}function A0(t,e,n){if(!j2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=im(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Cy(t,e,n){if((e=ke(e))instanceof om)return e._internalPath;if(typeof e=="string")return S0(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,n)}const v5=new RegExp("[~\\*/\\[\\]]");function S0(t,e,n){if(e.search(v5)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new om(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tp(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new le($.INVALID_ARGUMENT,c+t+h)}function B2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y5 extends C0{data(){return super.data()}}function um(t,e){return typeof e=="string"?S0(t,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R0{}class cm extends R0{}function br(t,e,...n){let i=[];e instanceof R0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(h=>h instanceof P0).length,c=o.filter(h=>h instanceof dm).length;if(l>1||l>0&&c>0)throw new le($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class dm extends cm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new dm(e,n,i)}_apply(e){const n=this._parse(e);return q2(e._query,n),new Xi(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=Od(e.firestore);return function(o,l,c,h,f,p,v){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new le($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){WT(v,p);const b=[];for(const I of v)b.push(qT(h,o,I));y={arrayValue:{values:b}}}else y=qT(h,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||WT(v,p),y=U2(c,l,v,p==="in"||p==="not-in");return nn.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nr(t,e,n){const i=e,s=um("where",t);return dm._create(s,i,n)}class P0 extends R0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Yi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const h of c)q2(l,h),l=wy(l,h)}(e._query,n),new Xi(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends cm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new le($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(o,l)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ws(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function $s(t,e="asc"){const n=e,i=um("orderBy",t);return k0._create(i,n)}class x0 extends cm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new x0(e,n,i)}_apply(e){return new Xi(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function Al(t){return o5("limit",t),x0._create("limit",t,"F")}class O0 extends cm{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new O0(e,n,i)}_apply(e){const n=_5(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,function(s,o){return new Ws(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function N0(...t){return O0._create("startAfter",t,!1)}function _5(t,e,n,i){if(n[0]=ke(n[0]),n[0]instanceof C0)return function(o,l,c,h,f){if(!h)throw new le($.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const v of rl(o))if(v.field.isKeyField())p.push(Gf(l,h.key));else{const y=h.data.field(v.field);if(zp(y))throw new le($.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=v.field.canonicalString();throw new le($.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(y)}return new _l(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=Od(t.firestore);return function(l,c,h,f,p,v){const y=l.explicitOrderBy;if(p.length>y.length)throw new le($.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let I=0;I<p.length;I++){const _=p[I];if(y[I].field.isKeyField()){if(typeof _!="string")throw new le($.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof _}`);if(!r0(l)&&_.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${_}' contains a slash.`);const E=l.path.child(Et.fromString(_));if(!Ae.isDocumentKey(E))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const T=new Ae(E);b.push(Gf(c,T))}else{const E=U2(h,f,_);b.push(E)}}return new _l(b,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function qT(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new le($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&n.indexOf("/")!==-1)throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Et.fromString(n));if(!Ae.isDocumentKey(i))throw new le($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gf(t,new Ae(i))}if(n instanceof jn)return Gf(t,n._key);throw new le($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${im(n)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new le($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function q2(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w5{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Zo(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new T0(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=e0(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Et.fromString(e);At(f2(i));const s=new Qc(i.get(1),i.get(3)),o=new Ae(i.popFirst(5));return s.isEqual(n)||Br(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K2 extends C0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(um("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Tf extends K2{data(e={}){return super.data(e)}}class z2{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Tf(this._firestore,this._userDataWriter,i.key,i,new gc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Tf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new gc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Tf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new gc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:b5(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function b5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){t=ei(t,jn);const e=ei(t.firestore,qr);return i5(sm(e),t._key).then(n=>Y2(e,t,n))}class D0 extends w5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function Wr(t){t=ei(t,Xi);const e=ei(t.firestore,qr),n=sm(e),i=new D0(e);return H2(t._query),r5(n,t._query).then(s=>new z2(e,i,t,s))}function hK(t,e,n){t=ei(t,jn);const i=ei(t.firestore,qr),s=W2(t.converter,e,n);return hm(i,[V2(Od(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ki.none())])}function fK(t,e,n,...i){t=ei(t,jn);const s=ei(t.firestore,qr),o=Od(s);let l;return l=typeof(e=ke(e))=="string"||e instanceof om?g5(o,"updateDoc",t._key,e,n,i):m5(o,"updateDoc",t._key,e),hm(s,[l.toMutation(t._key,ki.exists(!0))])}function pK(t){return hm(ei(t.firestore,qr),[new s0(t._key,ki.none())])}function mK(t,e){const n=ei(t.firestore,qr),i=N2(t),s=W2(t.converter,e);return hm(n,[V2(Od(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,ki.exists(!1))]).then(()=>i)}function G2(t,...e){var n,i,s;t=ke(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||HT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(HT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,f,p;if(t instanceof jn)f=ei(t.firestore,qr),p=Gp(t._key.path),h={next:v=>{e[l]&&e[l](Y2(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=ei(t,Xi);f=ei(v.firestore,qr),p=v._query;const y=new D0(f);h={next:b=>{e[l]&&e[l](new z2(f,y,v,b))},error:e[l+1],complete:e[l+2]},H2(t._query)}return function(y,b,I,_){const E=new E0(_),T=new w0(b,E,I);return y.asyncQueue.enqueueAndForget(async()=>v0(await ep(y),T)),()=>{E.Na(),y.asyncQueue.enqueueAndForget(async()=>y0(await ep(y),T))}}(sm(f),p,c,h)}function hm(t,e){return function(i,s){const o=new Vr;return i.asyncQueue.enqueueAndForget(async()=>HU(await n5(i),s,o)),o.promise}(sm(t),e)}function Y2(t,e,n){const i=n.docs.get(e._key),s=new D0(t);return new K2(t,s,e._key,i,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function gK(...t){return new f5("arrayUnion",t)}function vK(...t){return new p5("arrayRemove",t)}(function(e,n=!0){(function(s){$l=s})(Gr),yr(new Ki("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new qr(new RF(i.getProvider("auth-internal")),new OF(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new le($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Zn(cT,"4.3.2",e),Zn(cT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="type.googleapis.com/google.protobuf.Int64Value",T5="type.googleapis.com/google.protobuf.UInt64Value";function J2(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Ry(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ry(e));if(typeof t=="function"||typeof t=="object")return J2(t,e=>Ry(e));throw new Error("Data cannot be encoded in JSON: "+t)}function np(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case I5:case T5:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>np(e)):typeof t=="function"||typeof t=="object"?J2(t,e=>np(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ol extends Pn{constructor(e,n,i){super(`${L0}/${e}`,n||""),this.details=i}}function A5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function S5(t,e){let n=A5(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!KT[l])return new ol("internal","internal");n=KT[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=np(s))}}catch{}return n==="ok"?null:new ol(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="us-central1";function R5(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new ol("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class P5{constructor(e,n,i,s,o=Py,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new C5(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Py}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function k5(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function x5(t,e,n){return i=>N5(t,e,i,n||{})}async function O5(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function N5(t,e,n,i){const s=t._url(e);return D5(t,s,n,i)}async function D5(t,e,n,i){n=Ry(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,h=R5(c),f=await Promise.race([O5(e,s,o,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new ol("cancelled","Firebase Functions instance was deleted.");const p=S5(f.status,f.json);if(p)throw p;if(!f.json)throw new ol("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new ol("internal","Response is missing data field.");return{data:np(v)}}const zT="@firebase/functions",GT="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="auth-internal",M5="app-check-internal",V5="messaging-internal";function F5(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(L5),c=i.getProvider(V5),h=i.getProvider(M5);return new P5(o,l,c,h,s,t)};yr(new Ki(L0,n,"PUBLIC").setMultipleInstances(!0)),Zn(zT,GT,e),Zn(zT,GT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t=ud(),e=Py){const i=Jo(ke(t),L0).getImmediate({identifier:e}),s=l_("functions");return s&&U5(i,...s),i}function U5(t,e,n){k5(ke(t),e,n)}function qn(t,e,n){return x5(ke(t),e,n)}F5(fetch.bind(self));const $5={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebasestorage.googleapis.com",X2="storageBucket",j5=2*60*1e3,B5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Pn{constructor(e,n,i=0){super(Lv(e),`Firebase Storage: ${n} (${Lv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ji;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ji||(Ji={}));function Lv(t){return"storage/"+t}function H5(){const t="An unknown error occurred, please check the error payload for server response.";return new Zi(Ji.UNKNOWN,t)}function q5(){return new Zi(Ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function W5(){return new Zi(Ji.CANCELED,"User canceled the upload/download.")}function K5(t){return new Zi(Ji.INVALID_URL,"Invalid URL '"+t+"'.")}function z5(t){return new Zi(Ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function G5(){return new Zi(Ji.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X2+"' property when initializing the app?")}function ky(t){return new Zi(Ji.INVALID_ARGUMENT,t)}function Z2(){return new Zi(Ji.APP_DELETED,"The Firebase app was deleted.")}function Y5(t){return new Zi(Ji.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Pi.makeFromUrl(e,n)}catch{return new Pi(e,"")}if(i.path==="")return i;throw z5(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${p}/b/${s}/o${y}`,"i"),I={bucket:1,path:3},_=n===Q2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp(`^https?://${_}/${s}/${E}`,"i"),k=[{regex:c,indices:h,postModify:o},{regex:b,indices:I,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<k.length;x++){const D=k[x],K=D.regex.exec(e);if(K){const se=K[D.indices.bucket];let q=K[D.indices.path];q||(q=""),i=new Pi(se,q),D.postModify(i);break}}if(i==null)throw K5(e);return i}}class J5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function v(E){s=setTimeout(()=>{s=null,t(b,h())},E)}function y(){o&&clearTimeout(o)}function b(E,...T){if(f){y();return}if(E){y(),p.call(null,E,...T);return}if(h()||l){y(),p.call(null,E,...T);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,v(k)}let I=!1;function _(E){I||(I=!0,y(),!f&&(s!==null?(E||(c=2),clearTimeout(s),v(0)):E||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,_(!0)},n),_}function X5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){return t!==void 0}function YT(t,e,n,i){if(i<e)throw ky(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw ky(`Invalid value for '${t}'. Expected ${n} or less.`)}function e9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ip||(ip={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,i,s,o,l,c,h,f,p,v,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,I)=>{this.resolve_=b,this.reject_=I,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new of(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ip.NO_ERROR,h=o.getStatus();if(!c||t9(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===ip.ABORT;i(!1,new of(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new of(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());Z5(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=H5();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?Z2():W5();l(h)}else{const h=q5();l(h)}};this.canceled_?n(!1,new of(!1,null,!0)):this.backoffId_=Q5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&X5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function i9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function r9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function o9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function a9(t,e,n,i,s,o,l=!0){const c=e9(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return s9(f,e),i9(f,n),r9(f,o),o9(f,i),new n9(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function u9(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function c9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this._service=e,n instanceof Pi?this._location=n:this._location=Pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ko(e,n)}get root(){const e=new Pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c9(this._location.path)}get storage(){return this._service}get parent(){const e=l9(this._location.path);if(e===null)return null;const n=new Pi(this._location.bucket,e);return new Ko(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y5(e)}}function d9(t,e){const n=u9(t._location.path,e),i=new Pi(t._location.bucket,n);return new Ko(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){return/^[A-Za-z]+:\/\//.test(t)}function f9(t,e){return new Ko(t,e)}function eP(t,e){if(t instanceof M0){const n=t;if(n._bucket==null)throw G5();const i=new Ko(n,n._bucket);return e!=null?eP(i,e):i}else return e!==void 0?d9(t,e):t}function p9(t,e){if(e&&h9(e)){if(t instanceof M0)return f9(t,e);throw ky("To use ref(service, url), the first argument must be a Storage instance.")}else return eP(t,e)}function JT(t,e){const n=e==null?void 0:e[X2];return n==null?null:Pi.makeFromBucketSpec(n,t)}function m9(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:AS(s,t.app.options.projectId))}class M0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Q2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=j5,this._maxUploadRetryTime=B5,this._requests=new Set,s!=null?this._bucket=Pi.makeFromBucketSpec(s,this._host):this._bucket=JT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pi.makeFromBucketSpec(this._url,e):this._bucket=JT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ko(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new J5(Z2());{const l=a9(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const QT="@firebase/storage",XT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="storage";function g9(t,e){return t=ke(t),p9(t,e)}function v9(t=ud(),e){t=ke(t);const i=Jo(t,tP).getImmediate({identifier:e}),s=l_("storage");return s&&y9(i,...s),i}function y9(t,e,n,i={}){m9(t,e,n,i)}function _9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new M0(n,i,s,e,Gr)}function w9(){yr(new Ki(tP,_9,"PUBLIC").setMultipleInstances(!0)),Zn(QT,XT,""),Zn(QT,XT,"esm2017")}w9();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n){this._delegate=e,this.firebase=n,Df(e,new Ki("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),DS(this._delegate)))}_getService(e,n=Ds){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ds){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Df(this._delegate,e)}_addOrOverwriteComponent(e){NS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ZT=new Yo("app-compat","Firebase",E9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:Zn,setLogLevel:MS,onLog:LS,apps:null,SDK_VERSION:Gr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:QD}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||Ds,!TI(e,f))throw ZT.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,p={}){const v=yp(f,p);if(TI(e,v.name))return e[v.name];const y=new t(v,n);return e[v.name]=y,y}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,v=p.replace("-compat","");if(yr(f)&&f.type==="PUBLIC"){const y=(b=s())=>{if(typeof b[v]!="function")throw ZT.create("invalid-app-argument",{appName:p});return b[v]()};f.serviceProps!==void 0&&xf(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?n[v]:null}function h(f,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){const t=I9(b9);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:nP,extendNamespace:e,createSubscribe:PS,ErrorFactory:Yo,deepExtend:xf});function e(n){xf(t,n)}return t}const T9=nP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new vp("@firebase/app-compat"),A9="@firebase/app-compat",S9="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){Zn(A9,S9,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(LN()&&self.firebase!==void 0){eA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&eA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Te=T9;C9();var R9="firebase",P9="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Te.registerVersion(R9,P9,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=2e3;async function x9(t,e,n){var i;const{BuildInfo:s}=zo();zi(e.sessionId,"AuthEvent did not contain a session ID");const o=await M9(e.sessionId),l={};return Ll()?l.ibi=s.packageName:dd()?l.apn=s.packageName:_n(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,iy(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function O9(t){const{BuildInfo:e}=zo(),n={};Ll()?n.iosBundleId=e.packageName:dd()?n.androidPackageName=e.packageName:_n(t,"operation-not-supported-in-this-environment"),await RC(t,n)}function N9(t){const{cordova:e}=zo();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,EL()?"_blank":"_system","location=yes"),n(s)})})}async function D9(t,e,n){const{cordova:i}=zo();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function h(){var v;o();const y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(kn(t,"redirect-cancelled-by-user"))},k9))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(h),document.addEventListener("resume",f,!1),dd()&&document.addEventListener("visibilitychange",p,!1),s=()=>{e.removePassiveListener(h),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{s()}}function L9(t){var e,n,i,s,o,l,c,h,f,p;const v=zo();X(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((h=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||h===void 0?void 0:h.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X(typeof((p=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function M9(t){const e=V9(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function V9(t){if(zi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=20;class U9 extends SC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function $9(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:H9(),postBody:null,tenantId:t.tenantId,error:kn(t,"no-auth-event")}}function j9(t,e){return xy()._set(Oy(t),e)}async function tA(t){const e=await xy()._get(Oy(t));return e&&await xy()._remove(Oy(t)),e}function B9(t,e){var n,i;const s=W9(e);if(s.includes("/__/auth/callback")){const o=Af(s),l=o.firebaseError?q9(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],h=c?kn(c):null;return h?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:h,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function H9(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<F9;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function xy(){return wi(Sp)}function Oy(t){return Do("authEvent",t.config.apiKey,t.name)}function q9(t){try{return JSON.parse(t)}catch{return null}}function W9(t){const e=Af(t),n=e.link?decodeURIComponent(e.link):void 0,i=Af(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Af(s).link||s||i||n||t}function Af(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Qa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=500;class z9{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kp,this._overrideRedirectResult=R_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new U9(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){_n(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){L9(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),RV(),await this._originValidation(e);const l=$9(e,i,s);await j9(e,l);const c=await x9(e,l,n),h=await N9(c);return D9(e,o,h)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O9(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=zo(),l=setTimeout(async()=>{await tA(e),n.onEvent(nA())},K9),c=async p=>{clearTimeout(l);const v=await tA(e);let y=null;v&&(p!=null&&p.url)&&(y=B9(v,p.url)),n.onEvent(y||nA())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const h=s,f=`${o.packageName.toLowerCase()}://`;zo().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof h=="function")try{h(p)}catch(v){console.error(v)}}}}const G9=z9;function nA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e){Ft(t)._logFramework(e)}var J9="@firebase/auth-compat",Q9="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=1e3;function Cc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Z9(){return Cc()==="http:"||Cc()==="https:"}function iP(t=sn()){return!!((Cc()==="file:"||Cc()==="ionic:"||Cc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function e6(){return u_()||SS()}function t6(){return RS()&&(document==null?void 0:document.documentMode)===11}function n6(t=sn()){return/Edge\/\d+/.test(t)}function i6(t=sn()){return t6()||n6(t)}function rP(){try{const t=self.localStorage,e=fd();if(t)return t.setItem(e,"1"),t.removeItem(e),i6()?Of():!0}catch{return V0()&&Of()}return!1}function V0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mv(){return(Z9()||CS()||iP())&&!e6()&&rP()&&!V0()}function sP(){return iP()&&typeof document<"u"}async function r6(){return sP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},X9);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function s6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i={LOCAL:"local",NONE:"none",SESSION:"session"},ic=X,oP="persistence";function o6(t,e){if(ic(Object.values(_i).includes(e),t,"invalid-persistence-type"),u_()){ic(e!==_i.SESSION,t,"unsupported-persistence-type");return}if(SS()){ic(e===_i.NONE,t,"unsupported-persistence-type");return}if(V0()){ic(e===_i.NONE||e===_i.LOCAL&&Of(),t,"unsupported-persistence-type");return}ic(e===_i.NONE||rP(),t,"unsupported-persistence-type")}async function Ny(t){await t._initializationPromise;const e=aP(),n=Do(oP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function a6(t,e){const n=aP();if(!n)return[];const i=Do(oP,t,e);switch(n.getItem(i)){case _i.NONE:return[dl];case _i.LOCAL:return[fl,Ms];case _i.SESSION:return[Ms];default:return[]}}function aP(){var t;try{return((t=s6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=X;class Cs{constructor(){this.browserResolver=wi(PC),this.cordovaResolver=wi(G9),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=kp,this._overrideRedirectResult=R_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return l6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await r6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){return t.unwrap()}function u6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){return uP(t)}function d6(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new h6(t,DM(t,e))}else if(i){const s=uP(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function uP(t){const{_tokenResponse:e}=t instanceof Pn?t.customData:t;if(!e)return null;if(!(t instanceof Pn)&&"temporaryProof"in e&&"phoneNumber"in e)return jo.credentialFromResult(t);const n=e.providerId;if(!n||n===Zu.PASSWORD)return null;let i;switch(n){case Zu.GOOGLE:i=lr;break;case Zu.FACEBOOK:i=ar;break;case Zu.GITHUB:i=ur;break;case Zu.TWITTER:i=cr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:h}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?hl._create(n,c):_r._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new el(n).credential({idToken:s,accessToken:o,rawNonce:h})}return t instanceof Pn?i.credentialFromError(t):i.credentialFromResult(t)}function ai(t,e){return e.catch(n=>{throw n instanceof Pn&&d6(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:c6(n),additionalUserInfo:kM(n),user:Dr.getOrCreate(s)}})}async function Dy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>ai(t,n.confirm(i))}}class h6{constructor(e,n){this.resolver=n,this.auth=u6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ai(lP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._delegate=e,this.multiFactor=FM(e)}static getOrCreate(e){return Dr.USER_MAP.has(e)||Dr.USER_MAP.set(e,new Dr(e)),Dr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ai(this.auth,cC(this._delegate,e))}async linkWithPhoneNumber(e,n){return Dy(this.auth,mV(this._delegate,e,n))}async linkWithPopup(e){return ai(this.auth,TV(this._delegate,e,Cs))}async linkWithRedirect(e){return await Ny(Ft(this.auth)),NV(this._delegate,e,Cs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ai(this.auth,dC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Dy(this.auth,gV(this._delegate,e,n))}reauthenticateWithPopup(e){return ai(this.auth,IV(this._delegate,e,Cs))}async reauthenticateWithRedirect(e){return await Ny(Ft(this.auth)),xV(this._delegate,e,Cs)}sendEmailVerification(e){return _M(this._delegate,e)}async unlink(e){return await sM(this._delegate,e),this}updateEmail(e){return IM(this._delegate,e)}updatePassword(e){return TM(this._delegate,e)}updatePhoneNumber(e){return vV(this._delegate,e)}updateProfile(e){return EM(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return wM(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=X;class Ly{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;rc(i,"invalid-api-key",{appName:e.name}),rc(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Cs:void 0;this._delegate=n.initialize({options:{persistence:f6(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(ZD),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){tC(this._delegate,e,n)}applyActionCode(e){return cM(this._delegate,e)}checkActionCode(e){return hC(this._delegate,e)}confirmPasswordReset(e,n){return uM(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ai(this._delegate,hM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return yM(this._delegate,e)}isSignInWithEmailLink(e){return mM(this._delegate,e)}async getRedirectResult(){rc(Mv(),this._delegate,"operation-not-supported-in-this-environment");const e=await LV(this._delegate,Cs);return e?ai(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){Y9(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=iA(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=iA(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return pM(this._delegate,e,n)}sendPasswordResetEmail(e,n){return lM(this._delegate,e,n||void 0)}async setPersistence(e){o6(this._delegate,e);let n;switch(e){case _i.SESSION:n=Ms;break;case _i.LOCAL:n=await wi(fl)._isAvailable()?fl:Sp;break;case _i.NONE:n=dl;break;default:return _n("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ai(this._delegate,rM(this._delegate))}signInWithCredential(e){return ai(this._delegate,Tp(this._delegate,e))}signInWithCustomToken(e){return ai(this._delegate,aM(this._delegate,e))}signInWithEmailAndPassword(e,n){return ai(this._delegate,fM(this._delegate,e,n))}signInWithEmailLink(e,n){return ai(this._delegate,gM(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Dy(this._delegate,pV(this._delegate,e,n))}async signInWithPopup(e){return rc(Mv(),this._delegate,"operation-not-supported-in-this-environment"),ai(this._delegate,EV(this._delegate,e,Cs))}async signInWithRedirect(e){return rc(Mv(),this._delegate,"operation-not-supported-in-this-environment"),await Ny(this._delegate),PV(this._delegate,e,Cs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return dM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Ly.Persistence=_i;function iA(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Dr.getOrCreate(l)),error:e,complete:n}}function f6(t,e){const n=a6(t,e);if(typeof self<"u"&&!n.includes(fl)&&n.push(fl),typeof window<"u")for(const i of[Sp,Ms])n.includes(i)||n.push(i);return n.includes(dl)||n.push(dl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.providerId="phone",this._delegate=new jo(lP(Te.auth()))}static credential(e,n){return jo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}F0.PHONE_SIGN_IN_METHOD=jo.PHONE_SIGN_IN_METHOD;F0.PROVIDER_ID=jo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=X;class m6{constructor(e,n,i=Te.app()){var s;p6((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new hV(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="auth-compat";function v6(t){t.INTERNAL.registerComponent(new Ki(g6,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Ly(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ha.EMAIL_SIGNIN,PASSWORD_RESET:Ha.PASSWORD_RESET,RECOVER_EMAIL:Ha.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ha.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ha.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ha.VERIFY_EMAIL}},EmailAuthProvider:Bs,FacebookAuthProvider:ar,GithubAuthProvider:ur,GoogleAuthProvider:lr,OAuthProvider:el,SAMLAuthProvider:Mf,PhoneAuthProvider:F0,PhoneMultiFactorGenerator:kC,RecaptchaVerifier:m6,TwitterAuthProvider:cr,Auth:Ly,AuthCredential:Ml,Error:Pn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(J9,Q9)}v6(Te);function y6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cP={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(E,T){T=T||{};var R=document.createEvent("CustomEvent");return R.initCustomEvent(E,!!T.bubbles,!!T.cancelable,T.detail||null),R},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var E=window.getComputedStyle(_),T=function(R,k){return!(E[R]===void 0||E[R]===k)};if(E.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||E.isolation==="isolate"||E.position==="fixed"||E.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function o(_,E){for(var T=0;T<_.length;++T)if(_[T]===E)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var E=new MutationObserver(this.maybeHideModal.bind(this));E.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,R=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),k,x=function(D){if(D.target===_){var K="DOMNodeRemoved";T|=D.type.substr(0,K.length)===K,window.clearTimeout(k),k=window.setTimeout(R,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(D){_.addEventListener(D,x)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),h.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var E=document.createElement("div");this.dialog_.insertBefore(E,this.dialog_.firstChild),E.tabIndex=-1,E.focus(),this.dialog_.removeChild(E)}var T=document.createEvent("MouseEvents");T.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(T),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var E=["button","input","keygen","select","textarea"],T=E.map(function(R){return R+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(T.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,E){if(_<E)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=E},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!h.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,h.needsCentering(this.dialog_)?(h.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var E=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(E)}};var h={};if(h.reposition=function(_){var E=document.body.scrollTop||document.documentElement.scrollTop,T=E+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(E,T)+"px"},h.isInlinePositionSetByStylesheet=function(_){for(var E=0;E<document.styleSheets.length;++E){var T=document.styleSheets[E],R=null;try{R=T.cssRules}catch{}if(R)for(var k=0;k<R.length;++k){var x=R[k],D=null;try{D=document.querySelectorAll(x.selectorText)}catch{}if(!(!D||!o(D,_))){var K=x.style.getPropertyValue("top"),se=x.style.getPropertyValue("bottom");if(K&&K!=="auto"||se&&se!=="auto")return!0}}}return!1},h.needsCentering=function(_){var E=window.getComputedStyle(_);return E.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!h.isInlinePositionSetByStylesheet(_)},h.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},h.registerDialog=function(_){_.showModal||h.forceRegisterDialog(_)},h.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(E){this.forwardTab_=void 0,E.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(E){var T=[];E.forEach(function(R){for(var k=0,x;x=R.removedNodes[k];++k){if(x instanceof Element)x.localName==="dialog"&&T.push(x);else continue;T=T.concat(x.querySelectorAll("dialog"))}}),T.length&&_(T)}))},h.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},h.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},h.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,E=0,T;T=this.pendingDialogStack[E];++E)T.updateZIndex(--_,--_),E===0&&(this.overlay.style.zIndex=--_);var R=this.pendingDialogStack[0];if(R){var k=R.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},h.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var E=0,T;T=this.pendingDialogStack[E];++E)if(T.dialog===_)return E===0;_=_.parentElement}return!1},h.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var E=this.pendingDialogStack[0],T=E.dialog,R=T.compareDocumentPosition(_.target);return R&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?E.focus_():document.documentElement.focus()),!1}},h.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var E=new e("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(E)&&T.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},h.DialogManager.prototype.checkDOM_=function(_){var E=this.pendingDialogStack.slice();E.forEach(function(T){_.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},h.DialogManager.prototype.pushDialog=function(_){var E=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=E?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},h.DialogManager.prototype.removeDialog=function(_){var E=this.pendingDialogStack.indexOf(_);E!==-1&&(this.pendingDialogStack.splice(E,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},h.dm=new h.DialogManager,h.formSubmitter=null,h.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var v=p.get;p.get=function(){return l(this)?"dialog":v.call(this)};var y=p.set;p.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(_){if(h.formSubmitter=null,h.useValue=null,!_.defaultPrevented){var E=_.target;if(!(!E||!l(E.form))){var T=E.type==="submit"&&["button","input"].indexOf(E.localName)>-1;if(!T){if(!(E.localName==="input"&&E.type==="image"))return;h.useValue=_.offsetX+","+_.offsetY}var R=i(E);R&&(h.formSubmitter=E)}}},!1);var b=HTMLFormElement.prototype.submit,I=function(){if(!l(this))return b.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(_){var E=_.target;if(l(E)){_.preventDefault();var T=i(E);if(T){var R=h.formSubmitter;R&&R.form===E?T.close(h.useValue||R.value):T.close(),h.formSubmitter=null}}},!0)}h.forceRegisterDialog=h.forceRegisterDialog,h.registerDialog=h.registerDialog,typeof t.exports=="object"?t.exports=h:window.dialogPolyfill=h})()})(cP);var _6=cP.exports;const w6=y6(_6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Ot=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,E){for(var T=0;T<t.length;T++)if(t[T].className===_)return typeof E<"u"&&(t[T]=E),t[T];return!1}function s(_){var E=_.getAttribute("data-upgraded");return E===null?[""]:E.split(",")}function o(_,E){var T=s(_);return T.indexOf(E)!==-1}function l(_,E,T){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:E,cancelable:T});var R=document.createEvent("Events");return R.initEvent(_,E,T),R}function c(_,E){if(typeof _>"u"&&typeof E>"u")for(var T=0;T<t.length;T++)c(t[T].className,t[T].cssClass);else{var R=_;if(typeof E>"u"){var k=i(R);k&&(E=k.cssClass)}for(var x=document.querySelectorAll("."+E),D=0;D<x.length;D++)h(x[D],R)}}function h(_,E){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var T=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(T),!T.defaultPrevented){var R=s(_),k=[];if(E)o(_,E)||k.push(i(E));else{var x=_.classList;t.forEach(function(ne){x.contains(ne.cssClass)&&k.indexOf(ne)===-1&&!o(_,ne.className)&&k.push(ne)})}for(var D=0,K=k.length,se;D<K;D++){if(se=k[D],se){R.push(se.className),_.setAttribute("data-upgraded",R.join(","));var q=new se.classConstructor(_);q[n]=se,e.push(q);for(var ie=0,ye=se.callbacks.length;ie<ye;ie++)se.callbacks[ie](_);se.widget&&(_[se.className]=q)}else throw new Error("Unable to find a registered component for the given class.");var he=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(he)}}}function f(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var E=0,T=_.length,R;E<T;E++)R=_[E],R instanceof HTMLElement&&(h(R),R.children.length>0&&f(R.children))}function p(_){var E=typeof _.widget>"u"&&typeof _.widget>"u",T=!0;E||(T=_.widget||_.widget);var R={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:T,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===R.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===R.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var k=i(_.classAsString,R);k||t.push(R)}function v(_,E){var T=i(_);T&&T.callbacks.push(E)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function b(_){if(_){var E=e.indexOf(_);e.splice(E,1);var T=_.element_.getAttribute("data-upgraded").split(","),R=T.indexOf(_[n].classAsString);T.splice(R,1),_.element_.setAttribute("data-upgraded",T.join(","));var k=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(k)}}function I(_){var E=function(R){e.filter(function(k){return k.element_===R}).forEach(b)};if(_ instanceof Array||_ instanceof NodeList)for(var T=0;T<_.length;T++)E(_[T]);else if(_ instanceof Node)E(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:h,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:I}}();Ot.ComponentConfigPublic;Ot.ComponentConfig;Ot.Component;Ot.upgradeDom=Ot.upgradeDom;Ot.upgradeElement=Ot.upgradeElement;Ot.upgradeElements=Ot.upgradeElements;Ot.upgradeAllRegistered=Ot.upgradeAllRegistered;Ot.registerUpgradedCallback=Ot.registerUpgradedCallback;Ot.register=Ot.register;Ot.downgradeElements=Ot.downgradeElements;window.componentHandler=Ot;window.componentHandler=Ot;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Ot.upgradeAllRegistered()):(Ot.upgradeElement=function(){},Ot.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var h=document.createElement("div");h.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(h)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(r,u,d)}else r[u]=a[u];r.K=a.prototype}var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(r,a){if(a){var u=f;r=r.split(".");for(var d=0;d<r.length-1;d++){var m=r[d];m in u||(u[m]={}),u=u[m]}r=r[r.length-1],d=u[r],a=a(d),a!=d&&a!=null&&h(u,r,{configurable:!0,writable:!0,value:a})}}p("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),p("Array.prototype.includes",function(r){return r||function(a,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=d[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function y(r){return r!==void 0}function b(r){return typeof r=="string"}var I=/^[\w+/_-]+[=]{0,2}$/,_=null;function E(){}function T(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function R(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function k(r){return R(r)=="array"}function x(r){var a=R(r);return a=="array"||a=="object"&&typeof r.length=="number"}function D(r){return R(r)=="function"}function K(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var se="closure_uid_"+(1e9*Math.random()>>>0),q=0;function ie(r,a,u){return r.call.apply(r.bind,arguments)}function ye(r,a,u){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),r.apply(a,m)}}return function(){return r.apply(a,arguments)}}function he(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?he=ie:he=ye,he.apply(null,arguments)}function ne(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function ae(r,a){for(var u in a)r[u]=a[u]}var et=Date.now||function(){return+new Date};function Pe(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)!r.length&&y(a)?u[d]=a:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function ee(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(d,m,g){for(var w=Array(arguments.length-2),A=2;A<arguments.length;A++)w[A-2]=arguments[A];return a.prototype[m].apply(d,w)}}function pe(r){if(Error.captureStackTrace)Error.captureStackTrace(this,pe);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}ee(pe,Error),pe.prototype.name="CustomError";var Se;function _t(r,a){r=r.split("%s");for(var u="",d=r.length-1,m=0;m<d;m++)u+=r[m]+(m<a.length?a[m]:"%s");pe.call(this,u+r[d])}ee(_t,pe),_t.prototype.name="AssertionError";function tt(r,a){throw new _t("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var zt=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(b(r))return b(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},nt=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var d=r.length,m=b(r)?r.split(""):r,g=0;g<d;g++)g in m&&a.call(u,m[g],g,r)};function Ai(r,a){for(var u=b(r)?r.split(""):r,d=r.length-1;0<=d;--d)d in u&&a.call(void 0,u[d],d,r)}var di=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=[],m=0,g=b(r)?r.split(""):r,w=0;w<u;w++)if(w in g){var A=g[w];a.call(void 0,A,w,r)&&(d[m++]=A)}return d},Xr=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=Array(u),m=b(r)?r.split(""):r,g=0;g<u;g++)g in m&&(d[g]=a.call(void 0,m[g],g,r));return d},$t=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r))return!0;return!1};function F(r,a){return 0<=zt(r,a)}function fe(r,a){a=zt(r,a);var u;return(u=0<=a)&&re(r,a),u}function re(r,a){return Array.prototype.splice.call(r,a,1).length==1}function U(r,a){e:{for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r)){a=m;break e}a=-1}0<=a&&re(r,a)}function V(r,a){var u=0;Ai(r,function(d,m){a.call(void 0,d,m,r)&&re(r,m)&&u++})}function S(r){return Array.prototype.concat.apply([],arguments)}function C(r){var a=r.length;if(0<a){for(var u=Array(a),d=0;d<a;d++)u[d]=r[d];return u}return[]}function O(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var M=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},B=/&/g,W=/</g,de=/>/g,te=/"/g,oe=/'/g,Y=/\x00/g,Ce=/[\x00&<>"']/;function ge(r,a){return r<a?-1:r>a?1:0}function Ee(r){return Ce.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(B,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(W,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(de,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(te,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(oe,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Y,"&#0;"))),r}function Ne(r,a,u){for(var d in r)a.call(u,r[d],d,r)}function Be(r){var a={},u;for(u in r)a[u]=r[u];return a}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(r,a){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)r[u]=d[u];for(var g=0;g<ft.length;g++)u=ft[g],Object.prototype.hasOwnProperty.call(d,u)&&(r[u]=d[u])}}var wt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function an(){}an.prototype.next=function(){throw wt},an.prototype.ha=function(){return this};function Er(r){if(r instanceof an)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var a=0,u=new an;return u.next=function(){for(;;){if(a>=r.length)throw wt;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function Md(r,a){if(x(r))try{nt(r,a,void 0)}catch(u){if(u!==wt)throw u}else{r=Er(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==wt)throw u}}}function Js(r){if(x(r))return C(r);r=Er(r);var a=[];return Md(r,function(u){a.push(u)}),a}function Qs(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof Qs)for(u=r.ja(),d=0;d<u.length;d++)this.set(u[d],r.get(u[d]));else for(d in r)this.set(d,r[d])}t=Qs.prototype,t.la=function(){dn(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return dn(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function dn(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var d=r.a[a];hn(r.g,d)&&(r.a[u++]=d),a++}r.a.length=u}if(r.h!=r.a.length){var m={};for(u=a=0;a<r.a.length;)d=r.a[a],hn(m,d)||(r.a[u++]=d,m[d]=1),a++;r.a.length=u}}t.get=function(r,a){return hn(this.g,r)?this.g[r]:a},t.set=function(r,a){hn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],g=this.get(m);r.call(a,g,m,this)}},t.ha=function(r){dn(this);var a=0,u=this.j,d=this,m=new an;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(a>=d.a.length)throw wt;var g=d.a[a++];return r?g:d.g[g]},m};function hn(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tx(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var d=r[u].indexOf("="),m=null;if(0<=d){var g=r[u].substring(0,d);m=r[u].substring(d+1)}else g=r[u];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function fw(r,a,u,d){for(var m=u.length;0<=(a=r.indexOf(u,a))&&a<d;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+m),!g||g==61||g==38||g==35))return a;a+=m+1}return-1}var pw=/#|$/;function Fd(r,a){var u=r.search(pw),d=fw(r,0,a,u);if(0>d)return null;var m=r.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=a.length+1,decodeURIComponent(r.substr(d,m-d).replace(/\+/g," "))}var nx=/[?&]($|#)/;function Zr(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof Zr?(this.i=y(a)?a:r.i,Mm(this,r.j),this.A=r.A,this.h=r.h,Vm(this,r.C),this.g=r.g,Fm(this,vw(r.a)),this.s=r.s):r&&(u=String(r).match(Vd))?(this.i=!!a,Mm(this,u[1]||"",!0),this.A=Yl(u[2]||""),this.h=Yl(u[3]||"",!0),Vm(this,u[4]),this.g=Yl(u[5]||"",!0),Fm(this,u[6]||"",!0),this.s=Yl(u[7]||"")):(this.i=!!a,this.a=new Ql(null,this.i))}Zr.prototype.toString=function(){var r=[],a=this.j;a&&r.push(Jl(a,mw,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(Jl(a,mw,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(Jl(u,u.charAt(0)=="/"?sx:rx,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",Jl(u,ax)),r.join("")};function Mm(r,a,u){r.j=u?Yl(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function Vm(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Fm(r,a,u){a instanceof Ql?(r.a=a,lx(r.a,r.i)):(u||(a=Jl(a,ox)),r.a=new Ql(a,r.i))}function Um(r){return r instanceof Zr?new Zr(r):new Zr(r,void 0)}function Yl(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Jl(r,a,u){return b(r)?(r=encodeURI(r).replace(a,ix),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ix(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var mw=/[#\/\?@]/g,rx=/[#\?:]/g,sx=/[#\?]/g,ox=/[#\?@]/g,ax=/#/g;function Ql(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function es(r){r.a||(r.a=new Qs,r.g=0,r.h&&tx(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Ql.prototype,t.add=function(r,a){es(this),this.h=null,r=sa(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function Xs(r,a){es(r),a=sa(r,a),hn(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,hn(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&dn(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function gw(r,a){return es(r),a=sa(r,a),hn(r.a.g,a)}t.forEach=function(r,a){es(this),this.a.forEach(function(u,d){nt(u,function(m){r.call(a,m,d,this)},this)},this)},t.ja=function(){es(this);for(var r=this.a.la(),a=this.a.ja(),u=[],d=0;d<a.length;d++)for(var m=r[d],g=0;g<m.length;g++)u.push(a[d]);return u},t.la=function(r){es(this);var a=[];if(b(r))gw(this,r)&&(a=S(a,this.a.get(sa(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=S(a,r[u])}return a},t.set=function(r,a){return es(this),this.h=null,r=sa(this,r),gw(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var d=a[u],m=encodeURIComponent(String(d));d=this.la(d);for(var g=0;g<d.length;g++){var w=m;d[g]!==""&&(w+="="+encodeURIComponent(String(d[g]))),r.push(w)}}return this.h=r.join("&")};function vw(r){var a=new Ql;return a.h=r.h,r.a&&(a.a=new Qs(r.a),a.g=r.g),a}function sa(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function lx(r,a){a&&!r.j&&(es(r),r.h=null,r.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(Xs(this,d),Xs(this,m),0<u.length&&(this.h=null,this.a.set(sa(this,m),C(u)),this.g+=u.length))},r)),r.j=a}function Zs(r){this.a=Um(r)}function ux(r,a){a?r.a.a.set(Gt.Sa,a):Xs(r.a.a,Gt.Sa)}function cx(r,a){a!==null?r.a.a.set(Gt.Qa,a?"1":"0"):Xs(r.a.a,Gt.Qa)}function yw(r){return r.a.a.get(Gt.Pa)||null}function _w(r,a){a?r.a.a.set(Gt.PROVIDER_ID,a):Xs(r.a.a,Gt.PROVIDER_ID)}Zs.prototype.toString=function(){return this.a.toString()};var Gt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},oa;e:{var ww=v.navigator;if(ww){var bw=ww.userAgent;if(bw){oa=bw;break e}}oa=""}function ze(r){return oa.indexOf(r)!=-1}function Ew(){return(ze("Chrome")||ze("CriOS"))&&!ze("Edge")}function $m(r){return $m[" "](r),r}$m[" "]=E;function dx(r,a){var u=px;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var Iw=ze("Opera"),Dt=ze("Trident")||ze("MSIE"),ts=ze("Edge"),hx=ts||Dt,Li=ze("Gecko")&&!(oa.toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),Wn=oa.toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"),fx=Wn&&ze("Mobile"),ns=ze("Macintosh");function Tw(){var r=v.document;return r?r.documentMode:void 0}var Ud;e:{var jm="",Bm=function(){var r=oa;if(Li)return/rv:([^\);]+)(\)|;)/.exec(r);if(ts)return/Edge\/([\d\.]+)/.exec(r);if(Dt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Wn)return/WebKit\/(\S+)/.exec(r);if(Iw)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Bm&&(jm=Bm?Bm[1]:""),Dt){var Hm=Tw();if(Hm!=null&&Hm>parseFloat(jm)){Ud=String(Hm);break e}}Ud=jm}var px={};function eo(r){return dx(r,function(){for(var a=0,u=M(String(Ud)).split("."),d=M(String(r)).split("."),m=Math.max(u.length,d.length),g=0;a==0&&g<m;g++){var w=u[g]||"",A=d[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],w[0].length==0&&A[0].length==0)break;a=ge(w[1].length==0?0:parseInt(w[1],10),A[1].length==0?0:parseInt(A[1],10))||ge(w[2].length==0,A[2].length==0)||ge(w[2],A[2]),w=w[3],A=A[3]}while(a==0)}return 0<=a})}var Xl,Aw=v.document;Xl=Aw&&Dt?Tw()||(Aw.compatMode=="CSS1Compat"?parseInt(Ud,10):5):void 0;function aa(r,a){this.a=r===Cw&&a||"",this.g=Sw}aa.prototype.ma=!0,aa.prototype.ka=function(){return this.a},aa.prototype.toString=function(){return"Const{"+this.a+"}"};var Sw={},Cw={};function to(){this.a="",this.h=Pw}to.prototype.ma=!0,to.prototype.ka=function(){return this.a.toString()},to.prototype.g=function(){return 1},to.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Rw(r){return r instanceof to&&r.constructor===to&&r.h===Pw?r.a:(tt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+R(r)),"type_error:TrustedResourceUrl")}function mx(){var r=oO;r instanceof aa&&r.constructor===aa&&r.g===Sw?r=r.a:(tt("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new to;return a.a=r,a}var Pw={};function hi(){this.a="",this.h=Ow}hi.prototype.ma=!0,hi.prototype.ka=function(){return this.a.toString()},hi.prototype.g=function(){return 1},hi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function is(r){return r instanceof hi&&r.constructor===hi&&r.h===Ow?r.a:(tt("expected object of type SafeUrl, got '"+r+"' of type "+R(r)),"type_error:SafeUrl")}var kw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function $d(r){return r instanceof hi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),kw.test(r)||(r="about:invalid#zClosurez"),qm(r))}function xw(r){return r instanceof hi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),kw.test(r)||(r="about:invalid#zClosurez"),qm(r))}var Ow={};function qm(r){var a=new hi;return a.a=r,a}qm("about:blank");function la(){this.a="",this.g=Nw}la.prototype.ma=!0;var Nw={};la.prototype.ka=function(){return this.a},la.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function rs(){this.a="",this.j=Dw,this.h=null}rs.prototype.g=function(){return this.h},rs.prototype.ma=!0,rs.prototype.ka=function(){return this.a.toString()},rs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function jd(r){return r instanceof rs&&r.constructor===rs&&r.j===Dw?r.a:(tt("expected object of type SafeHtml, got '"+r+"' of type "+R(r)),"type_error:SafeHtml")}var Dw={};function Zl(r,a){var u=new rs;return u.a=r,u.h=a,u}Zl("<!DOCTYPE html>",0);var gx=Zl("",0);Zl("<br>",0);var vx=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=jd(gx),!a.parentElement):!1});function yx(r,a){if(r.src=Rw(a),_===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&I.test(a)){_=a;break e}_=""}a=_,a&&r.setAttribute("nonce",a)}function ua(r,a){a=a instanceof hi?a:xw(a),r.assign(is(a))}function ss(r,a){this.a=y(r)?r:0,this.g=y(a)?a:0}ss.prototype.toString=function(){return"("+this.a+", "+this.g+")"},ss.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},ss.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},ss.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Wm(r,a){this.width=r,this.height=a}t=Wm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Bd(r){return r?new Ym(eu(r)):Se||(Se=new Ym)}function Km(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):Lw(document,r,a)}function zm(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var d=a||u;r=d.querySelectorAll&&d.querySelector&&r?d.querySelector(r?"."+r:""):Lw(u,r,a)[0]||null}return r||null}function Lw(r,a,u){var d;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var m=r.getElementsByClassName(a);return m}if(m=r.getElementsByTagName("*"),a){var g={};for(u=d=0;r=m[u];u++){var w=r.className;typeof w.split=="function"&&F(w.split(/\s+/),a)&&(g[d++]=r)}return g.length=d,g}return m}function _x(r,a){Ne(a,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?r.style.cssText=u:d=="class"?r.className=u:d=="for"?r.htmlFor=u:Mw.hasOwnProperty(d)?r.setAttribute(Mw[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,u):r[d]=u})}var Mw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hd(r){return r.scrollingElement?r.scrollingElement:(Wn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function no(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function eu(r){return r.nodeType==9?r:r.ownerDocument||r.document}function Gm(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(eu(r).createTextNode(String(a)))}}function Vw(r,a){return a?wx(r,function(u){return!a||b(u.className)&&F(u.className.split(/\s+/),a)}):null}function wx(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function Ym(r){this.a=r||v.document||document}Ym.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var qd={Fc:!0},Fw={Hc:!0},bx={Ec:!0},Uw={Gc:!0};function os(){throw Error("Do not instantiate directly")}os.prototype.va=null,os.prototype.toString=function(){return this.content};function tu(r,a,u,d){if(r=r(a||Tx,void 0,u),d=(d||Bd()).a.createElement("DIV"),r=Ex(r),r.match(Ix),r=Zl(r,null),vx())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=jd(r),d.childNodes.length==1&&(r=d.firstChild,r.nodeType==1&&(d=r)),d}function Ex(r){if(!K(r))return Ee(String(r));if(r instanceof os){if(r.fa===qd)return r.content;if(r.fa===Uw)return Ee(r.content)}return tt("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var Ix=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Tx={};function Ax(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Wd(){os.call(this)}ee(Wd,os),Wd.prototype.fa=qd;function Oe(r){return r!=null&&r.fa===qd?r:r instanceof rs?me(jd(r).toString(),r.g()):me(Ee(String(String(r))),Ax(r))}function Kd(){os.call(this)}ee(Kd,os),Kd.prototype.fa=Fw,Kd.prototype.va=1;function zd(r,a){this.content=String(r),this.va=a??null}ee(zd,os),zd.prototype.fa=Uw;function rt(r){return new zd(r,void 0)}var me=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=new a(String(u)),d!==void 0&&(u.va=d),u}}(Wd),Sx=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(Kd);function Cx(r){function a(){}var u={label:Lt("New password")};a.prototype=r,r=new a;for(var d in u)r[d]=u[d];return r}function Lt(r){return(r=String(r))?new zd(r,void 0):""}var $w=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=String(u),u?(u=new a(u),d!==void 0&&(u.va=d),u):""}}(Wd);function Kn(r){return r!=null&&r.fa===qd?String(String(r.content).replace(Dx,"").replace(Lx,"&lt;")).replace(xx,Px):Ee(String(r))}function io(r){return r!=null&&r.fa===Fw?r=String(r).replace(Qm,Jm):r instanceof hi?r=String(is(r).toString()).replace(Qm,Jm):(r=String(r),Nx.test(r)?r=r.replace(Qm,Jm):(tt("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function jw(r){return r!=null&&r.fa===bx?r=r.content:r==null?r="":r instanceof la?r instanceof la&&r.constructor===la&&r.g===Nw?r=r.a:(tt("expected object of type SafeStyle, got '"+r+"' of type "+R(r)),r="type_error:SafeStyle"):(r=String(r),Ox.test(r)||(tt("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var Rx={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Px(r){return Rx[r]}var kx={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function Jm(r){return kx[r]}var xx=/[\x00\x22\x27\x3c\x3e]/g,Qm=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Ox=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Nx=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Dx=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Lx=/</g;function Xm(){return rt("Enter a valid phone number")}function Bw(){return rt("Unable to send password reset code to specified email")}function Hw(){return rt("Something went wrong. Please try again.")}function qw(){return rt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Ww(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return rt(a)}function Kw(){return rt("Please login again to perform this operation")}function nu(r,a,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=Mx+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=Hw()}r=rt(r).toString()}this.message=r||"",this.credential=u||null}c(nu,Error),nu.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Mx="firebaseui/";function ro(){this.T=this.T,this.C=this.C}var Vx=0;ro.prototype.T=!1,ro.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Vx!=0)&&(this[se]||(this[se]=++q))};function iu(r,a){r.T?y(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(y(void 0)?he(a,void 0):a))}ro.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ru(r){r&&typeof r.m=="function"&&r.m()}var Fx=Object.freeze||function(r){return r},zw=!Dt||9<=Number(Xl),Ux=Dt&&!eo("9"),$x=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",E,a),v.removeEventListener("test",E,a)}catch{}return r}();function Ir(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}Ir.prototype.stopPropagation=function(){this.h=!0},Ir.prototype.preventDefault=function(){this.qb=!1};function zn(r,a){if(Ir.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if(Li){e:{try{$m(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=b(r.pointerType)?r.pointerType:jx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}ee(zn,Ir);var jx=Fx({2:"touch",3:"pen",4:"mouse"});zn.prototype.stopPropagation=function(){zn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},zn.prototype.preventDefault=function(){zn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Ux)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var su="closure_listenable_"+(1e6*Math.random()|0),Bx=0;function Hx(r,a,u,d,m){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.La=m,this.key=++Bx,this.sa=this.Ia=!1}function Gd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function Yd(r){this.src=r,this.a={},this.g=0}Yd.prototype.add=function(r,a,u,d,m){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var w=eg(r,a,d,m);return-1<w?(a=r[w],u||(a.Ia=!1)):(a=new Hx(a,this.src,g,!!d,m),a.Ia=u,r.push(a)),a};function Zm(r,a){var u=a.type;u in r.a&&fe(r.a[u],a)&&(Gd(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function eg(r,a,u,d){for(var m=0;m<r.length;++m){var g=r[m];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==d)return m}return-1}var tg="closure_lm_"+(1e6*Math.random()|0),ng={};function Mi(r,a,u,d,m){if(d&&d.once)return ou(r,a,u,d,m);if(k(a)){for(var g=0;g<a.length;g++)Mi(r,a[g],u,d,m);return null}return u=rg(u),r&&r[su]?r.J.add(String(a),u,!1,K(d)?!!d.capture:!!d,m):Gw(r,a,u,!1,d,m)}function Gw(r,a,u,d,m,g){if(!a)throw Error("Invalid event type");var w=K(m)?!!m.capture:!!m,A=Jd(r);if(A||(r[tg]=A=new Yd(r)),u=A.add(a,u,d,w,g),u.proxy)return u;if(d=qx(),u.proxy=d,d.src=r,d.listener=u,r.addEventListener)$x||(m=w),m===void 0&&(m=!1),r.addEventListener(a.toString(),d,m);else if(r.attachEvent)r.attachEvent(Yw(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function qx(){var r=Wx,a=zw?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function ou(r,a,u,d,m){if(k(a)){for(var g=0;g<a.length;g++)ou(r,a[g],u,d,m);return null}return u=rg(u),r&&r[su]?r.J.add(String(a),u,!0,K(d)?!!d.capture:!!d,m):Gw(r,a,u,!0,d,m)}function so(r,a,u,d,m){if(k(a))for(var g=0;g<a.length;g++)so(r,a[g],u,d,m);else d=K(d)?!!d.capture:!!d,u=rg(u),r&&r[su]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=eg(g,u,d,m),-1<u&&(Gd(g[u]),re(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=Jd(r))&&(a=r.a[a.toString()],r=-1,a&&(r=eg(a,u,d,m)),(u=-1<r?a[r]:null)&&as(u))}function as(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[su])Zm(a.J,r);else{var u=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(u,d,r.capture):a.detachEvent?a.detachEvent(Yw(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=Jd(a))?(Zm(u,r),u.g==0&&(u.src=null,a[tg]=null)):Gd(r)}}}function Yw(r){return r in ng?ng[r]:ng[r]="on"+r}function Jw(r,a,u,d){var m=!0;if((r=Jd(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=Qw(g,d),m=m&&g!==!1)}return m}function Qw(r,a){var u=r.listener,d=r.La||r.src;return r.Ia&&as(r),u.call(d,a)}function Wx(r,a){if(r.sa)return!0;if(!zw){if(!a)e:{a=["window","event"];for(var u=v,d=0;d<a.length;d++)if(u=u[a[d]],u==null){a=null;break e}a=u}if(d=a,a=new zn(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.g;m;m=m.parentNode)d.push(m);for(r=r.type,m=d.length-1;!a.h&&0<=m;m--){a.g=d[m];var g=Jw(d[m],r,!0,a);u=u&&g}for(m=0;!a.h&&m<d.length;m++)a.g=d[m],g=Jw(d[m],r,!1,a),u=u&&g}return u}return Qw(r,new zn(a,this))}function Jd(r){return r=r[tg],r instanceof Yd?r:null}var ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function rg(r){return D(r)?r:(r[ig]||(r[ig]=function(a){return r.handleEvent(a)}),r[ig])}function Yt(){ro.call(this),this.J=new Yd(this),this.wb=this,this.Ha=null}ee(Yt,ro),Yt.prototype[su]=!0,Yt.prototype.Za=function(r){this.Ha=r},Yt.prototype.removeEventListener=function(r,a,u,d){so(this,r,a,u,d)};function ls(r,a){var u,d=r.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(r=r.wb,d=a.type||a,b(a))a=new Ir(a,r);else if(a instanceof Ir)a.target=a.target||r;else{var m=a;a=new Ir(d,r),it(a,m)}if(m=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];m=Qd(w,d,!0,a)&&m}if(a.h||(w=a.g=r,m=Qd(w,d,!0,a)&&m,a.h||(m=Qd(w,d,!1,a)&&m)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],m=Qd(w,d,!1,a)&&m;return m}Yt.prototype.o=function(){if(Yt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],d=0;d<u.length;d++)Gd(u[d]);delete r.a[a],r.g--}}this.Ha=null};function Qd(r,a,u,d){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var A=w.listener,N=w.La||w.src;w.Ia&&Zm(r.J,w),m=A.call(N,d)!==!1&&m}}return m&&d.qb!=0}var fi={},Xw=0;function Zw(r,a){if(!r)throw Error("Event target element must be provided!");if(r=sg(r),fi[r]&&fi[r].length)for(var u=0;u<fi[r].length;u++)ls(fi[r][u],a)}function Kx(r){var a=sg(r.N());fi[a]&&fi[a].length&&(U(fi[a],function(u){return u==r}),fi[a].length||delete fi[a])}function sg(r){return typeof r.a>"u"&&(r.a=Xw,Xw++),r.a}function Xd(r){if(!r)throw Error("Event target element must be provided!");Yt.call(this),this.a=r}c(Xd,Yt),Xd.prototype.N=function(){return this.a},Xd.prototype.register=function(){var r=sg(this.N());fi[r]?F(fi[r],this)||fi[r].push(this):fi[r]=[this]};function eb(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function og(r,a){this.h=r,this.j=a,this.g=0,this.a=null}og.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function tb(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function nb(){this.g=this.a=null}var ib=new og(function(){return new ag},function(r){r.reset()});nb.prototype.add=function(r,a){var u=ib.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function zx(){var r=sb,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function ag(){this.next=this.g=this.a=null}ag.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},ag.prototype.reset=function(){this.next=this.g=this.a=null};function rb(r){v.setTimeout(function(){throw r},0)}var lg;function Gx(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ze("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var w="callImmediate"+Math.random(),A=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=he(function(N){(A=="*"||N.origin==A)&&N.data==w&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,A)}}}),typeof r<"u"&&!ze("Trident")&&!ze("MSIE")){var a=new r,u={},d=u;return a.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function ug(r,a){Zd||Yx(),cg||(Zd(),cg=!0),sb.add(r,a)}var Zd;function Yx(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);Zd=function(){r.then(ob)}}else Zd=function(){var a=ob;!D(v.setImmediate)||v.Window&&v.Window.prototype&&!ze("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(lg||(lg=Gx()),lg(a)):v.setImmediate(a)}}var cg=!1,sb=new nb;function ob(){for(var r;r=zx();){try{r.a.call(r.g)}catch(a){rb(a)}tb(ib,r)}cg=!1}function Jt(r){if(this.a=oo,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=E)try{var a=this;r.call(void 0,function(u){ao(a,au,u)},function(u){if(!(u instanceof da))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}ao(a,Tr,u)})}catch(u){ao(this,Tr,u)}}var oo=0,au=2,Tr=3;function ab(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}ab.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var lb=new og(function(){return new ab},function(r){r.reset()});function dg(r,a,u){var d=lb.get();return d.s=r,d.g=a,d.j=u,d}function Mt(r){if(r instanceof Jt)return r;var a=new Jt(E);return ao(a,au,r),a}function ca(r){return new Jt(function(a,u){u(r)})}Jt.prototype.then=function(r,a,u){return cb(this,D(r)?r:null,D(a)?a:null,u)},Jt.prototype.$goog_Thenable=!0,t=Jt.prototype,t.fc=function(r,a){return r=dg(r,r,a),r.h=!0,hg(this,r),this},t.Ca=function(r,a){return cb(this,null,r,a)},t.cancel=function(r){this.a==oo&&ug(function(){var a=new da(r);ub(this,a)},this)};function ub(r,a){if(r.a==oo)if(r.h){var u=r.h;if(u.g){for(var d=0,m=null,g=null,w=u.g;w&&(w.h||(d++,w.a==r&&(m=w),!(m&&1<d)));w=w.next)m||(g=w);m&&(u.a==oo&&d==1?ub(u,a):(g?(d=g,d.next==u.j&&(u.j=d),d.next=d.next.next):hb(u),fb(u,m,Tr,a)))}r.h=null}else ao(r,Tr,a)}function hg(r,a){r.g||r.a!=au&&r.a!=Tr||db(r),r.j?r.j.next=a:r.g=a,r.j=a}function cb(r,a,u,d){var m=dg(null,null,null);return m.a=new Jt(function(g,w){m.s=a?function(A){try{var N=a.call(d,A);g(N)}catch(Q){w(Q)}}:g,m.g=u?function(A){try{var N=u.call(d,A);!y(N)&&A instanceof da?w(A):g(N)}catch(Q){w(Q)}}:w}),m.a.h=r,hg(r,m),m.a}t.hc=function(r){this.a=oo,ao(this,au,r)},t.ic=function(r){this.a=oo,ao(this,Tr,r)};function ao(r,a,u){if(r.a==oo){r===u&&(a=Tr,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var d=u,m=r.hc,g=r.ic;if(d instanceof Jt){hg(d,dg(m||E,g||null,r));var w=!0}else if(eb(d))d.then(m,g,r),w=!0;else{if(K(d))try{var A=d.then;if(D(A)){Jx(d,A,m,g,r),w=!0;break e}}catch(N){g.call(r,N),w=!0;break e}w=!1}}w||(r.A=u,r.a=a,r.h=null,db(r),a!=Tr||u instanceof da||Qx(r,u))}}function Jx(r,a,u,d,m){function g(N){A||(A=!0,d.call(m,N))}function w(N){A||(A=!0,u.call(m,N))}var A=!1;try{a.call(r,w,g)}catch(N){g(N)}}function db(r){r.i||(r.i=!0,ug(r.Hb,r))}function hb(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=hb(this);)fb(this,r,this.a,this.A);this.i=!1};function fb(r,a,u,d){if(u==Tr&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,pb(a,u,d);else try{a.h?a.s.call(a.j):pb(a,u,d)}catch(m){mb.call(null,m)}tb(lb,a)}function pb(r,a,u){a==au?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function Qx(r,a){r.s=!0,ug(function(){r.s&&mb.call(null,a)})}var mb=rb;function da(r){pe.call(this,r)}ee(da,pe),da.prototype.name="cancel";function gb(r,a,u){a||(a={}),u=u||window;var d=r instanceof hi?r:$d(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var m=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(a[g]?1:0))}var g=m.join(",");return(ze("iPhone")&&!ze("iPod")&&!ze("iPad")||ze("iPad")||ze("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),d=d instanceof hi?d:xw(d),g.href=is(d),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=is(d).toString(),u&&(hx&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Zl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ee(a)+'">',null),u.document.write(jd(a)),u.document.close())):(u=u.open(is(d).toString(),r,g))&&a.noopener&&(u.opener=null),u}function vb(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function ha(r){gb(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function eh(r,a){if(r=K(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function Ar(){return window.location.href}function Xx(){var r=null;return new Jt(function(a){v.document.readyState=="complete"?a():(r=function(){a()},ou(window,"load",r))}).Ca(function(a){throw so(window,"load",r),a})}function Zx(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function eO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(d){return a.includes(d)}).reduce(function(d,m){return d[m]=r[m],d},u)}function us(r){var a=iO;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}us.prototype.cancel=function(r){if(this.a)this.h instanceof us&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new uu,th(this),lu(this,!1,r))}},us.prototype.L=function(r,a){this.A=!1,lu(this,r,a)};function lu(r,a,u){r.a=!0,r.h=u,r.j=!a,wb(r)}function th(r){if(r.a){if(!r.J)throw new nh;r.J=!1}}us.prototype.callback=function(r){th(this),lu(this,!0,r)};function yb(r,a,u){r.s.push([a,u,void 0]),r.a&&wb(r)}us.prototype.then=function(r,a,u){var d,m,g=new Jt(function(w,A){d=w,m=A});return yb(this,d,function(w){w instanceof uu?g.cancel():m(w)}),g.then(r,a,u)},us.prototype.$goog_Thenable=!0;function _b(r){return $t(r.s,function(a){return D(a[1])})}function wb(r){if(r.i&&r.a&&_b(r)){var a=r.i,u=ih[a];u&&(v.clearTimeout(u.a),delete ih[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var d=u=!1;r.s.length&&!r.A;){var m=r.s.shift(),g=m[0],w=m[1];if(m=m[2],g=r.j?w:g)try{var A=g.call(m||r.O,a);y(A)&&(r.j=r.j&&(A==a||A instanceof Error),r.h=a=A),(eb(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(d=!0,r.A=!0)}catch(N){a=N,r.j=!0,_b(r)||(u=!0)}}r.h=a,d&&(A=he(r.L,r,!0),d=he(r.L,r,!1),a instanceof us?(yb(a,A,d),a.l=!0):a.then(A,d)),u&&(a=new bb(a),ih[a.a]=a,r.i=a.a)}function nh(){pe.call(this)}ee(nh,pe),nh.prototype.message="Deferred has already fired",nh.prototype.name="AlreadyCalledError";function uu(){pe.call(this)}ee(uu,pe),uu.prototype.message="Deferred was canceled",uu.prototype.name="CanceledError";function bb(r){this.a=v.setTimeout(he(this.h,this),0),this.g=r}bb.prototype.h=function(){throw delete ih[this.a],this.g};var ih={};function tO(r){var a={},u=a.document||document,d=Rw(r).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},w=new us(g),A=null,N=a.timeout!=null?a.timeout:5e3;return 0<N&&(A=window.setTimeout(function(){rh(m,!0);var Q=new fg(sO,"Timeout reached for loading script "+d);th(w),lu(w,!1,Q)},N),g.sb=A),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(rh(m,a.xc||!1,A),w.callback(null))},m.onerror=function(){rh(m,!0,A);var Q=new fg(rO,"Error while loading script "+d);th(w),lu(w,!1,Q)},g=a.attributes||{},it(g,{type:"text/javascript",charset:"UTF-8"}),_x(m,g),yx(m,r),nO(u).appendChild(m),w}function nO(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function iO(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&rh(r,!0,this.sb)}}function rh(r,a,u){u!=null&&v.clearTimeout(u),r.onload=E,r.onerror=E,r.onreadystatechange=E,a&&window.setTimeout(function(){no(r)},0)}var rO=0,sO=1;function fg(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),pe.call(this,u),this.code=r}ee(fg,pe);function cu(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function pg(r){this.a=r||cu(),this.h=!1,this.g=null}pg.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function Eb(r,a,u){if(r.a&&a)return function(){return r.h=!0,new Jt(function(m){r.g=m,r.a.initialize({client_id:a,callback:m,auto_select:!u}),r.a.prompt()})}();if(a){var d=mg.Xa().load().then(function(){return r.a=cu(),Eb(r,a,u)}).Ca(function(){return null});return Mt(d)}return Mt(null)}T(pg);var oO=new aa(Cw,"https://accounts.google.com/gsi/client");function mg(){this.a=null}mg.prototype.load=function(){var r=this;if(this.a)return this.a;var a=mx();return cu()?Mt():this.a=Xx().then(function(){if(!cu())return new Jt(function(u,d){var m=setTimeout(function(){r.a=null,d(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},Mt(tO(a)).then(function(){cu()&&u()}).Ca(function(g){clearTimeout(m),r.a=null,d(g)})})})},T(mg);function gg(r,a){this.a=r,this.g=a||function(u){throw u}}gg.prototype.confirm=function(r){return Mt(this.a.confirm(r)).Ca(this.g)};function vg(r,a,u){this.reset(r,a,u,void 0,void 0)}vg.prototype.a=null,vg.prototype.reset=function(r,a,u,d,m){this.h=d||et(),this.j=r,this.s=a,this.g=u,delete this.a};function yg(r){this.s=r,this.a=this.h=this.j=this.g=null}function sh(r,a){this.name=r,this.value=a}sh.prototype.toString=function(){return this.name};var Ib=new sh("SEVERE",1e3),Tb=new sh("WARNING",900),Ab=new sh("CONFIG",700);function Sb(r){return r.j?r.j:r.g?Sb(r.g):(tt("Root logger has no level set."),null)}yg.prototype.log=function(r,a,u){if(r.value>=Sb(this).value)for(D(a)&&(a=a()),r=new vg(r,String(a),this.s),u&&(r.a=u),u=this;u;){var d=u,m=r;if(d.a)for(var g=0;a=d.a[g];g++)a(m);u=u.g}};var _g={},du=null;function Cb(){du||(du=new yg(""),_g[""]=du,du.j=Ab)}function Rb(r){Cb();var a;if(!(a=_g[r])){a=new yg(r);var u=r.lastIndexOf("."),d=r.substr(u+1);u=Rb(r.substr(0,u)),u.h||(u.h={}),u.h[d]=a,a.g=u,_g[r]=a}return a}function oh(){this.a=et()}var wg=null;oh.prototype.set=function(r){this.a=r},oh.prototype.reset=function(){this.set(et())},oh.prototype.get=function(){return this.a};function hu(r){this.j=r||"",wg||(wg=new oh),this.s=wg}hu.prototype.a=!0,hu.prototype.g=!0,hu.prototype.h=!1;function lo(r){return 10>r?"0"+r:String(r)}function aO(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function Pb(r){hu.call(this,r)}ee(Pb,hu);function lO(r,a){var u=[];if(u.push(r.j," "),r.g){var d=new Date(a.h);u.push("[",lo(d.getFullYear()-2e3)+lo(d.getMonth()+1)+lo(d.getDate())+" "+lo(d.getHours())+":"+lo(d.getMinutes())+":"+lo(d.getSeconds())+"."+lo(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",aO(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function kb(){this.s=he(this.h,this),this.a=new Pb,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}kb.prototype.h=function(r){function a(g){if(g){if(g.value>=Ib.value)return"error";if(g.value>=Tb.value)return"warn";if(g.value>=Ab.value)return"log"}return"debug"}if(!this.j[r.g]){var u=lO(this.a,r),d=uO;if(d){var m=a(r.j);cO(d,m,u,r.a)}}};var uO=v.console;function cO(r,a,u,d){r[a]?r[a](u,d||""):r.log(u,d||"")}function pi(r,a){var u=bg;u&&u.log(Ib,r,a)}var bg;bg=Rb("firebaseui");var Eg=new kb;if(Eg.g!=1){var ah;Cb(),ah=du;var dO=Eg.s;ah.a||(ah.a=[]),ah.a.push(dO),Eg.g=!0}function cs(r){var a=bg;a&&a.log(Tb,r,void 0)}function xb(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=xb.prototype,t.set=function(r,a,u,d,m,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');y(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(et()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+m+d+u+g},t.get=function(r,a){for(var u=r+"=",d=(this.a.cookie||"").split(";"),m=0,g;m<d.length;m++){if(g=M(d[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return Ig(this).keys},t.la=function(){return Ig(this).values},t.clear=function(){for(var r=Ig(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function Ig(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],d,m,g=0;g<r.length;g++)m=M(r[g]),d=m.indexOf("="),d==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:a,values:u}}var lh=new xb;function Ob(){}function fa(r,a,u,d){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!d}c(fa,Ob),fa.prototype.set=function(r,a){lh.set(r,a,this.h,this.g,this.a,this.j)},fa.prototype.get=function(r){return lh.get(r)||null},fa.prototype.ra=function(r){var a=this.g,u=this.a;lh.get(r),lh.set(r,"",0,a,u)};function Tg(r,a){this.g=r,this.a=a||null}function Nb(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function Db(r){if(r&&r.email){var a=r.credential&&Te.auth.AuthCredential.fromJSON(r.credential);return new Tg(r.email,a)}return null}function Lb(r){this.a=r||null}function Mb(r){for(var a=[],u=0,d=0;d<r.length;d++){var m=r.charCodeAt(d);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function hO(r){return Xr(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function uh(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(pa*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<pa*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,jb(a),a[0]^=dh[r/this.g][0],a[1]^=dh[r/this.g][1],a[2]^=dh[r/this.g][2],a[3]^=dh[r/this.g][3]}else 6<this.g&&r%this.g==4&&jb(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}uh.prototype.A=16;var pa=uh.prototype.A/4;function Vb(r,a){for(var u,d=0;d<pa;d++)for(var m=0;4>m;m++)u=4*m+d,u=a[u],r.h[d][m]=u}function Fb(r){for(var a=[],u=0;u<pa;u++)for(var d=0;4>d;d++)a[4*d+u]=r.h[u][d];return a}function ma(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]^=r.a[4*a+d][u]}function ch(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]=a[r.h[u][d]]}function Ub(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%pa]}function $b(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%pa]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function jb(r){r[0]=ga[r[0]],r[1]=ga[r[1]],r[2]=ga[r[2]],r[3]=ga[r[3]]}var ga=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Bb=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],dh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],hh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],fh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ph=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],mh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],gh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],vh=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Hb(r,a){r=new uh(Wb(r)),a=Mb(a);for(var u=a.splice(0,16),d="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=r,Vb(m,u),ma(m,0),u=1;u<m.j;++u){ch(m,ga),Ub(m),g=m.h;for(var w=m.s[0],A=0;4>A;A++)w[0]=g[0][A],w[1]=g[1][A],w[2]=g[2][A],w[3]=g[3][A],g[0][A]=hh[w[0]]^fh[w[1]]^w[2]^w[3],g[1][A]=w[0]^hh[w[1]]^fh[w[2]]^w[3],g[2][A]=w[0]^w[1]^hh[w[2]]^fh[w[3]],g[3][A]=fh[w[0]]^w[1]^w[2]^hh[w[3]];ma(m,u)}ch(m,ga),Ub(m),ma(m,m.j),d+=hO(Fb(m)),u=a.splice(0,16)}return d}function qb(r,a){r=new uh(Wb(r));for(var u=[],d=0;d<a.length;d+=2)u.push(parseInt(a.substring(d,d+2),16));var m=u.splice(0,16);for(a="";m.length;){for(d=r,Vb(d,m),ma(d,d.j),m=1;m<d.j;++m){$b(d),ch(d,Bb),ma(d,d.j-m);for(var g=d.h,w=d.s[0],A=0;4>A;A++)w[0]=g[0][A],w[1]=g[1][A],w[2]=g[2][A],w[3]=g[3][A],g[0][A]=vh[w[0]]^mh[w[1]]^gh[w[2]]^ph[w[3]],g[1][A]=ph[w[0]]^vh[w[1]]^mh[w[2]]^gh[w[3]],g[2][A]=gh[w[0]]^ph[w[1]]^vh[w[2]]^mh[w[3]],g[3][A]=mh[w[0]]^gh[w[1]]^ph[w[2]]^vh[w[3]]}if($b(d),ch(d,Bb),ma(d,0),d=Fb(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",g=0;g<d.length;g+=8192)m+=String.fromCharCode.apply(null,O(d,g,g+8192));d=m}a+=d,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function Wb(r){r=Mb(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function Kb(r){var a=[];return Ag(new fO,r,a),a.join("")}function fO(){}function Ag(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(k(a)){var d=a;a=d.length,u.push("[");for(var m="",g=0;g<a;g++)u.push(m),Ag(r,d[g],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(g=a[d],typeof g!="function"&&(u.push(m),Gb(d,u),u.push(":"),Ag(r,g,u),m=","));u.push("}");return}}switch(typeof a){case"string":Gb(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var zb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},pO=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(r,a){a.push('"',r.replace(pO,function(u){var d=zb[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),zb[u]=d),d}),'"')}function fu(r){this.a=r}fu.prototype.set=function(r,a){y(a)?this.a.set(r,Kb(a)):this.a.ra(r)},fu.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function yh(){}ee(yh,Ob),yh.prototype.clear=function(){var r=Js(this.ha(!0)),a=this;nt(r,function(u){a.ra(u)})};function _h(r){this.a=r}ee(_h,yh);function wh(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=_h.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!b(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,d=new an;return d.next=function(){if(a>=u.length)throw wt;var m=u.key(a++);if(r)return m;if(m=u.getItem(m),!b(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function Sg(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}ee(Sg,_h);function Cg(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}ee(Cg,_h);function va(r,a){this.g=r,this.a=a+"::"}ee(va,yh),va.prototype.set=function(r,a){this.g.set(this.a+r,a)},va.prototype.get=function(r){return this.g.get(this.a+r)},va.prototype.ra=function(r){this.g.ra(this.a+r)},va.prototype.ha=function(r){var a=this.g.ha(!0),u=this,d=new an;return d.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return r?m.substr(u.a.length):u.g.get(m)},d},wh(new Sg);var Yb,Jb=new Cg;Yb=wh(Jb)?new va(Jb,"firebaseui"):null;var Rg=new fu(Yb),Pg={name:"pendingEmailCredential",storage:Rg},uo={name:"redirectStatus",storage:Rg},pu={name:"redirectUrl",storage:Rg},ya={name:"emailForSignIn",storage:new fu(new fa(3600,"/"))},mu={name:"pendingEncryptedCredential",storage:new fu(new fa(3600,"/"))};function _a(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function ri(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function wa(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function Qb(r){return _a(pu,r)||null}function er(r){return r=_a(Pg,r)||null,Db(r)}function tr(r){ri(Pg,r)}function Xb(r,a){wa(Pg,Nb(r),a)}function kg(r){return(r=_a(uo,r)||null)&&typeof r.tenantId<"u"?new Lb(r.tenantId):null}function mO(r,a){wa(uo,{tenantId:r.a},a)}function gO(r,a){a=_a(ya,a);var u=null;if(a)try{var d=qb(r,a),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function vO(r,a){a=_a(mu,a);var u=null;if(a)try{var d=qb(r,a);u=JSON.parse(d)}catch{}return Db(u||null)}function yO(r,a,u){wa(mu,Hb(r,JSON.stringify(Nb(a))),u)}function xg(){this.W={}}function jt(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function Og(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}xg.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function Ng(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function Dg(){this.g=void 0,this.a={}}t=Dg.prototype,t.set=function(r,a){Zb(this,r,a,!1)},t.add=function(r,a){Zb(this,r,a,!0)};function Zb(r,a,u,d){for(var m=0;m<a.length;m++){var g=a.charAt(m);r.a[g]||(r.a[g]=new Dg),r=r.a[g]}if(d&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return e1(this,r),r};function e1(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)e1(r.a[u],a)}t.ja=function(){var r=[];return t1(this,"",r),r};function t1(r,a,u){r.g!==void 0&&u.push(a);for(var d in r.a)t1(r.a[d],a+d,u)}t.clear=function(){this.a={},this.g=void 0};function n1(r){for(this.a=r,this.g=new Dg,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function bh(r,a){r=r.g;var u={},d=0;for(r.g!==void 0&&(u[d]=r.g);d<a.length;d++){var m=a.charAt(d);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(u[d]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function co(r){for(var a=0;a<Gn.length;a++)if(Gn[a].c===r)return Gn[a];return null}function i1(r){r=r.toUpperCase();for(var a=[],u=0;u<Gn.length;u++)Gn[u].f===r&&a.push(Gn[u]);return a}function r1(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Gn.length;u++)Gn[u].b==r&&a.push(Gn[u]);r=a}else r=i1(r);return r}function s1(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Gn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];s1(Gn);var gu=new n1(Gn);function o1(r,a){this.a=r,this.Aa=a}function a1(r){r=M(r);var a=bh(gu,r);return 0<a.length?new o1(a[0].b=="1"?"1-US-0":a[0].c,M(r.substr(a[0].b.length+1))):null}function Lg(r){var a=co(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function l1(r,a){for(var u=0;u<r.length;u++)if(!F(u1,r[u])&&(ba!==null&&r[u]in ba||F(a,r[u])))return r[u];return null}var u1=["emailLink","password","phone"],ba={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function _O(){this.a=new xg,jt(this.a,"autoUpgradeAnonymousUsers"),jt(this.a,"callbacks"),jt(this.a,"credentialHelper",Th),jt(this.a,"immediateFederatedRedirect",!1),jt(this.a,"popupMode",!1),jt(this.a,"privacyPolicyUrl"),jt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),jt(this.a,"queryParameterForWidgetMode","mode"),jt(this.a,"signInFlow"),jt(this.a,"signInOptions"),jt(this.a,"signInSuccessUrl"),jt(this.a,"siteName"),jt(this.a,"tosUrl"),jt(this.a,"widgetUrl"),jt(this.a,"adminRestrictedOperation")}function Eh(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!_1(r)&&pi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function Ih(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var d=r[u];d=K(d)?d:{provider:d},d.provider&&a.push(d)}return a}function mi(r,a){r=Ih(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function Ea(r){return Ih(r).map(function(a){return a.provider})}function vu(r,a){r=c1(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function c1(r){return Ih(r).map(function(a){if(ba[a.provider]||F(PO,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?is($d(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?is($d(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function d1(r){var a=mi(r,Te.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in r=r.a.get("credentialHelper"),$g)if($g[d]===r){var d=$g[d];break e}}d=Th}u=d===Ug}return u&&a.clientId||null}function h1(r){return r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function ho(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function wO(r){var a=null;if(Ih(r).forEach(function(d){d.provider==Te.auth.PhoneAuthProvider.PROVIDER_ID&&K(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(a=Be(d.recaptchaParameters))}),a){var u=[];kO.forEach(function(d){typeof a[d]<"u"&&(u.push(d),delete a[d])}),u.length&&cs('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function bO(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function EO(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){ha(a)}}return null}function IO(r){return(r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function TO(r){if((r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){ha(a)}}return null}function f1(r,a){return r=(r=mi(r,a))&&r.scopes,Array.isArray(r)?r:[]}function p1(r,a){return r=(r=mi(r,a))&&r.customParameters,K(r)?(r=Be(r),a===Te.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===Te.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function AO(r){r=mi(r,Te.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=a1(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function SO(r){var a=(r=mi(r,Te.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&i1(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=a1(r.loginHint)),a&&a[0]||u&&co(u.a)||null}function Mg(r){if(r=mi(r,Te.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Gn;if(r=[],a){u={};for(var d=0;d<a.length;d++)for(var m=r1(a[d]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var w in u)u.hasOwnProperty(w)&&r.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(m=r1(u[a]),d=0;d<m.length;d++)w[m[d].c]=m[d];for(m=0;m<Gn.length;m++)w!==null&&Gn[m].c in w||r.push(Gn[m])}return r}function m1(r){return Ng(r.a,"queryParameterForWidgetMode")}function Bt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&cs("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){ha(a)}}return null}function Ht(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&cs("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){ha(u)}}return null}function g1(r){return(r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function Ia(r){return r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==Te.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function CO(r){return r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function RO(r){if(Ia(r)){var a={url:Ar(),handleCodeInApp:!0};(r=mi(r,Te.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&it(a,r.emailLinkSignIn()),r=a.url;var u=Ar();u instanceof Zr||(u=Um(u)),r instanceof Zr||(r=Um(r));var d=u;u=new Zr(d);var m=!!r.j;m?Mm(u,r.j):m=!!r.A,m?u.A=r.A:m=!!r.h,m?u.h=r.h:m=r.C!=null;var g=r.g;if(m)Vm(u,r.C);else if(m=!!r.g){if(g.charAt(0)!="/"&&(d.h&&!d.g?g="/"+g:(d=u.g.lastIndexOf("/"),d!=-1&&(g=u.g.substr(0,d+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],A=0;A<g.length;){var N=g[A++];N=="."?d&&A==g.length&&w.push(""):N==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&A==g.length&&w.push("")):(w.push(N),d=!0)}g=w.join("/")}}return m?u.g=g:m=r.a.toString()!=="",m?Fm(u,vw(r.a)):m=!!r.s,m&&(u.s=r.s),a.url=u.toString(),a}return null}function Vg(r){var a=!!r.a.get("immediateFederatedRedirect"),u=Ea(r);return r=v1(r),a&&u.length==1&&!F(u1,u[0])&&r==Ah}function v1(r){r=r.a.get("signInFlow");for(var a in jg)if(jg[a]==r)return jg[a];return Ah}function Fg(r){return yu(r).signInSuccess||null}function y1(r){return yu(r).signInSuccessWithAuthResult||null}function _1(r){return yu(r).signInFailure||null}function yu(r){return r.a.get("callbacks")||{}}var Ug="googleyolo",Th="none",$g={nc:Ug,NONE:Th},Ah="redirect",jg={qc:"popup",rc:Ah},Bg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},PO=["anonymous"],kO=["sitekey","tabindex","callback","expired-callback"],_u,Ta,Hg,w1,at={};function ve(r,a,u,d){at[r].apply(null,Array.prototype.slice.call(arguments,1))}function b1(r){return r.classList?r.classList:(r=r.className,b(r)&&r.match(/\S+/g)||[])}function wu(r,a){return r.classList?r.classList.contains(a):F(b1(r),a)}function nr(r,a){r.classList?r.classList.add(a):wu(r,a)||(r.className+=0<r.className.length?" "+a:a)}function ir(r,a){r.classList?r.classList.remove(a):wu(r,a)&&(r.className=di(b1(r),function(u){return u!=a}).join(" "))}function fn(r){var a=r.type;switch(b(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,d=0;u=r.options[d];d++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function E1(r,a){var u=r.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,b(a)){for(var d=0;u=r.options[d];d++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(b(a)&&(a=[a]),d=0;u=r.options[d];d++)if(u.selected=!1,a)for(var m,g=0;m=a[g];g++)u.value==m&&(u.selected=!0);break;default:r.value=a??""}}function xO(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(bu(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Li;default:return 166>r.keyCode||183<r.keyCode}}function I1(r,a,u,d,m,g){if(Wn&&!eo("525"))return!0;if(ns&&m)return bu(r);if(m&&!d)return!1;if(!Li){typeof a=="number"&&(a=qg(a));var w=a==17||a==18||ns&&a==91;if((!u||ns)&&w||ns&&a==16&&(d||g))return!1}if((Wn||ts)&&d&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Dt&&d&&a==r)return!1;switch(r){case 13:return Li?g||m?!1:!(u&&d):!0;case 27:return!(Wn||ts||Li)}return Li&&(d||m||g)?!1:bu(r)}function bu(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Wn||ts)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Li;default:return!1}}function qg(r){if(Li)r=OO(r);else if(ns&&Wn)switch(r){case 93:r=91}return r}function OO(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function Aa(r){Yt.call(this),this.a=r,Mi(r,"keydown",this.g,!1,this),Mi(r,"click",this.h,!1,this)}ee(Aa,Yt),Aa.prototype.g=function(r){(r.keyCode==13||Wn&&r.keyCode==3)&&T1(this,r)},Aa.prototype.h=function(r){T1(this,r)};function T1(r,a){var u=new S1(a);if(ls(r,u)){u=new A1(a);try{ls(r,u)}finally{a.stopPropagation()}}}Aa.prototype.o=function(){Aa.K.o.call(this),so(this.a,"keydown",this.g,!1,this),so(this.a,"click",this.h,!1,this),delete this.a};function A1(r){zn.call(this,r.a),this.type="action"}ee(A1,zn);function S1(r){zn.call(this,r.a),this.type="beforeaction"}ee(S1,zn);function Sa(r){Yt.call(this),this.a=r,r=Dt?"focusout":"blur",this.g=Mi(this.a,Dt?"focusin":"focus",this,!Dt),this.h=Mi(this.a,r,this,!Dt)}ee(Sa,Yt),Sa.prototype.handleEvent=function(r){var a=new zn(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",ls(this,a)},Sa.prototype.o=function(){Sa.K.o.call(this),as(this.g),as(this.h),delete this.a};function Sh(r,a){Yt.call(this),this.g=r||1,this.a=a||v,this.h=he(this.gc,this),this.j=et()}ee(Sh,Yt),t=Sh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=et()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),ls(this,"tick"),this.Ka&&(Ch(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=et())};function Ch(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){Sh.K.o.call(this),Ch(this),delete this.a};function NO(r,a){if(D(r))a&&(r=he(r,a));else if(r&&typeof r.handleEvent=="function")r=he(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function Ca(r){ro.call(this),this.g=r,this.a={}}ee(Ca,ro);var C1=[];function Ra(r,a,u,d){k(u)||(u&&(C1[0]=u.toString()),u=C1);for(var m=0;m<u.length;m++){var g=Mi(a,u[m],d||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function R1(r){Ne(r.a,function(a,u){this.a.hasOwnProperty(u)&&as(a)},r),r.a={}}Ca.prototype.o=function(){Ca.K.o.call(this),R1(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eu(r){Yt.call(this),this.a=null,this.g=r,r=Dt||ts||Wn&&!eo("531")&&r.tagName=="TEXTAREA",this.h=new Ca(this),Ra(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}ee(Eu,Yt),Eu.prototype.handleEvent=function(r){if(r.type=="input")Dt&&eo(10)&&r.keyCode==0&&r.j==0||(Wg(this),ls(this,P1(r)));else if(r.type!="keydown"||xO(r)){var a=r.type=="keydown"?this.g.value:null;Dt&&r.keyCode==229&&(a=null);var u=P1(r);Wg(this),this.a=NO(function(){this.a=null,this.g.value!=a&&ls(this,u)},this)}};function Wg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function P1(r){return r=new zn(r.a),r.type="input",r}Eu.prototype.o=function(){Eu.K.o.call(this),this.h.m(),Wg(this),delete this.g};function Iu(r,a){Yt.call(this),r&&(this.Oa&&D1(this),this.qa=r,this.Na=Mi(this.qa,"keypress",this,a),this.Ya=Mi(this.qa,"keydown",this.Jb,a,this),this.Oa=Mi(this.qa,"keyup",this.Kb,a,this))}ee(Iu,Yt),t=Iu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var k1={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},x1={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},O1=!Wn||eo("525"),N1=ns&&Li;t=Iu.prototype,t.Jb=function(r){(Wn||ts)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||ns&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),O1&&!I1(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=qg(r.keyCode),N1&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Dt&&r.type=="keypress")var d=this.X,m=d!=13&&d!=27?a.keyCode:0;else(Wn||ts)&&r.type=="keypress"?(d=this.X,m=0<=a.charCode&&63232>a.charCode&&bu(d)?a.charCode:0):Iw&&!Wn?(d=this.X,m=bu(d)?a.keyCode:0):(r.type=="keypress"?(N1&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(d=a.keyCode,m=0):(d=this.X,m=a.charCode):(d=a.keyCode||this.X,m=a.charCode||0)):(d=a.keyCode||this.X,m=a.charCode||0),ns&&m==63&&d==224&&(d=191));var g=d=qg(d);d?63232<=d&&d in k1?g=k1[d]:d==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in x1&&(g=x1[a.keyIdentifier]),Li&&O1&&r.type=="keypress"&&!I1(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new L1(g,m,r,a),a.altKey=u,ls(this,a))},t.N=function(){return this.qa};function D1(r){r.Na&&(as(r.Na),as(r.Ya),as(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){Iu.K.o.call(this),D1(this)};function L1(r,a,u,d){zn.call(this,d),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}ee(L1,zn);function Pa(r,a,u,d){this.top=r,this.right=a,this.bottom=u,this.left=d}Pa.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Pa.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Pa.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Pa.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Rh(r,a){var u=eu(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function M1(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Dt&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function DO(r,a){a=a||Hd(document);var u=a||Hd(document),d=V1(r),m=V1(u);if(!Dt||9<=Number(Xl)){w=Rh(u,"borderLeftWidth");var g=Rh(u,"borderRightWidth");A=Rh(u,"borderTopWidth"),N=Rh(u,"borderBottomWidth"),g=new Pa(parseFloat(A),parseFloat(g),parseFloat(N),parseFloat(w))}else{var w=Ph(u,"borderLeft");g=Ph(u,"borderRight");var A=Ph(u,"borderTop"),N=Ph(u,"borderBottom");g=new Pa(A,g,N,w)}u==Hd(document)?(w=d.a-u.scrollLeft,d=d.g-u.scrollTop,!Dt||10<=Number(Xl)||(w+=g.left,d+=g.top)):(w=d.a-m.a-g.left,d=d.g-m.g-g.top),m=r.offsetWidth,g=r.offsetHeight,A=Wn&&!m&&!g,y(m)&&!A||!r.getBoundingClientRect?r=new Wm(m,g):(r=M1(r),r=new Wm(r.right-r.left,r.bottom-r.top)),m=u.clientHeight-r.height,g=u.scrollLeft,A=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-r.width),0)),A+=Math.min(d,Math.max(d-m,0)),u=new ss(g,A),a.scrollLeft=u.a,a.scrollTop=u.g}function V1(r){var a=eu(r),u=new ss(0,0),d=a?eu(a):document;return d=!Dt||9<=Number(Xl)||Bd(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,r==d||(r=M1(r),d=Bd(a).a,a=Hd(d),d=d.parentWindow||d.defaultView,a=Dt&&eo("10")&&d.pageYOffset!=a.scrollTop?new ss(a.scrollLeft,a.scrollTop):new ss(d.pageXOffset||a.scrollLeft,d.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var F1={thin:2,medium:4,thick:6};function Ph(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in F1)r=F1[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var d=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=d,r=+u}return r}function Kg(){}T(Kg),Kg.prototype.a=0;function fo(r){Yt.call(this),this.s=r||Bd(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}ee(fo,Yt),t=fo.prototype,t.Lb=Kg.Xa(),t.N=function(){return this.g};function Qe(r,a){return r.g?zm(a,r.g||r.s.a):null}function Tu(r){return r.L||(r.L=new Ca(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");fo.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,zg(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){zg(this,function(r){r.na&&r.ya()}),this.L&&R1(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),zg(this,function(r){r.m()}),this.g&&no(this.g),this.Y=this.g=this.oa=this.Ea=null,fo.K.o.call(this)};function zg(r,a){r.Ea&&nt(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=b(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var d=this.oa;if(u in d&&delete d[u],fe(this.Ea,r),a&&(r.ya(),r.g&&no(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,fo.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function Vt(r,a){var u=Vw(r,"firebaseui-textfield");a?(ir(r,"firebaseui-input-invalid"),nr(r,"firebaseui-input"),u&&ir(u,"firebaseui-textfield-invalid")):(ir(r,"firebaseui-input"),nr(r,"firebaseui-input-invalid"),u&&nr(u,"firebaseui-textfield-invalid"))}function ka(r,a,u){a=new Eu(a),iu(r,ne(ru,a)),Ra(Tu(r),a,"input",u)}function Au(r,a,u){a=new Iu(a),iu(r,ne(ru,a)),Ra(Tu(r),a,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function LO(r,a,u){a=new Sa(a),iu(r,ne(ru,a)),Ra(Tu(r),a,"focusin",u)}function MO(r,a,u){a=new Sa(a),iu(r,ne(ru,a)),Ra(Tu(r),a,"focusout",u)}function kt(r,a,u){a=new Aa(a),iu(r,ne(ru,a)),Ra(Tu(r),a,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function gi(r){nr(r,"firebaseui-hidden")}function pn(r,a){a&&Gm(r,a),ir(r,"firebaseui-hidden")}function xa(r){return!wu(r,"firebaseui-hidden")&&r.style.display!="none"}function Oa(r){r=r||{};var a=r.email,u=r.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=r.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Kn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',me(d)}function si(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+Oe(r):a+"Next",me(a+"</button>")}function Gg(){var r=""+si({label:Lt("Sign In")});return me(r)}function U1(){var r=""+si({label:Lt("Save")});return me(r)}function Vi(){var r=""+si({label:Lt("Continue")});return me(r)}function $1(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+Oe(r):a+"Choose password",me(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function j1(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",me(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function B1(){return me('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function vi(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+Oe(r):a+"Cancel",me(a+"</button>")}function En(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),me(a)}function Na(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),me(a)}function H1(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Oe(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',me(r)}H1.a="firebaseui.auth.soy2.element.infoBar";function q1(r){var a=r.content;return r=r.Ab,me('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Kn(r):"")+'">'+Oe(a)+"</dialog>")}function W1(r){var a=r.message;return me(q1({content:$w('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Kn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Oe(a)+"</div>")}))}W1.a="firebaseui.auth.soy2.element.progressDialog";function K1(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,d=0;d<u;d++){var m=r[d];a+='<button type="button" data-listboxid="'+Kn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Kn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Oe(m.label)+"</div></button>"}return a=""+q1({Ab:Lt("firebaseui-list-box-dialog"),content:$w(a+"</div>")}),me(a)}K1.a="firebaseui.auth.soy2.element.listBoxDialog";function kh(r){return r=r||{},me(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}kh.a="firebaseui.auth.soy2.element.busyIndicator";function ds(r,a){return r=r||{},r=r.ga,rt(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function Yg(r){z1(r,"upgradeElement")}function Jg(r){z1(r,"downgradeElements")}var VO=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function z1(r,a){r&&window.componentHandler&&window.componentHandler[a]&&VO.forEach(function(u){wu(r,u)&&window.componentHandler[a](r),nt(Km(u,r),function(d){window.componentHandler[a](d)})})}function G1(r,a,u){if(xh.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),Yg(r),a&&kt(this,r,function(g){var w=r.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&xh.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,w=d.getBoundingClientRect().height,A=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,N=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Q=r.getBoundingClientRect().width,be=d.getBoundingClientRect().width;r.style.top=(A+(w-g)/2).toString()+"px",g=N+(be-Q)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-Q).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function xh(){var r=Qg.call(this);r&&(Jg(r),r.open&&r.close(),no(r),this.da&&window.removeEventListener("resize",this.da))}function Qg(){return zm("firebaseui-id-dialog")}function Y1(){no(J1.call(this))}function J1(){return Qe(this,"firebaseui-id-info-bar")}function Q1(){return Qe(this,"firebaseui-id-dismiss-info-bar")}var FO={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Xg(r,a,u){Ir.call(this,r,a);for(var d in u)this[d]=u[d]}ee(Xg,Ir);function j(r,a,u,d,m){fo.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=Be(FO),it(this.Z,m||{})}ee(j,fo),t=j.prototype,t.kb=function(){var r=tu(this.fb,this.eb,this.Z,this.s);Yg(r),this.g=r},t.v=function(){if(j.K.v.call(this),Zw(St(this),new Xg("pageEnter",St(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;kt(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;kt(this,this.ab(),function(){a()})}},t.ya=function(){Zw(St(this),new Xg("pageExit",St(this),{pageId:this.Ga})),j.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Jg(this.N()),j.K.o.call(this)};function UO(r){r.Fa=!0;var a=wu(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=tu(kh,{tb:a},null,r.s),r.N().appendChild(r.A),Yg(r.A))},500)}t.I=function(r,a,u,d){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(Jg(g.A),no(g.A),g.A=null)}var g=this;return g.Fa?null:(UO(g),r.apply(null,a).then(u,d).then(m,m))};function St(r){return r.N().parentElement||r.N().parentNode}function Su(r,a,u){Au(r,a,function(){u.focus()})}function Da(r,a,u){Au(r,a,function(){u()})}ae(j.prototype,{a:function(r){Y1.call(this);var a=tu(H1,{message:r},null,this.s);this.N().appendChild(a),kt(this,Q1.call(this),function(){no(a)})},yc:Y1,Ac:J1,zc:Q1,$:function(r,a){r=tu(W1,{Ma:r,message:a},null,this.s),G1.call(this,r)},h:xh,Cb:Qg,Cc:function(){return Qe(this,"firebaseui-tos")},bb:function(){return Qe(this,"firebaseui-tos-link")},ab:function(){return Qe(this,"firebaseui-pp-link")},Dc:function(){return Qe(this,"firebaseui-tos-list")}});function X1(r,a,u){r=r||{},a=r.Va;var d=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Oa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?vi(null):"")+si(null)+'</div></div><div class="firebaseui-card-footer">'+(d?Na(u):En(u))+"</div></form></div>",me(r)}X1.a="firebaseui.auth.soy2.page.signIn";function Z1(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Oa(r)+j1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+B1()+'</div><div class="firebaseui-form-actions">'+Gg()+'</div></div><div class="firebaseui-card-footer">'+(a?Na(u):En(u))+"</div></form></div>",me(r)}Z1.a="firebaseui.auth.soy2.page.passwordSignIn";function eE(r,a,u){r=r||{};var d=r.Tb;a=r.Ta;var m=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Oa(r);return d?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Kn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=me(r)):r="",u=g+r+$1(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?vi(null):"")+U1()+'</div></div><div class="firebaseui-card-footer">'+(m?Na(u):En(u))+"</div></form></div>",me(u)}eE.a="firebaseui.auth.soy2.page.passwordSignUp";function tE(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Oa(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?vi(null):"")+si({label:Lt("Send")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(r)}tE.a="firebaseui.auth.soy2.page.passwordRecovery";function nE(r,a,u){a=r.G;var d="";return r="Follow the instructions sent to <strong>"+(Oe(r.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(d+='<div class="firebaseui-form-actions">'+si({label:Lt("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+En(u)+"</div></div>",me(d)}nE.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function iE(r,a,u){return me('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+kh(null)+"</div></div>")}iE.a="firebaseui.auth.soy2.page.callback";function rE(r,a,u){return me('<div class="firebaseui-container firebaseui-id-page-spinner">'+kh({tb:!0})+"</div>")}rE.a="firebaseui.auth.soy2.page.spinner";function sE(){return me('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}sE.a="firebaseui.auth.soy2.page.blank";function oE(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(Oe(r.email)+"</strong>. Check your email to complete sign-in.");var d=me('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+vi({label:Lt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}oE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function aE(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+me('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+vi({label:Lt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(r)}aE.a="firebaseui.auth.soy2.page.emailNotReceived";function lE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Oa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi(null)+si(null)+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(r)}lE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function uE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi({label:Lt("Dismiss")})+"</div></div></div>";return me(r)}uE.a="firebaseui.auth.soy2.page.differentDeviceError";function cE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi({label:Lt("Dismiss")})+"</div></div></div>";return me(r)}cE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function dE(r,a,u){return a="",r="You’ve already used <strong>"+(Oe(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+j1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+B1()+'</div><div class="firebaseui-form-actions">'+Gg()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}dE.a="firebaseui.auth.soy2.page.passwordLinking";function hE(r,a,u){var d=r.email;return a="",r=""+ds(r,u),r=Lt(r),d="You’ve already used <strong>"+(Oe(d)+("</strong>. You can connect your <strong>"+(Oe(r)+("</strong> account with <strong>"+(Oe(d)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Oe(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Gg()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}hE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function fE(r,a,u){a="";var d=""+ds(r,u);return d=Lt(d),r="You originally intended to connect <strong>"+(Oe(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(Oe(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Vi()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}fE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function pE(r,a,u){var d=r.email;return a="",r=""+ds(r,u),r=Lt(r),d="You’ve already used <strong>"+(Oe(d)+("</strong>. Sign in with "+(Oe(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si({label:Lt("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}pE.a="firebaseui.auth.soy2.page.federatedLinking";function mE(r,a,u){r=r||{};var d=r.kc;a=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(Oe(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(Oe(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+vi({label:Lt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(m)}mE.a="firebaseui.auth.soy2.page.unauthorizedUser";function gE(r,a,u){return a="",r="To continue sign in with <strong>"+(Oe(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi(null)+si({label:Lt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}gE.a="firebaseui.auth.soy2.page.unsupportedProvider";function vE(r){var a="",u='<p class="firebaseui-text">for <strong>'+(Oe(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+$1(Cx(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+U1()+"</div></div></form></div>",me(a)}vE.a="firebaseui.auth.soy2.page.passwordReset";function yE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}yE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function _E(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}_E.a="firebaseui.auth.soy2.page.passwordResetFailure";function wE(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(Oe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></form></div>",me(u)}wE.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function bE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}bE.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function EE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}EE.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function IE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}IE.a="firebaseui.auth.soy2.page.emailVerificationFailure";function TE(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(Oe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(u)}TE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function AE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}AE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function SE(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Oe(a)+(" "+(Oe(u)+"</strong> was removed as a second authentication step."))),d+=a;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></form></div>",me(d)}SE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function CE(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Vi()+"</div>":"")+"</div></div>",me(r)}CE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function RE(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=si({label:Lt("Retry")})),me(r+"</div></div></div>")}RE.a="firebaseui.auth.soy2.page.recoverableError";function PE(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Oe(r.errorMessage)+"</p></div></div>",me(r)}PE.a="firebaseui.auth.soy2.page.unrecoverableError";function kE(r,a,u){var d=r.Qb;return a="",r="Continue with "+(Oe(r.jc)+"?"),d="You originally wanted to sign in with "+Oe(d),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi(null)+si({label:Lt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",me(a)}kE.a="firebaseui.auth.soy2.page.emailMismatch";function xE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var m=0;m<a;m++){var g={ga:r[m]},w=u;g=g||{};var A=g.ga,N=g;N=N||{};var Q="";switch(N.ga.providerId){case"google.com":Q+="firebaseui-idp-google";break;case"github.com":Q+="firebaseui-idp-github";break;case"facebook.com":Q+="firebaseui-idp-facebook";break;case"twitter.com":Q+="firebaseui-idp-twitter";break;case"phone":Q+="firebaseui-idp-phone";break;case"anonymous":Q+="firebaseui-idp-anonymous";break;case"password":Q+="firebaseui-idp-password";break;default:Q+="firebaseui-idp-generic"}N='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Kn(rt(Q))+' firebaseui-id-idp-button" data-provider-id="'+Kn(A.providerId)+'" style="background-color:',Q=(Q=g)||{},Q=Q.ga,N=N+Kn(jw(rt(Q.ta?Q.ta:w.wa[Q.providerId]?""+w.wa[Q.providerId]:Q.providerId.indexOf("saml.")==0?""+w.wa.saml:Q.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var be=g;Q=w,be=be||{},be=be.ga,Q=Sx(be.za?io(be.za):Q.xa[be.providerId]?io(Q.xa[be.providerId]):be.providerId.indexOf("saml.")==0?io(Q.xa.saml):be.providerId.indexOf("oidc.")==0?io(Q.xa.oidc):io(Q.xa.password)),N=N+Kn(io(Q))+'"></span>',A.providerId=="password"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):A.S?(g="Sign in with "+Oe(ds(g,w)),N+=g):N+="Sign in with email",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=A.S?N+Oe(A.S):N+"Email",N+="</span>"):A.providerId=="phone"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):A.S?(g="Sign in with "+Oe(ds(g,w)),N+=g):N+="Sign in with phone",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=A.S?N+Oe(A.S):N+"Phone",N+="</span>"):A.providerId=="anonymous"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):A.S?(g="Sign in with "+Oe(ds(g,w)),N+=g):N+="Continue as guest",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=A.S?N+Oe(A.S):N+"Guest",N+="</span>"):(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',A.V?N+=Oe(A.V):(Q="Sign in with "+Oe(ds(g,w)),N+=Q),N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(A.S?Oe(A.S):Oe(ds(g,w)))+"</span>"),A=me(N+"</button>"),d+='<li class="firebaseui-list-item">'+A+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Na(u)+"</div></div>",me(d)}xE.a="firebaseui.auth.soy2.page.providerSignIn";function OE(r,a,u){r=r||{};var d=r.Gb,m=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Kn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+me(r);var g;return d?g=me('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?vi(null):"")+si({label:Lt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=me(a+"</p>")):u=me('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+En(u),me(g+u+"</div></form></div>")}OE.a="firebaseui.auth.soy2.page.phoneSignInStart";function NE(r,a,u){r=r||{},a=r.phoneNumber;var d="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Oe(a)+"</a>"),Oe(a),a=d,d=me('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi(null)+si({label:Lt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form>",r=me('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),me(a+(u+r+"</div>"))}NE.a="firebaseui.auth.soy2.page.phoneSignInFinish";function DE(){return me('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}DE.a="firebaseui.auth.soy2.page.signOut";function LE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var m=0;m<a;m++){var g=r[m],w="",A=Oe(g.displayName),N=g.tenantId?g.tenantId:"top-level-project";N=Lt(N),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Kn(N)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Kn(g.tenantId)+'"':"")+'style="background-color:'+Kn(jw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Kn(io(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=Oe(g.V):(g="Sign in to "+Oe(g.displayName),w+=g),w=me(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+A+"</span></button>")),d+='<li class="firebaseui-list-item">'+w+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Na(u)+"</div></div>",me(d)}LE.a="firebaseui.auth.soy2.page.selectTenant";function ME(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Oa(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si(null)+'</div></div><div class="firebaseui-card-footer">'+Na(u)+"</div></form></div>",me(r)}ME.a="firebaseui.auth.soy2.page.providerMatchByEmail";function ln(){return Qe(this,"firebaseui-id-submit")}function Qt(){return Qe(this,"firebaseui-id-secondary-link")}function mn(r,a){kt(this,ln.call(this),function(d){r(d)});var u=Qt.call(this);u&&a&&kt(this,u,function(d){a(d)})}function Oh(){return Qe(this,"firebaseui-id-password")}function Nh(){return Qe(this,"firebaseui-id-password-error")}function VE(){var r=Oh.call(this),a=Nh.call(this);ka(this,r,function(){xa(a)&&(Vt(r,!0),gi(a))})}function FE(){var r=Oh.call(this),a=Nh.call(this);return fn(r)?(Vt(r,!0),gi(a),a=!0):(Vt(r,!1),pn(a,rt("Enter your password").toString()),a=!1),a?fn(r):null}function La(r,a,u,d,m,g){j.call(this,dE,{email:r},g,"passwordLinking",{F:d,D:m}),this.w=a,this.H=u}c(La,j),La.prototype.v=function(){this.P(),this.M(this.w,this.H),Da(this,this.i(),this.w),this.i().focus(),j.prototype.v.call(this)},La.prototype.o=function(){this.w=null,j.prototype.o.call(this)},La.prototype.j=function(){return fn(Qe(this,"firebaseui-id-email"))},ae(La.prototype,{i:Oh,B:Nh,P:VE,u:FE,ea:ln,ba:Qt,M:mn});var $O=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Sr(){return Qe(this,"firebaseui-id-email")}function hs(){return Qe(this,"firebaseui-id-email-error")}function Ma(r){var a=Sr.call(this),u=hs.call(this);ka(this,a,function(){xa(u)&&(Vt(a,!0),gi(u))}),r&&Au(this,a,function(){r()})}function Va(){return M(fn(Sr.call(this))||"")}function Fa(){var r=Sr.call(this),a=hs.call(this),u=fn(r)||"";return u?$O.test(u)?(Vt(r,!0),gi(a),a=!0):(Vt(r,!1),pn(a,rt("That email address isn't correct").toString()),a=!1):(Vt(r,!1),pn(a,rt("Enter your email address to continue").toString()),a=!1),a?M(fn(r)):null}function Cu(r,a,u,d,m,g,w){j.call(this,Z1,{email:u,ia:!!g},w,"passwordSignIn",{F:d,D:m}),this.w=r,this.H=a}c(Cu,j),Cu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Su(this,this.l(),this.i()),Da(this,this.i(),this.w),fn(this.l())?this.i().focus():this.l().focus(),j.prototype.v.call(this)},Cu.prototype.o=function(){this.H=this.w=null,j.prototype.o.call(this)},ae(Cu.prototype,{l:Sr,U:hs,P:Ma,M:Va,j:Fa,i:Oh,B:Nh,ea:VE,u:FE,ua:ln,pa:Qt,ba:mn});function ct(r,a,u,d,m,g){j.call(this,r,a,d,m||"notice",g),this.i=u||null}ee(ct,j),ct.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ct.K.v.call(this)},ct.prototype.o=function(){this.i=null,ct.K.o.call(this)},ae(ct.prototype,{l:ln,w:Qt,u:mn});function Dh(r,a,u,d,m){ct.call(this,nE,{email:r,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:d})}ee(Dh,ct);function UE(r,a){ct.call(this,EE,{G:!!r},r,a,"emailVerificationSuccess")}ee(UE,ct);function $E(r,a){ct.call(this,IE,{G:!!r},r,a,"emailVerificationFailure")}ee($E,ct);function jE(r,a,u){ct.call(this,TE,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}ee(jE,ct);function BE(r,a){ct.call(this,AE,{G:!!r},r,a,"verifyAndChangeEmailFailure")}ee(BE,ct);function HE(r,a){ct.call(this,CE,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}ee(HE,ct);function qE(r){ct.call(this,DE,void 0,void 0,r,"signOut")}ee(qE,ct);function WE(r,a){ct.call(this,yE,{G:!!r},r,a,"passwordResetSuccess")}ee(WE,ct);function KE(r,a){ct.call(this,_E,{G:!!r},r,a,"passwordResetFailure")}ee(KE,ct);function zE(r,a){ct.call(this,bE,{G:!!r},r,a,"emailChangeRevokeFailure")}ee(zE,ct);function GE(r,a,u){ct.call(this,RE,{errorMessage:r,zb:!!a},a,u,"recoverableError")}ee(GE,ct);function YE(r,a){ct.call(this,PE,{errorMessage:r},void 0,a,"unrecoverableError")}ee(YE,ct);function Ru(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function Cr(r,a,u,d){function m(w){if(!w.name||w.name!="cancel"){e:{var A=w.message;try{var N=((JSON.parse(A).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(N&&N.length){var Q=!0;break e}}catch{}Q=!1}if(Q)w=St(a),a.m(),bt(r,w,void 0,rt("Your sign-in session has expired. Please try again.").toString());else{if(Q=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;Q=pt(w)}a.a(Q)}}}if(vI(r),d)return JE(r,u),Mt();if(!u.credential)throw Error("No credential found!");if(!Ge(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=yN(r,u)}catch(w){return pi(w.code||w.message,w),a.a(w.code||w.message),Mt()}return u=g.then(function(w){JE(r,w)},m).then(void 0,m),Ue(r,g),Mt(u)}function JE(r,a){if(!a.user)throw Error("No user found");var u=y1(H(r));if(Fg(H(r))&&u&&cs("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=y1(H(r));var d=Qb(xe(r))||void 0;ri(pu,xe(r));var m=!1;vb()?((!u||u(a,d))&&(m=!0,ua(window.opener.location,Lh(r,d))),u||window.close()):(!u||u(a,d))&&(m=!0,ua(window.location,Lh(r,d))),m||r.reset()}else{u=a.user,a=a.credential,d=Fg(H(r)),m=Qb(xe(r))||void 0,ri(pu,xe(r));var g=!1;vb()?((!d||d(u,a,m))&&(g=!0,ua(window.opener.location,Lh(r,m))),d||window.close()):(!d||d(u,a,m))&&(g=!0,ua(window.location,Lh(r,m))),g||r.reset()}}function Lh(r,a){if(r=a||H(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function pt(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Kw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Kw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=Xm();break;case"auth/invalid-verification-code":u+=rt("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=rt(u).toString())return a;try{return JSON.parse(r.message),pi("Internal error: "+r.message,void 0),Hw().toString()}catch{return r.message}}function jO(r,a,u){var d=ba[a]&&Te.auth[ba[a]]?new Te.auth[ba[a]]:a.indexOf("saml.")==0?new Te.auth.SAMLAuthProvider(a):new Te.auth.OAuthProvider(a);if(!d)throw Error("Invalid Firebase Auth provider!");var m=f1(H(r),a);if(d.addScope)for(var g=0;g<m.length;g++)d.addScope(m[g]);return m=p1(H(r),a)||{},u&&(a==Te.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==Te.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=vu(H(r),a))&&r.Ob,r&&(m[r]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function Pu(r,a,u,d){function m(){mO(new Lb(r.h.tenantId||null),xe(r)),Ue(r,a.I(he(r.dc,r),[N],function(){if((window.location&&window.location.protocol)==="file:")return Ue(r,hI(r).then(function(Q){a.m(),ri(uo,xe(r)),ve("callback",r,A,Mt(Q))},g))},w))}function g(Q){if(ri(uo,xe(r)),!Q.name||Q.name!="cancel")switch(Q=Ru(Q),Q.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(pt(Q));break;case"auth/admin-restricted-operation":a.m(),ho(H(r))?ve("handleUnauthorizedUser",r,A,null,u):ve("callback",r,A,ca(Q));break;default:a.m(),ve("callback",r,A,ca(Q))}}function w(Q){ri(uo,xe(r)),Q.name&&Q.name=="cancel"||(pi("signInWithRedirect: "+Q.code,void 0),Q=pt(Q),a.Ga=="blank"&&Vg(H(r))?(a.m(),ve("providerSignIn",r,A,Q)):a.a(Q))}var A=St(a),N=jO(r,u,d);v1(H(r))==Ah?m():Ue(r,vN(r,N).then(function(Q){a.m(),ve("callback",r,A,Mt(Q))},g))}function BO(r,a){Ue(r,a.I(he(r.$b,r),[],function(u){return a.m(),Cr(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(pi("ContinueAsGuest: "+u.code,void 0),u=pt(u),a.a(u))}))}function HO(r,a,u){function d(g){var w=!1;return g=a.I(he(r.ac,r),[g],function(A){var N=St(a);a.m(),ve("callback",r,N,Mt(A)),w=!0},function(A){if((!A.name||A.name!="cancel")&&(!A||A.code!="auth/credential-already-in-use"))if(A&&A.code=="auth/email-already-in-use"&&A.email&&A.credential){var N=St(a);a.m(),ve("callback",r,N,ca(A))}else A&&A.code=="auth/admin-restricted-operation"&&ho(H(r))?(A=St(a),a.m(),ve("handleUnauthorizedUser",r,A,null,Te.auth.GoogleAuthProvider.PROVIDER_ID)):(A=pt(A),a.a(A))}),Ue(r,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===d1(H(r))){if(f1(H(r),Te.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return Pu(r,a,Te.auth.GoogleAuthProvider.PROVIDER_ID,m),Mt(!0)}return d(Te.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(rt("The selected credential for the authentication provider is not supported!").toString()),Mt(!1)}function qO(r,a){var u=a.j(),d=a.u();if(u)if(d){var m=Te.auth.EmailAuthProvider.credential(u,d);Ue(r,a.I(he(r.bc,r),[u,d],function(g){return Cr(r,a,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":Vt(a.l(),!1),pn(a.U(),pt(g));break;case"auth/too-many-requests":case"auth/wrong-password":Vt(a.i(),!1),pn(a.B(),pt(g));break;default:pi("verifyPassword: "+g.message,void 0),a.a(pt(g))}}))}else a.i().focus();else a.l().focus()}function Mh(r){return r=Ea(H(r)),r.length==1&&r[0]==Te.auth.EmailAuthProvider.PROVIDER_ID}function QE(r){return r=Ea(H(r)),r.length==1&&r[0]==Te.auth.PhoneAuthProvider.PROVIDER_ID}function bt(r,a,u,d){Mh(r)?d?ve("signIn",r,a,u,d):ev(r,a,u):r&&QE(r)&&!d?ve("phoneSignInStart",r,a):r&&Vg(H(r))&&!d?ve("federatedRedirect",r,a,u):ve("providerSignIn",r,a,d,u)}function XE(r,a,u,d){var m=St(a);Ue(r,a.I(he(Ge(r).fetchSignInMethodsForEmail,Ge(r)),[u],function(g){a.m(),ZE(r,m,g,u,d)},function(g){g=pt(g),a.a(g)}))}function ZE(r,a,u,d,m,g){u.length||Ia(H(r))&&!Ia(H(r))?F(u,Te.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ve("passwordSignIn",r,a,d,g):u.length==1&&u[0]===Te.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Ia(H(r))?ve("sendEmailLinkForSignIn",r,a,d,function(){ve("signIn",r,a)}):ve("unsupportedProvider",r,a,d):(u=l1(u,Ea(H(r))))?(Xb(new Tg(d),xe(r)),ve("federatedSignIn",r,a,d,u,m)):ve("unsupportedProvider",r,a,d):h1(H(r))?ve("handleUnauthorizedUser",r,a,d,Te.auth.EmailAuthProvider.PROVIDER_ID):Ia(H(r))?ve("sendEmailLinkForSignIn",r,a,d,function(){ve("signIn",r,a)}):ve("passwordSignUp",r,a,d,void 0,void 0,g)}function Zg(r,a,u,d,m,g){var w=St(a);Ue(r,a.I(he(r.Ib,r),[u,g],function(){a.m(),ve("emailLinkSignInSent",r,w,u,d,g)},m))}function ev(r,a,u){u?ve("prefilledEmailSignIn",r,a,u):ve("signIn",r,a)}function ku(){return Fd(Ar(),"oobCode")}function tv(){var r=Fd(Ar(),"continueUrl");return r?function(){ua(window.location,r)}:null}function xu(r,a){j.call(this,cE,void 0,a,"anonymousUserMismatch"),this.i=r}c(xu,j),xu.prototype.v=function(){var r=this;kt(this,this.l(),function(){r.i()}),this.l().focus(),j.prototype.v.call(this)},xu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(xu.prototype,{l:Qt}),at.anonymousUserMismatch=function(r,a){var u=new xu(function(){u.m(),bt(r,a)});u.render(a),He(r,u)};function Vh(r){j.call(this,iE,void 0,r,"callback")}c(Vh,j),Vh.prototype.I=function(r,a,u,d){return r.apply(null,a).then(u,d)};function eI(r,a,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=er(xe(r)),g=m&&m.g;if(g&&!KO(u.user,g))WO(r,a,d);else{var w=m&&m.a;w?Ue(r,u.user.linkWithCredential(w).then(function(A){d={user:A.user,credential:w,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo},tI(r,a,d)},function(A){Fh(r,a,A)})):tI(r,a,d)}}else u=St(a),a.m(),tr(xe(r)),bt(r,u)}function tI(r,a,u){tr(xe(r)),Cr(r,a,u)}function Fh(r,a,u){var d=St(a);tr(xe(r)),u=pt(u),a.m(),bt(r,d,void 0,u)}function nI(r,a,u,d){var m=St(a);Ue(r,Ge(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?F(g,Te.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ve("passwordLinking",r,m,u):g.length==1&&g[0]===Te.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ve("emailLinkSignInLinking",r,m,u):(g=l1(g,Ea(H(r))))?ve("federatedLinking",r,m,u,g,d):(tr(xe(r)),ve("unsupportedProvider",r,m,u)):(tr(xe(r)),ve("passwordRecovery",r,m,u,!1,qw().toString()))},function(g){Fh(r,a,g)}))}function WO(r,a,u){var d=St(a);Ue(r,fs(r).then(function(){a.m(),ve("emailMismatch",r,d,u)},function(m){m.name&&m.name=="cancel"||(m=pt(m.code),a.a(m))}))}function KO(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}at.callback=function(r,a,u){var d=new Vh;d.render(a),He(r,d),u=u||hI(r),Ue(r,u.then(function(m){eI(r,d,m)},function(m){if((m=Ru(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)Xb(new Tg(m.email,m.credential),xe(r)),nI(r,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=er(xe(r)),w=pt(m);g&&g.a?nI(r,d,g.g,w):g?XE(r,d,g.g,w):Fh(r,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Mh(r)?eI(r,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&ho(H(r))?(d.m(),tr(xe(r)),ve("handleUnauthorizedUser",r,a,null,null)):Fh(r,d,m))}))};function Ou(r,a){j.call(this,uE,void 0,a,"differentDeviceError"),this.i=r}c(Ou,j),Ou.prototype.v=function(){var r=this;kt(this,this.l(),function(){r.i()}),this.l().focus(),j.prototype.v.call(this)},Ou.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(Ou.prototype,{l:Qt}),at.differentDeviceError=function(r,a){var u=new Ou(function(){u.m(),bt(r,a)});u.render(a),He(r,u)};function Nu(r,a,u,d){j.call(this,wE,{email:r,G:!!u},d,"emailChangeRevoke"),this.l=a,this.i=u||null}c(Nu,j),Nu.prototype.v=function(){var r=this;kt(this,Qe(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),j.prototype.v.call(this)},Nu.prototype.o=function(){this.l=this.i=null,j.prototype.o.call(this)},ae(Nu.prototype,{u:ln,B:Qt,w:mn});function Du(){return Qe(this,"firebaseui-id-new-password")}function Uh(){return Qe(this,"firebaseui-id-password-toggle")}function zO(){this.Ra=!this.Ra;var r=Uh.call(this),a=Du.call(this);this.Ra?(a.type="text",nr(r,"firebaseui-input-toggle-off"),ir(r,"firebaseui-input-toggle-on")):(a.type="password",nr(r,"firebaseui-input-toggle-on"),ir(r,"firebaseui-input-toggle-off")),a.focus()}function $h(){return Qe(this,"firebaseui-id-new-password-error")}function iI(){this.Ra=!1;var r=Du.call(this);r.type="password";var a=$h.call(this);ka(this,r,function(){xa(a)&&(Vt(r,!0),gi(a))});var u=Uh.call(this);nr(u,"firebaseui-input-toggle-on"),ir(u,"firebaseui-input-toggle-off"),LO(this,r,function(){nr(u,"firebaseui-input-toggle-focus"),ir(u,"firebaseui-input-toggle-blur")}),MO(this,r,function(){nr(u,"firebaseui-input-toggle-blur"),ir(u,"firebaseui-input-toggle-focus")}),kt(this,u,he(zO,this))}function rI(){var r=Du.call(this),a=$h.call(this);return fn(r)?(Vt(r,!0),gi(a),a=!0):(Vt(r,!1),pn(a,rt("Enter your password").toString()),a=!1),a?fn(r):null}function Lu(r,a,u){j.call(this,vE,{email:r},u,"passwordReset"),this.l=a}c(Lu,j),Lu.prototype.v=function(){this.H(),this.B(this.l),Da(this,this.i(),this.l),this.i().focus(),j.prototype.v.call(this)},Lu.prototype.o=function(){this.l=null,j.prototype.o.call(this)},ae(Lu.prototype,{i:Du,w:$h,M:Uh,H:iI,u:rI,U:ln,P:Qt,B:mn});function Mu(r,a,u,d,m){j.call(this,SE,{factorId:r,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=d||null}c(Mu,j),Mu.prototype.v=function(){var r=this;kt(this,Qe(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),j.prototype.v.call(this)},Mu.prototype.o=function(){this.l=this.i=null,j.prototype.o.call(this)},ae(Mu.prototype,{u:ln,B:Qt,w:mn});function GO(r,a,u,d,m){var g=u.u();g&&Ue(r,u.I(he(Ge(r).confirmPasswordReset,Ge(r)),[d,g],function(){u.m();var w=new WE(m);w.render(a),He(r,w)},function(w){sI(r,a,u,w)}))}function sI(r,a,u,d){(d&&d.code)=="auth/weak-password"?(r=pt(d),Vt(u.i(),!1),pn(u.w(),r),u.i().focus()):(u&&u.m(),u=new KE,u.render(a),He(r,u))}function YO(r,a,u){var d=new Nu(u,function(){Ue(r,d.I(he(Ge(r).sendPasswordResetEmail,Ge(r)),[u],function(){d.m(),d=new Dh(u,void 0,Bt(H(r)),Ht(H(r))),d.render(a),He(r,d)},function(){d.a(Bw().toString())}))});d.render(a),He(r,d)}function JO(r,a,u,d){var m=new Mu(d.factorId,function(){m.I(he(Ge(r).sendPasswordResetEmail,Ge(r)),[u],function(){m.m(),m=new Dh(u,void 0,Bt(H(r)),Ht(H(r))),m.render(a),He(r,m)},function(){m.a(Bw().toString())})},d.phoneNumber);m.render(a),He(r,m)}at.passwordReset=function(r,a,u,d){Ue(r,Ge(r).verifyPasswordResetCode(u).then(function(m){var g=new Lu(m,function(){GO(r,a,g,u,d)});g.render(a),He(r,g)},function(){sI(r,a)}))},at.emailChangeRevocation=function(r,a,u){var d=null;Ue(r,Ge(r).checkActionCode(u).then(function(m){return d=m.data.email,Ge(r).applyActionCode(u)}).then(function(){YO(r,a,d)},function(){var m=new zE;m.render(a),He(r,m)}))},at.emailVerification=function(r,a,u,d){Ue(r,Ge(r).applyActionCode(u).then(function(){var m=new UE(d);m.render(a),He(r,m)},function(){var m=new $E;m.render(a),He(r,m)}))},at.revertSecondFactorAddition=function(r,a,u){var d=null,m=null;Ue(r,Ge(r).checkActionCode(u).then(function(g){return d=g.data.email,m=g.data.multiFactorInfo,Ge(r).applyActionCode(u)}).then(function(){JO(r,a,d,m)},function(){var g=new HE;g.render(a),He(r,g)}))},at.verifyAndChangeEmail=function(r,a,u,d){var m=null;Ue(r,Ge(r).checkActionCode(u).then(function(g){return m=g.data.email,Ge(r).applyActionCode(u)}).then(function(){var g=new jE(m,d);g.render(a),He(r,g)},function(){var g=new BE;g.render(a),He(r,g)}))};function jh(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Dt&&!eo("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function Vu(r,a,u,d,m,g){j.call(this,lE,{email:u},g,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=r,this.u=a}c(Vu,j),Vu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),jh(this.i(),(this.i().value||"").length),j.prototype.v.call(this)},Vu.prototype.o=function(){this.u=this.l=null,j.prototype.o.call(this)},ae(Vu.prototype,{i:Sr,M:hs,w:Ma,H:Va,j:Fa,U:ln,P:Qt,B:mn}),at.emailLinkConfirmation=function(r,a,u,d,m,g){var w=new Vu(function(){var A=w.j();A?(w.m(),d(r,a,A,u)):w.i().focus()},function(){w.m(),bt(r,a,m||void 0)},m||void 0,Bt(H(r)),Ht(H(r)));w.render(a),He(r,w),g&&w.a(g)};function Fu(r,a,u,d,m){j.call(this,fE,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=a}c(Fu,j),Fu.prototype.v=function(){this.u(this.i),this.l().focus(),j.prototype.v.call(this)},Fu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(Fu.prototype,{l:ln,u:mn}),at.emailLinkNewDeviceLinking=function(r,a,u,d){var m=new Zs(u);if(u=m.a.a.get(Gt.PROVIDER_ID)||null,_w(m,null),u){var g=new Fu(vu(H(r),u),function(){g.m(),d(r,a,m.toString())},Bt(H(r)),Ht(H(r)));g.render(a),He(r,g)}else bt(r,a)};function Bh(r){j.call(this,sE,void 0,r,"blank")}c(Bh,j);function nv(r,a,u,d,m){var g=new Bh,w=new Zs(u),A=w.a.a.get(Gt.$a)||"",N=w.a.a.get(Gt.Sa)||"",Q=w.a.a.get(Gt.Qa)==="1",be=yw(w),dt=w.a.a.get(Gt.PROVIDER_ID)||null;w=w.a.a.get(Gt.vb)||null,yI(r,w);var $i=!_a(ya,xe(r)),II=d||gO(N,xe(r)),Qu=(d=vO(N,xe(r)))&&d.a;dt&&Qu&&Qu.providerId!==dt&&(Qu=null),g.render(a),He(r,g),Ue(r,g.I(function(){var Si=Mt(null);Si=be&&$i||$i&&Q?ca(Error("anonymous-user-not-found")):pN(r,u).then(function(fv){if(dt&&!Qu)throw Error("pending-credential-not-found");return fv});var Xu=null;return Si.then(function(fv){return Xu=fv,m?null:Ge(r).checkActionCode(A)}).then(function(){return Xu})},[],function(Si){II?XO(r,g,II,u,Qu,Si):Q?(g.m(),ve("differentDeviceError",r,a)):(g.m(),ve("emailLinkConfirmation",r,a,u,oI))},function(Si){var Xu=void 0;if(!Si||!Si.name||Si.name!="cancel")switch(g.m(),Si&&Si.message){case"anonymous-user-not-found":ve("differentDeviceError",r,a);break;case"anonymous-user-mismatch":ve("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":ve("emailLinkNewDeviceLinking",r,a,u,QO);break;default:Si&&(Xu=pt(Si)),bt(r,a,void 0,Xu)}}))}function oI(r,a,u,d){nv(r,a,d,u,!0)}function QO(r,a,u){nv(r,a,u)}function XO(r,a,u,d,m,g){var w=St(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",rt("Signing in...").toString());var A=null;m=(g?mN(r,g,u,d,m):gN(r,u,d,m)).then(function(N){ri(mu,xe(r)),ri(ya,xe(r)),a.h(),a.$("firebaseui-icon-done",rt("Signed in!").toString()),A=setTimeout(function(){a.h(),Cr(r,a,N,!0)},1e3),Ue(r,function(){a&&(a.h(),a.m()),clearTimeout(A)})},function(N){if(a.h(),a.m(),!N.name||N.name!="cancel"){N=Ru(N);var Q=pt(N);N.code=="auth/email-already-in-use"||N.code=="auth/credential-already-in-use"?(ri(mu,xe(r)),ri(ya,xe(r))):N.code=="auth/invalid-email"?(Q=rt("The email provided does not match the current sign-in session.").toString(),ve("emailLinkConfirmation",r,w,d,oI,null,Q)):bt(r,w,u,Q)}}),Ue(r,m)}at.emailLinkSignInCallback=nv;function Uu(r,a,u,d,m,g){j.call(this,hE,{email:r,ga:a},g,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}c(Uu,j),Uu.prototype.v=function(){this.u(this.i),this.l().focus(),j.prototype.v.call(this)},Uu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(Uu.prototype,{l:ln,u:mn});function ZO(r,a,u,d){var m=St(a);Zg(r,a,u,function(){bt(r,m,u)},function(g){if(!g.name||g.name!="cancel"){var w=pt(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),bt(r,m,u,w))}},d)}at.emailLinkSignInLinking=function(r,a,u){var d=er(xe(r));if(tr(xe(r)),d){var m=d.a.providerId,g=new Uu(u,vu(H(r),m),function(){ZO(r,g,u,d)},Bt(H(r)),Ht(H(r)));g.render(a),He(r,g)}else bt(r,a)};function $u(r,a,u,d,m,g){j.call(this,oE,{email:r},g,"emailLinkSignInSent",{F:d,D:m}),this.u=a,this.i=u}c($u,j),$u.prototype.v=function(){var r=this;kt(this,this.l(),function(){r.i()}),kt(this,Qe(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),j.prototype.v.call(this)},$u.prototype.o=function(){this.i=this.u=null,j.prototype.o.call(this)},ae($u.prototype,{l:Qt}),at.emailLinkSignInSent=function(r,a,u,d,m){var g=new $u(u,function(){g.m(),ve("emailNotReceived",r,a,u,d,m)},function(){g.m(),d()},Bt(H(r)),Ht(H(r)));g.render(a),He(r,g)};function ju(r,a,u,d,m,g,w){j.call(this,kE,{jc:r,Qb:a},w,"emailMismatch",{F:m,D:g}),this.l=u,this.i=d}c(ju,j),ju.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),j.prototype.v.call(this)},ju.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(ju.prototype,{u:ln,B:Qt,w:mn}),at.emailMismatch=function(r,a,u){var d=er(xe(r));if(d){var m=new ju(u.user.email,d.g,function(){var g=m;tr(xe(r)),Cr(r,g,u)},function(){var g=u.credential.providerId,w=St(m);m.m(),d.a?ve("federatedLinking",r,w,d.g,g):ve("federatedSignIn",r,w,d.g,g)},Bt(H(r)),Ht(H(r)));m.render(a),He(r,m)}else bt(r,a)};function Ua(r,a,u,d,m){j.call(this,aE,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=r,this.i=a}c(Ua,j),Ua.prototype.v=function(){var r=this;kt(this,this.u(),function(){r.i()}),kt(this,this.Da(),function(){r.l()}),this.u().focus(),j.prototype.v.call(this)},Ua.prototype.Da=function(){return Qe(this,"firebaseui-id-resend-email-link")},Ua.prototype.o=function(){this.i=this.l=null,j.prototype.o.call(this)},ae(Ua.prototype,{u:Qt}),at.emailNotReceived=function(r,a,u,d,m){var g=new Ua(function(){Zg(r,g,u,d,function(w){w=pt(w),g.a(w)},m)},function(){g.m(),bt(r,a,u)},Bt(H(r)),Ht(H(r)));g.render(a),He(r,g)};function $a(r,a,u,d,m,g){j.call(this,pE,{email:r,ga:a},g,"federatedLinking",{F:d,D:m}),this.i=u}c($a,j),$a.prototype.v=function(){this.u(this.i),this.l().focus(),j.prototype.v.call(this)},$a.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae($a.prototype,{l:ln,u:mn}),at.federatedLinking=function(r,a,u,d,m){var g=er(xe(r));if(g&&g.a){var w=new $a(u,vu(H(r),d),function(){Pu(r,w,d,u)},Bt(H(r)),Ht(H(r)));w.render(a),He(r,w),m&&w.a(m)}else bt(r,a)},at.federatedRedirect=function(r,a,u){var d=new Bh;d.render(a),He(r,d),a=Ea(H(r))[0],Pu(r,d,a,u)},at.federatedSignIn=function(r,a,u,d,m){var g=new $a(u,vu(H(r),d),function(){Pu(r,g,d,u)},Bt(H(r)),Ht(H(r)));g.render(a),He(r,g),m&&g.a(m)};function eN(r,a,u,d){var m=a.u();m?Ue(r,a.I(he(r.Xb,r),[u,m],function(g){return g=g.user.linkWithCredential(d).then(function(w){return Cr(r,a,{user:w.user,credential:d,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Ue(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":Vt(a.i(),!1),pn(a.B(),pt(g));break;case"auth/too-many-requests":a.a(pt(g));break;default:pi("signInWithEmailAndPassword: "+g.message,void 0),a.a(pt(g))}})):a.i().focus()}at.passwordLinking=function(r,a,u){var d=er(xe(r));tr(xe(r));var m=d&&d.a;if(m){var g=new La(u,function(){eN(r,g,u,m)},function(){g.m(),ve("passwordRecovery",r,a,u)},Bt(H(r)),Ht(H(r)));g.render(a),He(r,g)}else bt(r,a)};function Bu(r,a,u,d,m,g){j.call(this,tE,{email:u,Ta:!!a},g,"passwordRecovery",{F:d,D:m}),this.l=r,this.u=a}c(Bu,j),Bu.prototype.v=function(){this.B(),this.H(this.l,this.u),fn(this.i())||this.i().focus(),Da(this,this.i(),this.l),j.prototype.v.call(this)},Bu.prototype.o=function(){this.u=this.l=null,j.prototype.o.call(this)},ae(Bu.prototype,{i:Sr,w:hs,B:Ma,M:Va,j:Fa,U:ln,P:Qt,H:mn});function tN(r,a){var u=a.j();if(u){var d=St(a);Ue(r,a.I(he(Ge(r).sendPasswordResetEmail,Ge(r)),[u],function(){a.m();var m=new Dh(u,function(){m.m(),bt(r,d)},Bt(H(r)),Ht(H(r)));m.render(d),He(r,m)},function(m){Vt(a.i(),!1),pn(a.w(),pt(m))}))}else a.i().focus()}at.passwordRecovery=function(r,a,u,d,m){var g=new Bu(function(){tN(r,g)},d?void 0:function(){g.m(),bt(r,a)},u,Bt(H(r)),Ht(H(r)));g.render(a),He(r,g),m&&g.a(m)},at.passwordSignIn=function(r,a,u,d){var m=new Cu(function(){qO(r,m)},function(){var g=m.M();m.m(),ve("passwordRecovery",r,a,g)},u,Bt(H(r)),Ht(H(r)),d);m.render(a),He(r,m)};function iv(){return Qe(this,"firebaseui-id-name")}function rv(){return Qe(this,"firebaseui-id-name-error")}function Hu(r,a,u,d,m,g,w,A,N){j.call(this,eE,{email:d,Tb:r,name:m,Ta:!!u,ia:!!A},N,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=r}c(Hu,j),Hu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Su(this,this.i(),this.u()),Su(this,this.u(),this.l())):Su(this,this.i(),this.l()),this.w&&Da(this,this.l(),this.w),fn(this.i())?this.B&&!fn(this.u())?this.u().focus():this.l().focus():this.i().focus(),j.prototype.v.call(this)},Hu.prototype.o=function(){this.H=this.w=null,j.prototype.o.call(this)},ae(Hu.prototype,{i:Sr,U:hs,ea:Ma,jb:Va,j:Fa,u:iv,Bc:rv,Ja:function(){var r=iv.call(this),a=rv.call(this);ka(this,r,function(){xa(a)&&(Vt(r,!0),gi(a))})},M:function(){var r=iv.call(this),a=rv.call(this),u=fn(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Vt(r,u),u?(gi(a),a=!0):(pn(a,rt("Enter your account name").toString()),a=!1),a?M(fn(r)):null},l:Du,ba:$h,lb:Uh,ua:iI,P:rI,Nb:ln,Mb:Qt,pa:mn});function nN(r,a){var u=g1(H(r)),d=a.j(),m=null;u&&(m=a.M());var g=a.P();if(d){if(u)if(m)m=Ee(m);else{a.u().focus();return}if(g){var w=Te.auth.EmailAuthProvider.credential(d,g);Ue(r,a.I(he(r.Yb,r),[d,g],function(A){var N={user:A.user,credential:w,operationType:A.operationType,additionalUserInfo:A.additionalUserInfo};return u?(A=A.user.updateProfile({displayName:m}).then(function(){return Cr(r,a,N)}),Ue(r,A),A):Cr(r,a,N)},function(A){if(!A.name||A.name!="cancel"){var N=Ru(A);switch(A=pt(N),N.code){case"auth/email-already-in-use":return iN(r,a,d,N);case"auth/too-many-requests":A=rt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Vt(a.l(),!1),pn(a.ba(),A);break;case"auth/admin-restricted-operation":ho(H(r))?(A=St(a),a.m(),ve("handleUnauthorizedUser",r,A,d,Te.auth.EmailAuthProvider.PROVIDER_ID)):a.a(A);break;default:N="setAccountInfo: "+Kb(N),pi(N,void 0),a.a(A)}}}))}else a.l().focus()}else a.i().focus()}function iN(r,a,u,d){function m(){var w=pt(d);Vt(a.i(),!1),pn(a.U(),w),a.i().focus()}var g=Ge(r).fetchSignInMethodsForEmail(u).then(function(w){w.length?m():(w=St(a),a.m(),ve("passwordRecovery",r,w,u,!1,qw().toString()))},function(){m()});return Ue(r,g),g}at.passwordSignUp=function(r,a,u,d,m,g){function w(){A.m(),bt(r,a)}var A=new Hu(g1(H(r)),function(){nN(r,A)},m?void 0:w,u,d,Bt(H(r)),Ht(H(r)),g);A.render(a),He(r,A)};function sv(){return Qe(this,"firebaseui-id-phone-confirmation-code")}function aI(){return Qe(this,"firebaseui-id-phone-confirmation-code-error")}function lI(){return Qe(this,"firebaseui-id-resend-countdown")}function ja(r,a,u,d,m,g,w,A,N){j.call(this,NE,{phoneNumber:m},N,"phoneSignInFinish",{F:w,D:A}),this.jb=g,this.i=new Sh(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=d}c(ja,j),ja.prototype.v=function(){var r=this;this.U(this.jb),Mi(this.i,"tick",this.w,!1,this),this.i.start(),kt(this,Qe(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),kt(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),j.prototype.v.call(this)},ja.prototype.o=function(){this.M=this.H=this.l=this.P=null,Ch(this.i),so(this.i,"tick",this.w),this.i=null,j.prototype.o.call(this)},ja.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Ch(this.i),so(this.i,"tick",this.w),this.ua(),this.lb())},ae(ja.prototype,{u:sv,pa:aI,Ja:function(r){var a=sv.call(this),u=aI.call(this);ka(this,a,function(){xa(u)&&(Vt(a,!0),gi(u))}),r&&Au(this,a,function(){r()})},ba:function(){var r=M(fn(sv.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:lI,U:function(r){Gm(lI.call(this),rt("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){gi(this.Fb())},Da:function(){return Qe(this,"firebaseui-id-resend-link")},lb:function(){pn(this.Da())},Nb:ln,Mb:Qt,ea:mn});function rN(r,a,u,d){function m(w){a.u().focus(),Vt(a.u(),!1),pn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",rt("Verifying...").toString()),Ue(r,a.I(he(d.confirm,d),[g],function(w){a.h(),a.$("firebaseui-icon-done",rt("Verified!").toString());var A=setTimeout(function(){a.h(),a.m();var N={user:Fi(r).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};Cr(r,a,N,!0)},1e3);Ue(r,function(){a&&a.h(),clearTimeout(A)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var A=Ru(w);switch(w=pt(A),A.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":A=St(a),a.h(),a.m(),ve("phoneSignInStart",r,A,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(w);break;default:a.h(),a.a(w)}}}))):m(rt("Wrong code. Try again.").toString())}at.phoneSignInFinish=function(r,a,u,d,m,g){var w=new ja(function(){w.m(),ve("phoneSignInStart",r,a,u)},function(){rN(r,w,u,m)},function(){w.m(),bt(r,a)},function(){w.m(),ve("phoneSignInStart",r,a,u)},Lg(u),d,Bt(H(r)),Ht(H(r)));w.render(a),He(r,w),g&&w.a(g)};var sN=!Dt&&!(ze("Safari")&&!(Ew()||ze("Coast")||ze("Opera")||ze("Edge")||ze("Firefox")||ze("FxiOS")||ze("Silk")||ze("Android")));function Hh(r,a){return/-[a-z]/.test(a)?null:sN&&r.dataset?!ze("Android")||Ew()||ze("Firefox")||ze("FxiOS")||ze("Opera")||ze("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function oN(r,a,u){var d=this;r=tu(K1,{items:r},null,this.s),G1.call(this,r,!0,!0),u&&(u=aN(r,u))&&(u.focus(),DO(u,r)),kt(this,r,function(m){(m=(m=Vw(m.target,"firebaseui-id-list-box-dialog-button"))&&Hh(m,"listboxid"))&&(xh.call(d),a(m))})}function aN(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(Hh(r[u],"listboxid")===a)return r[u];return null}function po(){return Qe(this,"firebaseui-id-phone-number")}function uI(){return Qe(this,"firebaseui-id-country-selector")}function ov(){return Qe(this,"firebaseui-id-phone-number-error")}function lN(r,a){var u=r.a,d=av("1-US-0",u),m=null;if(a&&av(a,u)?m=a:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");qh.call(this,m,r)}function av(r,a){return r=co(r),!(!r||!F(a,r))}function uN(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+lv(a),label:a.name+" "+("‎+"+a.b)}})}function lv(r){return"firebaseui-flag-"+r.f}function cN(r){var a=this;oN.call(this,uN(r.a),function(u){qh.call(a,u,r,!0),a.O().focus()},this.Ba)}function qh(r,a,u){var d=co(r);d&&(u&&(u=M(fn(po.call(this))||""),a=bh(a,u),a.length&&a[0].b!=d.b&&(u="+"+d.b+u.substr(a[0].b.length+1),E1(po.call(this),u))),a=co(this.Ba),this.Ba=r,r=Qe(this,"firebaseui-id-country-selector-flag"),a&&ir(r,lv(a)),nr(r,lv(d)),Gm(Qe(this,"firebaseui-id-country-selector-code"),"‎+"+d.b))}function qu(r,a,u,d,m,g,w,A,N,Q){j.call(this,OE,{Gb:a,Aa:N||null,Va:!!u,ia:!!g},Q,"phoneSignInStart",{F:d,D:m}),this.H=A||null,this.M=a,this.l=r,this.w=u||null,this.pa=w||null}c(qu,j),qu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Su(this,this.O(),this.i()),Da(this,this.i(),this.l),this.O().focus(),jh(this.O(),(this.O().value||"").length),j.prototype.v.call(this)},qu.prototype.o=function(){this.w=this.l=null,j.prototype.o.call(this)},ae(qu.prototype,{Cb:Qg,O:po,B:ov,ea:function(r,a,u){var d=this,m=po.call(this),g=uI.call(this),w=ov.call(this),A=r||gu,N=A.a;if(N.length==0)throw Error("No available countries provided.");lN.call(d,A,a),kt(this,g,function(){cN.call(d,A)}),ka(this,m,function(){xa(w)&&(Vt(m,!0),gi(w));var Q=M(fn(m)||""),be=co(this.Ba),dt=bh(A,Q);Q=av("1-US-0",N),dt.length&&dt[0].b!=be.b&&(be=dt[0],qh.call(d,be.b=="1"&&Q?"1-US-0":be.c,A))}),u&&Au(this,m,function(){u()})},U:function(r){var a=M(fn(po.call(this))||"");r=r||gu;var u=r.a,d=bh(gu,a);if(d.length&&!F(u,d[0]))throw E1(po.call(this)),po.call(this).focus(),pn(ov.call(this),rt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=co(this.Ba),d.length&&d[0].b!=u.b&&qh.call(this,d[0].c,r),d.length&&(a=a.substr(d[0].b.length+1)),a?new o1(this.Ba,a):null},Ja:uI,ba:function(){return Qe(this,"firebaseui-recaptcha-container")},u:function(){return Qe(this,"firebaseui-id-recaptcha-error")},i:ln,ua:Qt,P:mn});function cI(r,a,u,d){try{var m=a.U(Hg)}catch{return}m?_u?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",rt("Verifying...").toString()),Ue(r,a.I(he(r.cc,r),[Lg(m),u],function(g){var w=St(a);a.$("firebaseui-icon-done",rt("Code sent!").toString());var A=setTimeout(function(){a.h(),a.m(),ve("phoneSignInFinish",r,w,m,15,g)},1e3);Ue(r,function(){a&&a.h(),clearTimeout(A)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(w1),_u=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=rt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),pn(a.B(),Xm().toString());return;case"auth/admin-restricted-operation":if(ho(H(r))){g=St(a),a.m(),ve("handleUnauthorizedUser",r,g,Lg(m),Te.auth.PhoneAuthProvider.PROVIDER_ID);return}w=pt(g);break;default:w=pt(g)}a.a(w)}}))):Ta?pn(a.u(),rt("Solve the reCAPTCHA").toString()):!Ta&&d&&a.i().click():(a.O().focus(),pn(a.B(),Xm().toString()))}at.phoneSignInStart=function(r,a,u,d){var m=wO(H(r))||{};_u=null,Ta=!(m&&m.size==="invisible");var g=QE(r),w=SO(H(r)),A=g?AO(H(r)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||A,(A=Mg(H(r)))&&s1(A),Hg=A?new n1(Mg(H(r))):gu;var N=new qu(function(be){cI(r,N,Q,!(!be||!be.keyCode))},Ta,g?null:function(){Q.clear(),N.m(),bt(r,a)},Bt(H(r)),Ht(H(r)),g,Hg,w,u);N.render(a),He(r,N),d&&N.a(d),m.callback=function(be){N.u()&&gi(N.u()),_u=be,Ta||cI(r,N,Q)},m["expired-callback"]=function(){_u=null};var Q=new Te.auth.RecaptchaVerifier(Ta?N.ba():N.i(),m,Fi(r).app);Ue(r,N.I(he(Q.render,Q),[],function(be){w1=be},function(be){be.name&&be.name=="cancel"||(be=pt(be),N.m(),bt(r,a,void 0,be))}))},at.prefilledEmailSignIn=function(r,a,u){var d=new Bh;d.render(a),He(r,d),Ue(r,d.I(he(Ge(r).fetchSignInMethodsForEmail,Ge(r)),[u],function(m){d.m();var g=!(!Mh(r)||!fI(r));ZE(r,a,m,u,void 0,g)},function(m){m=pt(m),d.m(),ve("signIn",r,a,u,m)}))};function Wu(r,a,u,d,m){j.call(this,xE,{Sb:a},m,"providerSignIn",{F:u,D:d}),this.i=r}c(Wu,j),Wu.prototype.v=function(){this.l(this.i),j.prototype.v.call(this)},Wu.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(Wu.prototype,{l:function(r){function a(w){r(w)}for(var u=this.g?Km("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],g=Hh(m,"providerId");kt(this,m,ne(a,g))}}}),at.providerSignIn=function(r,a,u,d){var m=new Wu(function(g){g==Te.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),ev(r,a,d)):g==Te.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ve("phoneSignInStart",r,a)):g=="anonymous"?BO(r,m):Pu(r,m,g,d),Xe(r),r.l.cancel()},c1(H(r)),Bt(H(r)),Ht(H(r)));m.render(a),He(r,m),u&&m.a(u),fN(r)},at.sendEmailLinkForSignIn=function(r,a,u,d){var m=new Vh;m.render(a),He(r,m),Zg(r,m,u,d,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&ho(H(r))?ve("handleUnauthorizedUser",r,a,u,Te.auth.EmailAuthProvider.PROVIDER_ID):(g=pt(g),ve("signIn",r,a,u,g))})};function Ku(r,a,u,d,m,g,w){j.call(this,X1,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:d,D:m}),this.i=r,this.u=a}c(Ku,j),Ku.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),jh(this.l(),(this.l().value||"").length),j.prototype.v.call(this)},Ku.prototype.o=function(){this.u=this.i=null,j.prototype.o.call(this)},ae(Ku.prototype,{l:Sr,M:hs,w:Ma,H:Va,j:Fa,U:ln,P:Qt,B:mn}),at.signIn=function(r,a,u,d){var m=Mh(r),g=new Ku(function(){var w=g,A=w.j()||"";A&&XE(r,w,A)},m?null:function(){g.m(),bt(r,a,u)},u,Bt(H(r)),Ht(H(r)),m);g.render(a),He(r,g),d&&g.a(d)};function zu(r,a,u,d,m,g,w){j.call(this,mE,{kc:r,yb:u,Eb:!!d},w,"unauthorizedUser",{F:m,D:g}),this.l=a,this.i=d}c(zu,j),zu.prototype.v=function(){var r=this,a=Qe(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&kt(this,a,function(){r.i()}),kt(this,this.u(),function(){r.l()}),this.u().focus(),j.prototype.v.call(this)},zu.prototype.o=function(){this.i=this.l=null,j.prototype.o.call(this)},ae(zu.prototype,{u:Qt}),at.handleUnauthorizedUser=function(r,a,u,d){function m(){bt(r,a)}d===Te.auth.EmailAuthProvider.PROVIDER_ID?m=function(){ev(r,a)}:d===Te.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ve("phoneSignInStart",r,a)});var g=null,w=null;d===Te.auth.EmailAuthProvider.PROVIDER_ID&&h1(H(r))?(g=IO(H(r)),w=TO(H(r))):ho(H(r))&&(g=bO(H(r)),w=EO(H(r)));var A=new zu(u,function(){A.m(),m()},g,w,Bt(H(r)),Ht(H(r)));A.render(a),He(r,A)};function Gu(r,a,u,d,m,g){j.call(this,gE,{email:r},g,"unsupportedProvider",{F:d,D:m}),this.l=a,this.i=u}c(Gu,j),Gu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),j.prototype.v.call(this)},Gu.prototype.o=function(){this.i=this.l=null,j.prototype.o.call(this)},ae(Gu.prototype,{u:ln,B:Qt,w:mn}),at.unsupportedProvider=function(r,a,u){var d=new Gu(u,function(){d.m(),ve("passwordRecovery",r,a,u)},function(){d.m(),bt(r,a,u)},Bt(H(r)),Ht(H(r)));d.render(a),He(r,d)};function rr(r,a){this.$=!1;var u=uv(a);if(Yu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Yu[u]=this,this.a=r,this.u=null,this.Y=!1,dI(this.a),this.h=Te.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),dI(this.h),this.h.setPersistence&&this.h.setPersistence(Te.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new _O,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=pg.Xa(),this.j=this.C=null,this.da=this.A=!1}function dI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Yu={};function uv(r){return r||"[DEFAULT]"}function hI(r){return Xe(r),r.i||(r.i=Rr(r,function(a){return a&&!er(xe(r))?Mt(Fi(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return ps(r,u)})):Mt(Ge(r).getRedirectResult().then(function(u){return Eh(H(r))&&!u.user&&r.j&&!r.j.isAnonymous?Fi(r).getRedirectResult():u}))})),r.i}function He(r,a){Xe(r),r.g=a}var Ba=null;function Ge(r){return Xe(r),r.h}function Fi(r){return Xe(r),r.a}function xe(r){return Xe(r),r.oa}function fI(r){return Xe(r),r.O?r.O.emailHint:void 0}t=rr.prototype,t.nb=function(){return Xe(this),!!kg(xe(this))||pI(Ar())};function pI(r){return r=new Zs(r),(r.a.a.get(Gt.ub)||null)==="signIn"&&!!r.a.a.get(Gt.$a)}t.start=function(r,a){mI(this,r,a)};function mI(r,a,u,d){Xe(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=d||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?Wh(r,a):ou(window,"load",function(){Wh(r,a)})}):g.readyState=="complete"?Wh(r,a):ou(window,"load",function(){Wh(r,a)})}function Wh(r,a){var u=eh(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ba){var d=Ba;Xe(d),er(xe(d))&&cs("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ba.reset()}if(Ba=r,r.T=u,hN(r,u),wh(new Sg)&&wh(new Cg)){a=eh(a,"Could not find the FirebaseUI widget element on the page."),u=Ar(),d=Ng(H(r).a,"queryParameterForSignInSuccessUrl"),u=(u=Fd(u,d))?is($d(u)).toString():null;e:{d=Ar();var m=m1(H(r));d=Fd(d,m)||"";for(g in Bg)if(Bg[g].toLowerCase()==d.toLowerCase()){var g=Bg[g];break e}g="callback"}switch(g){case"callback":u&&(g=xe(r),wa(pu,u,g)),r.nb()?ve("callback",r,a):bt(r,a,fI(r));break;case"resetPassword":ve("passwordReset",r,a,ku(),tv());break;case"recoverEmail":ve("emailChangeRevocation",r,a,ku());break;case"revertSecondFactorAddition":ve("revertSecondFactorAddition",r,a,ku());break;case"verifyEmail":ve("emailVerification",r,a,ku(),tv());break;case"verifyAndChangeEmail":ve("verifyAndChangeEmail",r,a,ku(),tv());break;case"signIn":ve("emailLinkSignInCallback",r,a,Ar()),_I();break;case"select":u&&(g=xe(r),wa(pu,u,g)),bt(r,a);break;default:throw Error("Unhandled widget operation.")}a=H(r),(a=yu(a).uiShown||null)&&a()}else a=eh(a,"Could not find the FirebaseUI widget element on the page."),g=new YE(rt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),He(r,g);a=r.g&&r.g.Ga=="blank"&&Vg(H(r)),kg(xe(r))&&!a&&(a=kg(xe(r)),yI(r,a.a),ri(uo,xe(r)))}function Rr(r,a){if(r.A)return a(gI(r));if(Ue(r,function(){r.A=!1}),Eh(H(r))){var u=new Jt(function(d){Ue(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,d(a(gI(r))))}))});return Ue(r,u),u}return r.A=!0,a(null)}function gI(r){return Xe(r),Eh(H(r))&&r.j&&r.j.isAnonymous?r.j:null}function Ue(r,a){if(Xe(r),a){r.s.push(a);var u=function(){V(r.s,function(d){return d==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){Xe(this),this.Z=!0};function dN(r){Xe(r);var a;return(a=r.Z)||(r=H(r),r=p1(r,Te.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function vI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function yI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){Xe(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&Kx(this.J),vI(this),this.O=null,_I(),ri(uo,xe(this)),Xe(this),this.l.cancel(),this.i=Mt({user:null,credential:null}),Ba==this&&(Ba=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],tr(xe(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=fs(this).then(function(){r.C=null},function(){r.C=null}))};function hN(r,a){r.L=null,r.J=new Xd(a),r.J.register(),Mi(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var d=H(r);(d=yu(d).uiChanged||null)&&d(r.L,u),r.L=u}})}t.ib=function(r){Xe(this);var a=this.ca,u;for(u in r)try{Og(a.a,u,r[u])}catch{pi('Invalid config: "'+u+'"',void 0)}fx&&Og(a.a,"popupMode",!1),Mg(a),!this.da&&Fg(H(this))&&(cs("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function H(r){return Xe(r),r.ca}t.Wb=function(){Xe(this);var r=H(this),a=Ng(r.a,"widgetUrl");r=m1(r);for(var u=a.search(pw),d=0,m,g=[];0<=(m=fw(a,d,r,u));)g.push(a.substring(d,m)),d=Math.min(a.indexOf("&",m)+1||u,u);g.push(a.substr(d)),a=g.join("").replace(nx,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),d=a.indexOf("?"),0>d||d>u?(d=u,m=""):m=a.substring(d+1,u),a=[a.substr(0,d),m,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,H(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=gb(u,r))&&r.focus()):ua(window.location,u)};function Xe(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return Xe(this),this.h.app.delete().then(function(){var a=uv(xe(r));delete Yu[a],r.reset(),r.$=!0})};function fN(r){Xe(r);try{Eb(r.l,d1(H(r)),dN(r)).then(function(a){return r.g?HO(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){Xe(this);var u=this,d=Zx();if(!Ia(H(this)))return ca(Error("Email link sign-in should be enabled to trigger email sending."));var m=RO(H(this)),g=new Zs(m.url);return ux(g,d),a&&a.a&&(yO(d,a,xe(this)),_w(g,a.a.providerId)),cx(g,CO(H(this))),Rr(this,function(w){return w&&((w=w.uid)?g.a.a.set(Gt.Pa,w):Xs(g.a.a,Gt.Pa)),m.url=g.toString(),Ge(u).sendSignInLinkToEmail(r,m)}).then(function(){var w=xe(u),A={};A.email=r,wa(ya,Hb(d,JSON.stringify(A)),w)},function(w){throw ri(mu,xe(u)),ri(ya,xe(u)),w})};function pN(r,a){var u=yw(new Zs(a));return u?(a=new Jt(function(d,m){var g=Fi(r).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?d(w):w&&w.isAnonymous&&w.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Ue(r,g)}),Ue(r,a),a):Mt(null)}function mN(r,a,u,d,m){Xe(r);var g=m||null,w=Te.auth.EmailAuthProvider.credentialWithLink(u,d);return u=g?Ge(r).signInWithEmailLink(u,d).then(function(A){return A.user.linkWithCredential(g)}).then(function(){return fs(r)}).then(function(){return ps(r,{code:"auth/email-already-in-use"},g)}):Ge(r).fetchSignInMethodsForEmail(u).then(function(A){return A.length?ps(r,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Ue(r,u),u}function gN(r,a,u,d){Xe(r);var m=d||null,g;return a=Ge(r).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},m)return w.user.linkWithCredential(m).then(function(A){g={user:A.user,credential:m,operationType:g.operationType,additionalUserInfo:A.additionalUserInfo}})}).then(function(){fs(r)}).then(function(){return Fi(r).updateCurrentUser(g.user)}).then(function(){return g.user=Fi(r).currentUser,g}),Ue(r,a),a}function _I(){var r=Ar();if(pI(r)){r=new Zs(r);for(var a in Gt)Gt.hasOwnProperty(a)&&Xs(r.a.a,Gt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){Xe(this);var u=this;return Ge(this).signInWithEmailAndPassword(r,a).then(function(d){return Rr(u,function(m){return m?fs(u).then(function(){return ps(u,{code:"auth/email-already-in-use"},Te.auth.EmailAuthProvider.credential(r,a))}):d})})},t.Yb=function(r,a){Xe(this);var u=this;return Rr(this,function(d){if(d){var m=Te.auth.EmailAuthProvider.credential(r,a);return d.linkWithCredential(m)}return Ge(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){Xe(this);var a=this;return Rr(this,function(u){return u?u.linkWithCredential(r).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return ps(a,d,r)}):Ge(a).signInWithCredential(r)})};function vN(r,a){return Xe(r),Rr(r,function(u){return u&&!er(xe(r))?u.linkWithPopup(a).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return ps(r,d)}):Ge(r).signInWithPopup(a)})}t.dc=function(r){Xe(this);var a=this,u=this.i;return this.i=null,Rr(this,function(d){return d&&!er(xe(a))?d.linkWithRedirect(r):Ge(a).signInWithRedirect(r)}).then(function(){},function(d){throw a.i=u,d})},t.cc=function(r,a){Xe(this);var u=this;return Rr(this,function(d){return d?d.linkWithPhoneNumber(r,a).then(function(m){return new gg(m,function(g){if(g.code=="auth/credential-already-in-use")return ps(u,g);throw g})}):Fi(u).signInWithPhoneNumber(r,a).then(function(m){return new gg(m)})})},t.$b=function(){return Xe(this),Fi(this).signInAnonymously()};function yN(r,a){return Xe(r),Rr(r,function(u){if(r.j&&!r.j.isAnonymous&&Eh(H(r))&&!Ge(r).currentUser)return fs(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return fs(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(d){return a.user=d.user,a.credential=d.credential,a.operationType=d.operationType,a.additionalUserInfo=d.additionalUserInfo,a},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return ps(r,d,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return fs(r).then(function(){return Fi(r).updateCurrentUser(a.user)}).then(function(){return a.user=Fi(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return Xe(this),Ge(this).signInWithEmailAndPassword(r,a)};function fs(r){return Xe(r),Ge(r).signOut()}function ps(r,a,u){if(Xe(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var d=_1(H(r));return Mt().then(function(){return d(new nu("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return ca(a)}function Ju(r,a,u,d){j.call(this,ME,void 0,d,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(Ju,j),Ju.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),jh(this.l(),(this.l().value||"").length),j.prototype.v.call(this)},Ju.prototype.o=function(){this.i=null,j.prototype.o.call(this)},ae(Ju.prototype,{l:Sr,H:hs,u:Ma,B:Va,j:Fa,M:ln,w:mn});function Kh(r,a,u,d,m){j.call(this,LE,{ec:a},m,"selectTenant",{F:u,D:d}),this.i=r}c(Kh,j),Kh.prototype.v=function(){_N(this,this.i),j.prototype.v.call(this)},Kh.prototype.o=function(){this.i=null,j.prototype.o.call(this)};function _N(r,a){function u(A){a(A)}for(var d=r.g?Km("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<d.length;m++){var g=d[m],w=Hh(g,"tenantId");kt(r,g,ne(u,w))}}function cv(r){j.call(this,rE,void 0,r,"spinner")}c(cv,j);function wN(r){this.a=new xg,jt(this.a,"authDomain"),jt(this.a,"displayMode",Gh),jt(this.a,"tenants"),jt(this.a,"callbacks"),jt(this.a,"tosUrl"),jt(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{Og(this.a,a,r[a])}catch{pi('Invalid config: "'+a+'"',void 0)}}function bN(r){r=r.a.get("displayMode");for(var a in hv)if(hv[a]===r)return hv[a];return Gh}function zh(r){return r.a.get("callbacks")||{}}function wI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&cs("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){ha(a)}}return null}function bI(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&cs("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){ha(u)}}return null}function dv(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(Yh))throw Error("Invalid tenant configuration!")}function EI(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var d=[];if(r=r[a]||r[Yh],!r)return pi("Invalid tenant configuration: "+(a+" is not configured!"),void 0),d;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),pi(m,void 0)}),d}function EN(r,a,u){return r=IN(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),r.signInOptions=a),r}function IN(r,a){var u=TN,d=d===void 0?{}:d;return dv(r,a),r=r.a.get("tenants"),eO(r[a]||r[Yh],u,d)}var TN=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Gh="optionFirst",hv={pc:Gh,oc:"identifierFirst"},Yh="*";function Ui(r,a){var u=this;this.s=eh(r),this.a={},Object.keys(a).forEach(function(d){u.a[d]=new wN(a[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=Ui.prototype,t.Ub=function(r,a){var u=this;ms(this);var d=r.apiKey;return new Jt(function(m,g){if(u.a.hasOwnProperty(d)){var w=zh(u.a[d]).selectTenantUiHidden||null;if(bN(u.a[d])===Gh){var A=[];a.forEach(function(be){be=be||"_";var dt=u.a[d].a.get("tenants");if(!dt)throw Error("Invalid tenant configuration!");(dt=dt[be]||dt[Yh])?be={tenantId:be!=="_"?be:null,V:dt.fullLabel||null,displayName:dt.displayName,za:dt.iconUrl,ta:dt.buttonColor}:(pi("Invalid tenant configuration: "+(be+" is not configured!"),void 0),be=null),be&&A.push(be)});var N=function(be){be={tenantId:be,providerIds:EI(u.a[d],be||"_")},m(be)};if(A.length===1){N(A[0].tenantId);return}u.g=new Kh(function(be){ms(u),w&&w(),N(be)},A,wI(u.a[d]),bI(u.a[d]))}else u.g=new Ju(function(){var be=u.g.j();if(be){for(var dt=0;dt<a.length;dt++){var $i=EI(u.a[d],a[dt]||"_",be);if($i.length!==0){be={tenantId:a[dt],providerIds:$i,email:be},ms(u),w&&w(),m(be);return}}u.g.a(Ww({code:"no-matching-tenant-for-email"}).toString())}},wI(u.a[d]),bI(u.a[d]));u.g.render(u.s),(g=zh(u.a[d]).selectTenantUiShown||null)&&g()}else{var Q=Error("Invalid project configuration: API key is invalid!");Q.code="invalid-configuration",u.pb(Q),g(Q)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;dv(this.a[r],a||"_");try{this.i=Te.app(u).auth()}catch{var d=this.a[r].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");r=Te.initializeApp({apiKey:r,authDomain:d},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new Jt(function(d,m){function g(dt,$i){u.j=new rr(r),mI(u.j,u.s,dt,$i)}var w=r.app.options.apiKey;u.a.hasOwnProperty(w)||m(Error("Invalid project configuration: API key is invalid!"));var A=EN(u.a[w],r.tenantId||"_",a&&a.providerIds);ms(u),m={signInSuccessWithAuthResult:function(dt){return d(dt),!1}};var N=zh(u.a[w]).signInUiShown||null,Q=!1;m.uiChanged=function(dt,$i){dt===null&&$i==="callback"?((dt=zm("firebaseui-id-page-callback",u.s))&&gi(dt),u.h=new cv,u.h.render(u.s)):Q||dt===null&&$i==="spinner"||$i==="blank"||(u.h&&(u.h.m(),u.h=null),Q=!0,N&&N(r.tenantId))},A.callbacks=m,A.credentialHelper="none";var be;a&&a.email&&(be={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(A,be)}):g(A,be)})},t.reset=function(){var r=this;return Mt().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,ms(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){ms(r),r.h=new cv,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return ms(this),this.g=new qE,this.g.render(this.s),Mt()};function ms(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=Ww({code:r.code}).toString()||r.message;ms(this);var d;r.retry&&typeof r.retry=="function"&&(d=function(){a.reset(),r.retry()}),this.g=new GE(u,d),this.g.render(this.s)},t.Rb=function(r){var a=this;return Mt().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(dv(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=zh(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},Pe("firebaseui.auth.FirebaseUiHandler",Ui),Pe("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ui.prototype.Ub),Pe("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ui.prototype.Pb),Pe("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ui.prototype.Zb),Pe("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ui.prototype.reset),Pe("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ui.prototype.Vb),Pe("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ui.prototype.mb),Pe("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ui.prototype.Bb),Pe("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ui.prototype.pb),Pe("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ui.prototype.Rb),Pe("firebaseui.auth.AuthUI",rr),Pe("firebaseui.auth.AuthUI.getInstance",function(r){return r=uv(r),Yu[r]?Yu[r]:null}),Pe("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",rr.prototype.Db),Pe("firebaseui.auth.AuthUI.prototype.start",rr.prototype.start),Pe("firebaseui.auth.AuthUI.prototype.setConfig",rr.prototype.ib),Pe("firebaseui.auth.AuthUI.prototype.signIn",rr.prototype.Wb),Pe("firebaseui.auth.AuthUI.prototype.reset",rr.prototype.reset),Pe("firebaseui.auth.AuthUI.prototype.delete",rr.prototype.Wa),Pe("firebaseui.auth.AuthUI.prototype.isPendingRedirect",rr.prototype.nb),Pe("firebaseui.auth.AuthUIError",nu),Pe("firebaseui.auth.AuthUIError.prototype.toJSON",nu.prototype.toJSON),Pe("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Ug),Pe("firebaseui.auth.CredentialHelper.NONE",Th),Pe("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Jt.prototype.catch=Jt.prototype.Ca,Jt.prototype.finally=Jt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=w6);var b6=firebaseui.auth;const fm=yp($5),Di=u5(fm);Nn(fm,"northamerica-northeast1");const dP=xC(fm),yK=new b6.AuthUI(dP),E6=v9(fm);g9(E6);const na=t=>{console.error(`Error fetching documents with conditions: ${t}`)},I6=async t=>{try{return(await Wr(Wo(Di,t))).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return na(e),[]}},_K=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=br(Wo(Di,t),Nr(e,n,i));return(await Wr(s)).docs.map(c=>c.data())}catch(s){return na(s),[]}},wK=async(t,e,n,i)=>{console.log("getPaginatedDocuments",t,e,n,i);try{if(i){const s=br(Wo(Di,t),$s(...e),N0(i),Al(n)),o=await Wr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}else{const s=br(Wo(Di,t),$s(...e),Al(n)),o=await Wr(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}}catch(s){return na(s),{lastVisible:{},docs:[]}}},bK=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=br(Wo(Di,t),Nr(e,n,i),$s(e),N0(l),Al(o)),h=await Wr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,p),{lastVisible:p,docs:f}}else{const c=br(rm(Di,t),Nr(e,n,i),$s(...s),Al(o)),h=await Wr(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,p),{lastVisible:p,docs:f}}}catch(c){return na(c),{lastVisible:{},docs:[]}}},EK=async(t,e,n,i,s,o,l,c,h,f)=>{try{if(f){const p=br(Wo(Di,t),Nr(e,n,i),Nr(s,o,l),$s(e),N0(f),Al(h)),v=await Wr(p),y=v.docs.map(I=>({id:I.id,...I.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}else{const p=br(rm(Di,t),Nr(e,n,i),Nr(s,o,l),$s(...c),Al(h)),v=await Wr(p),y=v.docs.map(I=>({id:I.id,...I.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}}catch(p){return na(p),{lastVisible:{},docs:[]}}},My=async(t,e)=>{try{console.log("getDocument",t,e);const n=N2(Di,t,e),i=await E5(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return na(n),[]}},T6=async(t,e,n="id")=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const i=br(rm(Di,t),Nr(n,"==",e)),s=await Wr(i);if(s.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const o=s.docs[0];return console.log("queryForCollectionGroupDocumentById",o.data()),{id:o.id,...o.data()}}catch(i){return na(i),null}},IK=t=>t instanceof rn,TK=t=>t.toDate();function U0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const It={},al=[],qi=()=>{},A6=()=>!1,S6=/^on[^a-z]/,pm=t=>S6.test(t),$0=t=>t.startsWith("onUpdate:"),cn=Object.assign,j0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},C6=Object.prototype.hasOwnProperty,st=(t,e)=>C6.call(t,e),Re=Array.isArray,ll=t=>Nd(t)==="[object Map]",mm=t=>Nd(t)==="[object Set]",rA=t=>Nd(t)==="[object Date]",$e=t=>typeof t=="function",qt=t=>typeof t=="string",Sl=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",hP=t=>(yt(t)||$e(t))&&$e(t.then)&&$e(t.catch),fP=Object.prototype.toString,Nd=t=>fP.call(t),R6=t=>Nd(t).slice(8,-1),pP=t=>Nd(t)==="[object Object]",B0=t=>qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sf=U0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},P6=/-(\w)/g,Cl=gm(t=>t.replace(P6,(e,n)=>n?n.toUpperCase():"")),k6=/\B([A-Z])/g,Hl=gm(t=>t.replace(k6,"-$1").toLowerCase()),mP=gm(t=>t.charAt(0).toUpperCase()+t.slice(1)),Vv=gm(t=>t?`on${mP(t)}`:""),Go=(t,e)=>!Object.is(t,e),Cf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},rp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},sp=t=>{const e=parseFloat(t);return isNaN(e)?t:e},x6=t=>{const e=qt(t)?Number(t):NaN;return isNaN(e)?t:e};let sA;const Vy=()=>sA||(sA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function H0(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=qt(i)?L6(i):H0(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(qt(t)||yt(t))return t}const O6=/;(?![^(]*\))/g,N6=/:([^]+)/,D6=/\/\*[^]*?\*\//g;function L6(t){const e={};return t.replace(D6,"").split(O6).forEach(n=>{if(n){const i=n.split(N6);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Cn(t){let e="";if(qt(t))e=t;else if(Re(t))for(let n=0;n<t.length;n++){const i=Cn(t[n]);i&&(e+=i+" ")}else if(yt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const M6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",V6=U0(M6);function gP(t){return!!t||t===""}function F6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=vm(t[i],e[i]);return n}function vm(t,e){if(t===e)return!0;let n=rA(t),i=rA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Sl(t),i=Sl(e),n||i)return t===e;if(n=Re(t),i=Re(e),n||i)return n&&i?F6(t,e):!1;if(n=yt(t),i=yt(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!vm(t[l],e[l]))return!1}}return String(t)===String(e)}function U6(t,e){return t.findIndex(n=>vm(n,e))}const Vn=t=>qt(t)?t:t==null?"":Re(t)||yt(t)&&(t.toString===fP||!$e(t.toString))?JSON.stringify(t,vP,2):String(t),vP=(t,e)=>e&&e.__v_isRef?vP(t,e.value):ll(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:mm(e)?{[`Set(${e.size})`]:[...e.values()]}:yt(e)&&!Re(e)&&!pP(e)?String(e):e;let yi;class yP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=yi,!e&&yi&&(this.index=(yi.scopes||(yi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=yi;try{return yi=this,e()}finally{yi=n}}}on(){yi=this}off(){yi=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function _P(t){return new yP(t)}function $6(t,e=yi){e&&e.active&&e.effects.push(t)}function wP(){return yi}function j6(t){yi&&yi.cleanups.push(t)}const q0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},bP=t=>(t.w&js)>0,EP=t=>(t.n&js)>0,B6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=js},H6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];bP(s)&&!EP(s)?s.delete(t):e[n++]=s,s.w&=~js,s.n&=~js}e.length=n}},op=new WeakMap;let vc=0,js=1;const Fy=30;let Bi;const Vo=Symbol(""),Uy=Symbol("");class W0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,$6(this,i)}run(){if(!this.active)return this.fn();let e=Bi,n=Os;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Bi,Bi=this,Os=!0,js=1<<++vc,vc<=Fy?B6(this):oA(this),this.fn()}finally{vc<=Fy&&H6(this),js=1<<--vc,Bi=this.parent,Os=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Bi===this?this.deferStop=!0:this.active&&(oA(this),this.onStop&&this.onStop(),this.active=!1)}}function oA(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Os=!0;const IP=[];function ql(){IP.push(Os),Os=!1}function Wl(){const t=IP.pop();Os=t===void 0?!0:t}function ui(t,e,n){if(Os&&Bi){let i=op.get(t);i||op.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=q0()),TP(s)}}function TP(t,e){let n=!1;vc<=Fy?EP(t)||(t.n|=js,n=!bP(t)):n=!t.has(Bi),n&&(t.add(Bi),Bi.deps.push(t))}function Fr(t,e,n,i,s,o){const l=op.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Re(t)){const h=Number(i);l.forEach((f,p)=>{(p==="length"||!Sl(p)&&p>=h)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Re(t)?B0(n)&&c.push(l.get("length")):(c.push(l.get(Vo)),ll(t)&&c.push(l.get(Uy)));break;case"delete":Re(t)||(c.push(l.get(Vo)),ll(t)&&c.push(l.get(Uy)));break;case"set":ll(t)&&c.push(l.get(Vo));break}if(c.length===1)c[0]&&$y(c[0]);else{const h=[];for(const f of c)f&&h.push(...f);$y(q0(h))}}function $y(t,e){const n=Re(t)?t:[...t];for(const i of n)i.computed&&aA(i);for(const i of n)i.computed||aA(i)}function aA(t,e){(t!==Bi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function q6(t,e){var n;return(n=op.get(t))==null?void 0:n.get(e)}const W6=U0("__proto__,__v_isRef,__isVue"),AP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Sl)),lA=K6();function K6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=De(this);for(let o=0,l=this.length;o<l;o++)ui(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(De)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ql();const i=De(this)[e].apply(this,n);return Wl(),i}}),t}function z6(t){const e=De(this);return ui(e,"has",t),e.hasOwnProperty(t)}class SP{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?o$:kP:o?PP:RP).get(e))return e;const l=Re(e);if(!s){if(l&&st(lA,n))return Reflect.get(lA,n,i);if(n==="hasOwnProperty")return z6}const c=Reflect.get(e,n,i);return(Sl(n)?AP.has(n):W6(n))||(s||ui(e,"get",n),o)?c:xt(c)?l&&B0(n)?c:c.value:yt(c)?s?OP(c):Xn(c):c}}class CP extends SP{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(Rl(o)&&xt(o)&&!xt(i))return!1;if(!this._shallow&&(!ap(i)&&!Rl(i)&&(o=De(o),i=De(i)),!Re(e)&&xt(o)&&!xt(i)))return o.value=i,!0;const l=Re(e)&&B0(n)?Number(n)<e.length:st(e,n),c=Reflect.set(e,n,i,s);return e===De(s)&&(l?Go(i,o)&&Fr(e,"set",n,i):Fr(e,"add",n,i)),c}deleteProperty(e,n){const i=st(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Fr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Sl(n)||!AP.has(n))&&ui(e,"has",n),i}ownKeys(e){return ui(e,"iterate",Re(e)?"length":Vo),Reflect.ownKeys(e)}}class G6 extends SP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Y6=new CP,J6=new G6,Q6=new CP(!0),K0=t=>t,ym=t=>Reflect.getPrototypeOf(t);function af(t,e,n=!1,i=!1){t=t.__v_raw;const s=De(t),o=De(e);n||(Go(e,o)&&ui(s,"get",e),ui(s,"get",o));const{has:l}=ym(s),c=i?K0:n?Y0:ed;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function lf(t,e=!1){const n=this.__v_raw,i=De(n),s=De(t);return e||(Go(t,s)&&ui(i,"has",t),ui(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function uf(t,e=!1){return t=t.__v_raw,!e&&ui(De(t),"iterate",Vo),Reflect.get(t,"size",t)}function uA(t){t=De(t);const e=De(this);return ym(e).has.call(e,t)||(e.add(t),Fr(e,"add",t,t)),this}function cA(t,e){e=De(e);const n=De(this),{has:i,get:s}=ym(n);let o=i.call(n,t);o||(t=De(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?Go(e,l)&&Fr(n,"set",t,e):Fr(n,"add",t,e),this}function dA(t){const e=De(this),{has:n,get:i}=ym(e);let s=n.call(e,t);s||(t=De(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Fr(e,"delete",t,void 0),o}function hA(){const t=De(this),e=t.size!==0,n=t.clear();return e&&Fr(t,"clear",void 0,void 0),n}function cf(t,e){return function(i,s){const o=this,l=o.__v_raw,c=De(l),h=e?K0:t?Y0:ed;return!t&&ui(c,"iterate",Vo),l.forEach((f,p)=>i.call(s,h(f),h(p),o))}}function df(t,e,n){return function(...i){const s=this.__v_raw,o=De(s),l=ll(o),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,f=s[t](...i),p=n?K0:e?Y0:ed;return!e&&ui(o,"iterate",h?Uy:Vo),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:c?[p(v[0]),p(v[1])]:p(v),done:y}},[Symbol.iterator](){return this}}}}function vs(t){return function(...e){return t==="delete"?!1:this}}function X6(){const t={get(o){return af(this,o)},get size(){return uf(this)},has:lf,add:uA,set:cA,delete:dA,clear:hA,forEach:cf(!1,!1)},e={get(o){return af(this,o,!1,!0)},get size(){return uf(this)},has:lf,add:uA,set:cA,delete:dA,clear:hA,forEach:cf(!1,!0)},n={get(o){return af(this,o,!0)},get size(){return uf(this,!0)},has(o){return lf.call(this,o,!0)},add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear"),forEach:cf(!0,!1)},i={get(o){return af(this,o,!0,!0)},get size(){return uf(this,!0)},has(o){return lf.call(this,o,!0)},add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear"),forEach:cf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=df(o,!1,!1),n[o]=df(o,!0,!1),e[o]=df(o,!1,!0),i[o]=df(o,!0,!0)}),[t,n,e,i]}const[Z6,e$,t$,n$]=X6();function z0(t,e){const n=e?t?n$:t$:t?e$:Z6;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(st(n,s)&&s in i?n:i,s,o)}const i$={get:z0(!1,!1)},r$={get:z0(!1,!0)},s$={get:z0(!0,!1)},RP=new WeakMap,PP=new WeakMap,kP=new WeakMap,o$=new WeakMap;function a$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function l$(t){return t.__v_skip||!Object.isExtensible(t)?0:a$(R6(t))}function Xn(t){return Rl(t)?t:G0(t,!1,Y6,i$,RP)}function xP(t){return G0(t,!1,Q6,r$,PP)}function OP(t){return G0(t,!0,J6,s$,kP)}function G0(t,e,n,i,s){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=l$(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Ur(t){return Rl(t)?Ur(t.__v_raw):!!(t&&t.__v_isReactive)}function Rl(t){return!!(t&&t.__v_isReadonly)}function ap(t){return!!(t&&t.__v_isShallow)}function NP(t){return Ur(t)||Rl(t)}function De(t){const e=t&&t.__v_raw;return e?De(e):t}function _m(t){return rp(t,"__v_skip",!0),t}const ed=t=>yt(t)?Xn(t):t,Y0=t=>yt(t)?OP(t):t;function DP(t){Os&&Bi&&(t=De(t),TP(t.dep||(t.dep=q0())))}function LP(t,e){t=De(t);const n=t.dep;n&&$y(n)}function xt(t){return!!(t&&t.__v_isRef===!0)}function Z(t){return VP(t,!1)}function MP(t){return VP(t,!0)}function VP(t,e){return xt(t)?t:new u$(t,e)}class u${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:De(e),this._value=n?e:ed(e)}get value(){return DP(this),this._value}set value(e){const n=this.__v_isShallow||ap(e)||Rl(e);e=n?e:De(e),Go(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ed(e),LP(this))}}function L(t){return xt(t)?t.value:t}const c$={get:(t,e,n)=>L(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return xt(s)&&!xt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function FP(t){return Ur(t)?t:new Proxy(t,c$)}function d$(t){const e=Re(t)?new Array(t.length):{};for(const n in t)e[n]=UP(t,n);return e}class h${constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return q6(De(this._object),this._key)}}class f${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function p$(t,e,n){return xt(t)?t:$e(t)?new f$(t):yt(t)&&arguments.length>1?UP(t,e,n):Z(t)}function UP(t,e,n){const i=t[e];return xt(i)?i:new h$(t,e,n)}class m${constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new W0(e,()=>{this._dirty||(this._dirty=!0,LP(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=De(this);return DP(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function g$(t,e,n=!1){let i,s;const o=$e(t);return o?(i=t,s=qi):(i=t.get,s=t.set),new m$(i,s,o||!s,n)}function Ns(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){wm(o,e,n)}return s}function xi(t,e,n,i){if($e(t)){const o=Ns(t,e,n,i);return o&&hP(o)&&o.catch(l=>{wm(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(xi(t[o],e,n,i));return s}function wm(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){Ns(h,null,10,[t,l,c]);return}}v$(t,n,s,i)}function v$(t,e,n,i=!0){console.error(t)}let td=!1,jy=!1;const Fn=[];let hr=0;const ul=[];let kr=null,bo=0;const $P=Promise.resolve();let J0=null;function Wi(t){const e=J0||$P;return t?e.then(this?t.bind(this):t):e}function y$(t){let e=hr+1,n=Fn.length;for(;e<n;){const i=e+n>>>1,s=Fn[i],o=nd(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function Q0(t){(!Fn.length||!Fn.includes(t,td&&t.allowRecurse?hr+1:hr))&&(t.id==null?Fn.push(t):Fn.splice(y$(t.id),0,t),jP())}function jP(){!td&&!jy&&(jy=!0,J0=$P.then(HP))}function _$(t){const e=Fn.indexOf(t);e>hr&&Fn.splice(e,1)}function w$(t){Re(t)?ul.push(...t):(!kr||!kr.includes(t,t.allowRecurse?bo+1:bo))&&ul.push(t),jP()}function fA(t,e=td?hr+1:0){for(;e<Fn.length;e++){const n=Fn[e];n&&n.pre&&(Fn.splice(e,1),e--,n())}}function BP(t){if(ul.length){const e=[...new Set(ul)];if(ul.length=0,kr){kr.push(...e);return}for(kr=e,kr.sort((n,i)=>nd(n)-nd(i)),bo=0;bo<kr.length;bo++)kr[bo]();kr=null,bo=0}}const nd=t=>t.id==null?1/0:t.id,b$=(t,e)=>{const n=nd(t)-nd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function HP(t){jy=!1,td=!0,Fn.sort(b$);const e=qi;try{for(hr=0;hr<Fn.length;hr++){const n=Fn[hr];n&&n.active!==!1&&Ns(n,null,14)}}finally{hr=0,Fn.length=0,BP(),td=!1,J0=null,(Fn.length||ul.length)&&HP()}}function E$(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||It;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:y}=i[p]||It;y&&(s=n.map(b=>qt(b)?b.trim():b)),v&&(s=n.map(sp))}let c,h=i[c=Vv(e)]||i[c=Vv(Cl(e))];!h&&o&&(h=i[c=Vv(Hl(e))]),h&&xi(h,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,xi(f,t,6,s)}}function qP(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!$e(t)){const h=f=>{const p=qP(f,e,!0);p&&(c=!0,cn(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!o&&!c?(yt(t)&&i.set(t,null),null):(Re(o)?o.forEach(h=>l[h]=null):cn(l,o),yt(t)&&i.set(t,l),l)}function bm(t,e){return!t||!pm(e)?!1:(e=e.slice(2).replace(/Once$/,""),st(t,e[0].toLowerCase()+e.slice(1))||st(t,Hl(e))||st(t,e))}let Rn=null,WP=null;function lp(t){const e=Rn;return Rn=t,WP=t&&t.type.__scopeId||null,e}function ce(t,e=Rn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&AA(-1);const o=lp(e);let l;try{l=t(...s)}finally{lp(o),i._d&&AA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Fv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:h,emit:f,render:p,renderCache:v,data:y,setupState:b,ctx:I,inheritAttrs:_}=t;let E,T;const R=lp(t);try{if(n.shapeFlag&4){const x=s||i;E=or(p.call(x,x,v,o,b,y,I)),T=h}else{const x=e;E=or(x.length>1?x(o,{attrs:h,slots:c,emit:f}):x(o,null)),T=e.props?h:I$(h)}}catch(x){xc.length=0,wm(x,t,1),E=J(Oi)}let k=E;if(T&&_!==!1){const x=Object.keys(T),{shapeFlag:D}=k;x.length&&D&7&&(l&&x.some($0)&&(T=T$(T,l)),k=zr(k,T))}return n.dirs&&(k=zr(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),E=k,lp(R),E}const I$=t=>{let e;for(const n in t)(n==="class"||n==="style"||pm(n))&&((e||(e={}))[n]=t[n]);return e},T$=(t,e)=>{const n={};for(const i in t)(!$0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function A$(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:h}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?pA(i,l,f):!!l;if(h&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const y=p[v];if(l[y]!==i[y]&&!bm(f,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?pA(i,l,f):!0:!!l;return!1}function pA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!bm(n,o))return!0}return!1}function S$({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const C$=t=>t.__isSuspense;function R$(t,e){e&&e.pendingBranch?Re(t)?e.effects.push(...t):e.effects.push(t):w$(t)}function Ti(t,e){return X0(t,null,e)}const hf={};function Ei(t,e,n){return X0(t,e,n)}function X0(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=It){var c;const h=wP()===((c=vn)==null?void 0:c.scope)?vn:null;let f,p=!1,v=!1;if(xt(t)?(f=()=>t.value,p=ap(t)):Ur(t)?(f=()=>t,i=!0):Re(t)?(v=!0,p=t.some(x=>Ur(x)||ap(x)),f=()=>t.map(x=>{if(xt(x))return x.value;if(Ur(x))return ko(x);if($e(x))return Ns(x,h,2)})):$e(t)?e?f=()=>Ns(t,h,2):f=()=>{if(!(h&&h.isUnmounted))return y&&y(),xi(t,h,3,[b])}:f=qi,e&&i){const x=f;f=()=>ko(x())}let y,b=x=>{y=R.onStop=()=>{Ns(x,h,4)}},I;if(sd)if(b=qi,e?n&&xi(e,h,3,[f(),v?[]:void 0,b]):f(),s==="sync"){const x=Sj();I=x.__watcherHandles||(x.__watcherHandles=[])}else return qi;let _=v?new Array(t.length).fill(hf):hf;const E=()=>{if(R.active)if(e){const x=R.run();(i||p||(v?x.some((D,K)=>Go(D,_[K])):Go(x,_)))&&(y&&y(),xi(e,h,3,[x,_===hf?void 0:v&&_[0]===hf?[]:_,b]),_=x)}else R.run()};E.allowRecurse=!!e;let T;s==="sync"?T=E:s==="post"?T=()=>oi(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),T=()=>Q0(E));const R=new W0(f,T);e?n?E():_=R.run():s==="post"?oi(R.run.bind(R),h&&h.suspense):R.run();const k=()=>{R.stop(),h&&h.scope&&j0(h.scope.effects,R)};return I&&I.push(k),k}function P$(t,e,n){const i=this.proxy,s=qt(t)?t.includes(".")?KP(i,t):()=>i[t]:t.bind(i,i);let o;$e(e)?o=e:(o=e.handler,n=e);const l=vn;Pl(this);const c=X0(s,o.bind(i),n);return l?Pl(l):Fo(),c}function KP(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function ko(t,e){if(!yt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),xt(t))ko(t.value,e);else if(Re(t))for(let n=0;n<t.length;n++)ko(t[n],e);else if(mm(t)||ll(t))t.forEach(n=>{ko(n,e)});else if(pP(t))for(const n in t)ko(t[n],e);return t}function ot(t,e){const n=Rn;if(n===null)return t;const i=Cm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,h,f=It]=e[o];l&&($e(l)&&(l={mounted:l,updated:l}),l.deep&&ko(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:h,modifiers:f}))}return t}function mo(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let h=c.dir[i];h&&(ql(),xi(h,n,8,[t.el,c,t,e]),Wl())}}const Es=Symbol("_leaveCb"),ff=Symbol("_enterCb");function k$(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ct(()=>{t.isMounted=!0}),Tm(()=>{t.isUnmounting=!0}),t}const Ci=[Function,Array],zP={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ci,onEnter:Ci,onAfterEnter:Ci,onEnterCancelled:Ci,onBeforeLeave:Ci,onLeave:Ci,onAfterLeave:Ci,onLeaveCancelled:Ci,onBeforeAppear:Ci,onAppear:Ci,onAfterAppear:Ci,onAppearCancelled:Ci},x$={name:"BaseTransition",props:zP,setup(t,{slots:e}){const n=_j(),i=k$();let s;return()=>{const o=e.default&&YP(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const _ of o)if(_.type!==Oi){l=_;break}}const c=De(t),{mode:h}=c;if(i.isLeaving)return Uv(l);const f=mA(l);if(!f)return Uv(l);const p=By(f,c,i,n);Hy(f,p);const v=n.subTree,y=v&&mA(v);let b=!1;const{getTransitionKey:I}=f.type;if(I){const _=I();s===void 0?s=_:_!==s&&(s=_,b=!0)}if(y&&y.type!==Oi&&(!Eo(f,y)||b)){const _=By(y,c,i,n);if(Hy(y,_),h==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Uv(l);h==="in-out"&&f.type!==Oi&&(_.delayLeave=(E,T,R)=>{const k=GP(i,y);k[String(y.key)]=y,E[Es]=()=>{T(),E[Es]=void 0,delete p.delayedLeave},p.delayedLeave=R})}return l}}},O$=x$;function GP(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function By(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:v,onLeave:y,onAfterLeave:b,onLeaveCancelled:I,onBeforeAppear:_,onAppear:E,onAfterAppear:T,onAppearCancelled:R}=e,k=String(t.key),x=GP(n,t),D=(q,ie)=>{q&&xi(q,i,9,ie)},K=(q,ie)=>{const ye=ie[1];D(q,ie),Re(q)?q.every(he=>he.length<=1)&&ye():q.length<=1&&ye()},se={mode:o,persisted:l,beforeEnter(q){let ie=c;if(!n.isMounted)if(s)ie=_||c;else return;q[Es]&&q[Es](!0);const ye=x[k];ye&&Eo(t,ye)&&ye.el[Es]&&ye.el[Es](),D(ie,[q])},enter(q){let ie=h,ye=f,he=p;if(!n.isMounted)if(s)ie=E||h,ye=T||f,he=R||p;else return;let ne=!1;const ae=q[ff]=et=>{ne||(ne=!0,et?D(he,[q]):D(ye,[q]),se.delayedLeave&&se.delayedLeave(),q[ff]=void 0)};ie?K(ie,[q,ae]):ae()},leave(q,ie){const ye=String(t.key);if(q[ff]&&q[ff](!0),n.isUnmounting)return ie();D(v,[q]);let he=!1;const ne=q[Es]=ae=>{he||(he=!0,ie(),ae?D(I,[q]):D(b,[q]),q[Es]=void 0,x[ye]===t&&delete x[ye])};x[ye]=t,y?K(y,[q,ne]):ne()},clone(q){return By(q,e,n,i)}};return se}function Uv(t){if(Em(t))return t=zr(t),t.children=null,t}function mA(t){return Em(t)?t.children?t.children[0]:void 0:t}function Hy(t,e){t.shapeFlag&6&&t.component?Hy(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function YP(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===ut?(l.patchFlag&128&&s++,i=i.concat(YP(l.children,e,c))):(e||l.type!==Oi)&&i.push(c!=null?zr(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Fe(t,e){return $e(t)?(()=>cn({name:t.name},e,{setup:t}))():t}const Rc=t=>!!t.type.__asyncLoader,Em=t=>t.type.__isKeepAlive;function N$(t,e){JP(t,"a",e)}function D$(t,e){JP(t,"da",e)}function JP(t,e,n=vn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Im(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Em(s.parent.vnode)&&L$(i,e,n,s),s=s.parent}}function L$(t,e,n,i){const s=Im(e,t,i,!0);ci(()=>{j0(i[e],s)},n)}function Im(t,e,n=vn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;ql(),Pl(n);const c=xi(e,n,t,l);return Fo(),Wl(),c});return i?s.unshift(o):s.push(o),o}}const Qr=t=>(e,n=vn)=>(!sd||t==="sp")&&Im(t,(...i)=>e(...i),n),M$=Qr("bm"),Ct=Qr("m"),V$=Qr("bu"),F$=Qr("u"),Tm=Qr("bum"),ci=Qr("um"),U$=Qr("sp"),$$=Qr("rtg"),j$=Qr("rtc");function B$(t,e=vn){Im("ec",t,e)}const H$=Symbol.for("v-ndc");function Kr(t,e,n,i){let s;const o=n&&n[i];if(Re(t)||qt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(yt(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function QP(t,e,n={},i,s){if(Rn.isCE||Rn.parent&&Rc(Rn.parent)&&Rn.parent.isCE)return e!=="default"&&(n.name=e),J("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),z();const l=o&&XP(o(n)),c=qe(ut,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function XP(t){return t.some(e=>cp(e)?!(e.type===Oi||e.type===ut&&!XP(e.children)):!0)?t:null}const qy=t=>t?uk(t)?Cm(t)||t.proxy:qy(t.parent):null,Pc=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qy(t.parent),$root:t=>qy(t.root),$emit:t=>t.emit,$options:t=>Z0(t),$forceUpdate:t=>t.f||(t.f=()=>Q0(t.update)),$nextTick:t=>t.n||(t.n=Wi.bind(t.proxy)),$watch:t=>P$.bind(t)}),$v=(t,e)=>t!==It&&!t.__isScriptSetup&&st(t,e),q$={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:h}=t;let f;if(e[0]!=="$"){const b=l[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if($v(i,e))return l[e]=1,i[e];if(s!==It&&st(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&st(f,e))return l[e]=3,o[e];if(n!==It&&st(n,e))return l[e]=4,n[e];Wy&&(l[e]=0)}}const p=Pc[e];let v,y;if(p)return e==="$attrs"&&ui(t,"get",e),p(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==It&&st(n,e))return l[e]=4,n[e];if(y=h.config.globalProperties,st(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return $v(s,e)?(s[e]=n,!0):i!==It&&st(i,e)?(i[e]=n,!0):st(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==It&&st(t,l)||$v(e,l)||(c=o[0])&&st(c,l)||st(i,l)||st(Pc,l)||st(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:st(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function gA(t){return Re(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Wy=!0;function W$(t){const e=Z0(t),n=t.proxy,i=t.ctx;Wy=!1,e.beforeCreate&&vA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:h,inject:f,created:p,beforeMount:v,mounted:y,beforeUpdate:b,updated:I,activated:_,deactivated:E,beforeDestroy:T,beforeUnmount:R,destroyed:k,unmounted:x,render:D,renderTracked:K,renderTriggered:se,errorCaptured:q,serverPrefetch:ie,expose:ye,inheritAttrs:he,components:ne,directives:ae,filters:et}=e;if(f&&K$(f,i,null),l)for(const pe in l){const Se=l[pe];$e(Se)&&(i[pe]=Se.bind(n))}if(s){const pe=s.call(n,n);yt(pe)&&(t.data=Xn(pe))}if(Wy=!0,o)for(const pe in o){const Se=o[pe],_t=$e(Se)?Se.bind(n,n):$e(Se.get)?Se.get.bind(n,n):qi,tt=!$e(Se)&&$e(Se.set)?Se.set.bind(n):qi,zt=we({get:_t,set:tt});Object.defineProperty(i,pe,{enumerable:!0,configurable:!0,get:()=>zt.value,set:nt=>zt.value=nt})}if(c)for(const pe in c)ZP(c[pe],i,n,pe);if(h){const pe=$e(h)?h.call(n):h;Reflect.ownKeys(pe).forEach(Se=>{ti(Se,pe[Se])})}p&&vA(p,t,"c");function ee(pe,Se){Re(Se)?Se.forEach(_t=>pe(_t.bind(n))):Se&&pe(Se.bind(n))}if(ee(M$,v),ee(Ct,y),ee(V$,b),ee(F$,I),ee(N$,_),ee(D$,E),ee(B$,q),ee(j$,K),ee($$,se),ee(Tm,R),ee(ci,x),ee(U$,ie),Re(ye))if(ye.length){const pe=t.exposed||(t.exposed={});ye.forEach(Se=>{Object.defineProperty(pe,Se,{get:()=>n[Se],set:_t=>n[Se]=_t})})}else t.exposed||(t.exposed={});D&&t.render===qi&&(t.render=D),he!=null&&(t.inheritAttrs=he),ne&&(t.components=ne),ae&&(t.directives=ae)}function K$(t,e,n=qi){Re(t)&&(t=Ky(t));for(const i in t){const s=t[i];let o;yt(s)?"default"in s?o=Rt(s.from||i,s.default,!0):o=Rt(s.from||i):o=Rt(s),xt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function vA(t,e,n){xi(Re(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function ZP(t,e,n,i){const s=i.includes(".")?KP(n,i):()=>n[i];if(qt(t)){const o=e[t];$e(o)&&Ei(s,o)}else if($e(t))Ei(s,t.bind(n));else if(yt(t))if(Re(t))t.forEach(o=>ZP(o,e,n,i));else{const o=$e(t.handler)?t.handler.bind(n):e[t.handler];$e(o)&&Ei(s,o,t)}}function Z0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let h;return c?h=c:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(f=>up(h,f,l,!0)),up(h,e,l)),yt(e)&&o.set(e,h),h}function up(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&up(t,o,n,!0),s&&s.forEach(l=>up(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=z$[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const z$={data:yA,props:_A,emits:_A,methods:yc,computed:yc,beforeCreate:Yn,created:Yn,beforeMount:Yn,mounted:Yn,beforeUpdate:Yn,updated:Yn,beforeDestroy:Yn,beforeUnmount:Yn,destroyed:Yn,unmounted:Yn,activated:Yn,deactivated:Yn,errorCaptured:Yn,serverPrefetch:Yn,components:yc,directives:yc,watch:Y$,provide:yA,inject:G$};function yA(t,e){return e?t?function(){return cn($e(t)?t.call(this,this):t,$e(e)?e.call(this,this):e)}:e:t}function G$(t,e){return yc(Ky(t),Ky(e))}function Ky(t){if(Re(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Yn(t,e){return t?[...new Set([].concat(t,e))]:e}function yc(t,e){return t?cn(Object.create(null),t,e):e}function _A(t,e){return t?Re(t)&&Re(e)?[...new Set([...t,...e])]:cn(Object.create(null),gA(t),gA(e??{})):e}function Y$(t,e){if(!t)return e;if(!e)return t;const n=cn(Object.create(null),t);for(const i in e)n[i]=Yn(t[i],e[i]);return n}function ek(){return{app:null,config:{isNativeTag:A6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let J$=0;function Q$(t,e){return function(i,s=null){$e(i)||(i=cn({},i)),s!=null&&!yt(s)&&(s=null);const o=ek(),l=new WeakSet;let c=!1;const h=o.app={_uid:J$++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:Cj,get config(){return o.config},set config(f){},use(f,...p){return l.has(f)||(f&&$e(f.install)?(l.add(f),f.install(h,...p)):$e(f)&&(l.add(f),f(h,...p))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,p){return p?(o.components[f]=p,h):o.components[f]},directive(f,p){return p?(o.directives[f]=p,h):o.directives[f]},mount(f,p,v){if(!c){const y=J(i,s);return y.appContext=o,p&&e?e(y,f):t(y,f,v),c=!0,h._container=f,f.__vue_app__=h,Cm(y.component)||y.component.proxy}},unmount(){c&&(t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return o.provides[f]=p,h},runWithContext(f){id=h;try{return f()}finally{id=null}}};return h}}let id=null;function ti(t,e){if(vn){let n=vn.provides;const i=vn.parent&&vn.parent.provides;i===n&&(n=vn.provides=Object.create(i)),n[t]=e}}function Rt(t,e,n=!1){const i=vn||Rn;if(i||id){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:id._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&$e(e)?e.call(i&&i.proxy):e}}function X$(){return!!(vn||Rn||id)}function Z$(t,e,n,i=!1){const s={},o={};rp(o,Sm,1),t.propsDefaults=Object.create(null),tk(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:xP(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function ej(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=De(s),[h]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let y=p[v];if(bm(t.emitsOptions,y))continue;const b=e[y];if(h)if(st(o,y))b!==o[y]&&(o[y]=b,f=!0);else{const I=Cl(y);s[I]=zy(h,c,I,b,t,!1)}else b!==o[y]&&(o[y]=b,f=!0)}}}else{tk(t,e,s,o)&&(f=!0);let p;for(const v in c)(!e||!st(e,v)&&((p=Hl(v))===v||!st(e,p)))&&(h?n&&(n[v]!==void 0||n[p]!==void 0)&&(s[v]=zy(h,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!st(e,v))&&(delete o[v],f=!0)}f&&Fr(t,"set","$attrs")}function tk(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(Sf(h))continue;const f=e[h];let p;s&&st(s,p=Cl(h))?!o||!o.includes(p)?n[p]=f:(c||(c={}))[p]=f:bm(t.emitsOptions,h)||(!(h in i)||f!==i[h])&&(i[h]=f,l=!0)}if(o){const h=De(n),f=c||It;for(let p=0;p<o.length;p++){const v=o[p];n[v]=zy(s,h,v,f[v],t,!st(f,v))}}return l}function zy(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=st(l,"default");if(c&&i===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&$e(h)){const{propsDefaults:f}=s;n in f?i=f[n]:(Pl(s),i=f[n]=h.call(null,e),Fo())}else i=h}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===Hl(n))&&(i=!0))}return i}function nk(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let h=!1;if(!$e(t)){const p=v=>{h=!0;const[y,b]=nk(v,e,!0);cn(l,y),b&&c.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!h)return yt(t)&&i.set(t,al),al;if(Re(o))for(let p=0;p<o.length;p++){const v=Cl(o[p]);wA(v)&&(l[v]=It)}else if(o)for(const p in o){const v=Cl(p);if(wA(v)){const y=o[p],b=l[v]=Re(y)||$e(y)?{type:y}:cn({},y);if(b){const I=IA(Boolean,b.type),_=IA(String,b.type);b[0]=I>-1,b[1]=_<0||I<_,(I>-1||st(b,"default"))&&c.push(v)}}}const f=[l,c];return yt(t)&&i.set(t,f),f}function wA(t){return t[0]!=="$"}function bA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function EA(t,e){return bA(t)===bA(e)}function IA(t,e){return Re(e)?e.findIndex(n=>EA(n,t)):$e(e)&&EA(e,t)?0:-1}const ik=t=>t[0]==="_"||t==="$stable",ew=t=>Re(t)?t.map(or):[or(t)],tj=(t,e,n)=>{if(e._n)return e;const i=ce((...s)=>ew(e(...s)),n);return i._c=!1,i},rk=(t,e,n)=>{const i=t._ctx;for(const s in t){if(ik(s))continue;const o=t[s];if($e(o))e[s]=tj(s,o,i);else if(o!=null){const l=ew(o);e[s]=()=>l}}},sk=(t,e)=>{const n=ew(e);t.slots.default=()=>n},nj=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=De(e),rp(e,"_",n)):rk(e,t.slots={})}else t.slots={},e&&sk(t,e);rp(t.slots,Sm,1)},ij=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=It;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(cn(s,e),!n&&c===1&&delete s._):(o=!e.$stable,rk(e,s)),l=e}else e&&(sk(t,e),l={default:1});if(o)for(const c in s)!ik(c)&&l[c]==null&&delete s[c]};function Gy(t,e,n,i,s=!1){if(Re(t)){t.forEach((y,b)=>Gy(y,e&&(Re(e)?e[b]:e),n,i,s));return}if(Rc(i)&&!s)return;const o=i.shapeFlag&4?Cm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:h}=t,f=e&&e.r,p=c.refs===It?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==h&&(qt(f)?(p[f]=null,st(v,f)&&(v[f]=null)):xt(f)&&(f.value=null)),$e(h))Ns(h,c,12,[l,p]);else{const y=qt(h),b=xt(h);if(y||b){const I=()=>{if(t.f){const _=y?st(v,h)?v[h]:p[h]:h.value;s?Re(_)&&j0(_,o):Re(_)?_.includes(o)||_.push(o):y?(p[h]=[o],st(v,h)&&(v[h]=p[h])):(h.value=[o],t.k&&(p[t.k]=h.value))}else y?(p[h]=l,st(v,h)&&(v[h]=l)):b&&(h.value=l,t.k&&(p[t.k]=l))};l?(I.id=-1,oi(I,n)):I()}}}const oi=R$;function rj(t){return sj(t)}function sj(t,e){const n=Vy();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:h,setText:f,setElementText:p,parentNode:v,nextSibling:y,setScopeId:b=qi,insertStaticContent:I}=t,_=(S,C,O,M=null,B=null,W=null,de=!1,te=null,oe=!!C.dynamicChildren)=>{if(S===C)return;S&&!Eo(S,C)&&(M=F(S),nt(S,B,W,!0),S=null),C.patchFlag===-2&&(oe=!1,C.dynamicChildren=null);const{type:Y,ref:Ce,shapeFlag:ge}=C;switch(Y){case Am:E(S,C,O,M);break;case Oi:T(S,C,O,M);break;case jv:S==null&&R(C,O,M,de);break;case ut:ne(S,C,O,M,B,W,de,te,oe);break;default:ge&1?D(S,C,O,M,B,W,de,te,oe):ge&6?ae(S,C,O,M,B,W,de,te,oe):(ge&64||ge&128)&&Y.process(S,C,O,M,B,W,de,te,oe,re)}Ce!=null&&B&&Gy(Ce,S&&S.ref,W,C||S,!C)},E=(S,C,O,M)=>{if(S==null)i(C.el=c(C.children),O,M);else{const B=C.el=S.el;C.children!==S.children&&f(B,C.children)}},T=(S,C,O,M)=>{S==null?i(C.el=h(C.children||""),O,M):C.el=S.el},R=(S,C,O,M)=>{[S.el,S.anchor]=I(S.children,C,O,M,S.el,S.anchor)},k=({el:S,anchor:C},O,M)=>{let B;for(;S&&S!==C;)B=y(S),i(S,O,M),S=B;i(C,O,M)},x=({el:S,anchor:C})=>{let O;for(;S&&S!==C;)O=y(S),s(S),S=O;s(C)},D=(S,C,O,M,B,W,de,te,oe)=>{de=de||C.type==="svg",S==null?K(C,O,M,B,W,de,te,oe):ie(S,C,B,W,de,te,oe)},K=(S,C,O,M,B,W,de,te)=>{let oe,Y;const{type:Ce,props:ge,shapeFlag:Ee,transition:Ne,dirs:Be}=S;if(oe=S.el=l(S.type,W,ge&&ge.is,ge),Ee&8?p(oe,S.children):Ee&16&&q(S.children,oe,null,M,B,W&&Ce!=="foreignObject",de,te),Be&&mo(S,null,M,"created"),se(oe,S,S.scopeId,de,M),ge){for(const it in ge)it!=="value"&&!Sf(it)&&o(oe,it,null,ge[it],W,S.children,M,B,$t);"value"in ge&&o(oe,"value",null,ge.value),(Y=ge.onVnodeBeforeMount)&&sr(Y,M,S)}Be&&mo(S,null,M,"beforeMount");const ft=oj(B,Ne);ft&&Ne.beforeEnter(oe),i(oe,C,O),((Y=ge&&ge.onVnodeMounted)||ft||Be)&&oi(()=>{Y&&sr(Y,M,S),ft&&Ne.enter(oe),Be&&mo(S,null,M,"mounted")},B)},se=(S,C,O,M,B)=>{if(O&&b(S,O),M)for(let W=0;W<M.length;W++)b(S,M[W]);if(B){let W=B.subTree;if(C===W){const de=B.vnode;se(S,de,de.scopeId,de.slotScopeIds,B.parent)}}},q=(S,C,O,M,B,W,de,te,oe=0)=>{for(let Y=oe;Y<S.length;Y++){const Ce=S[Y]=te?Is(S[Y]):or(S[Y]);_(null,Ce,C,O,M,B,W,de,te)}},ie=(S,C,O,M,B,W,de)=>{const te=C.el=S.el;let{patchFlag:oe,dynamicChildren:Y,dirs:Ce}=C;oe|=S.patchFlag&16;const ge=S.props||It,Ee=C.props||It;let Ne;O&&go(O,!1),(Ne=Ee.onVnodeBeforeUpdate)&&sr(Ne,O,C,S),Ce&&mo(C,S,O,"beforeUpdate"),O&&go(O,!0);const Be=B&&C.type!=="foreignObject";if(Y?ye(S.dynamicChildren,Y,te,O,M,Be,W):de||Se(S,C,te,null,O,M,Be,W,!1),oe>0){if(oe&16)he(te,C,ge,Ee,O,M,B);else if(oe&2&&ge.class!==Ee.class&&o(te,"class",null,Ee.class,B),oe&4&&o(te,"style",ge.style,Ee.style,B),oe&8){const ft=C.dynamicProps;for(let it=0;it<ft.length;it++){const wt=ft[it],an=ge[wt],Er=Ee[wt];(Er!==an||wt==="value")&&o(te,wt,an,Er,B,S.children,O,M,$t)}}oe&1&&S.children!==C.children&&p(te,C.children)}else!de&&Y==null&&he(te,C,ge,Ee,O,M,B);((Ne=Ee.onVnodeUpdated)||Ce)&&oi(()=>{Ne&&sr(Ne,O,C,S),Ce&&mo(C,S,O,"updated")},M)},ye=(S,C,O,M,B,W,de)=>{for(let te=0;te<C.length;te++){const oe=S[te],Y=C[te],Ce=oe.el&&(oe.type===ut||!Eo(oe,Y)||oe.shapeFlag&70)?v(oe.el):O;_(oe,Y,Ce,null,M,B,W,de,!0)}},he=(S,C,O,M,B,W,de)=>{if(O!==M){if(O!==It)for(const te in O)!Sf(te)&&!(te in M)&&o(S,te,O[te],null,de,C.children,B,W,$t);for(const te in M){if(Sf(te))continue;const oe=M[te],Y=O[te];oe!==Y&&te!=="value"&&o(S,te,Y,oe,de,C.children,B,W,$t)}"value"in M&&o(S,"value",O.value,M.value)}},ne=(S,C,O,M,B,W,de,te,oe)=>{const Y=C.el=S?S.el:c(""),Ce=C.anchor=S?S.anchor:c("");let{patchFlag:ge,dynamicChildren:Ee,slotScopeIds:Ne}=C;Ne&&(te=te?te.concat(Ne):Ne),S==null?(i(Y,O,M),i(Ce,O,M),q(C.children,O,Ce,B,W,de,te,oe)):ge>0&&ge&64&&Ee&&S.dynamicChildren?(ye(S.dynamicChildren,Ee,O,B,W,de,te),(C.key!=null||B&&C===B.subTree)&&tw(S,C,!0)):Se(S,C,O,Ce,B,W,de,te,oe)},ae=(S,C,O,M,B,W,de,te,oe)=>{C.slotScopeIds=te,S==null?C.shapeFlag&512?B.ctx.activate(C,O,M,de,oe):et(C,O,M,B,W,de,oe):Pe(S,C,oe)},et=(S,C,O,M,B,W,de)=>{const te=S.component=yj(S,M,B);if(Em(S)&&(te.ctx.renderer=re),wj(te),te.asyncDep){if(B&&B.registerDep(te,ee),!S.el){const oe=te.subTree=J(Oi);T(null,oe,C,O)}return}ee(te,S,C,O,B,W,de)},Pe=(S,C,O)=>{const M=C.component=S.component;if(A$(S,C,O))if(M.asyncDep&&!M.asyncResolved){pe(M,C,O);return}else M.next=C,_$(M.update),M.update();else C.el=S.el,M.vnode=C},ee=(S,C,O,M,B,W,de)=>{const te=()=>{if(S.isMounted){let{next:Ce,bu:ge,u:Ee,parent:Ne,vnode:Be}=S,ft=Ce,it;go(S,!1),Ce?(Ce.el=Be.el,pe(S,Ce,de)):Ce=Be,ge&&Cf(ge),(it=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&sr(it,Ne,Ce,Be),go(S,!0);const wt=Fv(S),an=S.subTree;S.subTree=wt,_(an,wt,v(an.el),F(an),S,B,W),Ce.el=wt.el,ft===null&&S$(S,wt.el),Ee&&oi(Ee,B),(it=Ce.props&&Ce.props.onVnodeUpdated)&&oi(()=>sr(it,Ne,Ce,Be),B)}else{let Ce;const{el:ge,props:Ee}=C,{bm:Ne,m:Be,parent:ft}=S,it=Rc(C);if(go(S,!1),Ne&&Cf(Ne),!it&&(Ce=Ee&&Ee.onVnodeBeforeMount)&&sr(Ce,ft,C),go(S,!0),ge&&V){const wt=()=>{S.subTree=Fv(S),V(ge,S.subTree,S,B,null)};it?C.type.__asyncLoader().then(()=>!S.isUnmounted&&wt()):wt()}else{const wt=S.subTree=Fv(S);_(null,wt,O,M,S,B,W),C.el=wt.el}if(Be&&oi(Be,B),!it&&(Ce=Ee&&Ee.onVnodeMounted)){const wt=C;oi(()=>sr(Ce,ft,wt),B)}(C.shapeFlag&256||ft&&Rc(ft.vnode)&&ft.vnode.shapeFlag&256)&&S.a&&oi(S.a,B),S.isMounted=!0,C=O=M=null}},oe=S.effect=new W0(te,()=>Q0(Y),S.scope),Y=S.update=()=>oe.run();Y.id=S.uid,go(S,!0),Y()},pe=(S,C,O)=>{C.component=S;const M=S.vnode.props;S.vnode=C,S.next=null,ej(S,C.props,M,O),ij(S,C.children,O),ql(),fA(),Wl()},Se=(S,C,O,M,B,W,de,te,oe=!1)=>{const Y=S&&S.children,Ce=S?S.shapeFlag:0,ge=C.children,{patchFlag:Ee,shapeFlag:Ne}=C;if(Ee>0){if(Ee&128){tt(Y,ge,O,M,B,W,de,te,oe);return}else if(Ee&256){_t(Y,ge,O,M,B,W,de,te,oe);return}}Ne&8?(Ce&16&&$t(Y,B,W),ge!==Y&&p(O,ge)):Ce&16?Ne&16?tt(Y,ge,O,M,B,W,de,te,oe):$t(Y,B,W,!0):(Ce&8&&p(O,""),Ne&16&&q(ge,O,M,B,W,de,te,oe))},_t=(S,C,O,M,B,W,de,te,oe)=>{S=S||al,C=C||al;const Y=S.length,Ce=C.length,ge=Math.min(Y,Ce);let Ee;for(Ee=0;Ee<ge;Ee++){const Ne=C[Ee]=oe?Is(C[Ee]):or(C[Ee]);_(S[Ee],Ne,O,null,B,W,de,te,oe)}Y>Ce?$t(S,B,W,!0,!1,ge):q(C,O,M,B,W,de,te,oe,ge)},tt=(S,C,O,M,B,W,de,te,oe)=>{let Y=0;const Ce=C.length;let ge=S.length-1,Ee=Ce-1;for(;Y<=ge&&Y<=Ee;){const Ne=S[Y],Be=C[Y]=oe?Is(C[Y]):or(C[Y]);if(Eo(Ne,Be))_(Ne,Be,O,null,B,W,de,te,oe);else break;Y++}for(;Y<=ge&&Y<=Ee;){const Ne=S[ge],Be=C[Ee]=oe?Is(C[Ee]):or(C[Ee]);if(Eo(Ne,Be))_(Ne,Be,O,null,B,W,de,te,oe);else break;ge--,Ee--}if(Y>ge){if(Y<=Ee){const Ne=Ee+1,Be=Ne<Ce?C[Ne].el:M;for(;Y<=Ee;)_(null,C[Y]=oe?Is(C[Y]):or(C[Y]),O,Be,B,W,de,te,oe),Y++}}else if(Y>Ee)for(;Y<=ge;)nt(S[Y],B,W,!0),Y++;else{const Ne=Y,Be=Y,ft=new Map;for(Y=Be;Y<=Ee;Y++){const dn=C[Y]=oe?Is(C[Y]):or(C[Y]);dn.key!=null&&ft.set(dn.key,Y)}let it,wt=0;const an=Ee-Be+1;let Er=!1,Md=0;const Js=new Array(an);for(Y=0;Y<an;Y++)Js[Y]=0;for(Y=Ne;Y<=ge;Y++){const dn=S[Y];if(wt>=an){nt(dn,B,W,!0);continue}let hn;if(dn.key!=null)hn=ft.get(dn.key);else for(it=Be;it<=Ee;it++)if(Js[it-Be]===0&&Eo(dn,C[it])){hn=it;break}hn===void 0?nt(dn,B,W,!0):(Js[hn-Be]=Y+1,hn>=Md?Md=hn:Er=!0,_(dn,C[hn],O,null,B,W,de,te,oe),wt++)}const Qs=Er?aj(Js):al;for(it=Qs.length-1,Y=an-1;Y>=0;Y--){const dn=Be+Y,hn=C[dn],Vd=dn+1<Ce?C[dn+1].el:M;Js[Y]===0?_(null,hn,O,Vd,B,W,de,te,oe):Er&&(it<0||Y!==Qs[it]?zt(hn,O,Vd,2):it--)}}},zt=(S,C,O,M,B=null)=>{const{el:W,type:de,transition:te,children:oe,shapeFlag:Y}=S;if(Y&6){zt(S.component.subTree,C,O,M);return}if(Y&128){S.suspense.move(C,O,M);return}if(Y&64){de.move(S,C,O,re);return}if(de===ut){i(W,C,O);for(let ge=0;ge<oe.length;ge++)zt(oe[ge],C,O,M);i(S.anchor,C,O);return}if(de===jv){k(S,C,O);return}if(M!==2&&Y&1&&te)if(M===0)te.beforeEnter(W),i(W,C,O),oi(()=>te.enter(W),B);else{const{leave:ge,delayLeave:Ee,afterLeave:Ne}=te,Be=()=>i(W,C,O),ft=()=>{ge(W,()=>{Be(),Ne&&Ne()})};Ee?Ee(W,Be,ft):ft()}else i(W,C,O)},nt=(S,C,O,M=!1,B=!1)=>{const{type:W,props:de,ref:te,children:oe,dynamicChildren:Y,shapeFlag:Ce,patchFlag:ge,dirs:Ee}=S;if(te!=null&&Gy(te,null,O,S,!0),Ce&256){C.ctx.deactivate(S);return}const Ne=Ce&1&&Ee,Be=!Rc(S);let ft;if(Be&&(ft=de&&de.onVnodeBeforeUnmount)&&sr(ft,C,S),Ce&6)Xr(S.component,O,M);else{if(Ce&128){S.suspense.unmount(O,M);return}Ne&&mo(S,null,C,"beforeUnmount"),Ce&64?S.type.remove(S,C,O,B,re,M):Y&&(W!==ut||ge>0&&ge&64)?$t(Y,C,O,!1,!0):(W===ut&&ge&384||!B&&Ce&16)&&$t(oe,C,O),M&&Ai(S)}(Be&&(ft=de&&de.onVnodeUnmounted)||Ne)&&oi(()=>{ft&&sr(ft,C,S),Ne&&mo(S,null,C,"unmounted")},O)},Ai=S=>{const{type:C,el:O,anchor:M,transition:B}=S;if(C===ut){di(O,M);return}if(C===jv){x(S);return}const W=()=>{s(O),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:de,delayLeave:te}=B,oe=()=>de(O,W);te?te(S.el,W,oe):oe()}else W()},di=(S,C)=>{let O;for(;S!==C;)O=y(S),s(S),S=O;s(C)},Xr=(S,C,O)=>{const{bum:M,scope:B,update:W,subTree:de,um:te}=S;M&&Cf(M),B.stop(),W&&(W.active=!1,nt(de,S,C,O)),te&&oi(te,C),oi(()=>{S.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},$t=(S,C,O,M=!1,B=!1,W=0)=>{for(let de=W;de<S.length;de++)nt(S[de],C,O,M,B)},F=S=>S.shapeFlag&6?F(S.component.subTree):S.shapeFlag&128?S.suspense.next():y(S.anchor||S.el),fe=(S,C,O)=>{S==null?C._vnode&&nt(C._vnode,null,null,!0):_(C._vnode||null,S,C,null,null,null,O),fA(),BP(),C._vnode=S},re={p:_,um:nt,m:zt,r:Ai,mt:et,mc:q,pc:Se,pbc:ye,n:F,o:t};let U,V;return e&&([U,V]=e(re)),{render:fe,hydrate:U,createApp:Q$(fe,U)}}function go({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function oj(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function tw(t,e,n=!1){const i=t.children,s=e.children;if(Re(i)&&Re(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=Is(s[o]),c.el=l.el),n||tw(l,c)),c.type===Am&&(c.el=l.el)}}function aj(t){const e=t.slice(),n=[0];let i,s,o,l,c;const h=t.length;for(i=0;i<h;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const lj=t=>t.__isTeleport,kc=t=>t&&(t.disabled||t.disabled===""),TA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Yy=(t,e)=>{const n=t&&t.to;return qt(n)?e?e(n):null:n},uj={__isTeleport:!0,process(t,e,n,i,s,o,l,c,h,f){const{mc:p,pc:v,pbc:y,o:{insert:b,querySelector:I,createText:_,createComment:E}}=f,T=kc(e.props);let{shapeFlag:R,children:k,dynamicChildren:x}=e;if(t==null){const D=e.el=_(""),K=e.anchor=_("");b(D,n,i),b(K,n,i);const se=e.target=Yy(e.props,I),q=e.targetAnchor=_("");se&&(b(q,se),l=l||TA(se));const ie=(ye,he)=>{R&16&&p(k,ye,he,s,o,l,c,h)};T?ie(n,K):se&&ie(se,q)}else{e.el=t.el;const D=e.anchor=t.anchor,K=e.target=t.target,se=e.targetAnchor=t.targetAnchor,q=kc(t.props),ie=q?n:K,ye=q?D:se;if(l=l||TA(K),x?(y(t.dynamicChildren,x,ie,s,o,l,c),tw(t,e,!0)):h||v(t,e,ie,ye,s,o,l,c,!1),T)q?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):pf(e,n,D,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const he=e.target=Yy(e.props,I);he&&pf(e,he,null,f,0)}else q&&pf(e,K,se,f,1)}ok(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:h,anchor:f,targetAnchor:p,target:v,props:y}=t;if(v&&o(p),l&&o(f),c&16){const b=l||!kc(y);for(let I=0;I<h.length;I++){const _=h[I];s(_,e,n,b,!!_.dynamicChildren)}}},move:pf,hydrate:cj};function pf(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:h,children:f,props:p}=t,v=o===2;if(v&&i(l,e,n),(!v||kc(p))&&h&16)for(let y=0;y<f.length;y++)s(f[y],e,n,2);v&&i(c,e,n)}function cj(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:h}},f){const p=e.target=Yy(e.props,h);if(p){const v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(kc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let y=v;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,p,n,i,s,o)}ok(e)}return e.anchor&&l(e.anchor)}const dj=uj;function ok(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const ut=Symbol.for("v-fgt"),Am=Symbol.for("v-txt"),Oi=Symbol.for("v-cmt"),jv=Symbol.for("v-stc"),xc=[];let Hi=null;function z(t=!1){xc.push(Hi=t?null:[])}function hj(){xc.pop(),Hi=xc[xc.length-1]||null}let rd=1;function AA(t){rd+=t}function ak(t){return t.dynamicChildren=rd>0?Hi||al:null,hj(),rd>0&&Hi&&Hi.push(t),t}function Ie(t,e,n,i,s,o){return ak(P(t,e,n,i,s,o,!0))}function qe(t,e,n,i,s){return ak(J(t,e,n,i,s,!0))}function cp(t){return t?t.__v_isVNode===!0:!1}function Eo(t,e){return t.type===e.type&&t.key===e.key}const Sm="__vInternal",lk=({key:t})=>t??null,Rf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?qt(t)||xt(t)||$e(t)?{i:Rn,r:t,k:e,f:!!n}:t:null);function P(t,e=null,n=null,i=0,s=null,o=t===ut?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lk(e),ref:e&&Rf(e),scopeId:WP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Rn};return c?(nw(h,n),o&128&&t.normalize(h)):n&&(h.shapeFlag|=qt(n)?8:16),rd>0&&!l&&Hi&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&Hi.push(h),h}const J=fj;function fj(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===H$)&&(t=Oi),cp(t)){const c=zr(t,e,!0);return n&&nw(c,n),rd>0&&!o&&Hi&&(c.shapeFlag&6?Hi[Hi.indexOf(t)]=c:Hi.push(c)),c.patchFlag|=-2,c}if(Tj(t)&&(t=t.__vccOpts),e){e=pj(e);let{class:c,style:h}=e;c&&!qt(c)&&(e.class=Cn(c)),yt(h)&&(NP(h)&&!Re(h)&&(h=cn({},h)),e.style=H0(h))}const l=qt(t)?1:C$(t)?128:lj(t)?64:yt(t)?4:$e(t)?2:0;return P(t,e,n,i,s,l,o,!0)}function pj(t){return t?NP(t)||Sm in t?cn({},t):t:null}function zr(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?mj(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&lk(c),ref:e&&e.ref?n&&s?Re(s)?s.concat(Rf(e)):[s,Rf(e)]:Rf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ut?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zr(t.ssContent),ssFallback:t.ssFallback&&zr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function gt(t=" ",e=0){return J(Am,null,t,e)}function We(t="",e=!1){return e?(z(),qe(Oi,null,t)):J(Oi,null,t)}function or(t){return t==null||typeof t=="boolean"?J(Oi):Re(t)?J(ut,null,t.slice()):typeof t=="object"?Is(t):J(Am,null,String(t))}function Is(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zr(t)}function nw(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Re(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),nw(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Sm in e)?e._ctx=Rn:s===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else $e(e)?(e={default:e,_ctx:Rn},n=32):(e=String(e),i&64?(n=16,e=[gt(e)]):n=8);t.children=e,t.shapeFlag|=n}function mj(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Cn([e.class,i.class]));else if(s==="style")e.style=H0([e.style,i.style]);else if(pm(s)){const o=e[s],l=i[s];l&&o!==l&&!(Re(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function sr(t,e,n,i=null){xi(t,e,7,[n,i])}const gj=ek();let vj=0;function yj(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||gj,o={uid:vj++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new yP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nk(i,s),emitsOptions:qP(i,s),emit:null,emitted:null,propsDefaults:It,inheritAttrs:i.inheritAttrs,ctx:It,data:It,props:It,attrs:It,slots:It,refs:It,setupState:It,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=E$.bind(null,o),t.ce&&t.ce(o),o}let vn=null;const _j=()=>vn||Rn;let iw,Wa,SA="__VUE_INSTANCE_SETTERS__";(Wa=Vy()[SA])||(Wa=Vy()[SA]=[]),Wa.push(t=>vn=t),iw=t=>{Wa.length>1?Wa.forEach(e=>e(t)):Wa[0](t)};const Pl=t=>{iw(t),t.scope.on()},Fo=()=>{vn&&vn.scope.off(),iw(null)};function uk(t){return t.vnode.shapeFlag&4}let sd=!1;function wj(t,e=!1){sd=e;const{props:n,children:i}=t.vnode,s=uk(t);Z$(t,n,s,e),nj(t,i);const o=s?bj(t,e):void 0;return sd=!1,o}function bj(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=_m(new Proxy(t.ctx,q$));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?Ij(t):null;Pl(t),ql();const o=Ns(i,t,0,[t.props,s]);if(Wl(),Fo(),hP(o)){if(o.then(Fo,Fo),e)return o.then(l=>{CA(t,l,e)}).catch(l=>{wm(l,t,0)});t.asyncDep=o}else CA(t,o,e)}else ck(t,e)}function CA(t,e,n){$e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=FP(e)),ck(t,n)}let RA;function ck(t,e,n){const i=t.type;if(!t.render){if(!e&&RA&&!i.render){const s=i.template||Z0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=i,f=cn(cn({isCustomElement:o,delimiters:c},l),h);i.render=RA(s,f)}}t.render=i.render||qi}{Pl(t),ql();try{W$(t)}finally{Wl(),Fo()}}}function Ej(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ui(t,"get","$attrs"),e[n]}}))}function Ij(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Ej(t)},slots:t.slots,emit:t.emit,expose:e}}function Cm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(FP(_m(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pc)return Pc[n](t)},has(e,n){return n in e||n in Pc}}))}function Tj(t){return $e(t)&&"__vccOpts"in t}const we=(t,e)=>g$(t,e,sd);function tn(t,e,n){const i=arguments.length;return i===2?yt(e)&&!Re(e)?cp(e)?J(t,null,[e]):J(t,e):J(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&cp(n)&&(n=[n]),J(t,e,n))}const Aj=Symbol.for("v-scx"),Sj=()=>Rt(Aj),Cj="3.3.7",Rj="http://www.w3.org/2000/svg",Io=typeof document<"u"?document:null,PA=Io&&Io.createElement("template"),Pj={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?Io.createElementNS(Rj,t):Io.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Io.createTextNode(t),createComment:t=>Io.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Io.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{PA.innerHTML=i?`<svg>${t}</svg>`:t;const c=PA.content;if(i){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ys="transition",sc="animation",od=Symbol("_vtc"),Rm=(t,{slots:e})=>tn(O$,kj(t),e);Rm.displayName="Transition";const dk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Rm.props=cn({},zP,dk);const vo=(t,e=[])=>{Re(t)?t.forEach(n=>n(...e)):t&&t(...e)},kA=t=>t?Re(t)?t.some(e=>e.length>1):t.length>1:!1;function kj(t){const e={};for(const ne in t)ne in dk||(e[ne]=t[ne]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,I=xj(s),_=I&&I[0],E=I&&I[1],{onBeforeEnter:T,onEnter:R,onEnterCancelled:k,onLeave:x,onLeaveCancelled:D,onBeforeAppear:K=T,onAppear:se=R,onAppearCancelled:q=k}=e,ie=(ne,ae,et)=>{yo(ne,ae?p:c),yo(ne,ae?f:l),et&&et()},ye=(ne,ae)=>{ne._isLeaving=!1,yo(ne,v),yo(ne,b),yo(ne,y),ae&&ae()},he=ne=>(ae,et)=>{const Pe=ne?se:R,ee=()=>ie(ae,ne,et);vo(Pe,[ae,ee]),xA(()=>{yo(ae,ne?h:o),_s(ae,ne?p:c),kA(Pe)||OA(ae,i,_,ee)})};return cn(e,{onBeforeEnter(ne){vo(T,[ne]),_s(ne,o),_s(ne,l)},onBeforeAppear(ne){vo(K,[ne]),_s(ne,h),_s(ne,f)},onEnter:he(!1),onAppear:he(!0),onLeave(ne,ae){ne._isLeaving=!0;const et=()=>ye(ne,ae);_s(ne,v),Dj(),_s(ne,y),xA(()=>{ne._isLeaving&&(yo(ne,v),_s(ne,b),kA(x)||OA(ne,i,E,et))}),vo(x,[ne,et])},onEnterCancelled(ne){ie(ne,!1),vo(k,[ne])},onAppearCancelled(ne){ie(ne,!0),vo(q,[ne])},onLeaveCancelled(ne){ye(ne),vo(D,[ne])}})}function xj(t){if(t==null)return null;if(yt(t))return[Bv(t.enter),Bv(t.leave)];{const e=Bv(t);return[e,e]}}function Bv(t){return x6(t)}function _s(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[od]||(t[od]=new Set)).add(e)}function yo(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[od];n&&(n.delete(e),n.size||(t[od]=void 0))}function xA(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Oj=0;function OA(t,e,n,i){const s=t._endId=++Oj,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:h}=Nj(t,e);if(!l)return i();const f=l+"end";let p=0;const v=()=>{t.removeEventListener(f,y),o()},y=b=>{b.target===t&&++p>=h&&v()};setTimeout(()=>{p<h&&v()},c+1),t.addEventListener(f,y)}function Nj(t,e){const n=window.getComputedStyle(t),i=I=>(n[I]||"").split(", "),s=i(`${ys}Delay`),o=i(`${ys}Duration`),l=NA(s,o),c=i(`${sc}Delay`),h=i(`${sc}Duration`),f=NA(c,h);let p=null,v=0,y=0;e===ys?l>0&&(p=ys,v=l,y=o.length):e===sc?f>0&&(p=sc,v=f,y=h.length):(v=Math.max(l,f),p=v>0?l>f?ys:sc:null,y=p?p===ys?o.length:h.length:0);const b=p===ys&&/\b(transform|all)(,|$)/.test(i(`${ys}Property`).toString());return{type:p,timeout:v,propCount:y,hasTransform:b}}function NA(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>DA(n)+DA(t[i])))}function DA(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Dj(){return document.body.offsetHeight}function Lj(t,e,n){const i=t[od];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const rw=Symbol("_vod"),LA={beforeMount(t,{value:e},{transition:n}){t[rw]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):oc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),oc(t,!0),i.enter(t)):i.leave(t,()=>{oc(t,!1)}):oc(t,e))},beforeUnmount(t,{value:e}){oc(t,e)}};function oc(t,e){t.style.display=e?t[rw]:"none"}function Mj(t,e,n){const i=t.style,s=qt(n);if(n&&!s){if(e&&!qt(e))for(const o in e)n[o]==null&&Jy(i,o,"");for(const o in n)Jy(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),rw in t&&(i.display=o)}}const MA=/\s*!important$/;function Jy(t,e,n){if(Re(n))n.forEach(i=>Jy(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Vj(t,e);MA.test(n)?t.setProperty(Hl(i),n.replace(MA,""),"important"):t[i]=n}}const VA=["Webkit","Moz","ms"],Hv={};function Vj(t,e){const n=Hv[e];if(n)return n;let i=Cl(e);if(i!=="filter"&&i in t)return Hv[e]=i;i=mP(i);for(let s=0;s<VA.length;s++){const o=VA[s]+i;if(o in t)return Hv[e]=o}return e}const FA="http://www.w3.org/1999/xlink";function Fj(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(FA,e.slice(6,e.length)):t.setAttributeNS(FA,e,n);else{const o=V6(e);n==null||o&&!gP(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Uj(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";f!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let h=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=gP(n):n==null&&f==="string"?(n="",h=!0):f==="number"&&(n=0,h=!0)}try{t[e]=n}catch{}h&&t.removeAttribute(e)}function To(t,e,n,i){t.addEventListener(e,n,i)}function $j(t,e,n,i){t.removeEventListener(e,n,i)}const UA=Symbol("_vei");function jj(t,e,n,i,s=null){const o=t[UA]||(t[UA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,h]=Bj(e);if(i){const f=o[e]=Wj(i,s);To(t,c,f,h)}else l&&($j(t,c,l,h),o[e]=void 0)}}const $A=/(?:Once|Passive|Capture)$/;function Bj(t){let e;if($A.test(t)){e={};let i;for(;i=t.match($A);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hl(t.slice(2)),e]}let qv=0;const Hj=Promise.resolve(),qj=()=>qv||(Hj.then(()=>qv=0),qv=Date.now());function Wj(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;xi(Kj(i,n.value),e,5,[i])};return n.value=t,n.attached=qj(),n}function Kj(t,e){if(Re(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const jA=/^on[a-z]/,zj=(t,e,n,i,s=!1,o,l,c,h)=>{e==="class"?Lj(t,i,s):e==="style"?Mj(t,n,i):pm(e)?$0(e)||jj(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gj(t,e,i,s))?Uj(t,e,i,o,l,c,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Fj(t,e,i,s))};function Gj(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&jA.test(e)&&$e(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||jA.test(e)&&qt(n)?!1:e in t}const dp=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Re(e)?n=>Cf(e,n):e};function Yj(t){t.target.composing=!0}function BA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cl=Symbol("_assign"),ht={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[cl]=dp(s);const o=i||s.props&&s.props.type==="number";To(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=sp(c)),t[cl](c)}),n&&To(t,"change",()=>{t.value=t.value.trim()}),e||(To(t,"compositionstart",Yj),To(t,"compositionend",BA),To(t,"change",BA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[cl]=dp(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&sp(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},AK={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=mm(e);To(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?sp(hp(l)):hp(l));t[cl](t.multiple?s?new Set(o):o:o[0])}),t[cl]=dp(i)},mounted(t,{value:e}){HA(t,e)},beforeUpdate(t,e,n){t[cl]=dp(n)},updated(t,{value:e}){HA(t,e)}};function HA(t,e){const n=t.multiple;if(!(n&&!Re(e)&&!mm(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=hp(o);if(n)Re(e)?o.selected=U6(e,l)>-1:o.selected=e.has(l);else if(vm(hp(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function hp(t){return"_value"in t?t._value:t.value}const Jj=cn({patchProp:zj},Pj);let qA;function Qj(){return qA||(qA=rj(Jj))}const Xj=(...t)=>{const e=Qj().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Zj(i);if(!s)return;const o=e._component;!$e(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Zj(t){return qt(t)?document.querySelector(t):t}var eB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let hk;const Pm=t=>hk=t,fk=Symbol();function Qy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Oc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Oc||(Oc={}));function tB(){const t=_P(!0),e=t.run(()=>Z({}));let n=[],i=[];const s=_m({install(o){Pm(s),s._a=o,o.provide(fk,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!eB?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const pk=()=>{};function WA(t,e,n,i=pk){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&wP()&&j6(s),s}function Ka(t,...e){t.slice().forEach(n=>{n(...e)})}const nB=t=>t();function Xy(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Qy(s)&&Qy(i)&&t.hasOwnProperty(n)&&!xt(i)&&!Ur(i)?t[n]=Xy(s,i):t[n]=i}return t}const iB=Symbol();function rB(t){return!Qy(t)||!t.hasOwnProperty(iB)}const{assign:bs}=Object;function sB(t){return!!(xt(t)&&t.effect)}function oB(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let h;function f(){c||(n.state.value[t]=s?s():{});const p=d$(n.state.value[t]);return bs(p,o,Object.keys(l||{}).reduce((v,y)=>(v[y]=_m(we(()=>{Pm(n);const b=n._s.get(t);return l[y].call(b,b)})),v),{}))}return h=mk(t,f,e,n,i,!0),h}function mk(t,e,n={},i,s,o){let l;const c=bs({actions:{}},n),h={deep:!0};let f,p,v=[],y=[],b;const I=i.state.value[t];!o&&!I&&(i.state.value[t]={}),Z({});let _;function E(q){let ie;f=p=!1,typeof q=="function"?(q(i.state.value[t]),ie={type:Oc.patchFunction,storeId:t,events:b}):(Xy(i.state.value[t],q),ie={type:Oc.patchObject,payload:q,storeId:t,events:b});const ye=_=Symbol();Wi().then(()=>{_===ye&&(f=!0)}),p=!0,Ka(v,ie,i.state.value[t])}const T=o?function(){const{state:ie}=n,ye=ie?ie():{};this.$patch(he=>{bs(he,ye)})}:pk;function R(){l.stop(),v=[],y=[],i._s.delete(t)}function k(q,ie){return function(){Pm(i);const ye=Array.from(arguments),he=[],ne=[];function ae(ee){he.push(ee)}function et(ee){ne.push(ee)}Ka(y,{args:ye,name:q,store:D,after:ae,onError:et});let Pe;try{Pe=ie.apply(this&&this.$id===t?this:D,ye)}catch(ee){throw Ka(ne,ee),ee}return Pe instanceof Promise?Pe.then(ee=>(Ka(he,ee),ee)).catch(ee=>(Ka(ne,ee),Promise.reject(ee))):(Ka(he,Pe),Pe)}}const x={_p:i,$id:t,$onAction:WA.bind(null,y),$patch:E,$reset:T,$subscribe(q,ie={}){const ye=WA(v,q,ie.detached,()=>he()),he=l.run(()=>Ei(()=>i.state.value[t],ne=>{(ie.flush==="sync"?p:f)&&q({storeId:t,type:Oc.direct,events:b},ne)},bs({},h,ie)));return ye},$dispose:R},D=Xn(x);i._s.set(t,D);const se=(i._a&&i._a.runWithContext||nB)(()=>i._e.run(()=>(l=_P()).run(e)));for(const q in se){const ie=se[q];if(xt(ie)&&!sB(ie)||Ur(ie))o||(I&&rB(ie)&&(xt(ie)?ie.value=I[q]:Xy(ie,I[q])),i.state.value[t][q]=ie);else if(typeof ie=="function"){const ye=k(q,ie);se[q]=ye,c.actions[q]=ie}}return bs(D,se),bs(De(D),se),Object.defineProperty(D,"$state",{get:()=>i.state.value[t],set:q=>{E(ie=>{bs(ie,q)})}}),i._p.forEach(q=>{bs(D,l.run(()=>q({store:D,app:i._a,pinia:i,options:c})))}),I&&o&&n.hydrate&&n.hydrate(D.$state,I),f=!0,p=!0,D}function gk(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,h){const f=X$();return c=c||(f?Rt(fk,null):null),c&&Pm(c),c=hk,c._s.has(i)||(o?mk(i,e,s,c):oB(i,s,c)),c._s.get(i)}return l.$id=i,l}function Wt(t){{t=De(t);const e={};for(const n in t){const i=t[n];(xt(i)||Ur(i))&&(e[n]=p$(t,n))}return e}}function aB(){return console.log("createUserProfileCallable"),qn(Nn(void 0,"northamerica-northeast1"),"createUserProfile")}function lB(){return console.log("createAdCallable"),qn(Nn(void 0,"northamerica-northeast1"),"createAd")}function uB(){return console.log("removeAdCallable"),qn(Nn(void 0,"northamerica-northeast1"),"removeAd")}function cB(){return console.log("editAdCallable"),qn(Nn(void 0,"northamerica-northeast1"),"editAd")}function KA(){return console.log("postAdCallable"),qn(Nn(void 0,"northamerica-northeast1"),"postAd")}function dB(){return console.log("placeBidCallable"),qn(Nn(void 0,"northamerica-northeast1"),"placeBid")}function hB(){return console.log("cancelBidCallable"),qn(Nn(void 0,"northamerica-northeast1"),"cancelBid")}function SK(){return console.log("createTransactionCallable"),qn(Nn(void 0,"northamerica-northeast1"),"createTransaction")}function fB(){return console.log("createEscrowAccountCallable"),qn(Nn(void 0,"northamerica-northeast1"),"createEscrowAccount")}function pB(){return console.log("linkEscrowAccountCallable"),qn(Nn(void 0,"northamerica-northeast1"),"linkEscrowAccount")}function mB(){return console.log("createJobPostCallable"),qn(Nn(void 0,"northamerica-northeast1"),"createJobPost")}function gB(){return console.log("editJobPostCallable"),qn(Nn(void 0,"northamerica-northeast1"),"editJobPost")}function vB(){return console.log("removeJobPostCallable"),qn(Nn(void 0,"northamerica-northeast1"),"removeJobPost")}function yB(){return console.log("postJobPostCallable"),qn(Nn(void 0,"northamerica-northeast1"),"postJobPost")}function _B(){return console.log("takedownJobPostCallable"),qn(Nn(void 0,"northamerica-northeast1"),"takeDownJobPost")}function wB(){return console.log("sendDmCallable"),qn(Nn(void 0,"northamerica-northeast1"),"sendDm")}const Pt=gk("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=Z(null),o=Z(!1),l=Z(null),c=U=>{s.value=U},h=U=>{console.log("setNewUser",U),o.value=U},f=async U=>{let V=null;if(o.value)console.log("Profile setup mounted for new user"),V=await v(U),y(U);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(V=await My("users",s.value.uid),y(U),!V)throw new Error("continueSignup No profile")}y(V)},p=aB(),v=async U=>{try{console.log("createUser start",U),console.log("createUserProfile",p);const V=await p({...U});return console.log("createUser res",V),V}catch(V){throw console.log("createUser error",V),new Error(V)}},y=U=>{if(console.log("setProfile",U),!U)throw new Error("No profile");l.value=U},b=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const U=await My("users",s.value.uid);l.value=U},I=lB(),_=async U=>{try{console.log("createUserAd start",U),console.log("createAd",I);const V=await I({...U});return console.log("createUserAd res",V),V}catch(V){throw console.log("createUserAd error",V),new Error(V)}},E=KA(),T=async U=>{try{console.log("postAd start",U);const V=await E({adId:U});return console.log("postAd res",V),V}catch(V){throw console.log("postAd error",V),new Error(V)}},R=KA(),k=async U=>{try{console.log("takedownAd start",U);const V=await R({adId:U});return console.log("takedownAd res",V),V}catch(V){throw console.log("takedownAd error",V),new Error(V)}},x=uB(),D=async U=>{try{console.log("removeUserAd start",U),console.log("createAd",I);const V=await x({adId:U});return console.log("removeUserAd res",V),V}catch(V){throw console.log("removeUserAd error",V),new Error(V)}},K=cB(),se=async U=>{try{console.log("editUserAd start",U),console.log("editUserAd",K);const V=await K({...U});return console.log("editUserAd res",V),V}catch(V){throw console.log("editUserAd error",V),new Error(V)}},q=async()=>{const U=xC();console.log("signout"),await U.signOut(),c(null),y(null)},ie=dB(),ye=async U=>{console.log("placeBid",U);try{console.log("placeBid start",U),console.log("placeBid",ie);const V=await ie(U);return console.log("placeBid res",V),V}catch(V){throw console.log("placeBid error",V),new Error(V)}},he=hB(),ne=async U=>{try{console.log("cancelBid start",U),console.log("cancelBid",he);const V=await he({bidId:U});return console.log("cancelBid res",V),V}catch(V){throw console.log("cancelBid error",V),new Error(V)}},ae=fB(),et=async U=>{try{console.log("createEscrowUserAccount start"),console.log("createEscrowAccount",ae);const V=await ae(U);return console.log("createEscrowUserAccount res",V),V}catch(V){throw console.log("createEscrowUserAccount error",V),new Error(V)}},Pe=pB(),ee=async U=>{try{console.log("linkEscrowUserAccount start"),console.log("createEscrowAccount",ae);const V=await Pe(U);return console.log("linkEscrowUserAccount res",V),V}catch(V){throw console.log("linkEscrowUserAccount error",V),new Error(V)}},pe=async()=>(console.log("getProduce"),await I6("produce")),Se=mB(),_t=async U=>{try{console.log("createJobPostAd start"),console.log("createJobPostAd",Se);const V=await Se(U);return console.log("createJobPostAd res",U),V}catch(V){throw console.log("createJobPostAd error",V),new Error(V)}},tt=yB(),zt=async U=>{try{console.log("postJobPostAd start",U),console.log("postJobPostAd",tt);const V=await tt({jobId:U});return console.log("postJobPostAd res",U),V}catch(V){throw console.log("postJobPostAd error",V),new Error(V)}},nt=_B(),Ai=async U=>{try{console.log("takedownJobPostAd start",U),console.log("takedownJobPostAd",nt);const V=await nt({jobId:U});return console.log("takedownJobPostAd res",U),V}catch(V){throw console.log("takedownJobPostAd error",V),new Error(V)}},di=gB(),Xr=async U=>{try{console.log("editJobPostAd start"),console.log("editJobPostAd",di);const V=await di(U);return console.log("editJobPostAd res",U),V}catch(V){throw console.log("editJobPostAd error",V),new Error(V)}},$t=vB(),F=async U=>{try{console.log("removeJobPostAd start"),console.log("removeJobPostAd",$t);const V=await $t({jobId:U});return console.log("removeJobPostAd res",U),V}catch(V){throw console.log("removeJobPostAd error",V),new Error(V)}},fe=wB();return{user:s,setUser:c,createUser:v,getProfile:b,setProfile:y,setNewUser:h,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:_,postNewAd:T,takedownUserAd:k,signout:q,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:ye,cancelUserBid:ne,removeUserAd:D,editUserAd:se,CLAUSE_STATUSES:i,createEscrowUserAccount:et,linkEscrowUserAccount:ee,getProduce:pe,createJobPostAd:_t,editJobPostAd:Xr,removeJobPostAd:F,postJobPostAd:zt,takedownJobPostAd:Ai,sendDm:async U=>{try{console.log("sendDm start"),console.log("sendDm",fe);const V=await fe(U);return console.log("sendDm res",U),V}catch(V){throw console.log("sendDm error",V),new Error(V)}}}}),bB="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ja=typeof window<"u";function EB(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const mt=Object.assign;function Wv(t,e){const n={};for(const i in e){const s=e[i];n[i]=Qi(s)?s.map(t):t(s)}return n}const Nc=()=>{},Qi=Array.isArray,IB=/\/$/,TB=t=>t.replace(IB,"");function Kv(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let h=e.indexOf("?");return c<h&&c>=0&&(h=-1),h>-1&&(i=e.slice(0,h),o=e.slice(h+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=RB(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function AB(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function zA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function SB(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&kl(e.matched[i],n.matched[s])&&vk(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function kl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function vk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!CB(t[n],e[n]))return!1;return!0}function CB(t,e){return Qi(t)?GA(t,e):Qi(e)?GA(e,t):t===e}function GA(t,e){return Qi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function RB(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var ad;(function(t){t.pop="pop",t.push="push"})(ad||(ad={}));var Dc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Dc||(Dc={}));function PB(t){if(!t)if(Ja){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),TB(t)}const kB=/^[^#]+#/;function xB(t,e){return t.replace(kB,"#")+e}function OB(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const km=()=>({left:window.pageXOffset,top:window.pageYOffset});function NB(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=OB(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function YA(t,e){return(history.state?history.state.position-e:-1)+t}const Zy=new Map;function DB(t,e){Zy.set(t,e)}function LB(t){const e=Zy.get(t);return Zy.delete(t),e}let MB=()=>location.protocol+"//"+location.host;function yk(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,h=s.slice(c);return h[0]!=="/"&&(h="/"+h),zA(h,"")}return zA(n,t)+i+s}function VB(t,e,n,i){let s=[],o=[],l=null;const c=({state:y})=>{const b=yk(t,location),I=n.value,_=e.value;let E=0;if(y){if(n.value=b,e.value=y,l&&l===I){l=null;return}E=_?y.position-_.position:0}else i(b);s.forEach(T=>{T(n.value,I,{delta:E,type:ad.pop,direction:E?E>0?Dc.forward:Dc.back:Dc.unknown})})};function h(){l=n.value}function f(y){s.push(y);const b=()=>{const I=s.indexOf(y);I>-1&&s.splice(I,1)};return o.push(b),b}function p(){const{history:y}=window;y.state&&y.replaceState(mt({},y.state,{scroll:km()}),"")}function v(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:h,listen:f,destroy:v}}function JA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?km():null}}function FB(t){const{history:e,location:n}=window,i={value:yk(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(h,f,p){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+h:MB()+t+h;try{e[p?"replaceState":"pushState"](f,"",y),s.value=f}catch(b){console.error(b),n[p?"replace":"assign"](y)}}function l(h,f){const p=mt({},e.state,JA(s.value.back,h,s.value.forward,!0),f,{position:s.value.position});o(h,p,!0),i.value=h}function c(h,f){const p=mt({},s.value,e.state,{forward:h,scroll:km()});o(p.current,p,!0);const v=mt({},JA(i.value,h,null),{position:p.position+1},f);o(h,v,!1),i.value=h}return{location:i,state:s,push:c,replace:l}}function UB(t){t=PB(t);const e=FB(t),n=VB(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=mt({location:"",base:t,go:i,createHref:xB.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function $B(t){return typeof t=="string"||t&&typeof t=="object"}function _k(t){return typeof t=="string"||typeof t=="symbol"}const ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wk=Symbol("");var QA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(QA||(QA={}));function xl(t,e){return mt(new Error,{type:t,[wk]:!0},e)}function Pr(t,e){return t instanceof Error&&wk in t&&(e==null||!!(t.type&e))}const XA="[^/]+?",jB={sensitive:!1,strict:!1,start:!0,end:!0},BB=/[.+*?^${}()[\]/\\]/g;function HB(t,e){const n=mt({},jB,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const y=f[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(s+="/"),s+=y.value.replace(BB,"\\$&"),b+=40;else if(y.type===1){const{value:I,repeatable:_,optional:E,regexp:T}=y;o.push({name:I,repeatable:_,optional:E});const R=T||XA;if(R!==XA){b+=10;try{new RegExp(`(${R})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${I}" (${R}): `+x.message)}}let k=_?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;v||(k=E&&f.length<2?`(?:/${k})`:"/"+k),E&&(k+="?"),s+=k,b+=20,E&&(b+=-8),_&&(b+=-20),R===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(l),v={};if(!p)return null;for(let y=1;y<p.length;y++){const b=p[y]||"",I=o[y-1];v[I.name]=b&&I.repeatable?b.split("/"):b}return v}function h(f){let p="",v=!1;for(const y of t){(!v||!p.endsWith("/"))&&(p+="/"),v=!1;for(const b of y)if(b.type===0)p+=b.value;else if(b.type===1){const{value:I,repeatable:_,optional:E}=b,T=I in f?f[I]:"";if(Qi(T)&&!_)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const R=Qi(T)?T.join("/"):T;if(!R)if(E)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):v=!0);else throw new Error(`Missing required param "${I}"`);p+=R}}return p||"/"}return{re:l,score:i,keys:o,parse:c,stringify:h}}function qB(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function WB(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=qB(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(ZA(i))return 1;if(ZA(s))return-1}return s.length-i.length}function ZA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const KB={type:0,value:""},zB=/[a-zA-Z0-9_]/;function GB(t){if(!t)return[[]];if(t==="/")return[[KB]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${f}": ${b}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,h,f="",p="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:p,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=h}for(;c<t.length;){if(h=t[c++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(f&&v(),l()):h===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:h==="("?n=2:zB.test(h)?y():(v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--);break;case 2:h===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+h:n=3:p+=h;break;case 3:v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function YB(t,e,n){const i=HB(GB(t.path),n),s=mt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function JB(t,e){const n=[],i=new Map;e=nS({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function o(p,v,y){const b=!y,I=QB(p);I.aliasOf=y&&y.record;const _=nS(e,p),E=[I];if("alias"in p){const k=typeof p.alias=="string"?[p.alias]:p.alias;for(const x of k)E.push(mt({},I,{components:y?y.record.components:I.components,path:x,aliasOf:y?y.record:I}))}let T,R;for(const k of E){const{path:x}=k;if(v&&x[0]!=="/"){const D=v.record.path,K=D[D.length-1]==="/"?"":"/";k.path=v.record.path+(x&&K+x)}if(T=YB(k,v,_),y?y.alias.push(T):(R=R||T,R!==T&&R.alias.push(T),b&&p.name&&!tS(T)&&l(p.name)),I.children){const D=I.children;for(let K=0;K<D.length;K++)o(D[K],T,y&&y.children[K])}y=y||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&h(T)}return R?()=>{l(R)}:Nc}function l(p){if(_k(p)){const v=i.get(p);v&&(i.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&i.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function h(p){let v=0;for(;v<n.length&&WB(p,n[v])>=0&&(p.record.path!==n[v].record.path||!bk(p,n[v]));)v++;n.splice(v,0,p),p.record.name&&!tS(p)&&i.set(p.record.name,p)}function f(p,v){let y,b={},I,_;if("name"in p&&p.name){if(y=i.get(p.name),!y)throw xl(1,{location:p});_=y.record.name,b=mt(eS(v.params,y.keys.filter(R=>!R.optional).map(R=>R.name)),p.params&&eS(p.params,y.keys.map(R=>R.name))),I=y.stringify(b)}else if("path"in p)I=p.path,y=n.find(R=>R.re.test(I)),y&&(b=y.parse(I),_=y.record.name);else{if(y=v.name?i.get(v.name):n.find(R=>R.re.test(v.path)),!y)throw xl(1,{location:p,currentLocation:v});_=y.record.name,b=mt({},v.params,p.params),I=y.stringify(b)}const E=[];let T=y;for(;T;)E.unshift(T.record),T=T.parent;return{name:_,path:I,params:b,matched:E,meta:ZB(E)}}return t.forEach(p=>o(p)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function eS(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function QB(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:XB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function XB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function tS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ZB(t){return t.reduce((e,n)=>mt(e,n.meta),{})}function nS(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function bk(t,e){return e.children.some(n=>n===t||bk(t,n))}const Ek=/#/g,e7=/&/g,t7=/\//g,n7=/=/g,i7=/\?/g,Ik=/\+/g,r7=/%5B/g,s7=/%5D/g,Tk=/%5E/g,o7=/%60/g,Ak=/%7B/g,a7=/%7C/g,Sk=/%7D/g,l7=/%20/g;function sw(t){return encodeURI(""+t).replace(a7,"|").replace(r7,"[").replace(s7,"]")}function u7(t){return sw(t).replace(Ak,"{").replace(Sk,"}").replace(Tk,"^")}function e_(t){return sw(t).replace(Ik,"%2B").replace(l7,"+").replace(Ek,"%23").replace(e7,"%26").replace(o7,"`").replace(Ak,"{").replace(Sk,"}").replace(Tk,"^")}function c7(t){return e_(t).replace(n7,"%3D")}function d7(t){return sw(t).replace(Ek,"%23").replace(i7,"%3F")}function h7(t){return t==null?"":d7(t).replace(t7,"%2F")}function fp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function f7(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(Ik," "),l=o.indexOf("="),c=fp(l<0?o:o.slice(0,l)),h=l<0?null:fp(o.slice(l+1));if(c in e){let f=e[c];Qi(f)||(f=e[c]=[f]),f.push(h)}else e[c]=h}return e}function iS(t){let e="";for(let n in t){const i=t[n];if(n=c7(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Qi(i)?i.map(o=>o&&e_(o)):[i&&e_(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function p7(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Qi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const m7=Symbol(""),rS=Symbol(""),xm=Symbol(""),Ck=Symbol(""),t_=Symbol("");function ac(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ts(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=v=>{v===!1?c(xl(4,{from:n,to:e})):v instanceof Error?c(v):$B(v)?c(xl(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,h);let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(v=>c(v))})}function zv(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(g7(c)){const f=(c.__vccOpts||c)[e];f&&s.push(Ts(f,n,i,o,l))}else{let h=c();s.push(()=>h.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const p=EB(f)?f.default:f;o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&Ts(y,n,i,o,l)()}))}}return s}function g7(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sS(t){const e=Rt(xm),n=Rt(Ck),i=we(()=>e.resolve(L(t.to))),s=we(()=>{const{matched:h}=i.value,{length:f}=h,p=h[f-1],v=n.matched;if(!p||!v.length)return-1;const y=v.findIndex(kl.bind(null,p));if(y>-1)return y;const b=oS(h[f-2]);return f>1&&oS(p)===b&&v[v.length-1].path!==b?v.findIndex(kl.bind(null,h[f-2])):y}),o=we(()=>s.value>-1&&_7(n.params,i.value.params)),l=we(()=>s.value>-1&&s.value===n.matched.length-1&&vk(n.params,i.value.params));function c(h={}){return y7(h)?e[L(t.replace)?"replace":"push"](L(t.to)).catch(Nc):Promise.resolve()}return{route:i,href:we(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const v7=Fe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sS,setup(t,{slots:e}){const n=Xn(sS(t)),{options:i}=Rt(xm),s=we(()=>({[aS(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[aS(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:tn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),_c=v7;function y7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function _7(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Qi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function oS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const aS=(t,e,n)=>t??e??n,w7=Fe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Rt(t_),s=we(()=>t.route||i.value),o=Rt(rS,0),l=we(()=>{let f=L(o);const{matched:p}=s.value;let v;for(;(v=p[f])&&!v.components;)f++;return f}),c=we(()=>s.value.matched[l.value]);ti(rS,we(()=>l.value+1)),ti(m7,c),ti(t_,s);const h=Z();return Ei(()=>[h.value,c.value,t.name],([f,p,v],[y,b,I])=>{p&&(p.instances[v]=f,b&&b!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),f&&p&&(!b||!kl(p,b)||!y)&&(p.enterCallbacks[v]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,v=c.value,y=v&&v.components[p];if(!y)return lS(n.default,{Component:y,route:f});const b=v.props[p],I=b?b===!0?f.params:typeof b=="function"?b(f):b:null,E=tn(y,mt({},I,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(v.instances[p]=null)},ref:h}));return lS(n.default,{Component:E,route:f})||E}}});function lS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Rk=w7;function b7(t){const e=JB(t.routes,t),n=t.parseQuery||f7,i=t.stringifyQuery||iS,s=t.history,o=ac(),l=ac(),c=ac(),h=MP(ws);let f=ws;Ja&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Wv.bind(null,F=>""+F),v=Wv.bind(null,h7),y=Wv.bind(null,fp);function b(F,fe){let re,U;return _k(F)?(re=e.getRecordMatcher(F),U=fe):U=F,e.addRoute(U,re)}function I(F){const fe=e.getRecordMatcher(F);fe&&e.removeRoute(fe)}function _(){return e.getRoutes().map(F=>F.record)}function E(F){return!!e.getRecordMatcher(F)}function T(F,fe){if(fe=mt({},fe||h.value),typeof F=="string"){const O=Kv(n,F,fe.path),M=e.resolve({path:O.path},fe),B=s.createHref(O.fullPath);return mt(O,M,{params:y(M.params),hash:fp(O.hash),redirectedFrom:void 0,href:B})}let re;if("path"in F)re=mt({},F,{path:Kv(n,F.path,fe.path).path});else{const O=mt({},F.params);for(const M in O)O[M]==null&&delete O[M];re=mt({},F,{params:v(O)}),fe.params=v(fe.params)}const U=e.resolve(re,fe),V=F.hash||"";U.params=p(y(U.params));const S=AB(i,mt({},F,{hash:u7(V),path:U.path})),C=s.createHref(S);return mt({fullPath:S,hash:V,query:i===iS?p7(F.query):F.query||{}},U,{redirectedFrom:void 0,href:C})}function R(F){return typeof F=="string"?Kv(n,F,h.value.path):mt({},F)}function k(F,fe){if(f!==F)return xl(8,{from:fe,to:F})}function x(F){return se(F)}function D(F){return x(mt(R(F),{replace:!0}))}function K(F){const fe=F.matched[F.matched.length-1];if(fe&&fe.redirect){const{redirect:re}=fe;let U=typeof re=="function"?re(F):re;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=R(U):{path:U},U.params={}),mt({query:F.query,hash:F.hash,params:"path"in U?{}:F.params},U)}}function se(F,fe){const re=f=T(F),U=h.value,V=F.state,S=F.force,C=F.replace===!0,O=K(re);if(O)return se(mt(R(O),{state:typeof O=="object"?mt({},V,O.state):V,force:S,replace:C}),fe||re);const M=re;M.redirectedFrom=fe;let B;return!S&&SB(i,U,re)&&(B=xl(16,{to:M,from:U}),zt(U,U,!0,!1)),(B?Promise.resolve(B):ye(M,U)).catch(W=>Pr(W)?Pr(W,2)?W:tt(W):Se(W,M,U)).then(W=>{if(W){if(Pr(W,2))return se(mt({replace:C},R(W.to),{state:typeof W.to=="object"?mt({},V,W.to.state):V,force:S}),fe||M)}else W=ne(M,U,!0,C,V);return he(M,U,W),W})}function q(F,fe){const re=k(F,fe);return re?Promise.reject(re):Promise.resolve()}function ie(F){const fe=di.values().next().value;return fe&&typeof fe.runWithContext=="function"?fe.runWithContext(F):F()}function ye(F,fe){let re;const[U,V,S]=E7(F,fe);re=zv(U.reverse(),"beforeRouteLeave",F,fe);for(const O of U)O.leaveGuards.forEach(M=>{re.push(Ts(M,F,fe))});const C=q.bind(null,F,fe);return re.push(C),$t(re).then(()=>{re=[];for(const O of o.list())re.push(Ts(O,F,fe));return re.push(C),$t(re)}).then(()=>{re=zv(V,"beforeRouteUpdate",F,fe);for(const O of V)O.updateGuards.forEach(M=>{re.push(Ts(M,F,fe))});return re.push(C),$t(re)}).then(()=>{re=[];for(const O of S)if(O.beforeEnter)if(Qi(O.beforeEnter))for(const M of O.beforeEnter)re.push(Ts(M,F,fe));else re.push(Ts(O.beforeEnter,F,fe));return re.push(C),$t(re)}).then(()=>(F.matched.forEach(O=>O.enterCallbacks={}),re=zv(S,"beforeRouteEnter",F,fe),re.push(C),$t(re))).then(()=>{re=[];for(const O of l.list())re.push(Ts(O,F,fe));return re.push(C),$t(re)}).catch(O=>Pr(O,8)?O:Promise.reject(O))}function he(F,fe,re){c.list().forEach(U=>ie(()=>U(F,fe,re)))}function ne(F,fe,re,U,V){const S=k(F,fe);if(S)return S;const C=fe===ws,O=Ja?history.state:{};re&&(U||C?s.replace(F.fullPath,mt({scroll:C&&O&&O.scroll},V)):s.push(F.fullPath,V)),h.value=F,zt(F,fe,re,C),tt()}let ae;function et(){ae||(ae=s.listen((F,fe,re)=>{if(!Xr.listening)return;const U=T(F),V=K(U);if(V){se(mt(V,{replace:!0}),U).catch(Nc);return}f=U;const S=h.value;Ja&&DB(YA(S.fullPath,re.delta),km()),ye(U,S).catch(C=>Pr(C,12)?C:Pr(C,2)?(se(C.to,U).then(O=>{Pr(O,20)&&!re.delta&&re.type===ad.pop&&s.go(-1,!1)}).catch(Nc),Promise.reject()):(re.delta&&s.go(-re.delta,!1),Se(C,U,S))).then(C=>{C=C||ne(U,S,!1),C&&(re.delta&&!Pr(C,8)?s.go(-re.delta,!1):re.type===ad.pop&&Pr(C,20)&&s.go(-1,!1)),he(U,S,C)}).catch(Nc)}))}let Pe=ac(),ee=ac(),pe;function Se(F,fe,re){tt(F);const U=ee.list();return U.length?U.forEach(V=>V(F,fe,re)):console.error(F),Promise.reject(F)}function _t(){return pe&&h.value!==ws?Promise.resolve():new Promise((F,fe)=>{Pe.add([F,fe])})}function tt(F){return pe||(pe=!F,et(),Pe.list().forEach(([fe,re])=>F?re(F):fe()),Pe.reset()),F}function zt(F,fe,re,U){const{scrollBehavior:V}=t;if(!Ja||!V)return Promise.resolve();const S=!re&&LB(YA(F.fullPath,0))||(U||!re)&&history.state&&history.state.scroll||null;return Wi().then(()=>V(F,fe,S)).then(C=>C&&NB(C)).catch(C=>Se(C,F,fe))}const nt=F=>s.go(F);let Ai;const di=new Set,Xr={currentRoute:h,listening:!0,addRoute:b,removeRoute:I,hasRoute:E,getRoutes:_,resolve:T,options:t,push:x,replace:D,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:ee.add,isReady:_t,install(F){const fe=this;F.component("RouterLink",_c),F.component("RouterView",Rk),F.config.globalProperties.$router=fe,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>L(h)}),Ja&&!Ai&&h.value===ws&&(Ai=!0,x(s.location).catch(V=>{}));const re={};for(const V in ws)Object.defineProperty(re,V,{get:()=>h.value[V],enumerable:!0});F.provide(xm,fe),F.provide(Ck,xP(re)),F.provide(t_,h);const U=F.unmount;di.add(F),F.unmount=function(){di.delete(F),di.size<1&&(f=ws,ae&&ae(),ae=null,h.value=ws,Ai=!1,pe=!1),U()}}};function $t(F){return F.reduce((fe,re)=>fe.then(()=>ie(re)),Promise.resolve())}return Xr}function E7(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>kl(f,c))?i.push(c):n.push(c));const h=t.matched[l];h&&(e.matched.find(f=>kl(f,h))||s.push(h))}return[n,i,s]}function ow(){return Rt(xm)}const Bn=gk("ModalStore",()=>{const t=Xn({addjob:!1,editjob:!1,addad:!1,addbid:!1,editad:!1,viewjob:!1,confirmremove:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=Xn({show:!1,message:"",type:"",context:{}}),i=Xn({show:!1,message:"",type:"",context:{}}),s=Xn({show:!1,to:null});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}},messaging:s}}),I7={key:0},T7=Fe({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(z(),Ie("div",I7,[P("div",{class:Cn(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):We("",!0)}});const A7=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Om=A7(T7,[["__scopeId","data-v-634cf170"]]),S7=["disabled"],zs=Fe({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(z(),Ie("button",{class:Cn([t.classes,"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"]),disabled:t.disabled,onClick:i},[J(Om,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?We("",!0):QP(s.$slots,"default",{key:0})],10,S7))}});function yn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,yn),i}var Ol=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ol||{}),Rs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Rs||{});function ii({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=kk(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return Gv(c);if(e&1){let h=(o=l.unmount)==null||o?0:1;return yn(h,{0(){return null},1(){return Gv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return Gv(c)}function Gv({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...h}=aw(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),p={};if(i){let v=!1,y=[];for(let[b,I]of Object.entries(i))typeof I=="boolean"&&(v=!0),I===!0&&y.push(b);v&&(p["data-headlessui-state"]=y.join(" "))}if(c==="template"){if(f=Pk(f??[]),Object.keys(h).length>0||Object.keys(e).length>0){let[v,...y]=f??[];if(!R7(v)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(e)).map(_=>_.trim()).filter((_,E,T)=>T.indexOf(_)===E).sort((_,E)=>_.localeCompare(E)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let b=kk((l=v.props)!=null?l:{},h),I=zr(v,b);for(let _ in b)_.startsWith("on")&&(I.props||(I.props={}),I.props[_]=b[_]);return I}return Array.isArray(f)&&f.length===1?f[0]:f}return tn(c,Object.assign({},h,p),{default:()=>f})}function Pk(t){return t.flatMap(e=>e.type===ut?Pk(e.children):[e])}function kk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function C7(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function aw(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function R7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let P7=0;function k7(){return++P7}function Gs(){return k7()}var un=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(un||{});function x7(t){throw new Error("Unexpected object: "+t)}var Jn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Jn||{});function O7(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1,o=(()=>{switch(t.focus){case 0:return n.findIndex(l=>!e.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,h,f)=>s!==-1&&f.length-h-1>=s?!1:!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=s?!1:!e.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>e.resolveId(l)===t.id);case 5:return null;default:x7(t)}})();return o===-1?i:o}function Ke(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let xk=Symbol("Context");var An=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(An||{});function N7(){return Nm()!==null}function Nm(){return Rt(xk,null)}function Ok(t){ti(xk,t)}function uS(t,e){if(t)return t;let n=e??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function D7(t,e){let n=Z(uS(t.value.type,t.value.as));return Ct(()=>{n.value=uS(t.value.type,t.value.as)}),Ti(()=>{var i;n.value||Ke(e)&&Ke(e)instanceof HTMLButtonElement&&!((i=Ke(e))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var L7=Object.defineProperty,M7=(t,e,n)=>e in t?L7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cS=(t,e,n)=>(M7(t,typeof e!="symbol"?e+"":e,n),n);class V7{constructor(){cS(this,"current",this.detect()),cS(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Dd=new V7;function Kl(t){if(Dd.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ke(t);if(e)return e.ownerDocument}return document}let n_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var As=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(As||{}),Nk=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Nk||{}),F7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(F7||{});function U7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(n_)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var lw=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(lw||{});function Dk(t,e=0){var n;return t===((n=Kl(t))==null?void 0:n.body)?!1:yn(e,{0(){return t.matches(n_)},1(){let i=t;for(;i!==null;){if(i.matches(n_))return!0;i=i.parentElement}return!1}})}var $7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))($7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Uo(t){t==null||t.focus({preventScroll:!0})}let j7=["textarea","input"].join(",");function B7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,j7))!=null?n:!1}function Lk(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Pf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?Lk(t):t:U7(t);s.length>0&&c.length>1&&(c=c.filter(I=>!s.includes(I))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,y=c.length,b;do{if(v>=y||v+y<=0)return 0;let I=f+v;if(e&16)I=(I+y)%y;else{if(I<0)return 3;if(I>=y)return 1}b=c[I],b==null||b.focus(p),v+=h}while(b!==l.activeElement);return e&6&&B7(b)&&b.select(),2}function mf(t,e,n){Dd.isServer||Ti(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function Mk(t,e,n){Dd.isServer||Ti(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function Vk(t,e,n=we(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:Ke(f);if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!Dk(c,lw.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=Z(null);mf("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),mf("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),mf("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),mf("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Mk("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var ld=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ld||{});let pp=Fe({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return ii({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function Fk(t={},e=null,n=[]){for(let[i,s]of Object.entries(t))$k(n,Uk(e,i),s);return n}function Uk(t,e){return t?t+"["+e+"]":e}function $k(t,e,n){if(Array.isArray(n))for(let[i,s]of n.entries())$k(t,Uk(e,i.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):Fk(n,e,t)}function H7(t,e,n){let i=Z(n==null?void 0:n.value),s=we(()=>t.value!==void 0);return[we(()=>s.value?t.value:i.value),function(o){return s.value||(i.value=o),e==null?void 0:e(o)}]}function dS(t){return[t.screenX,t.screenY]}function q7(){let t=Z([-1,-1]);return{wasMoved(e){let n=dS(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=dS(e)}}}function W7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function uw(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Ld(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return uw(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=Ld();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var wc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(wc||{});function K7(){let t=Z(0);return Mk("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function jk(t,e,n,i){Dd.isServer||Ti(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function z7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function Bk(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=Ke(n);i instanceof HTMLElement&&e.add(i)}return e}var Hk=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Hk||{});let lc=Object.assign(Fe({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:Z(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=Z(null);i({el:s,$el:s});let o=we(()=>Kl(s)),l=Z(!1);Ct(()=>l.value=!0),ci(()=>l.value=!1),Y7({ownerDocument:o},we(()=>l.value&&!!(t.features&16)));let c=J7({ownerDocument:o,container:s,initialFocus:we(()=>t.initialFocus)},we(()=>l.value&&!!(t.features&2)));Q7({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},we(()=>l.value&&!!(t.features&8)));let h=K7();function f(b){let I=Ke(s);I&&(_=>_())(()=>{yn(h.value,{[wc.Forwards]:()=>{Pf(I,As.First,{skipElements:[b.relatedTarget]})},[wc.Backwards]:()=>{Pf(I,As.Last,{skipElements:[b.relatedTarget]})}})})}let p=Z(!1);function v(b){b.key==="Tab"&&(p.value=!0,requestAnimationFrame(()=>{p.value=!1}))}function y(b){if(!l.value)return;let I=Bk(t.containers);Ke(s)instanceof HTMLElement&&I.add(Ke(s));let _=b.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(qk(I,_)||(p.value?Pf(Ke(s),yn(h.value,{[wc.Forwards]:()=>As.Next,[wc.Backwards]:()=>As.Previous})|As.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&Uo(b.target)))}return()=>{let b={},I={ref:s,onKeydown:v,onFocusout:y},{features:_,initialFocus:E,containers:T,...R}=t;return tn(ut,[!!(_&4)&&tn(pp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:ld.Focusable}),ii({ourProps:I,theirProps:{...e,...R},slot:b,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&tn(pp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:ld.Focusable})])}}}),{features:Hk}),Ao=[];z7(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ao[0]!==e.target&&(Ao.unshift(e.target),Ao=Ao.filter(n=>n!=null&&n.isConnected),Ao.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function G7(t){let e=Z(Ao.slice());return Ei([t],([n],[i])=>{i===!0&&n===!1?uw(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=Ao.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function Y7({ownerDocument:t},e){let n=G7(e);Ct(()=>{Ti(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&Uo(n())},{flush:"post"})}),ci(()=>{e.value&&Uo(n())})}function J7({ownerDocument:t,container:e,initialFocus:n},i){let s=Z(null),o=Z(!1);return Ct(()=>o.value=!0),ci(()=>o.value=!1),Ct(()=>{Ei([e,n,i],(l,c)=>{if(l.every((f,p)=>(c==null?void 0:c[p])===f)||!i.value)return;let h=Ke(e);h&&uw(()=>{var f,p;if(!o.value)return;let v=Ke(n),y=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===y){s.value=y;return}}else if(h.contains(y)){s.value=y;return}v?Uo(v):Pf(h,As.First|As.NoScroll)===Nk.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(p=t.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),s}function Q7({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;jk((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=Bk(n);Ke(e)instanceof HTMLElement&&c.add(Ke(e));let h=i.value;if(!h)return;let f=l.target;f&&f instanceof HTMLElement?qk(c,f)?(i.value=f,Uo(f)):(l.preventDefault(),l.stopPropagation(),Uo(h)):Uo(i.value)},!0)}function qk(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let Yv=new Map,uc=new Map;function hS(t,e=Z(!0)){Ti(n=>{var i;if(!e.value)return;let s=Ke(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=uc.get(s))!=null?l:1;if(c===1?uc.delete(s):uc.set(s,c-1),c!==1)return;let h=Yv.get(s);h&&(h["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",h["aria-hidden"]),s.inert=h.inert,Yv.delete(s))});let o=(i=uc.get(s))!=null?i:0;uc.set(s,o+1),o===0&&(Yv.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let Wk=Symbol("ForcePortalRootContext");function X7(){return Rt(Wk,!1)}let fS=Fe({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return ti(Wk,t.force),()=>{let{force:i,...s}=t;return ii({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function Z7(t){let e=Kl(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let e8=Fe({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=Z(null),s=we(()=>Kl(i)),o=X7(),l=Rt(Kk,null),c=Z(o===!0||l==null?Z7(i.value):l.resolveTarget());Ti(()=>{o||l!=null&&(c.value=l.resolveTarget())});let h=Rt(i_,null);return Ct(()=>{let f=Ke(i);f&&h&&ci(h.register(f))}),ci(()=>{var f,p;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((p=c.value.parentElement)==null||p.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return tn(dj,{to:c.value},ii({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),i_=Symbol("PortalParentContext");function t8(){let t=Rt(i_,null),e=Z([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,Fe({name:"PortalWrapper",setup(o,{slots:l}){return ti(i_,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let Kk=Symbol("PortalGroupContext"),n8=Fe({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=Xn({resolveTarget(){return t.target}});return ti(Kk,i),()=>{let{target:s,...o}=t;return ii({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),zk=Symbol("StackContext");var r_=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(r_||{});function i8(){return Rt(zk,()=>{})}function r8({type:t,enabled:e,element:n,onUpdate:i}){let s=i8();function o(...l){i==null||i(...l),s(...l)}Ct(()=>{Ei(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),ci(()=>{e.value&&o(1,t,n)}),ti(zk,o)}let Gk=Symbol("DescriptionContext");function s8(){let t=Rt(Gk,null);if(t===null)throw new Error("Missing parent");return t}function o8({slot:t=Z({}),name:e="Description",props:n={}}={}){let i=Z([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return ti(Gk,{register:s,slot:t,name:e,props:n}),we(()=>i.value.length>0?i.value.join(" "):void 0)}let a8=Fe({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${Gs()}`}},setup(t,{attrs:e,slots:n}){let i=s8();return Ct(()=>ci(i.register(t.id))),()=>{let{name:s="Description",slot:o=Z({}),props:l={}}=i,{id:c,...h}=t,f={...Object.entries(l).reduce((p,[v,y])=>Object.assign(p,{[v]:L(y)}),{}),id:c};return ii({ourProps:f,theirProps:h,slot:o.value,attrs:e,slots:n,name:s})}}});function l8(t){let e=MP(t.getSnapshot());return ci(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function u8(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function c8(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function d8(){if(!W7())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Ld();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),f=e.querySelector(h);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function h8(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function f8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let xo=u8(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Ld(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:f8(n)},s=[d8(),c8(),h8()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});xo.subscribe(()=>{let t=xo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&xo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&xo.dispatch("TEARDOWN",n)}});function p8(t,e,n){let i=l8(xo),s=we(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return Ei([t,e],([o,l],[c],h)=>{if(!o||!l)return;xo.dispatch("PUSH",o,n);let f=!1;h(()=>{f||(xo.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function m8({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=Z(null),s=Kl(i);function o(){var l;let c=[];for(let h of t)h!==null&&(h instanceof HTMLElement?c.push(h):"value"in h&&h.value instanceof HTMLElement&&c.push(h.value));if(e!=null&&e.value)for(let h of e.value)c.push(h);for(let h of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(Ke(i))||c.some(f=>h.contains(f))||c.push(h));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:tn(pp,{features:ld.Hidden,ref:i})}}}var g8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(g8||{});let s_=Symbol("DialogContext");function cw(t){let e=Rt(s_,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cw),n}return e}let gf="DC8F892D-2EBD-447C-A4C8-A03058436FF4",ia=Fe({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:gf},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Gs()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=Z(!1);Ct(()=>{l.value=!0});let c=Z(0),h=Nm(),f=we(()=>t.open===gf&&h!==null?(h.value&An.Open)===An.Open:t.open),p=Z(null),v=we(()=>Kl(p));if(s({el:p,$el:p}),!(t.open!==gf||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===gf?void 0:t.open}`);let y=we(()=>l.value&&f.value?0:1),b=we(()=>y.value===0),I=we(()=>c.value>1),_=Rt(s_,null)!==null,[E,T]=t8(),{resolveContainers:R,mainTreeNodeRef:k,MainTreeNode:x}=m8({portals:E,defaultContainers:[we(()=>{var pe;return(pe=ae.panelRef.value)!=null?pe:p.value})]}),D=we(()=>I.value?"parent":"leaf"),K=we(()=>h!==null?(h.value&An.Closing)===An.Closing:!1),se=we(()=>_||K.value?!1:b.value),q=we(()=>{var pe,Se,_t;return(_t=Array.from((Se=(pe=v.value)==null?void 0:pe.querySelectorAll("body > *"))!=null?Se:[]).find(tt=>tt.id==="headlessui-portal-root"?!1:tt.contains(Ke(k))&&tt instanceof HTMLElement))!=null?_t:null});hS(q,se);let ie=we(()=>I.value?!0:b.value),ye=we(()=>{var pe,Se,_t;return(_t=Array.from((Se=(pe=v.value)==null?void 0:pe.querySelectorAll("[data-headlessui-portal]"))!=null?Se:[]).find(tt=>tt.contains(Ke(k))&&tt instanceof HTMLElement))!=null?_t:null});hS(ye,ie),r8({type:"Dialog",enabled:we(()=>y.value===0),element:p,onUpdate:(pe,Se)=>{if(Se==="Dialog")return yn(pe,{[r_.Add]:()=>c.value+=1,[r_.Remove]:()=>c.value-=1})}});let he=o8({name:"DialogDescription",slot:we(()=>({open:f.value}))}),ne=Z(null),ae={titleId:ne,panelRef:Z(null),dialogState:y,setTitleId(pe){ne.value!==pe&&(ne.value=pe)},close(){e("close",!1)}};ti(s_,ae);let et=we(()=>!(!b.value||I.value));Vk(R,(pe,Se)=>{ae.close(),Wi(()=>Se==null?void 0:Se.focus())},et);let Pe=we(()=>!(I.value||y.value!==0));jk((o=v.value)==null?void 0:o.defaultView,"keydown",pe=>{Pe.value&&(pe.defaultPrevented||pe.key===un.Escape&&(pe.preventDefault(),pe.stopPropagation(),ae.close()))});let ee=we(()=>!(K.value||y.value!==0||_));return p8(v,ee,pe=>{var Se;return{containers:[...(Se=pe.containers)!=null?Se:[],R]}}),Ti(pe=>{if(y.value!==0)return;let Se=Ke(p);if(!Se)return;let _t=new ResizeObserver(tt=>{for(let zt of tt){let nt=zt.target.getBoundingClientRect();nt.x===0&&nt.y===0&&nt.width===0&&nt.height===0&&ae.close()}});_t.observe(Se),pe(()=>_t.disconnect())}),()=>{let{id:pe,open:Se,initialFocus:_t,...tt}=t,zt={...n,ref:p,id:pe,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":ne.value,"aria-describedby":he.value},nt={open:y.value===0};return tn(fS,{force:!0},()=>[tn(e8,()=>tn(n8,{target:p.value},()=>tn(fS,{force:!1},()=>tn(lc,{initialFocus:_t,containers:R,features:b.value?yn(D.value,{parent:lc.features.RestoreFocus,leaf:lc.features.All&~lc.features.FocusLock}):lc.features.None},()=>tn(T,{},()=>ii({ourProps:zt,theirProps:{...tt,...n},slot:nt,attrs:n,slots:i,visible:y.value===0,features:Ol.RenderStrategy|Ol.Static,name:"Dialog"})))))),tn(x)])}}}),ra=Fe({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${Gs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=cw("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,h={id:l,ref:s.panelRef,onClick:o};return ii({ourProps:h,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),zl=Fe({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${Gs()}`}},setup(t,{attrs:e,slots:n}){let i=cw("DialogTitle");return Ct(()=>{i.setTitleId(t.id),ci(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return ii({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),Gl=a8,pS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function mS(t){var e,n;let i=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":i;return pS.test(l)&&(l=l.replace(pS,"")),l}function v8(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():mS(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return mS(t).trim()}function y8(t){let e=Z(""),n=Z("");return()=>{let i=Ke(t);if(!i)return"";let s=i.innerText;if(e.value===s)return n.value;let o=v8(i).trim().toLowerCase();return e.value=s,n.value=o,o}}function _8(t,e){return t===e}var w8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(w8||{}),b8=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(b8||{}),E8=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(E8||{});function I8(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Yk=Symbol("ListboxContext");function Dm(t){let e=Rt(Yk,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dm),n}return e}let T8=Fe({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>_8},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:n,emit:i}){let s=Z(1),o=Z(null),l=Z(null),c=Z(null),h=Z([]),f=Z(""),p=Z(null),v=Z(1);function y(k=x=>x){let x=p.value!==null?h.value[p.value]:null,D=Lk(k(h.value.slice()),se=>Ke(se.dataRef.domRef)),K=x?D.indexOf(x):null;return K===-1&&(K=null),{options:D,activeOptionIndex:K}}let b=we(()=>t.multiple?1:0),[I,_]=H7(we(()=>t.modelValue),k=>i("update:modelValue",k),we(()=>t.defaultValue)),E=we(()=>I.value===void 0?yn(b.value,{1:[],0:void 0}):I.value),T={listboxState:s,value:E,mode:b,compare(k,x){if(typeof t.by=="string"){let D=t.by;return(k==null?void 0:k[D])===(x==null?void 0:x[D])}return t.by(k,x)},orientation:we(()=>t.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:l,optionsRef:c,disabled:we(()=>t.disabled),options:h,searchQuery:f,activeOptionIndex:p,activationTrigger:v,closeListbox(){t.disabled||s.value!==1&&(s.value=1,p.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(k,x,D){if(t.disabled||s.value===1)return;let K=y(),se=O7(k===Jn.Specific?{focus:Jn.Specific,id:x}:{focus:k},{resolveItems:()=>K.options,resolveActiveIndex:()=>K.activeOptionIndex,resolveId:q=>q.id,resolveDisabled:q=>q.dataRef.disabled});f.value="",p.value=se,v.value=D??1,h.value=K.options},search(k){if(t.disabled||s.value===1)return;let x=f.value!==""?0:1;f.value+=k.toLowerCase();let D=(p.value!==null?h.value.slice(p.value+x).concat(h.value.slice(0,p.value+x)):h.value).find(se=>se.dataRef.textValue.startsWith(f.value)&&!se.dataRef.disabled),K=D?h.value.indexOf(D):-1;K===-1||K===p.value||(p.value=K,v.value=1)},clearSearch(){t.disabled||s.value!==1&&f.value!==""&&(f.value="")},registerOption(k,x){let D=y(K=>[...K,{id:k,dataRef:x}]);h.value=D.options,p.value=D.activeOptionIndex},unregisterOption(k){let x=y(D=>{let K=D.findIndex(se=>se.id===k);return K!==-1&&D.splice(K,1),D});h.value=x.options,p.value=x.activeOptionIndex,v.value=1},theirOnChange(k){t.disabled||_(k)},select(k){t.disabled||_(yn(b.value,{0:()=>k,1:()=>{let x=De(T.value.value).slice(),D=De(k),K=x.findIndex(se=>T.compare(D,De(se)));return K===-1?x.push(D):x.splice(K,1),x}}))}};Vk([l,c],(k,x)=>{var D;T.closeListbox(),Dk(x,lw.Loose)||(k.preventDefault(),(D=Ke(l))==null||D.focus())},we(()=>s.value===0)),ti(Yk,T),Ok(we(()=>yn(s.value,{0:An.Open,1:An.Closed})));let R=we(()=>{var k;return(k=Ke(l))==null?void 0:k.closest("form")});return Ct(()=>{Ei([R],()=>{if(!R.value||t.defaultValue===void 0)return;function k(){T.theirOnChange(t.defaultValue)}return R.value.addEventListener("reset",k),()=>{var x;(x=R.value)==null||x.removeEventListener("reset",k)}},{immediate:!0})}),()=>{let{name:k,modelValue:x,disabled:D,form:K,...se}=t,q={open:s.value===0,disabled:D,value:E.value};return tn(ut,[...k!=null&&E.value!=null?Fk({[k]:E.value}).map(([ie,ye])=>tn(pp,C7({features:ld.Hidden,key:ie,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:K,name:ie,value:ye}))):[],ii({ourProps:{},theirProps:{...n,...aw(se,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:q,slots:e,attrs:n,name:"Listbox"})])}}}),A8=Fe({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${Gs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Dm("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function o(f){switch(f.key){case un.Space:case un.Enter:case un.ArrowDown:f.preventDefault(),s.openListbox(),Wi(()=>{var p;(p=Ke(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(Jn.First)});break;case un.ArrowUp:f.preventDefault(),s.openListbox(),Wi(()=>{var p;(p=Ke(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(Jn.Last)});break}}function l(f){switch(f.key){case un.Space:f.preventDefault();break}}function c(f){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),Wi(()=>{var p;return(p=Ke(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),s.openListbox(),I8(()=>{var p;return(p=Ke(s.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=D7(we(()=>({as:t.as,type:e.type})),s.buttonRef);return()=>{var f,p;let v={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{id:y,...b}=t,I={ref:s.buttonRef,id:y,type:h.value,"aria-haspopup":"listbox","aria-controls":(f=Ke(s.optionsRef))==null?void 0:f.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(p=Ke(s.labelRef))==null?void 0:p.id,y].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:l,onClick:c};return ii({ourProps:I,theirProps:b,slot:v,attrs:e,slots:n,name:"ListboxButton"})}}}),S8=Fe({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${Gs()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Dm("ListboxOptions"),o=Z(null);i({el:s.optionsRef,$el:s.optionsRef});function l(f){switch(o.value&&clearTimeout(o.value),f.key){case un.Space:if(s.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case un.Enter:if(f.preventDefault(),f.stopPropagation(),s.activeOptionIndex.value!==null){let p=s.options.value[s.activeOptionIndex.value];s.select(p.dataRef.value)}s.mode.value===0&&(s.closeListbox(),Wi(()=>{var p;return(p=Ke(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case yn(s.orientation.value,{vertical:un.ArrowDown,horizontal:un.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption(Jn.Next);case yn(s.orientation.value,{vertical:un.ArrowUp,horizontal:un.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption(Jn.Previous);case un.Home:case un.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption(Jn.First);case un.End:case un.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption(Jn.Last);case un.Escape:f.preventDefault(),f.stopPropagation(),s.closeListbox(),Wi(()=>{var p;return(p=Ke(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case un.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),o.value=setTimeout(()=>s.clearSearch(),350));break}}let c=Nm(),h=we(()=>c!==null?(c.value&An.Open)===An.Open:s.listboxState.value===0);return()=>{var f,p,v,y;let b={open:s.listboxState.value===0},{id:I,..._}=t,E={"aria-activedescendant":s.activeOptionIndex.value===null||(f=s.options.value[s.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(y=(p=Ke(s.labelRef))==null?void 0:p.id)!=null?y:(v=Ke(s.buttonRef))==null?void 0:v.id,"aria-orientation":s.orientation.value,id:I,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return ii({ourProps:E,theirProps:_,slot:b,attrs:e,slots:n,features:Ol.RenderStrategy|Ol.Static,visible:h.value,name:"ListboxOptions"})}}}),C8=Fe({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${Gs()}`}},setup(t,{slots:e,attrs:n,expose:i}){let s=Dm("ListboxOption"),o=Z(null);i({el:o,$el:o});let l=we(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===t.id:!1),c=we(()=>yn(s.mode.value,{0:()=>s.compare(De(s.value.value),De(t.value)),1:()=>De(s.value.value).some(T=>s.compare(De(T),De(t.value)))})),h=we(()=>yn(s.mode.value,{1:()=>{var T;let R=De(s.value.value);return((T=s.options.value.find(k=>R.some(x=>s.compare(De(x),De(k.dataRef.value)))))==null?void 0:T.id)===t.id},0:()=>c.value})),f=y8(o),p=we(()=>({disabled:t.disabled,value:t.value,get textValue(){return f()},domRef:o}));Ct(()=>s.registerOption(t.id,p)),ci(()=>s.unregisterOption(t.id)),Ct(()=>{Ei([s.listboxState,c],()=>{s.listboxState.value===0&&c.value&&yn(s.mode.value,{1:()=>{h.value&&s.goToOption(Jn.Specific,t.id)},0:()=>{s.goToOption(Jn.Specific,t.id)}})},{immediate:!0})}),Ti(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&Wi(()=>{var T,R;return(R=(T=Ke(o))==null?void 0:T.scrollIntoView)==null?void 0:R.call(T,{block:"nearest"})})});function v(T){if(t.disabled)return T.preventDefault();s.select(t.value),s.mode.value===0&&(s.closeListbox(),Wi(()=>{var R;return(R=Ke(s.buttonRef))==null?void 0:R.focus({preventScroll:!0})}))}function y(){if(t.disabled)return s.goToOption(Jn.Nothing);s.goToOption(Jn.Specific,t.id)}let b=q7();function I(T){b.update(T)}function _(T){b.wasMoved(T)&&(t.disabled||l.value||s.goToOption(Jn.Specific,t.id,0))}function E(T){b.wasMoved(T)&&(t.disabled||l.value&&s.goToOption(Jn.Nothing))}return()=>{let{disabled:T}=t,R={active:l.value,selected:c.value,disabled:T},{id:k,value:x,disabled:D,...K}=t,se={id:k,ref:o,role:"option",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:v,onFocus:y,onPointerenter:I,onMouseenter:I,onPointermove:_,onMousemove:_,onPointerleave:E,onMouseleave:E};return ii({ourProps:se,theirProps:K,slot:R,attrs:n,slots:e,name:"ListboxOption"})}}});function R8(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Jv(t,...e){t&&e.length>0&&t.classList.add(...e)}function vf(t,...e){t&&e.length>0&&t.classList.remove(...e)}var o_=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(o_||{});function P8(t,e){let n=Ld();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[h=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return h});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function gS(t,e,n,i,s,o){let l=Ld(),c=o!==void 0?R8(o):()=>{};return vf(t,...s),Jv(t,...e,...n),l.nextFrame(()=>{vf(t,...n),Jv(t,...i),l.add(P8(t,h=>(vf(t,...i,...e),Jv(t,...s),c(h))))}),l.add(()=>vf(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function _o(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let dw=Symbol("TransitionContext");var k8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(k8||{});function x8(){return Rt(dw,null)!==null}function O8(){let t=Rt(dw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function N8(){let t=Rt(hw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let hw=Symbol("NestingContext");function Lm(t){return"children"in t?Lm(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Jk(t){let e=Z([]),n=Z(!1);Ct(()=>n.value=!0),ci(()=>n.value=!1);function i(o,l=Rs.Hidden){let c=e.value.findIndex(({id:h})=>h===o);c!==-1&&(yn(l,{[Rs.Unmount](){e.value.splice(c,1)},[Rs.Hidden](){e.value[c].state="hidden"}}),!Lm(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,Rs.Unmount)}return{children:e,register:s,unregister:i}}let Qk=Ol.RenderStrategy,ni=Fe({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=Z(0);function l(){o.value|=An.Opening,e("beforeEnter")}function c(){o.value&=~An.Opening,e("afterEnter")}function h(){o.value|=An.Closing,e("beforeLeave")}function f(){o.value&=~An.Closing,e("afterLeave")}if(!x8()&&N7())return()=>tn(Ys,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:h,onAfterLeave:f},i);let p=Z(null),v=we(()=>t.unmount?Rs.Unmount:Rs.Hidden);s({el:p,$el:p});let{show:y,appear:b}=O8(),{register:I,unregister:_}=N8(),E=Z(y.value?"visible":"hidden"),T={value:!0},R=Gs(),k={value:!1},x=Jk(()=>{!k.value&&E.value!=="hidden"&&(E.value="hidden",_(R),f())});Ct(()=>{let ae=I(R);ci(ae)}),Ti(()=>{if(v.value===Rs.Hidden&&R){if(y.value&&E.value!=="visible"){E.value="visible";return}yn(E.value,{hidden:()=>_(R),visible:()=>I(R)})}});let D=_o(t.enter),K=_o(t.enterFrom),se=_o(t.enterTo),q=_o(t.entered),ie=_o(t.leave),ye=_o(t.leaveFrom),he=_o(t.leaveTo);Ct(()=>{Ti(()=>{if(E.value==="visible"){let ae=Ke(p);if(ae instanceof Comment&&ae.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function ne(ae){let et=T.value&&!b.value,Pe=Ke(p);!Pe||!(Pe instanceof HTMLElement)||et||(k.value=!0,y.value&&l(),y.value||h(),ae(y.value?gS(Pe,D,K,se,q,ee=>{k.value=!1,ee===o_.Finished&&c()}):gS(Pe,ie,ye,he,q,ee=>{k.value=!1,ee===o_.Finished&&(Lm(x)||(E.value="hidden",_(R),f()))})))}return Ct(()=>{Ei([y],(ae,et,Pe)=>{ne(Pe),T.value=!1},{immediate:!0})}),ti(hw,x),Ok(we(()=>yn(E.value,{visible:An.Open,hidden:An.Closed})|o.value)),()=>{let{appear:ae,show:et,enter:Pe,enterFrom:ee,enterTo:pe,entered:Se,leave:_t,leaveFrom:tt,leaveTo:zt,...nt}=t,Ai={ref:p},di={...nt,...b.value&&y.value&&Dd.isServer?{class:Cn([n.class,nt.class,...D,...K])}:{}};return ii({theirProps:di,ourProps:Ai,slot:{},slots:i,attrs:n,features:Qk,visible:E.value==="visible",name:"TransitionChild"})}}}),D8=ni,Ys=Fe({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=Nm(),o=we(()=>t.show===null&&s!==null?(s.value&An.Open)===An.Open:t.show);Ti(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=Z(o.value?"visible":"hidden"),c=Jk(()=>{l.value="hidden"}),h=Z(!0),f={show:o,appear:we(()=>t.appear||!h.value)};return Ct(()=>{Ti(()=>{h.value=!1,o.value?l.value="visible":Lm(c)||(l.value="hidden")})}),ti(hw,c),ti(dw,f),()=>{let p=aw(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return ii({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[tn(D8,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...p},i.default)]},attrs:{},features:Qk,visible:l.value==="visible",name:"Transition"})}}});function Xk(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function L8(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function M8(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})])}function V8(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function F8(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})])}function U8(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}function Zk(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function ex(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function $8(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})])}function a_(t,e){return z(),Ie("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[P("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const j8={class:"relative mt-1 w-72"},B8={class:"block truncate"},H8={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},q8={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},mp=Fe({__name:"Listbox",props:{items:Array,modelValue:[String,Number],placeholder:String,itemLabel:{type:String,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=e,s=Z(n.modelValue),o=l=>{console.log("onChange",l),i("update:modelValue",l)};return(l,c)=>(z(),Ie("div",j8,[J(L(T8),{modelValue:s.value,"onUpdate:modelValue":o,as:"div",disabled:t.disabled},{default:ce(()=>[J(L(A8),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:ce(()=>[P("span",B8,Vn(t.modelValue?t.modelValue:t.placeholder),1),P("span",H8,[J(L(V8),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),J(L(S8),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:ce(()=>[(z(!0),Ie(ut,null,Kr(t.items,h=>(z(),qe(L(C8),{key:t.itemLabel?h[t.itemLabel]:h,value:t.itemLabel?h[t.itemLabel]:h},{default:ce(({active:f,selected:p})=>[P("li",{class:Cn([{"bg-amber-100 text-amber-900":f,"text-gray-900":!f},"relative cursor-default select-none py-2 pl-10 pr-4"])},[P("span",{class:Cn([{"font-medium":p,"font-normal":!p},"block truncate"])},Vn(t.itemLabel?h[t.itemLabel]:h),3),p?(z(),Ie("span",q8,[J(L(L8),{class:"h-5 w-5","aria-hidden":"true"})])):We("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]))}}),W8={class:"space-y-4 mb-4"},K8=P("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),z8={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},G8=["src"],Y8=["onClick"],J8=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),Q8=P("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),X8=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),Z8=P("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),eH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),tH=P("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),nH={class:"flex justify-end space-x-2 mt-4"},iH=5*1024*1024,rH=Fe({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Wt(Pt()),s=Z([]),o=Z(null),l=()=>{const T=o.value.files;for(let R=0;R<T.length;R++){const k=T[R];if(k.size>iH){alert("File size should not exceed 5MB");continue}const x=new FileReader;x.onload=D=>{s.value.push({file:k,url:D.target.result})},x.readAsDataURL(k)}},c=T=>{s.value.splice(T,1)},h=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=Xn({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:h,price:0,biddingEndTime:h}),p=Z(!1),v=async()=>{if(p.value=!0,y()&&i.value){const T=s.value.map(k=>k.url.split(",")[1]),R=JSON.parse(JSON.stringify(f));R.biddingEndTime=new Date(R.biddingEndTime).toISOString(),R.expectedHarvestDate=new Date(R.expectedHarvestDate).toISOString(),await Pt().createUserAd({images:T,...R,adType:i.value.accountType}),p.value=!1,n("close")}else p.value=!1},y=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime),b=Z(!1),I=Z([]),_=async()=>{b.value=!0,I.value=await Pt().getProduce(),console.log("produce",I.value),b.value=!1},E=we(()=>{if(f.type==="")return[];const T=I.value.find(R=>R.id===f.type);return T?T.sub:[]});return Ct(async()=>{console.log("mounted"),await _()}),(T,R)=>(z(),Ie(ut,null,[P("div",W8,[K8,P("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),P("div",z8,[(z(!0),Ie(ut,null,Kr(s.value,(k,x)=>(z(),Ie("div",{key:x,class:"mr-2 relative"},[P("img",{src:k.url,class:"w-16 h-16 object-cover"},null,8,G8),P("button",{onClick:D=>c(x)},"Remove",8,Y8)]))),128))]),J8,J(mp,{items:I.value,modelValue:f.type,"onUpdate:modelValue":R[0]||(R[0]=k=>f.type=k),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),Q8,J(mp,{items:E.value,modelValue:f.variety,"onUpdate:modelValue":R[1]||(R[1]=k=>f.variety=k),placeholder:"Select a Variety",disabled:!f.type},null,8,["items","modelValue","disabled"]),X8,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":R[2]||(R[2]=k=>f.yieldTonnage=k)},null,512),[[ht,f.yieldTonnage]]),Z8,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":R[3]||(R[3]=k=>f.expectedHarvestDate=k)},null,512),[[ht,f.expectedHarvestDate]]),eH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":R[4]||(R[4]=k=>f.price=k)},null,512),[[ht,f.price]]),tH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":R[5]||(R[5]=k=>f.biddingEndTime=k)},null,512),[[ht,f.biddingEndTime]])]),P("div",nH,[P("button",{onClick:R[6]||(R[6]=k=>T.$emit("close")),type:"button",class:"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),J(zs,{onClick:v,isLoading:p.value},{default:ce(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),sH={class:"space-y-4 mb-4"},oH=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),aH=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),lH=P("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),uH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),cH={class:"flex justify-end space-x-2 mt-4"},dH=Fe({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Wt(Pt());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=Xn({type:"",yieldTonnage:0,requestDate:s,price:0}),l=Z(!1),c=async()=>{if(l.value=!0,h()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await Pt().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},h=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,p)=>(z(),Ie(ut,null,[P("div",sH,[oH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":p[0]||(p[0]=v=>o.type=v)},null,512),[[ht,o.type]]),aH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":p[1]||(p[1]=v=>o.yieldTonnage=v)},null,512),[[ht,o.yieldTonnage]]),lH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":p[2]||(p[2]=v=>o.requestDate=v)},null,512),[[ht,o.requestDate]]),uH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":p[3]||(p[3]=v=>o.price=v)},null,512),[[ht,o.price]])]),P("div",cH,[P("button",{onClick:p[4]||(p[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),J(zs,{onClick:c,isLoading:l.value},{default:ce(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),hH=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),fH={class:"fixed inset-0 overflow-y-auto"},pH={class:"flex min-h-full items-center justify-center p-4 text-center"},mH=P("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),gH=Fe({__name:"AddAdModal",setup(t){const{modals:e}=Wt(Bn()),{profile:n}=Wt(Pt()),i=Pt().ACCOUNT_TYPES,s=Z(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(z(),qe(L(Ys),{appear:"",show:s.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[hH]),_:1}),P("div",fH,[P("div",pH,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:ce(()=>{var h,f;return[J(L(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:ce(()=>[gt(" New Ad ")]),_:1}),J(L(Gl),{class:"mt-2 mb-4"},{default:ce(()=>[mH]),_:1}),((h=L(n))==null?void 0:h.accountType)===L(i).SELLER?(z(),qe(rH,{key:0,onClose:c[0]||(c[0]=p=>o(!1))})):We("",!0),((f=L(n))==null?void 0:f.accountType)===L(i).BUYER?(z(),qe(dH,{key:1,onClose:c[1]||(c[1]=p=>o(!1))})):We("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),vH={class:"space-y-4 mb-4"},yH=P("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),_H={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},wH=["src"],bH=["onClick"],EH=["src"],IH=["onClick"],TH=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),AH=P("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),SH=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),CH=P("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),RH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),PH={class:"flex justify-end space-x-2 mt-4"},kH=5*1024*1024,xH=Fe({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Wt(Pt());const s=Z([]),o=Z(null),l=()=>{const b=o.value.files;for(let I=0;I<b.length;I++){const _=b[I];if(_.size>kH){alert("File size should not exceed 5MB");continue}const E=new FileReader;E.onload=T=>{s.value.push({file:_,url:T.target.result})},E.readAsDataURL(_)}},c=b=>{s.value.splice(b,1)},h=b=>{p.resizedImages.splice(b,1)},f=JSON.parse(JSON.stringify(n.ad)),p=Xn({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=Z(!1),y=async()=>{v.value=!0;const b=Object.keys(p).reduce((I,_)=>(p[_]!==n.ad[_]&&(I[_]=p[_]),I),{});if(o.value.files.length>0){const I=s.value.map(_=>_.url.split(",")[1]);b.newImages=I}await Pt().editUserAd({changes:b,adId:n.ad.id}),v.value=!1,i("close")};return(b,I)=>(z(),Ie(ut,null,[P("div",vH,[yH,P("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),P("div",_H,[(z(!0),Ie(ut,null,Kr(s.value,(_,E)=>(z(),Ie("div",{key:E,class:"mr-2 relative"},[P("img",{src:_.url,class:"w-16 h-16 object-cover"},null,8,wH),P("button",{onClick:T=>c(E)},"Remove",8,bH)]))),128)),(z(!0),Ie(ut,null,Kr(p.resizedImages,(_,E)=>(z(),Ie("div",{key:E,class:"mr-2 relative"},[P("img",{src:_,class:"w-16 h-16 object-cover"},null,8,EH),P("button",{onClick:T=>h(E)},"Remove",8,IH)]))),128))]),TH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":I[0]||(I[0]=_=>p.type=_)},null,512),[[ht,p.type]]),AH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":I[1]||(I[1]=_=>p.variety=_)},null,512),[[ht,p.variety]]),SH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":I[2]||(I[2]=_=>p.yieldTonnage=_)},null,512),[[ht,p.yieldTonnage]]),CH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":I[3]||(I[3]=_=>p.expectedHarvestDate=_)},null,512),[[ht,p.expectedHarvestDate]]),RH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":I[4]||(I[4]=_=>p.price=_)},null,512),[[ht,p.price]])]),P("div",PH,[P("button",{onClick:I[5]||(I[5]=_=>b.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),J(zs,{onClick:y,isLoading:v.value},{default:ce(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),OH={class:"space-y-4 mb-4"},NH=P("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),DH=P("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),LH=P("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),MH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),VH={class:"flex justify-end space-x-2 mt-4"},FH=Fe({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Wt(Pt());const s=JSON.parse(JSON.stringify(n.ad)),o=Xn({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=Z(!1),c=async()=>{l.value=!0;const h=Object.keys(o).reduce((f,p)=>(o[p]!==n.ad[p]&&(f[p]=o[p]),f),{});await Pt().editUserAd({changes:h,adId:n.ad.id}),l.value=!1,i("close")};return(h,f)=>(z(),Ie(ut,null,[P("div",OH,[NH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=p=>o.type=p)},null,512),[[ht,o.type]]),DH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=p=>o.yieldTonnage=p)},null,512),[[ht,o.yieldTonnage]]),LH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=p=>o.requestDate=p)},null,512),[[ht,o.requestDate]]),MH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=p=>o.price=p)},null,512),[[ht,o.price]])]),P("div",VH,[P("button",{onClick:f[4]||(f[4]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),J(zs,{onClick:c,isLoading:l.value},{default:ce(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),UH=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),$H={class:"fixed inset-0 overflow-y-auto"},jH={class:"flex min-h-full items-center justify-center p-4 text-center"},BH=P("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),HH=Fe({__name:"EditAdModal",setup(t){const{modals:e}=Wt(Bn()),{profile:n}=Wt(Pt()),i=Pt().ACCOUNT_TYPES,s=Z(!0);function o(l){s.value=l,e.value.editad=l,e.value.context={}}return(l,c)=>(z(),qe(L(Ys),{appear:"",show:s.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[UH]),_:1}),P("div",$H,[P("div",jH,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:ce(()=>{var h,f;return[J(L(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:ce(()=>[gt(" Edit Ad ")]),_:1}),J(L(Gl),{class:"mt-2 mb-4"},{default:ce(()=>[BH]),_:1}),((h=L(n))==null?void 0:h.accountType)===L(i).SELLER?(z(),qe(xH,{key:0,onClose:c[0]||(c[0]=p=>o(!1)),ad:L(e).context},null,8,["ad"])):We("",!0),((f=L(n))==null?void 0:f.accountType)===L(i).BUYER?(z(),qe(FH,{key:1,onClose:c[1]||(c[1]=p=>o(!1)),ad:L(e).context},null,8,["ad"])):We("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),qH={class:"space-y-4 mb-4"},WH=P("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),KH={class:"flex justify-end space-x-2 mt-4"},zH=Fe({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=Xn({adId:t.adId,price:0}),o=Z(!1),l=async()=>{o.value=!0,c()?(await Pt().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(h,f)=>(z(),Ie(ut,null,[P("div",qH,[WH,ot(P("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=p=>s.price=p)},null,512),[[ht,s.price]])]),P("div",KH,[P("button",{onClick:f[1]||(f[1]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),J(zs,{onClick:l,isLoading:o.value},{default:ce(()=>[gt(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),GH=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),YH={class:"fixed inset-0 overflow-y-auto"},JH={class:"flex min-h-full items-center justify-center p-4 text-center"},QH=P("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),XH=Fe({__name:"AddBidModal",setup(t){const{modals:e}=Wt(Bn()),n=Z(!0);function i(l){n.value=l,e.value.addad=l}const s=ow(),o=Z("");return Ct(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(z(),qe(L(Ys),{appear:"",show:n.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:c[1]||(c[1]=h=>i(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[GH]),_:1}),P("div",YH,[P("div",JH,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:ce(()=>[J(L(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:ce(()=>[gt(" Place bid ")]),_:1}),J(L(Gl),{class:"mt-2 mb-4"},{default:ce(()=>[QH]),_:1}),J(zH,{onClose:c[0]||(c[0]=h=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Ps=Fe({__name:"CardButton",props:{classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){return(n,i)=>(z(),Ie("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:Cn([[t.classes],"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"])},[QP(n.$slots,"default")],2))}}),ZH={class:"max-w-md mx-auto"},eq={class:"mb-4"},tq=P("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),nq={class:"mb-4"},iq=P("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),rq={class:"mb-4"},sq=P("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),oq={class:"mb-4"},aq=P("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),lq={class:"mb-4 space-y-2"},uq=P("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),cq=["onUpdate:modelValue"],dq=["onClick"],hq={class:"flex items-center justify-between mt-4"},fq=Fe({__name:"JobPostAddForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=Z({createdAt:null,title:"",type:"",description:"",location:"",salary:"",tasks:[]}),s=()=>{i.value.tasks.push("")},o=f=>{i.value.tasks.splice(f,1)},l=()=>{if(!i.value.title||!i.value.description||!i.value.location||!i.value.salary||!i.value.type||!i.value.tasks.length){if(i.value.tasks.length>0){for(const f in i.value.tasks)if(!f){const p=i.value.tasks.indexOf(f);i.value.tasks.splice(p,1)}}return!1}else return!0},c=Z(!1),h=async()=>{if(c.value=!0,l()){const f=JSON.parse(JSON.stringify(i.value));await Pt().createJobPostAd(f),n("close")}c.value=!1};return(f,p)=>(z(),Ie("div",ZH,[P("div",null,[P("div",eq,[tq,ot(P("input",{"onUpdate:modelValue":p[0]||(p[0]=v=>i.value.title=v),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,i.value.title]])]),P("div",nq,[iq,ot(P("textarea",{"onUpdate:modelValue":p[1]||(p[1]=v=>i.value.description=v),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[ht,i.value.description]])]),J(mp,{items:["Full Time","Part Time","Contract"],modelValue:i.value.type,"onUpdate:modelValue":p[2]||(p[2]=v=>i.value.type=v),placeholder:"Select an Employment Type"},null,8,["modelValue"]),P("div",rq,[sq,ot(P("input",{"onUpdate:modelValue":p[3]||(p[3]=v=>i.value.location=v),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,i.value.location]])]),P("div",oq,[aq,ot(P("input",{"onUpdate:modelValue":p[4]||(p[4]=v=>i.value.salary=v),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,i.value.salary]])]),P("div",lq,[P("span",{class:"w-full flex items-center justify-between"},[uq,P("button",{onClick:s,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(z(!0),Ie(ut,null,Kr(i.value.tasks,(v,y)=>(z(),Ie("div",{key:y,class:"flex items-center space-x-2"},[ot(P("input",{"onUpdate:modelValue":b=>i.value.tasks[y]=b,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,cq),[[ht,i.value.tasks[y]]]),P("button",{onClick:b=>o(y),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,dq)]))),128))]),P("div",hq,[J(Ps,{onClick:p[5]||(p[5]=v=>f.$emit("close")),classes:"w-20"},{default:ce(()=>[gt(" Cancel ")]),_:1}),J(zs,{onClick:h,isLoading:c.value},{default:ce(()=>[gt("Create Job ")]),_:1},8,["isLoading"])])])]))}}),pq=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),mq={class:"fixed inset-0 overflow-y-auto"},gq={class:"flex min-h-full items-center justify-center p-4 text-center"},vq=P("p",{class:"text-sm text-gray-500"}," Add a Job Post ",-1),yq=Fe({__name:"AddJobModal",setup(t){const{modals:e}=Wt(Bn()),n=Z(!0);function i(s){n.value=s,e.value.addjob=s}return(s,o)=>(z(),qe(L(Ys),{appear:"",show:n.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[pq]),_:1}),P("div",mq,[P("div",gq,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:ce(()=>[J(L(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:ce(()=>[gt(" New Job Post ")]),_:1}),J(L(Gl),{class:"mt-2 mb-4"},{default:ce(()=>[vq]),_:1}),J(fq,{onClose:o[0]||(o[0]=l=>i(!1))})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),_q={class:"max-w-md mx-auto"},wq={class:"mb-4"},bq=P("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),Eq={class:"mb-4"},Iq=P("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1),Tq={class:"mb-4"},Aq=P("label",{for:"location",class:"block text-sm font-medium text-gray-700"},"Location",-1),Sq={class:"mb-4"},Cq=P("label",{for:"salary",class:"block text-sm font-medium text-gray-700"},"Salary",-1),Rq={class:"mb-4 space-y-2"},Pq=P("label",{class:"block text-sm font-medium text-gray-700"},"Tasks",-1),kq=["onUpdate:modelValue"],xq=["onClick"],Oq={class:"flex items-center justify-between mt-4"},Nq=Fe({__name:"JobPostEditForm",props:{job:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=JSON.parse(JSON.stringify(i.job)),o=Z({createdAt:s.createdAt,title:s.title,type:s.type,description:s.description,location:s.location,salary:s.salary,tasks:s.tasks}),l=()=>{o.value.tasks.push("")},c=v=>{o.value.tasks.splice(v,1)},h=()=>{if(!o.value.title||!o.value.description||!o.value.location||!o.value.salary||!o.value.tasks.length){if(o.value.tasks.length>0){for(const v in o.value.tasks)if(!v){const y=o.value.tasks.indexOf(v);o.value.tasks.splice(y,1)}}return!1}else return!0},f=Z(!1),p=async()=>{if(f.value=!0,h()){const v=i.job,y=Object.keys(o.value).reduce((I,_)=>_==="tasks"?(I[_]=o.value[_].filter(E=>E!==""),I):(_==="createdAt"||o.value[_]!==v[_]&&(I[_]=o.value[_]),I),{}),b=JSON.parse(JSON.stringify(y));console.log(y);try{const I=i.job.jobId;await Pt().editJobPostAd({jobId:I,changes:b}),n("close")}catch(I){f.value=!1,console.log(I)}}f.value=!1};return(v,y)=>(z(),Ie("div",_q,[P("div",null,[P("div",wq,[bq,ot(P("input",{"onUpdate:modelValue":y[0]||(y[0]=b=>o.value.title=b),type:"text",id:"title",name:"title",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,o.value.title]])]),P("div",Eq,[Iq,ot(P("textarea",{"onUpdate:modelValue":y[1]||(y[1]=b=>o.value.description=b),id:"description",name:"description",rows:"4",class:"mt-1 p-2 w-full border rounded-md resize-none",required:""},null,512),[[ht,o.value.description]])]),J(mp,{items:["Full Time","Part Time","Contract"],modelValue:o.value.type,"onUpdate:modelValue":y[2]||(y[2]=b=>o.value.type=b),placeholder:"Select an Employment Type"},null,8,["modelValue"]),P("div",Tq,[Aq,ot(P("input",{"onUpdate:modelValue":y[3]||(y[3]=b=>o.value.location=b),type:"text",id:"location",name:"location",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,o.value.location]])]),P("div",Sq,[Cq,ot(P("input",{"onUpdate:modelValue":y[4]||(y[4]=b=>o.value.salary=b),type:"text",id:"salary",name:"salary",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,o.value.salary]])]),P("div",Rq,[P("span",{class:"w-full flex items-center justify-between"},[Pq,P("button",{onClick:l,type:"button",class:"mt-2 text-blue-500 hover:text-blue-700"},"Add Task")]),(z(!0),Ie(ut,null,Kr(o.value.tasks,(b,I)=>(z(),Ie("div",{key:I,class:"flex items-center space-x-2"},[ot(P("input",{"onUpdate:modelValue":_=>t.job.tasks[I]=_,type:"text",class:"p-2 w-full border rounded-md",placeholder:"Task",required:""},null,8,kq),[[ht,t.job.tasks[I]]]),P("button",{onClick:_=>c(I),type:"button",class:"text-red-500 hover:text-red-700"},"Remove",8,xq)]))),128))]),P("div",Oq,[J(Ps,{onClick:y[5]||(y[5]=b=>v.$emit("close")),classes:"w-20"},{default:ce(()=>[gt(" Cancel ")]),_:1}),J(zs,{onClick:p,isLoading:f.value},{default:ce(()=>[gt("Edit Job ")]),_:1},8,["isLoading"])])])]))}}),Dq=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),Lq={class:"fixed inset-0 overflow-y-auto"},Mq={class:"flex min-h-full items-center justify-center p-4 text-center"},Vq=P("p",{class:"text-sm text-gray-500"}," Edit a Job Post ",-1),Fq=Fe({__name:"EditJobModal",setup(t){const{modals:e}=Wt(Bn()),n=Z(!0);function i(s){n.value=s,e.value.editjob=s,e.value.context={}}return(s,o)=>(z(),qe(L(Ys),{appear:"",show:n.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[Dq]),_:1}),P("div",Lq,[P("div",Mq,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:ce(()=>[J(L(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:ce(()=>[gt(" Edit Job Post ")]),_:1}),J(L(Gl),{class:"mt-2 mb-4"},{default:ce(()=>[Vq]),_:1}),J(Nq,{onClose:o[0]||(o[0]=l=>i(!1)),job:L(e).context},null,8,["job"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Uq={class:"max-w-md mx-auto"},$q={class:"mb-4"},jq={class:"flex items-center justify-between mt-4"},Bq=Fe({__name:"ConfirmRemoveForm",props:{context:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,i=t,s=Z(!1),o=Z(""),l=async()=>{s.value=!0,o.value==i.context.__key&&(await c(),n("close")),s.value=!1},c=async()=>{i.context.__key=="job"&&await Pt().removeJobPostAd(i.context.jobId)};return(h,f)=>(z(),Ie("div",Uq,[P("div",null,[P("div",$q,[ot(P("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),type:"text",id:"confirmKeyword",class:"mt-1 p-2 w-full border rounded-md",required:""},null,512),[[ht,o.value]])]),P("div",jq,[J(Ps,{onClick:f[1]||(f[1]=p=>h.$emit("close")),classes:"w-20"},{default:ce(()=>[gt(" Cancel ")]),_:1}),J(zs,{disabled:o.value!=i.context.__key,onClick:l,isLoading:s.value},{default:ce(()=>[gt("Delete ")]),_:1},8,["disabled","isLoading"])])])]))}}),Hq=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),qq={class:"fixed inset-0 overflow-y-auto"},Wq={class:"flex min-h-full items-center justify-center p-4 text-center"},Kq={class:"text-sm text-gray-500"},zq={class:"font-bold"},Gq=Fe({__name:"ConfirmRemoveModal",setup(t){const{modals:e}=Wt(Bn()),n=Z(!0);function i(s){n.value=s,e.value.confirmremove=s}return(s,o)=>(z(),qe(L(Ys),{appear:"",show:n.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:o[1]||(o[1]=l=>i(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[Hq]),_:1}),P("div",qq,[P("div",Wq,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:ce(()=>[J(L(zl),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:ce(()=>[gt(" Are you sure? ")]),_:1}),J(L(Gl),{class:"mt-2 mb-4"},{default:ce(()=>[P("p",Kq,[gt(" Type "),P("span",zq,Vn(L(e).context.__key),1),gt(" to confirm ")])]),_:1}),J(Bq,{onClose:o[0]||(o[0]=l=>i(!1)),context:L(e).context},null,8,["context"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),Yq=P("div",{class:"fixed inset-0 bg-black/25"},null,-1),Jq={class:"fixed inset-0 overflow-y-auto"},Qq={class:"flex min-h-full items-center justify-center text-center"},Xq={key:0},Zq={class:"flex flex-col gap-2 justify-start items-start border rounded-md"},eW={class:"px-5 pt-5 text-left"},tW={class:"text-xl font-bold"},nW={class:"text-md"},iW={class:"text-md"},rW={class:"text-md"},sW={class:"w-full border-t-2 h-64 overflow-y-scroll"},oW={class:"text-md text-left p-5"},aW={class:"w-full flex flex-col gap-2 justify-start items-start px-5 pb-5"},lW={class:"text-md"},uW={key:1},cW=Fe({__name:"JobViewModal",setup(t){const{modals:e}=Wt(Bn()),n=Z(!0);function i(c){n.value=c,e.value.viewjob=c}const s=Z({}),o=Z(!1),l=async()=>{const c=e.value.context.__key;c&&(o.value=!0,s.value=await T6("jobs",c,"jobId"),o.value=!1)};return Ct(async()=>{await l()}),(c,h)=>(z(),qe(L(Ys),{appear:"",show:n.value,as:"template"},{default:ce(()=>[J(L(ia),{as:"div",onClose:h[0]||(h[0]=f=>i(!1)),class:"relative z-10"},{default:ce(()=>[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:ce(()=>[Yq]),_:1}),P("div",Jq,[P("div",Qq,[J(L(ni),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:ce(()=>[J(L(ra),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white text-left align-middle shadow-xl transition-all"},{default:ce(()=>[s.value&&!o.value?(z(),Ie("div",Xq,[P("div",Zq,[P("span",eW,[P("h1",tW,Vn(s.value.title),1),P("p",nW,Vn(s.value.location),1),P("p",iW,"$"+Vn(s.value.salary),1),P("p",rW,Vn(s.value.type),1),J(Ps,null,{default:ce(()=>[gt(" Apply ")]),_:1})]),P("div",sW,[P("p",oW,Vn(s.value.description),1)]),P("div",aW,[(z(!0),Ie(ut,null,Kr(s.value.tasks,f=>(z(),Ie("div",null,[P("p",lW,Vn(f),1)]))),256))])])])):(z(),Ie("div",uW,[J(Om,{isLoading:o.value},null,8,["isLoading"])]))]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),dW={key:0},hW={key:1,class:"text-sm font-medium"},vS=5e3,fW=Fe({__name:"StateNotificationToast",setup(t){const{notifications:e}=Wt(Bn()),n=Bn().NOTIFICATION_TYPES,i=Z(vS),s=()=>{i.value=vS;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),Bn().resetNotification())},1e3)};Ei(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=we(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(z(),qe(Rm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:ce(()=>[L(e).show?(z(),Ie("div",{key:0,class:Cn(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[L(e).type?(z(),Ie("div",dW,[L(e).type===L(n).SUCCESS?(z(),qe(L(Xk),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):We("",!0),L(e).type===L(n).ERROR?(z(),qe(L(a_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):We("",!0),L(e).type===L(n).WARNING?(z(),qe(L(Zk),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):We("",!0),L(e).type===L(n).INFO?(z(),qe(L(ex),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):We("",!0)])):We("",!0),L(e).message?(z(),Ie("div",hW,[P("p",null,Vn(L(e).message),1)])):We("",!0)],2)):We("",!0)]),_:1}))}}),pW={key:0},mW={key:1,class:"text-sm font-medium text-black"},gW=Fe({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=Wt(Bn()),n=Bn().NOTIFICATION_TYPES,i=we(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(z(),qe(Rm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:ce(()=>[L(e).show?(z(),Ie("div",{key:0,class:Cn(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[L(e).type?(z(),Ie("div",pW,[L(e).type===L(n).SUCCESS?(z(),qe(L(Xk),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):We("",!0),L(e).type===L(n).ERROR?(z(),qe(L(a_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):We("",!0),L(e).type===L(n).WARNING?(z(),qe(L(Zk),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):We("",!0),L(e).type===L(n).INFO?(z(),qe(L(ex),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):We("",!0)])):We("",!0),L(e).message?(z(),Ie("div",mW,[P("p",null,Vn(L(e).message),1)])):We("",!0),J(L(a_),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):We("",!0)]),_:1}))}}),vW={class:"py-2 bg-white flex flex-row items-center gap-4 hover:bg-slate-200/50 transition duration-300 first:border-none border-t-2 last:border-b-2"},yW=P("img",{src:"",class:"h-12 w-12 rounded-full bg-slate-400"},null,-1),_W={class:"flex flex-row space-x-4 items-center"},wW={class:"block text-sm font-medium text-gray-700"},bW={class:"block text-sm text-gray-500 truncate italic"},EW=Fe({__name:"DirectMessageCard",props:{dm:{type:Object,required:!0}},emits:["view"],setup(t,{emit:e}){return ow(),(n,i)=>(z(),Ie("span",vW,[yW,P("div",_W,[P("p",wW,Vn(t.dm.lastSender?`${t.dm.lastSender.substring(0,5)} says:`:""),1),P("p",bW,Vn(t.dm.lastMessage?t.dm.lastMessage:""),1)])]))}}),IW={key:0,class:"flex flex-col overflow-y-auto w-full flex-1 max-h-72"},TW={key:1},AW=Fe({__name:"DirectMessagingContentComponent",emits:["view"],setup(t,{emit:e}){const{user:n}=Wt(Pt()),i=e,s=Z({lastVisible:null,docs:[]}),o=Z(!1);let l=null,c=[];const h=async()=>{l=G2(br(rm(Di,"dms"),Nr("sellerId","==",n.value.uid),$s("createdAt","desc")),y=>{o.value=!0,c=y.docs.map(b=>({...b.data()})),f(),o.value=!1})},f=()=>{s.value.docs=c},p=()=>{l&&l()},v=y=>{i("view",y)};return Ct(async()=>{await h()}),Tm(()=>{p()}),(y,b)=>s.value.docs&&s.value.docs.length>0&&!o.value?(z(),Ie("div",IW,[(z(!0),Ie(ut,null,Kr(s.value.docs,(I,_)=>(z(),qe(EW,{key:_,dm:I,onClick:E=>v(I.id)},null,8,["dm","onClick"]))),128))])):s.value.docs&&s.value.docs.length==0&&!o.value?(z(),Ie("p",TW,"No direct messages yet")):(z(),qe(Om,{key:2,isLoading:o.value},null,8,["isLoading"]))}}),SW={class:"duration-300 transition transform ease-in-out"},CW={class:"flex justify-between items-center flex-row gap-4"},RW={class:"flex justify-center items-center flex-row gap-4"},PW=P("h1",{class:"text-lg font-bold"},"Messaging",-1),kW={key:1,class:"w-80 h-96 fixed bottom-0 right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},xW={class:"p-4 w-full mx-auto rounded-lg flex flex-col space-y-4"},OW=P("h1",{class:"text-xl font-semibold"},"Messaging",-1),NW={key:2,class:"w-96 h-96 fixed bottom-0 right-1 bg-white z-10 border-4 rounded-t-md shadow-md"},DW={class:"flex flex-col h-full p-4 w-full mx-auto rounded-lg space-y-4"},LW={class:"flex-grow overflow-hidden"},MW={key:0,class:"flex flex-col space-y-2 overflow-y-auto h-full"},VW={class:"break-words"},FW={key:0,class:"flex justify-between mb-2"},UW={class:"text-sm font-medium"},$W={class:"text-sm font-medium"},jW={key:1,class:"flex justify-center items-center h-32"},BW=P("p",{class:"text-gray-500"},"No messages yet",-1),HW=[BW],qW={key:2,class:"flex justify-center items-center h-32"},WW={class:"flex flex-row gap-2"},KW={class:"border rounded-md w-full p-2"},zW={class:"h-full flex items-start"},GW=Fe({__name:"DirectMessageComponent",setup(t){const e="dms",n="messages",{user:i,profile:s}=Wt(Pt()),{messaging:o}=Wt(Bn()),l=Z(!1),c=k=>{l.value=k},h=k=>{o.value.show=k,o.value.to=null},f=async k=>{console.log("onViewDm",k),o.value.show=!0,o.value.to={id:k,name:"No one"},await I(k)},p=Z(""),v=Z([]),y=Z(!1);let b;const I=async k=>{b=G2(br(Wo(Di,`${e}/${k}/${n}`),$s("createdAt","asc")),x=>{y.value=!0,v.value=x.docs.map(D=>({...D.data()})),y.value=!1})},_=Z(!1),E=async()=>{var k,x;p.value&&i.value&&s.value&&i.value.uid!=((k=o.value.to)==null?void 0:k.id)&&(_.value=!0,await Pt().sendDm({text:p.value,senderId:i.value.uid,receiverId:(x=o.value.to)==null?void 0:x.id}),p.value="",_.value=!1)},T=k=>{const x=new Date,D=k.toDate(),K=x.getTime()-D.getTime(),se=Math.floor(K/1e3),q=Math.floor(se/60),ie=Math.floor(q/60),ye=Math.floor(ie/24);return ye>0?`${ye} days ago`:ie>0?`${ie} hours ago`:q>0?`${q} minutes ago`:se>0?`${se} seconds ago`:"just now"},R=k=>{if(k===0)return!0;const x=v.value[k-1],D=v.value[k];return x.senderId!==D.senderId};return Tm(()=>{b&&b()}),(k,x)=>(z(),Ie("span",SW,[l.value?We("",!0):(z(),Ie("div",{key:0,class:"w-56 rounded rounded-t-md fixed bottom-0 right-1 h-10 bg-white z-10 border-x-4 border-t-4 flex justify-center items-center",onClick:x[0]||(x[0]=D=>c(!0))},[P("div",CW,[P("span",RW,[J(L(U8),{class:"h-6 w-6"}),PW]),J(L(F8),{class:"h-6 w-6"})])])),l.value&&!L(o).show?(z(),Ie("div",kW,[P("div",xW,[P("div",{class:"flex justify-between items-center flex-row gap-4 border-b pb-2",onClick:x[1]||(x[1]=D=>c(!1))},[OW,J(L(M8),{class:"h-6 w-6"})]),J(AW,{onView:f})])])):We("",!0),L(o).show?(z(),Ie("div",NW,[P("div",DW,[P("h1",{class:"text-xl font-semibold border-b pb-2",onClick:x[2]||(x[2]=D=>h(!1))},"Send a Message"),P("div",LW,[v.value.length>0&&!y.value?(z(),Ie("div",MW,[(z(!0),Ie(ut,null,Kr(v.value,(D,K)=>(z(),Ie("span",VW,[R(K)?(z(),Ie("div",FW,[P("p",UW,Vn(D.senderId.substring(0,5))+" says:",1),P("p",$W,Vn(T(D.createdAt)),1)])):We("",!0),P("div",{class:Cn([D.senderId!=L(i).uid?"justify-end":"justify-start","flex"])},[P("p",{class:Cn([D.senderId===L(i).uid?"bg-blue-500 text-white":"bg-gray-100","rounded-md p-2 max-w-xs md:max-w-md",D.quote?"ml-2":""])},Vn(D.text),3)],2)]))),256))])):v.value.length==0&&!y.value?(z(),Ie("div",jW,HW)):y.value?(z(),Ie("div",qW,[J(Om,{isLoading:y.value},null,8,["isLoading"])])):We("",!0)]),P("div",WW,[P("div",KW,[ot(P("textarea",{"onUpdate:modelValue":x[3]||(x[3]=D=>p.value=D),class:"h-full w-full resize-none focus:outline-none",placeholder:"Type your message here..."},null,512),[[ht,p.value]])]),P("div",zW,[J(L($8),{onClick:E,class:"h-6 w-6 text-blue-500"})])])])])):We("",!0)]))}}),YW={class:"relative bg-blue-900 text-white p-4"},JW={class:"container mx-auto flex justify-between items-center"},QW=P("div",{class:"flex items-center"},[P("img",{src:bB,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),P("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),XW={class:"space-x-4"},ZW={class:"w-full"},eK=Fe({__name:"App",setup(t){const{profile:e}=Wt(Pt()),{modals:n,notifications:i,dropdowns:s}=Wt(Bn()),o=Z(0),l=ow();l.beforeEach((h,f,p)=>{h.matched.some(y=>y.meta.requiresAuth)&&!e.value?p("/signup"):p()});const c=async()=>{await Pt().signout(),l.push("/signup")};return(h,f)=>(z(),Ie(ut,null,[P("header",YW,[P("div",JW,[QW,P("nav",XW,[L(e)?(z(),qe(L(_c),{key:0,class:Cn(["hover:underline",{"bg-blue-700 text-white":o.value==1}]),to:"/userboard",onClick:f[0]||(f[0]=p=>o.value=1)},{default:ce(()=>[gt("Dashboard")]),_:1},8,["class"])):We("",!0),L(e)?We("",!0):(z(),qe(L(_c),{key:1,class:Cn(["hover:underline",{"bg-blue-700 text-white":o.value==2}]),to:"/signup",onClick:f[1]||(f[1]=p=>o.value=2)},{default:ce(()=>[gt("Signin")]),_:1},8,["class"])),L(e)?(z(),qe(L(_c),{key:2,class:Cn(["hover:underline",{"bg-blue-700 text-white":o.value==3}]),to:"/profile",onClick:f[2]||(f[2]=p=>o.value=3)},{default:ce(()=>[gt("Profile")]),_:1},8,["class"])):We("",!0),L(e)?(z(),qe(L(_c),{key:3,class:Cn(["hover:underline",{"bg-blue-700 text-white":o.value==4}]),to:"/feed",onClick:f[3]||(f[3]=p=>o.value=4)},{default:ce(()=>[gt("Feed")]),_:1},8,["class"])):We("",!0),P("a",{class:"hover:underline",onClick:c},"Signout")])]),ot(J(gW,null,null,512),[[LA,L(s).show]])]),L(n).addad?(z(),qe(gH,{key:0})):We("",!0),L(n).editad?(z(),qe(HH,{key:1})):We("",!0),L(n).addbid?(z(),qe(XH,{key:2})):We("",!0),L(n).editjob?(z(),qe(Fq,{key:3})):We("",!0),L(n).addjob?(z(),qe(yq,{key:4})):We("",!0),L(n).confirmremove?(z(),qe(Gq,{key:5})):We("",!0),L(n).viewjob?(z(),qe(cW,{key:6})):We("",!0),ot(J(fW,null,null,512),[[LA,L(i).show]]),P("div",ZW,[J(L(Rk))]),L(e)?(z(),qe(GW,{key:7})):We("",!0)],64))}}),tK="modulepreload",nK=function(t){return"/"+t},yS={},ji=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=nK(o),o in yS)return;yS[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const v=s[p];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":tK,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},iK=P("h1",null,"HomeView",-1),rK=Fe({__name:"HomeView",setup(t){const{dropdowns:e}=Wt(Bn()),n=Bn().NOTIFICATION_TYPES,i=s=>{s==n.ERROR&&(e.value.show=!0,e.value.type=n.ERROR,e.value.message="Failed to create escrow account"),s==n.SUCCESS&&(e.value.show=!0,e.value.type=n.SUCCESS,e.value.message="Successfully created escrow account"),s==n.WARNING&&(e.value.show=!0,e.value.type=n.WARNING,e.value.message="Warning: This is a warning"),s==n.INFO&&(e.value.show=!0,e.value.type=n.INFO,e.value.message="Info: This is an info message")};return(s,o)=>(z(),Ie(ut,null,[iK,J(Ps,{onClick:o[0]||(o[0]=l=>i(L(n).ERROR))},{default:ce(()=>[gt("Error")]),_:1}),J(Ps,{onClick:o[1]||(o[1]=l=>i(L(n).SUCCESS))},{default:ce(()=>[gt("Success")]),_:1}),J(Ps,{onClick:o[2]||(o[2]=l=>i(L(n).WARNING))},{default:ce(()=>[gt("Warning")]),_:1}),J(Ps,{onClick:o[3]||(o[3]=l=>i(L(n).INFO))},{default:ce(()=>[gt("Info")]),_:1})],64))}}),sK=b7({history:UB("/"),routes:[{path:"/",name:"home",component:rK},{path:"/signup",name:"signup",component:()=>ji(()=>import("./SignupView-7099aaf9.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>ji(()=>import("./ProfileSetupView-043322fb.js"),[])},{path:"/profile",name:"profile",component:()=>ji(()=>import("./UserProfileView-d6f40873.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>ji(()=>import("./AboutView-c08a1b21.js"),[])},{path:"/feed",name:"feed",component:()=>ji(()=>import("./FeedView-423e6b49.js"),["assets/FeedView-423e6b49.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-d14d668a.js","assets/ImageCarousel-1cdc2a13.js","assets/ImageCarousel-b21701ad.css"])},{path:"/seller/:sellerName/:id",name:"seller-ads",component:()=>ji(()=>import("./SellerAdsView-74c2557b.js"),["assets/SellerAdsView-74c2557b.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-d14d668a.js","assets/ImageCarousel-1cdc2a13.js","assets/ImageCarousel-b21701ad.css"]),props:!0},{path:"/ad/:adId",name:"ad",component:()=>ji(()=>import("./AdView-e1c3dbd8.js"),["assets/AdView-e1c3dbd8.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-01d904f8.js","assets/ImageCarousel-1cdc2a13.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-ccf7a4f7.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/jobs/:jobId",name:"job",component:()=>ji(()=>import("./JobView-a71f9dc4.js"),[]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>ji(()=>import("./UserBoardView-99125db6.js"),["assets/UserBoardView-99125db6.js","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-d14d668a.js","assets/ImageCarousel-1cdc2a13.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-ccf7a4f7.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>ji(()=>import("./MessagingView-c6aba033.js"),[]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId",name:"banking",component:()=>ji(()=>import("./BankingView-20360a5b.js"),["assets/BankingView-20360a5b.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-01d904f8.js","assets/ImageCarousel-1cdc2a13.js","assets/ImageCarousel-b21701ad.css"]),meta:{requiresAuth:!0},props:!0}]});let Oo,Qv;NM(dP,async t=>{if(t){try{Qv=await My("users",t.uid),Qv&&(Oo||Xv(),Pt().setProfile(Qv))}catch(e){console.log("Error getting profile",e)}Oo||Xv(),console.log("User is signed in"),Pt().setUser(t)}else Oo||Xv(),console.log("User is signed out")});const Xv=()=>{Oo=Xj(eK),Oo.use(tB()),Oo.use(sK),Oo.mount("#app")};export{aw as $,N2 as A,Di as B,A7 as C,wK as D,Bs as E,ut as F,bK as G,EK as H,U8 as I,T6 as J,br as K,Om as L,$s as M,Nr as N,rm as O,TK as P,tn as Q,ld as R,pp as S,we as T,Lk as U,ti as V,Ei as W,Ti as X,Ke as Y,ii as Z,Ps as _,Pt as a,Gs as a0,ci as a1,Rt as a2,D7 as a3,Ol as a4,yn as a5,un as a6,Nk as a7,uw as a8,Kl as a9,Pf as aa,As as ab,IK as ac,Cn as ad,_K as ae,Wo as af,$8 as ag,mK as ah,hK as ai,fK as aj,gK as ak,vK as al,sK as am,pK as an,SK as ao,H0 as ap,yK as b,Tm as c,Fe as d,z as e,Ie as f,P as g,Z as h,gt as i,AK as j,Kr as k,J as l,ce as m,zs as n,Ct as o,We as p,qe as q,Xn as r,Wt as s,Vn as t,ow as u,ht as v,ot as w,Bn as x,L as y,G2 as z};

import{I as U}from"./ImageCarousel-481bf7b6.js";import{d as L,m as k,s as O,u as J,r as D,o as G,J as z,e as r,f as w,n as f,L as F,z as A,j as e,A as B,t as l,B as i,a0 as I,w as E,i as W,F as H,$ as K,a1 as Q,a2 as X,y as V,U as Y,D as Z}from"./index-6a4b7e8c.js";import{r as ee,a as te,b as se,c as R}from"./PencilIcon-6012585b.js";const oe={class:"relative bg-white p-2 sm:p-4 rounded-xl shadow transition-shadow duration-300 hover:shadow-xl"},ae={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},ne={class:"relative w-full h-32 sm:h-52 sm:bg-gray-200 rounded-xl overflow-hidden"},ie={key:1,class:"flex items-center justify-center h-full"},le=e("p",{class:"text-gray-500"},"No Image Available",-1),ce=[le],re={class:"sm:mt-4 space-y-2"},de={class:"text-2xl font-bold"},ue={class:"flex flex-row gap-2 items-center justify-center mb-2 rounded-md h-10 border-y"},fe={class:"text-xs"},me={class:"flex flex-row justify-end"},ge={class:"text-sm bg-slate-200/50 p-2 italic rounded-md w-auto"},he={class:"flex flex-row gap-2 text-sm justify-between gap-2"},ve={class:"font-semibold"},xe={class:"flex flex-row gap-2 text-sm justify-between gap-2"},we={class:"font-semibold"},ye={class:"flex justify-end space-x-4 mt-4"},nt=L({__name:"SellerAdThumbnailCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(t,{emit:P}){const j=k().NOTIFICATION_TYPES,{modals:m,notifications:a}=O(k()),_=J(),T=t,c=D(!1),y=async s=>{if(!s)return;const{callFunction:o}=V("postAd",{adId:s},c,void 0,void 0,()=>{a.value.show=!0,a.value.type=j.SUCCESS,a.value.message="Ad is live!"},u=>{a.value.show=!0,a.value.type=j.ERROR,a.value.message="Error while posting ad, please try again later"});await o()},n=async s=>{if(!s)return;const{callFunction:o}=V("takedownAd",{adId:s},c,void 0,void 0,()=>{a.value.show=!0,a.value.type=j.SUCCESS,a.value.message="Ad taken down!"},u=>{a.value.show=!0,a.value.type=j.ERROR,a.value.message="Error while taken down ad, please try again later"});await o()},d=async s=>{s&&(console.log("removeAd",s),m.value.confirmremove=!0,m.value.context={adId:s,__key:"ad"})},h=s=>{s&&_.push({name:"ad",params:{adId:s}})},$=async s=>{s&&(console.log("removeAd",s),m.value.editad=!0,m.value.context=ad)},v=s=>{s&&_.push({name:"messaging",params:{adId:s}})},g=s=>{const o=new Date,u=s.toDate(),x=o.getTime()-u.getTime(),C=Math.floor(x/1e3),M=Math.floor(C/60),S=Math.floor(M/60),N=Math.floor(S/24);return N>1?`${N} days old`:N==1?`${N} day old`:S>0?`${S} hours old`:M>0?`${M} minutes old`:C>0?`${C} seconds old`:"just now"},b=D(""),p=()=>{if(!T.ad.biddingEndTime)return"";const s=X(T.ad.biddingEndTime),o=Date.now(),u=s-o;if(u<0){b.value="Bidding has ended",clearInterval(q);return}let x=Math.floor(u/1e3%60),C=Math.floor(u/(1e3*60)%60),M=Math.floor(u/(1e3*60*60)%24),S=Math.floor(u/(1e3*60*60*24));b.value=`${S} days ${M} hours ${C} minutes ${x} seconds`},q=setInterval(p,1e3);return G(async()=>{p()}),(s,o)=>{const u=z("currency");return r(),w("div",oe,[c.value?(r(),w("div",ae,[f(F,{isLoading:c.value,class:"z-20"},null,8,["isLoading"])])):A("",!0),e("div",ne,[t.ad.images&&t.ad.images.length>0?(r(),B(U,{key:0,images:t.ad.resizedImages,classes:"h-32 sm:h-full object-cover"},null,8,["images"])):(r(),w("div",ie,ce))]),e("div",re,[e("h3",de,l(t.ad.variety),1),e("div",null,[e("div",ue,[e("p",fe,l(b.value),1)])]),e("div",me,[e("p",ge,l(i(I)(t.ad.createdAt)?g(t.ad.createdAt):s.gig.createdAt),1)]),e("div",he,[E((r(),w("p",ve,[W("/ton")])),[[u,t.ad.pricePerTon]])]),e("div",xe,[e("p",we,l(t.ad.tons)+" tons",1)]),e("div",ye,[t.showButtons?(r(),w(H,{key:0},[t.ad.live?A("",!0):(r(),B(i(ee),{key:0,class:"h-5 w-5 text-cyan-600",onClick:o[0]||(o[0]=x=>y(t.ad.id)),title:"Post ad'"})),t.ad.live?(r(),B(i(te),{key:1,class:"h-5 w-5 text-cyan-600",onClick:o[1]||(o[1]=x=>n(t.ad.id)),title:"Take down ad"})):A("",!0),f(i(K),{class:"h-5 w-5 text-cyan-600",onClick:o[2]||(o[2]=x=>v(t.ad.id)),title:"Contact"}),f(i(Q),{class:"h-5 w-5 text-cyan-600",onClick:o[3]||(o[3]=x=>d(t.ad.id)),title:"Remove"}),f(i(se),{class:"h-5 w-5 text-cyan-600",onClick:o[4]||(o[4]=x=>$(t.ad.id)),title:"Edit"})],64)):A("",!0),f(i(R),{class:"h-5 w-5 text-cyan-600",onClick:o[5]||(o[5]=x=>h(t.ad.id)),title:"View"})])])])}}}),$e={class:"bg-white rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 relative"},_e={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},be={class:"flex flex-row gap-4"},pe={class:"text-xl capitalize my-2 pl-4 truncate"},je={class:"flex flex-row justify-between p-4"},Te={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},Ae={class:"flex flex-row gap-1 pl-4 mb-2"},ke={class:"text-sm truncate italic text-slate-500"},Ce={class:"flex flex-row gap-4 p-4"},Me={class:"text-sm"},Se={class:"flex flex-col gap-2 sm:gap-4 divide-y sm:px-2 sm:px-4 mb-2"},Ne={class:"flex flex-col p-2"},De=e("p",{class:"text-xs"}," Salary Min. ",-1),Ee={class:"text-xl"},Be={class:"flex flex-col p-2"},Le=e("p",{class:"text-xs"}," Salary Max. ",-1),Oe={class:"text-xl"},ze={class:"w-full flex justify-end gap-4 pr-4 pb-4"},it=L({__name:"JobStoreCard",props:{job:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(t,{emit:P}){const{notifications:j,modals:m}=O(k());k().NOTIFICATION_TYPES;const a=D(!1),_=c=>{const y=new Date,n=c.toDate(),d=y.getTime()-n.getTime(),h=Math.floor(d/1e3),$=Math.floor(h/60),v=Math.floor($/60),g=Math.floor(v/24);return g>1?`${g} days ago`:g==1?`${g} day ago`:v>0?`${v} hours ago`:$>0?`${$} minutes ago`:h>0?`${h} seconds ago`:"just now"},T=c=>{c&&(m.value.viewjob=!0,m.value.context.__key=c)};return(c,y)=>{const n=z("currency");return r(),w("span",$e,[a.value?(r(),w("div",_e,[f(F,{isLoading:a.value,class:"z-20"},null,8,["isLoading"])])):A("",!0),e("div",be,[e("p",pe,l(t.job.title),1)]),e("div",je,[e("p",Te,l(i(I)(t.job.createdAt)?_(t.job.createdAt):t.job.createdAt),1)]),e("div",Ae,[f(i(Y),{class:"w-5 h-5"}),e("p",ke,l(t.job.location),1)]),e("div",Ce,[e("p",Me,l(t.job.description.substring(0,197)+"..."),1)]),e("div",Se,[e("div",Ne,[De,E(e("p",Ee,null,512),[[n,t.job.salaryMin]])]),e("div",Be,[Le,E(e("p",Oe,null,512),[[n,t.job.salaryMax]])])]),e("div",ze,[f(i(R),{onClick:y[0]||(y[0]=d=>T(t.job.jobId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})])])}}}),Fe={class:"bg-white rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 relative"},Ie={key:0,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-10 flex justify-center items-center"},Re={class:"flex flex-row border-top"},Pe={class:"text-xl capitalize my-2 pl-2 sm:pl-4 truncate"},Ve={class:"flex flex-row justify-between p-2 sm:p-4"},Ye={class:"text-sm bg-slate-200/50 p-2 italic rounded-md"},qe={class:"flex flex-row gap-2 mb-2 items-center p-2 sm:p-4"},Ue={class:"text-sm truncate italic text-slate-500"},Je={class:"flex flex-row gap-4 p-4"},Ge={class:"text-sm capitalize"},We={class:"grid gap-2 px-2 sm:px-4 mb-2 divide-y"},He={class:"flex flex-col p-2 justify-between"},Ke=e("p",{class:"text-xs italic"},"Number of milestones",-1),Qe={class:"text-sm font-bold"},Xe={class:"flex flex-col p-2 justify-between"},Ze=e("p",{class:"text-xs italic"},"Total",-1),et={class:"text-sm font-bold"},tt={class:"w-full flex justify-end gap-4 p-2"},lt=L({__name:"GigStoreCard",props:{gig:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(t,{emit:P}){const{notifications:j,modals:m}=O(k());k().NOTIFICATION_TYPES;const a=t,_=D(!1),T=Z(()=>!a.gig.milestones||a.gig.milestones.length===0?0:a.gig.milestones.reduce((n,d)=>n+d.price,0)),c=n=>{const d=new Date,h=n.toDate(),$=d.getTime()-h.getTime(),v=Math.floor($/1e3),g=Math.floor(v/60),b=Math.floor(g/60),p=Math.floor(b/24);return p>1?`${p} days ago`:p==1?`${p} day ago`:b>0?`${b} hours ago`:g>0?`${g} minutes ago`:v>0?`${v} seconds ago`:"just now"},y=n=>{n&&(m.value.viewgig=!0,m.value.context.__key=n)};return(n,d)=>{const h=z("currency");return r(),w("span",Fe,[_.value?(r(),w("div",Ie,[f(F,{isLoading:_.value,class:"z-20"},null,8,["isLoading"])])):A("",!0),e("div",Re,[e("p",Pe,l(t.gig.title),1)]),e("div",Ve,[e("p",Ye,l(i(I)(t.gig.createdAt)?c(t.gig.createdAt):t.gig.createdAt),1)]),e("div",qe,[f(i(Y),{class:"w-5 h-5 text-slate-500"}),e("p",Ue,l(t.gig.location),1)]),e("div",Je,[e("p",Ge,l(t.gig.description.substring(0,197)+"..."),1)]),e("div",We,[e("div",He,[Ke,e("p",Qe,l(t.gig.milestones.length),1)]),e("div",Xe,[Ze,E(e("p",et,null,512),[[h,T.value]])])]),e("div",tt,[f(i(R),{onClick:d[0]||(d[0]=$=>y(t.gig.gigId)),class:"w-5 h-5 cursor-pointer text-cyan-600"})])])}}});export{nt as _,it as a,lt as b};

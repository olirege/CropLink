import{d as k,h as _,S as ue,T as $e,U as he,H as T,V as se,W as me,o as O,X as ke,Y as Ce,Z as S,$ as ce,a0 as Ie,F as P,a1 as _e,a2 as xe,a3 as ve,a4 as Ae,a5 as ge,a6 as ne,a7 as F,a8 as oe,a9 as Se,aa as Le,ab as Z,ac as q,s as j,a as B,x as ee,c as X,e as o,f as c,g as a,k as J,q as A,l as b,L as H,z as M,N as D,O as U,P as W,Q as Y,B as z,p as L,G as je,u as te,t as $,y,ad as ae,R as le,m as w,i as I,n as ie,_ as E,ae as pe}from"./index-990be236.js";import{_ as Te}from"./SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-7518a980.js";import{_ as Pe}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-68084288.js";import{_ as Be}from"./BidCard.vue_vue_type_script_setup_true_lang-7bec768c.js";import"./ImageCarousel-235e652f.js";let Ee=k({props:{onFocus:{type:Function,required:!0}},setup(e){let r=_(!0);return()=>r.value?ue(he,{as:"button",type:"button",features:$e.Focusable,onFocus(n){n.preventDefault();let t,s=50;function l(){var v;if(s--<=0){t&&cancelAnimationFrame(t);return}if((v=e.onFocus)!=null&&v.call(e)){r.value=!1,cancelAnimationFrame(t);return}t=requestAnimationFrame(l)}t=requestAnimationFrame(l)}}):null}});var Re=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Re||{}),Oe=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Oe||{});let ye=Symbol("TabsContext");function de(e){let r=ve(ye,null);if(r===null){let n=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,de),n}return r}let fe=Symbol("TabsSSRContext"),Ne=k({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:r,attrs:n,emit:t}){var s;let l=_((s=e.selectedIndex)!=null?s:e.defaultIndex),v=_([]),g=_([]),m=T(()=>e.selectedIndex!==null),p=T(()=>m.value?e.selectedIndex:l.value);function i(h){var d;let x=se(u.tabs.value,S),R=se(u.panels.value,S),K=x.filter(V=>{var G;return!((G=S(V))!=null&&G.hasAttribute("disabled"))});if(h<0||h>x.length-1){let V=ne(l.value===null?0:Math.sign(h-l.value),{[-1]:()=>1,0:()=>ne(Math.sign(h),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),G=ne(V,{0:()=>x.indexOf(K[0]),1:()=>x.indexOf(K[K.length-1])});G!==-1&&(l.value=G),u.tabs.value=x,u.panels.value=R}else{let V=x.slice(0,h),G=[...x.slice(h),...V].find(we=>K.includes(we));if(!G)return;let re=(d=x.indexOf(G))!=null?d:u.selectedIndex.value;re===-1&&(re=u.selectedIndex.value),l.value=re,u.tabs.value=x,u.panels.value=R}}let u={selectedIndex:T(()=>{var h,d;return(d=(h=l.value)!=null?h:e.defaultIndex)!=null?d:null}),orientation:T(()=>e.vertical?"vertical":"horizontal"),activation:T(()=>e.manual?"manual":"auto"),tabs:v,panels:g,setSelectedIndex(h){p.value!==h&&t("change",h),m.value||i(h)},registerTab(h){var d;if(v.value.includes(h))return;let x=v.value[l.value];v.value.push(h),v.value=se(v.value,S);let R=(d=v.value.indexOf(x))!=null?d:l.value;R!==-1&&(l.value=R)},unregisterTab(h){let d=v.value.indexOf(h);d!==-1&&v.value.splice(d,1)},registerPanel(h){g.value.includes(h)||(g.value.push(h),g.value=se(g.value,S))},unregisterPanel(h){let d=g.value.indexOf(h);d!==-1&&g.value.splice(d,1)}};me(ye,u);let f=_({tabs:[],panels:[]}),C=_(!1);O(()=>{C.value=!0}),me(fe,T(()=>C.value?null:f.value));let N=T(()=>e.selectedIndex);return O(()=>{ke([N],()=>{var h;return i((h=e.selectedIndex)!=null?h:e.defaultIndex)},{immediate:!0})}),Ce(()=>{if(!m.value||p.value==null||u.tabs.value.length<=0)return;let h=se(u.tabs.value,S);h.some((d,x)=>S(u.tabs.value[x])!==S(d))&&u.setSelectedIndex(h.findIndex(d=>S(d)===S(u.tabs.value[p.value])))}),()=>{let h={selectedIndex:l.value};return ue(P,[v.value.length<=0&&ue(Ee,{onFocus:()=>{for(let d of v.value){let x=S(d);if((x==null?void 0:x.tabIndex)===0)return x.focus(),!0}return!1}}),ce({theirProps:{...n,...Ie(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:h,slots:r,attrs:n,name:"TabGroup"})])}}}),Ve=k({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:r,slots:n}){let t=de("TabList");return()=>{let s={selectedIndex:t.selectedIndex.value},l={role:"tablist","aria-orientation":t.orientation.value};return ce({ourProps:l,theirProps:e,slot:s,attrs:r,slots:n,name:"TabList"})}}}),be=k({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${_e()}`}},setup(e,{attrs:r,slots:n,expose:t}){let s=de("Tab"),l=_(null);t({el:l,$el:l}),O(()=>s.registerTab(l)),xe(()=>s.unregisterTab(l));let v=ve(fe),g=T(()=>{if(v.value){let d=v.value.tabs.indexOf(e.id);return d===-1?v.value.tabs.push(e.id)-1:d}return-1}),m=T(()=>{let d=s.tabs.value.indexOf(l);return d===-1?g.value:d}),p=T(()=>m.value===s.selectedIndex.value);function i(d){var x;let R=d();if(R===oe.Success&&s.activation.value==="auto"){let K=(x=Le(l))==null?void 0:x.activeElement,V=s.tabs.value.findIndex(G=>S(G)===K);V!==-1&&s.setSelectedIndex(V)}return R}function u(d){let x=s.tabs.value.map(R=>S(R)).filter(Boolean);if(d.key===F.Space||d.key===F.Enter){d.preventDefault(),d.stopPropagation(),s.setSelectedIndex(m.value);return}switch(d.key){case F.Home:case F.PageUp:return d.preventDefault(),d.stopPropagation(),i(()=>Z(x,q.First));case F.End:case F.PageDown:return d.preventDefault(),d.stopPropagation(),i(()=>Z(x,q.Last))}if(i(()=>ne(s.orientation.value,{vertical(){return d.key===F.ArrowUp?Z(x,q.Previous|q.WrapAround):d.key===F.ArrowDown?Z(x,q.Next|q.WrapAround):oe.Error},horizontal(){return d.key===F.ArrowLeft?Z(x,q.Previous|q.WrapAround):d.key===F.ArrowRight?Z(x,q.Next|q.WrapAround):oe.Error}}))===oe.Success)return d.preventDefault()}let f=_(!1);function C(){var d;f.value||(f.value=!0,!e.disabled&&((d=S(l))==null||d.focus({preventScroll:!0}),s.setSelectedIndex(m.value),Se(()=>{f.value=!1})))}function N(d){d.preventDefault()}let h=Ae(T(()=>({as:e.as,type:r.type})),l);return()=>{var d;let x={selected:p.value},{id:R,...K}=e,V={ref:l,onKeydown:u,onMousedown:N,onClick:C,id:R,role:"tab",type:h.value,"aria-controls":(d=S(s.panels.value[m.value]))==null?void 0:d.id,"aria-selected":p.value,tabIndex:p.value?0:-1,disabled:e.disabled?!0:void 0};return ce({ourProps:V,theirProps:K,slot:x,attrs:r,slots:n,name:"Tab"})}}}),Q=k({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${_e()}`},tabIndex:{type:Number,default:0}},setup(e,{attrs:r,slots:n,expose:t}){let s=de("TabPanel"),l=_(null);t({el:l,$el:l}),O(()=>s.registerPanel(l)),xe(()=>s.unregisterPanel(l));let v=ve(fe),g=T(()=>{if(v.value){let i=v.value.panels.indexOf(e.id);return i===-1?v.value.panels.push(e.id)-1:i}return-1}),m=T(()=>{let i=s.panels.value.indexOf(l);return i===-1?g.value:i}),p=T(()=>m.value===s.selectedIndex.value);return()=>{var i;let u={selected:p.value},{id:f,tabIndex:C,...N}=e,h={ref:l,id:f,role:"tabpanel","aria-labelledby":(i=S(s.tabs.value[m.value]))==null?void 0:i.id,tabIndex:p.value?C:-1};return!p.value&&e.unmount&&!e.static?ue(he,{as:"span",...h}):ce({ourProps:h,theirProps:N,slot:u,attrs:r,slots:n,features:ge.Static|ge.RenderStrategy,visible:p.value,name:"TabPanel"})}}});const Ge={key:0,class:"px-4 grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},Fe={key:1},qe=a("div",null,"No ads found",-1),Je=[qe],Me={key:2},De=k({__name:"SellerContentComponent",setup(e){const{user:r}=j(B()),{modals:n}=j(ee()),t=_([]),s=_(!1);let l;const v=async()=>{s.value=!0,l=M(D(Y(z,"ads"),W("uid","==",r.value.uid),U("createdAt","desc")),m=>{t.value.docs=m.docs.map(p=>({...p.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1};O(async()=>{await v()}),X(()=>{l&&l()});const g=()=>{n.value.addad=!0};return(m,p)=>(o(),c(P,null,[a("button",{onClick:g,class:"mt-2 mb-2 w-full inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},"Add an ad"),t.value.docs&&t.value.docs.length>0&&!s.value?(o(),c("span",Ge,[(o(!0),c(P,null,J(t.value.docs,(i,u)=>(o(),A(Te,{key:u,ad:i},null,8,["ad"]))),128))])):t.value.docs&&t.value.docs.length==0&&!s.value?(o(),c("div",Fe,Je)):(o(),c("div",Me,[b(H,{isLoading:s.value},null,8,["isLoading"])]))],64))}}),Ue={key:0,class:"grid grid-flow-col gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},We={key:1},Ye=a("div",null,"No ads found",-1),ze=[Ye],He={key:2},Ke=k({__name:"BuyerContentComponent",setup(e){const{user:r}=j(B()),{modals:n}=j(ee()),t=_([]),s=_(!1);let l;const v=async()=>{s.value=!0,l=M(D(Y(z,"ads"),W("uid","==",r.value.uid),U("createdAt","desc")),m=>{t.value.docs=m.docs.map(p=>({...p.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1};O(async()=>{await v()}),X(()=>{l&&l()});const g=()=>{n.value.addad=!0};return(m,p)=>(o(),c(P,null,[a("button",{onClick:g,class:"mt-2 mb-2 w-full inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},"Add an ad"),t.value.docs&&t.value.docs.length>0&&!s.value?(o(),c("span",Ue,[(o(!0),c(P,null,J(t.value.docs,(i,u)=>(o(),A(Pe,{key:u,ad:i},null,8,["ad"]))),128))])):L("",!0),t.value.docs&&t.value.docs.length==0&&!s.value?(o(),c("div",We,ze)):(o(),c("div",He,[b(H,{isLoading:s.value},null,8,["isLoading"])]))],64))}}),Qe={key:0,class:"grid grid-flow-row space-y-4"},Xe={key:1},Ze={key:2},et=a("p",null,"No bids yet",-1),tt=[et],st=k({__name:"BidContentComponent",setup(e){const{user:r}=j(B()),n=_([]),t=_(!1),s=async()=>{t.value=!0,n.value=await je("bids","buyerId","==",r.value.uid,["createdAt","desc"],10),t.value=!1};return O(async()=>{await s()}),(l,v)=>n.value.docs&&n.value.docs.length>0&&!t.value?(o(),c("span",Qe,[(o(!0),c(P,null,J(n.value.docs,g=>(o(),A(Be,{bid:g},null,8,["bid"]))),256))])):t.value?(o(),c("div",Xe,[b(H,{isLoading:t.value},null,8,["isLoading"])])):(o(),c("span",Ze,tt))}}),at={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},lt={key:0,class:"flex flex-row space-x-4"},ot=a("p",{class:"text-sm"},[a("span",{class:"text-green-500"},"LIVE")],-1),nt=[ot],ut={class:"flex flex-row space-x-4"},it=a("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),ct={class:"text-sm"},dt={class:"flex flex-row space-x-4"},rt=a("label",{class:"block text-sm font-medium text-gray-700"},"title",-1),vt={class:"text-sm"},ft={class:"flex flex-row space-x-4"},mt=a("label",{class:"block text-sm font-medium text-gray-700"},"description",-1),gt={class:"text-sm"},pt={class:"flex flex-row space-x-4"},bt=a("label",{class:"block text-sm font-medium text-gray-700"},"location",-1),ht={class:"text-sm"},_t={key:1,class:"w-full flex justify-end gap-4"},xt=k({__name:"GigCard",props:{gig:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(e,{emit:r}){const n=r,t=te(),s=_(!1),l=async i=>{s.value=!0,await B().postGigPostAd(i),s.value=!1},v=async i=>{s.value=!0,await B().takedownGigPostAd(i),s.value=!1},g=i=>{t.push({name:"gig",params:{gigId:i}})},m=i=>{n("edit",i)},p=i=>{n("remove",i)};return(i,u)=>(o(),c("span",at,[e.gig.live?(o(),c("div",lt,nt)):L("",!0),a("div",ut,[it,a("p",ct,$(y(ae)(e.gig.createdAt)?y(le)(e.gig.createdAt):e.gig.createdAt),1)]),a("div",dt,[rt,a("p",vt,$(e.gig.title),1)]),a("div",ft,[mt,a("p",gt,$(e.gig.description),1)]),a("div",pt,[bt,a("p",ht,$(e.gig.location),1)]),e.showButtons?(o(),c("div",_t,[e.gig.live?L("",!0):(o(),A(ie,{key:0,isLoading:s.value,onClick:u[0]||(u[0]=f=>l(e.gig.gigId)),classes:"w-20"},{default:w(()=>[I("Post")]),_:1},8,["isLoading"])),e.gig.live?(o(),A(ie,{key:1,isLoading:s.value,onClick:u[1]||(u[1]=f=>v(e.gig.gigId)),classes:"w-20"},{default:w(()=>[I("Takedown")]),_:1},8,["isLoading"])):L("",!0),b(E,{onClick:u[2]||(u[2]=f=>p(e.gig.gigId)),classes:"w-20"},{default:w(()=>[I("Remove")]),_:1}),b(E,{onClick:u[3]||(u[3]=f=>m(e.gig.gigId)),classes:"w-20"},{default:w(()=>[I("Edit")]),_:1}),b(E,{onClick:u[4]||(u[4]=f=>g(e.gig.gigId)),classes:"w-20"},{default:w(()=>[I("View")]),_:1})])):L("",!0)]))}}),yt={key:0,class:"grid grid-flow-row space-y-4"},wt={key:1},$t=a("p",null,"No gig posts",-1),kt=[$t],Ct={key:2},It=k({__name:"GigsContentComponent",setup(e){const{user:r}=j(B()),{modals:n}=j(ee()),t=_([]),s=_(!1);let l;const v=async()=>{s.value=!0,l=M(D(Y(z,"gigs"),W("posterId","==",r.value.uid),U("createdAt","desc")),i=>{t.value.docs=i.docs.map(u=>({...u.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1},g=()=>{n.value.addgig=!0},m=i=>{n.value.confirmremove=!0,n.value.context={__key:"gig",gigId:i}},p=i=>{n.value.editgig=!0;const u=t.value.docs.find(f=>f.gigId==i);n.value.context=u};return O(async()=>{await v()}),X(()=>{l&&l()}),(i,u)=>(o(),c("span",null,[b(E,{classes:"w-full",onClick:g},{default:w(()=>[I(" Create a gig post ")]),_:1}),t.value.docs&&t.value.docs.length>0&&!s.value?(o(),c("span",yt,[(o(!0),c(P,null,J(t.value.docs,(f,C)=>(o(),A(xt,{key:C,gig:f,onEdit:p,onRemove:m},null,8,["gig"]))),128))])):t.value.docs&&t.value.docs.length==0&&!s.value?(o(),c("span",wt,kt)):(o(),c("div",Ct,[b(H,{isLoading:s.value},null,8,["isLoading"])]))]))}}),At={class:"relative bg-white flex flex-col p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},St=["src"],Lt={key:1},jt={key:2,class:"w-full flex justify-end gap-4"},Tt=k({__name:"ApplicationCard",props:{application:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(e,{emit:r}){const{messaging:n}=j(ee()),t=r;te();const s=e,l=_(!0),v=()=>{l.value=!1,console.log("loaded")},g=u=>{t("remove",u)},m=_(!1),p=()=>{m.value=!m.value},i=async()=>{n.value.show=!0,n.value.to={id:s.application.applicantId,name:s.application.name}};return(u,f)=>(o(),c("span",At,[a("p",null,$(y(ae)(e.application.createdAt)?y(le)(e.application.createdAt):e.application.createdAt),1),a("p",null,$(e.application.parentType),1),a("p",null,$(e.application.name),1),a("p",null,$(e.application.email),1),a("p",null,$(e.application.phone),1),m.value?(o(),c("iframe",{key:0,ref:"iframeRef",src:e.application.resume,width:"100%",height:"500px",onLoad:v},null,40,St)):L("",!0),m.value&&l.value?(o(),c("div",Lt,[b(H,{isLoading:l.value},null,8,["isLoading"])])):L("",!0),e.showButtons?(o(),c("div",jt,[b(E,{onClick:f[0]||(f[0]=C=>g(e.application.applicationId)),classes:"w-20"},{default:w(()=>[I("Remove")]),_:1}),b(E,{onClick:f[1]||(f[1]=C=>p()),classes:"w-30 truncate"},{default:w(()=>[I("View Resume")]),_:1}),b(E,{onClick:f[2]||(f[2]=C=>i()),classes:"w-20"},{default:w(()=>[I("Message")]),_:1})])):L("",!0)]))}}),Pt={key:0,class:"grid grid-flow-row space-y-4"},Bt={key:1},Et=a("p",null,"No application posts",-1),Rt=[Et],Ot={key:2},Nt=k({__name:"ApplicationsContentComponent",setup(e){const{user:r}=j(B()),{modals:n}=j(ee()),t=_([]),s=_(!1);let l;const v=async()=>{s.value=!0,l=M(D(Y(z,"applications"),W("ownerId","==",r.value.uid),U("createdAt","desc")),m=>{t.value.docs=m.docs.map(p=>({...p.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1},g=m=>{n.value.confirmremove=!0,n.value.context={__key:"application",applicationId:m}};return O(async()=>{await v()}),X(()=>{l&&l()}),(m,p)=>(o(),c("span",null,[t.value.docs&&t.value.docs.length>0&&!s.value?(o(),c("span",Pt,[(o(!0),c(P,null,J(t.value.docs,(i,u)=>(o(),A(Tt,{key:u,application:i,onRemove:g},null,8,["application"]))),128))])):t.value.docs&&t.value.docs.length==0&&!s.value?(o(),c("span",Bt,Rt)):(o(),c("div",Ot,[b(H,{isLoading:s.value},null,8,["isLoading"])]))]))}}),Vt={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},Gt={class:"flex flex-row space-x-4"},Ft=a("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),qt={class:"text-sm"},Jt={class:"flex flex-row space-x-4"},Mt=a("label",{class:"block text-sm font-medium text-gray-700"},"Ad",-1),Dt={class:"text-sm"},Ut={class:"flex flex-row space-x-4"},Wt=a("label",{class:"block text-sm font-medium text-gray-700"},"buyerId",-1),Yt={class:"text-sm"},zt={class:"flex flex-row space-x-4"},Ht=a("label",{class:"block text-sm font-medium text-gray-700"},"sellerId",-1),Kt={class:"text-sm"},Qt={class:"w-full flex justify-end gap-4"},Xt=k({__name:"ContractCard",props:{contract:{type:Object,required:!0}},setup(e){const r=te(),n=t=>{r.push({name:"messaging",params:{adId:t}})};return(t,s)=>(o(),c("span",Vt,[a("div",Gt,[Ft,a("p",qt,$(y(ae)(e.contract.createdAt)?y(le)(e.contract.createdAt):e.contract.createdAt),1)]),a("div",Jt,[Mt,a("p",Dt,$(e.contract.adId.substring(0,5)),1)]),a("div",Ut,[Wt,a("p",Yt,$(e.contract.buyerId.substring(0,5)),1)]),a("div",zt,[Ht,a("p",Kt,$(e.contract.sellerId.substring(0,5)),1)]),a("div",Qt,[b(E,{onClick:s[0]||(s[0]=l=>n(e.contract.adId)),classes:"w-20"},{default:w(()=>[I("View")]),_:1})])]))}}),Zt={key:0,class:"grid grid-flow-row space-y-4"},es={key:1},ts=a("p",null,"No contracts yet",-1),ss=[ts],as={key:2},ls=k({__name:"ContractsContentComponent",setup(e){const{user:r}=j(B()),n=_([]),t=_(!1);let s=null,l=null,v=[],g=[];const m=async()=>{s=M(D(Y(z,"contracts"),W("sellerId","==",r.value.uid),U("createdAt","desc")),u=>{t.value=!0,g=u.docs.map(f=>({...f.data()})),p(),t.value=!1}),l=M(D(Y(z,"contracts"),W("buyerId","==",r.value.uid),U("createdAt","desc")),u=>{t.value=!0,v=u.docs.map(f=>({...f.data()})),p(),t.value=!1})},p=()=>{n.value.docs=[...v,...g]},i=()=>{s&&s(),l&&l()};return O(async()=>{await m()}),X(()=>{i()}),(u,f)=>n.value.docs&&n.value.docs.length>0&&!t.value?(o(),c("span",Zt,[(o(!0),c(P,null,J(n.value.docs,(C,N)=>(o(),A(Xt,{key:N,contract:C},null,8,["contract"]))),128))])):n.value.docs&&n.value.docs.length==0&&!t.value?(o(),c("div",es,ss)):(o(),c("span",as,[b(H,{isLoading:t.value},null,8,["isLoading"])]))}}),os={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},ns={class:"flex flex-row space-x-4"},us=a("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),is={class:"text-sm"},cs={class:"flex flex-row space-x-4"},ds=a("label",{class:"block text-sm font-medium text-gray-700"},"Ad",-1),rs={class:"text-sm"},vs={class:"flex flex-row space-x-4"},fs=a("label",{class:"block text-sm font-medium text-gray-700"},"buyerId",-1),ms={class:"text-sm"},gs={class:"flex flex-row space-x-4"},ps=a("label",{class:"block text-sm font-medium text-gray-700"},"sellerId",-1),bs={class:"text-sm"},hs={class:"w-full flex justify-end gap-4"},_s=k({__name:"ChatRoomCard",props:{chatroom:{type:Object,required:!0}},setup(e){const r=te(),n=t=>{r.push({name:"messaging",params:{adId:t}})};return(t,s)=>(o(),c("span",os,[a("div",ns,[us,a("p",is,$(y(ae)(e.chatroom.createdAt)?y(le)(e.chatroom.createdAt):e.chatroom.createdAt),1)]),a("div",cs,[ds,a("p",rs,$(e.chatroom.adId.substring(0,5)),1)]),a("div",vs,[fs,a("p",ms,$(e.chatroom.buyerId.substring(0,5)),1)]),a("div",gs,[ps,a("p",bs,$(e.chatroom.sellerId.substring(0,5)),1)]),a("div",hs,[b(E,{onClick:s[0]||(s[0]=l=>n(e.chatroom.adId)),classes:"w-20"},{default:w(()=>[I("View")]),_:1})])]))}}),xs=a("img",{src:"",class:"h-12 w-12 rounded-full bg-slate-400"},null,-1),ys={class:"flex flex-row space-x-4 items-center"},ws={class:"block text-sm font-medium text-gray-700"},$s={class:"block text-sm text-gray-500 truncate italic"},ks=k({__name:"ChatRoomThumbnailCard",props:{chatroom:{type:Object,required:!0}},setup(e){const r=te(),n=t=>{r.push({name:"messaging",params:{adId:t}})};return(t,s)=>(o(),c("span",{class:"py-2 bg-white flex flex-row items-center gap-4 hover:bg-slate-200/50 transition duration-300 first:border-none border-t-2 last:border-b-2",onClick:s[0]||(s[0]=l=>n(e.chatroom.adId))},[xs,a("div",ys,[a("p",ws,$(e.chatroom.lastSender?`${e.chatroom.lastSender.substring(0,5)} says:`:""),1),a("p",$s,$(e.chatroom.lastMessage?e.chatroom.lastMessage:""),1)])]))}}),Cs={key:0,class:"grid grid-flow-row space-y-4"},Is={key:1,class:"flex flex-col overflow-y-auto w-full flex-1 max-h-72"},As={key:1},Ss=k({__name:"ChatRoomsContentComponent",props:{withThumbnails:{type:Boolean,default:!1}},setup(e){const{user:r}=j(B()),n=_([]),t=_(!1);let s=null,l=null,v=[],g=[];const m=async()=>{s=M(D(Y(z,"chatrooms"),W("sellerId","==",r.value.uid),U("createdAt","desc")),u=>{t.value=!0,g=u.docs.map(f=>({...f.data()})),p(),t.value=!1}),l=M(D(Y(z,"chatrooms"),W("buyerId","==",r.value.uid),U("createdAt","desc")),u=>{t.value=!0,v=u.docs.map(f=>({...f.data()})),p(),t.value=!1})},p=()=>{n.value.docs=[...v,...g]},i=()=>{s&&s(),l&&l()};return O(async()=>{await m()}),X(()=>{i()}),(u,f)=>n.value.docs&&n.value.docs.length>0&&!t.value?(o(),c(P,{key:0},[e.withThumbnails?(o(),c("div",Is,[(o(!0),c(P,null,J(n.value.docs,(C,N)=>(o(),A(ks,{key:N,chatroom:C},null,8,["chatroom"]))),128))])):(o(),c("div",Cs,[(o(!0),c(P,null,J(n.value.docs,(C,N)=>(o(),A(_s,{key:N,chatroom:C},null,8,["chatroom"]))),128))]))],64)):n.value.docs&&n.value.docs.length==0&&!t.value?(o(),c("p",As,"No conversations yet")):(o(),A(H,{key:2,isLoading:t.value},null,8,["isLoading"]))}}),Ls={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4"},js={key:0,class:"flex flex-row space-x-4"},Ts=a("p",{class:"text-sm"},[a("span",{class:"text-green-500"},"LIVE")],-1),Ps=[Ts],Bs={class:"flex flex-row space-x-4"},Es=a("label",{class:"block text-sm font-medium text-gray-700"},"createdAt",-1),Rs={class:"text-sm"},Os={class:"flex flex-row space-x-4"},Ns=a("label",{class:"block text-sm font-medium text-gray-700"},"title",-1),Vs={class:"text-sm"},Gs={class:"flex flex-row space-x-4"},Fs=a("label",{class:"block text-sm font-medium text-gray-700"},"description",-1),qs={class:"text-sm"},Js={class:"flex flex-row space-x-4"},Ms=a("label",{class:"block text-sm font-medium text-gray-700"},"location",-1),Ds={class:"text-sm"},Us={class:"flex flex-row space-x-4"},Ws=a("label",{class:"block text-sm font-medium text-gray-700"},"salary",-1),Ys={class:"text-sm"},zs={key:1,class:"w-full flex justify-end gap-4"},Hs=k({__name:"JobCard",props:{job:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit","remove"],setup(e,{emit:r}){const n=r,t=te(),s=_(!1),l=async i=>{s.value=!0,await B().postJobPostAd(i),s.value=!1},v=async i=>{s.value=!0,await B().takedownJobPostAd(i),s.value=!1},g=i=>{t.push({name:"job",params:{jobId:i}})},m=i=>{n("edit",i)},p=i=>{n("remove",i)};return(i,u)=>(o(),c("span",Ls,[e.job.live?(o(),c("div",js,Ps)):L("",!0),a("div",Bs,[Es,a("p",Rs,$(y(ae)(e.job.createdAt)?y(le)(e.job.createdAt):e.job.createdAt),1)]),a("div",Os,[Ns,a("p",Vs,$(e.job.title),1)]),a("div",Gs,[Fs,a("p",qs,$(e.job.description),1)]),a("div",Js,[Ms,a("p",Ds,$(e.job.location),1)]),a("div",Us,[Ws,a("p",Ys,$(e.job.salary),1)]),e.showButtons?(o(),c("div",zs,[e.job.live?L("",!0):(o(),A(ie,{key:0,isLoading:s.value,onClick:u[0]||(u[0]=f=>l(e.job.jobId)),classes:"w-20"},{default:w(()=>[I("Post")]),_:1},8,["isLoading"])),e.job.live?(o(),A(ie,{key:1,isLoading:s.value,onClick:u[1]||(u[1]=f=>v(e.job.jobId)),classes:"w-20"},{default:w(()=>[I("Takedown")]),_:1},8,["isLoading"])):L("",!0),b(E,{onClick:u[2]||(u[2]=f=>p(e.job.jobId)),classes:"w-20"},{default:w(()=>[I("Remove")]),_:1}),b(E,{onClick:u[3]||(u[3]=f=>m(e.job.jobId)),classes:"w-20"},{default:w(()=>[I("Edit")]),_:1}),b(E,{onClick:u[4]||(u[4]=f=>g(e.job.jobId)),classes:"w-20"},{default:w(()=>[I("View")]),_:1})])):L("",!0)]))}}),Ks={key:0,class:"grid grid-flow-row space-y-4"},Qs={key:1},Xs=a("p",null,"No job posts",-1),Zs=[Xs],ea={key:2},ta=k({__name:"JobsContentComponent",setup(e){const{user:r}=j(B()),{modals:n}=j(ee()),t=_([]),s=_(!1);let l;const v=async()=>{s.value=!0,l=M(D(Y(z,"jobs"),W("posterId","==",r.value.uid),U("createdAt","desc")),i=>{t.value.docs=i.docs.map(u=>({...u.data()})),t.value.lastVisible=t.value.docs&&t.value.docs.length>0?t.value.docs[t.value.docs.length-1]:null}),s.value=!1},g=()=>{n.value.addjob=!0},m=i=>{n.value.confirmremove=!0,n.value.context={__key:"job",jobId:i}},p=i=>{n.value.editjob=!0;const u=t.value.docs.find(f=>f.jobId==i);n.value.context=u};return O(async()=>{await v()}),X(()=>{l&&l()}),(i,u)=>(o(),c("span",null,[b(E,{classes:"w-full",onClick:g},{default:w(()=>[I(" Create a job post ")]),_:1}),t.value.docs&&t.value.docs.length>0&&!s.value?(o(),c("span",Ks,[(o(!0),c(P,null,J(t.value.docs,(f,C)=>(o(),A(Hs,{key:C,job:f,onEdit:p,onRemove:m},null,8,["job"]))),128))])):t.value.docs&&t.value.docs.length==0&&!s.value?(o(),c("span",Qs,Zs)):(o(),c("div",ea,[b(H,{isLoading:s.value},null,8,["isLoading"])]))]))}}),sa={class:"w-full px-2 py-3 sm:px-0"},aa={key:0,class:"w-full"},ca=k({__name:"UserBoardView",setup(e){const{profile:r}=j(B()),n=B().ACCOUNT_TYPES,t=_(0),s={ADS:"Ads",CONTRACTS:"Contracts",MESSAGES:"Messages",JOBS:"Job posts",GIGS:"Gigs",APPLICATIONS:"Applications"};return(l,v)=>(o(),c("div",sa,[y(r)?(o(),c("div",aa,[b(y(Ne),{class:"w-full",as:"div"},{default:w(()=>[b(y(Ve),{class:"w-full flex space-x-1 rounded-xl bg-blue-900/20 p-1"},{default:w(()=>[(o(),c(P,null,J(s,(g,m,p)=>b(y(be),{as:"template",key:m,onClick:i=>t.value=p},{default:w(({selected:i})=>[a("button",{class:pe(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",i?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},$(g),3)]),_:2},1032,["onClick"])),64)),y(r).accountType===y(n).BUYER?(o(),A(y(be),{key:0,as:"template",onClick:v[0]||(v[0]=g=>t.value=4)},{default:w(({selected:g})=>[a("button",{class:pe(["w-full rounded-lg py-2.5 text-sm font-medium leading-5 text-blue-700","ring-white/60 ring-offset-2 ring-offset-blue-400 focus:outline-none focus:ring-2",g?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])}," Bids ",2)]),_:1})):L("",!0)]),_:1}),b(y(Q),null,{default:w(()=>[y(r).accountType==y(n).SELLER?(o(),A(De,{key:0})):L("",!0),y(r).accountType==y(n).BUYER?(o(),A(Ke,{key:1})):L("",!0)]),_:1}),b(y(Q),null,{default:w(()=>[b(ls)]),_:1}),b(y(Q),null,{default:w(()=>[b(Ss)]),_:1}),b(y(Q),null,{default:w(()=>[b(ta)]),_:1}),b(y(Q),null,{default:w(()=>[b(It)]),_:1}),b(y(Q),null,{default:w(()=>[b(Nt)]),_:1}),b(y(Q),null,{default:w(()=>[b(st)]),_:1})]),_:1})])):L("",!0)]))}});export{ca as default};

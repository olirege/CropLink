import{e as s,f as t,g as e,d as O,a as F,h as u,s as D,l as U,o as Y,X as q,J as w,B as T,t as c,m as x,z as y,x as i,F as h,i as L,k as p,L as M,q as W,Y as X,y as k}from"./index-8dd656b9.js";import{a as K,b as H,_ as Q}from"./GigStoreCard.vue_vue_type_script_setup_true_lang-c97ae272.js";import{_ as Z}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-92391409.js";import{r as ee}from"./CheckCircleIcon-b4f5dc26.js";import"./ImageCarousel-90e0a058.js";import"./PencilIcon-404dff3f.js";function se(N,S){return s(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])}const te={class:"p-5 flex flex-col gap-4"},le={class:"shadow border rounded-md"},oe={id:"seller-ad-banner",class:"w-full h-64 relative bg-gradient-to-r from-white to-sky-500/40 rounded-t-md"},ae=["src"],ie={key:1,class:"bg-slate-500 w-full h-48 animate-pulse"},ne={class:"absolute bottom-5 left-20 flex flex-row"},ce=["src"],re={key:1,class:"z-10 border-4 border-white rounded-full w-32 h-32 bg-indigo-500 animate-pulse"},de={class:"relative ml-5 p-1"},ue={class:"absolute bottom-1 text-xl font-bold truncate flex flex-row"},_e={class:"absolute bottom-5 right-20"},he=e("p",null,"Contact",-1),pe={key:0,class:"flex flex-col gap-2 p-4 bg-gradient-to-r from-white to-sky-500/40 rounded-b-md"},ve={class:"flex flex-row items-center gap-2"},ge={key:0,class:"flex flex-row gap-1 items-center"},fe=e("p",null,"Verified",-1),xe={class:"p-1 px-2 bg-white"},me={class:"p-1 px-2 bg-white"},be={class:"p-1 px-2 bg-white"},we={class:"flex flex-row gap-2 italic"},ye={class:"border rounded-md shadow"},ke={class:"grid grid-cols-2 gap-4"},Se={class:"p-4"},je={key:0,class:"border-b p-4 flex flex-row gap-2 divide-x"},Ce={class:"flex flex-row gap-2 px-4 py-2"},ze={class:"font-bold"},Le={class:"text-6xl"},Me={class:"flex flex-col justify-end"},Ne={class:"font-bold"},Ae=e("span",{class:"text-xs text-slate-400"},"reviews",-1),Pe={key:1,class:"font-bold"},Re={class:"flex flex-col justify-center items-center px-4 py-2"},Te=e("p",{class:"italic text-sm"},"average response rate",-1),Ve={class:"font-bold"},Be={class:"grid grid-cols-4 gap-2 w-full divide-x py-4"},Ge={class:"p-4"},Ie=e("p",{class:"text-xl font-bold"},"Machinery",-1),$e={class:"list-disc pl-6"},Ee={class:"text-xs italic"},Je={class:"p-4"},Oe=e("p",{class:"text-xl mb-2 font-bold"},"Plants",-1),Fe={class:"flex flex-row gap-1 items-center justify-between w-full space-y-1"},De={class:"text-xs truncate ..."},Ue={class:"text-xs"},Ye={class:"p-4 space-y-2"},qe=e("p",{class:"text-xl mb-2 font-bold"},"Shipping",-1),We={class:"flex flex-col"},Xe={class:"text-xs italic pl-2"},Ke={class:"text-xs italic pl-2"},He={class:"p-4"},Qe=e("p",{class:"text-xl mb-2 font-bold"},"Capabilities",-1),Ze={class:"text-xs inline space-x-2"},es={class:"grid grid-cols-3 p-4"},ss=["src"],ts=["src"],ls=["src"],os={key:0,class:"border rounded-md shadow p-5"},as=e("div",{class:"flex items-center justify-start h-12 bg-gradient-to-r from-sky-500/40 to-white rounded-t-md"},[e("h2",{class:"pl-2 text-white text-2xl font-bold p-1"},"Work Opportunities")],-1),is={class:"flex flex-col gap-6 w-full p-2"},ns={key:0,class:"relative flex flex-col h-full w-full h-96"},cs=e("h2",{class:"text-xl font-bold italic my-2 pl-2"},"Job Openings",-1),rs={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},ds={key:1},us=e("p",{class:"text-center"},"No jobs to show",-1),_s=[us],hs=e("p",{class:"text-sm underline cursor-pointer"},"View more jobs",-1),ps=[hs],vs={key:3,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-8 flex justify-center items-center min-h-96"},gs={key:1,class:"flex flex-col h-full w-full relative h-96"},fs=e("h2",{class:"text-xl font-bold italic my-2 pl-2"},"Small Gigs",-1),xs={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},ms={key:1},bs=e("p",{class:"text-center"},"No gigs to show",-1),ws=[bs],ys=e("p",{class:"text-sm underline cursor-pointer"},"View more gigs",-1),ks=[ys],Ss={key:3,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-8 flex justify-center items-center min-h-96"},js={key:1,class:"p-5 border rounded-md shadow"},Cs=e("div",{class:"flex items-center justify-start h-12 bg-gradient-to-r from-sky-500/40 to-white rounded-t-md"},[e("h2",{class:"pl-2 text-white text-2xl font-bold p-1"},"Product listings")],-1),zs={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},Ls={key:1},Ms=e("p",{class:"text-center"},"No ads to show",-1),Ns=[Ms],As={key:2},Is=O({__name:"SellerAdsView",props:{id:{type:String,required:!0},sellerName:{type:String,required:!0}},setup(N){const S=F().ACCOUNT_TYPES,m=u([]),r=u([]),d=u([]),b=u(!1),v=u(!1),g=u(!1),f=u(!1),j=u(2),C=u(2),_=N,{messaging:A}=D(U()),V=async()=>{A.value.show=!0,A.value.to={id:_.id,name:_.sellerName}},l=u({name:"",profilePicResized:"",bannerPic:""}),B=async()=>{g.value=!0;const o=d.value[d.value.length-1],n=await w("gigs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],10,o);d.value=[...d.value,...n.docs],g.value=!1,C.value=C.value+10},G=async()=>{v.value=!0;const o=r.value[r.value.length-1],n=await w("jobs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],10,o);r.value=[...r.value,...n.docs],v.value=!1,j.value=j.value+10};Y(async()=>{f.value=!0,b.value=!0,v.value=!0,g.value=!0;const o=[];o.push(q("ads",_.id).then(n=>{l.value=n,f.value=!1})),o.push(w("ads","live","==",!0,"uid","==",_.id,["postedOn","desc"],25).then(n=>{m.value=n.docs,b.value=!1})),o.push(w("jobs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],2).then(n=>{r.value=n.docs,v.value=!1})),o.push(w("gigs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],2).then(n=>{d.value=n.docs,g.value=!1})),o.push(J(_.id)),await Promise.all(o)});const I=T(()=>{if(!l.value||!l.value.createdAt)return;const o=new Date,n=new Date(l.value.createdAt.toDate().toString()),a=o.getTime()-n.getTime(),P=Math.floor(a/(1e3*60*60*24)),z=Math.floor(P/31),R=Math.floor(z/12);return R>0?`${R} yrs`:z>0?`${z} mths`:`${P} days`}),$=T(()=>{if(!l.value||!l.value.rating)return;const o=l.value.rating;if(o==0)return"No ratings yet";if(o>0&&o<1)return"Poor";if(o>=1&&o<2)return"Fair";if(o>=2&&o<3)return"Average";if(o>=3&&o<4)return"Good";if(o>=4&&o<5)return"Excellent"}),E=u(!1),J=async o=>{if(!o)return;const{callFunction:n}=W("increaseStoreViewCount",{adId:o},E);await n()};return(o,n)=>(s(),t("div",te,[e("span",le,[e("div",oe,[f.value?(s(),t("div",ie)):(s(),t("img",{key:0,src:l.value.storeBannerPic,class:"bg-slate-500 w-full h-48 object-cover rounded-t-md",ref:"bannerPic"},null,8,ae)),e("div",ne,[f.value?(s(),t("div",re)):(s(),t("img",{key:0,src:l.value.storeLogoResized,class:"z-9 border-4 border-white rounded-full w-32 h-32 bg-indigo-500",ref:"profilePic"},null,8,ce)),e("div",de,[e("div",ue,[e("p",null,c(_.sellerName),1)])])]),e("div",_e,[e("button",{class:"border-2 border p-1 w-32 rounded-md flex flex-row items-center justify-center gap-2 bg-white",onClick:V},[x(y(X),{class:"w-6 h-6"}),he])])]),f.value?i("",!0):(s(),t("div",pe,[e("div",ve,[l.value.verifiedSeller?(s(),t("span",ge,[x(y(ee),{class:"h-4 w-4 text-sky-500"}),fe])):i("",!0),e("p",xe,c(I.value),1),e("p",me,c(l.value.staffNumber)+" staff",1),e("p",be,c(l.value.acreage)+" acres",1)]),e("div",we,[x(y(se),{class:"w-5 h-5"}),e("p",null,c(l.value.location),1)])]))]),e("span",ye,[e("span",ke,[e("span",Se,[f.value?i("",!0):(s(),t("div",je,[e("div",Ce,[l.value.rating>0?(s(),t(h,{key:0},[e("p",ze,[e("span",Le,c(l.value.rating),1),L(" /5")]),e("span",Me,[e("p",Ne,c($.value),1),e("p",null,[L("("+c(l.value.reviewsCount?l.value.reviewsCount:0)+" ",1),Ae,L(")")])])],64)):(s(),t("p",Pe,"Not yet rated"))]),e("span",Re,[l.value.averageResponseTime?(s(),t(h,{key:0},[Te,e("p",Ve,c("â‰¤"+l.value.averageResponseTime)+" hrs",1)],64)):i("",!0)])])),e("span",Be,[e("div",Ge,[Ie,e("ul",$e,[(s(!0),t(h,null,p(l.value.machinery,a=>(s(),t("li",null,[e("p",Ee,c(a),1)]))),256))])]),e("div",Je,[Oe,e("span",null,[(s(!0),t(h,null,p(l.value.plants,a=>(s(),t("div",Fe,[e("p",De,c(a.variety),1),e("p",Ue,c(a.amount),1)]))),256))])]),e("div",Ye,[qe,(s(!0),t(h,null,p(l.value.shipping,a=>(s(),t("div",We,[e("p",null,c(a.type),1),e("p",Xe,"Up to "+c(a.distance)+"KMs",1),e("p",Ke,"Max: "+c(a.weight)+"KGs",1)]))),256))]),e("div",He,[Qe,(s(!0),t(h,null,p(l.value.capabilities,a=>(s(),t("li",Ze,[e("p",null,c(a),1)]))),256))])])]),e("div",es,[l.value.storeImagesResized&&l.value.storeImagesResized.length>0?(s(),t(h,{key:0},[e("img",{class:"bg-slate-500 rounded-l-md flex col-span-2 object-cover",src:l.value.storeImagesResized[0]},null,8,ss),e("div",null,[e("img",{class:"bg-slate-500 rounded-tr-md object-cover",src:l.value.storeImagesResized[1]},null,8,ts),e("img",{class:"bg-slate-500 rounded-br-md object-cover",src:l.value.storeImagesResized[2]},null,8,ls)])],64)):i("",!0)])])]),r.value.length>0&&d.value.length>0?(s(),t("span",os,[as,e("div",is,[r.value.length>0?(s(),t("div",ns,[cs,r.value.length>0?(s(),t("div",rs,[(s(!0),t(h,null,p(r.value.slice(0,j.value),a=>(s(),k(K,{job:a},null,8,["job"]))),256))])):r.value.length==0?(s(),t("div",ds,_s)):i("",!0),r.value.length==2?(s(),t("div",{key:2,class:"flex w-full justify-end",onClick:G},ps)):i("",!0),v.value?(s(),t("div",vs,[x(M,{isLoading:v.value,class:"z-9"},null,8,["isLoading"])])):i("",!0)])):i("",!0),d.value.length>0?(s(),t("div",gs,[fs,d.value.length>0?(s(),t("div",xs,[(s(!0),t(h,null,p(d.value.slice(0,C.value),a=>(s(),k(H,{gig:a},null,8,["gig"]))),256))])):d.value.length==0?(s(),t("div",ms,ws)):i("",!0),d.value.length==2?(s(),t("div",{key:2,class:"flex w-full justify-end",onClick:B},ks)):i("",!0),g.value?(s(),t("div",Ss,[x(M,{isLoading:g.value,class:"z-9"},null,8,["isLoading"])])):i("",!0)])):i("",!0)])])):i("",!0),m.value.length>0?(s(),t("div",js,[Cs,m.value.length>0&&!b.value?(s(),t("div",zs,[(s(!0),t(h,null,p(m.value,a=>(s(),t("div",null,[a.adType==y(S).SELLER?(s(),k(Q,{key:0,ad:a,showButtons:!1},null,8,["ad"])):i("",!0),a.adType==y(S).BUYER?(s(),k(Z,{key:1,ad:a},null,8,["ad"])):i("",!0)]))),256))])):m.value.length==0&&!b.value?(s(),t("div",Ls,Ns)):(s(),t("div",As,[x(M,{isLoading:b.value},null,8,["isLoading"])]))])):i("",!0)]))}});export{Is as default};

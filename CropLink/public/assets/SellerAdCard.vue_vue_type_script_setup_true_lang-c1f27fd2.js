import{I as B}from"./ImageCarousel-86bf2d28.js";import{d as V,s as $,x as N,a as f,u as O,h as y,e as o,f as A,g as s,q as u,p as l,t as d,i as n,y as i,m as c,_ as h,n as S,l as R,ag as k,U as T}from"./index-77675d52.js";const H={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},P={class:"w-full h-48 object-cover rounded-lg"},U={class:"text-xl font-semibold mb-2"},j={class:"text-sm mb-2"},q=s("strong",null,"Status:",-1),M={class:"text-sm mb-2"},W=s("strong",null,"Id:",-1),z={class:"text-sm mb-2"},F=s("strong",null,"Variety:",-1),Y={class:"text-sm mb-2"},G=s("strong",null,"Yield Tonnage:",-1),J={class:"text-sm mb-2"},K=s("strong",null,"Expected Harvest Date:",-1),Q={class:"text-sm mb-2"},X=s("strong",null,"Price:",-1),Z={class:"text-sm mb-2"},I=s("strong",null,"bidding End time:",-1),_={key:0,class:"flex items-center justify-end mt-2 space-x-4"},se=V({__name:"SellerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},emits:["edit"],setup(e,{emit:p}){const{modals:x}=$(N()),m=f().AD_STATUSES,b=O(),g=y(!1),w=async t=>{t&&(g.value=!0,await f().postNewAd(t),g.value=!1)},v=y(""),C=async t=>{t&&(v.value=t,console.log("removeAd",t),await f().removeUserAd(t),v.value="")},D=t=>{t&&b.push({name:"ad",params:{adId:t}})},E=async t=>{t&&(console.log("removeAd",t),x.value.editad=!0,x.value.context=ads.value.docs.find(a=>a.id===t))},L=t=>{t&&b.push({name:"messaging",params:{adId:t}})};return(t,a)=>(o(),A("div",H,[s("div",P,[e.ad.images&&e.ad.images.length>0?(o(),u(B,{key:0,images:e.ad.resizedImages},null,8,["images"])):l("",!0)]),s("h3",U,d(e.ad.type),1),s("p",j,[q,n(" "+d(e.ad.status),1)]),s("p",M,[W,n(" "+d(e.ad.id),1)]),s("p",z,[F,n(" "+d(e.ad.variety),1)]),s("p",Y,[G,n(" "+d(e.ad.yieldTonnage),1)]),s("p",J,[K,n(" "+d(i(k)(e.ad.expectedHarvestDate)?i(T)(e.ad.expectedHarvestDate):e.ad.expectedHarvestDate),1)]),s("p",Q,[X,n(" "+d(e.ad.price),1)]),s("p",Z,[I,n(" "+d(i(k)(e.ad.biddingEndTime)?i(T)(e.ad.biddingEndTime):e.ad.biddingEndTime),1)]),e.showButtons?(o(),A("div",_,[!e.ad.live&&e.ad.status!=i(m).SOLD?(o(),u(h,{key:0,onClick:a[0]||(a[0]=r=>E(e.ad.id))},{default:c(()=>[n(" Edit ")]),_:1})):l("",!0),!e.ad.live&&e.ad.status==i(m).SOLD?(o(),u(h,{key:1,classes:"truncate",onClick:a[1]||(a[1]=r=>L(e.ad.id))},{default:c(()=>[n(" Contact Winner ")]),_:1})):l("",!0),!e.ad.live&&e.ad.status!=i(m).SOLD?(o(),u(S,{key:2,disabled:e.ad.live,isLoading:g.value,onClick:a[2]||(a[2]=r=>w(e.ad.id))},{default:c(()=>[n(" Post "+d(e.ad.status),1)]),_:1},8,["disabled","isLoading"])):l("",!0),R(h,{onClick:a[3]||(a[3]=r=>D(e.ad.id))},{default:c(()=>[n(" View ")]),_:1}),!e.ad.live&&e.ad.status!=i(m).SOLD?(o(),u(S,{key:3,disabled:e.ad.live,isLoading:v.value==e.ad.id,onClick:a[4]||(a[4]=r=>C(e.ad.id))},{default:c(()=>[n(" Remove ")]),_:1},8,["disabled","isLoading"])):l("",!0)])):l("",!0)]))}});export{se as _};

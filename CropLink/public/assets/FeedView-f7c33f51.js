import{d as T,u as L,s as k,a as f,h as b,o as C,m as E,n as R,e as n,f as a,l as g,g as e,p,q as S,x as l,F as u,k as w,L as B,i as o,t}from"./index-edfb91c5.js";import{I as P}from"./ImageCarousel-9965ea07.js";const N={key:0},V={class:"p-4"},Y={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},D={class:"w-full h-48 object-cover rounded-lg"},U={class:"text-xl font-semibold mb-2"},j={class:"text-sm mb-2"},q=e("strong",null,"Id:",-1),F={class:"text-sm mb-2"},I=e("strong",null,"Variety:",-1),O={class:"text-sm mb-2"},H=e("strong",null,"Yield Tonnage:",-1),M={class:"text-sm mb-2"},W=e("strong",null,"Expected Harvest Date:",-1),G={class:"text-sm mb-2"},$=e("strong",null,"Price:",-1),z={class:"flex justify-end"},J=["onClick"],K={class:"text-xl font-semibold mb-2"},Q={class:"text-sm mb-2"},X=e("strong",null,"Id:",-1),Z={class:"text-sm mb-2"},A=e("strong",null,"Yield Tonnage:",-1),ee={class:"text-sm mb-2"},se=e("strong",null,"Request Date:",-1),te={class:"text-sm mb-2"},oe=e("strong",null,"Price:",-1),ne={key:2},le=T({__name:"FeedView",setup(ae){const x=L(),{profile:h}=k(f()),i=f().ACCOUNT_TYPES,_=b([]),r=b(!1);C(async()=>{var d;r.value=!0;const c=((d=h.value)==null?void 0:d.accountType)==i.SELLER?i.BUYER:i.SELLER,m=await E("ads","live","==",!0,"adType","==",c,["postedOn","desc"],25);console.log("ads",m),_.value=m.docs,r.value=!1});const y=c=>{c&&x.push({name:"ad",params:{adId:c}})};return(c,m)=>{const d=R("RouterLink");return n(),a(u,null,[g(h)?(n(),a("div",N,[e("div",V,[p(d,{class:"hover:underline",to:"/userboard"},{default:S(()=>[o("Post an ad")]),_:1})])])):l("",!0),_.value.length>0&&!r.value?(n(),a("div",Y,[(n(!0),a(u,null,w(_.value,(s,v)=>(n(),a("div",{key:v,class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},[s.adType==g(i).SELLER?(n(),a(u,{key:0},[e("div",D,[p(P,{images:s.images},null,8,["images"])]),e("h3",U,t(s.type),1),e("p",j,[q,o(" "+t(s.id),1)]),e("p",F,[I,o(" "+t(s.variety),1)]),e("p",O,[H,o(" "+t(s.yieldTonnage),1)]),e("p",M,[W,o(" "+t(s.expectedHarvestDate),1)]),e("p",G,[$,o(" "+t(s.price),1)]),e("div",z,[e("button",{onClick:ie=>y(s.id),class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Bid ",8,J)])],64)):l("",!0),s.adType==g(i).BUYER?(n(),a(u,{key:1},[e("h3",K,t(s.type),1),e("p",Q,[X,o(" "+t(s.id),1)]),e("p",Z,[A,o(" "+t(s.yieldTonnage),1)]),e("p",ee,[se,o(" "+t(s.requestDate),1)]),e("p",te,[oe,o(" "+t(s.price),1)])],64)):l("",!0)]))),128))])):l("",!0),r.value?(n(),a("div",ne,[p(B,{isLoading:r.value},null,8,["isLoading"])])):l("",!0)],64)}}});export{le as default};

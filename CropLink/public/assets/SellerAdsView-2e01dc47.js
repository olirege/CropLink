import{e as s,f as t,g as e,d as D,a as U,h as c,s as Y,l as q,o as X,X as K,J as w,B as $,t as r,m as x,z as k,U as S,x as a,F as v,i as M,k as p,L as R,q as H,Y as Q,y as L}from"./index-57eff0e8.js";import{a as Z,b as ee,_ as se}from"./GigStoreCard.vue_vue_type_script_setup_true_lang-be7e2e97.js";import{_ as te}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-8aea2279.js";import{r as le}from"./CheckCircleIcon-f7e2d9ba.js";import"./ImageCarousel-306bb4f4.js";import"./PencilIcon-9c04759f.js";function oe(A,j){return s(),t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])}const ie={class:"p-5 flex flex-col gap-4"},ne={class:"rounded-md"},ae={id:"seller-ad-banner",class:"w-full h-96 relative"},re=["src"],ce={key:1,class:"bg-slate-500 w-full h-48 animate-pulse"},de={class:"absolute bottom-0 left-20 flex flex-row"},ue=["src"],_e={key:1,class:"z-10 border-4 border-white rounded-full w-36 h-36 bg-indigo-500 animate-pulse"},ve={class:"relative ml-5 p-1"},pe={class:"absolute bottom-1 truncate flex flex-row"},he={class:"text-4xl font-bold"},ge={class:"absolute bottom-20 right-20"},fe=e("p",{class:"text-white font-semibold"},"Contact",-1),xe={class:"flex flex-row gap-4 pt-6 border-y mt-4 sticky bg-white top-16 h-16 z-[9]"},me={class:"border rounded-md shadow"},be={key:0,class:"flex flex-col gap-2 p-4 rounded-b-md"},ye={class:"flex flex-row items-center gap-2"},we={key:0,class:"flex flex-row gap-1 items-center"},ke=e("p",null,"Verified",-1),Ce={class:"p-1 px-2"},Se={class:"p-1 px-2"},Le={class:"p-1 px-2"},je={class:"flex flex-row gap-2 italic"},ze={class:"grid grid-cols-2 gap-4",id:"Information"},Pe={class:"p-4"},Ie={key:0,class:"border-b p-4 flex flex-row gap-2 divide-x"},Me={class:"flex flex-row gap-2 px-4 py-2"},Re={class:"font-bold"},Ae={class:"text-6xl"},Ne={class:"flex flex-col justify-end"},Te={class:"font-bold"},Ve=e("span",{class:"text-xs text-slate-400"},"reviews",-1),$e={key:1,class:"font-bold"},Be={class:"flex flex-col justify-center items-center px-4 py-2"},Oe=e("p",{class:"italic text-sm"},"average response rate",-1),Ge={class:"font-bold"},Ee={class:"grid grid-cols-4 gap-2 w-full divide-x py-4"},Je={class:"p-4"},We=e("p",{class:"text-xl font-bold"},"Machinery",-1),Fe={class:"list-disc pl-6"},De={class:"text-xs italic"},Ue={class:"p-4"},Ye=e("p",{class:"text-xl mb-2 font-bold"},"Plants",-1),qe={class:"flex flex-row gap-1 items-center justify-between w-full space-y-1"},Xe={class:"text-xs truncate ..."},Ke={class:"text-xs"},He={class:"p-4 space-y-2"},Qe=e("p",{class:"text-xl mb-2 font-bold"},"Shipping",-1),Ze={class:"flex flex-col"},es={class:"text-xs italic pl-2"},ss={class:"text-xs italic pl-2"},ts={class:"p-4"},ls=e("p",{class:"text-xl mb-2 font-bold"},"Capabilities",-1),os={class:"text-xs inline space-x-2"},is={class:"grid grid-cols-3 p-4"},ns=["src"],as=["src"],rs=["src"],cs={key:0,class:"border rounded-md shadow p-5",id:"Work Opportunities"},ds=e("div",{class:"flex items-center justify-start h-12 bg-gradient-to-r from-sky-500/40 to-white rounded-t-md"},[e("h2",{class:"pl-2 text-white text-2xl font-bold p-1"},"Work Opportunities")],-1),us={class:"flex flex-col gap-6 w-full p-2"},_s={key:0,class:"relative flex flex-col h-full w-full h-96"},vs=e("h2",{class:"text-xl font-bold italic my-2 pl-2"},"Job Openings",-1),ps={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},hs={key:1},gs=e("p",{class:"text-center"},"No jobs to show",-1),fs=[gs],xs=e("p",{class:"text-sm underline cursor-pointer"},"View more jobs",-1),ms=[xs],bs={key:3,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-8 flex justify-center items-center min-h-96"},ys={key:1,class:"flex flex-col h-full w-full relative h-96"},ws=e("h2",{class:"text-xl font-bold italic my-2 pl-2"},"Small Gigs",-1),ks={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},Cs={key:1},Ss=e("p",{class:"text-center"},"No gigs to show",-1),Ls=[Ss],js=e("p",{class:"text-sm underline cursor-pointer"},"View more gigs",-1),zs=[js],Ps={key:3,class:"absolute top-0 left-0 w-full h-full bg-slate-200/50 z-8 flex justify-center items-center min-h-96"},Is={key:1,class:"p-5 border rounded-md shadow",id:"Product Listings"},Ms=e("div",{class:"flex items-center justify-start h-12 bg-gradient-to-r from-sky-500/40 to-white rounded-t-md"},[e("h2",{class:"pl-2 text-white text-2xl font-bold p-1"},"Product listings")],-1),Rs={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},As={key:1},Ns=e("p",{class:"text-center"},"No ads to show",-1),Ts=[Ns],Vs={key:2},Ws=D({__name:"SellerAdsView",props:{id:{type:String,required:!0},sellerName:{type:String,required:!0}},setup(A){const j=U().ACCOUNT_TYPES,m=c([]),d=c([]),u=c([]),b=c(!1),h=c(!1),g=c(!1),f=c(!1),y=c("Information"),z=c(2),P=c(2),_=A,C=l=>{const i=document.getElementById(l);i&&(i.scrollIntoView({behavior:"smooth"}),y.value=l)},{messaging:N}=Y(q()),B=async()=>{N.value.show=!0,N.value.to={id:_.id,name:_.sellerName}},o=c({name:"",profilePicResized:"",bannerPic:""}),O=async()=>{g.value=!0;const l=u.value[u.value.length-1],i=await w("gigs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],10,l);u.value=[...u.value,...i.docs],g.value=!1,P.value=P.value+10},G=async()=>{h.value=!0;const l=d.value[d.value.length-1],i=await w("jobs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],10,l);d.value=[...d.value,...i.docs],h.value=!1,z.value=z.value+10};X(async()=>{f.value=!0,b.value=!0,h.value=!0,g.value=!0;const l=[];l.push(K("ads",_.id).then(i=>{o.value=i,f.value=!1})),l.push(w("ads","live","==",!0,"uid","==",_.id,["postedOn","desc"],25).then(i=>{m.value=i.docs,b.value=!1})),l.push(w("jobs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],5).then(i=>{d.value=i.docs,h.value=!1})),l.push(w("gigs","live","==",!0,"posterId","==",_.id,["updatedAt","desc"],5).then(i=>{u.value=i.docs,g.value=!1})),l.push(F(_.id)),await Promise.all(l)});const E=$(()=>{if(!o.value||!o.value.createdAt)return;const l=new Date,i=new Date(o.value.createdAt.toDate().toString()),n=l.getTime()-i.getTime(),T=Math.floor(n/(1e3*60*60*24)),I=Math.floor(T/31),V=Math.floor(I/12);return V>0?`${V} yrs`:I>0?`${I} mths`:`${T} days`}),J=$(()=>{if(!o.value||!o.value.rating)return;const l=o.value.rating;if(l==0)return"No ratings yet";if(l>0&&l<1)return"Poor";if(l>=1&&l<2)return"Fair";if(l>=2&&l<3)return"Average";if(l>=3&&l<4)return"Good";if(l>=4&&l<5)return"Excellent"}),W=c(!1),F=async l=>{if(!l)return;const{callFunction:i}=H("increaseStoreViewCount",{adId:l},W);await i()};return(l,i)=>(s(),t("div",ie,[e("span",ne,[e("div",ae,[f.value?(s(),t("div",ce)):(s(),t("img",{key:0,src:o.value.storeBannerPic,class:"bg-slate-500 w-full h-80 object-cover rounded-md",ref:"bannerPic"},null,8,re)),e("div",de,[f.value?(s(),t("div",_e)):(s(),t("img",{key:0,src:o.value.storeLogoResized,class:"z-9 border-4 border-white rounded-full w-36 h-36 bg-indigo-500",ref:"profilePic"},null,8,ue)),e("div",ve,[e("div",pe,[e("p",he,r(_.sellerName),1)])])]),e("div",ge,[e("button",{class:"bg-slate-600/70 px-4 py-2 rounded-md flex flex-row gap-2 items-center",onClick:B},[x(k(Q),{class:"w-6 h-6 text-white"}),fe])])])]),e("div",xe,[e("div",{onClick:i[0]||(i[0]=n=>C("Information")),class:S([y.value=="Information"?"text-cyan-500 underline":"","font-bold hover:underline"])}," Information ",2),e("div",{onClick:i[1]||(i[1]=n=>C("Reviews")),class:S([y.value=="Reviews"?"text-cyan-500 underline":"","font-bold hover:underline"])}," Reviews ",2),e("div",{onClick:i[2]||(i[2]=n=>C("Work Opportunities")),class:S([y.value=="Work Opportunities"?"text-cyan-500 underline":"","font-bold hover:underline"])}," Work Opportunities ",2),e("div",{onClick:i[3]||(i[3]=n=>C("Product Listings")),class:S([y.value=="Product Listings"?"text-cyan-500 underline":"","font-bold hover:underline"])}," Product Listings ",2)]),e("span",me,[f.value?a("",!0):(s(),t("div",be,[e("div",ye,[o.value.verifiedSeller?(s(),t("span",we,[x(k(le),{class:"h-4 w-4 text-sky-500"}),ke])):a("",!0),e("p",Ce,r(E.value),1),e("p",Se,r(o.value.staffNumber)+" staff",1),e("p",Le,r(o.value.acreage)+" acres",1)]),e("div",je,[x(k(oe),{class:"w-5 h-5"}),e("p",null,r(o.value.location),1)])])),e("span",ze,[e("span",Pe,[f.value?a("",!0):(s(),t("div",Ie,[e("div",Me,[o.value.rating>0?(s(),t(v,{key:0},[e("p",Re,[e("span",Ae,r(o.value.rating),1),M(" /5")]),e("span",Ne,[e("p",Te,r(J.value),1),e("p",null,[M("("+r(o.value.reviewsCount?o.value.reviewsCount:0)+" ",1),Ve,M(")")])])],64)):(s(),t("p",$e,"Not yet rated"))]),e("span",Be,[o.value.averageResponseTime?(s(),t(v,{key:0},[Oe,e("p",Ge,r("â‰¤"+o.value.averageResponseTime)+" hrs",1)],64)):a("",!0)])])),e("span",Ee,[e("div",Je,[We,e("ul",Fe,[(s(!0),t(v,null,p(o.value.machinery,n=>(s(),t("li",null,[e("p",De,r(n),1)]))),256))])]),e("div",Ue,[Ye,e("span",null,[(s(!0),t(v,null,p(o.value.plants,n=>(s(),t("div",qe,[e("p",Xe,r(n.variety),1),e("p",Ke,r(n.amount),1)]))),256))])]),e("div",He,[Qe,(s(!0),t(v,null,p(o.value.shipping,n=>(s(),t("div",Ze,[e("p",null,r(n.type),1),e("p",es,"Up to "+r(n.distance)+"KMs",1),e("p",ss,"Max: "+r(n.weight)+"KGs",1)]))),256))]),e("div",ts,[ls,(s(!0),t(v,null,p(o.value.capabilities,n=>(s(),t("li",os,[e("p",null,r(n),1)]))),256))])])]),e("div",is,[o.value.storeImagesResized&&o.value.storeImagesResized.length>0?(s(),t(v,{key:0},[e("img",{class:"bg-slate-500 rounded-l-md flex col-span-2 object-cover",src:o.value.storeImagesResized[0]},null,8,ns),e("div",null,[e("img",{class:"bg-slate-500 rounded-tr-md object-cover",src:o.value.storeImagesResized[1]},null,8,as),e("img",{class:"bg-slate-500 rounded-br-md object-cover",src:o.value.storeImagesResized[2]},null,8,rs)])],64)):a("",!0)])])]),d.value.length>0&&u.value.length>0?(s(),t("span",cs,[ds,e("div",us,[d.value.length>0?(s(),t("div",_s,[vs,d.value.length>0?(s(),t("div",ps,[(s(!0),t(v,null,p(d.value.slice(0,z.value),n=>(s(),L(Z,{job:n},null,8,["job"]))),256))])):d.value.length==0?(s(),t("div",hs,fs)):a("",!0),d.value.length==2?(s(),t("div",{key:2,class:"flex w-full justify-end",onClick:G},ms)):a("",!0),h.value?(s(),t("div",bs,[x(R,{isLoading:h.value,class:"z-9"},null,8,["isLoading"])])):a("",!0)])):a("",!0),u.value.length>0?(s(),t("div",ys,[ws,u.value.length>0?(s(),t("div",ks,[(s(!0),t(v,null,p(u.value.slice(0,P.value),n=>(s(),L(ee,{gig:n},null,8,["gig"]))),256))])):u.value.length==0?(s(),t("div",Cs,Ls)):a("",!0),u.value.length==2?(s(),t("div",{key:2,class:"flex w-full justify-end",onClick:O},zs)):a("",!0),g.value?(s(),t("div",Ps,[x(R,{isLoading:g.value,class:"z-9"},null,8,["isLoading"])])):a("",!0)])):a("",!0)])])):a("",!0),m.value.length>0?(s(),t("div",Is,[Ms,m.value.length>0&&!b.value?(s(),t("div",Rs,[(s(!0),t(v,null,p(m.value,n=>(s(),t("div",null,[n.adType==k(j).SELLER?(s(),L(se,{key:0,ad:n,showButtons:!1},null,8,["ad"])):a("",!0),n.adType==k(j).BUYER?(s(),L(te,{key:1,ad:n},null,8,["ad"])):a("",!0)]))),256))])):m.value.length==0&&!b.value?(s(),t("div",As,Ts)):(s(),t("div",Vs,[x(R,{isLoading:b.value},null,8,["isLoading"])]))])):a("",!0)]))}});export{Ws as default};

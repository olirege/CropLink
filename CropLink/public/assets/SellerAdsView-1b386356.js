import{d as j,s as A,x as M,u as R,H as B,e as s,f as t,g as e,t as k,l as h,y as x,I as J,J as O,a as z,h as c,o as E,K as I,M as m,F as b,k as L,L as C,p as w,N as q,q as y,O as U}from"./index-77675d52.js";import{_ as Y}from"./SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-62b56017.js";import{_ as D}from"./BuyerAdCard.vue_vue_type_script_setup_true_lang-efaa3f2f.js";import"./ImageCarousel-86bf2d28.js";const F={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300 mb-4 p-5"},W={class:"flex flex-row space-x-4 w-full border-b pb-2 mb-4"},X={class:"text-md font-bold"},H={class:"space-y-2"},K={class:"flex flex-row space-x-4"},Q={class:"text-sm"},Z={class:"flex flex-row space-x-4"},ee={class:"text-sm"},se={class:"w-full flex justify-end gap-4"},te=j({__name:"GigThumbnailCard",props:{gig:{type:Object,required:!0}},emits:["edit","remove"],setup(v,{emit:P}){const{modals:_}=A(M());R();const a=v,n=B(()=>a.gig.milestones.reduce((l,i)=>l+i.price,0)),g=l=>{l&&(_.value.viewgig=!0,_.value.context.__key=l)};return(l,i)=>(s(),t("span",F,[e("div",W,[e("p",X,k(v.gig.title),1)]),e("div",H,[e("div",K,[h(x(J),{class:"w-5 h-5"}),e("p",Q,k(v.gig.location),1)]),e("div",Z,[h(x(O),{class:"w-5 h-5"}),e("p",ee,k(n.value),1)])]),e("div",se,[e("p",{onClick:i[0]||(i[0]=p=>g(v.gig.gigId)),class:"underline text-sm cursor-pointer"},"View")])]))}}),le={id:"seller-ad-banner",class:"w-full h-64 relative"},oe=["src"],ie={key:1,class:"bg-slate-500 w-full h-48 animate-pulse"},ae={class:"absolute bottom-5 left-20 flex flex-row"},ne=["src"],de={key:1,class:"z-10 border-4 border-white rounded-full w-32 h-32 bg-indigo-500 animate-pulse"},ce={class:"relative ml-5 p-1"},re={class:"absolute bottom-1 text-xl font-bold truncate"},ue={class:"absolute bottom-5 right-20"},_e=e("p",null,"Message",-1),ge={class:"flex flex-row gap-6 w-full p-5"},ve={class:"relative flex flex-col h-full w-full"},he=e("h2",null,"Job Openings",-1),pe={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},fe={key:1},me=e("p",{class:"text-center"},"No jobs to show",-1),xe=[me],be={key:2},we=e("p",{class:"text-sm underline cursor-pointer"},"View more jobs",-1),ye=[we],ke={class:"flex flex-col h-full w-full relative"},Pe=e("h2",null,"Small Gigs",-1),Se={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},$e={key:1},Le=e("p",{class:"text-center"},"No gigs to show",-1),Ce=[Le],Ne={key:2},je=e("p",{class:"text-sm underline cursor-pointer"},"View more gigs",-1),Ae=[je],Me={class:"p-5"},Ve=e("h2",null,"Product listings",-1),Ge={key:0,class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8"},Te={key:1},Re=e("p",{class:"text-center"},"No ads to show",-1),Be=[Re],Je={key:2},qe=j({__name:"SellerAdsView",props:{id:{type:String,required:!0},sellerName:{type:String,required:!0}},setup(v){const P=z().ACCOUNT_TYPES,_=c([]),a=c([]),n=c([]),g=c(!1),l=c(!1),i=c(!1),p=c(!1),S=c(2),$=c(2),r=v,{messaging:N}=A(M()),V=async()=>{N.value.show=!0,N.value.to={id:r.id,name:r.sellerName}},f=c({name:"",profilePicResized:"",bannerPic:""}),G=async()=>{i.value=!0;const d=n.value[n.value.length-1],o=await m("gigs","live","==",!0,"posterId","==",r.id,["updatedAt","desc"],10,d);n.value=[...n.value,...o.docs],i.value=!1,$.value=$.value+10},T=async()=>{l.value=!0;const d=a.value[a.value.length-1],o=await m("jobs","live","==",!0,"posterId","==",r.id,["updatedAt","desc"],10,d);a.value=[...a.value,...o.docs],l.value=!1,S.value=S.value+10};return E(async()=>{p.value=!0,g.value=!0,l.value=!0,i.value=!0;const d=[];d.push(I("ads",r.id).then(o=>{f.value.name=o.name,f.value.profilePicResized=o.profilePicResized,f.value.bannerPic=o.bannerPic,p.value=!1})),d.push(m("ads","live","==",!0,"uid","==",r.id,["postedOn","desc"],25).then(o=>{_.value=o.docs,g.value=!1})),d.push(m("jobs","live","==",!0,"posterId","==",r.id,["updatedAt","desc"],2).then(o=>{a.value=o.docs,l.value=!1})),d.push(m("gigs","live","==",!0,"posterId","==",r.id,["updatedAt","desc"],2).then(o=>{n.value=o.docs,i.value=!1})),await Promise.all(d)}),(d,o)=>(s(),t(b,null,[e("div",le,[p.value?(s(),t("div",ie)):(s(),t("img",{key:0,src:f.value.bannerPic,class:"bg-slate-500 w-full h-48 object-cover",ref:"bannerPic"},null,8,oe)),e("div",ae,[p.value?(s(),t("div",de)):(s(),t("img",{key:0,src:f.value.profilePicResized,class:"z-10 border-4 border-white rounded-full w-32 h-32 bg-indigo-500",ref:"profilePic"},null,8,ne)),e("div",ce,[e("h1",re,k(r.sellerName),1)])]),e("div",ue,[e("button",{class:"border-2 border p-1 w-32 rounded-md flex flex-row items-center justify-center gap-2 bg-white",onClick:V},[h(x(q),{class:"w-6 h-6"}),_e])])]),e("div",ge,[e("div",ve,[he,a.value.length>0&&!l.value?(s(),t("div",pe,[(s(!0),t(b,null,L(a.value.slice(0,S.value),u=>(s(),y(U,{job:u},null,8,["job"]))),256))])):a.value.length==0&&!l.value?(s(),t("div",fe,xe)):(s(),t("div",be,[h(C,{isLoading:l.value},null,8,["isLoading"])])),a.value.length==2&&!l.value?(s(),t("div",{key:3,class:"flex w-full justify-end",onClick:T},ye)):w("",!0)]),e("div",ke,[Pe,n.value.length>0&&!i.value?(s(),t("div",Se,[(s(!0),t(b,null,L(n.value.slice(0,$.value),u=>(s(),y(te,{gig:u},null,8,["gig"]))),256))])):n.value.length==0&&!i.value?(s(),t("div",$e,Ce)):(s(),t("div",Ne,[h(C,{isLoading:i.value},null,8,["isLoading"])])),n.value.length==2&&!i.value?(s(),t("div",{key:3,class:"flex w-full justify-end",onClick:G},Ae)):w("",!0)])]),e("div",Me,[Ve,_.value.length>0&&!g.value?(s(),t("div",Ge,[(s(!0),t(b,null,L(_.value,u=>(s(),t("div",null,[u.adType==x(P).SELLER?(s(),y(Y,{key:0,ad:u,showButtons:!1},null,8,["ad"])):w("",!0),u.adType==x(P).BUYER?(s(),y(D,{key:1,ad:u},null,8,["ad"])):w("",!0)]))),256))])):_.value.length==0&&!g.value?(s(),t("div",Te,Be)):(s(),t("div",Je,[h(C,{isLoading:g.value},null,8,["isLoading"])]))])],64))}});export{qe as default};

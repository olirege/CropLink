(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Tx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},yS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,f=h?t[s+2]:0,p=o>>2,v=(o&3)<<4|c>>4;let y=(c&15)<<2|f>>6,b=f&63;h||(b=64,l||(y=64)),i.push(n[p],n[v],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new Ax;const y=o<<2|c>>4;if(i.push(y),f!==64){const b=c<<4&240|f>>2;if(i.push(b),v!==64){const S=f<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sx=function(t){const e=vS(t);return yS.encodeByteArray(e,!0)},If=function(t){return Sx(t).replace(/\./g,"")},_S=function(t){try{return yS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Rx(n)||(t[n]=Tf(t[n],e[n]));return t}function Rx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=()=>Cx().__FIREBASE_DEFAULTS__,kx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ox=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_S(t[1]);return e&&JSON.parse(e)},cp=()=>{try{return Px()||kx()||Ox()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wS=t=>{var e,n;return(n=(e=cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t_=t=>{const e=wS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},bS=()=>{var t;return(t=cp())===null||t===void 0?void 0:t.config},ES=t=>{var e;return(e=cp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[If(JSON.stringify(n)),If(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function TS(){var t;const e=(t=cp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dx(){return typeof self=="object"&&self.self===self}function AS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SS(){const t=Xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Af(){try{return typeof indexedDB=="object"}catch{return!1}}function Lx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="FirebaseError";class Cn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Mx,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?Vx(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Cn(s,c,i)}}function Vx(t,e){return t.replace(Fx,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Fx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ux(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(EI(o)&&EI(l)){if(!Sf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function EI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RS(t,e){const n=new Bx(t,e);return n.subscribe.bind(n)}class Bx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");jx(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=av),s.error===void 0&&(s.error=av),s.complete===void 0&&(s.complete=av);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){return t&&t._delegate?t._delegate:t}class Fi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Nx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qx(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Hx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hx(t){return t===fo?void 0:t}function qx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $x(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=[];var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const CS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Kx=qe.INFO,zx={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Gx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=zx[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=Kx,this._logHandler=Gx,this._userLogHandler=null,i_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}function Yx(t){i_.forEach(e=>{e.setLogLevel(t)})}function Qx(t,e){for(const n of i_){let i=null;e&&e.level&&(i=CS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(h=>{if(h==null)return null;if(typeof h=="string")return h;if(typeof h=="number"||typeof h=="boolean")return h.toString();if(h instanceof Error)return h.message;try{return JSON.stringify(h)}catch{return null}}).filter(h=>h).join(" ");o>=(i??s.logLevel)&&t({level:qe[o].toLowerCase(),message:c,args:l,type:s.name})}}}const Jx=(t,e)=>e.some(n=>t instanceof n);let II,TI;function Xx(){return II||(II=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zx(){return TI||(TI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PS=new WeakMap,Kv=new WeakMap,kS=new WeakMap,lv=new WeakMap,r_=new WeakMap;function eD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(As(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&PS.set(n,t)}).catch(()=>{}),r_.set(e,t),e}function tD(t){if(Kv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Kv.set(t,e)}let zv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nD(t){zv=t(zv)}function iD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(uv(this),e,...n);return kS.set(i,e.sort?e.sort():[e]),As(i)}:Zx().includes(t)?function(...e){return t.apply(uv(this),e),As(PS.get(this))}:function(...e){return As(t.apply(uv(this),e))}}function rD(t){return typeof t=="function"?iD(t):(t instanceof IDBTransaction&&tD(t),Jx(t,Xx())?new Proxy(t,zv):t)}function As(t){if(t instanceof IDBRequest)return eD(t);if(lv.has(t))return lv.get(t);const e=rD(t);return e!==t&&(lv.set(t,e),r_.set(e,t)),e}const uv=t=>r_.get(t);function sD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=As(l);return i&&l.addEventListener("upgradeneeded",h=>{i(As(l.result),h.oldVersion,h.newVersion,As(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const oD=["get","getKey","getAll","getAllKeys","count"],aD=["put","add","delete","clear"],cv=new Map;function AI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cv.get(e))return cv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=aD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||oD.includes(n)))return;const o=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&h.done]))[0]};return cv.set(e,o),o}nD(t=>({...t,get:(e,n,i)=>AI(e,n)||t.get(e,n,i),has:(e,n)=>!!AI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function uD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gv="@firebase/app",SI="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new dp("@firebase/app"),cD="@firebase/app-compat",dD="@firebase/analytics-compat",hD="@firebase/analytics",fD="@firebase/app-check-compat",pD="@firebase/app-check",mD="@firebase/auth",gD="@firebase/auth-compat",vD="@firebase/database",yD="@firebase/database-compat",_D="@firebase/functions",wD="@firebase/functions-compat",bD="@firebase/installations",ED="@firebase/installations-compat",ID="@firebase/messaging",TD="@firebase/messaging-compat",AD="@firebase/performance",SD="@firebase/performance-compat",RD="@firebase/remote-config",CD="@firebase/remote-config-compat",PD="@firebase/storage",kD="@firebase/storage-compat",OD="@firebase/firestore",ND="@firebase/firestore-compat",xD="firebase",DD="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]",LD={[Gv]:"fire-core",[cD]:"fire-core-compat",[hD]:"fire-analytics",[dD]:"fire-analytics-compat",[pD]:"fire-app-check",[fD]:"fire-app-check-compat",[mD]:"fire-auth",[gD]:"fire-auth-compat",[vD]:"fire-rtdb",[yD]:"fire-rtdb-compat",[_D]:"fire-fn",[wD]:"fire-fn-compat",[bD]:"fire-iid",[ED]:"fire-iid-compat",[ID]:"fire-fcm",[TD]:"fire-fcm-compat",[AD]:"fire-perf",[SD]:"fire-perf-compat",[RD]:"fire-rc",[CD]:"fire-rc-compat",[PD]:"fire-gcs",[kD]:"fire-gcs-compat",[OD]:"fire-fst",[ND]:"fire-fst-compat","fire-js":"fire-js",[xD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Map,Sc=new Map;function Rf(t,e){try{t.container.addComponent(e)}catch(n){Do.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function OS(t,e){t.container.addOrOverwriteComponent(e)}function pr(t){const e=t.name;if(Sc.has(e))return Do.debug(`There were multiple attempts to register component ${e}.`),!1;Sc.set(e,t);for(const n of ks.values())Rf(n,t);return!0}function qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function MD(t,e,n=Ps){qo(t,e).clearInstance(n)}function VD(){Sc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nr=new Ho("app","Firebase",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=DD;function hp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ps,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Nr.create("bad-app-name",{appName:String(s)});if(n||(n=bS()),!n)throw Nr.create("no-options");const o=ks.get(s);if(o){if(Sf(n,o.options)&&Sf(i,o.config))return o;throw Nr.create("duplicate-app",{appName:s})}const l=new Wx(s);for(const h of Sc.values())l.addComponent(h);const c=new UD(n,i,l);return ks.set(s,c),c}function ed(t=Ps){const e=ks.get(t);if(!e&&t===Ps&&bS())return hp();if(!e)throw Nr.create("no-app",{appName:t});return e}function BD(){return Array.from(ks.values())}async function NS(t){const e=t.name;ks.has(e)&&(ks.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function zn(t,e,n){var i;let s=(i=LD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Do.warn(c.join(" "));return}pr(new Fi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function xS(t,e){if(t!==null&&typeof t!="function")throw Nr.create("invalid-log-argument");Qx(t,e)}function DS(t){Yx(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-heartbeat-database",$D=1,Rc="firebase-heartbeat-store";let dv=null;function LS(){return dv||(dv=sD(jD,$D,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rc)}}}).catch(t=>{throw Nr.create("idb-open",{originalErrorMessage:t.message})})),dv}async function HD(t){try{return await(await LS()).transaction(Rc).objectStore(Rc).get(MS(t))}catch(e){if(e instanceof Cn)Do.warn(e.message);else{const n=Nr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Do.warn(n.message)}}}async function RI(t,e){try{const i=(await LS()).transaction(Rc,"readwrite");await i.objectStore(Rc).put(e,MS(t)),await i.done}catch(n){if(n instanceof Cn)Do.warn(n.message);else{const i=Nr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Do.warn(i.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=1024,WD=30*24*60*60*1e3;class KD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=WD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CI(),{heartbeatsToSend:n,unsentEntries:i}=zD(this._heartbeatsCache.heartbeats),s=If(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function CI(){return new Date().toISOString().substring(0,10)}function zD(t,e=qD){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),PI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),PI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Af()?Lx().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await HD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return RI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return RI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function PI(t){return If(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){pr(new Fi("platform-logger",e=>new lD(e),"PRIVATE")),pr(new Fi("heartbeat",e=>new KD(e),"PRIVATE")),zn(Gv,SI,t),zn(Gv,SI,"esm2017"),zn("fire-js","")}YD("");const QD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Cn,SDK_VERSION:qr,_DEFAULT_ENTRY_NAME:Ps,_addComponent:Rf,_addOrOverwriteComponent:OS,_apps:ks,_clearComponents:VD,_components:Sc,_getProvider:qo,_registerComponent:pr,_removeServiceInstance:MD,deleteApp:NS,getApp:ed,getApps:BD,initializeApp:hp,onLog:xS,registerVersion:zn,setLogLevel:DS},Symbol.toStringTag,{value:"Module"}));function s_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const Wu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ma={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XD=JD,ZD=VS,FS=new Ho("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new dp("@firebase/auth");function eL(t,...e){Cf.logLevel<=qe.WARN&&Cf.warn(`Auth (${qr}): ${t}`,...e)}function df(t,...e){Cf.logLevel<=qe.ERROR&&Cf.error(`Auth (${qr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw o_(t,...e)}function Pn(t,...e){return o_(t,...e)}function US(t,e,n){const i=Object.assign(Object.assign({},ZD()),{[e]:n});return new Ho("auth","Firebase",i).create(e,{appName:t.name})}function Cl(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&_n(t,"argument-error"),US(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function o_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return FS.create(t,...e)}function Q(t,e,...n){if(!t)throw o_(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function Ui(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a_(){return kI()==="http:"||kI()==="https:"}function kI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a_()||AS()||"connection"in navigator)?navigator.onLine:!0}function nL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=xx()||n_()}get(){return tL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new td(3e4,6e4);function Bt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zt(t,e,n,i,s={}){return jS(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=Rl(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),BS.fetch()($S(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function jS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},iL),e);try{const s=new oL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw ic(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw ic(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw ic(t,"user-disabled",l);const p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw US(t,p,f);_n(t,p)}}catch(s){if(s instanceof Cn)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function Wr(t,e,n,i,s={}){const o=await Zt(t,e,n,i,s);return"mfaPendingCredential"in o&&_n(t,"multi-factor-auth-required",{_serverResponse:o}),o}function $S(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?l_(t.config,s):`${t.config.apiScheme}://${s}`}function sL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Pn(this.auth,"network-request-failed")),rL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ic(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Pn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){return t!==void 0&&t.getResponse!==void 0}function NI(t){return t!==void 0&&t.enterprise!==void 0}class aL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t){return(await Zt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function uL(t,e){return Zt(t,"GET","/v2/recaptchaConfig",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){return Zt(t,"POST","/v1/accounts:delete",e)}async function dL(t,e){return Zt(t,"POST","/v1/accounts:update",e)}async function hL(t,e){return Zt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fL(t,e=!1){const n=Re(t),i=await n.getIdToken(e),s=fp(i);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:hc(hv(s.auth_time)),issuedAtTime:hc(hv(s.iat)),expirationTime:hc(hv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hv(t){return Number(t)*1e3}function fp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const s=_S(n);return s?JSON.parse(s):(df("Failed to decode base64 JWT payload"),null)}catch(s){return df("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pL(t){const e=fp(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Cn&&mL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function mL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Vr(t,hL(n,{idToken:i}));Q(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_L(o.providerUserInfo):[],c=yL(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),p=h?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new HS(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function vL(t){const e=Re(t);await Pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function _L(t){return t.map(e=>{var{providerId:n}=e,i=s_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){const n=await jS(t,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=$S(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",BS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await wL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new kc;return i&&(Q(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Q(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Q(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kc,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ro{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=s_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new HS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vr(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fL(this,e)}reload(){return vL(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Pc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Vr(this,cL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,h,f,p;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,E=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,C=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:O,isAnonymous:V,providerData:G,stsTokenManager:ne}=n;Q(P&&ne,e,"internal-error");const H=kc.fromJSON(this.name,ne);Q(typeof P=="string",e,"internal-error"),ds(v,e.name),ds(y,e.name),Q(typeof O=="boolean",e,"internal-error"),Q(typeof V=="boolean",e,"internal-error"),ds(b,e.name),ds(S,e.name),ds(_,e.name),ds(E,e.name),ds(I,e.name),ds(C,e.name);const ee=new Ro({uid:P,auth:e,email:y,emailVerified:O,displayName:v,isAnonymous:V,photoURL:S,phoneNumber:b,tenantId:_,stsTokenManager:H,createdAt:I,lastLoginAt:C});return G&&Array.isArray(G)&&(ee.providerData=G.map(ge=>Object.assign({},ge))),E&&(ee._redirectEventId=E),ee}static async _fromIdTokenResponse(e,n,i=!1){const s=new kc;s.updateFromServerResponse(n);const o=new Ro({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Pc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;function pi(t){Ui(t instanceof Function,"Expected a class definition");let e=xI.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qS.type="NONE";const rl=qS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Co(this.userKey,s.apiKey,o),this.fullPersistenceKey=Co("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ro._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ka(pi(rl),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||pi(rl);const l=Co(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){const v=Ro._fromJSON(e,p);f!==o&&(c=v),o=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ka(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ka(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GS(e))return"Blackberry";if(YS(e))return"Webos";if(u_(e))return"Safari";if((e.includes("chrome/")||KS(e))&&!e.includes("edge/"))return"Chrome";if(nd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WS(t=Xt()){return/firefox\//i.test(t)}function u_(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KS(t=Xt()){return/crios\//i.test(t)}function zS(t=Xt()){return/iemobile/i.test(t)}function nd(t=Xt()){return/android/i.test(t)}function GS(t=Xt()){return/blackberry/i.test(t)}function YS(t=Xt()){return/webos/i.test(t)}function Pl(t=Xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bL(t=Xt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function EL(t=Xt()){var e;return Pl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IL(){return SS()&&document.documentMode===10}function QS(t=Xt()){return Pl(t)||nd(t)||YS(t)||GS(t)||/windows phone/i.test(t)||zS(t)}function TL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e=[]){let n;switch(t){case"Browser":n=DI(Xt());break;case"Worker":n=`${DI(Xt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e={}){return Zt(t,"GET","/v2/passwordPolicy",Bt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=6;class CL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:RL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LI(this),this.idTokenSubscription=new LI(this),this.beforeStateQueue=new AL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Re(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SL(this),n=new CL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pi(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dt(t){return Re(t)}class LI{constructor(e){this.auth=e,this.observer=null,this.addObserver=RS(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function c_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Pn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",kL().appendChild(i)})}function XS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OL="https://www.google.com/recaptcha/enterprise.js?render=",NL="recaptcha-enterprise",xL="NO_RECAPTCHA";class DL{constructor(e){this.type=NL,this.auth=Dt(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{uL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new aL(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function s(o,l,c){const h=window.grecaptcha;NI(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(xL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&NI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}c_(OL+c).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function MI(t,e,n,i=!1){const s=new DL(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function pp(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await MI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await MI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e){const n=qo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Sf(o,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function ML(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ZS(t,e,n){const i=Dt(t);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=eR(e),{host:l,port:c}=VL(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||FL()}function eR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VL(t){const e=eR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:VI(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:VI(l)}}}function VI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){return Zt(t,"POST","/v1/accounts:resetPassword",Bt(t,e))}async function nR(t,e){return Zt(t,"POST","/v1/accounts:update",e)}async function UL(t,e){return Zt(t,"POST","/v1/accounts:update",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){return Wr(t,"POST","/v1/accounts:signInWithPassword",Bt(t,e))}async function mp(t,e){return Zt(t,"POST","/v1/accounts:sendOobCode",Bt(t,e))}async function jL(t,e){return mp(t,e)}async function $L(t,e){return mp(t,e)}async function HL(t,e){return mp(t,e)}async function qL(t,e){return mp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e){return Wr(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}async function KL(t,e){return Wr(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends kl{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Oc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Oc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",BL);case"emailLink":return WL(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return nR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return KL(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xr(t,e){return Wr(t,"POST","/v1/accounts:signInWithIdp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="http://localhost";class mr extends kl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=s_(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new mr(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return xr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xr(e,n)}buildRequest(){const e={requestUri:zL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return Zt(t,"POST","/v1/accounts:sendVerificationCode",Bt(t,e))}async function YL(t,e){return Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e))}async function QL(t,e){const n=await Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e));if(n.temporaryProof)throw ic(t,"account-exists-with-different-credential",n);return n}const JL={USER_NOT_FOUND:"user-not-found"};async function XL(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Wr(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,n),JL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends kl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Po({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Po({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return YL(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return QL(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return XL(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new Po({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eM(t){const e=qa(nc(t)).link,n=e?qa(nc(e)).deep_link_id:null,i=qa(nc(t)).deep_link_id;return(i?qa(nc(i)).link:null)||i||n||e||t}class gp{constructor(e){var n,i,s,o,l,c;const h=qa(nc(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,p=(i=h.oobCode)!==null&&i!==void 0?i:null,v=ZL((s=h.mode)!==null&&s!==void 0?s:null);Q(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=eM(e);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.providerId=Vs.PROVIDER_ID}static credential(e,n){return Oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=gp.parseLink(n);return Q(i,"argument-error"),Oc._fromEmailAndCode(e,i.code,i.tenantId)}}Vs.PROVIDER_ID="password";Vs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Kr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class za extends Ol{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),mr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),mr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return za.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return za.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new za(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Ol{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mr._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return rr.credential(n,i)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Ol{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="http://localhost";class sl extends kl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return xr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,xr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new sl(i,o)}static _create(e,n){return new sl(e,n)}buildRequest(){return{requestUri:tM,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="saml.";class Pf extends Kr{constructor(e){Q(e.startsWith(nM),"argument-error"),super(e)}static credentialFromResult(e){return Pf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Pf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=sl.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return sl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Ol{constructor(){super("twitter.com")}static credential(e,n){return mr._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return or.credential(n,i)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return Wr(t,"POST","/v1/accounts:signUp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await Ro._fromIdTokenResponse(e,i,s),l=FI(i);return new Si({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=FI(i);return new Si({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function FI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t){var e;const n=Dt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Si({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await iR(n,{returnSecureToken:!0}),s=await Si._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends Cn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new kf(e,n,i,s)}}function rR(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){const n=Re(t);await vp(!0,n,e);const{providerUserInfo:i}=await dL(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=sR(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function d_(t,e,n=!1){const i=await Vr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Si._forOperation(t,"link",i)}async function vp(t,e,n){await Pc(e);const i=sR(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";Q(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Vr(t,rR(i,s,e,t),n);Q(o.idToken,i,"internal-error");const l=fp(o.idToken);Q(l,i,"internal-error");const{sub:c}=l;return Q(t.uid===c,i,"user-mismatch"),Si._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_n(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e,n=!1){const i="signIn",s=await rR(t,i,e),o=await Si._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function yp(t,e){return aR(Dt(t),e)}async function lR(t,e){const n=Re(t);return await vp(!1,n,e.providerId),d_(n,e)}async function uR(t,e){return oR(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){return Wr(t,"POST","/v1/accounts:signInWithCustomToken",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e){const n=Dt(t),i=await sM(n,{token:e,returnSecureToken:!0}),s=await Si._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?h_._fromServerResponse(e,n):"totpInfo"in n?f_._fromServerResponse(e,n):_n(e,"internal-error")}}class h_ extends id{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new h_(n)}}class f_ extends id{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new f_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e,n){var i;Q(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(t){const e=Dt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aM(t,e,n){const i=Dt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&_p(i,s,n),await pp(i,s,"getOobCode",$L)}async function lM(t,e,n){await tR(Re(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&p_(t),i})}async function uM(t,e){await UL(Re(t),{oobCode:e})}async function cR(t,e){const n=Re(t),i=await tR(n,{oobCode:e}),s=i.requestType;switch(Q(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(i.mfaInfo,n,"internal-error");default:Q(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=id._fromServerResponse(Dt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function cM(t,e){const{data:n}=await cR(Re(t),e);return n.email}async function dM(t,e,n){const i=Dt(t),l=await pp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&p_(t),h}),c=await Si._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function hM(t,e,n){return yp(Re(t),Vs.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&p_(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e,n){const i=Dt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){Q(c.handleCodeInApp,i,"argument-error"),c&&_p(i,l,c)}o(s,n),await pp(i,s,"getOobCode",HL)}function pM(t,e){const n=gp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function mM(t,e,n){const i=Re(t),s=Vs.credentialWithLink(e,n||Cc());return Q(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),yp(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t,e){return Zt(t,"POST","/v1/accounts:createAuthUri",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){const n=a_()?Cc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await gM(Re(t),i);return s||[]}async function yM(t,e){const n=Re(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_p(n.auth,s,e);const{email:o}=await jL(n.auth,s);o!==t.email&&await t.reload()}async function _M(t,e,n){const i=Re(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&_p(i.auth,o,n);const{email:l}=await qL(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return Zt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Re(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Vr(i,wM(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function EM(t,e){return dR(Re(t),e,null)}function IM(t,e){return dR(Re(t),null,e)}async function dR(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Vr(t,nR(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=fp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Ga(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new AM(o,s);case"github.com":return new SM(o,s);case"google.com":return new RM(o,s);case"twitter.com":return new CM(o,s,t.screenName||null);case"custom":case"anonymous":return new Ga(o,null);default:return new Ga(o,i,s)}}class Ga{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class hR extends Ga{constructor(e,n,i,s){super(e,n,i),this.username=s}}class AM extends Ga{constructor(e,n){super(e,"facebook.com",n)}}class SM extends hR{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class RM extends Ga{constructor(e,n){super(e,"google.com",n)}}class CM extends hR{constructor(e,n,i){super(e,"twitter.com",n,i)}}function PM(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:TM(n)}function kM(t,e,n,i){return Re(t).onIdTokenChanged(e,n,i)}function OM(t,e,n){return Re(t).beforeAuthStateChanged(e,n)}function NM(t,e,n,i){return Re(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new wo("enroll",e,n)}static _fromMfaPendingCredential(e){return new wo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return wo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return wo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Dt(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>id._fromServerResponse(i,c));Q(s.mfaPendingCredential,i,"internal-error");const l=wo._fromMfaPendingCredential(s.mfaPendingCredential);return new m_(l,o,async c=>{const h=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:h.idToken,refreshToken:h.refreshToken});switch(n.operationType){case"signIn":const p=await Si._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(p.user),p;case"reauthenticate":return Q(n.user,i,"internal-error"),Si._forOperation(n.user,n.operationType,f);default:_n(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function xM(t,e){var n;const i=Re(t),s=e;return Q(e.customData.operationType,i,"argument-error"),Q((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),m_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e){return Zt(t,"POST","/v2/accounts/mfaEnrollment:start",Bt(t,e))}function LM(t,e){return Zt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(t,e))}function MM(t,e){return Zt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(t,e))}class g_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>id._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new g_(e)}async getSession(){return wo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await Vr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Vr(this.user,MM(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const fv=new WeakMap;function VM(t){const e=Re(t);return fv.has(e)||fv.set(e,g_._fromUser(e)),fv.get(e)}const Of="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Of,"1"),this.storage.removeItem(Of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){const t=Xt();return u_(t)||Pl(t)}const UM=1e3,BM=10;class pR extends fR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FM()&&TL(),this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);IL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BM):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},UM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pR.type="LOCAL";const wp=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends fR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mR.type="SESSION";const Os=mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new bp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),h=await jM(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=rd("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return window}function HM(t){Kt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return typeof Kt().WorkerGlobalScope<"u"&&typeof Kt().importScripts=="function"}async function qM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KM(){return v_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebaseLocalStorageDb",zM=1,Nf="firebaseLocalStorage",vR="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ep(t,e){return t.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function GM(){const t=indexedDB.deleteDatabase(gR);return new sd(t).toPromise()}function Yv(){const t=indexedDB.open(gR,zM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Nf,{keyPath:vR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Nf)?e(i):(i.close(),await GM(),e(await Yv()))})})}async function UI(t,e,n){const i=Ep(t,!0).put({[vR]:e,value:n});return new sd(i).toPromise()}async function YM(t,e){const n=Ep(t,!1).get(e),i=await new sd(n).toPromise();return i===void 0?null:i.value}function BI(t,e){const n=Ep(t,!0).delete(e);return new sd(n).toPromise()}const QM=800,JM=3;class yR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>JM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bp._getInstance(KM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yv();return await UI(e,Of,"1"),await BI(e,Of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>UI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>YM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Ep(s,!1).getAll();return new sd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yR.type="LOCAL";const ol=yR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e){return Zt(t,"POST","/v2/accounts/mfaSignIn:start",Bt(t,e))}function ZM(t,e){return Zt(t,"POST","/v2/accounts/mfaSignIn:finalize",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=500,tV=6e4,$h=1e12;class nV{constructor(e){this.auth=e,this.counter=$h,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new iV(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||$h;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||$h;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||$h;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class iV{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Q(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=rV(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},tV)},eV))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function rV(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=XS("rcb"),sV=new td(3e4,6e4),oV="https://www.google.com/recaptcha/api.js?";class aV{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Kt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(lV(n),e,"argument-error"),this.shouldResolveImmediately(n)&&OI(Kt().grecaptcha)?Promise.resolve(Kt().grecaptcha):new Promise((i,s)=>{const o=Kt().setTimeout(()=>{s(Pn(e,"network-request-failed"))},sV.get());Kt()[pv]=()=>{Kt().clearTimeout(o),delete Kt()[pv];const c=Kt().grecaptcha;if(!c||!OI(c)){s(Pn(e,"internal-error"));return}const h=c.render;c.render=(f,p)=>{const v=h(f,p);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${oV}?${Rl({onload:pv,render:"explicit",hl:n})}`;c_(l).catch(()=>{clearTimeout(o),s(Pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Kt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function lV(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class uV{async load(e){return new nV(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="recaptcha",cV={theme:"light",type:"image"};let dV=class{constructor(e,n,i=Object.assign({},cV)){this.parameters=i,this.type=_R,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;Q(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uV:new aV,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=Kt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Q(a_()&&!v_(),this.auth,"internal-error"),await hV(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await lL(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function hV(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Po._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function fV(t,e,n){const i=Dt(t),s=await Ip(i,e,Re(n));return new y_(s,o=>yp(i,o))}async function pV(t,e,n){const i=Re(t);await vp(!1,i,"phone");const s=await Ip(i.auth,e,Re(n));return new y_(s,o=>lR(i,o))}async function mV(t,e,n){const i=Re(t),s=await Ip(i.auth,e,Re(n));return new y_(s,o=>uR(i,o))}async function Ip(t,e,n){var i;const s=await n.verify();try{Q(typeof s=="string",t,"argument-error"),Q(n.type===_R,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return Q(l.type==="enroll",t,"internal-error"),(await DM(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{Q(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return Q(c,t,"missing-multi-factor-info"),(await XM(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await GL(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function gV(t,e){await d_(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=class hf{constructor(e){this.providerId=hf.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,n){return Ip(this.auth,e,Re(n))}static credential(e,n){return Po._fromVerification(e,n)}static credentialFromResult(e){const n=e;return hf.credentialFromTaggedObject(n)}static credentialFromError(e){return hf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Po._fromTokenResponse(n,i):null}};Lo.PROVIDER_ID="phone";Lo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(t,e){return e?pi(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends kl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vV(t){return aR(t.auth,new __(t),t.bypassAuthState)}function yV(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),oR(n,new __(t),t.bypassAuthState)}async function _V(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),d_(n,new __(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return _V;case"reauthViaPopup":case"reauthViaRedirect":return yV;default:_n(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new td(2e3,1e4);async function bV(t,e,n){const i=Dt(t);Cl(t,e,Kr);const s=Wo(i,n);return new Pr(i,"signInViaPopup",e,s).executeNotNull()}async function EV(t,e,n){const i=Re(t);Cl(i.auth,e,Kr);const s=Wo(i.auth,n);return new Pr(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function IV(t,e,n){const i=Re(t);Cl(i.auth,e,Kr);const s=Wo(i.auth,n);return new Pr(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class Pr extends wR{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Pr.currentPopupAction&&Pr.currentPopupAction.cancel(),Pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=rd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wV.get())};e()}}Pr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="pendingRedirect",fc=new Map;class AV extends wR{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const i=await SV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SV(t,e){const n=ER(e),i=bR(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function w_(t,e){return bR(t)._set(ER(e),"true")}function RV(){fc.clear()}function b_(t,e){fc.set(t._key(),e)}function bR(t){return pi(t._redirectPersistence)}function ER(t){return Co(TV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t,e,n){return PV(t,e,n)}async function PV(t,e,n){const i=Dt(t);Cl(t,e,Kr),await i._initializationPromise;const s=Wo(i,n);return await w_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function kV(t,e,n){return OV(t,e,n)}async function OV(t,e,n){const i=Re(t);Cl(i.auth,e,Kr),await i.auth._initializationPromise;const s=Wo(i.auth,n);await w_(s,i.auth);const o=await IR(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function NV(t,e,n){return xV(t,e,n)}async function xV(t,e,n){const i=Re(t);Cl(i.auth,e,Kr),await i.auth._initializationPromise;const s=Wo(i.auth,n);await vp(!1,i,e.providerId),await w_(s,i.auth);const o=await IR(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function DV(t,e){return await Dt(t)._initializationPromise,Tp(t,e,!1)}async function Tp(t,e,n=!1){const i=Dt(t),s=Wo(i,e),l=await new AV(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function IR(t){const e=rd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=10*60*1e3;class TR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!AR(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LV&&this.cachedEventUids.clear(),this.cachedEventUids.has(jI(e))}saveEventToCache(e){this.cachedEventUids.add(jI(e)),this.lastProcessedEventTime=Date.now()}}function jI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(t,e={}){return Zt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FV=/^https?/;async function UV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SR(t);for(const n of e)try{if(BV(n))return}catch{}_n(t,"unauthorized-domain")}function BV(t){const e=Cc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!FV.test(n))return!1;if(VV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=new td(3e4,6e4);function $I(){const t=Kt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $V(t){return new Promise((e,n)=>{var i,s,o;function l(){$I(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$I(),n(Pn(t,"network-request-failed"))},timeout:jV.get()})}if(!((s=(i=Kt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Kt().gapi)===null||o===void 0)&&o.load)l();else{const c=XS("iframefcb");return Kt()[c]=()=>{gapi.load?l():n(Pn(t,"network-request-failed"))},c_(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw ff=null,e})}let ff=null;function HV(t){return ff=ff||$V(t),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new td(5e3,15e3),WV="__/auth/iframe",KV="emulator/auth/iframe",zV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YV(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l_(e,KV):`https://${t.config.authDomain}/${WV}`,i={apiKey:e.apiKey,appName:t.name,v:qr},s=GV.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Rl(i).slice(1)}`}async function QV(t){const e=await HV(t),n=Kt().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:YV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Pn(t,"network-request-failed"),c=Kt().setTimeout(()=>{o(l)},qV.get());function h(){Kt().clearTimeout(c),s(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XV=500,ZV=600,e4="_blank",t4="http://localhost";class HI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n4(t,e,n,i=XV,s=ZV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},JV),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Xt().toLowerCase();n&&(c=KS(f)?e4:n),WS(f)&&(e=e||t4,h.scrollbars="yes");const p=Object.entries(h).reduce((y,[b,S])=>`${y}${b}=${S},`,"");if(EL(f)&&c!=="_self")return i4(e||"",c),new HI(null);const v=window.open(e||"",c,p);Q(v,t,"popup-blocked");try{v.focus()}catch{}return new HI(v)}function i4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="__/auth/handler",s4="emulator/auth/handler",o4=encodeURIComponent("fac");async function Qv(t,e,n,i,s,o){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:qr,eventId:s};if(e instanceof Kr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Ux(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(o||{}))l[p]=v}if(e instanceof Ol){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await t._getAppCheckToken(),f=h?`#${o4}=${encodeURIComponent(h)}`:"";return`${a4(t)}?${Rl(c).slice(1)}${f}`}function a4({config:t}){return t.emulator?l_(t,s4):`https://${t.authDomain}/${r4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="webStorageSupport";class l4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Tp,this._overrideRedirectResult=b_}async _openPopup(e,n,i,s){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Qv(e,n,i,Cc(),s);return n4(e,l,rd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await Qv(e,n,i,Cc(),s);return HM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ui(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QV(e),i=new TR(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mv,{type:mv},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[mv];l!==void 0&&n(!!l),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QS()||u_()||Pl()}}const RR=l4;class u4{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return ur("unexpected MultiFactorSessionType")}}}class E_ extends u4{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new E_(e)}_finalizeEnroll(e,n,i){return LM(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return ZM(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class CR{constructor(){}static assertion(e){return E_._fromCredential(e)}}CR.FACTOR_ID="phone";var qI="@firebase/auth",WI="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function h4(t){pr(new Fi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Q(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(t)},f=new PL(i,s,o,h);return ML(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),pr(new Fi("auth-internal",e=>{const n=Dt(e.getProvider("auth").getImmediate());return(i=>new c4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(qI,WI,d4(t)),zn(qI,WI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=5*60,p4=ES("authIdTokenMaxAge")||f4;let KI=null;const m4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>p4)return;const s=n==null?void 0:n.token;KI!==s&&(KI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function PR(t=ed()){const e=qo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LL(t,{popupRedirectResolver:RR,persistence:[ol,wp,Os]}),i=ES("authTokenSyncURL");if(i){const o=m4(i);OM(n,o,()=>o(n.currentUser)),kM(n,l=>o(l))}const s=wS("auth");return s&&ZS(n,`http://${s}`),n}h4("Browser");var g4="firebase",v4="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(g4,v4,"app");var y4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,I_=I_||{},xe=y4||self;function Ap(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function od(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _4(t){return Object.prototype.hasOwnProperty.call(t,gv)&&t[gv]||(t[gv]=++w4)}var gv="closure_uid_"+(1e9*Math.random()>>>0),w4=0;function b4(t,e,n){return t.call.apply(t.bind,arguments)}function E4(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Mn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=b4:Mn=E4,Mn.apply(null,arguments)}function Hh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function bn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Fs(){this.s=this.s,this.o=this.o}var I4=0;Fs.prototype.s=!1;Fs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),I4!=0)&&_4(this)};Fs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function T_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function zI(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Ap(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Vn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vn.prototype.h=function(){this.defaultPrevented=!0};var T4=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xe.addEventListener("test",()=>{},e),xe.removeEventListener("test",()=>{},e)}catch{}return t}();function Nc(t){return/^[\s\xa0]*$/.test(t)}function Sp(){var t=xe.navigator;return t&&(t=t.userAgent)?t:""}function ar(t){return Sp().indexOf(t)!=-1}function A_(t){return A_[" "](t),t}A_[" "]=function(){};function A4(t,e){var n=vF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var S4=ar("Opera"),al=ar("Trident")||ar("MSIE"),OR=ar("Edge"),Jv=OR||al,NR=ar("Gecko")&&!(Sp().toLowerCase().indexOf("webkit")!=-1&&!ar("Edge"))&&!(ar("Trident")||ar("MSIE"))&&!ar("Edge"),R4=Sp().toLowerCase().indexOf("webkit")!=-1&&!ar("Edge");function xR(){var t=xe.document;return t?t.documentMode:void 0}var Xv;e:{var vv="",yv=function(){var t=Sp();if(NR)return/rv:([^\);]+)(\)|;)/.exec(t);if(OR)return/Edge\/([\d\.]+)/.exec(t);if(al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(R4)return/WebKit\/(\S+)/.exec(t);if(S4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yv&&(vv=yv?yv[1]:""),al){var _v=xR();if(_v!=null&&_v>parseFloat(vv)){Xv=String(_v);break e}}Xv=vv}var Zv;if(xe.document&&al){var GI=xR();Zv=GI||parseInt(Xv,10)||void 0}else Zv=void 0;var C4=Zv;function xc(t,e){if(Vn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NR){e:{try{A_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:P4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xc.$.h.call(this)}}bn(xc,Vn);var P4={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ad="closure_listenable_"+(1e6*Math.random()|0),k4=0;function O4(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++k4,this.fa=this.ia=!1}function Rp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function S_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function N4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function DR(t){const e={};for(const n in t)e[n]=t[n];return e}const YI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LR(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<YI.length;o++)n=YI[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Cp(t){this.src=t,this.g={},this.h=0}Cp.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=ty(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new O4(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function ey(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=kR(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(Rp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ty(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var R_="closure_lm_"+(1e6*Math.random()|0),wv={};function MR(t,e,n,i,s){if(i&&i.once)return FR(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)MR(t,e[o],n,i,s);return null}return n=k_(n),t&&t[ad]?t.O(e,n,od(i)?!!i.capture:!!i,s):VR(t,e,n,!1,i,s)}function VR(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=od(s)?!!s.capture:!!s,c=P_(t);if(c||(t[R_]=c=new Cp(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=x4(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)T4||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(BR(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function x4(){function t(n){return e.call(t.src,t.listener,n)}const e=D4;return t}function FR(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)FR(t,e[o],n,i,s);return null}return n=k_(n),t&&t[ad]?t.P(e,n,od(i)?!!i.capture:!!i,s):VR(t,e,n,!0,i,s)}function UR(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)UR(t,e[o],n,i,s);else i=od(i)?!!i.capture:!!i,n=k_(n),t&&t[ad]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=ty(o,n,i,s),-1<n&&(Rp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=P_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ty(e,n,i,s)),(n=-1<t?e[t]:null)&&C_(n))}function C_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ad])ey(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(BR(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=P_(e))?(ey(n,t),n.h==0&&(n.src=null,e[R_]=null)):Rp(t)}}}function BR(t){return t in wv?wv[t]:wv[t]="on"+t}function D4(t,e){if(t.fa)t=!0;else{e=new xc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&C_(t),t=n.call(i,e)}return t}function P_(t){return t=t[R_],t instanceof Cp?t:null}var bv="__closure_events_fn_"+(1e9*Math.random()>>>0);function k_(t){return typeof t=="function"?t:(t[bv]||(t[bv]=function(e){return t.handleEvent(e)}),t[bv])}function wn(){Fs.call(this),this.i=new Cp(this),this.S=this,this.J=null}bn(wn,Fs);wn.prototype[ad]=!0;wn.prototype.removeEventListener=function(t,e,n,i){UR(this,t,e,n,i)};function kn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Vn(e,t);else if(e instanceof Vn)e.target=e.target||t;else{var s=e;e=new Vn(i,t),LR(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=qh(l,i,!0,e)&&s}if(l=e.g=t,s=qh(l,i,!0,e)&&s,s=qh(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=qh(l,i,!1,e)&&s}wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Rp(n[i]);delete t.g[e],t.h--}}this.J=null};wn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};wn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function qh(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,h=l.la||l.src;l.ia&&ey(t.i,l),s=c.call(h,i)!==!1&&s}}return s&&!i.defaultPrevented}var O_=xe.JSON.stringify;class L4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function M4(){var t=N_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class V4{constructor(){this.h=this.g=null}add(e,n){const i=jR.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var jR=new L4(()=>new F4,t=>t.reset());class F4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function U4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function B4(t){xe.setTimeout(()=>{throw t},0)}let Dc,Lc=!1,N_=new V4,$R=()=>{const t=xe.Promise.resolve(void 0);Dc=()=>{t.then(j4)}};var j4=()=>{for(var t;t=M4();){try{t.h.call(t.g)}catch(n){B4(n)}var e=jR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lc=!1};function Pp(t,e){wn.call(this),this.h=t||1,this.g=e||xe,this.j=Mn(this.qb,this),this.l=Date.now()}bn(Pp,wn);re=Pp.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kn(this,"tick"),this.ga&&(x_(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function x_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}re.N=function(){Pp.$.N.call(this),x_(this),delete this.g};function D_(t,e,n){if(typeof t=="function")n&&(t=Mn(t,n));else if(t&&typeof t.handleEvent=="function")t=Mn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:xe.setTimeout(t,e||0)}function HR(t){t.g=D_(()=>{t.g=null,t.i&&(t.i=!1,HR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class $4 extends Fs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HR(this)}N(){super.N(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mc(t){Fs.call(this),this.h=t,this.g={}}bn(Mc,Fs);var QI=[];function qR(t,e,n,i){Array.isArray(n)||(n&&(QI[0]=n.toString()),n=QI);for(var s=0;s<n.length;s++){var o=MR(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function WR(t){S_(t.g,function(e,n){this.g.hasOwnProperty(n)&&C_(e)},t),t.g={}}Mc.prototype.N=function(){Mc.$.N.call(this),WR(this)};Mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kp(){this.g=!0}kp.prototype.Ea=function(){this.g=!1};function H4(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),h=0;h<c.length;h++){var f=c[h].split("=");if(1<f.length){var p=f[0];f=f[1];var v=p.split("_");l=2<=v.length&&v[1]=="type"?l+(p+"="+f+"&"):l+(p+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function q4(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function Wa(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+K4(t,n)+(i?" "+i:"")})}function W4(t,e){t.info(function(){return"TIMEOUT: "+e})}kp.prototype.info=function(){};function K4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return O_(n)}catch{return e}}var Ko={},JI=null;function Op(){return JI=JI||new wn}Ko.Ta="serverreachability";function KR(t){Vn.call(this,Ko.Ta,t)}bn(KR,Vn);function Vc(t){const e=Op();kn(e,new KR(e))}Ko.STAT_EVENT="statevent";function zR(t,e){Vn.call(this,Ko.STAT_EVENT,t),this.stat=e}bn(zR,Vn);function Kn(t){const e=Op();kn(e,new zR(e,t))}Ko.Ua="timingevent";function GR(t,e){Vn.call(this,Ko.Ua,t),this.size=e}bn(GR,Vn);function ld(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){t()},e)}var Np={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function L_(){}L_.prototype.h=null;function XI(t){return t.h||(t.h=t.i())}function QR(){}var ud={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function M_(){Vn.call(this,"d")}bn(M_,Vn);function V_(){Vn.call(this,"c")}bn(V_,Vn);var ny;function xp(){}bn(xp,L_);xp.prototype.g=function(){return new XMLHttpRequest};xp.prototype.i=function(){return{}};ny=new xp;function cd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Mc(this),this.P=z4,t=Jv?125:void 0,this.V=new Pp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new JR}function JR(){this.i=null,this.g="",this.h=!1}var z4=45e3,iy={},xf={};re=cd.prototype;re.setTimeout=function(t){this.P=t};function ry(t,e,n){t.L=1,t.v=Lp(Fr(e)),t.s=n,t.S=!0,XR(t,null)}function XR(t,e){t.G=Date.now(),dd(t),t.A=Fr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),oC(n.i,"t",i),t.C=0,n=t.l.J,t.h=new JR,t.g=RC(t.l,n?e:null,!t.s),0<t.O&&(t.M=new $4(Mn(t.Pa,t,t.g),t.O)),qR(t.U,t.g,"readystatechange",t.nb),e=t.I?DR(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vc(),H4(t.j,t.u,t.A,t.m,t.W,t.s)}re.nb=function(t){t=t.target;const e=this.M;e&&cr(t)==3?e.l():this.Pa(t)};re.Pa=function(t){try{if(t==this.g)e:{const p=cr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>p)&&(p!=3||Jv||this.g&&(this.h.h||this.g.ja()||nT(this.g)))){this.J||p!=4||e==7||(e==8||0>=v?Vc(3):Vc(2)),Dp(this);var n=this.g.da();this.ca=n;t:if(ZR(this)){var i=nT(this.g);t="";var s=i.length,o=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bo(this),pc(this);var l="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,q4(this.j,this.u,this.A,this.m,this.W,p,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nc(c)){var f=c;break t}}f=null}if(n=f)Wa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sy(this,n);else{this.i=!1,this.o=3,Kn(12),bo(this),pc(this);break e}}this.S?(eC(this,p,l),Jv&&this.i&&p==3&&(qR(this.U,this.V,"tick",this.mb),this.V.start())):(Wa(this.j,this.m,l,null),sy(this,l)),p==4&&bo(this),this.i&&!this.J&&(p==4?IC(this.l,this):(this.i=!1,dd(this)))}else pF(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),bo(this),pc(this)}}}catch{}finally{}};function ZR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function eC(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=G4(t,n),s==xf){e==4&&(t.o=4,Kn(14),i=!1),Wa(t.j,t.m,null,"[Incomplete Response]");break}else if(s==iy){t.o=4,Kn(15),Wa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Wa(t.j,t.m,s,null),sy(t,s);ZR(t)&&s!=xf&&s!=iy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Kn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),H_(e),e.M=!0,Kn(11))):(Wa(t.j,t.m,n,"[Invalid Chunked Response]"),bo(t),pc(t))}re.mb=function(){if(this.g){var t=cr(this.g),e=this.g.ja();this.C<e.length&&(Dp(this),eC(this,t,e),this.i&&t!=4&&dd(this))}};function G4(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?xf:(n=Number(e.substring(n,i)),isNaN(n)?iy:(i+=1,i+n>e.length?xf:(e=e.slice(i,i+n),t.C=i+n,e)))}re.cancel=function(){this.J=!0,bo(this)};function dd(t){t.Y=Date.now()+t.P,tC(t,t.P)}function tC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ld(Mn(t.lb,t),e)}function Dp(t){t.B&&(xe.clearTimeout(t.B),t.B=null)}re.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(W4(this.j,this.A),this.L!=2&&(Vc(),Kn(17)),bo(this),this.o=2,pc(this)):tC(this,this.Y-t)};function pc(t){t.l.H==0||t.J||IC(t.l,t)}function bo(t){Dp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,x_(t.V),WR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||oy(n.i,t))){if(!t.K&&oy(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Mf(n),Fp(n);else break e;$_(n),Kn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ld(Mn(n.ib,n),6e3));if(1>=uC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Eo(n,11)}else if((t.K||n.g==t)&&Mf(n),!Nc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const p=f[3];p!=null&&(n.ra=p,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const y=f[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const b=t.g;if(b){const S=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var o=i.i;o.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(F_(o,o.h),o.h=null))}if(i.F){const _=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,bt(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=SC(i,i.J?i.pa:null,i.Y),l.K){cC(i.i,l);var c=l,h=i.L;h&&c.setTimeout(h),c.B&&(Dp(c),dd(c)),i.g=l}else bC(i);0<n.j.length&&Up(n)}else f[0]!="stop"&&f[0]!="close"||Eo(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?Eo(n,7):j_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Vc(4)}catch{}}function Y4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ap(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function Q4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ap(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function nC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ap(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Q4(t),i=Y4(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var iC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ko(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ko){this.h=t.h,Df(this,t.j),this.s=t.s,this.g=t.g,Lf(this,t.m),this.l=t.l;var e=t.i,n=new Fc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ZI(this,n),this.o=t.o}else t&&(e=String(t).match(iC))?(this.h=!1,Df(this,e[1]||"",!0),this.s=rc(e[2]||""),this.g=rc(e[3]||"",!0),Lf(this,e[4]),this.l=rc(e[5]||"",!0),ZI(this,e[6]||"",!0),this.o=rc(e[7]||"")):(this.h=!1,this.i=new Fc(null,this.h))}ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(sc(e,eT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(sc(e,eT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(sc(n,n.charAt(0)=="/"?eF:Z4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",sc(n,nF)),t.join("")};function Fr(t){return new ko(t)}function Df(t,e,n){t.j=n?rc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ZI(t,e,n){e instanceof Fc?(t.i=e,iF(t.i,t.h)):(n||(e=sc(e,tF)),t.i=new Fc(e,t.h))}function bt(t,e,n){t.i.set(e,n)}function Lp(t){return bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,X4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function X4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var eT=/[#\/\?@]/g,Z4=/[#\?:]/g,eF=/[#\?]/g,tF=/[#\?@]/g,nF=/#/g;function Fc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Us(t){t.g||(t.g=new Map,t.h=0,t.i&&J4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}re=Fc.prototype;re.add=function(t,e){Us(this),this.i=null,t=Nl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function rC(t,e){Us(t),e=Nl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sC(t,e){return Us(t),e=Nl(t,e),t.g.has(e)}re.forEach=function(t,e){Us(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};re.ta=function(){Us(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};re.Z=function(t){Us(this);let e=[];if(typeof t=="string")sC(this,t)&&(e=e.concat(this.g.get(Nl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};re.set=function(t,e){return Us(this),this.i=null,t=Nl(this,t),sC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function oC(t,e,n){rC(t,e),0<n.length&&(t.i=null,t.g.set(Nl(t,e),T_(n)),t.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Nl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iF(t,e){e&&!t.j&&(Us(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(rC(this,i),oC(this,s,n))},t)),t.j=e}var rF=class{constructor(t,e){this.g=t,this.map=e}};function aC(t){this.l=t||sF,xe.PerformanceNavigationTiming?(t=xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(xe.g&&xe.g.Ka&&xe.g.Ka()&&xe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sF=10;function lC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function uC(t){return t.h?1:t.g?t.g.size:0}function oy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function F_(t,e){t.g?t.g.add(e):t.h=e}function cC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aC.prototype.cancel=function(){if(this.i=dC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return T_(t.i)}var oF=class{stringify(t){return xe.JSON.stringify(t,void 0)}parse(t){return xe.JSON.parse(t,void 0)}};function aF(){this.g=new oF}function lF(t,e,n){const i=n||"";try{nC(t,function(s,o){let l=s;od(s)&&(l=O_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function uF(t,e){const n=new kp;if(xe.Image){const i=new Image;i.onload=Hh(Wh,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Hh(Wh,n,i,"TestLoadImage: error",!1,e),i.onabort=Hh(Wh,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Hh(Wh,n,i,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Wh(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function hd(t){this.l=t.ec||null,this.j=t.ob||!1}bn(hd,L_);hd.prototype.g=function(){return new Mp(this.l,this.j)};hd.prototype.i=function(t){return function(){return t}}({});function Mp(t,e){wn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=U_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bn(Mp,wn);var U_=0;re=Mp.prototype;re.open=function(t,e){if(this.readyState!=U_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uc(this)};re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||xe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fd(this)),this.readyState=U_};re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fd(this):Uc(this),this.readyState==3&&hC(this)}};re.Za=function(t){this.g&&(this.response=this.responseText=t,fd(this))};re.Ya=function(t){this.g&&(this.response=t,fd(this))};re.ka=function(){this.g&&fd(this)};function fd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uc(t)}re.setRequestHeader=function(t,e){this.v.append(t,e)};re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Uc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cF=xe.JSON.parse;function Lt(t){wn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fC,this.L=this.M=!1}bn(Lt,wn);var fC="",dF=/^https?$/i,hF=["POST","PUT"];re=Lt.prototype;re.Oa=function(t){this.M=t};re.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ny.g(),this.C=this.u?XI(this.u):XI(ny),this.g.onreadystatechange=Mn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){tT(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=xe.FormData&&t instanceof xe.FormData,!(0<=kR(hF,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gC(this),0<this.B&&((this.L=fF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.ua,this)):this.A=D_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){tT(this,o)}};function fF(t){return al&&typeof t.timeout=="number"&&t.ontimeout!==void 0}re.ua=function(){typeof I_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))};function tT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pC(t),Vp(t)}function pC(t){t.F||(t.F=!0,kn(t,"complete"),kn(t,"error"))}re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kn(this,"complete"),kn(this,"abort"),Vp(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vp(this,!0)),Lt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?mC(this):this.kb())};re.kb=function(){mC(this)};function mC(t){if(t.h&&typeof I_<"u"&&(!t.C[1]||cr(t)!=4||t.da()!=2)){if(t.v&&cr(t)==4)D_(t.La,0,t);else if(kn(t,"readystatechange"),cr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(iC)[1]||null;!s&&xe.self&&xe.self.location&&(s=xe.self.location.protocol.slice(0,-1)),i=!dF.test(s?s.toLowerCase():"")}n=i}if(n)kn(t,"complete"),kn(t,"success");else{t.m=6;try{var o=2<cr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",pC(t)}}finally{Vp(t)}}}}function Vp(t,e){if(t.g){gC(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||kn(t,"ready");try{n.onreadystatechange=i}catch{}}}function gC(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(xe.clearTimeout(t.A),t.A=null)}re.isActive=function(){return!!this.g};function cr(t){return t.g?t.g.readyState:0}re.da=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cF(e)}};function nT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pF(t){const e={};t=(t.g&&2<=cr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Nc(t[i]))continue;var n=U4(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}N4(e,function(i){return i.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function vC(t){let e="";return S_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function B_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=vC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):bt(t,e,n))}function Ku(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yC(t){this.Ga=0,this.j=[],this.l=new kp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ku("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ku("baseRetryDelayMs",5e3,t),this.hb=Ku("retryDelaySeedMs",1e4,t),this.eb=Ku("forwardChannelMaxRetries",2,t),this.xa=Ku("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aC(t&&t.concurrentRequestLimit),this.Ja=new aF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=yC.prototype;re.ra=8;re.H=1;function j_(t){if(_C(t),t.H==3){var e=t.W++,n=Fr(t.I);if(bt(n,"SID",t.K),bt(n,"RID",e),bt(n,"TYPE","terminate"),pd(t,n),e=new cd(t,t.l,e),e.L=2,e.v=Lp(Fr(n)),n=!1,xe.navigator&&xe.navigator.sendBeacon)try{n=xe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&xe.Image&&(new Image().src=e.v,n=!0),n||(e.g=RC(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dd(e)}AC(t)}function Fp(t){t.g&&(H_(t),t.g.cancel(),t.g=null)}function _C(t){Fp(t),t.u&&(xe.clearTimeout(t.u),t.u=null),Mf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&xe.clearTimeout(t.m),t.m=null)}function Up(t){if(!lC(t.i)&&!t.m){t.m=!0;var e=t.Na;Dc||$R(),Lc||(Dc(),Lc=!0),N_.add(e,t),t.C=0}}function mF(t,e){return uC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ld(Mn(t.Na,t,e),TC(t,t.C)),t.C++,!0)}re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new cd(this,this.l,t);let o=this.s;if(this.U&&(o?(o=DR(o),LR(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wC(this,s,e),n=Fr(this.I),bt(n,"RID",t),bt(n,"CVER",22),this.F&&bt(n,"X-HTTP-Session-Id",this.F),pd(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(vC(o)))+"&"+e:this.o&&B_(n,this.o,o)),F_(this.i,s),this.bb&&bt(n,"TYPE","init"),this.P?(bt(n,"$req",e),bt(n,"SID","null"),s.aa=!0,ry(s,n,null)):ry(s,n,e),this.H=2}}else this.H==3&&(t?iT(this,t):this.j.length==0||lC(this.i)||iT(this))};function iT(t,e){var n;e?n=e.m:n=t.W++;const i=Fr(t.I);bt(i,"SID",t.K),bt(i,"RID",n),bt(i,"AID",t.V),pd(t,i),t.o&&t.s&&B_(i,t.o,t.s),n=new cd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),F_(t.i,n),ry(n,i,e)}function pd(t,e){t.na&&S_(t.na,function(n,i){bt(e,i,n)}),t.h&&nC({},function(n,i){bt(e,i,n)})}function wC(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Mn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let f=s[h].g;const p=s[h].map;if(f-=o,0>f)o=Math.max(0,s[h].g-100),c=!1;else try{lF(p,l,"req"+f+"_")}catch{i&&i(p)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function bC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Dc||$R(),Lc||(Dc(),Lc=!0),N_.add(e,t),t.A=0}}function $_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ld(Mn(t.Ma,t),TC(t,t.A)),t.A++,!0)}re.Ma=function(){if(this.u=null,EC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ld(Mn(this.jb,this),t)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Kn(10),Fp(this),EC(this))};function H_(t){t.B!=null&&(xe.clearTimeout(t.B),t.B=null)}function EC(t){t.g=new cd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Fr(t.wa);bt(e,"RID","rpc"),bt(e,"SID",t.K),bt(e,"AID",t.V),bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&bt(e,"TO",t.qa),bt(e,"TYPE","xmlhttp"),pd(t,e),t.o&&t.s&&B_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Lp(Fr(e)),n.s=null,n.S=!0,XR(n,t)}re.ib=function(){this.v!=null&&(this.v=null,Fp(this),$_(this),Kn(19))};function Mf(t){t.v!=null&&(xe.clearTimeout(t.v),t.v=null)}function IC(t,e){var n=null;if(t.g==e){Mf(t),H_(t),t.g=null;var i=2}else if(oy(t.i,e))n=e.F,cC(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Op(),kn(i,new GR(i,n)),Up(t)}else bC(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&mF(t,e)||i==2&&$_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Eo(t,5);break;case 4:Eo(t,10);break;case 3:Eo(t,6);break;default:Eo(t,2)}}}function TC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Eo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Mn(t.pb,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||Df(n,"https"),Lp(n)),uF(n.toString(),i)}else Kn(2);t.H=0,t.h&&t.h.za(e),AC(t),_C(t)}re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Kn(2)):(this.l.info("Failed to ping google.com"),Kn(1))};function AC(t){if(t.H=0,t.ma=[],t.h){const e=dC(t.i);(e.length!=0||t.j.length!=0)&&(zI(t.ma,e),zI(t.ma,t.j),t.i.i.length=0,T_(t.j),t.j.length=0),t.h.ya()}}function SC(t,e,n){var i=n instanceof ko?Fr(n):new ko(n);if(i.g!="")e&&(i.g=e+"."+i.g),Lf(i,i.m);else{var s=xe.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new ko(null);i&&Df(o,i),e&&(o.g=e),s&&Lf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&bt(i,n,e),bt(i,"VER",t.ra),pd(t,i),i}function RC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Lt(new hd({ob:!0})):new Lt(t.va),e.Oa(t.J),e}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function CC(){}re=CC.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function Vf(){if(al&&!(10<=Number(C4)))throw Error("Environmental error: no available transport.")}Vf.prototype.g=function(t,e){return new vi(t,e)};function vi(t,e){wn.call(this),this.g=new yC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xl(this)}bn(vi,wn);vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Kn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=SC(t,null,t.Y),Up(t)};vi.prototype.close=function(){j_(this.g)};vi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=O_(t),t=n);e.j.push(new rF(e.fb++,t)),e.H==3&&Up(e)};vi.prototype.N=function(){this.g.h=null,delete this.j,j_(this.g),delete this.g,vi.$.N.call(this)};function PC(t){M_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}bn(PC,M_);function kC(){V_.call(this),this.status=1}bn(kC,V_);function xl(t){this.g=t}bn(xl,CC);xl.prototype.Ba=function(){kn(this.g,"a")};xl.prototype.Aa=function(t){kn(this.g,new PC(t))};xl.prototype.za=function(t){kn(this.g,new kC)};xl.prototype.ya=function(){kn(this.g,"b")};function gF(){this.blockSize=-1}function Bi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}bn(Bi,gF);Bi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ev(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Bi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)Ev(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){Ev(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){Ev(this,i),s=0;break}}this.h=s,this.i+=e};Bi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function dt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var vF={};function q_(t){return-128<=t&&128>t?A4(t,function(e){return new dt([e|0],0>e?-1:0)}):new dt([t|0],0>t?-1:0)}function dr(t){if(isNaN(t)||!isFinite(t))return Ya;if(0>t)return Tn(dr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=ay;return new dt(e,0)}function OC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tn(OC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dr(Math.pow(e,8)),i=Ya,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=dr(Math.pow(e,o)),i=i.R(o).add(dr(l))):(i=i.R(n),i=i.add(dr(l)))}return i}var ay=4294967296,Ya=q_(0),ly=q_(1),rT=q_(16777216);re=dt.prototype;re.ea=function(){if(bi(this))return-Tn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:ay+i)*e,e*=ay}return t};re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(kr(this))return"0";if(bi(this))return"-"+Tn(this).toString(t);for(var e=dr(Math.pow(t,6)),n=this,i="";;){var s=Uf(n,e).g;n=Ff(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,kr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bi(t){return t.h==-1}re.X=function(t){return t=Ff(this,t),bi(t)?-1:kr(t)?0:1};function Tn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new dt(n,~t.h).add(ly)}re.abs=function(){return bi(this)?Tn(this):this};re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new dt(n,n[n.length-1]&-2147483648?-1:0)};function Ff(t,e){return t.add(Tn(e))}re.R=function(t){if(kr(this)||kr(t))return Ya;if(bi(this))return bi(t)?Tn(this).R(Tn(t)):Tn(Tn(this).R(t));if(bi(t))return Tn(this.R(Tn(t)));if(0>this.X(rT)&&0>t.X(rT))return dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,h=t.D(s)&65535;n[2*i+2*s]+=l*h,Kh(n,2*i+2*s),n[2*i+2*s+1]+=o*h,Kh(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,Kh(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,Kh(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new dt(n,0)};function Kh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function zu(t,e){this.g=t,this.h=e}function Uf(t,e){if(kr(e))throw Error("division by zero");if(kr(t))return new zu(Ya,Ya);if(bi(t))return e=Uf(Tn(t),e),new zu(Tn(e.g),Tn(e.h));if(bi(e))return e=Uf(t,Tn(e)),new zu(Tn(e.g),e.h);if(30<t.g.length){if(bi(t)||bi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ly,i=e;0>=i.X(t);)n=sT(n),i=sT(i);var s=Va(n,1),o=Va(i,1);for(i=Va(i,2),n=Va(n,2);!kr(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=Va(i,1),n=Va(n,1)}return e=Ff(t,s.R(e)),new zu(s,e)}for(s=Ya;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=dr(n),l=o.R(e);bi(l)||0<l.X(t);)n-=i,o=dr(n),l=o.R(e);kr(o)&&(o=ly),s=s.add(o),t=Ff(t,l)}return new zu(s,t)}re.gb=function(t){return Uf(this,t).h};re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new dt(n,this.h&t.h)};re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new dt(n,this.h|t.h)};re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new dt(n,this.h^t.h)};function sT(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new dt(n,t.h)}function Va(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new dt(s,t.h)}Vf.prototype.createWebChannel=Vf.prototype.g;vi.prototype.send=vi.prototype.u;vi.prototype.open=vi.prototype.m;vi.prototype.close=vi.prototype.close;Np.NO_ERROR=0;Np.TIMEOUT=8;Np.HTTP_ERROR=6;YR.COMPLETE="complete";QR.EventType=ud;ud.OPEN="a";ud.CLOSE="b";ud.ERROR="c";ud.MESSAGE="d";wn.prototype.listen=wn.prototype.O;Lt.prototype.listenOnce=Lt.prototype.P;Lt.prototype.getLastError=Lt.prototype.Sa;Lt.prototype.getLastErrorCode=Lt.prototype.Ia;Lt.prototype.getStatus=Lt.prototype.da;Lt.prototype.getResponseJson=Lt.prototype.Wa;Lt.prototype.getResponseText=Lt.prototype.ja;Lt.prototype.send=Lt.prototype.ha;Lt.prototype.setWithCredentials=Lt.prototype.Oa;Bi.prototype.digest=Bi.prototype.l;Bi.prototype.reset=Bi.prototype.reset;Bi.prototype.update=Bi.prototype.j;dt.prototype.add=dt.prototype.add;dt.prototype.multiply=dt.prototype.R;dt.prototype.modulo=dt.prototype.gb;dt.prototype.compare=dt.prototype.X;dt.prototype.toNumber=dt.prototype.ea;dt.prototype.toString=dt.prototype.toString;dt.prototype.getBits=dt.prototype.D;dt.fromNumber=dr;dt.fromString=OC;var yF=function(){return new Vf},_F=function(){return Op()},Iv=Np,wF=YR,bF=Ko,oT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},EF=hd,zh=QR,IF=Lt,TF=Bi,Qa=dt;const aT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new dp("@firebase/firestore");function Gu(){return Mo.logLevel}function fe(t,...e){if(Mo.logLevel<=qe.DEBUG){const n=e.map(W_);Mo.debug(`Firestore (${Dl}): ${t}`,...n)}}function Ur(t,...e){if(Mo.logLevel<=qe.ERROR){const n=e.map(W_);Mo.error(`Firestore (${Dl}): ${t}`,...n)}}function ll(t,...e){if(Mo.logLevel<=qe.WARN){const n=e.map(W_);Mo.warn(`Firestore (${Dl}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: `+t;throw Ur(e),new Error(e)}function Et(t,e){t||Ne()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Cn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class SF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RF{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et(typeof i.accessToken=="string"),new NC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new xn(e)}}class CF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new CF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string"),this.R=n.token,new kF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=NF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function nt(t,e){return t<e?-1:t>e?1:0}function ul(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Jt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Jt(0,0))}static max(){return new De(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ne(),i===void 0?i=e.length-n:i>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Bc{construct(e,n,i){return new vt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const xF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Bc{construct(e,n,i){return new Rn(e,n,i)}static isValidIdentifier(e){return xF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ie(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ie(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ie(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new ie(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(vt.fromString(e))}static fromName(e){return new Ee(vt.fromString(e).popFirst(5))}static empty(){return new Ee(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new vt(e.slice()))}}function DF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(i===1e9?new Jt(n+1,0):new Jt(n,i));return new Ns(s,Ee.empty(),e)}function LF(t){return new Ns(t.readTime,t.key,-1)}class Ns{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ns(De.min(),Ee.empty(),-1)}static max(){return new Ns(De.max(),Ee.empty(),-1)}}function MF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==VF)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,i)=>{n(e)})}static reject(e){return new K((n,i)=>{i(e)})}static waitFor(e){return new K((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},h=>i(h))}),l=!0,o===s&&n()})}static or(e){let n=K.resolve(!1);for(const i of e)n=n.next(s=>s?K.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new K((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(p=>{l[f]=p,++c,c===o&&i(l)},p=>s(p))}})}static doWhile(e,n){return new K((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function gd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}K_._e=-1;function Bp(t){return t==null}function Bf(t){return t===0&&1/t==-1/0}function UF(t){return typeof t=="number"&&Number.isInteger(t)&&!Bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??In.RED,this.left=s??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new In(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,i,s,o){return this}insert(e,n,i){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(e){return new uT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new On(this.comparator);return n.data=e,n}}class uT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new mi([])}unionWith(e){let n=new On(Rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LC("Invalid base64 string: "+o):o}}(e);return new Un(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const BF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(Et(!!t),typeof t=="string"){let e=0;const n=BF.exec(t);if(Et(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z_(t){const e=t.mapValue.fields.__previous_value__;return jp(e)?z_(e):e}function jc(t){const e=xs(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,i,s,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class $c{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jp(t)?4:$F(t)?9007199254740991:10:Ne()}function gr(t,e){if(t===e)return!0;const n=Fo(t);if(n!==Fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=xs(s.timestampValue),c=xs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Vo(s.bytesValue).isEqual(Vo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return zt(s.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return zt(s.integerValue)===zt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=zt(s.doubleValue),c=zt(o.doubleValue);return l===c?Bf(l)===Bf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(lT(l)!==lT(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!gr(l[h],c[h])))return!1;return!0}(t,e);default:return Ne()}}function Hc(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Fo(t),i=Fo(e);if(n!==i)return nt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=zt(o.integerValue||o.doubleValue),h=zt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(jc(t),jc(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(o,l){const c=Vo(o),h=Vo(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const p=nt(c[f],h[f]);if(p!==0)return p}return nt(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=nt(zt(o.latitude),zt(l.latitude));return c!==0?c:nt(zt(o.longitude),zt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],h=l.values||[];for(let f=0;f<c.length&&f<h.length;++f){const p=cl(c[f],h[f]);if(p)return p}return nt(c.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Yh.mapValue&&l===Yh.mapValue)return 0;if(o===Yh.mapValue)return 1;if(l===Yh.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},p=Object.keys(f);h.sort(),p.sort();for(let v=0;v<h.length&&v<p.length;++v){const y=nt(h[v],p[v]);if(y!==0)return y;const b=cl(c[h[v]],f[p[v]]);if(b!==0)return b}return nt(h.length,p.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=xs(t),i=xs(e),s=nt(n.seconds,i.seconds);return s!==0?s:nt(n.nanos,i.nanos)}function dl(t){return uy(t)}function uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=xs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=uy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${uy(n.fields[l])}`;return s+"}"}(t.mapValue):Ne()}function jf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cy(t){return!!t&&"integerValue"in t}function G_(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function hT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=mc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $F(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Rn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=mc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){zo(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new ti(mc(this.value))}}function MC(t){const e=[];return zo(t.fields,(n,i)=>{const s=new Rn([n]);if(pf(i)){const o=MC(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,De.min(),De.min(),De.min(),ti.empty(),0)}static newFoundDocument(e,n,i,s){return new Dn(e,1,n,De.min(),i,s,0)}static newNoDocument(e,n){return new Dn(e,2,n,De.min(),De.min(),ti.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,De.min(),De.min(),ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.position=e,this.inclusive=n}}function fT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=Ee.comparator(Ee.fromName(l.referenceValue),n.key):i=cl(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function HF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{}class Yt extends VC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new WF(e,n,i):n==="array-contains"?new GF(e,i):n==="in"?new YF(e,i):n==="not-in"?new QF(e,i):n==="array-contains-any"?new JF(e,i):new Yt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new KF(e,i):new zF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&Fo(this.value)===Fo(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends VC{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ji(e,n)}matches(e){return FC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function FC(t){return t.op==="and"}function UC(t){return qF(t)&&FC(t)}function qF(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function dy(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(UC(t))return t.filters.map(e=>dy(e)).join(",");{const e=t.filters.map(n=>dy(n)).join(",");return`${t.op}(${e})`}}function BC(t,e){return t instanceof Yt?function(i,s){return s instanceof Yt&&i.op===s.op&&i.field.isEqual(s.field)&&gr(i.value,s.value)}(t,e):t instanceof ji?function(i,s){return s instanceof ji&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&BC(l,s.filters[c]),!0):!1}(t,e):void Ne()}function jC(t){return t instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof ji?function(n){return n.op.toString()+" {"+n.getFilters().map(jC).join(" ,")+"}"}(t):"Filter"}class WF extends Yt{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class KF extends Yt{constructor(e,n){super(e,"in",n),this.keys=$C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zF extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=$C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class GF extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return G_(n)&&Hc(n.arrayValue,this.value)}}class YF extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class QF extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hc(this.value.arrayValue,n)}}class JF extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!G_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Hc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function mT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new XF(t,e,n,i,s,o,l)}function Y_(t){const e=Fe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>dy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>dl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>dl(i)).join(",")),e.ce=n}return e.ce}function Q_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function hy(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function ZF(t,e,n,i,s,o,l,c){return new Bs(t,e,n,i,s,o,l,c)}function $p(t){return new Bs(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J_(t){return t.collectionGroup!==null}function Ja(t){const e=Fe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new On(Rn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new qc(o,i))}),n.has(Rn.keyField().canonicalString())||e.le.push(new qc(Rn.keyField(),i))}return e.le}function hr(t){const e=Fe(t);return e.he||(e.he=eU(e,Ja(t))),e.he}function eU(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new qc(s.field,o)});const n=t.endAt?new hl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hl(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function fy(t,e){const n=t.filters.concat([e]);return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new Bs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return Q_(hr(t),hr(e))&&t.limitType===e.limitType}function HC(t){return`${Y_(hr(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>jC(s)).join(", ")}]`),Bp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>dl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>dl(s)).join(",")),`Target(${i})`}(hr(t))}; limitType=${t.limitType})`}function qp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ee.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Ja(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,h){const f=fT(l,c,h);return l.inclusive?f<=0:f<0}(i.startAt,Ja(i),s)||i.endAt&&!function(l,c,h){const f=fT(l,c,h);return l.inclusive?f>=0:f>0}(i.endAt,Ja(i),s))}(t,e)}function tU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qC(t){return(e,n)=>{let i=!1;for(const s of Ja(t)){const o=nU(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function nU(t,e,n){const i=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?cl(h,f):Ne()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return DC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new Ct(Ee.comparator);function Br(){return iU}const WC=new Ct(Ee.comparator);function oc(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function KC(t){let e=WC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Io(){return gc()}function zC(){return gc()}function gc(){return new Ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const rU=new Ct(Ee.comparator),sU=new On(Ee.comparator);function We(...t){let e=sU;for(const n of t)e=e.add(n);return e}const oU=new On(nt);function aU(){return oU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(e)?"-0":e}}function YC(t){return{integerValue:""+t}}function lU(t,e){return UF(e)?YC(e):GC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this._=void 0}}function uU(t,e,n){return t instanceof Hf?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&jp(o)&&(o=z_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof fl?JC(t,e):t instanceof pl?XC(t,e):function(s,o){const l=QC(s,o),c=vT(l)+vT(s.Ie);return cy(l)&&cy(s.Ie)?YC(c):GC(s.serializer,c)}(t,e)}function cU(t,e,n){return t instanceof fl?JC(t,e):t instanceof pl?XC(t,e):n}function QC(t,e){return t instanceof qf?function(i){return cy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Hf extends Wp{}class fl extends Wp{constructor(e){super(),this.elements=e}}function JC(t,e){const n=ZC(e);for(const i of t.elements)n.some(s=>gr(s,i))||n.push(i);return{arrayValue:{values:n}}}class pl extends Wp{constructor(e){super(),this.elements=e}}function XC(t,e){let n=ZC(e);for(const i of t.elements)n=n.filter(s=>!gr(s,i));return{arrayValue:{values:n}}}class qf extends Wp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vT(t){return zt(t.integerValue||t.doubleValue)}function ZC(t){return G_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.field=e,this.transform=n}}function dU(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof fl&&s instanceof fl||i instanceof pl&&s instanceof pl?ul(i.elements,s.elements,gr):i instanceof qf&&s instanceof qf?gr(i.Ie,s.Ie):i instanceof Hf&&s instanceof Hf}(t.transform,e.transform)}class hU{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kp{}function tP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new X_(t.key,Ii.none()):new vd(t.key,t.data,Ii.none());{const n=t.data,i=ti.empty();let s=new On(Rn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new js(t.key,i,new mi(s.toArray()),Ii.none())}}function fU(t,e,n){t instanceof vd?function(s,o,l){const c=s.value.clone(),h=_T(s.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof js?function(s,o,l){if(!mf(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=_T(s.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(nP(s)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function vc(t,e,n,i){return t instanceof vd?function(o,l,c,h){if(!mf(o.precondition,l))return c;const f=o.value.clone(),p=wT(o.fieldTransforms,h,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof js?function(o,l,c,h){if(!mf(o.precondition,l))return c;const f=wT(o.fieldTransforms,h,l),p=l.data;return p.setAll(nP(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return mf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function pU(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=QC(i.transform,s||null);o!=null&&(n===null&&(n=ti.empty()),n.set(i.field,o))}return n||null}function yT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ul(i,s,(o,l)=>dU(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vd extends Kp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class js extends Kp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function _T(t,e,n){const i=new Map;Et(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,cU(l,c,n[s]))}return i}function wT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,uU(o,l,e))}return i}class X_ extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mU extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&fU(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=vc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=vc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=zC();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const h=tP(l,c);h!==null&&i.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,i)=>yT(n,i))&&ul(this.baseMutations,e.baseMutations,(n,i)=>yT(n,i))}}class Z_{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Et(e.mutations.length===i.length);let s=function(){return rU}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new Z_(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ge;function _U(t){switch(t){default:return Ne();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function iP(t){if(t===void 0)return Ur("GRPC error has no .code"),F.UNKNOWN;switch(t){case Wt.OK:return F.OK;case Wt.CANCELLED:return F.CANCELLED;case Wt.UNKNOWN:return F.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return F.INTERNAL;case Wt.UNAVAILABLE:return F.UNAVAILABLE;case Wt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Wt.NOT_FOUND:return F.NOT_FOUND;case Wt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Wt.ABORTED:return F.ABORTED;case Wt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Wt.DATA_LOSS:return F.DATA_LOSS;default:return Ne()}}(Ge=Wt||(Wt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new Qa([4294967295,4294967295],0);function bT(t){const e=wU().encode(t),n=new TF;return n.update(e),new Uint8Array(n.digest())}function ET(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qa([n,i],0),new Qa([s,o],0)]}class e0{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(i<0)throw new ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Qa.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(Qa.fromNumber(i)));return s.compare(bU)===1&&(s=new Qa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=bT(e),[i,s]=ET(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new e0(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=bT(e),[i,s]=ET(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,yd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new zp(De.min(),s,new Ct(nt),Br(),We())}}class yd{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new yd(i,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class rP{constructor(e,n){this.targetId=e,this.fe=n}}class sP{constructor(e,n,i=Un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class IT{constructor(){this.ge=0,this.pe=AT(),this.ye=Un.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=We(),n=We(),i=We();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ne()}}),new yd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=AT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class EU{constructor(e){this.Le=e,this.ke=new Map,this.qe=Br(),this.Qe=TT(),this.Ke=new Ct(nt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(hy(o))if(i===0){const l=new Ee(o.path);this.We(n,l,Dn.newNoDocument(l,De.min()))}else Et(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=Vo(i).toUint8Array()}catch(h){if(h instanceof LC)return ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new e0(l,s,o)}catch(h){return ll(h instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&hy(c.target)){const h=new Ee(c.target.path);this.qe.get(h)!==null||this.st(l,h)||this.We(l,h,Dn.newNoDocument(h,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=We();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const f=this.Ye(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new zp(e,n,this.Ke,this.qe,i);return this.qe=Br(),this.Qe=TT(),this.Ke=new Ct(nt),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new IT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new On(nt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new IT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function TT(){return new Ct(Ee.comparator)}function AT(){return new Ct(Ee.comparator)}const IU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),TU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AU=(()=>({and:"AND",or:"OR"}))();class SU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function py(t,e){return t.useProto3Json||Bp(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RU(t,e){return Wf(t,e.toTimestamp())}function fr(t){return Et(!!t),De.fromTimestamp(function(n){const i=xs(n);return new Jt(i.seconds,i.nanos)}(t))}function t0(t,e){return function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function aP(t){const e=vt.fromString(t);return Et(dP(e)),e}function my(t,e){return t0(t.databaseId,e.path)}function Tv(t,e){const n=aP(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(lP(n))}function gy(t,e){return t0(t.databaseId,e)}function CU(t){const e=aP(t);return e.length===4?vt.emptyPath():lP(e)}function vy(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lP(t){return Et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ST(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function PU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Et(p===void 0||typeof p=="string"),Un.fromBase64String(p||"")):(Et(p===void 0||p instanceof Uint8Array),Un.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?F.UNKNOWN:iP(f.code);return new ie(p,f.message||"")}(l);n=new sP(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Tv(t,i.document.name),o=fr(i.document.updateTime),l=i.document.createTime?fr(i.document.createTime):De.min(),c=new ti({mapValue:{fields:i.document.fields}}),h=Dn.newFoundDocument(s,o,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];n=new gf(f,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Tv(t,i.document),o=i.readTime?fr(i.readTime):De.min(),l=Dn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new gf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Tv(t,i.document),o=i.removedTargetIds||[];n=new gf([],o,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new yU(s,o),c=i.targetId;n=new rP(c,l)}}return n}function kU(t,e){let n;if(e instanceof vd)n={update:ST(t,e.key,e.value)};else if(e instanceof X_)n={delete:my(t,e.key)};else if(e instanceof js)n={update:ST(t,e.key,e.data),updateMask:UU(e.fieldMask)};else{if(!(e instanceof mU))return Ne();n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Hf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Ne()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:RU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(t,e.precondition)),n}function OU(t,e){return t&&t.length>0?(Et(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?fr(s.updateTime):fr(o);return l.isEqual(De.min())&&(l=fr(o)),new hU(l,s.transformResults||[])}(n,e))):[]}function NU(t,e){return{documents:[gy(t,e.path)]}}function xU(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=gy(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gy(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(h){if(h.length!==0)return cP(ji.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:ja(v.field),direction:MU(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=py(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function DU(t){let e=CU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Et(i===1);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(v){const y=uP(v);return y instanceof ji&&UC(y)?y.getFilters():[y]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(y=>function(S){return new qc($a(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(v){let y;return y=typeof v=="object"?v.value:v,Bp(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(v){const y=!!v.before,b=v.values||[];return new hl(b,y)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const y=!v.before,b=v.values||[];return new hl(b,y)}(n.endAt)),ZF(e,s,l,o,c,"F",h,f)}function LU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$a(n.unaryFilter.field);return Yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=$a(n.unaryFilter.field);return Yt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=$a(n.unaryFilter.field);return Yt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$a(n.unaryFilter.field);return Yt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(n){return Yt.create($a(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ji.create(n.compositeFilter.filters.map(i=>uP(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(t):Ne()}function MU(t){return IU[t]}function VU(t){return TU[t]}function FU(t){return AU[t]}function ja(t){return{fieldPath:t.canonicalString()}}function $a(t){return Rn.fromServerFormat(t.fieldPath)}function cP(t){return t instanceof Yt?function(n){if(n.op==="=="){if(hT(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hT(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:VU(n.op),value:n.value}}}(t):t instanceof ji?function(n){const i=n.getFilters().map(s=>cP(s));return i.length===1?i[0]:{compositeFilter:{op:FU(n.op),filters:i}}}(t):Ne()}function UU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,i,s,o=De.min(),l=De.min(),c=Un.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.ut=e}}function jU(t){const e=DU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.on=new HU}addToCollectionParentIndex(e,n){return this.on.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Ns.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class HU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new On(vt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new On(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ml(0)}static Nn(){return new ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.changes=new Ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&vc(i.mutation,s,mi.empty(),Jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,We()).next(()=>i))}getLocalViewOfDocuments(e,n,i=We()){const s=Io();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=oc();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Io();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,We()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=Br();const l=gc(),c=function(){return gc()}();return n.forEach((h,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof js)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),vc(p.mutation,f,p.mutation.getFieldMask(),Jt.now())):l.set(f.key,mi.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var v;return c.set(f,new WU(p,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=gc();let s=new Ct((l,c)=>l-c),o=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let p=i.get(h)||mi.empty();p=c.applyToLocalView(f,p),i.set(h,p);const v=(s.get(c.batchId)||We()).add(h);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,p=h.value,v=zC();p.forEach(y=>{if(!o.has(y)){const b=tP(n.get(y),i.get(y));b!==null&&v.set(y,b),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return K.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return Ee.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):K.resolve(Io());let c=-1,h=o;return l.next(f=>K.forEach(f,(p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(p)?K.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{h=h.insert(p,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,We())).next(p=>({batchId:c,changes:KC(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(i=>{let s=oc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=oc();return this.indexManager.getCollectionParents(e,o).next(c=>K.forEach(c,h=>{const f=function(v,y){return new Bs(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((h,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Dn.newInvalidDocument(p)))});let c=oc();return l.forEach((h,f)=>{const p=o.get(h);p!==void 0&&vc(p.mutation,f,mi.empty(),Jt.now()),qp(n,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return K.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fr(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:jU(s.bundledQuery),readTime:fr(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.overlays=new Ct(Ee.comparator),this.lr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Io();return K.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){const s=Io(),o=n.length+1,l=new Ee(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&s.set(h.getKey(),h)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Ct((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Io(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Io(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return K.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new vU(n,i));let o=this.lr.get(n);o===void 0&&(o=We(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.hr=new On(pn.Pr),this.Ir=new On(pn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new pn(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new pn(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new Ee(new vt([])),i=new pn(n,e),s=new pn(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ee(new vt([])),i=new pn(n,e),s=new pn(n,e+1);let o=We();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new pn(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ee.comparator(e.key,n.key)||nt(e.gr,n.gr)}static Tr(e,n){return nt(e.gr,n.gr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new On(pn.Pr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new gU(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new pn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,n){return K.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new On(nt);return n.forEach(s=>{const o=new pn(s,0),l=new pn(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),K.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Ee.isDocumentKey(o)||(o=o.child(""));const l=new pn(new Ee(o),0);let c=new On(nt);return this.yr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(h.gr)),!0)},l),K.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Et(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return K.forEach(n.mutations,s=>{const o=new pn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new pn(n,0),s=this.yr.firstAfterOrEqual(i);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.Cr=e,this.docs=function(){return new Ct(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let i=Br();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Dn.newInvalidDocument(s))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Br();const l=n.path,c=new Ee(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:p}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||MF(LF(p),i)<=0||(s.has(p.key)||qp(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Ne()}vr(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new JU(this)}getSize(e){return K.resolve(this.size)}}class JU extends qU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.persistence=e,this.Fr=new Ll(n=>Y_(n),Q_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Mr=0,this.Or=new n0,this.targetCount=0,this.Nr=ml.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),K.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.kn(n),K.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),K.waitFor(o).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new K_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new XU(this),this.indexManager=new $U,this.remoteDocumentCache=function(s){return new QU(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new BU(n),this.Kr=new zU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new YU(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const s=new e3(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return K.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class e3 extends FF{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Gr=new n0,this.zr=null}static jr(e){return new i0(e)}get Hr(){if(this.zr)return this.zr;throw Ne()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Hr,i=>{const s=Ee.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,De.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return K.or([()=>K.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=We(),s=We();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new r0(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new t3;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(Gu()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),K.resolve()):(Gu()<=qe.DEBUG&&fe("QueryEngine","Query:",Ba(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(Gu()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):K.resolve())}zi(e,n){if(gT(n))return K.resolve(null);let i=hr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$f(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=We(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Yi(n,c);return this.Zi(n,f,l,h.readTime)?this.zi(e,$f(n,null,"F")):this.Xi(e,f,n,h)}))})))}ji(e,n,i,s){return gT(n)||s.isEqual(De.min())?K.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?K.resolve(null):(Gu()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ba(n)),this.Xi(e,l,n,DF(s,-1)).next(c=>c))})}Yi(e,n){let i=new On(qC(e));return n.forEach((s,o)=>{qp(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return Gu()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ns.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ct(nt),this.ns=new Ll(o=>Y_(o),Q_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function r3(t,e,n,i){return new i3(t,e,n,i)}async function hP(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=We();for(const f of s){l.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)h=h.add(p.key)}return n.localDocuments.getDocuments(i,h).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function s3(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,h,f,p){const v=f.batch,y=v.keys();let b=K.resolve();return y.forEach(S=>{b=b.next(()=>p.getEntry(h,S)).next(_=>{const E=f.docVersions.get(S);Et(E!==null),_.version.compareTo(E)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=We();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function fP(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function o3(t,e){const n=Fe(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((p,v)=>{const y=s.get(v);if(!y)return;c.push(n.qr.removeMatchingKeys(o,p.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,p.addedDocuments,v)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Un.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),s=s.insert(v,b),function(_,E,I){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,b,p)&&c.push(n.qr.updateTargetData(o,b))});let h=Br(),f=We();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(a3(o,l,e.documentUpdates).next(p=>{h=p.us,f=p.cs})),!i.isEqual(De.min())){const p=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(p)}return K.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ts=s,o))}function a3(t,e,n){let i=We(),s=We();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Br();return n.forEach((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(De.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{us:l,cs:s}})}function l3(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function u3(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,K.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new bs(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function yy(t,e,n){const i=Fe(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!gd(l))throw l;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function RT(t,e,n){const i=Fe(t);let s=De.min(),o=We();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,p){const v=Fe(h),y=v.ns.get(p);return y!==void 0?K.resolve(v.ts.get(y)):v.qr.getTargetData(f,p)}(i,l,hr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:De.min(),n?o:We())).next(c=>(c3(i,tU(e),c),{documents:c,ls:o})))}function c3(t,e,n){let i=t.rs.get(e)||De.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class CT{constructor(){this.activeTargetIds=aU()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d3{constructor(){this.eo=new CT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new CT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=null;function Av(){return Qh===null?Qh=function(){return 268435456+Math.round(2147483648*Math.random())}():Qh++,"0x"+Qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class m3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=Av(),h=this.So(n,i);fe("RestConnection",`Sending RPC '${n}' ${c}:`,h,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,h,f,s).then(p=>(fe("RestConnection",`Received RPC '${n}' ${c}: `,p),p),p=>{throw ll("RestConnection",`RPC '${n}' ${c} failed with error: `,p,"url: ",h,"request:",s),p})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=f3[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=Av();return new Promise((l,c)=>{const h=new IF;h.setWithCredentials(!0),h.listenOnce(wF.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Iv.NO_ERROR:const p=h.getResponseJson();fe(Nn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case Iv.TIMEOUT:fe(Nn,`RPC '${e}' ${o} timed out`),c(new ie(F.DEADLINE_EXCEEDED,"Request time out"));break;case Iv.HTTP_ERROR:const v=h.getStatus();if(fe(Nn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const S=function(E){const I=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(I)>=0?I:F.UNKNOWN}(b.status);c(new ie(S,b.message))}else c(new ie(F.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ie(F.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{fe(Nn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);fe(Nn,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",f,i,15)})}vo(e,n,i){const s=Av(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=yF(),c=_F(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new EF({})),this.bo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const p=o.join("");fe(Nn,`Creating RPC '${e}' stream ${s}: ${p}`,h);const v=l.createWebChannel(p,h);let y=!1,b=!1;const S=new p3({co:E=>{b?fe(Nn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(fe(Nn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),y=!0),fe(Nn,`RPC '${e}' stream ${s} sending:`,E),v.send(E))},lo:()=>v.close()}),_=(E,I,C)=>{E.listen(I,P=>{try{C(P)}catch(O){setTimeout(()=>{throw O},0)}})};return _(v,zh.EventType.OPEN,()=>{b||fe(Nn,`RPC '${e}' stream ${s} transport opened.`)}),_(v,zh.EventType.CLOSE,()=>{b||(b=!0,fe(Nn,`RPC '${e}' stream ${s} transport closed`),S.Ro())}),_(v,zh.EventType.ERROR,E=>{b||(b=!0,ll(Nn,`RPC '${e}' stream ${s} transport errored:`,E),S.Ro(new ie(F.UNAVAILABLE,"The operation could not be completed")))}),_(v,zh.EventType.MESSAGE,E=>{var I;if(!b){const C=E.data[0];Et(!!C);const P=C,O=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(O){fe(Nn,`RPC '${e}' stream ${s} received error:`,O);const V=O.status;let G=function(ee){const ge=Wt[ee];if(ge!==void 0)return iP(ge)}(V),ne=O.message;G===void 0&&(G=F.INTERNAL,ne="Unknown error status: "+V+" with message "+O.message),b=!0,S.Ro(new ie(G,ne)),v.close()}else fe(Nn,`RPC '${e}' stream ${s} received:`,C),S.Vo(C)}}),_(c,bF.STAT_EVENT,E=>{E.stat===oT.PROXY?fe(Nn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===oT.NOPROXY&&fe(Nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.Ao()},0),S}}function Sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){return new SU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,i,s,o,l,c,h){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new pP(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new ie(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g3 extends mP{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=PU(this.serializer,e),i=function(o){if(!("targetChange"in o))return De.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?fr(l.readTime):De.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=vy(this.serializer),n.addTarget=function(o,l){let c;const h=l.target;if(c=hy(h)?{documents:NU(o,h)}:{query:xU(o,h)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=oP(o,l.resumeToken);const f=py(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=Wf(o,l.snapshotVersion.toTimestamp());const f=py(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=LU(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=vy(this.serializer),n.removeTarget=e,this.e_(n)}}class v3 extends mP{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=OU(e.writeResults,e.commitTime),i=fr(e.commitTime);return this.listener.I_(i,n)}return Et(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=vy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>kU(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new ie(F.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(F.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(F.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class _3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ur(n),this.f_=!1):fe("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{Go(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=Fe(h);f.C_.add(4),await _d(f),f.M_.set("Unknown"),f.C_.delete(4),await Yp(f)}(this))})}),this.M_=new _3(i,s)}}async function Yp(t){if(Go(t))for(const e of t.v_)await e(!0)}async function _d(t){for(const e of t.v_)await e(!1)}function gP(t,e){const n=Fe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),a0(n)?o0(n):Ml(n).Ho()&&s0(n,e))}function vP(t,e){const n=Fe(t),i=Ml(n);n.D_.delete(e),i.Ho()&&yP(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Go(n)&&n.M_.set("Unknown"))}function s0(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ml(t).u_(e)}function yP(t,e){t.x_.Oe(e),Ml(t).c_(e)}function o0(t){t.x_=new EU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ml(t).start(),t.M_.g_()}function a0(t){return Go(t)&&!Ml(t).jo()&&t.D_.size>0}function Go(t){return Fe(t).C_.size===0}function _P(t){t.x_=void 0}async function b3(t){t.D_.forEach((e,n)=>{s0(t,e)})}async function E3(t,e){_P(t),a0(t)?(t.M_.w_(e),o0(t)):t.M_.set("Unknown")}async function I3(t,e,n){if(t.M_.set("Online"),e instanceof sP&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kf(t,i)}else if(e instanceof gf?t.x_.$e(e):e instanceof rP?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(De.min()))try{const i=await fP(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const p=o.D_.get(f);p&&o.D_.set(f,p.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,f)=>{const p=o.D_.get(h);if(!p)return;o.D_.set(h,p.withResumeToken(Un.EMPTY_BYTE_STRING,p.snapshotVersion)),yP(o,h);const v=new bs(p.target,h,f,p.sequenceNumber);s0(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await Kf(t,i)}}async function Kf(t,e,n){if(!gd(e))throw e;t.C_.add(1),await _d(t),t.M_.set("Offline"),n||(n=()=>fP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Yp(t)})}function wP(t,e){return e().catch(n=>Kf(t,n,e))}async function Qp(t){const e=Fe(t),n=Ds(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;T3(e);)try{const s=await l3(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,A3(e,s)}catch(s){await Kf(e,s)}bP(e)&&EP(e)}function T3(t){return Go(t)&&t.b_.length<10}function A3(t,e){t.b_.push(e);const n=Ds(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function bP(t){return Go(t)&&!Ds(t).jo()&&t.b_.length>0}function EP(t){Ds(t).start()}async function S3(t){Ds(t).E_()}async function R3(t){const e=Ds(t);for(const n of t.b_)e.P_(n.mutations)}async function C3(t,e,n){const i=t.b_.shift(),s=Z_.from(i,e,n);await wP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Qp(t)}async function P3(t,e){e&&Ds(t).h_&&await async function(i,s){if(function(l){return _U(l)&&l!==F.ABORTED}(s.code)){const o=i.b_.shift();Ds(i).Yo(),await wP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Qp(i)}}(t,e),bP(t)&&EP(t)}async function kT(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=Go(n);n.C_.add(3),await _d(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Yp(n)}async function k3(t,e){const n=Fe(t);e?(n.C_.delete(2),await Yp(n)):e||(n.C_.add(2),await _d(n),n.M_.set("Unknown"))}function Ml(t){return t.O_||(t.O_=function(n,i,s){const o=Fe(n);return o.A_(),new g3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:b3.bind(null,t),Io:E3.bind(null,t),a_:I3.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),a0(t)?o0(t):t.M_.set("Unknown")):(await t.O_.stop(),_P(t))})),t.O_}function Ds(t){return t.N_||(t.N_=function(n,i,s){const o=Fe(n);return o.A_(),new v3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:S3.bind(null,t),Io:P3.bind(null,t),T_:R3.bind(null,t),I_:C3.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Qp(t)):(await t.N_.stop(),t.b_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new l0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u0(t,e){if(Ur("AsyncQueue",`${e}: ${t}`),gd(t))return new ie(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=oc(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Xa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Xa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.B_=new Ct(Ee.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ne():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class gl{constructor(e,n,i,s,o,l,c,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new gl(e,n,Xa.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.k_=void 0,this.listeners=[]}}class N3{constructor(){this.queries=new Ll(e=>HC(e),Hp),this.onlineState="Unknown",this.q_=new Set}}async function c0(t,e){const n=Fe(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new O3),s)try{o.k_=await n.onListen(i)}catch(l){const c=u0(l,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&h0(n)}async function d0(t,e){const n=Fe(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function x3(t,e){const n=Fe(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&h0(n)}function D3(t,e,n){const i=Fe(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function h0(t){t.q_.forEach(e=>{e.next()})}class f0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new gl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.key=e}}class TP{constructor(e){this.key=e}}class L3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=We(),this.mutatedKeys=We(),this._a=qC(e),this.aa=new Xa(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new OT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,v)=>{const y=s.get(p),b=qp(this.query,v)?v:null,S=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;y&&b?y.data.isEqual(b.data)?S!==_&&(i.track({type:3,doc:b}),E=!0):this.ha(y,b)||(i.track({type:2,doc:b}),E=!0,(h&&this._a(b,h)>0||f&&this._a(b,f)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),E=!0):y&&!b&&(i.track({type:1,doc:y}),E=!0,(h||f)&&(c=!0)),E&&(b?(l=l.add(b),o=_?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,p)=>function(y,b){const S=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return S(y)-S(b)}(f.type,p.type)||this._a(f.doc,p.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,h=c!==this.sa;return this.sa=c,o.length!==0||h?{snapshot:new gl(this.query,e.aa,s,o,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new OT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=We(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new TP(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new IP(i))}),n}da(e){this.ia=e.ls,this.oa=We();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return gl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class M3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class V3{constructor(e){this.key=e,this.Ra=!1}}class F3{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new Ll(c=>HC(c),Hp),this.fa=new Map,this.ga=new Set,this.pa=new Ct(Ee.comparator),this.ya=new Map,this.wa=new n0,this.Sa={},this.ba=new Map,this.Da=ml.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function U3(t,e){const n=Y3(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await u3(n.localStore,hr(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await B3(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&gP(n.remoteStore,l)}return s}async function B3(t,e,n,i,s){t.va=(v,y,b)=>async function(_,E,I,C){let P=E.view.ca(I);P.Zi&&(P=await RT(_.localStore,E.query,!1).then(({documents:G})=>E.view.ca(G,P)));const O=C&&C.targetChanges.get(E.targetId),V=E.view.applyChanges(P,_.isPrimaryClient,O);return xT(_,E.targetId,V.Ta),V.snapshot}(t,v,y,b);const o=await RT(t.localStore,e,!0),l=new L3(e,o.ls),c=l.ca(o.documents),h=yd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,h);xT(t,n,f.Ta);const p=new M3(e,n,l);return t.ma.set(e,p),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function j3(t,e){const n=Fe(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!Hp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await yy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),vP(n.remoteStore,i.targetId),_y(n,i.targetId)}).catch(md)):(_y(n,i.targetId),await yy(n.localStore,i.targetId,!0))}async function $3(t,e,n){const i=Q3(t);try{const s=await function(l,c){const h=Fe(l),f=Jt.now(),p=c.reduce((b,S)=>b.add(S.key),We());let v,y;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let S=Br(),_=We();return h.ss.getEntries(b,p).next(E=>{S=E,S.forEach((I,C)=>{C.isValidDocument()||(_=_.add(I))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,S)).next(E=>{v=E;const I=[];for(const C of c){const P=pU(C,v.get(C.key).overlayedDocument);P!=null&&I.push(new js(C.key,P,MC(P.value.mapValue),Ii.exists(!0)))}return h.mutationQueue.addMutationBatch(b,f,I,c)}).next(E=>{y=E;const I=E.applyToLocalDocumentSet(v,_);return h.documentOverlayCache.saveOverlays(b,E.batchId,I)})}).then(()=>({batchId:y.batchId,changes:KC(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let f=l.Sa[l.currentUser.toKey()];f||(f=new Ct(nt)),f=f.insert(c,h),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await wd(i,s.changes),await Qp(i.remoteStore)}catch(s){const o=u0(s,"Failed to persist write");n.reject(o)}}async function AP(t,e){const n=Fe(t);try{const i=await o3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?Et(l.Ra):s.removedDocuments.size>0&&(Et(l.Ra),l.Ra=!1))}),await wd(n,i,e)}catch(i){await md(i)}}function NT(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Fe(l);h.onlineState=c;let f=!1;h.queries.forEach((p,v)=>{for(const y of v.listeners)y.Q_(c)&&(f=!0)}),f&&h0(h)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function H3(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new Ct(Ee.comparator);l=l.insert(o,Dn.newNoDocument(o,De.min()));const c=We().add(o),h=new zp(De.min(),new Map,new Ct(nt),l,c);await AP(i,h),i.pa=i.pa.remove(o),i.ya.delete(e),p0(i)}else await yy(i.localStore,e,!1).then(()=>_y(i,e,n)).catch(md)}async function q3(t,e){const n=Fe(t),i=e.batch.batchId;try{const s=await s3(n.localStore,e);RP(n,i,null),SP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wd(n,s)}catch(s){await md(s)}}async function W3(t,e,n){const i=Fe(t);try{const s=await function(l,c){const h=Fe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return h.mutationQueue.lookupMutationBatch(f,c).next(v=>(Et(v!==null),p=v.keys(),h.mutationQueue.removeMutationBatch(f,v))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>h.localDocuments.getDocuments(f,p))})}(i.localStore,e);RP(i,e,n),SP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await wd(i,s)}catch(s){await md(s)}}function SP(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function RP(t,e,n){const i=Fe(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function _y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||CP(t,i)})}function CP(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(vP(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),p0(t))}function xT(t,e,n){for(const i of n)i instanceof IP?(t.wa.addReference(i.key,e),K3(t,i)):i instanceof TP?(fe("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||CP(t,i.key)):Ne()}function K3(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(fe("SyncEngine","New document in limbo: "+n),t.ga.add(i),p0(t))}function p0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Ee(vt.fromString(e)),i=t.Da.next();t.ya.set(i,new V3(n)),t.pa=t.pa.insert(n,i),gP(t.remoteStore,new bs(hr($p(n.path)),i,"TargetPurposeLimboResolution",K_._e))}}async function wd(t,e,n){const i=Fe(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,h)=>{l.push(i.va(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const p=r0.Qi(h.targetId,f);o.push(p)}}))}),await Promise.all(l),i.Va.a_(s),await async function(h,f){const p=Fe(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(f,y=>K.forEach(y.ki,b=>p.persistence.referenceDelegate.addReference(v,y.targetId,b)).next(()=>K.forEach(y.qi,b=>p.persistence.referenceDelegate.removeReference(v,y.targetId,b)))))}catch(v){if(!gd(v))throw v;fe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const b=p.ts.get(y),S=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(S);p.ts=p.ts.insert(y,_)}}}(i.localStore,o))}async function z3(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await hP(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(h=>{h.reject(new ie(F.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await wd(n,i._s)}}function G3(t,e){const n=Fe(t),i=n.ya.get(e);if(i&&i.Ra)return We().add(i.key);{let s=We();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function Y3(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H3.bind(null,e),e.Va.a_=x3.bind(null,e.eventManager),e.Va.Fa=D3.bind(null,e.eventManager),e}function Q3(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W3.bind(null,e),e}class DT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return r3(this.persistence,new n3,e.initialUser,this.serializer)}createPersistence(e){return new ZU(i0.jr,this.serializer)}createSharedClientState(e){return new d3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class J3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>NT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await k3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N3}()}createDatastore(e){const n=Gp(e.databaseInfo.databaseId),i=function(o){return new m3(o)}(e.databaseInfo);return function(o,l,c,h){return new y3(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new w3(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>NT(this.syncEngine,n,0),function(){return PT.D()?new PT:new h3}())}createSyncEngine(e,n){return function(s,o,l,c,h,f,p){const v=new F3(s,o,l,c,h,f);return p&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=Fe(n);fe("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await _d(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=xC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=u0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rv(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await hP(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e9(t);fe("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>kT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>kT(e.remoteStore,o)),t._onlineComponents=e}function Z3(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Z3(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Rv(t,new DT)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Rv(t,new DT);return t._offlineComponents}async function PP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await LT(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await LT(t,new J3))),t._onlineComponents}function t9(t){return PP(t).then(e=>e.syncEngine)}async function zf(t){const e=await PP(t),n=e.eventManager;return n.onListen=U3.bind(null,e.syncEngine),n.onUnlisten=j3.bind(null,e.syncEngine),n}function n9(t,e,n={}){const i=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new m0({next:y=>{l.enqueueAndForget(()=>d0(o,v));const b=y.docs.has(c);!b&&y.fromCache?f.reject(new ie(F.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&h&&h.source==="server"?f.reject(new ie(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new f0($p(c.path),p,{includeMetadataChanges:!0,J_:!0});return c0(o,v)}(await zf(t),t.asyncQueue,e,n,i)),i.promise}function i9(t,e,n={}){const i=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,f){const p=new m0({next:y=>{l.enqueueAndForget(()=>d0(o,v)),y.fromCache&&h.source==="server"?f.reject(new ie(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new f0(c,p,{includeMetadataChanges:!0,J_:!0});return c0(o,v)}(await zf(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t,e,n){if(!n)throw new ie(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r9(t,e,n,i){if(e===!0&&i===!0)throw new ie(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VT(t){if(!Ee.isDocumentKey(t))throw new ie(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FT(t){if(Ee.isDocumentKey(t))throw new ie(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jp(t);throw new ie(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function s9(t,e){if(e<=0)throw new ie(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ie(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ie(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ie(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new AF;switch(i.type){case"firstParty":return new PF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=MT.get(n);i&&(fe("ComponentProvider","Removing Datastore"),MT.delete(n),i.terminate())}(this),Promise.resolve()}}function o9(t,e,n,i={}){var s;const o=(t=Gn(t,bd))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=xn.MOCK_USER;else{c=IS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new ie(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new xn(f)}t._authCredentials=new SF(new NC(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Fn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Ss extends qi{constructor(e,n,i){super(e,n,$p(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Ee(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function vl(t,e,...n){if(t=Re(t),g0("collection","path",e),t instanceof bd){const i=vt.fromString(e,...n);return FT(i),new Ss(t,null,i)}{if(!(t instanceof Fn||t instanceof Ss))throw new ie(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(vt.fromString(e,...n));return FT(i),new Ss(t.firestore,null,i)}}function v0(t,e){if(t=Gn(t,bd),g0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qi(t,null,function(i){return new Bs(vt.emptyPath(),i)}(e))}function OP(t,e,...n){if(t=Re(t),arguments.length===1&&(e=xC.newId()),g0("doc","path",e),t instanceof bd){const i=vt.fromString(e,...n);return VT(i),new Fn(t,null,new Ee(i))}{if(!(t instanceof Fn||t instanceof Ss))throw new ie(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(vt.fromString(e,...n));return VT(i),new Fn(t.firestore,t instanceof Ss?t.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new pP(this,"async_queue_retry"),this.iu=()=>{const n=Sv();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Sv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Dr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!gd(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=l0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&Ne()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function BT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class jr extends bd{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new a9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NP(this),this._firestoreClient.terminate()}}function l9(t,e){const n=typeof t=="object"?t:ed(),i=typeof t=="string"?t:e||"(default)",s=qo(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=t_("firestore");o&&o9(s,...o)}return s}function Xp(t){return t._firestoreClient||NP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NP(t){var e,n,i;const s=t._freezeSettings(),o=function(c,h,f,p){return new jF(c,h,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kP(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new X3(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Un.fromBase64String(e))}catch(n){throw new ie(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yl(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=/^__.*__$/;class c9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new vd(e,this.data,n,this.fieldTransforms)}}class xP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function DP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class em{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new em(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Gf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(DP(this.Iu)&&u9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class d9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Gp(e)}pu(e,n,i,s=!1){return new em({Iu:e,methodName:n,gu:i,path:Rn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=Gp(t._databaseId);return new d9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LP(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);_0("Data must be an object, but it was:",l,i);const c=FP(i,l);let h,f;if(o.merge)h=new mi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const v of o.mergeFields){const y=wy(e,v,n);if(!l.contains(y))throw new ie(F.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);BP(p,y)||p.push(y)}h=new mi(p),f=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,f=l.fieldTransforms;return new c9(new ti(c),h,f)}class tm extends Ed{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function MP(t,e,n){return new em({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class h9 extends Ed{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=MP(this,e,!0),i=this.yu.map(o=>Yo(o,n)),s=new fl(i);return new eP(e.path,s)}isEqual(e){return this===e}}class f9 extends Ed{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=MP(this,e,!0),i=this.yu.map(o=>Yo(o,n)),s=new pl(i);return new eP(e.path,s)}isEqual(e){return this===e}}function p9(t,e,n,i){const s=t.pu(1,e,n);_0("Data must be an object, but it was:",s,i);const o=[],l=ti.empty();zo(i,(h,f)=>{const p=w0(e,h,n);f=Re(f);const v=s.Ru(p);if(f instanceof tm)o.push(p);else{const y=Yo(f,v);y!=null&&(o.push(p),l.set(p,y))}});const c=new mi(o);return new xP(l,c,s.fieldTransforms)}function m9(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[wy(e,i,n)],h=[s];if(o.length%2!=0)throw new ie(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)c.push(wy(e,o[y])),h.push(o[y+1]);const f=[],p=ti.empty();for(let y=c.length-1;y>=0;--y)if(!BP(f,c[y])){const b=c[y];let S=h[y];S=Re(S);const _=l.Ru(b);if(S instanceof tm)f.push(b);else{const E=Yo(S,_);E!=null&&(f.push(b),p.set(b,E))}}const v=new mi(f);return new xP(p,v,l.fieldTransforms)}function VP(t,e,n,i=!1){return Yo(n,t.pu(i?4:3,e))}function Yo(t,e){if(UP(t=Re(t)))return _0("Unsupported field value:",e,t),FP(t,e);if(t instanceof Ed)return function(i,s){if(!DP(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let h=Yo(c,s.Vu(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=Re(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lU(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Jt.fromDate(i);return{timestampValue:Wf(s.serializer,o)}}if(i instanceof Jt){const o=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wf(s.serializer,o)}}if(i instanceof y0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yl)return{bytesValue:oP(s.serializer,i._byteString)};if(i instanceof Fn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:t0(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${Jp(i)}`)}(t,e)}function FP(t,e){const n={};return DC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(t,(i,s)=>{const o=Yo(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function UP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof y0||t instanceof yl||t instanceof Fn||t instanceof Ed)}function _0(t,e,n){if(!UP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Jp(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function wy(t,e,n){if((e=Re(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return w0(t,e);throw Gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const g9=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(g9)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gf(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${s}`),h+=")"),new ie(F.INVALID_ARGUMENT,c+t+h)}function BP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v9 extends b0{data(){return super.data()}}function nm(t,e){return typeof e=="string"?w0(t,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E0{}class im extends E0{}function Ls(t,e,...n){let i=[];e instanceof E0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(h=>h instanceof I0).length,c=o.filter(h=>h instanceof rm).length;if(l>1||l>0&&c>0)throw new ie(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class rm extends im{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new rm(e,n,i)}_apply(e){const n=this._parse(e);return $P(e._query,n),new qi(e.firestore,e.converter,fy(e._query,n))}_parse(e){const n=Id(e.firestore);return function(o,l,c,h,f,p,v){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ie(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){$T(v,p);const b=[];for(const S of v)b.push(jT(h,o,S));y={arrayValue:{values:b}}}else y=jT(h,o,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||$T(v,p),y=VP(c,l,v,p==="in"||p==="not-in");return Yt.create(f,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Es(t,e,n){const i=e,s=nm("where",t);return rm._create(s,i,n)}class I0 extends E0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new I0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const h of c)$P(l,h),l=fy(l,h)}(e._query,n),new qi(e.firestore,e.converter,fy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T0 extends im{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ie(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ie(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(o,l)}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Bs(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function _l(t,e="asc"){const n=e,i=nm("orderBy",t);return T0._create(i,n)}class A0 extends im{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new A0(e,n,i)}_apply(e){return new qi(e.firestore,e.converter,$f(e._query,this._limit,this._limitType))}}function wl(t){return s9("limit",t),A0._create("limit",t,"F")}class S0 extends im{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new S0(e,n,i)}_apply(e){const n=y9(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,function(s,o){return new Bs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function R0(...t){return S0._create("startAfter",t,!1)}function y9(t,e,n,i){if(n[0]=Re(n[0]),n[0]instanceof b0)return function(o,l,c,h,f){if(!h)throw new ie(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const v of Ja(o))if(v.field.isKeyField())p.push(jf(l,h.key));else{const y=h.data.field(v.field);if(jp(y))throw new ie(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=v.field.canonicalString();throw new ie(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(y)}return new hl(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=Id(t.firestore);return function(l,c,h,f,p,v){const y=l.explicitOrderBy;if(p.length>y.length)throw new ie(F.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let S=0;S<p.length;S++){const _=p[S];if(y[S].field.isKeyField()){if(typeof _!="string")throw new ie(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof _}`);if(!J_(l)&&_.indexOf("/")!==-1)throw new ie(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${_}' contains a slash.`);const E=l.path.child(vt.fromString(_));if(!Ee.isDocumentKey(E))throw new ie(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const I=new Ee(E);b.push(jf(c,I))}else{const E=VP(h,f,_);b.push(E)}}return new hl(b,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function jT(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new ie(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(e)&&n.indexOf("/")!==-1)throw new ie(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(vt.fromString(n));if(!Ee.isDocumentKey(i))throw new ie(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return jf(t,new Ee(i))}if(n instanceof Fn)return jf(t,n._key);throw new ie(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jp(n)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $P(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _9{convertValue(e,n="none"){switch(Fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return zo(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new y0(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=z_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){const n=xs(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=vt.fromString(e);Et(dP(i));const s=new $c(i.get(1),i.get(3)),o=new Ee(i.popFirst(5));return s.isEqual(n)||Ur(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qP extends b0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class vf extends qP{data(e={}){return super.data(e)}}class WP{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new lc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new vf(this._firestore,this._userDataWriter,i.key,i,new lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new vf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new lc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new vf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new lc(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:w9(c.type),doc:h,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function w9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){t=Gn(t,Fn);const e=Gn(t.firestore,jr);return n9(Xp(e),t._key).then(n=>KP(e,t,n))}class C0 extends _9{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function $r(t){t=Gn(t,qi);const e=Gn(t.firestore,jr),n=Xp(e),i=new C0(e);return jP(t._query),i9(n,t._query).then(s=>new WP(e,i,t,s))}function fq(t,e,n){t=Gn(t,Fn);const i=Gn(t.firestore,jr),s=HP(t.converter,e,n);return sm(i,[LP(Id(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ii.none())])}function pq(t,e,n,...i){t=Gn(t,Fn);const s=Gn(t.firestore,jr),o=Id(s);let l;return l=typeof(e=Re(e))=="string"||e instanceof Zp?m9(o,"updateDoc",t._key,e,n,i):p9(o,"updateDoc",t._key,e),sm(s,[l.toMutation(t._key,Ii.exists(!0))])}function mq(t){return sm(Gn(t.firestore,jr),[new X_(t._key,Ii.none())])}function gq(t,e){const n=Gn(t.firestore,jr),i=OP(t),s=HP(t.converter,e);return sm(n,[LP(Id(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Ii.exists(!1))]).then(()=>i)}function vq(t,...e){var n,i,s;t=Re(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||BT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(BT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let h,f,p;if(t instanceof Fn)f=Gn(t.firestore,jr),p=$p(t._key.path),h={next:v=>{e[l]&&e[l](KP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Gn(t,qi);f=Gn(v.firestore,jr),p=v._query;const y=new C0(f);h={next:b=>{e[l]&&e[l](new WP(f,y,v,b))},error:e[l+1],complete:e[l+2]},jP(t._query)}return function(y,b,S,_){const E=new m0(_),I=new f0(b,E,S);return y.asyncQueue.enqueueAndForget(async()=>c0(await zf(y),I)),()=>{E.Na(),y.asyncQueue.enqueueAndForget(async()=>d0(await zf(y),I))}}(Xp(f),p,c,h)}function sm(t,e){return function(i,s){const o=new Dr;return i.asyncQueue.enqueueAndForget(async()=>$3(await t9(i),s,o)),o.promise}(Xp(t),e)}function KP(t,e,n){const i=n.docs.get(e._key),s=new C0(t);return new qP(t,s,e._key,i,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function yq(...t){return new h9("arrayUnion",t)}function _q(...t){return new f9("arrayRemove",t)}(function(e,n=!0){(function(s){Dl=s})(qr),pr(new Fi("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new jr(new RF(i.getProvider("auth-internal")),new OF(i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ie(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),zn(aT,"4.3.2",e),zn(aT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="type.googleapis.com/google.protobuf.Int64Value",I9="type.googleapis.com/google.protobuf.UInt64Value";function zP(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function by(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>by(e));if(typeof t=="function"||typeof t=="object")return zP(t,e=>by(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Yf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case E9:case I9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Yf(e)):typeof t=="function"||typeof t=="object"?zP(t,e=>Yf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Za extends Cn{constructor(e,n,i){super(`${P0}/${e}`,n||""),this.details=i}}function T9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function A9(t,e){let n=T9(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!HT[l])return new Za("internal","internal");n=HT[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=Yf(s))}}catch{}return n==="ok"?null:new Za(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="us-central1";function R9(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Za("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class C9{constructor(e,n,i,s,o=Ey,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new S9(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Ey}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function P9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function k9(t,e,n){return i=>N9(t,e,i,n||{})}async function O9(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function N9(t,e,n,i){const s=t._url(e);return x9(t,s,n,i)}async function x9(t,e,n,i){n=by(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,h=R9(c),f=await Promise.race([O9(e,s,o,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new Za("cancelled","Firebase Functions instance was deleted.");const p=A9(f.status,f.json);if(p)throw p;if(!f.json)throw new Za("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Za("internal","Response is missing data field.");return{data:Yf(v)}}const qT="@firebase/functions",WT="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="auth-internal",L9="app-check-internal",M9="messaging-internal";function V9(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(D9),c=i.getProvider(M9),h=i.getProvider(L9);return new C9(o,l,c,h,s,t)};pr(new Fi(P0,n,"PUBLIC").setMultipleInstances(!0)),zn(qT,WT,e),zn(qT,WT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t=ed(),e=Ey){const i=qo(Re(t),P0).getImmediate({identifier:e}),s=t_("functions");return s&&F9(i,...s),i}function F9(t,e,n){P9(Re(t),e,n)}function _r(t,e,n){return k9(Re(t),e,n)}V9(fetch.bind(self));const U9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="firebasestorage.googleapis.com",YP="storageBucket",B9=2*60*1e3,j9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Cn{constructor(e,n,i=0){super(Cv(e),`Firebase Storage: ${n} (${Cv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function Cv(t){return"storage/"+t}function $9(){const t="An unknown error occurred, please check the error payload for server response.";return new Ki($i.UNKNOWN,t)}function H9(){return new Ki($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function q9(){return new Ki($i.CANCELED,"User canceled the upload/download.")}function W9(t){return new Ki($i.INVALID_URL,"Invalid URL '"+t+"'.")}function K9(t){return new Ki($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function z9(){return new Ki($i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YP+"' property when initializing the app?")}function Iy(t){return new Ki($i.INVALID_ARGUMENT,t)}function QP(){return new Ki($i.APP_DELETED,"The Firebase app was deleted.")}function G9(t){return new Ki($i.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ei.makeFromUrl(e,n)}catch{return new Ei(e,"")}if(i.path==="")return i;throw K9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${p}/b/${s}/o${y}`,"i"),S={bucket:1,path:3},_=n===GP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",I=new RegExp(`^https?://${_}/${s}/${E}`,"i"),P=[{regex:c,indices:h,postModify:o},{regex:b,indices:S,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<P.length;O++){const V=P[O],G=V.regex.exec(e);if(G){const ne=G[V.indices.bucket];let H=G[V.indices.path];H||(H=""),i=new Ei(ne,H),V.postModify(i);break}}if(i==null)throw W9(e);return i}}class Y9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function p(...E){f||(f=!0,e.apply(null,E))}function v(E){s=setTimeout(()=>{s=null,t(b,h())},E)}function y(){o&&clearTimeout(o)}function b(E,...I){if(f){y();return}if(E){y(),p.call(null,E,...I);return}if(h()||l){y(),p.call(null,E,...I);return}i<64&&(i*=2);let P;c===1?(c=2,P=0):P=(i+Math.random())*1e3,v(P)}let S=!1;function _(E){S||(S=!0,y(),!f&&(s!==null?(E||(c=2),clearTimeout(s),v(0)):E||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,_(!0)},n),_}function J9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){return t!==void 0}function KT(t,e,n,i){if(i<e)throw Iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Iy(`Invalid value for '${t}'. Expected ${n} or less.`)}function Z9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qf||(Qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,i,s,o,l,c,h,f,p,v,y=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,S)=>{this.resolve_=b,this.reject_=S,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Jh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Qf.NO_ERROR,h=o.getStatus();if(!c||e5(h,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Qf.ABORT;i(!1,new Jh(!1,null,p));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Jh(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());X9(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=$9();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?QP():q9();l(h)}else{const h=H9();l(h)}};this.canceled_?n(!1,new Jh(!1,null,!0)):this.backoffId_=Q9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&J9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jh{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function n5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function o5(t,e,n,i,s,o,l=!0){const c=Z9(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return r5(f,e),n5(f,n),i5(f,o),s5(f,i),new t5(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function l5(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function u5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this._service=e,n instanceof Ei?this._location=n:this._location=Ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uo(e,n)}get root(){const e=new Ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u5(this._location.path)}get storage(){return this._service}get parent(){const e=a5(this._location.path);if(e===null)return null;const n=new Ei(this._location.bucket,e);return new Uo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G9(e)}}function c5(t,e){const n=l5(t._location.path,e),i=new Ei(t._location.bucket,n);return new Uo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){return/^[A-Za-z]+:\/\//.test(t)}function h5(t,e){return new Uo(t,e)}function JP(t,e){if(t instanceof k0){const n=t;if(n._bucket==null)throw z9();const i=new Uo(n,n._bucket);return e!=null?JP(i,e):i}else return e!==void 0?c5(t,e):t}function f5(t,e){if(e&&d5(e)){if(t instanceof k0)return h5(t,e);throw Iy("To use ref(service, url), the first argument must be a Storage instance.")}else return JP(t,e)}function zT(t,e){const n=e==null?void 0:e[YP];return n==null?null:Ei.makeFromBucketSpec(n,t)}function p5(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:IS(s,t.app.options.projectId))}class k0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=GP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B9,this._maxUploadRetryTime=j9,this._requests=new Set,s!=null?this._bucket=Ei.makeFromBucketSpec(s,this._host):this._bucket=zT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ei.makeFromBucketSpec(this._url,e):this._bucket=zT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uo(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new Y9(QP());{const l=o5(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const GT="@firebase/storage",YT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="storage";function m5(t,e){return t=Re(t),f5(t,e)}function g5(t=ed(),e){t=Re(t);const i=qo(t,XP).getImmediate({identifier:e}),s=t_("storage");return s&&v5(i,...s),i}function v5(t,e,n,i={}){p5(t,e,n,i)}function y5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new k0(n,i,s,e,qr)}function _5(){pr(new Fi(XP,y5,"PUBLIC").setMultipleInstances(!0)),zn(GT,YT,""),zn(GT,YT,"esm2017")}_5();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this._delegate=e,this.firebase=n,Rf(e,new Fi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),NS(this._delegate)))}_getService(e,n=Ps){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ps){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Rf(this._delegate,e)}_addOrOverwriteComponent(e){OS(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},QT=new Ho("app-compat","Firebase",b5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:zn,setLogLevel:DS,onLog:xS,apps:null,SDK_VERSION:qr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:QD}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||Ps,!bI(e,f))throw QT.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,p={}){const v=hp(f,p);if(bI(e,v.name))return e[v.name];const y=new t(v,n);return e[v.name]=y,y}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const p=f.name,v=p.replace("-compat","");if(pr(f)&&f.type==="PUBLIC"){const y=(b=s())=>{if(typeof b[v]!="function")throw QT.create("invalid-app-argument",{appName:p});return b[v]()};f.serviceProps!==void 0&&Tf(y,f.serviceProps),n[v]=y,t.prototype[v]=function(...b){return this._getService.bind(this,p).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?n[v]:null}function h(f,p){return p==="serverAuth"?null:p}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){const t=E5(w5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:ZP,extendNamespace:e,createSubscribe:RS,ErrorFactory:Ho,deepExtend:Tf});function e(n){Tf(t,n)}return t}const I5=ZP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=new dp("@firebase/app-compat"),T5="@firebase/app-compat",A5="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){zn(T5,A5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Dx()&&self.firebase!==void 0){JT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&JT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const we=I5;S5();var R5="firebase",C5="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */we.registerVersion(R5,C5,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=2e3;async function k5(t,e,n){var i;const{BuildInfo:s}=Bo();Ui(e.sessionId,"AuthEvent did not contain a session ID");const o=await L5(e.sessionId),l={};return Pl()?l.ibi=s.packageName:nd()?l.apn=s.packageName:_n(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,Qv(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function O5(t){const{BuildInfo:e}=Bo(),n={};Pl()?n.iosBundleId=e.packageName:nd()?n.androidPackageName=e.packageName:_n(t,"operation-not-supported-in-this-environment"),await SR(t,n)}function N5(t){const{cordova:e}=Bo();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,bL()?"_blank":"_system","location=yes"),n(s)})})}async function x5(t,e,n){const{cordova:i}=Bo();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function h(){var v;o();const y=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(Pn(t,"redirect-cancelled-by-user"))},P5))}function p(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(h),document.addEventListener("resume",f,!1),nd()&&document.addEventListener("visibilitychange",p,!1),s=()=>{e.removePassiveListener(h),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",p,!1),c&&window.clearTimeout(c)}})}finally{s()}}function D5(t){var e,n,i,s,o,l,c,h,f,p;const v=Bo();Q(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((h=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||h===void 0?void 0:h.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((p=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||p===void 0?void 0:p.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function L5(t){const e=M5(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function M5(t){if(Ui(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=20;class F5 extends TR{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function U5(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:$5(),postBody:null,tenantId:t.tenantId,error:Pn(t,"no-auth-event")}}function B5(t,e){return Ty()._set(Ay(t),e)}async function XT(t){const e=await Ty()._get(Ay(t));return e&&await Ty()._remove(Ay(t)),e}function j5(t,e){var n,i;const s=q5(e);if(s.includes("/__/auth/callback")){const o=yf(s),l=o.firebaseError?H5(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],h=c?Pn(c):null;return h?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:h,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function $5(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<V5;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function Ty(){return pi(wp)}function Ay(t){return Co("authEvent",t.config.apiKey,t.name)}function H5(t){try{return JSON.parse(t)}catch{return null}}function q5(t){const e=yf(t),n=e.link?decodeURIComponent(e.link):void 0,i=yf(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return yf(s).link||s||i||n||t}function yf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return qa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=500;class K5{constructor(){this._redirectPersistence=Os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tp,this._overrideRedirectResult=b_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new F5(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){_n(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){D5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),RV(),await this._originValidation(e);const l=U5(e,i,s);await B5(e,l);const c=await k5(e,l,n),h=await N5(c);return x5(e,o,h)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O5(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=Bo(),l=setTimeout(async()=>{await XT(e),n.onEvent(ZT())},W5),c=async p=>{clearTimeout(l);const v=await XT(e);let y=null;v&&(p!=null&&p.url)&&(y=j5(v,p.url)),n.onEvent(y||ZT())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const h=s,f=`${o.packageName.toLowerCase()}://`;Bo().handleOpenURL=async p=>{if(p.toLowerCase().startsWith(f)&&c({url:p}),typeof h=="function")try{h(p)}catch(v){console.error(v)}}}}const z5=K5;function ZT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){Dt(t)._logFramework(e)}var Y5="@firebase/auth-compat",Q5="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=1e3;function yc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function X5(){return yc()==="http:"||yc()==="https:"}function e2(t=Xt()){return!!((yc()==="file:"||yc()==="ionic:"||yc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Z5(){return n_()||TS()}function e6(){return SS()&&(document==null?void 0:document.documentMode)===11}function t6(t=Xt()){return/Edge\/\d+/.test(t)}function n6(t=Xt()){return e6()||t6(t)}function t2(){try{const t=self.localStorage,e=rd();if(t)return t.setItem(e,"1"),t.removeItem(e),n6()?Af():!0}catch{return O0()&&Af()}return!1}function O0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pv(){return(X5()||AS()||e2())&&!Z5()&&t2()&&!O0()}function n2(){return e2()&&typeof document<"u"}async function i6(){return n2()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},J5);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function r6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={LOCAL:"local",NONE:"none",SESSION:"session"},Yu=Q,i2="persistence";function s6(t,e){if(Yu(Object.values(fi).includes(e),t,"invalid-persistence-type"),n_()){Yu(e!==fi.SESSION,t,"unsupported-persistence-type");return}if(TS()){Yu(e===fi.NONE,t,"unsupported-persistence-type");return}if(O0()){Yu(e===fi.NONE||e===fi.LOCAL&&Af(),t,"unsupported-persistence-type");return}Yu(e===fi.NONE||t2(),t,"unsupported-persistence-type")}async function Sy(t){await t._initializationPromise;const e=r2(),n=Co(i2,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function o6(t,e){const n=r2();if(!n)return[];const i=Co(i2,t,e);switch(n.getItem(i)){case fi.NONE:return[rl];case fi.LOCAL:return[ol,Os];case fi.SESSION:return[Os];default:return[]}}function r2(){var t;try{return((t=r6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=Q;class Is{constructor(){this.browserResolver=pi(RR),this.cordovaResolver=pi(z5),this.underlyingResolver=null,this._redirectPersistence=Os,this._completeRedirectFn=Tp,this._overrideRedirectResult=b_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return n2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await i6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){return t.unwrap()}function l6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t){return o2(t)}function c6(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new d6(t,xM(t,e))}else if(i){const s=o2(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function o2(t){const{_tokenResponse:e}=t instanceof Cn?t.customData:t;if(!e)return null;if(!(t instanceof Cn)&&"temporaryProof"in e&&"phoneNumber"in e)return Lo.credentialFromResult(t);const n=e.providerId;if(!n||n===Wu.PASSWORD)return null;let i;switch(n){case Wu.GOOGLE:i=rr;break;case Wu.FACEBOOK:i=ir;break;case Wu.GITHUB:i=sr;break;case Wu.TWITTER:i=or;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:h}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?sl._create(n,c):mr._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new za(n).credential({idToken:s,accessToken:o,rawNonce:h})}return t instanceof Cn?i.credentialFromError(t):i.credentialFromResult(t)}function ei(t,e){return e.catch(n=>{throw n instanceof Cn&&c6(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:u6(n),additionalUserInfo:PM(n),user:Or.getOrCreate(s)}})}async function Ry(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>ei(t,n.confirm(i))}}class d6{constructor(e,n){this.resolver=n,this.auth=l6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ei(s2(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._delegate=e,this.multiFactor=VM(e)}static getOrCreate(e){return Or.USER_MAP.has(e)||Or.USER_MAP.set(e,new Or(e)),Or.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ei(this.auth,lR(this._delegate,e))}async linkWithPhoneNumber(e,n){return Ry(this.auth,pV(this._delegate,e,n))}async linkWithPopup(e){return ei(this.auth,IV(this._delegate,e,Is))}async linkWithRedirect(e){return await Sy(Dt(this.auth)),NV(this._delegate,e,Is)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ei(this.auth,uR(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Ry(this.auth,mV(this._delegate,e,n))}reauthenticateWithPopup(e){return ei(this.auth,EV(this._delegate,e,Is))}async reauthenticateWithRedirect(e){return await Sy(Dt(this.auth)),kV(this._delegate,e,Is)}sendEmailVerification(e){return yM(this._delegate,e)}async unlink(e){return await rM(this._delegate,e),this}updateEmail(e){return EM(this._delegate,e)}updatePassword(e){return IM(this._delegate,e)}updatePhoneNumber(e){return gV(this._delegate,e)}updateProfile(e){return bM(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return _M(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Or.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=Q;class Cy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;Qu(i,"invalid-api-key",{appName:e.name}),Qu(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Is:void 0;this._delegate=n.initialize({options:{persistence:h6(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(XD),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){ZS(this._delegate,e,n)}applyActionCode(e){return uM(this._delegate,e)}checkActionCode(e){return cR(this._delegate,e)}confirmPasswordReset(e,n){return lM(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return ei(this._delegate,dM(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return vM(this._delegate,e)}isSignInWithEmailLink(e){return pM(this._delegate,e)}async getRedirectResult(){Qu(Pv(),this._delegate,"operation-not-supported-in-this-environment");const e=await DV(this._delegate,Is);return e?ei(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){G5(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=eA(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=eA(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return fM(this._delegate,e,n)}sendPasswordResetEmail(e,n){return aM(this._delegate,e,n||void 0)}async setPersistence(e){s6(this._delegate,e);let n;switch(e){case fi.SESSION:n=Os;break;case fi.LOCAL:n=await pi(ol)._isAvailable()?ol:wp;break;case fi.NONE:n=rl;break;default:return _n("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ei(this._delegate,iM(this._delegate))}signInWithCredential(e){return ei(this._delegate,yp(this._delegate,e))}signInWithCustomToken(e){return ei(this._delegate,oM(this._delegate,e))}signInWithEmailAndPassword(e,n){return ei(this._delegate,hM(this._delegate,e,n))}signInWithEmailLink(e,n){return ei(this._delegate,mM(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Ry(this._delegate,fV(this._delegate,e,n))}async signInWithPopup(e){return Qu(Pv(),this._delegate,"operation-not-supported-in-this-environment"),ei(this._delegate,bV(this._delegate,e,Is))}async signInWithRedirect(e){return Qu(Pv(),this._delegate,"operation-not-supported-in-this-environment"),await Sy(this._delegate),CV(this._delegate,e,Is)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return cM(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Cy.Persistence=fi;function eA(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Or.getOrCreate(l)),error:e,complete:n}}function h6(t,e){const n=o6(t,e);if(typeof self<"u"&&!n.includes(ol)&&n.push(ol),typeof window<"u")for(const i of[wp,Os])n.includes(i)||n.push(i);return n.includes(rl)||n.push(rl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.providerId="phone",this._delegate=new Lo(s2(we.auth()))}static credential(e,n){return Lo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}N0.PHONE_SIGN_IN_METHOD=Lo.PHONE_SIGN_IN_METHOD;N0.PROVIDER_ID=Lo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=Q;class p6{constructor(e,n,i=we.app()){var s;f6((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new dV(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="auth-compat";function g6(t){t.INTERNAL.registerComponent(new Fi(m6,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Cy(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ma.EMAIL_SIGNIN,PASSWORD_RESET:Ma.PASSWORD_RESET,RECOVER_EMAIL:Ma.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ma.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ma.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ma.VERIFY_EMAIL}},EmailAuthProvider:Vs,FacebookAuthProvider:ir,GithubAuthProvider:sr,GoogleAuthProvider:rr,OAuthProvider:za,SAMLAuthProvider:Pf,PhoneAuthProvider:N0,PhoneMultiFactorGenerator:CR,RecaptchaVerifier:p6,TwitterAuthProvider:or,Auth:Cy,AuthCredential:kl,Error:Cn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Y5,Q5)}g6(we);function v6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a2={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(E,I){I=I||{};var C=document.createEvent("CustomEvent");return C.initCustomEvent(E,!!I.bubbles,!!I.cancelable,I.detail||null),C},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var E=window.getComputedStyle(_),I=function(C,P){return!(E[C]===void 0||E[C]===P)};if(E.opacity<1||I("zIndex","auto")||I("transform","none")||I("mixBlendMode","normal")||I("filter","none")||I("perspective","none")||E.isolation==="isolate"||E.position==="fixed"||E.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function o(_,E){for(var I=0;I<_.length;++I)if(_[I]===E)return!0;return!1}function l(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var E=new MutationObserver(this.maybeHideModal.bind(this));E.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var I=!1,C=(function(){I?this.downgradeModal():this.maybeHideModal(),I=!1}).bind(this),P,O=function(V){if(V.target===_){var G="DOMNodeRemoved";I|=V.type.substr(0,G.length)===G,window.clearTimeout(P),P=window.setTimeout(C,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(V){_.addEventListener(V,O)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),h.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var E=document.createElement("div");this.dialog_.insertBefore(E,this.dialog_.firstChild),E.tabIndex=-1,E.focus(),this.dialog_.removeChild(E)}var I=document.createEvent("MouseEvents");I.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(I),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var E=["button","input","keygen","select","textarea"],I=E.map(function(C){return C+":not([disabled])"});I.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(I.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,E){if(_<E)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=E},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!h.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,h.needsCentering(this.dialog_)?(h.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var E=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(E)}};var h={};if(h.reposition=function(_){var E=document.body.scrollTop||document.documentElement.scrollTop,I=E+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(E,I)+"px"},h.isInlinePositionSetByStylesheet=function(_){for(var E=0;E<document.styleSheets.length;++E){var I=document.styleSheets[E],C=null;try{C=I.cssRules}catch{}if(C)for(var P=0;P<C.length;++P){var O=C[P],V=null;try{V=document.querySelectorAll(O.selectorText)}catch{}if(!(!V||!o(V,_))){var G=O.style.getPropertyValue("top"),ne=O.style.getPropertyValue("bottom");if(G&&G!=="auto"||ne&&ne!=="auto")return!0}}}return!1},h.needsCentering=function(_){var E=window.getComputedStyle(_);return E.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!h.isInlinePositionSetByStylesheet(_)},h.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},h.registerDialog=function(_){_.showModal||h.forceRegisterDialog(_)},h.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(E){this.forwardTab_=void 0,E.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(E){var I=[];E.forEach(function(C){for(var P=0,O;O=C.removedNodes[P];++P){if(O instanceof Element)O.localName==="dialog"&&I.push(O);else continue;I=I.concat(O.querySelectorAll("dialog"))}}),I.length&&_(I)}))},h.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},h.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},h.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,E=0,I;I=this.pendingDialogStack[E];++E)I.updateZIndex(--_,--_),E===0&&(this.overlay.style.zIndex=--_);var C=this.pendingDialogStack[0];if(C){var P=C.dialog.parentNode||document.body;P.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},h.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var E=0,I;I=this.pendingDialogStack[E];++E)if(I.dialog===_)return E===0;_=_.parentElement}return!1},h.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var E=this.pendingDialogStack[0],I=E.dialog,C=I.compareDocumentPosition(_.target);return C&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?E.focus_():document.documentElement.focus()),!1}},h.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var E=new e("cancel",{bubbles:!1,cancelable:!0}),I=this.pendingDialogStack[0];I&&I.dialog.dispatchEvent(E)&&I.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},h.DialogManager.prototype.checkDOM_=function(_){var E=this.pendingDialogStack.slice();E.forEach(function(I){_.indexOf(I.dialog)!==-1?I.downgradeModal():I.maybeHideModal()})},h.DialogManager.prototype.pushDialog=function(_){var E=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=E?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},h.DialogManager.prototype.removeDialog=function(_){var E=this.pendingDialogStack.indexOf(_);E!==-1&&(this.pendingDialogStack.splice(E,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},h.dm=new h.DialogManager,h.formSubmitter=null,h.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var p=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(p){var v=p.get;p.get=function(){return l(this)?"dialog":v.call(this)};var y=p.set;p.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",p)}}document.addEventListener("click",function(_){if(h.formSubmitter=null,h.useValue=null,!_.defaultPrevented){var E=_.target;if(!(!E||!l(E.form))){var I=E.type==="submit"&&["button","input"].indexOf(E.localName)>-1;if(!I){if(!(E.localName==="input"&&E.type==="image"))return;h.useValue=_.offsetX+","+_.offsetY}var C=i(E);C&&(h.formSubmitter=E)}}},!1);var b=HTMLFormElement.prototype.submit,S=function(){if(!l(this))return b.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=S,document.addEventListener("submit",function(_){var E=_.target;if(l(E)){_.preventDefault();var I=i(E);if(I){var C=h.formSubmitter;C&&C.form===E?I.close(h.useValue||C.value):I.close(),h.formSubmitter=null}}},!0)}h.forceRegisterDialog=h.forceRegisterDialog,h.registerDialog=h.registerDialog,typeof t.exports=="object"?t.exports=h:window.dialogPolyfill=h})()})(a2);var y6=a2.exports;const _6=v6(y6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};Rt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,E){for(var I=0;I<t.length;I++)if(t[I].className===_)return typeof E<"u"&&(t[I]=E),t[I];return!1}function s(_){var E=_.getAttribute("data-upgraded");return E===null?[""]:E.split(",")}function o(_,E){var I=s(_);return I.indexOf(E)!==-1}function l(_,E,I){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:E,cancelable:I});var C=document.createEvent("Events");return C.initEvent(_,E,I),C}function c(_,E){if(typeof _>"u"&&typeof E>"u")for(var I=0;I<t.length;I++)c(t[I].className,t[I].cssClass);else{var C=_;if(typeof E>"u"){var P=i(C);P&&(E=P.cssClass)}for(var O=document.querySelectorAll("."+E),V=0;V<O.length;V++)h(O[V],C)}}function h(_,E){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var I=l("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(I),!I.defaultPrevented){var C=s(_),P=[];if(E)o(_,E)||P.push(i(E));else{var O=_.classList;t.forEach(function(X){O.contains(X.cssClass)&&P.indexOf(X)===-1&&!o(_,X.className)&&P.push(X)})}for(var V=0,G=P.length,ne;V<G;V++){if(ne=P[V],ne){C.push(ne.className),_.setAttribute("data-upgraded",C.join(","));var H=new ne.classConstructor(_);H[n]=ne,e.push(H);for(var ee=0,ge=ne.callbacks.length;ee<ge;ee++)ne.callbacks[ee](_);ne.widget&&(_[ne.className]=H)}else throw new Error("Unable to find a registered component for the given class.");var oe=l("mdl-componentupgraded",!0,!1);_.dispatchEvent(oe)}}}function f(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var E=0,I=_.length,C;E<I;E++)C=_[E],C instanceof HTMLElement&&(h(C),C.children.length>0&&f(C.children))}function p(_){var E=typeof _.widget>"u"&&typeof _.widget>"u",I=!0;E||(I=_.widget||_.widget);var C={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:I,callbacks:[]};if(t.forEach(function(O){if(O.cssClass===C.cssClass)throw new Error("The provided cssClass has already been registered: "+O.cssClass);if(O.className===C.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var P=i(_.classAsString,C);P||t.push(C)}function v(_,E){var I=i(_);I&&I.callbacks.push(E)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function b(_){if(_){var E=e.indexOf(_);e.splice(E,1);var I=_.element_.getAttribute("data-upgraded").split(","),C=I.indexOf(_[n].classAsString);I.splice(C,1),_.element_.setAttribute("data-upgraded",I.join(","));var P=l("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(P)}}function S(_){var E=function(C){e.filter(function(P){return P.element_===C}).forEach(b)};if(_ instanceof Array||_ instanceof NodeList)for(var I=0;I<_.length;I++)E(_[I]);else if(_ instanceof Node)E(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:h,upgradeElements:f,upgradeAllRegistered:y,registerUpgradedCallback:v,register:p,downgradeElements:S}}();Rt.ComponentConfigPublic;Rt.ComponentConfig;Rt.Component;Rt.upgradeDom=Rt.upgradeDom;Rt.upgradeElement=Rt.upgradeElement;Rt.upgradeElements=Rt.upgradeElements;Rt.upgradeAllRegistered=Rt.upgradeAllRegistered;Rt.registerUpgradedCallback=Rt.registerUpgradedCallback;Rt.register=Rt.register;Rt.downgradeElements=Rt.downgradeElements;window.componentHandler=Rt;window.componentHandler=Rt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Rt.upgradeAllRegistered()):(Rt.upgradeElement=function(){},Rt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var h=document.createElement("div");h.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(h)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(r,u,d)}else r[u]=a[u];r.K=a.prototype}var h=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function p(r,a){if(a){var u=f;r=r.split(".");for(var d=0;d<r.length-1;d++){var m=r[d];m in u||(u[m]={}),u=u[m]}r=r[r.length-1],d=u[r],a=a(d),a!=d&&a!=null&&h(u,r,{configurable:!0,writable:!0,value:a})}}p("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),p("Array.prototype.includes",function(r){return r||function(a,u){var d=this;d instanceof String&&(d=String(d));var m=d.length;for(u=u||0,0>u&&(u=Math.max(u+m,0));u<m;u++){var g=d[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function y(r){return r!==void 0}function b(r){return typeof r=="string"}var S=/^[\w+/_-]+[=]{0,2}$/,_=null;function E(){}function I(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function C(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function P(r){return C(r)=="array"}function O(r){var a=C(r);return a=="array"||a=="object"&&typeof r.length=="number"}function V(r){return C(r)=="function"}function G(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var ne="closure_uid_"+(1e9*Math.random()>>>0),H=0;function ee(r,a,u){return r.call.apply(r.bind,arguments)}function ge(r,a,u){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),r.apply(a,m)}}return function(){return r.apply(a,arguments)}}function oe(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?oe=ee:oe=ge,oe.apply(null,arguments)}function X(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var d=u.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function se(r,a){for(var u in a)r[u]=a[u]}var Ze=Date.now||function(){return+new Date};function Se(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var d;r.length&&(d=r.shift());)!r.length&&y(a)?u[d]=a:u[d]&&u[d]!==Object.prototype[d]?u=u[d]:u=u[d]={}}function D(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(d,m,g){for(var w=Array(arguments.length-2),T=2;T<arguments.length;T++)w[T-2]=arguments[T];return a.prototype[m].apply(d,w)}}function L(r){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}D(L,Error),L.prototype.name="CustomError";var Ae;function _t(r,a){r=r.split("%s");for(var u="",d=r.length-1,m=0;m<d;m++)u+=r[m]+(m<a.length?a[m]:"%s");L.call(this,u+r[d])}D(_t,L),_t.prototype.name="AssertionError";function rt(r,a){throw new _t("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var an=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(b(r))return b(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},st=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var d=r.length,m=b(r)?r.split(""):r,g=0;g<d;g++)g in m&&a.call(u,m[g],g,r)};function zi(r,a){for(var u=b(r)?r.split(""):r,d=r.length-1;0<=d;--d)d in u&&a.call(void 0,u[d],d,r)}var Gi=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=[],m=0,g=b(r)?r.split(""):r,w=0;w<u;w++)if(w in g){var T=g[w];a.call(void 0,T,w,r)&&(d[m++]=T)}return d},Jo=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=Array(u),m=b(r)?r.split(""):r,g=0;g<u;g++)g in m&&(d[g]=a.call(void 0,m[g],g,r));return d},ln=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r))return!0;return!1};function M(r,a){return 0<=an(r,a)}function ue(r,a){a=an(r,a);var u;return(u=0<=a)&&Z(r,a),u}function Z(r,a){return Array.prototype.splice.call(r,a,1).length==1}function _e(r,a){e:{for(var u=r.length,d=b(r)?r.split(""):r,m=0;m<u;m++)if(m in d&&a.call(void 0,d[m],m,r)){a=m;break e}a=-1}0<=a&&Z(r,a)}function et(r,a){var u=0;zi(r,function(d,m){a.call(void 0,d,m,r)&&Z(r,m)&&u++})}function A(r){return Array.prototype.concat.apply([],arguments)}function R(r){var a=r.length;if(0<a){for(var u=Array(a),d=0;d<a;d++)u[d]=r[d];return u}return[]}function k(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var x=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},B=/&/g,q=/</g,ae=/>/g,J=/"/g,te=/'/g,z=/\x00/g,Ie=/[\x00&<>"']/;function de(r,a){return r<a?-1:r>a?1:0}function ve(r){return Ie.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(B,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ae,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(J,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(te,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(z,"&#0;"))),r}function ke(r,a,u){for(var d in r)a.call(u,r[d],d,r)}function Ue(r){var a={},u;for(u in r)a[u]=r[u];return a}var lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qe(r,a){for(var u,d,m=1;m<arguments.length;m++){d=arguments[m];for(u in d)r[u]=d[u];for(var g=0;g<lt.length;g++)u=lt[g],Object.prototype.hasOwnProperty.call(d,u)&&(r[u]=d[u])}}var pt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function en(){}en.prototype.next=function(){throw pt},en.prototype.ha=function(){return this};function wr(r){if(r instanceof en)return r;if(typeof r.ha=="function")return r.ha(!1);if(O(r)){var a=0,u=new en;return u.next=function(){for(;;){if(a>=r.length)throw pt;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function Cd(r,a){if(O(r))try{st(r,a,void 0)}catch(u){if(u!==pt)throw u}else{r=wr(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==pt)throw u}}}function Hs(r){if(O(r))return R(r);r=wr(r);var a=[];return Cd(r,function(u){a.push(u)}),a}function qs(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var d=0;d<u;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof qs)for(u=r.ja(),d=0;d<u.length;d++)this.set(u[d],r.get(u[d]));else for(d in r)this.set(d,r[d])}t=qs.prototype,t.la=function(){un(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return un(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function un(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var d=r.a[a];cn(r.g,d)&&(r.a[u++]=d),a++}r.a.length=u}if(r.h!=r.a.length){var m={};for(u=a=0;a<r.a.length;)d=r.a[a],cn(m,d)||(r.a[u++]=d,m[d]=1),a++;r.a.length=u}}t.get=function(r,a){return cn(this.g,r)?this.g[r]:a},t.set=function(r,a){cn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),d=0;d<u.length;d++){var m=u[d],g=this.get(m);r.call(a,g,m,this)}},t.ha=function(r){un(this);var a=0,u=this.j,d=this,m=new en;return m.next=function(){if(u!=d.j)throw Error("The map has changed since the iterator was created");if(a>=d.a.length)throw pt;var g=d.a[a++];return r?g:d.g[g]},m};function cn(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Pd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function eO(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var d=r[u].indexOf("="),m=null;if(0<=d){var g=r[u].substring(0,d);m=r[u].substring(d+1)}else g=r[u];a(g,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function cw(r,a,u,d){for(var m=u.length;0<=(a=r.indexOf(u,a))&&a<d;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+m),!g||g==61||g==38||g==35))return a;a+=m+1}return-1}var dw=/#|$/;function kd(r,a){var u=r.search(dw),d=cw(r,0,a,u);if(0>d)return null;var m=r.indexOf("&",d);return(0>m||m>u)&&(m=u),d+=a.length+1,decodeURIComponent(r.substr(d,m-d).replace(/\+/g," "))}var tO=/[?&]($|#)/;function Gr(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof Gr?(this.i=y(a)?a:r.i,Pm(this,r.j),this.A=r.A,this.h=r.h,km(this,r.C),this.g=r.g,Om(this,pw(r.a)),this.s=r.s):r&&(u=String(r).match(Pd))?(this.i=!!a,Pm(this,u[1]||"",!0),this.A=jl(u[2]||""),this.h=jl(u[3]||"",!0),km(this,u[4]),this.g=jl(u[5]||"",!0),Om(this,u[6]||"",!0),this.s=jl(u[7]||"")):(this.i=!!a,this.a=new Hl(null,this.i))}Gr.prototype.toString=function(){var r=[],a=this.j;a&&r.push($l(a,hw,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push($l(a,hw,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push($l(u,u.charAt(0)=="/"?rO:iO,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",$l(u,oO)),r.join("")};function Pm(r,a,u){r.j=u?jl(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function km(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Om(r,a,u){a instanceof Hl?(r.a=a,aO(r.a,r.i)):(u||(a=$l(a,sO)),r.a=new Hl(a,r.i))}function Nm(r){return r instanceof Gr?new Gr(r):new Gr(r,void 0)}function jl(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function $l(r,a,u){return b(r)?(r=encodeURI(r).replace(a,nO),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function nO(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var hw=/[#\/\?@]/g,iO=/[#\?:]/g,rO=/[#\?]/g,sO=/[#\?@]/g,oO=/#/g;function Hl(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function Yr(r){r.a||(r.a=new qs,r.g=0,r.h&&eO(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Hl.prototype,t.add=function(r,a){Yr(this),this.h=null,r=Xo(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function Ws(r,a){Yr(r),a=Xo(r,a),cn(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,cn(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&un(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function fw(r,a){return Yr(r),a=Xo(r,a),cn(r.a.g,a)}t.forEach=function(r,a){Yr(this),this.a.forEach(function(u,d){st(u,function(m){r.call(a,m,d,this)},this)},this)},t.ja=function(){Yr(this);for(var r=this.a.la(),a=this.a.ja(),u=[],d=0;d<a.length;d++)for(var m=r[d],g=0;g<m.length;g++)u.push(a[d]);return u},t.la=function(r){Yr(this);var a=[];if(b(r))fw(this,r)&&(a=A(a,this.a.get(Xo(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=A(a,r[u])}return a},t.set=function(r,a){return Yr(this),this.h=null,r=Xo(this,r),fw(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var d=a[u],m=encodeURIComponent(String(d));d=this.la(d);for(var g=0;g<d.length;g++){var w=m;d[g]!==""&&(w+="="+encodeURIComponent(String(d[g]))),r.push(w)}}return this.h=r.join("&")};function pw(r){var a=new Hl;return a.h=r.h,r.a&&(a.a=new qs(r.a),a.g=r.g),a}function Xo(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function aO(r,a){a&&!r.j&&(Yr(r),r.h=null,r.a.forEach(function(u,d){var m=d.toLowerCase();d!=m&&(Ws(this,d),Ws(this,m),0<u.length&&(this.h=null,this.a.set(Xo(this,m),R(u)),this.g+=u.length))},r)),r.j=a}function Ks(r){this.a=Nm(r)}function lO(r,a){a?r.a.a.set(jt.Sa,a):Ws(r.a.a,jt.Sa)}function uO(r,a){a!==null?r.a.a.set(jt.Qa,a?"1":"0"):Ws(r.a.a,jt.Qa)}function mw(r){return r.a.a.get(jt.Pa)||null}function gw(r,a){a?r.a.a.set(jt.PROVIDER_ID,a):Ws(r.a.a,jt.PROVIDER_ID)}Ks.prototype.toString=function(){return this.a.toString()};var jt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Zo;e:{var vw=v.navigator;if(vw){var yw=vw.userAgent;if(yw){Zo=yw;break e}}Zo=""}function $e(r){return Zo.indexOf(r)!=-1}function _w(){return($e("Chrome")||$e("CriOS"))&&!$e("Edge")}function xm(r){return xm[" "](r),r}xm[" "]=E;function cO(r,a){var u=fO;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var ww=$e("Opera"),Pt=$e("Trident")||$e("MSIE"),Qr=$e("Edge"),dO=Qr||Pt,Ri=$e("Gecko")&&!(Zo.toLowerCase().indexOf("webkit")!=-1&&!$e("Edge"))&&!($e("Trident")||$e("MSIE"))&&!$e("Edge"),Bn=Zo.toLowerCase().indexOf("webkit")!=-1&&!$e("Edge"),hO=Bn&&$e("Mobile"),Jr=$e("Macintosh");function bw(){var r=v.document;return r?r.documentMode:void 0}var Od;e:{var Dm="",Lm=function(){var r=Zo;if(Ri)return/rv:([^\);]+)(\)|;)/.exec(r);if(Qr)return/Edge\/([\d\.]+)/.exec(r);if(Pt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Bn)return/WebKit\/(\S+)/.exec(r);if(ww)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Lm&&(Dm=Lm?Lm[1]:""),Pt){var Mm=bw();if(Mm!=null&&Mm>parseFloat(Dm)){Od=String(Mm);break e}}Od=Dm}var fO={};function zs(r){return cO(r,function(){for(var a=0,u=x(String(Od)).split("."),d=x(String(r)).split("."),m=Math.max(u.length,d.length),g=0;a==0&&g<m;g++){var w=u[g]||"",T=d[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],w[0].length==0&&T[0].length==0)break;a=de(w[1].length==0?0:parseInt(w[1],10),T[1].length==0?0:parseInt(T[1],10))||de(w[2].length==0,T[2].length==0)||de(w[2],T[2]),w=w[3],T=T[3]}while(a==0)}return 0<=a})}var ql,Ew=v.document;ql=Ew&&Pt?bw()||(Ew.compatMode=="CSS1Compat"?parseInt(Od,10):5):void 0;function ea(r,a){this.a=r===Tw&&a||"",this.g=Iw}ea.prototype.ma=!0,ea.prototype.ka=function(){return this.a},ea.prototype.toString=function(){return"Const{"+this.a+"}"};var Iw={},Tw={};function Gs(){this.a="",this.h=Sw}Gs.prototype.ma=!0,Gs.prototype.ka=function(){return this.a.toString()},Gs.prototype.g=function(){return 1},Gs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Aw(r){return r instanceof Gs&&r.constructor===Gs&&r.h===Sw?r.a:(rt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+C(r)),"type_error:TrustedResourceUrl")}function pO(){var r=sN;r instanceof ea&&r.constructor===ea&&r.g===Iw?r=r.a:(rt("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new Gs;return a.a=r,a}var Sw={};function oi(){this.a="",this.h=Pw}oi.prototype.ma=!0,oi.prototype.ka=function(){return this.a.toString()},oi.prototype.g=function(){return 1},oi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Xr(r){return r instanceof oi&&r.constructor===oi&&r.h===Pw?r.a:(rt("expected object of type SafeUrl, got '"+r+"' of type "+C(r)),"type_error:SafeUrl")}var Rw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nd(r){return r instanceof oi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Rw.test(r)||(r="about:invalid#zClosurez"),Vm(r))}function Cw(r){return r instanceof oi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),Rw.test(r)||(r="about:invalid#zClosurez"),Vm(r))}var Pw={};function Vm(r){var a=new oi;return a.a=r,a}Vm("about:blank");function ta(){this.a="",this.g=kw}ta.prototype.ma=!0;var kw={};ta.prototype.ka=function(){return this.a},ta.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Zr(){this.a="",this.j=Ow,this.h=null}Zr.prototype.g=function(){return this.h},Zr.prototype.ma=!0,Zr.prototype.ka=function(){return this.a.toString()},Zr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function xd(r){return r instanceof Zr&&r.constructor===Zr&&r.j===Ow?r.a:(rt("expected object of type SafeHtml, got '"+r+"' of type "+C(r)),"type_error:SafeHtml")}var Ow={};function Wl(r,a){var u=new Zr;return u.a=r,u.h=a,u}Wl("<!DOCTYPE html>",0);var mO=Wl("",0);Wl("<br>",0);var gO=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=xd(mO),!a.parentElement):!1});function vO(r,a){if(r.src=Aw(a),_===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&S.test(a)){_=a;break e}_=""}a=_,a&&r.setAttribute("nonce",a)}function na(r,a){a=a instanceof oi?a:Cw(a),r.assign(Xr(a))}function es(r,a){this.a=y(r)?r:0,this.g=y(a)?a:0}es.prototype.toString=function(){return"("+this.a+", "+this.g+")"},es.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},es.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},es.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function Fm(r,a){this.width=r,this.height=a}t=Fm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Dd(r){return r?new $m(Kl(r)):Ae||(Ae=new $m)}function Um(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):Nw(document,r,a)}function Bm(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var d=a||u;r=d.querySelectorAll&&d.querySelector&&r?d.querySelector(r?"."+r:""):Nw(u,r,a)[0]||null}return r||null}function Nw(r,a,u){var d;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var m=r.getElementsByClassName(a);return m}if(m=r.getElementsByTagName("*"),a){var g={};for(u=d=0;r=m[u];u++){var w=r.className;typeof w.split=="function"&&M(w.split(/\s+/),a)&&(g[d++]=r)}return g.length=d,g}return m}function yO(r,a){ke(a,function(u,d){u&&typeof u=="object"&&u.ma&&(u=u.ka()),d=="style"?r.style.cssText=u:d=="class"?r.className=u:d=="for"?r.htmlFor=u:xw.hasOwnProperty(d)?r.setAttribute(xw[d],u):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,u):r[d]=u})}var xw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ld(r){return r.scrollingElement?r.scrollingElement:(Bn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function Ys(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Kl(r){return r.nodeType==9?r:r.ownerDocument||r.document}function jm(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(Kl(r).createTextNode(String(a)))}}function Dw(r,a){return a?_O(r,function(u){return!a||b(u.className)&&M(u.className.split(/\s+/),a)}):null}function _O(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function $m(r){this.a=r||v.document||document}$m.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var Md={Fc:!0},Lw={Hc:!0},wO={Ec:!0},Mw={Gc:!0};function ts(){throw Error("Do not instantiate directly")}ts.prototype.va=null,ts.prototype.toString=function(){return this.content};function zl(r,a,u,d){if(r=r(a||IO,void 0,u),d=(d||Dd()).a.createElement("DIV"),r=bO(r),r.match(EO),r=Wl(r,null),gO())for(;d.lastChild;)d.removeChild(d.lastChild);return d.innerHTML=xd(r),d.childNodes.length==1&&(r=d.firstChild,r.nodeType==1&&(d=r)),d}function bO(r){if(!G(r))return ve(String(r));if(r instanceof ts){if(r.fa===Md)return r.content;if(r.fa===Mw)return ve(r.content)}return rt("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var EO=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,IO={};function TO(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Vd(){ts.call(this)}D(Vd,ts),Vd.prototype.fa=Md;function Pe(r){return r!=null&&r.fa===Md?r:r instanceof Zr?ce(xd(r).toString(),r.g()):ce(ve(String(String(r))),TO(r))}function Fd(){ts.call(this)}D(Fd,ts),Fd.prototype.fa=Lw,Fd.prototype.va=1;function Ud(r,a){this.content=String(r),this.va=a??null}D(Ud,ts),Ud.prototype.fa=Mw;function Je(r){return new Ud(r,void 0)}var ce=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=new a(String(u)),d!==void 0&&(u.va=d),u}}(Vd),AO=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(Fd);function SO(r){function a(){}var u={label:kt("New password")};a.prototype=r,r=new a;for(var d in u)r[d]=u[d];return r}function kt(r){return(r=String(r))?new Ud(r,void 0):""}var Vw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,d){return u=String(u),u?(u=new a(u),d!==void 0&&(u.va=d),u):""}}(Vd);function jn(r){return r!=null&&r.fa===Md?String(String(r.content).replace(xO,"").replace(DO,"&lt;")).replace(kO,CO):ve(String(r))}function Qs(r){return r!=null&&r.fa===Lw?r=String(r).replace(qm,Hm):r instanceof oi?r=String(Xr(r).toString()).replace(qm,Hm):(r=String(r),NO.test(r)?r=r.replace(qm,Hm):(rt("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function Fw(r){return r!=null&&r.fa===wO?r=r.content:r==null?r="":r instanceof ta?r instanceof ta&&r.constructor===ta&&r.g===kw?r=r.a:(rt("expected object of type SafeStyle, got '"+r+"' of type "+C(r)),r="type_error:SafeStyle"):(r=String(r),OO.test(r)||(rt("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var RO={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function CO(r){return RO[r]}var PO={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function Hm(r){return PO[r]}var kO=/[\x00\x22\x27\x3c\x3e]/g,qm=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,OO=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,NO=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,xO=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,DO=/</g;function Wm(){return Je("Enter a valid phone number")}function Uw(){return Je("Unable to send password reset code to specified email")}function Bw(){return Je("Something went wrong. Please try again.")}function jw(){return Je("This email already exists without any means of sign-in. Please reset the password to recover.")}function $w(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return Je(a)}function Hw(){return Je("Please login again to perform this operation")}function Gl(r,a,u){var d=Error.call(this);if(this.message=d.message,"stack"in d&&(this.stack=d.stack),this.code=LO+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=Bw()}r=Je(r).toString()}this.message=r||"",this.credential=u||null}c(Gl,Error),Gl.prototype.toJSON=function(){return{code:this.code,message:this.message}};var LO="firebaseui/";function Js(){this.T=this.T,this.C=this.C}var MO=0;Js.prototype.T=!1,Js.prototype.m=function(){!this.T&&(this.T=!0,this.o(),MO!=0)&&(this[ne]||(this[ne]=++H))};function Yl(r,a){r.T?y(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(y(void 0)?oe(a,void 0):a))}Js.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ql(r){r&&typeof r.m=="function"&&r.m()}var VO=Object.freeze||function(r){return r},qw=!Pt||9<=Number(ql),FO=Pt&&!zs("9"),UO=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",E,a),v.removeEventListener("test",E,a)}catch{}return r}();function br(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}br.prototype.stopPropagation=function(){this.h=!0},br.prototype.preventDefault=function(){this.qb=!1};function $n(r,a){if(br.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if(Ri){e:{try{xm(a.nodeName);var m=!0;break e}catch{}m=!1}m||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=b(r.pointerType)?r.pointerType:BO[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}D($n,br);var BO=VO({2:"touch",3:"pen",4:"mouse"});$n.prototype.stopPropagation=function(){$n.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},$n.prototype.preventDefault=function(){$n.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,FO)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var Jl="closure_listenable_"+(1e6*Math.random()|0),jO=0;function $O(r,a,u,d,m){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!d,this.La=m,this.key=++jO,this.sa=this.Ia=!1}function Bd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function jd(r){this.src=r,this.a={},this.g=0}jd.prototype.add=function(r,a,u,d,m){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var w=zm(r,a,d,m);return-1<w?(a=r[w],u||(a.Ia=!1)):(a=new $O(a,this.src,g,!!d,m),a.Ia=u,r.push(a)),a};function Km(r,a){var u=a.type;u in r.a&&ue(r.a[u],a)&&(Bd(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function zm(r,a,u,d){for(var m=0;m<r.length;++m){var g=r[m];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==d)return m}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),Ym={};function Ci(r,a,u,d,m){if(d&&d.once)return Xl(r,a,u,d,m);if(P(a)){for(var g=0;g<a.length;g++)Ci(r,a[g],u,d,m);return null}return u=Jm(u),r&&r[Jl]?r.J.add(String(a),u,!1,G(d)?!!d.capture:!!d,m):Ww(r,a,u,!1,d,m)}function Ww(r,a,u,d,m,g){if(!a)throw Error("Invalid event type");var w=G(m)?!!m.capture:!!m,T=$d(r);if(T||(r[Gm]=T=new jd(r)),u=T.add(a,u,d,w,g),u.proxy)return u;if(d=HO(),u.proxy=d,d.src=r,d.listener=u,r.addEventListener)UO||(m=w),m===void 0&&(m=!1),r.addEventListener(a.toString(),d,m);else if(r.attachEvent)r.attachEvent(Kw(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return u}function HO(){var r=qO,a=qw?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function Xl(r,a,u,d,m){if(P(a)){for(var g=0;g<a.length;g++)Xl(r,a[g],u,d,m);return null}return u=Jm(u),r&&r[Jl]?r.J.add(String(a),u,!0,G(d)?!!d.capture:!!d,m):Ww(r,a,u,!0,d,m)}function Xs(r,a,u,d,m){if(P(a))for(var g=0;g<a.length;g++)Xs(r,a[g],u,d,m);else d=G(d)?!!d.capture:!!d,u=Jm(u),r&&r[Jl]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=zm(g,u,d,m),-1<u&&(Bd(g[u]),Z(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=$d(r))&&(a=r.a[a.toString()],r=-1,a&&(r=zm(a,u,d,m)),(u=-1<r?a[r]:null)&&ns(u))}function ns(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[Jl])Km(a.J,r);else{var u=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(u,d,r.capture):a.detachEvent?a.detachEvent(Kw(u),d):a.addListener&&a.removeListener&&a.removeListener(d),(u=$d(a))?(Km(u,r),u.g==0&&(u.src=null,a[Gm]=null)):Bd(r)}}}function Kw(r){return r in Ym?Ym[r]:Ym[r]="on"+r}function zw(r,a,u,d){var m=!0;if((r=$d(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=Gw(g,d),m=m&&g!==!1)}return m}function Gw(r,a){var u=r.listener,d=r.La||r.src;return r.Ia&&ns(r),u.call(d,a)}function qO(r,a){if(r.sa)return!0;if(!qw){if(!a)e:{a=["window","event"];for(var u=v,d=0;d<a.length;d++)if(u=u[a[d]],u==null){a=null;break e}a=u}if(d=a,a=new $n(d,this),u=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=a.g;m;m=m.parentNode)d.push(m);for(r=r.type,m=d.length-1;!a.h&&0<=m;m--){a.g=d[m];var g=zw(d[m],r,!0,a);u=u&&g}for(m=0;!a.h&&m<d.length;m++)a.g=d[m],g=zw(d[m],r,!1,a),u=u&&g}return u}return Gw(r,new $n(a,this))}function $d(r){return r=r[Gm],r instanceof jd?r:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jm(r){return V(r)?r:(r[Qm]||(r[Qm]=function(a){return r.handleEvent(a)}),r[Qm])}function $t(){Js.call(this),this.J=new jd(this),this.wb=this,this.Ha=null}D($t,Js),$t.prototype[Jl]=!0,$t.prototype.Za=function(r){this.Ha=r},$t.prototype.removeEventListener=function(r,a,u,d){Xs(this,r,a,u,d)};function is(r,a){var u,d=r.Ha;if(d)for(u=[];d;d=d.Ha)u.push(d);if(r=r.wb,d=a.type||a,b(a))a=new br(a,r);else if(a instanceof br)a.target=a.target||r;else{var m=a;a=new br(d,r),Qe(a,m)}if(m=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];m=Hd(w,d,!0,a)&&m}if(a.h||(w=a.g=r,m=Hd(w,d,!0,a)&&m,a.h||(m=Hd(w,d,!1,a)&&m)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],m=Hd(w,d,!1,a)&&m;return m}$t.prototype.o=function(){if($t.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],d=0;d<u.length;d++)Bd(u[d]);delete r.a[a],r.g--}}this.Ha=null};function Hd(r,a,u,d){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var m=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var T=w.listener,N=w.La||w.src;w.Ia&&Km(r.J,w),m=T.call(N,d)!==!1&&m}}return m&&d.qb!=0}var ai={},Yw=0;function Qw(r,a){if(!r)throw Error("Event target element must be provided!");if(r=Xm(r),ai[r]&&ai[r].length)for(var u=0;u<ai[r].length;u++)is(ai[r][u],a)}function WO(r){var a=Xm(r.N());ai[a]&&ai[a].length&&(_e(ai[a],function(u){return u==r}),ai[a].length||delete ai[a])}function Xm(r){return typeof r.a>"u"&&(r.a=Yw,Yw++),r.a}function qd(r){if(!r)throw Error("Event target element must be provided!");$t.call(this),this.a=r}c(qd,$t),qd.prototype.N=function(){return this.a},qd.prototype.register=function(){var r=Xm(this.N());ai[r]?M(ai[r],this)||ai[r].push(this):ai[r]=[this]};function Jw(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function Zm(r,a){this.h=r,this.j=a,this.g=0,this.a=null}Zm.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Xw(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function Zw(){this.g=this.a=null}var eb=new Zm(function(){return new eg},function(r){r.reset()});Zw.prototype.add=function(r,a){var u=eb.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function KO(){var r=nb,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function eg(){this.next=this.g=this.a=null}eg.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},eg.prototype.reset=function(){this.next=this.g=this.a=null};function tb(r){v.setTimeout(function(){throw r},0)}var tg;function zO(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!$e("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var g=m.contentWindow;m=g.document,m.open(),m.write(""),m.close();var w="callImmediate"+Math.random(),T=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;m=oe(function(N){(T=="*"||N.origin==T)&&N.data==w&&this.port1.onmessage()},this),g.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,T)}}}),typeof r<"u"&&!$e("Trident")&&!$e("MSIE")){var a=new r,u={},d=u;return a.port1.onmessage=function(){if(y(u.next)){u=u.next;var m=u.gb;u.gb=null,m()}},function(m){d.next={gb:m},d=d.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,m(),m=null},document.documentElement.appendChild(g)}:function(m){v.setTimeout(m,0)}}function ng(r,a){Wd||GO(),ig||(Wd(),ig=!0),nb.add(r,a)}var Wd;function GO(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);Wd=function(){r.then(ib)}}else Wd=function(){var a=ib;!V(v.setImmediate)||v.Window&&v.Window.prototype&&!$e("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(tg||(tg=zO()),tg(a)):v.setImmediate(a)}}var ig=!1,nb=new Zw;function ib(){for(var r;r=KO();){try{r.a.call(r.g)}catch(a){tb(a)}Xw(eb,r)}ig=!1}function Ht(r){if(this.a=Zs,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=E)try{var a=this;r.call(void 0,function(u){eo(a,Zl,u)},function(u){if(!(u instanceof ra))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}eo(a,Er,u)})}catch(u){eo(this,Er,u)}}var Zs=0,Zl=2,Er=3;function rb(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}rb.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var sb=new Zm(function(){return new rb},function(r){r.reset()});function rg(r,a,u){var d=sb.get();return d.s=r,d.g=a,d.j=u,d}function Ot(r){if(r instanceof Ht)return r;var a=new Ht(E);return eo(a,Zl,r),a}function ia(r){return new Ht(function(a,u){u(r)})}Ht.prototype.then=function(r,a,u){return ab(this,V(r)?r:null,V(a)?a:null,u)},Ht.prototype.$goog_Thenable=!0,t=Ht.prototype,t.fc=function(r,a){return r=rg(r,r,a),r.h=!0,sg(this,r),this},t.Ca=function(r,a){return ab(this,null,r,a)},t.cancel=function(r){this.a==Zs&&ng(function(){var a=new ra(r);ob(this,a)},this)};function ob(r,a){if(r.a==Zs)if(r.h){var u=r.h;if(u.g){for(var d=0,m=null,g=null,w=u.g;w&&(w.h||(d++,w.a==r&&(m=w),!(m&&1<d)));w=w.next)m||(g=w);m&&(u.a==Zs&&d==1?ob(u,a):(g?(d=g,d.next==u.j&&(u.j=d),d.next=d.next.next):ub(u),cb(u,m,Er,a)))}r.h=null}else eo(r,Er,a)}function sg(r,a){r.g||r.a!=Zl&&r.a!=Er||lb(r),r.j?r.j.next=a:r.g=a,r.j=a}function ab(r,a,u,d){var m=rg(null,null,null);return m.a=new Ht(function(g,w){m.s=a?function(T){try{var N=a.call(d,T);g(N)}catch(Y){w(Y)}}:g,m.g=u?function(T){try{var N=u.call(d,T);!y(N)&&T instanceof ra?w(T):g(N)}catch(Y){w(Y)}}:w}),m.a.h=r,sg(r,m),m.a}t.hc=function(r){this.a=Zs,eo(this,Zl,r)},t.ic=function(r){this.a=Zs,eo(this,Er,r)};function eo(r,a,u){if(r.a==Zs){r===u&&(a=Er,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var d=u,m=r.hc,g=r.ic;if(d instanceof Ht){sg(d,rg(m||E,g||null,r));var w=!0}else if(Jw(d))d.then(m,g,r),w=!0;else{if(G(d))try{var T=d.then;if(V(T)){YO(d,T,m,g,r),w=!0;break e}}catch(N){g.call(r,N),w=!0;break e}w=!1}}w||(r.A=u,r.a=a,r.h=null,lb(r),a!=Er||u instanceof ra||QO(r,u))}}function YO(r,a,u,d,m){function g(N){T||(T=!0,d.call(m,N))}function w(N){T||(T=!0,u.call(m,N))}var T=!1;try{a.call(r,w,g)}catch(N){g(N)}}function lb(r){r.i||(r.i=!0,ng(r.Hb,r))}function ub(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=ub(this);)cb(this,r,this.a,this.A);this.i=!1};function cb(r,a,u,d){if(u==Er&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,db(a,u,d);else try{a.h?a.s.call(a.j):db(a,u,d)}catch(m){hb.call(null,m)}Xw(sb,a)}function db(r,a,u){a==Zl?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function QO(r,a){r.s=!0,ng(function(){r.s&&hb.call(null,a)})}var hb=tb;function ra(r){L.call(this,r)}D(ra,L),ra.prototype.name="cancel";function fb(r,a,u){a||(a={}),u=u||window;var d=r instanceof oi?r:Nd(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var m=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":m.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(g+"="+(a[g]?1:0))}var g=m.join(",");return($e("iPhone")&&!$e("iPod")&&!$e("iPad")||$e("iPad")||$e("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),d=d instanceof oi?d:Cw(d),g.href=Xr(d),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=Xr(d).toString(),u&&(dO&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Wl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ve(a)+'">',null),u.document.write(xd(a)),u.document.close())):(u=u.open(Xr(d).toString(),r,g))&&a.noopener&&(u.opener=null),u}function pb(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function sa(r){fb(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Kd(r,a){if(r=G(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function Ir(){return window.location.href}function JO(){var r=null;return new Ht(function(a){v.document.readyState=="complete"?a():(r=function(){a()},Xl(window,"load",r))}).Ca(function(a){throw Xs(window,"load",r),a})}function XO(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function ZO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(d){return a.includes(d)}).reduce(function(d,m){return d[m]=r[m],d},u)}function rs(r){var a=nN;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}rs.prototype.cancel=function(r){if(this.a)this.h instanceof rs&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new tu,zd(this),eu(this,!1,r))}},rs.prototype.L=function(r,a){this.A=!1,eu(this,r,a)};function eu(r,a,u){r.a=!0,r.h=u,r.j=!a,vb(r)}function zd(r){if(r.a){if(!r.J)throw new Gd;r.J=!1}}rs.prototype.callback=function(r){zd(this),eu(this,!0,r)};function mb(r,a,u){r.s.push([a,u,void 0]),r.a&&vb(r)}rs.prototype.then=function(r,a,u){var d,m,g=new Ht(function(w,T){d=w,m=T});return mb(this,d,function(w){w instanceof tu?g.cancel():m(w)}),g.then(r,a,u)},rs.prototype.$goog_Thenable=!0;function gb(r){return ln(r.s,function(a){return V(a[1])})}function vb(r){if(r.i&&r.a&&gb(r)){var a=r.i,u=Yd[a];u&&(v.clearTimeout(u.a),delete Yd[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var d=u=!1;r.s.length&&!r.A;){var m=r.s.shift(),g=m[0],w=m[1];if(m=m[2],g=r.j?w:g)try{var T=g.call(m||r.O,a);y(T)&&(r.j=r.j&&(T==a||T instanceof Error),r.h=a=T),(Jw(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(d=!0,r.A=!0)}catch(N){a=N,r.j=!0,gb(r)||(u=!0)}}r.h=a,d&&(T=oe(r.L,r,!0),d=oe(r.L,r,!1),a instanceof rs?(mb(a,T,d),a.l=!0):a.then(T,d)),u&&(a=new yb(a),Yd[a.a]=a,r.i=a.a)}function Gd(){L.call(this)}D(Gd,L),Gd.prototype.message="Deferred has already fired",Gd.prototype.name="AlreadyCalledError";function tu(){L.call(this)}D(tu,L),tu.prototype.message="Deferred was canceled",tu.prototype.name="CanceledError";function yb(r){this.a=v.setTimeout(oe(this.h,this),0),this.g=r}yb.prototype.h=function(){throw delete Yd[this.a],this.g};var Yd={};function eN(r){var a={},u=a.document||document,d=Aw(r).toString(),m=document.createElement("SCRIPT"),g={rb:m,sb:void 0},w=new rs(g),T=null,N=a.timeout!=null?a.timeout:5e3;return 0<N&&(T=window.setTimeout(function(){Qd(m,!0);var Y=new og(rN,"Timeout reached for loading script "+d);zd(w),eu(w,!1,Y)},N),g.sb=T),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(Qd(m,a.xc||!1,T),w.callback(null))},m.onerror=function(){Qd(m,!0,T);var Y=new og(iN,"Error while loading script "+d);zd(w),eu(w,!1,Y)},g=a.attributes||{},Qe(g,{type:"text/javascript",charset:"UTF-8"}),yO(m,g),vO(m,r),tN(u).appendChild(m),w}function tN(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function nN(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&Qd(r,!0,this.sb)}}function Qd(r,a,u){u!=null&&v.clearTimeout(u),r.onload=E,r.onerror=E,r.onreadystatechange=E,a&&window.setTimeout(function(){Ys(r)},0)}var iN=0,rN=1;function og(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),L.call(this,u),this.code=r}D(og,L);function nu(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function ag(r){this.a=r||nu(),this.h=!1,this.g=null}ag.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function _b(r,a,u){if(r.a&&a)return function(){return r.h=!0,new Ht(function(m){r.g=m,r.a.initialize({client_id:a,callback:m,auto_select:!u}),r.a.prompt()})}();if(a){var d=lg.Xa().load().then(function(){return r.a=nu(),_b(r,a,u)}).Ca(function(){return null});return Ot(d)}return Ot(null)}I(ag);var sN=new ea(Tw,"https://accounts.google.com/gsi/client");function lg(){this.a=null}lg.prototype.load=function(){var r=this;if(this.a)return this.a;var a=pO();return nu()?Ot():this.a=JO().then(function(){if(!nu())return new Ht(function(u,d){var m=setTimeout(function(){r.a=null,d(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(m),u()},Ot(eN(a)).then(function(){nu()&&u()}).Ca(function(g){clearTimeout(m),r.a=null,d(g)})})})},I(lg);function ug(r,a){this.a=r,this.g=a||function(u){throw u}}ug.prototype.confirm=function(r){return Ot(this.a.confirm(r)).Ca(this.g)};function cg(r,a,u){this.reset(r,a,u,void 0,void 0)}cg.prototype.a=null,cg.prototype.reset=function(r,a,u,d,m){this.h=d||Ze(),this.j=r,this.s=a,this.g=u,delete this.a};function dg(r){this.s=r,this.a=this.h=this.j=this.g=null}function Jd(r,a){this.name=r,this.value=a}Jd.prototype.toString=function(){return this.name};var wb=new Jd("SEVERE",1e3),bb=new Jd("WARNING",900),Eb=new Jd("CONFIG",700);function Ib(r){return r.j?r.j:r.g?Ib(r.g):(rt("Root logger has no level set."),null)}dg.prototype.log=function(r,a,u){if(r.value>=Ib(this).value)for(V(a)&&(a=a()),r=new cg(r,String(a),this.s),u&&(r.a=u),u=this;u;){var d=u,m=r;if(d.a)for(var g=0;a=d.a[g];g++)a(m);u=u.g}};var hg={},iu=null;function Tb(){iu||(iu=new dg(""),hg[""]=iu,iu.j=Eb)}function Ab(r){Tb();var a;if(!(a=hg[r])){a=new dg(r);var u=r.lastIndexOf("."),d=r.substr(u+1);u=Ab(r.substr(0,u)),u.h||(u.h={}),u.h[d]=a,a.g=u,hg[r]=a}return a}function Xd(){this.a=Ze()}var fg=null;Xd.prototype.set=function(r){this.a=r},Xd.prototype.reset=function(){this.set(Ze())},Xd.prototype.get=function(){return this.a};function ru(r){this.j=r||"",fg||(fg=new Xd),this.s=fg}ru.prototype.a=!0,ru.prototype.g=!0,ru.prototype.h=!1;function to(r){return 10>r?"0"+r:String(r)}function oN(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function Sb(r){ru.call(this,r)}D(Sb,ru);function aN(r,a){var u=[];if(u.push(r.j," "),r.g){var d=new Date(a.h);u.push("[",to(d.getFullYear()-2e3)+to(d.getMonth()+1)+to(d.getDate())+" "+to(d.getHours())+":"+to(d.getMinutes())+":"+to(d.getSeconds())+"."+to(Math.floor(d.getMilliseconds()/10)),"] ")}return u.push("[",oN(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function Rb(){this.s=oe(this.h,this),this.a=new Sb,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Rb.prototype.h=function(r){function a(g){if(g){if(g.value>=wb.value)return"error";if(g.value>=bb.value)return"warn";if(g.value>=Eb.value)return"log"}return"debug"}if(!this.j[r.g]){var u=aN(this.a,r),d=lN;if(d){var m=a(r.j);uN(d,m,u,r.a)}}};var lN=v.console;function uN(r,a,u,d){r[a]?r[a](u,d||""):r.log(u,d||"")}function li(r,a){var u=pg;u&&u.log(wb,r,a)}var pg;pg=Ab("firebaseui");var mg=new Rb;if(mg.g!=1){var Zd;Tb(),Zd=iu;var cN=mg.s;Zd.a||(Zd.a=[]),Zd.a.push(cN),mg.g=!0}function ss(r){var a=pg;a&&a.log(bb,r,void 0)}function Cb(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=Cb.prototype,t.set=function(r,a,u,d,m,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');y(u)||(u=-1),m=m?";domain="+m:"",d=d?";path="+d:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Ze()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+m+d+u+g},t.get=function(r,a){for(var u=r+"=",d=(this.a.cookie||"").split(";"),m=0,g;m<d.length;m++){if(g=x(d[m]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return gg(this).keys},t.la=function(){return gg(this).values},t.clear=function(){for(var r=gg(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function gg(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],d,m,g=0;g<r.length;g++)m=x(r[g]),d=m.indexOf("="),d==-1?(a.push(""),u.push(m)):(a.push(m.substring(0,d)),u.push(m.substring(d+1)));return{keys:a,values:u}}var eh=new Cb;function Pb(){}function oa(r,a,u,d){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!d}c(oa,Pb),oa.prototype.set=function(r,a){eh.set(r,a,this.h,this.g,this.a,this.j)},oa.prototype.get=function(r){return eh.get(r)||null},oa.prototype.ra=function(r){var a=this.g,u=this.a;eh.get(r),eh.set(r,"",0,a,u)};function vg(r,a){this.g=r,this.a=a||null}function kb(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function Ob(r){if(r&&r.email){var a=r.credential&&we.auth.AuthCredential.fromJSON(r.credential);return new vg(r.email,a)}return null}function Nb(r){this.a=r||null}function xb(r){for(var a=[],u=0,d=0;d<r.length;d++){var m=r.charCodeAt(d);255<m&&(a[u++]=m&255,m>>=8),a[u++]=m}return a}function dN(r){return Jo(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function th(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(aa*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<aa*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,d=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=d,Fb(a),a[0]^=ih[r/this.g][0],a[1]^=ih[r/this.g][1],a[2]^=ih[r/this.g][2],a[3]^=ih[r/this.g][3]}else 6<this.g&&r%this.g==4&&Fb(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}th.prototype.A=16;var aa=th.prototype.A/4;function Db(r,a){for(var u,d=0;d<aa;d++)for(var m=0;4>m;m++)u=4*m+d,u=a[u],r.h[d][m]=u}function Lb(r){for(var a=[],u=0;u<aa;u++)for(var d=0;4>d;d++)a[4*d+u]=r.h[u][d];return a}function la(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]^=r.a[4*a+d][u]}function nh(r,a){for(var u=0;4>u;u++)for(var d=0;4>d;d++)r.h[u][d]=a[r.h[u][d]]}function Mb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%aa]}function Vb(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%aa]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function Fb(r){r[0]=ua[r[0]],r[1]=ua[r[1]],r[2]=ua[r[2]],r[3]=ua[r[3]]}var ua=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Ub=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ih=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],rh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],sh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],oh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ah=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],lh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],uh=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Bb(r,a){r=new th($b(r)),a=xb(a);for(var u=a.splice(0,16),d="",m;u.length;){m=16-u.length;for(var g=0;g<m;g++)u.push(0);for(m=r,Db(m,u),la(m,0),u=1;u<m.j;++u){nh(m,ua),Mb(m),g=m.h;for(var w=m.s[0],T=0;4>T;T++)w[0]=g[0][T],w[1]=g[1][T],w[2]=g[2][T],w[3]=g[3][T],g[0][T]=rh[w[0]]^sh[w[1]]^w[2]^w[3],g[1][T]=w[0]^rh[w[1]]^sh[w[2]]^w[3],g[2][T]=w[0]^w[1]^rh[w[2]]^sh[w[3]],g[3][T]=sh[w[0]]^w[1]^w[2]^rh[w[3]];la(m,u)}nh(m,ua),Mb(m),la(m,m.j),d+=dN(Lb(m)),u=a.splice(0,16)}return d}function jb(r,a){r=new th($b(r));for(var u=[],d=0;d<a.length;d+=2)u.push(parseInt(a.substring(d,d+2),16));var m=u.splice(0,16);for(a="";m.length;){for(d=r,Db(d,m),la(d,d.j),m=1;m<d.j;++m){Vb(d),nh(d,Ub),la(d,d.j-m);for(var g=d.h,w=d.s[0],T=0;4>T;T++)w[0]=g[0][T],w[1]=g[1][T],w[2]=g[2][T],w[3]=g[3][T],g[0][T]=uh[w[0]]^ah[w[1]]^lh[w[2]]^oh[w[3]],g[1][T]=oh[w[0]]^uh[w[1]]^ah[w[2]]^lh[w[3]],g[2][T]=lh[w[0]]^oh[w[1]]^uh[w[2]]^ah[w[3]],g[3][T]=ah[w[0]]^lh[w[1]]^oh[w[2]]^uh[w[3]]}if(Vb(d),nh(d,Ub),la(d,0),d=Lb(d),8192>=d.length)d=String.fromCharCode.apply(null,d);else{for(m="",g=0;g<d.length;g+=8192)m+=String.fromCharCode.apply(null,k(d,g,g+8192));d=m}a+=d,m=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function $b(r){r=xb(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function Hb(r){var a=[];return yg(new hN,r,a),a.join("")}function hN(){}function yg(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(P(a)){var d=a;a=d.length,u.push("[");for(var m="",g=0;g<a;g++)u.push(m),yg(r,d[g],u),m=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),m="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(g=a[d],typeof g!="function"&&(u.push(m),Wb(d,u),u.push(":"),yg(r,g,u),m=","));u.push("}");return}}switch(typeof a){case"string":Wb(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var qb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},fN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Wb(r,a){a.push('"',r.replace(fN,function(u){var d=qb[u];return d||(d="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),qb[u]=d),d}),'"')}function su(r){this.a=r}su.prototype.set=function(r,a){y(a)?this.a.set(r,Hb(a)):this.a.ra(r)},su.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function ch(){}D(ch,Pb),ch.prototype.clear=function(){var r=Hs(this.ha(!0)),a=this;st(r,function(u){a.ra(u)})};function dh(r){this.a=r}D(dh,ch);function hh(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=dh.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!b(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,d=new en;return d.next=function(){if(a>=u.length)throw pt;var m=u.key(a++);if(r)return m;if(m=u.getItem(m),!b(m))throw"Storage mechanism: Invalid value was encountered";return m},d},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function _g(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}D(_g,dh);function wg(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}D(wg,dh);function ca(r,a){this.g=r,this.a=a+"::"}D(ca,ch),ca.prototype.set=function(r,a){this.g.set(this.a+r,a)},ca.prototype.get=function(r){return this.g.get(this.a+r)},ca.prototype.ra=function(r){this.g.ra(this.a+r)},ca.prototype.ha=function(r){var a=this.g.ha(!0),u=this,d=new en;return d.next=function(){for(var m=a.next();m.substr(0,u.a.length)!=u.a;)m=a.next();return r?m.substr(u.a.length):u.g.get(m)},d},hh(new _g);var Kb,zb=new wg;Kb=hh(zb)?new ca(zb,"firebaseui"):null;var bg=new su(Kb),Eg={name:"pendingEmailCredential",storage:bg},no={name:"redirectStatus",storage:bg},ou={name:"redirectUrl",storage:bg},da={name:"emailForSignIn",storage:new su(new oa(3600,"/"))},au={name:"pendingEncryptedCredential",storage:new su(new oa(3600,"/"))};function ha(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function Jn(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function fa(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function Gb(r){return ha(ou,r)||null}function Yi(r){return r=ha(Eg,r)||null,Ob(r)}function Qi(r){Jn(Eg,r)}function Yb(r,a){fa(Eg,kb(r),a)}function Ig(r){return(r=ha(no,r)||null)&&typeof r.tenantId<"u"?new Nb(r.tenantId):null}function pN(r,a){fa(no,{tenantId:r.a},a)}function mN(r,a){a=ha(da,a);var u=null;if(a)try{var d=jb(r,a),m=JSON.parse(d);u=m&&m.email||null}catch{}return u}function gN(r,a){a=ha(au,a);var u=null;if(a)try{var d=jb(r,a);u=JSON.parse(d)}catch{}return Ob(u||null)}function vN(r,a,u){fa(au,Bb(r,JSON.stringify(kb(a))),u)}function Tg(){this.W={}}function Mt(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function Ag(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}Tg.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function Sg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function Rg(){this.g=void 0,this.a={}}t=Rg.prototype,t.set=function(r,a){Qb(this,r,a,!1)},t.add=function(r,a){Qb(this,r,a,!0)};function Qb(r,a,u,d){for(var m=0;m<a.length;m++){var g=a.charAt(m);r.a[g]||(r.a[g]=new Rg),r=r.a[g]}if(d&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return Jb(this,r),r};function Jb(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)Jb(r.a[u],a)}t.ja=function(){var r=[];return Xb(this,"",r),r};function Xb(r,a,u){r.g!==void 0&&u.push(a);for(var d in r.a)Xb(r.a[d],a+d,u)}t.clear=function(){this.a={},this.g=void 0};function Zb(r){for(this.a=r,this.g=new Rg,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function fh(r,a){r=r.g;var u={},d=0;for(r.g!==void 0&&(u[d]=r.g);d<a.length;d++){var m=a.charAt(d);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(u[d]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function io(r){for(var a=0;a<Hn.length;a++)if(Hn[a].c===r)return Hn[a];return null}function e1(r){r=r.toUpperCase();for(var a=[],u=0;u<Hn.length;u++)Hn[u].f===r&&a.push(Hn[u]);return a}function t1(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Hn.length;u++)Hn[u].b==r&&a.push(Hn[u]);r=a}else r=e1(r);return r}function n1(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Hn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];n1(Hn);var lu=new Zb(Hn);function i1(r,a){this.a=r,this.Aa=a}function r1(r){r=x(r);var a=fh(lu,r);return 0<a.length?new i1(a[0].b=="1"?"1-US-0":a[0].c,x(r.substr(a[0].b.length+1))):null}function Cg(r){var a=io(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function s1(r,a){for(var u=0;u<r.length;u++)if(!M(o1,r[u])&&(pa!==null&&r[u]in pa||M(a,r[u])))return r[u];return null}var o1=["emailLink","password","phone"],pa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function yN(){this.a=new Tg,Mt(this.a,"autoUpgradeAnonymousUsers"),Mt(this.a,"callbacks"),Mt(this.a,"credentialHelper",gh),Mt(this.a,"immediateFederatedRedirect",!1),Mt(this.a,"popupMode",!1),Mt(this.a,"privacyPolicyUrl"),Mt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Mt(this.a,"queryParameterForWidgetMode","mode"),Mt(this.a,"signInFlow"),Mt(this.a,"signInOptions"),Mt(this.a,"signInSuccessUrl"),Mt(this.a,"siteName"),Mt(this.a,"tosUrl"),Mt(this.a,"widgetUrl"),Mt(this.a,"adminRestrictedOperation")}function ph(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!g1(r)&&li('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function mh(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var d=r[u];d=G(d)?d:{provider:d},d.provider&&a.push(d)}return a}function ui(r,a){r=mh(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function ma(r){return mh(r).map(function(a){return a.provider})}function uu(r,a){r=a1(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function a1(r){return mh(r).map(function(a){if(pa[a.provider]||M(CN,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Xr(Nd(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Xr(Nd(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function l1(r){var a=ui(r,we.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(d in r=r.a.get("credentialHelper"),xg)if(xg[d]===r){var d=xg[d];break e}}d=gh}u=d===Ng}return u&&a.clientId||null}function u1(r){return r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function ro(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function _N(r){var a=null;if(mh(r).forEach(function(d){d.provider==we.auth.PhoneAuthProvider.PROVIDER_ID&&G(d.recaptchaParameters)&&!Array.isArray(d.recaptchaParameters)&&(a=Ue(d.recaptchaParameters))}),a){var u=[];PN.forEach(function(d){typeof a[d]<"u"&&(u.push(d),delete a[d])}),u.length&&ss('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function wN(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function bN(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){sa(a)}}return null}function EN(r){return(r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function IN(r){if((r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){sa(a)}}return null}function c1(r,a){return r=(r=ui(r,a))&&r.scopes,Array.isArray(r)?r:[]}function d1(r,a){return r=(r=ui(r,a))&&r.customParameters,G(r)?(r=Ue(r),a===we.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===we.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function TN(r){r=ui(r,we.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=r1(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function AN(r){var a=(r=ui(r,we.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&e1(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=r1(r.loginHint)),a&&a[0]||u&&io(u.a)||null}function Pg(r){if(r=ui(r,we.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Hn;if(r=[],a){u={};for(var d=0;d<a.length;d++)for(var m=t1(a[d]),g=0;g<m.length;g++)u[m[g].c]=m[g];for(var w in u)u.hasOwnProperty(w)&&r.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(m=t1(u[a]),d=0;d<m.length;d++)w[m[d].c]=m[d];for(m=0;m<Hn.length;m++)w!==null&&Hn[m].c in w||r.push(Hn[m])}return r}function h1(r){return Sg(r.a,"queryParameterForWidgetMode")}function Vt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&ss("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){sa(a)}}return null}function Ft(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&ss("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){sa(u)}}return null}function f1(r){return(r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function ga(r){return r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==we.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function SN(r){return r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function RN(r){if(ga(r)){var a={url:Ir(),handleCodeInApp:!0};(r=ui(r,we.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&Qe(a,r.emailLinkSignIn()),r=a.url;var u=Ir();u instanceof Gr||(u=Nm(u)),r instanceof Gr||(r=Nm(r));var d=u;u=new Gr(d);var m=!!r.j;m?Pm(u,r.j):m=!!r.A,m?u.A=r.A:m=!!r.h,m?u.h=r.h:m=r.C!=null;var g=r.g;if(m)km(u,r.C);else if(m=!!r.g){if(g.charAt(0)!="/"&&(d.h&&!d.g?g="/"+g:(d=u.g.lastIndexOf("/"),d!=-1&&(g=u.g.substr(0,d+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){d=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],T=0;T<g.length;){var N=g[T++];N=="."?d&&T==g.length&&w.push(""):N==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&T==g.length&&w.push("")):(w.push(N),d=!0)}g=w.join("/")}}return m?u.g=g:m=r.a.toString()!=="",m?Om(u,pw(r.a)):m=!!r.s,m&&(u.s=r.s),a.url=u.toString(),a}return null}function kg(r){var a=!!r.a.get("immediateFederatedRedirect"),u=ma(r);return r=p1(r),a&&u.length==1&&!M(o1,u[0])&&r==vh}function p1(r){r=r.a.get("signInFlow");for(var a in Dg)if(Dg[a]==r)return Dg[a];return vh}function Og(r){return cu(r).signInSuccess||null}function m1(r){return cu(r).signInSuccessWithAuthResult||null}function g1(r){return cu(r).signInFailure||null}function cu(r){return r.a.get("callbacks")||{}}var Ng="googleyolo",gh="none",xg={nc:Ng,NONE:gh},vh="redirect",Dg={qc:"popup",rc:vh},Lg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},CN=["anonymous"],PN=["sitekey","tabindex","callback","expired-callback"],du,va,Mg,v1,tt={};function he(r,a,u,d){tt[r].apply(null,Array.prototype.slice.call(arguments,1))}function y1(r){return r.classList?r.classList:(r=r.className,b(r)&&r.match(/\S+/g)||[])}function hu(r,a){return r.classList?r.classList.contains(a):M(y1(r),a)}function Ji(r,a){r.classList?r.classList.add(a):hu(r,a)||(r.className+=0<r.className.length?" "+a:a)}function Xi(r,a){r.classList?r.classList.remove(a):hu(r,a)&&(r.className=Gi(y1(r),function(u){return u!=a}).join(" "))}function dn(r){var a=r.type;switch(b(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,d=0;u=r.options[d];d++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function _1(r,a){var u=r.type;switch(b(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,b(a)){for(var d=0;u=r.options[d];d++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(b(a)&&(a=[a]),d=0;u=r.options[d];d++)if(u.selected=!1,a)for(var m,g=0;m=a[g];g++)u.value==m&&(u.selected=!0);break;default:r.value=a??""}}function kN(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(fu(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Ri;default:return 166>r.keyCode||183<r.keyCode}}function w1(r,a,u,d,m,g){if(Bn&&!zs("525"))return!0;if(Jr&&m)return fu(r);if(m&&!d)return!1;if(!Ri){typeof a=="number"&&(a=Vg(a));var w=a==17||a==18||Jr&&a==91;if((!u||Jr)&&w||Jr&&a==16&&(d||g))return!1}if((Bn||Qr)&&d&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Pt&&d&&a==r)return!1;switch(r){case 13:return Ri?g||m?!1:!(u&&d):!0;case 27:return!(Bn||Qr||Ri)}return Ri&&(d||m||g)?!1:fu(r)}function fu(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Bn||Qr)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Ri;default:return!1}}function Vg(r){if(Ri)r=ON(r);else if(Jr&&Bn)switch(r){case 93:r=91}return r}function ON(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function ya(r){$t.call(this),this.a=r,Ci(r,"keydown",this.g,!1,this),Ci(r,"click",this.h,!1,this)}D(ya,$t),ya.prototype.g=function(r){(r.keyCode==13||Bn&&r.keyCode==3)&&b1(this,r)},ya.prototype.h=function(r){b1(this,r)};function b1(r,a){var u=new I1(a);if(is(r,u)){u=new E1(a);try{is(r,u)}finally{a.stopPropagation()}}}ya.prototype.o=function(){ya.K.o.call(this),Xs(this.a,"keydown",this.g,!1,this),Xs(this.a,"click",this.h,!1,this),delete this.a};function E1(r){$n.call(this,r.a),this.type="action"}D(E1,$n);function I1(r){$n.call(this,r.a),this.type="beforeaction"}D(I1,$n);function _a(r){$t.call(this),this.a=r,r=Pt?"focusout":"blur",this.g=Ci(this.a,Pt?"focusin":"focus",this,!Pt),this.h=Ci(this.a,r,this,!Pt)}D(_a,$t),_a.prototype.handleEvent=function(r){var a=new $n(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",is(this,a)},_a.prototype.o=function(){_a.K.o.call(this),ns(this.g),ns(this.h),delete this.a};function yh(r,a){$t.call(this),this.g=r||1,this.a=a||v,this.h=oe(this.gc,this),this.j=Ze()}D(yh,$t),t=yh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=Ze()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),is(this,"tick"),this.Ka&&(_h(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Ze())};function _h(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){yh.K.o.call(this),_h(this),delete this.a};function NN(r,a){if(V(r))a&&(r=oe(r,a));else if(r&&typeof r.handleEvent=="function")r=oe(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function wa(r){Js.call(this),this.g=r,this.a={}}D(wa,Js);var T1=[];function ba(r,a,u,d){P(u)||(u&&(T1[0]=u.toString()),u=T1);for(var m=0;m<u.length;m++){var g=Ci(a,u[m],d||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function A1(r){ke(r.a,function(a,u){this.a.hasOwnProperty(u)&&ns(a)},r),r.a={}}wa.prototype.o=function(){wa.K.o.call(this),A1(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function pu(r){$t.call(this),this.a=null,this.g=r,r=Pt||Qr||Bn&&!zs("531")&&r.tagName=="TEXTAREA",this.h=new wa(this),ba(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}D(pu,$t),pu.prototype.handleEvent=function(r){if(r.type=="input")Pt&&zs(10)&&r.keyCode==0&&r.j==0||(Fg(this),is(this,S1(r)));else if(r.type!="keydown"||kN(r)){var a=r.type=="keydown"?this.g.value:null;Pt&&r.keyCode==229&&(a=null);var u=S1(r);Fg(this),this.a=NN(function(){this.a=null,this.g.value!=a&&is(this,u)},this)}};function Fg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function S1(r){return r=new $n(r.a),r.type="input",r}pu.prototype.o=function(){pu.K.o.call(this),this.h.m(),Fg(this),delete this.g};function mu(r,a){$t.call(this),r&&(this.Oa&&O1(this),this.qa=r,this.Na=Ci(this.qa,"keypress",this,a),this.Ya=Ci(this.qa,"keydown",this.Jb,a,this),this.Oa=Ci(this.qa,"keyup",this.Kb,a,this))}D(mu,$t),t=mu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var R1={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},C1={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},P1=!Bn||zs("525"),k1=Jr&&Ri;t=mu.prototype,t.Jb=function(r){(Bn||Qr)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||Jr&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),P1&&!w1(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=Vg(r.keyCode),k1&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Pt&&r.type=="keypress")var d=this.X,m=d!=13&&d!=27?a.keyCode:0;else(Bn||Qr)&&r.type=="keypress"?(d=this.X,m=0<=a.charCode&&63232>a.charCode&&fu(d)?a.charCode:0):ww&&!Bn?(d=this.X,m=fu(d)?a.keyCode:0):(r.type=="keypress"?(k1&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(d=a.keyCode,m=0):(d=this.X,m=a.charCode):(d=a.keyCode||this.X,m=a.charCode||0)):(d=a.keyCode||this.X,m=a.charCode||0),Jr&&m==63&&d==224&&(d=191));var g=d=Vg(d);d?63232<=d&&d in R1?g=R1[d]:d==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in C1&&(g=C1[a.keyIdentifier]),Ri&&P1&&r.type=="keypress"&&!w1(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new N1(g,m,r,a),a.altKey=u,is(this,a))},t.N=function(){return this.qa};function O1(r){r.Na&&(ns(r.Na),ns(r.Ya),ns(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){mu.K.o.call(this),O1(this)};function N1(r,a,u,d){$n.call(this,d),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}D(N1,$n);function Ea(r,a,u,d){this.top=r,this.right=a,this.bottom=u,this.left=d}Ea.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Ea.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Ea.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Ea.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function wh(r,a){var u=Kl(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function x1(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Pt&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function xN(r,a){a=a||Ld(document);var u=a||Ld(document),d=D1(r),m=D1(u);if(!Pt||9<=Number(ql)){w=wh(u,"borderLeftWidth");var g=wh(u,"borderRightWidth");T=wh(u,"borderTopWidth"),N=wh(u,"borderBottomWidth"),g=new Ea(parseFloat(T),parseFloat(g),parseFloat(N),parseFloat(w))}else{var w=bh(u,"borderLeft");g=bh(u,"borderRight");var T=bh(u,"borderTop"),N=bh(u,"borderBottom");g=new Ea(T,g,N,w)}u==Ld(document)?(w=d.a-u.scrollLeft,d=d.g-u.scrollTop,!Pt||10<=Number(ql)||(w+=g.left,d+=g.top)):(w=d.a-m.a-g.left,d=d.g-m.g-g.top),m=r.offsetWidth,g=r.offsetHeight,T=Bn&&!m&&!g,y(m)&&!T||!r.getBoundingClientRect?r=new Fm(m,g):(r=x1(r),r=new Fm(r.right-r.left,r.bottom-r.top)),m=u.clientHeight-r.height,g=u.scrollLeft,T=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-r.width),0)),T+=Math.min(d,Math.max(d-m,0)),u=new es(g,T),a.scrollLeft=u.a,a.scrollTop=u.g}function D1(r){var a=Kl(r),u=new es(0,0),d=a?Kl(a):document;return d=!Pt||9<=Number(ql)||Dd(d).a.compatMode=="CSS1Compat"?d.documentElement:d.body,r==d||(r=x1(r),d=Dd(a).a,a=Ld(d),d=d.parentWindow||d.defaultView,a=Pt&&zs("10")&&d.pageYOffset!=a.scrollTop?new es(a.scrollLeft,a.scrollTop):new es(d.pageXOffset||a.scrollLeft,d.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var L1={thin:2,medium:4,thick:6};function bh(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in L1)r=L1[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var d=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=d,r=+u}return r}function Ug(){}I(Ug),Ug.prototype.a=0;function so(r){$t.call(this),this.s=r||Dd(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}D(so,$t),t=so.prototype,t.Lb=Ug.Xa(),t.N=function(){return this.g};function Ke(r,a){return r.g?Bm(a,r.g||r.s.a):null}function gu(r){return r.L||(r.L=new wa(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");so.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Bg(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){Bg(this,function(r){r.na&&r.ya()}),this.L&&A1(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Bg(this,function(r){r.m()}),this.g&&Ys(this.g),this.Y=this.g=this.oa=this.Ea=null,so.K.o.call(this)};function Bg(r,a){r.Ea&&st(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=b(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var d=this.oa;if(u in d&&delete d[u],ue(this.Ea,r),a&&(r.ya(),r.g&&Ys(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,so.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function Nt(r,a){var u=Dw(r,"firebaseui-textfield");a?(Xi(r,"firebaseui-input-invalid"),Ji(r,"firebaseui-input"),u&&Xi(u,"firebaseui-textfield-invalid")):(Xi(r,"firebaseui-input"),Ji(r,"firebaseui-input-invalid"),u&&Ji(u,"firebaseui-textfield-invalid"))}function Ia(r,a,u){a=new pu(a),Yl(r,X(Ql,a)),ba(gu(r),a,"input",u)}function vu(r,a,u){a=new mu(a),Yl(r,X(Ql,a)),ba(gu(r),a,"key",function(d){d.keyCode==13&&(d.stopPropagation(),d.preventDefault(),u(d))})}function DN(r,a,u){a=new _a(a),Yl(r,X(Ql,a)),ba(gu(r),a,"focusin",u)}function LN(r,a,u){a=new _a(a),Yl(r,X(Ql,a)),ba(gu(r),a,"focusout",u)}function At(r,a,u){a=new ya(a),Yl(r,X(Ql,a)),ba(gu(r),a,"action",function(d){d.stopPropagation(),d.preventDefault(),u(d)})}function ci(r){Ji(r,"firebaseui-hidden")}function hn(r,a){a&&jm(r,a),Xi(r,"firebaseui-hidden")}function Ta(r){return!hu(r,"firebaseui-hidden")&&r.style.display!="none"}function Aa(r){r=r||{};var a=r.email,u=r.disabled,d='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return d=r.wc?d+"Enter new email address":d+"Email",d+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+jn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ce(d)}function Xn(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+Pe(r):a+"Next",ce(a+"</button>")}function jg(){var r=""+Xn({label:kt("Sign In")});return ce(r)}function M1(){var r=""+Xn({label:kt("Save")});return ce(r)}function Pi(){var r=""+Xn({label:kt("Continue")});return ce(r)}function V1(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+Pe(r):a+"Choose password",ce(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function F1(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",ce(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function U1(){return ce('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function di(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+Pe(r):a+"Cancel",ce(a+"</button>")}function En(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ce(a)}function Sa(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ce(a)}function B1(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Pe(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ce(r)}B1.a="firebaseui.auth.soy2.element.infoBar";function j1(r){var a=r.content;return r=r.Ab,ce('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+jn(r):"")+'">'+Pe(a)+"</dialog>")}function $1(r){var a=r.message;return ce(j1({content:Vw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+jn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Pe(a)+"</div>")}))}$1.a="firebaseui.auth.soy2.element.progressDialog";function H1(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,d=0;d<u;d++){var m=r[d];a+='<button type="button" data-listboxid="'+jn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+jn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Pe(m.label)+"</div></button>"}return a=""+j1({Ab:kt("firebaseui-list-box-dialog"),content:Vw(a+"</div>")}),ce(a)}H1.a="firebaseui.auth.soy2.element.listBoxDialog";function Eh(r){return r=r||{},ce(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Eh.a="firebaseui.auth.soy2.element.busyIndicator";function os(r,a){return r=r||{},r=r.ga,Je(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function $g(r){q1(r,"upgradeElement")}function Hg(r){q1(r,"downgradeElements")}var MN=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function q1(r,a){r&&window.componentHandler&&window.componentHandler[a]&&MN.forEach(function(u){hu(r,u)&&window.componentHandler[a](r),st(Um(u,r),function(d){window.componentHandler[a](d)})})}function W1(r,a,u){if(Ih.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),$g(r),a&&At(this,r,function(g){var w=r.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&Ih.call(this)}),!u){var d=this.N().parentElement||this.N().parentNode;if(d){var m=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,w=d.getBoundingClientRect().height,T=d.getBoundingClientRect().top-document.body.getBoundingClientRect().top,N=d.getBoundingClientRect().left-document.body.getBoundingClientRect().left,Y=r.getBoundingClientRect().width,me=d.getBoundingClientRect().width;r.style.top=(T+(w-g)/2).toString()+"px",g=N+(me-Y)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-Y).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Ih(){var r=qg.call(this);r&&(Hg(r),r.open&&r.close(),Ys(r),this.da&&window.removeEventListener("resize",this.da))}function qg(){return Bm("firebaseui-id-dialog")}function K1(){Ys(z1.call(this))}function z1(){return Ke(this,"firebaseui-id-info-bar")}function G1(){return Ke(this,"firebaseui-id-dismiss-info-bar")}var VN={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Wg(r,a,u){br.call(this,r,a);for(var d in u)this[d]=u[d]}D(Wg,br);function U(r,a,u,d,m){so.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=d||null,this.A=this.ca=null,this.Z=Ue(VN),Qe(this.Z,m||{})}D(U,so),t=U.prototype,t.kb=function(){var r=zl(this.fb,this.eb,this.Z,this.s);$g(r),this.g=r},t.v=function(){if(U.K.v.call(this),Qw(It(this),new Wg("pageEnter",It(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;At(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;At(this,this.ab(),function(){a()})}},t.ya=function(){Qw(It(this),new Wg("pageExit",It(this),{pageId:this.Ga})),U.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Hg(this.N()),U.K.o.call(this)};function FN(r){r.Fa=!0;var a=hu(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=zl(Eh,{tb:a},null,r.s),r.N().appendChild(r.A),$g(r.A))},500)}t.I=function(r,a,u,d){function m(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(Hg(g.A),Ys(g.A),g.A=null)}var g=this;return g.Fa?null:(FN(g),r.apply(null,a).then(u,d).then(m,m))};function It(r){return r.N().parentElement||r.N().parentNode}function yu(r,a,u){vu(r,a,function(){u.focus()})}function Ra(r,a,u){vu(r,a,function(){u()})}se(U.prototype,{a:function(r){K1.call(this);var a=zl(B1,{message:r},null,this.s);this.N().appendChild(a),At(this,G1.call(this),function(){Ys(a)})},yc:K1,Ac:z1,zc:G1,$:function(r,a){r=zl($1,{Ma:r,message:a},null,this.s),W1.call(this,r)},h:Ih,Cb:qg,Cc:function(){return Ke(this,"firebaseui-tos")},bb:function(){return Ke(this,"firebaseui-tos-link")},ab:function(){return Ke(this,"firebaseui-pp-link")},Dc:function(){return Ke(this,"firebaseui-tos-list")}});function Y1(r,a,u){r=r||{},a=r.Va;var d=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Aa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?di(null):"")+Xn(null)+'</div></div><div class="firebaseui-card-footer">'+(d?Sa(u):En(u))+"</div></form></div>",ce(r)}Y1.a="firebaseui.auth.soy2.page.signIn";function Q1(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Aa(r)+F1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+U1()+'</div><div class="firebaseui-form-actions">'+jg()+'</div></div><div class="firebaseui-card-footer">'+(a?Sa(u):En(u))+"</div></form></div>",ce(r)}Q1.a="firebaseui.auth.soy2.page.passwordSignIn";function J1(r,a,u){r=r||{};var d=r.Tb;a=r.Ta;var m=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Aa(r);return d?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+jn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=ce(r)):r="",u=g+r+V1(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?di(null):"")+M1()+'</div></div><div class="firebaseui-card-footer">'+(m?Sa(u):En(u))+"</div></form></div>",ce(u)}J1.a="firebaseui.auth.soy2.page.passwordSignUp";function X1(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Aa(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?di(null):"")+Xn({label:kt("Send")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(r)}X1.a="firebaseui.auth.soy2.page.passwordRecovery";function Z1(r,a,u){a=r.G;var d="";return r="Follow the instructions sent to <strong>"+(Pe(r.email)+"</strong> to recover your password"),d+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(d+='<div class="firebaseui-form-actions">'+Xn({label:kt("Done")})+"</div>"),d+='</div><div class="firebaseui-card-footer">'+En(u)+"</div></div>",ce(d)}Z1.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function eE(r,a,u){return ce('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Eh(null)+"</div></div>")}eE.a="firebaseui.auth.soy2.page.callback";function tE(r,a,u){return ce('<div class="firebaseui-container firebaseui-id-page-spinner">'+Eh({tb:!0})+"</div>")}tE.a="firebaseui.auth.soy2.page.spinner";function nE(){return ce('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}nE.a="firebaseui.auth.soy2.page.blank";function iE(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(Pe(r.email)+"</strong>. Check your email to complete sign-in.");var d=ce('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+d+'</div><div class="firebaseui-form-actions">'+di({label:kt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}iE.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function rE(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ce('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+di({label:kt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(r)}rE.a="firebaseui.auth.soy2.page.emailNotReceived";function sE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Aa(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+di(null)+Xn(null)+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(r)}sE.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function oE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+di({label:kt("Dismiss")})+"</div></div></div>";return ce(r)}oE.a="firebaseui.auth.soy2.page.differentDeviceError";function aE(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+di({label:kt("Dismiss")})+"</div></div></div>";return ce(r)}aE.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function lE(r,a,u){return a="",r="Youve already used <strong>"+(Pe(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+F1()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+U1()+'</div><div class="firebaseui-form-actions">'+jg()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}lE.a="firebaseui.auth.soy2.page.passwordLinking";function uE(r,a,u){var d=r.email;return a="",r=""+os(r,u),r=kt(r),d="Youve already used <strong>"+(Pe(d)+("</strong>. You can connect your <strong>"+(Pe(r)+("</strong> account with <strong>"+(Pe(d)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Pe(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+d+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jg()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}uE.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function cE(r,a,u){a="";var d=""+os(r,u);return d=kt(d),r="You originally intended to connect <strong>"+(Pe(d)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),d="If you still want to connect your <strong>"+(Pe(d)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Pi()+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}cE.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function dE(r,a,u){var d=r.email;return a="",r=""+os(r,u),r=kt(r),d="Youve already used <strong>"+(Pe(d)+("</strong>. Sign in with "+(Pe(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Xn({label:kt("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}dE.a="firebaseui.auth.soy2.page.federatedLinking";function hE(r,a,u){r=r||{};var d=r.kc;a=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return d?(d="<strong>"+(Pe(d)+"</strong> is not authorized to view the requested page."),m+=d):m+="User is not authorized to view the requested page.",m+="</p>",a&&(a="Please contact <strong>"+(Pe(a)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+di({label:kt("Back")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(m)}hE.a="firebaseui.auth.soy2.page.unauthorizedUser";function fE(r,a,u){return a="",r="To continue sign in with <strong>"+(Pe(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+di(null)+Xn({label:kt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}fE.a="firebaseui.auth.soy2.page.unsupportedProvider";function pE(r){var a="",u='<p class="firebaseui-text">for <strong>'+(Pe(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+V1(SO(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+M1()+"</div></div></form></div>",ce(a)}pE.a="firebaseui.auth.soy2.page.passwordReset";function mE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}mE.a="firebaseui.auth.soy2.page.passwordResetSuccess";function gE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}gE.a="firebaseui.auth.soy2.page.passwordResetFailure";function vE(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(Pe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></form></div>",ce(u)}vE.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function yE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}yE.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function _E(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}_E.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function wE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}wE.a="firebaseui.auth.soy2.page.emailVerificationFailure";function bE(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(Pe(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(u)}bE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function EE(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}EE.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function IE(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var d='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Pe(a)+(" "+(Pe(u)+"</strong> was removed as a second authentication step."))),d+=a;break;default:d+="The device or app was removed as a second authentication step."}return d+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></form></div>",ce(d)}IE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function TE(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Pi()+"</div>":"")+"</div></div>",ce(r)}TE.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function AE(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Pe(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=Xn({label:kt("Retry")})),ce(r+"</div></div></div>")}AE.a="firebaseui.auth.soy2.page.recoverableError";function SE(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Pe(r.errorMessage)+"</p></div></div>",ce(r)}SE.a="firebaseui.auth.soy2.page.unrecoverableError";function RE(r,a,u){var d=r.Qb;return a="",r="Continue with "+(Pe(r.jc)+"?"),d="You originally wanted to sign in with "+Pe(d),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+d+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+di(null)+Xn({label:kt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form></div>",ce(a)}RE.a="firebaseui.auth.soy2.page.emailMismatch";function CE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var m=0;m<a;m++){var g={ga:r[m]},w=u;g=g||{};var T=g.ga,N=g;N=N||{};var Y="";switch(N.ga.providerId){case"google.com":Y+="firebaseui-idp-google";break;case"github.com":Y+="firebaseui-idp-github";break;case"facebook.com":Y+="firebaseui-idp-facebook";break;case"twitter.com":Y+="firebaseui-idp-twitter";break;case"phone":Y+="firebaseui-idp-phone";break;case"anonymous":Y+="firebaseui-idp-anonymous";break;case"password":Y+="firebaseui-idp-password";break;default:Y+="firebaseui-idp-generic"}N='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+jn(Je(Y))+' firebaseui-id-idp-button" data-provider-id="'+jn(T.providerId)+'" style="background-color:',Y=(Y=g)||{},Y=Y.ga,N=N+jn(Fw(Je(Y.ta?Y.ta:w.wa[Y.providerId]?""+w.wa[Y.providerId]:Y.providerId.indexOf("saml.")==0?""+w.wa.saml:Y.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var me=g;Y=w,me=me||{},me=me.ga,Y=AO(me.za?Qs(me.za):Y.xa[me.providerId]?Qs(Y.xa[me.providerId]):me.providerId.indexOf("saml.")==0?Qs(Y.xa.saml):me.providerId.indexOf("oidc.")==0?Qs(Y.xa.oidc):Qs(Y.xa.password)),N=N+jn(Qs(Y))+'"></span>',T.providerId=="password"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Pe(T.V):T.S?(g="Sign in with "+Pe(os(g,w)),N+=g):N+="Sign in with email",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=T.S?N+Pe(T.S):N+"Email",N+="</span>"):T.providerId=="phone"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Pe(T.V):T.S?(g="Sign in with "+Pe(os(g,w)),N+=g):N+="Sign in with phone",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=T.S?N+Pe(T.S):N+"Phone",N+="</span>"):T.providerId=="anonymous"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Pe(T.V):T.S?(g="Sign in with "+Pe(os(g,w)),N+=g):N+="Continue as guest",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=T.S?N+Pe(T.S):N+"Guest",N+="</span>"):(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Pe(T.V):(Y="Sign in with "+Pe(os(g,w)),N+=Y),N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(T.S?Pe(T.S):Pe(os(g,w)))+"</span>"),T=ce(N+"</button>"),d+='<li class="firebaseui-list-item">'+T+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Sa(u)+"</div></div>",ce(d)}CE.a="firebaseui.auth.soy2.page.providerSignIn";function PE(r,a,u){r=r||{};var d=r.Gb,m=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+jn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ce(r);var g;return d?g=ce('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?di(null):"")+Xn({label:kt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ce(a+"</p>")):u=ce('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+En(u),ce(g+u+"</div></form></div>")}PE.a="firebaseui.auth.soy2.page.phoneSignInStart";function kE(r,a,u){r=r||{},a=r.phoneNumber;var d="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Pe(a)+"</a>"),Pe(a),a=d,d=ce('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+d+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+di(null)+Xn({label:kt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+En(u)+"</div></form>",r=ce('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ce(a+(u+r+"</div>"))}kE.a="firebaseui.auth.soy2.page.phoneSignInFinish";function OE(){return ce('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}OE.a="firebaseui.auth.soy2.page.signOut";function NE(r,a,u){var d='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var m=0;m<a;m++){var g=r[m],w="",T=Pe(g.displayName),N=g.tenantId?g.tenantId:"top-level-project";N=kt(N),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+jn(N)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+jn(g.tenantId)+'"':"")+'style="background-color:'+jn(Fw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+jn(Qs(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=Pe(g.V):(g="Sign in to "+Pe(g.displayName),w+=g),w=ce(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+T+"</span></button>")),d+='<li class="firebaseui-list-item">'+w+"</li>"}return d+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Sa(u)+"</div></div>",ce(d)}NE.a="firebaseui.auth.soy2.page.selectTenant";function xE(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Aa(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Xn(null)+'</div></div><div class="firebaseui-card-footer">'+Sa(u)+"</div></form></div>",ce(r)}xE.a="firebaseui.auth.soy2.page.providerMatchByEmail";function tn(){return Ke(this,"firebaseui-id-submit")}function qt(){return Ke(this,"firebaseui-id-secondary-link")}function fn(r,a){At(this,tn.call(this),function(d){r(d)});var u=qt.call(this);u&&a&&At(this,u,function(d){a(d)})}function Th(){return Ke(this,"firebaseui-id-password")}function Ah(){return Ke(this,"firebaseui-id-password-error")}function DE(){var r=Th.call(this),a=Ah.call(this);Ia(this,r,function(){Ta(a)&&(Nt(r,!0),ci(a))})}function LE(){var r=Th.call(this),a=Ah.call(this);return dn(r)?(Nt(r,!0),ci(a),a=!0):(Nt(r,!1),hn(a,Je("Enter your password").toString()),a=!1),a?dn(r):null}function Ca(r,a,u,d,m,g){U.call(this,lE,{email:r},g,"passwordLinking",{F:d,D:m}),this.w=a,this.H=u}c(Ca,U),Ca.prototype.v=function(){this.P(),this.M(this.w,this.H),Ra(this,this.i(),this.w),this.i().focus(),U.prototype.v.call(this)},Ca.prototype.o=function(){this.w=null,U.prototype.o.call(this)},Ca.prototype.j=function(){return dn(Ke(this,"firebaseui-id-email"))},se(Ca.prototype,{i:Th,B:Ah,P:DE,u:LE,ea:tn,ba:qt,M:fn});var UN=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Tr(){return Ke(this,"firebaseui-id-email")}function as(){return Ke(this,"firebaseui-id-email-error")}function Pa(r){var a=Tr.call(this),u=as.call(this);Ia(this,a,function(){Ta(u)&&(Nt(a,!0),ci(u))}),r&&vu(this,a,function(){r()})}function ka(){return x(dn(Tr.call(this))||"")}function Oa(){var r=Tr.call(this),a=as.call(this),u=dn(r)||"";return u?UN.test(u)?(Nt(r,!0),ci(a),a=!0):(Nt(r,!1),hn(a,Je("That email address isn't correct").toString()),a=!1):(Nt(r,!1),hn(a,Je("Enter your email address to continue").toString()),a=!1),a?x(dn(r)):null}function _u(r,a,u,d,m,g,w){U.call(this,Q1,{email:u,ia:!!g},w,"passwordSignIn",{F:d,D:m}),this.w=r,this.H=a}c(_u,U),_u.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),yu(this,this.l(),this.i()),Ra(this,this.i(),this.w),dn(this.l())?this.i().focus():this.l().focus(),U.prototype.v.call(this)},_u.prototype.o=function(){this.H=this.w=null,U.prototype.o.call(this)},se(_u.prototype,{l:Tr,U:as,P:Pa,M:ka,j:Oa,i:Th,B:Ah,ea:DE,u:LE,ua:tn,pa:qt,ba:fn});function ot(r,a,u,d,m,g){U.call(this,r,a,d,m||"notice",g),this.i=u||null}D(ot,U),ot.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ot.K.v.call(this)},ot.prototype.o=function(){this.i=null,ot.K.o.call(this)},se(ot.prototype,{l:tn,w:qt,u:fn});function Sh(r,a,u,d,m){ot.call(this,Z1,{email:r,G:!!a},a,m,"passwordRecoveryEmailSent",{F:u,D:d})}D(Sh,ot);function ME(r,a){ot.call(this,_E,{G:!!r},r,a,"emailVerificationSuccess")}D(ME,ot);function VE(r,a){ot.call(this,wE,{G:!!r},r,a,"emailVerificationFailure")}D(VE,ot);function FE(r,a,u){ot.call(this,bE,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}D(FE,ot);function UE(r,a){ot.call(this,EE,{G:!!r},r,a,"verifyAndChangeEmailFailure")}D(UE,ot);function BE(r,a){ot.call(this,TE,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}D(BE,ot);function jE(r){ot.call(this,OE,void 0,void 0,r,"signOut")}D(jE,ot);function $E(r,a){ot.call(this,mE,{G:!!r},r,a,"passwordResetSuccess")}D($E,ot);function HE(r,a){ot.call(this,gE,{G:!!r},r,a,"passwordResetFailure")}D(HE,ot);function qE(r,a){ot.call(this,yE,{G:!!r},r,a,"emailChangeRevokeFailure")}D(qE,ot);function WE(r,a,u){ot.call(this,AE,{errorMessage:r,zb:!!a},a,u,"recoverableError")}D(WE,ot);function KE(r,a){ot.call(this,SE,{errorMessage:r},void 0,a,"unrecoverableError")}D(KE,ot);function wu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function Ar(r,a,u,d){function m(w){if(!w.name||w.name!="cancel"){e:{var T=w.message;try{var N=((JSON.parse(T).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(N&&N.length){var Y=!0;break e}}catch{}Y=!1}if(Y)w=It(a),a.m(),mt(r,w,void 0,Je("Your sign-in session has expired. Please try again.").toString());else{if(Y=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;Y=ut(w)}a.a(Y)}}}if(pI(r),d)return zE(r,u),Ot();if(!u.credential)throw Error("No credential found!");if(!He(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=vx(r,u)}catch(w){return li(w.code||w.message,w),a.a(w.code||w.message),Ot()}return u=g.then(function(w){zE(r,w)},m).then(void 0,m),Ve(r,g),Ot(u)}function zE(r,a){if(!a.user)throw Error("No user found");var u=m1(j(r));if(Og(j(r))&&u&&ss("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=m1(j(r));var d=Gb(Ce(r))||void 0;Jn(ou,Ce(r));var m=!1;pb()?((!u||u(a,d))&&(m=!0,na(window.opener.location,Rh(r,d))),u||window.close()):(!u||u(a,d))&&(m=!0,na(window.location,Rh(r,d))),m||r.reset()}else{u=a.user,a=a.credential,d=Og(j(r)),m=Gb(Ce(r))||void 0,Jn(ou,Ce(r));var g=!1;pb()?((!d||d(u,a,m))&&(g=!0,na(window.opener.location,Rh(r,m))),d||window.close()):(!d||d(u,a,m))&&(g=!0,na(window.location,Rh(r,m))),g||r.reset()}}function Rh(r,a){if(r=a||j(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function ut(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Hw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Hw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=Wm();break;case"auth/invalid-verification-code":u+=Je("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=Je(u).toString())return a;try{return JSON.parse(r.message),li("Internal error: "+r.message,void 0),Bw().toString()}catch{return r.message}}function BN(r,a,u){var d=pa[a]&&we.auth[pa[a]]?new we.auth[pa[a]]:a.indexOf("saml.")==0?new we.auth.SAMLAuthProvider(a):new we.auth.OAuthProvider(a);if(!d)throw Error("Invalid Firebase Auth provider!");var m=c1(j(r),a);if(d.addScope)for(var g=0;g<m.length;g++)d.addScope(m[g]);return m=d1(j(r),a)||{},u&&(a==we.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==we.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=uu(j(r),a))&&r.Ob,r&&(m[r]=u)),d.setCustomParameters&&d.setCustomParameters(m),d}function bu(r,a,u,d){function m(){pN(new Nb(r.h.tenantId||null),Ce(r)),Ve(r,a.I(oe(r.dc,r),[N],function(){if((window.location&&window.location.protocol)==="file:")return Ve(r,uI(r).then(function(Y){a.m(),Jn(no,Ce(r)),he("callback",r,T,Ot(Y))},g))},w))}function g(Y){if(Jn(no,Ce(r)),!Y.name||Y.name!="cancel")switch(Y=wu(Y),Y.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(ut(Y));break;case"auth/admin-restricted-operation":a.m(),ro(j(r))?he("handleUnauthorizedUser",r,T,null,u):he("callback",r,T,ia(Y));break;default:a.m(),he("callback",r,T,ia(Y))}}function w(Y){Jn(no,Ce(r)),Y.name&&Y.name=="cancel"||(li("signInWithRedirect: "+Y.code,void 0),Y=ut(Y),a.Ga=="blank"&&kg(j(r))?(a.m(),he("providerSignIn",r,T,Y)):a.a(Y))}var T=It(a),N=BN(r,u,d);p1(j(r))==vh?m():Ve(r,gx(r,N).then(function(Y){a.m(),he("callback",r,T,Ot(Y))},g))}function jN(r,a){Ve(r,a.I(oe(r.$b,r),[],function(u){return a.m(),Ar(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(li("ContinueAsGuest: "+u.code,void 0),u=ut(u),a.a(u))}))}function $N(r,a,u){function d(g){var w=!1;return g=a.I(oe(r.ac,r),[g],function(T){var N=It(a);a.m(),he("callback",r,N,Ot(T)),w=!0},function(T){if((!T.name||T.name!="cancel")&&(!T||T.code!="auth/credential-already-in-use"))if(T&&T.code=="auth/email-already-in-use"&&T.email&&T.credential){var N=It(a);a.m(),he("callback",r,N,ia(T))}else T&&T.code=="auth/admin-restricted-operation"&&ro(j(r))?(T=It(a),a.m(),he("handleUnauthorizedUser",r,T,null,we.auth.GoogleAuthProvider.PROVIDER_ID)):(T=ut(T),a.a(T))}),Ve(r,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===l1(j(r))){if(c1(j(r),we.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return bu(r,a,we.auth.GoogleAuthProvider.PROVIDER_ID,m),Ot(!0)}return d(we.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(Je("The selected credential for the authentication provider is not supported!").toString()),Ot(!1)}function HN(r,a){var u=a.j(),d=a.u();if(u)if(d){var m=we.auth.EmailAuthProvider.credential(u,d);Ve(r,a.I(oe(r.bc,r),[u,d],function(g){return Ar(r,a,{user:g.user,credential:m,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":Nt(a.l(),!1),hn(a.U(),ut(g));break;case"auth/too-many-requests":case"auth/wrong-password":Nt(a.i(),!1),hn(a.B(),ut(g));break;default:li("verifyPassword: "+g.message,void 0),a.a(ut(g))}}))}else a.i().focus();else a.l().focus()}function Ch(r){return r=ma(j(r)),r.length==1&&r[0]==we.auth.EmailAuthProvider.PROVIDER_ID}function GE(r){return r=ma(j(r)),r.length==1&&r[0]==we.auth.PhoneAuthProvider.PROVIDER_ID}function mt(r,a,u,d){Ch(r)?d?he("signIn",r,a,u,d):zg(r,a,u):r&&GE(r)&&!d?he("phoneSignInStart",r,a):r&&kg(j(r))&&!d?he("federatedRedirect",r,a,u):he("providerSignIn",r,a,d,u)}function YE(r,a,u,d){var m=It(a);Ve(r,a.I(oe(He(r).fetchSignInMethodsForEmail,He(r)),[u],function(g){a.m(),QE(r,m,g,u,d)},function(g){g=ut(g),a.a(g)}))}function QE(r,a,u,d,m,g){u.length||ga(j(r))&&!ga(j(r))?M(u,we.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?he("passwordSignIn",r,a,d,g):u.length==1&&u[0]===we.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ga(j(r))?he("sendEmailLinkForSignIn",r,a,d,function(){he("signIn",r,a)}):he("unsupportedProvider",r,a,d):(u=s1(u,ma(j(r))))?(Yb(new vg(d),Ce(r)),he("federatedSignIn",r,a,d,u,m)):he("unsupportedProvider",r,a,d):u1(j(r))?he("handleUnauthorizedUser",r,a,d,we.auth.EmailAuthProvider.PROVIDER_ID):ga(j(r))?he("sendEmailLinkForSignIn",r,a,d,function(){he("signIn",r,a)}):he("passwordSignUp",r,a,d,void 0,void 0,g)}function Kg(r,a,u,d,m,g){var w=It(a);Ve(r,a.I(oe(r.Ib,r),[u,g],function(){a.m(),he("emailLinkSignInSent",r,w,u,d,g)},m))}function zg(r,a,u){u?he("prefilledEmailSignIn",r,a,u):he("signIn",r,a)}function Eu(){return kd(Ir(),"oobCode")}function Gg(){var r=kd(Ir(),"continueUrl");return r?function(){na(window.location,r)}:null}function Iu(r,a){U.call(this,aE,void 0,a,"anonymousUserMismatch"),this.i=r}c(Iu,U),Iu.prototype.v=function(){var r=this;At(this,this.l(),function(){r.i()}),this.l().focus(),U.prototype.v.call(this)},Iu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(Iu.prototype,{l:qt}),tt.anonymousUserMismatch=function(r,a){var u=new Iu(function(){u.m(),mt(r,a)});u.render(a),Be(r,u)};function Ph(r){U.call(this,eE,void 0,r,"callback")}c(Ph,U),Ph.prototype.I=function(r,a,u,d){return r.apply(null,a).then(u,d)};function JE(r,a,u){if(u.user){var d={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},m=Yi(Ce(r)),g=m&&m.g;if(g&&!WN(u.user,g))qN(r,a,d);else{var w=m&&m.a;w?Ve(r,u.user.linkWithCredential(w).then(function(T){d={user:T.user,credential:w,operationType:T.operationType,additionalUserInfo:T.additionalUserInfo},XE(r,a,d)},function(T){kh(r,a,T)})):XE(r,a,d)}}else u=It(a),a.m(),Qi(Ce(r)),mt(r,u)}function XE(r,a,u){Qi(Ce(r)),Ar(r,a,u)}function kh(r,a,u){var d=It(a);Qi(Ce(r)),u=ut(u),a.m(),mt(r,d,void 0,u)}function ZE(r,a,u,d){var m=It(a);Ve(r,He(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?M(g,we.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?he("passwordLinking",r,m,u):g.length==1&&g[0]===we.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?he("emailLinkSignInLinking",r,m,u):(g=s1(g,ma(j(r))))?he("federatedLinking",r,m,u,g,d):(Qi(Ce(r)),he("unsupportedProvider",r,m,u)):(Qi(Ce(r)),he("passwordRecovery",r,m,u,!1,jw().toString()))},function(g){kh(r,a,g)}))}function qN(r,a,u){var d=It(a);Ve(r,ls(r).then(function(){a.m(),he("emailMismatch",r,d,u)},function(m){m.name&&m.name=="cancel"||(m=ut(m.code),a.a(m))}))}function WN(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}tt.callback=function(r,a,u){var d=new Ph;d.render(a),Be(r,d),u=u||uI(r),Ve(r,u.then(function(m){JE(r,d,m)},function(m){if((m=wu(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)Yb(new vg(m.email,m.credential),Ce(r)),ZE(r,d,m.email);else if(m&&m.code=="auth/user-cancelled"){var g=Yi(Ce(r)),w=ut(m);g&&g.a?ZE(r,d,g.g,w):g?YE(r,d,g.g,w):kh(r,d,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Ch(r)?JE(r,d,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&ro(j(r))?(d.m(),Qi(Ce(r)),he("handleUnauthorizedUser",r,a,null,null)):kh(r,d,m))}))};function Tu(r,a){U.call(this,oE,void 0,a,"differentDeviceError"),this.i=r}c(Tu,U),Tu.prototype.v=function(){var r=this;At(this,this.l(),function(){r.i()}),this.l().focus(),U.prototype.v.call(this)},Tu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(Tu.prototype,{l:qt}),tt.differentDeviceError=function(r,a){var u=new Tu(function(){u.m(),mt(r,a)});u.render(a),Be(r,u)};function Au(r,a,u,d){U.call(this,vE,{email:r,G:!!u},d,"emailChangeRevoke"),this.l=a,this.i=u||null}c(Au,U),Au.prototype.v=function(){var r=this;At(this,Ke(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),U.prototype.v.call(this)},Au.prototype.o=function(){this.l=this.i=null,U.prototype.o.call(this)},se(Au.prototype,{u:tn,B:qt,w:fn});function Su(){return Ke(this,"firebaseui-id-new-password")}function Oh(){return Ke(this,"firebaseui-id-password-toggle")}function KN(){this.Ra=!this.Ra;var r=Oh.call(this),a=Su.call(this);this.Ra?(a.type="text",Ji(r,"firebaseui-input-toggle-off"),Xi(r,"firebaseui-input-toggle-on")):(a.type="password",Ji(r,"firebaseui-input-toggle-on"),Xi(r,"firebaseui-input-toggle-off")),a.focus()}function Nh(){return Ke(this,"firebaseui-id-new-password-error")}function eI(){this.Ra=!1;var r=Su.call(this);r.type="password";var a=Nh.call(this);Ia(this,r,function(){Ta(a)&&(Nt(r,!0),ci(a))});var u=Oh.call(this);Ji(u,"firebaseui-input-toggle-on"),Xi(u,"firebaseui-input-toggle-off"),DN(this,r,function(){Ji(u,"firebaseui-input-toggle-focus"),Xi(u,"firebaseui-input-toggle-blur")}),LN(this,r,function(){Ji(u,"firebaseui-input-toggle-blur"),Xi(u,"firebaseui-input-toggle-focus")}),At(this,u,oe(KN,this))}function tI(){var r=Su.call(this),a=Nh.call(this);return dn(r)?(Nt(r,!0),ci(a),a=!0):(Nt(r,!1),hn(a,Je("Enter your password").toString()),a=!1),a?dn(r):null}function Ru(r,a,u){U.call(this,pE,{email:r},u,"passwordReset"),this.l=a}c(Ru,U),Ru.prototype.v=function(){this.H(),this.B(this.l),Ra(this,this.i(),this.l),this.i().focus(),U.prototype.v.call(this)},Ru.prototype.o=function(){this.l=null,U.prototype.o.call(this)},se(Ru.prototype,{i:Su,w:Nh,M:Oh,H:eI,u:tI,U:tn,P:qt,B:fn});function Cu(r,a,u,d,m){U.call(this,IE,{factorId:r,phoneNumber:u||null,G:!!d},m,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=d||null}c(Cu,U),Cu.prototype.v=function(){var r=this;At(this,Ke(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),U.prototype.v.call(this)},Cu.prototype.o=function(){this.l=this.i=null,U.prototype.o.call(this)},se(Cu.prototype,{u:tn,B:qt,w:fn});function zN(r,a,u,d,m){var g=u.u();g&&Ve(r,u.I(oe(He(r).confirmPasswordReset,He(r)),[d,g],function(){u.m();var w=new $E(m);w.render(a),Be(r,w)},function(w){nI(r,a,u,w)}))}function nI(r,a,u,d){(d&&d.code)=="auth/weak-password"?(r=ut(d),Nt(u.i(),!1),hn(u.w(),r),u.i().focus()):(u&&u.m(),u=new HE,u.render(a),Be(r,u))}function GN(r,a,u){var d=new Au(u,function(){Ve(r,d.I(oe(He(r).sendPasswordResetEmail,He(r)),[u],function(){d.m(),d=new Sh(u,void 0,Vt(j(r)),Ft(j(r))),d.render(a),Be(r,d)},function(){d.a(Uw().toString())}))});d.render(a),Be(r,d)}function YN(r,a,u,d){var m=new Cu(d.factorId,function(){m.I(oe(He(r).sendPasswordResetEmail,He(r)),[u],function(){m.m(),m=new Sh(u,void 0,Vt(j(r)),Ft(j(r))),m.render(a),Be(r,m)},function(){m.a(Uw().toString())})},d.phoneNumber);m.render(a),Be(r,m)}tt.passwordReset=function(r,a,u,d){Ve(r,He(r).verifyPasswordResetCode(u).then(function(m){var g=new Ru(m,function(){zN(r,a,g,u,d)});g.render(a),Be(r,g)},function(){nI(r,a)}))},tt.emailChangeRevocation=function(r,a,u){var d=null;Ve(r,He(r).checkActionCode(u).then(function(m){return d=m.data.email,He(r).applyActionCode(u)}).then(function(){GN(r,a,d)},function(){var m=new qE;m.render(a),Be(r,m)}))},tt.emailVerification=function(r,a,u,d){Ve(r,He(r).applyActionCode(u).then(function(){var m=new ME(d);m.render(a),Be(r,m)},function(){var m=new VE;m.render(a),Be(r,m)}))},tt.revertSecondFactorAddition=function(r,a,u){var d=null,m=null;Ve(r,He(r).checkActionCode(u).then(function(g){return d=g.data.email,m=g.data.multiFactorInfo,He(r).applyActionCode(u)}).then(function(){YN(r,a,d,m)},function(){var g=new BE;g.render(a),Be(r,g)}))},tt.verifyAndChangeEmail=function(r,a,u,d){var m=null;Ve(r,He(r).checkActionCode(u).then(function(g){return m=g.data.email,He(r).applyActionCode(u)}).then(function(){var g=new FE(m,d);g.render(a),Be(r,g)},function(){var g=new UE;g.render(a),Be(r,g)}))};function xh(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Pt&&!zs("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function Pu(r,a,u,d,m,g){U.call(this,sE,{email:u},g,"emailLinkSignInConfirmation",{F:d,D:m}),this.l=r,this.u=a}c(Pu,U),Pu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),xh(this.i(),(this.i().value||"").length),U.prototype.v.call(this)},Pu.prototype.o=function(){this.u=this.l=null,U.prototype.o.call(this)},se(Pu.prototype,{i:Tr,M:as,w:Pa,H:ka,j:Oa,U:tn,P:qt,B:fn}),tt.emailLinkConfirmation=function(r,a,u,d,m,g){var w=new Pu(function(){var T=w.j();T?(w.m(),d(r,a,T,u)):w.i().focus()},function(){w.m(),mt(r,a,m||void 0)},m||void 0,Vt(j(r)),Ft(j(r)));w.render(a),Be(r,w),g&&w.a(g)};function ku(r,a,u,d,m){U.call(this,cE,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:u,D:d}),this.i=a}c(ku,U),ku.prototype.v=function(){this.u(this.i),this.l().focus(),U.prototype.v.call(this)},ku.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(ku.prototype,{l:tn,u:fn}),tt.emailLinkNewDeviceLinking=function(r,a,u,d){var m=new Ks(u);if(u=m.a.a.get(jt.PROVIDER_ID)||null,gw(m,null),u){var g=new ku(uu(j(r),u),function(){g.m(),d(r,a,m.toString())},Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g)}else mt(r,a)};function Dh(r){U.call(this,nE,void 0,r,"blank")}c(Dh,U);function Yg(r,a,u,d,m){var g=new Dh,w=new Ks(u),T=w.a.a.get(jt.$a)||"",N=w.a.a.get(jt.Sa)||"",Y=w.a.a.get(jt.Qa)==="1",me=mw(w),at=w.a.a.get(jt.PROVIDER_ID)||null;w=w.a.a.get(jt.vb)||null,mI(r,w);var Ni=!ha(da,Ce(r)),wI=d||mN(N,Ce(r)),Hu=(d=gN(N,Ce(r)))&&d.a;at&&Hu&&Hu.providerId!==at&&(Hu=null),g.render(a),Be(r,g),Ve(r,g.I(function(){var _i=Ot(null);_i=me&&Ni||Ni&&Y?ia(Error("anonymous-user-not-found")):fx(r,u).then(function(ov){if(at&&!Hu)throw Error("pending-credential-not-found");return ov});var qu=null;return _i.then(function(ov){return qu=ov,m?null:He(r).checkActionCode(T)}).then(function(){return qu})},[],function(_i){wI?JN(r,g,wI,u,Hu,_i):Y?(g.m(),he("differentDeviceError",r,a)):(g.m(),he("emailLinkConfirmation",r,a,u,iI))},function(_i){var qu=void 0;if(!_i||!_i.name||_i.name!="cancel")switch(g.m(),_i&&_i.message){case"anonymous-user-not-found":he("differentDeviceError",r,a);break;case"anonymous-user-mismatch":he("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":he("emailLinkNewDeviceLinking",r,a,u,QN);break;default:_i&&(qu=ut(_i)),mt(r,a,void 0,qu)}}))}function iI(r,a,u,d){Yg(r,a,d,u,!0)}function QN(r,a,u){Yg(r,a,u)}function JN(r,a,u,d,m,g){var w=It(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Je("Signing in...").toString());var T=null;m=(g?px(r,g,u,d,m):mx(r,u,d,m)).then(function(N){Jn(au,Ce(r)),Jn(da,Ce(r)),a.h(),a.$("firebaseui-icon-done",Je("Signed in!").toString()),T=setTimeout(function(){a.h(),Ar(r,a,N,!0)},1e3),Ve(r,function(){a&&(a.h(),a.m()),clearTimeout(T)})},function(N){if(a.h(),a.m(),!N.name||N.name!="cancel"){N=wu(N);var Y=ut(N);N.code=="auth/email-already-in-use"||N.code=="auth/credential-already-in-use"?(Jn(au,Ce(r)),Jn(da,Ce(r))):N.code=="auth/invalid-email"?(Y=Je("The email provided does not match the current sign-in session.").toString(),he("emailLinkConfirmation",r,w,d,iI,null,Y)):mt(r,w,u,Y)}}),Ve(r,m)}tt.emailLinkSignInCallback=Yg;function Ou(r,a,u,d,m,g){U.call(this,uE,{email:r,ga:a},g,"emailLinkSignInLinking",{F:d,D:m}),this.i=u}c(Ou,U),Ou.prototype.v=function(){this.u(this.i),this.l().focus(),U.prototype.v.call(this)},Ou.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(Ou.prototype,{l:tn,u:fn});function XN(r,a,u,d){var m=It(a);Kg(r,a,u,function(){mt(r,m,u)},function(g){if(!g.name||g.name!="cancel"){var w=ut(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),mt(r,m,u,w))}},d)}tt.emailLinkSignInLinking=function(r,a,u){var d=Yi(Ce(r));if(Qi(Ce(r)),d){var m=d.a.providerId,g=new Ou(u,uu(j(r),m),function(){XN(r,g,u,d)},Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g)}else mt(r,a)};function Nu(r,a,u,d,m,g){U.call(this,iE,{email:r},g,"emailLinkSignInSent",{F:d,D:m}),this.u=a,this.i=u}c(Nu,U),Nu.prototype.v=function(){var r=this;At(this,this.l(),function(){r.i()}),At(this,Ke(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),U.prototype.v.call(this)},Nu.prototype.o=function(){this.i=this.u=null,U.prototype.o.call(this)},se(Nu.prototype,{l:qt}),tt.emailLinkSignInSent=function(r,a,u,d,m){var g=new Nu(u,function(){g.m(),he("emailNotReceived",r,a,u,d,m)},function(){g.m(),d()},Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g)};function xu(r,a,u,d,m,g,w){U.call(this,RE,{jc:r,Qb:a},w,"emailMismatch",{F:m,D:g}),this.l=u,this.i=d}c(xu,U),xu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),U.prototype.v.call(this)},xu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(xu.prototype,{u:tn,B:qt,w:fn}),tt.emailMismatch=function(r,a,u){var d=Yi(Ce(r));if(d){var m=new xu(u.user.email,d.g,function(){var g=m;Qi(Ce(r)),Ar(r,g,u)},function(){var g=u.credential.providerId,w=It(m);m.m(),d.a?he("federatedLinking",r,w,d.g,g):he("federatedSignIn",r,w,d.g,g)},Vt(j(r)),Ft(j(r)));m.render(a),Be(r,m)}else mt(r,a)};function Na(r,a,u,d,m){U.call(this,rE,void 0,m,"emailNotReceived",{F:u,D:d}),this.l=r,this.i=a}c(Na,U),Na.prototype.v=function(){var r=this;At(this,this.u(),function(){r.i()}),At(this,this.Da(),function(){r.l()}),this.u().focus(),U.prototype.v.call(this)},Na.prototype.Da=function(){return Ke(this,"firebaseui-id-resend-email-link")},Na.prototype.o=function(){this.i=this.l=null,U.prototype.o.call(this)},se(Na.prototype,{u:qt}),tt.emailNotReceived=function(r,a,u,d,m){var g=new Na(function(){Kg(r,g,u,d,function(w){w=ut(w),g.a(w)},m)},function(){g.m(),mt(r,a,u)},Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g)};function xa(r,a,u,d,m,g){U.call(this,dE,{email:r,ga:a},g,"federatedLinking",{F:d,D:m}),this.i=u}c(xa,U),xa.prototype.v=function(){this.u(this.i),this.l().focus(),U.prototype.v.call(this)},xa.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(xa.prototype,{l:tn,u:fn}),tt.federatedLinking=function(r,a,u,d,m){var g=Yi(Ce(r));if(g&&g.a){var w=new xa(u,uu(j(r),d),function(){bu(r,w,d,u)},Vt(j(r)),Ft(j(r)));w.render(a),Be(r,w),m&&w.a(m)}else mt(r,a)},tt.federatedRedirect=function(r,a,u){var d=new Dh;d.render(a),Be(r,d),a=ma(j(r))[0],bu(r,d,a,u)},tt.federatedSignIn=function(r,a,u,d,m){var g=new xa(u,uu(j(r),d),function(){bu(r,g,d,u)},Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g),m&&g.a(m)};function ZN(r,a,u,d){var m=a.u();m?Ve(r,a.I(oe(r.Xb,r),[u,m],function(g){return g=g.user.linkWithCredential(d).then(function(w){return Ar(r,a,{user:w.user,credential:d,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Ve(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":Nt(a.i(),!1),hn(a.B(),ut(g));break;case"auth/too-many-requests":a.a(ut(g));break;default:li("signInWithEmailAndPassword: "+g.message,void 0),a.a(ut(g))}})):a.i().focus()}tt.passwordLinking=function(r,a,u){var d=Yi(Ce(r));Qi(Ce(r));var m=d&&d.a;if(m){var g=new Ca(u,function(){ZN(r,g,u,m)},function(){g.m(),he("passwordRecovery",r,a,u)},Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g)}else mt(r,a)};function Du(r,a,u,d,m,g){U.call(this,X1,{email:u,Ta:!!a},g,"passwordRecovery",{F:d,D:m}),this.l=r,this.u=a}c(Du,U),Du.prototype.v=function(){this.B(),this.H(this.l,this.u),dn(this.i())||this.i().focus(),Ra(this,this.i(),this.l),U.prototype.v.call(this)},Du.prototype.o=function(){this.u=this.l=null,U.prototype.o.call(this)},se(Du.prototype,{i:Tr,w:as,B:Pa,M:ka,j:Oa,U:tn,P:qt,H:fn});function ex(r,a){var u=a.j();if(u){var d=It(a);Ve(r,a.I(oe(He(r).sendPasswordResetEmail,He(r)),[u],function(){a.m();var m=new Sh(u,function(){m.m(),mt(r,d)},Vt(j(r)),Ft(j(r)));m.render(d),Be(r,m)},function(m){Nt(a.i(),!1),hn(a.w(),ut(m))}))}else a.i().focus()}tt.passwordRecovery=function(r,a,u,d,m){var g=new Du(function(){ex(r,g)},d?void 0:function(){g.m(),mt(r,a)},u,Vt(j(r)),Ft(j(r)));g.render(a),Be(r,g),m&&g.a(m)},tt.passwordSignIn=function(r,a,u,d){var m=new _u(function(){HN(r,m)},function(){var g=m.M();m.m(),he("passwordRecovery",r,a,g)},u,Vt(j(r)),Ft(j(r)),d);m.render(a),Be(r,m)};function Qg(){return Ke(this,"firebaseui-id-name")}function Jg(){return Ke(this,"firebaseui-id-name-error")}function Lu(r,a,u,d,m,g,w,T,N){U.call(this,J1,{email:d,Tb:r,name:m,Ta:!!u,ia:!!T},N,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=r}c(Lu,U),Lu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(yu(this,this.i(),this.u()),yu(this,this.u(),this.l())):yu(this,this.i(),this.l()),this.w&&Ra(this,this.l(),this.w),dn(this.i())?this.B&&!dn(this.u())?this.u().focus():this.l().focus():this.i().focus(),U.prototype.v.call(this)},Lu.prototype.o=function(){this.H=this.w=null,U.prototype.o.call(this)},se(Lu.prototype,{i:Tr,U:as,ea:Pa,jb:ka,j:Oa,u:Qg,Bc:Jg,Ja:function(){var r=Qg.call(this),a=Jg.call(this);Ia(this,r,function(){Ta(a)&&(Nt(r,!0),ci(a))})},M:function(){var r=Qg.call(this),a=Jg.call(this),u=dn(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Nt(r,u),u?(ci(a),a=!0):(hn(a,Je("Enter your account name").toString()),a=!1),a?x(dn(r)):null},l:Su,ba:Nh,lb:Oh,ua:eI,P:tI,Nb:tn,Mb:qt,pa:fn});function tx(r,a){var u=f1(j(r)),d=a.j(),m=null;u&&(m=a.M());var g=a.P();if(d){if(u)if(m)m=ve(m);else{a.u().focus();return}if(g){var w=we.auth.EmailAuthProvider.credential(d,g);Ve(r,a.I(oe(r.Yb,r),[d,g],function(T){var N={user:T.user,credential:w,operationType:T.operationType,additionalUserInfo:T.additionalUserInfo};return u?(T=T.user.updateProfile({displayName:m}).then(function(){return Ar(r,a,N)}),Ve(r,T),T):Ar(r,a,N)},function(T){if(!T.name||T.name!="cancel"){var N=wu(T);switch(T=ut(N),N.code){case"auth/email-already-in-use":return nx(r,a,d,N);case"auth/too-many-requests":T=Je("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Nt(a.l(),!1),hn(a.ba(),T);break;case"auth/admin-restricted-operation":ro(j(r))?(T=It(a),a.m(),he("handleUnauthorizedUser",r,T,d,we.auth.EmailAuthProvider.PROVIDER_ID)):a.a(T);break;default:N="setAccountInfo: "+Hb(N),li(N,void 0),a.a(T)}}}))}else a.l().focus()}else a.i().focus()}function nx(r,a,u,d){function m(){var w=ut(d);Nt(a.i(),!1),hn(a.U(),w),a.i().focus()}var g=He(r).fetchSignInMethodsForEmail(u).then(function(w){w.length?m():(w=It(a),a.m(),he("passwordRecovery",r,w,u,!1,jw().toString()))},function(){m()});return Ve(r,g),g}tt.passwordSignUp=function(r,a,u,d,m,g){function w(){T.m(),mt(r,a)}var T=new Lu(f1(j(r)),function(){tx(r,T)},m?void 0:w,u,d,Vt(j(r)),Ft(j(r)),g);T.render(a),Be(r,T)};function Xg(){return Ke(this,"firebaseui-id-phone-confirmation-code")}function rI(){return Ke(this,"firebaseui-id-phone-confirmation-code-error")}function sI(){return Ke(this,"firebaseui-id-resend-countdown")}function Da(r,a,u,d,m,g,w,T,N){U.call(this,kE,{phoneNumber:m},N,"phoneSignInFinish",{F:w,D:T}),this.jb=g,this.i=new yh(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=d}c(Da,U),Da.prototype.v=function(){var r=this;this.U(this.jb),Ci(this.i,"tick",this.w,!1,this),this.i.start(),At(this,Ke(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),At(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),U.prototype.v.call(this)},Da.prototype.o=function(){this.M=this.H=this.l=this.P=null,_h(this.i),Xs(this.i,"tick",this.w),this.i=null,U.prototype.o.call(this)},Da.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(_h(this.i),Xs(this.i,"tick",this.w),this.ua(),this.lb())},se(Da.prototype,{u:Xg,pa:rI,Ja:function(r){var a=Xg.call(this),u=rI.call(this);Ia(this,a,function(){Ta(u)&&(Nt(a,!0),ci(u))}),r&&vu(this,a,function(){r()})},ba:function(){var r=x(dn(Xg.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:sI,U:function(r){jm(sI.call(this),Je("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){ci(this.Fb())},Da:function(){return Ke(this,"firebaseui-id-resend-link")},lb:function(){hn(this.Da())},Nb:tn,Mb:qt,ea:fn});function ix(r,a,u,d){function m(w){a.u().focus(),Nt(a.u(),!1),hn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Je("Verifying...").toString()),Ve(r,a.I(oe(d.confirm,d),[g],function(w){a.h(),a.$("firebaseui-icon-done",Je("Verified!").toString());var T=setTimeout(function(){a.h(),a.m();var N={user:ki(r).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};Ar(r,a,N,!0)},1e3);Ve(r,function(){a&&a.h(),clearTimeout(T)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var T=wu(w);switch(w=ut(T),T.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":T=It(a),a.h(),a.m(),he("phoneSignInStart",r,T,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),m(w);break;default:a.h(),a.a(w)}}}))):m(Je("Wrong code. Try again.").toString())}tt.phoneSignInFinish=function(r,a,u,d,m,g){var w=new Da(function(){w.m(),he("phoneSignInStart",r,a,u)},function(){ix(r,w,u,m)},function(){w.m(),mt(r,a)},function(){w.m(),he("phoneSignInStart",r,a,u)},Cg(u),d,Vt(j(r)),Ft(j(r)));w.render(a),Be(r,w),g&&w.a(g)};var rx=!Pt&&!($e("Safari")&&!(_w()||$e("Coast")||$e("Opera")||$e("Edge")||$e("Firefox")||$e("FxiOS")||$e("Silk")||$e("Android")));function Lh(r,a){return/-[a-z]/.test(a)?null:rx&&r.dataset?!$e("Android")||_w()||$e("Firefox")||$e("FxiOS")||$e("Opera")||$e("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function sx(r,a,u){var d=this;r=zl(H1,{items:r},null,this.s),W1.call(this,r,!0,!0),u&&(u=ox(r,u))&&(u.focus(),xN(u,r)),At(this,r,function(m){(m=(m=Dw(m.target,"firebaseui-id-list-box-dialog-button"))&&Lh(m,"listboxid"))&&(Ih.call(d),a(m))})}function ox(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(Lh(r[u],"listboxid")===a)return r[u];return null}function oo(){return Ke(this,"firebaseui-id-phone-number")}function oI(){return Ke(this,"firebaseui-id-country-selector")}function Zg(){return Ke(this,"firebaseui-id-phone-number-error")}function ax(r,a){var u=r.a,d=ev("1-US-0",u),m=null;if(a&&ev(a,u)?m=a:d?m="1-US-0":m=0<u.length?u[0].c:null,!m)throw Error("No available default country");Mh.call(this,m,r)}function ev(r,a){return r=io(r),!(!r||!M(a,r))}function lx(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+tv(a),label:a.name+" "+("+"+a.b)}})}function tv(r){return"firebaseui-flag-"+r.f}function ux(r){var a=this;sx.call(this,lx(r.a),function(u){Mh.call(a,u,r,!0),a.O().focus()},this.Ba)}function Mh(r,a,u){var d=io(r);d&&(u&&(u=x(dn(oo.call(this))||""),a=fh(a,u),a.length&&a[0].b!=d.b&&(u="+"+d.b+u.substr(a[0].b.length+1),_1(oo.call(this),u))),a=io(this.Ba),this.Ba=r,r=Ke(this,"firebaseui-id-country-selector-flag"),a&&Xi(r,tv(a)),Ji(r,tv(d)),jm(Ke(this,"firebaseui-id-country-selector-code"),"+"+d.b))}function Mu(r,a,u,d,m,g,w,T,N,Y){U.call(this,PE,{Gb:a,Aa:N||null,Va:!!u,ia:!!g},Y,"phoneSignInStart",{F:d,D:m}),this.H=T||null,this.M=a,this.l=r,this.w=u||null,this.pa=w||null}c(Mu,U),Mu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||yu(this,this.O(),this.i()),Ra(this,this.i(),this.l),this.O().focus(),xh(this.O(),(this.O().value||"").length),U.prototype.v.call(this)},Mu.prototype.o=function(){this.w=this.l=null,U.prototype.o.call(this)},se(Mu.prototype,{Cb:qg,O:oo,B:Zg,ea:function(r,a,u){var d=this,m=oo.call(this),g=oI.call(this),w=Zg.call(this),T=r||lu,N=T.a;if(N.length==0)throw Error("No available countries provided.");ax.call(d,T,a),At(this,g,function(){ux.call(d,T)}),Ia(this,m,function(){Ta(w)&&(Nt(m,!0),ci(w));var Y=x(dn(m)||""),me=io(this.Ba),at=fh(T,Y);Y=ev("1-US-0",N),at.length&&at[0].b!=me.b&&(me=at[0],Mh.call(d,me.b=="1"&&Y?"1-US-0":me.c,T))}),u&&vu(this,m,function(){u()})},U:function(r){var a=x(dn(oo.call(this))||"");r=r||lu;var u=r.a,d=fh(lu,a);if(d.length&&!M(u,d[0]))throw _1(oo.call(this)),oo.call(this).focus(),hn(Zg.call(this),Je("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=io(this.Ba),d.length&&d[0].b!=u.b&&Mh.call(this,d[0].c,r),d.length&&(a=a.substr(d[0].b.length+1)),a?new i1(this.Ba,a):null},Ja:oI,ba:function(){return Ke(this,"firebaseui-recaptcha-container")},u:function(){return Ke(this,"firebaseui-id-recaptcha-error")},i:tn,ua:qt,P:fn});function aI(r,a,u,d){try{var m=a.U(Mg)}catch{return}m?du?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Je("Verifying...").toString()),Ve(r,a.I(oe(r.cc,r),[Cg(m),u],function(g){var w=It(a);a.$("firebaseui-icon-done",Je("Code sent!").toString());var T=setTimeout(function(){a.h(),a.m(),he("phoneSignInFinish",r,w,m,15,g)},1e3);Ve(r,function(){a&&a.h(),clearTimeout(T)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(v1),du=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=Je("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),hn(a.B(),Wm().toString());return;case"auth/admin-restricted-operation":if(ro(j(r))){g=It(a),a.m(),he("handleUnauthorizedUser",r,g,Cg(m),we.auth.PhoneAuthProvider.PROVIDER_ID);return}w=ut(g);break;default:w=ut(g)}a.a(w)}}))):va?hn(a.u(),Je("Solve the reCAPTCHA").toString()):!va&&d&&a.i().click():(a.O().focus(),hn(a.B(),Wm().toString()))}tt.phoneSignInStart=function(r,a,u,d){var m=_N(j(r))||{};du=null,va=!(m&&m.size==="invisible");var g=GE(r),w=AN(j(r)),T=g?TN(j(r)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||T,(T=Pg(j(r)))&&n1(T),Mg=T?new Zb(Pg(j(r))):lu;var N=new Mu(function(me){aI(r,N,Y,!(!me||!me.keyCode))},va,g?null:function(){Y.clear(),N.m(),mt(r,a)},Vt(j(r)),Ft(j(r)),g,Mg,w,u);N.render(a),Be(r,N),d&&N.a(d),m.callback=function(me){N.u()&&ci(N.u()),du=me,va||aI(r,N,Y)},m["expired-callback"]=function(){du=null};var Y=new we.auth.RecaptchaVerifier(va?N.ba():N.i(),m,ki(r).app);Ve(r,N.I(oe(Y.render,Y),[],function(me){v1=me},function(me){me.name&&me.name=="cancel"||(me=ut(me),N.m(),mt(r,a,void 0,me))}))},tt.prefilledEmailSignIn=function(r,a,u){var d=new Dh;d.render(a),Be(r,d),Ve(r,d.I(oe(He(r).fetchSignInMethodsForEmail,He(r)),[u],function(m){d.m();var g=!(!Ch(r)||!cI(r));QE(r,a,m,u,void 0,g)},function(m){m=ut(m),d.m(),he("signIn",r,a,u,m)}))};function Vu(r,a,u,d,m){U.call(this,CE,{Sb:a},m,"providerSignIn",{F:u,D:d}),this.i=r}c(Vu,U),Vu.prototype.v=function(){this.l(this.i),U.prototype.v.call(this)},Vu.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se(Vu.prototype,{l:function(r){function a(w){r(w)}for(var u=this.g?Um("firebaseui-id-idp-button",this.g||this.s.a):[],d=0;d<u.length;d++){var m=u[d],g=Lh(m,"providerId");At(this,m,X(a,g))}}}),tt.providerSignIn=function(r,a,u,d){var m=new Vu(function(g){g==we.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),zg(r,a,d)):g==we.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),he("phoneSignInStart",r,a)):g=="anonymous"?jN(r,m):bu(r,m,g,d),ze(r),r.l.cancel()},a1(j(r)),Vt(j(r)),Ft(j(r)));m.render(a),Be(r,m),u&&m.a(u),hx(r)},tt.sendEmailLinkForSignIn=function(r,a,u,d){var m=new Ph;m.render(a),Be(r,m),Kg(r,m,u,d,function(g){m.m(),g&&g.code=="auth/admin-restricted-operation"&&ro(j(r))?he("handleUnauthorizedUser",r,a,u,we.auth.EmailAuthProvider.PROVIDER_ID):(g=ut(g),he("signIn",r,a,u,g))})};function Fu(r,a,u,d,m,g,w){U.call(this,Y1,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:d,D:m}),this.i=r,this.u=a}c(Fu,U),Fu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),xh(this.l(),(this.l().value||"").length),U.prototype.v.call(this)},Fu.prototype.o=function(){this.u=this.i=null,U.prototype.o.call(this)},se(Fu.prototype,{l:Tr,M:as,w:Pa,H:ka,j:Oa,U:tn,P:qt,B:fn}),tt.signIn=function(r,a,u,d){var m=Ch(r),g=new Fu(function(){var w=g,T=w.j()||"";T&&YE(r,w,T)},m?null:function(){g.m(),mt(r,a,u)},u,Vt(j(r)),Ft(j(r)),m);g.render(a),Be(r,g),d&&g.a(d)};function Uu(r,a,u,d,m,g,w){U.call(this,hE,{kc:r,yb:u,Eb:!!d},w,"unauthorizedUser",{F:m,D:g}),this.l=a,this.i=d}c(Uu,U),Uu.prototype.v=function(){var r=this,a=Ke(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&At(this,a,function(){r.i()}),At(this,this.u(),function(){r.l()}),this.u().focus(),U.prototype.v.call(this)},Uu.prototype.o=function(){this.i=this.l=null,U.prototype.o.call(this)},se(Uu.prototype,{u:qt}),tt.handleUnauthorizedUser=function(r,a,u,d){function m(){mt(r,a)}d===we.auth.EmailAuthProvider.PROVIDER_ID?m=function(){zg(r,a)}:d===we.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){he("phoneSignInStart",r,a)});var g=null,w=null;d===we.auth.EmailAuthProvider.PROVIDER_ID&&u1(j(r))?(g=EN(j(r)),w=IN(j(r))):ro(j(r))&&(g=wN(j(r)),w=bN(j(r)));var T=new Uu(u,function(){T.m(),m()},g,w,Vt(j(r)),Ft(j(r)));T.render(a),Be(r,T)};function Bu(r,a,u,d,m,g){U.call(this,fE,{email:r},g,"unsupportedProvider",{F:d,D:m}),this.l=a,this.i=u}c(Bu,U),Bu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),U.prototype.v.call(this)},Bu.prototype.o=function(){this.i=this.l=null,U.prototype.o.call(this)},se(Bu.prototype,{u:tn,B:qt,w:fn}),tt.unsupportedProvider=function(r,a,u){var d=new Bu(u,function(){d.m(),he("passwordRecovery",r,a,u)},function(){d.m(),mt(r,a,u)},Vt(j(r)),Ft(j(r)));d.render(a),Be(r,d)};function Zi(r,a){this.$=!1;var u=nv(a);if(ju[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');ju[u]=this,this.a=r,this.u=null,this.Y=!1,lI(this.a),this.h=we.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),lI(this.h),this.h.setPersistence&&this.h.setPersistence(we.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new yN,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=ag.Xa(),this.j=this.C=null,this.da=this.A=!1}function lI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var ju={};function nv(r){return r||"[DEFAULT]"}function uI(r){return ze(r),r.i||(r.i=Sr(r,function(a){return a&&!Yi(Ce(r))?Ot(ki(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return us(r,u)})):Ot(He(r).getRedirectResult().then(function(u){return ph(j(r))&&!u.user&&r.j&&!r.j.isAnonymous?ki(r).getRedirectResult():u}))})),r.i}function Be(r,a){ze(r),r.g=a}var La=null;function He(r){return ze(r),r.h}function ki(r){return ze(r),r.a}function Ce(r){return ze(r),r.oa}function cI(r){return ze(r),r.O?r.O.emailHint:void 0}t=Zi.prototype,t.nb=function(){return ze(this),!!Ig(Ce(this))||dI(Ir())};function dI(r){return r=new Ks(r),(r.a.a.get(jt.ub)||null)==="signIn"&&!!r.a.a.get(jt.$a)}t.start=function(r,a){hI(this,r,a)};function hI(r,a,u,d){ze(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=d||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?Vh(r,a):Xl(window,"load",function(){Vh(r,a)})}):g.readyState=="complete"?Vh(r,a):Xl(window,"load",function(){Vh(r,a)})}function Vh(r,a){var u=Kd(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),La){var d=La;ze(d),Yi(Ce(d))&&ss("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),La.reset()}if(La=r,r.T=u,dx(r,u),hh(new _g)&&hh(new wg)){a=Kd(a,"Could not find the FirebaseUI widget element on the page."),u=Ir(),d=Sg(j(r).a,"queryParameterForSignInSuccessUrl"),u=(u=kd(u,d))?Xr(Nd(u)).toString():null;e:{d=Ir();var m=h1(j(r));d=kd(d,m)||"";for(g in Lg)if(Lg[g].toLowerCase()==d.toLowerCase()){var g=Lg[g];break e}g="callback"}switch(g){case"callback":u&&(g=Ce(r),fa(ou,u,g)),r.nb()?he("callback",r,a):mt(r,a,cI(r));break;case"resetPassword":he("passwordReset",r,a,Eu(),Gg());break;case"recoverEmail":he("emailChangeRevocation",r,a,Eu());break;case"revertSecondFactorAddition":he("revertSecondFactorAddition",r,a,Eu());break;case"verifyEmail":he("emailVerification",r,a,Eu(),Gg());break;case"verifyAndChangeEmail":he("verifyAndChangeEmail",r,a,Eu(),Gg());break;case"signIn":he("emailLinkSignInCallback",r,a,Ir()),gI();break;case"select":u&&(g=Ce(r),fa(ou,u,g)),mt(r,a);break;default:throw Error("Unhandled widget operation.")}a=j(r),(a=cu(a).uiShown||null)&&a()}else a=Kd(a,"Could not find the FirebaseUI widget element on the page."),g=new KE(Je("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),Be(r,g);a=r.g&&r.g.Ga=="blank"&&kg(j(r)),Ig(Ce(r))&&!a&&(a=Ig(Ce(r)),mI(r,a.a),Jn(no,Ce(r)))}function Sr(r,a){if(r.A)return a(fI(r));if(Ve(r,function(){r.A=!1}),ph(j(r))){var u=new Ht(function(d){Ve(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,d(a(fI(r))))}))});return Ve(r,u),u}return r.A=!0,a(null)}function fI(r){return ze(r),ph(j(r))&&r.j&&r.j.isAnonymous?r.j:null}function Ve(r,a){if(ze(r),a){r.s.push(a);var u=function(){et(r.s,function(d){return d==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){ze(this),this.Z=!0};function cx(r){ze(r);var a;return(a=r.Z)||(r=j(r),r=d1(r,we.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function pI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function mI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){ze(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&WO(this.J),pI(this),this.O=null,gI(),Jn(no,Ce(this)),ze(this),this.l.cancel(),this.i=Ot({user:null,credential:null}),La==this&&(La=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],Qi(Ce(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=ls(this).then(function(){r.C=null},function(){r.C=null}))};function dx(r,a){r.L=null,r.J=new qd(a),r.J.register(),Ci(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var d=j(r);(d=cu(d).uiChanged||null)&&d(r.L,u),r.L=u}})}t.ib=function(r){ze(this);var a=this.ca,u;for(u in r)try{Ag(a.a,u,r[u])}catch{li('Invalid config: "'+u+'"',void 0)}hO&&Ag(a.a,"popupMode",!1),Pg(a),!this.da&&Og(j(this))&&(ss("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function j(r){return ze(r),r.ca}t.Wb=function(){ze(this);var r=j(this),a=Sg(r.a,"widgetUrl");r=h1(r);for(var u=a.search(dw),d=0,m,g=[];0<=(m=cw(a,d,r,u));)g.push(a.substring(d,m)),d=Math.min(a.indexOf("&",m)+1||u,u);g.push(a.substr(d)),a=g.join("").replace(tO,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),d=a.indexOf("?"),0>d||d>u?(d=u,m=""):m=a.substring(d+1,u),a=[a.substr(0,d),m,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,j(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=fb(u,r))&&r.focus()):na(window.location,u)};function ze(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return ze(this),this.h.app.delete().then(function(){var a=nv(Ce(r));delete ju[a],r.reset(),r.$=!0})};function hx(r){ze(r);try{_b(r.l,l1(j(r)),cx(r)).then(function(a){return r.g?$N(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){ze(this);var u=this,d=XO();if(!ga(j(this)))return ia(Error("Email link sign-in should be enabled to trigger email sending."));var m=RN(j(this)),g=new Ks(m.url);return lO(g,d),a&&a.a&&(vN(d,a,Ce(this)),gw(g,a.a.providerId)),uO(g,SN(j(this))),Sr(this,function(w){return w&&((w=w.uid)?g.a.a.set(jt.Pa,w):Ws(g.a.a,jt.Pa)),m.url=g.toString(),He(u).sendSignInLinkToEmail(r,m)}).then(function(){var w=Ce(u),T={};T.email=r,fa(da,Bb(d,JSON.stringify(T)),w)},function(w){throw Jn(au,Ce(u)),Jn(da,Ce(u)),w})};function fx(r,a){var u=mw(new Ks(a));return u?(a=new Ht(function(d,m){var g=ki(r).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?d(w):w&&w.isAnonymous&&w.uid!==u?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Ve(r,g)}),Ve(r,a),a):Ot(null)}function px(r,a,u,d,m){ze(r);var g=m||null,w=we.auth.EmailAuthProvider.credentialWithLink(u,d);return u=g?He(r).signInWithEmailLink(u,d).then(function(T){return T.user.linkWithCredential(g)}).then(function(){return ls(r)}).then(function(){return us(r,{code:"auth/email-already-in-use"},g)}):He(r).fetchSignInMethodsForEmail(u).then(function(T){return T.length?us(r,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Ve(r,u),u}function mx(r,a,u,d){ze(r);var m=d||null,g;return a=He(r).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},m)return w.user.linkWithCredential(m).then(function(T){g={user:T.user,credential:m,operationType:g.operationType,additionalUserInfo:T.additionalUserInfo}})}).then(function(){ls(r)}).then(function(){return ki(r).updateCurrentUser(g.user)}).then(function(){return g.user=ki(r).currentUser,g}),Ve(r,a),a}function gI(){var r=Ir();if(dI(r)){r=new Ks(r);for(var a in jt)jt.hasOwnProperty(a)&&Ws(r.a.a,jt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){ze(this);var u=this;return He(this).signInWithEmailAndPassword(r,a).then(function(d){return Sr(u,function(m){return m?ls(u).then(function(){return us(u,{code:"auth/email-already-in-use"},we.auth.EmailAuthProvider.credential(r,a))}):d})})},t.Yb=function(r,a){ze(this);var u=this;return Sr(this,function(d){if(d){var m=we.auth.EmailAuthProvider.credential(r,a);return d.linkWithCredential(m)}return He(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){ze(this);var a=this;return Sr(this,function(u){return u?u.linkWithCredential(r).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return us(a,d,r)}):He(a).signInWithCredential(r)})};function gx(r,a){return ze(r),Sr(r,function(u){return u&&!Yi(Ce(r))?u.linkWithPopup(a).then(function(d){return d},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return us(r,d)}):He(r).signInWithPopup(a)})}t.dc=function(r){ze(this);var a=this,u=this.i;return this.i=null,Sr(this,function(d){return d&&!Yi(Ce(a))?d.linkWithRedirect(r):He(a).signInWithRedirect(r)}).then(function(){},function(d){throw a.i=u,d})},t.cc=function(r,a){ze(this);var u=this;return Sr(this,function(d){return d?d.linkWithPhoneNumber(r,a).then(function(m){return new ug(m,function(g){if(g.code=="auth/credential-already-in-use")return us(u,g);throw g})}):ki(u).signInWithPhoneNumber(r,a).then(function(m){return new ug(m)})})},t.$b=function(){return ze(this),ki(this).signInAnonymously()};function vx(r,a){return ze(r),Sr(r,function(u){if(r.j&&!r.j.isAnonymous&&ph(j(r))&&!He(r).currentUser)return ls(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return ls(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(d){return a.user=d.user,a.credential=d.credential,a.operationType=d.operationType,a.additionalUserInfo=d.additionalUserInfo,a},function(d){if(d&&d.code=="auth/email-already-in-use"&&d.email&&d.credential)throw d;return us(r,d,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return ls(r).then(function(){return ki(r).updateCurrentUser(a.user)}).then(function(){return a.user=ki(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return ze(this),He(this).signInWithEmailAndPassword(r,a)};function ls(r){return ze(r),He(r).signOut()}function us(r,a,u){if(ze(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var d=g1(j(r));return Ot().then(function(){return d(new Gl("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return ia(a)}function $u(r,a,u,d){U.call(this,xE,void 0,d,"providerMatchByEmail",{F:a,D:u}),this.i=r}c($u,U),$u.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),xh(this.l(),(this.l().value||"").length),U.prototype.v.call(this)},$u.prototype.o=function(){this.i=null,U.prototype.o.call(this)},se($u.prototype,{l:Tr,H:as,u:Pa,B:ka,j:Oa,M:tn,w:fn});function Fh(r,a,u,d,m){U.call(this,NE,{ec:a},m,"selectTenant",{F:u,D:d}),this.i=r}c(Fh,U),Fh.prototype.v=function(){yx(this,this.i),U.prototype.v.call(this)},Fh.prototype.o=function(){this.i=null,U.prototype.o.call(this)};function yx(r,a){function u(T){a(T)}for(var d=r.g?Um("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<d.length;m++){var g=d[m],w=Lh(g,"tenantId");At(r,g,X(u,w))}}function iv(r){U.call(this,tE,void 0,r,"spinner")}c(iv,U);function _x(r){this.a=new Tg,Mt(this.a,"authDomain"),Mt(this.a,"displayMode",Bh),Mt(this.a,"tenants"),Mt(this.a,"callbacks"),Mt(this.a,"tosUrl"),Mt(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{Ag(this.a,a,r[a])}catch{li('Invalid config: "'+a+'"',void 0)}}function wx(r){r=r.a.get("displayMode");for(var a in sv)if(sv[a]===r)return sv[a];return Bh}function Uh(r){return r.a.get("callbacks")||{}}function vI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&ss("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){sa(a)}}return null}function yI(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&ss("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){sa(u)}}return null}function rv(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(jh))throw Error("Invalid tenant configuration!")}function _I(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var d=[];if(r=r[a]||r[jh],!r)return li("Invalid tenant configuration: "+(a+" is not configured!"),void 0),d;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(m){if(typeof m=="string")d.push(m);else if(typeof m.provider=="string"){var g=m.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&d.push(m.provider):d.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),li(m,void 0)}),d}function bx(r,a,u){return r=Ex(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(d){return typeof d=="string"?u.includes(d):u.includes(d.provider)}),r.signInOptions=a),r}function Ex(r,a){var u=Ix,d=d===void 0?{}:d;return rv(r,a),r=r.a.get("tenants"),ZO(r[a]||r[jh],u,d)}var Ix=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Bh="optionFirst",sv={pc:Bh,oc:"identifierFirst"},jh="*";function Oi(r,a){var u=this;this.s=Kd(r),this.a={},Object.keys(a).forEach(function(d){u.a[d]=new _x(a[d])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(d){this.ob=d||null},enumerable:!1})}t=Oi.prototype,t.Ub=function(r,a){var u=this;cs(this);var d=r.apiKey;return new Ht(function(m,g){if(u.a.hasOwnProperty(d)){var w=Uh(u.a[d]).selectTenantUiHidden||null;if(wx(u.a[d])===Bh){var T=[];a.forEach(function(me){me=me||"_";var at=u.a[d].a.get("tenants");if(!at)throw Error("Invalid tenant configuration!");(at=at[me]||at[jh])?me={tenantId:me!=="_"?me:null,V:at.fullLabel||null,displayName:at.displayName,za:at.iconUrl,ta:at.buttonColor}:(li("Invalid tenant configuration: "+(me+" is not configured!"),void 0),me=null),me&&T.push(me)});var N=function(me){me={tenantId:me,providerIds:_I(u.a[d],me||"_")},m(me)};if(T.length===1){N(T[0].tenantId);return}u.g=new Fh(function(me){cs(u),w&&w(),N(me)},T,vI(u.a[d]),yI(u.a[d]))}else u.g=new $u(function(){var me=u.g.j();if(me){for(var at=0;at<a.length;at++){var Ni=_I(u.a[d],a[at]||"_",me);if(Ni.length!==0){me={tenantId:a[at],providerIds:Ni,email:me},cs(u),w&&w(),m(me);return}}u.g.a($w({code:"no-matching-tenant-for-email"}).toString())}},vI(u.a[d]),yI(u.a[d]));u.g.render(u.s),(g=Uh(u.a[d]).selectTenantUiShown||null)&&g()}else{var Y=Error("Invalid project configuration: API key is invalid!");Y.code="invalid-configuration",u.pb(Y),g(Y)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;rv(this.a[r],a||"_");try{this.i=we.app(u).auth()}catch{var d=this.a[r].a.get("authDomain");if(!d)throw Error("Invalid project configuration: authDomain is required!");r=we.initializeApp({apiKey:r,authDomain:d},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new Ht(function(d,m){function g(at,Ni){u.j=new Zi(r),hI(u.j,u.s,at,Ni)}var w=r.app.options.apiKey;u.a.hasOwnProperty(w)||m(Error("Invalid project configuration: API key is invalid!"));var T=bx(u.a[w],r.tenantId||"_",a&&a.providerIds);cs(u),m={signInSuccessWithAuthResult:function(at){return d(at),!1}};var N=Uh(u.a[w]).signInUiShown||null,Y=!1;m.uiChanged=function(at,Ni){at===null&&Ni==="callback"?((at=Bm("firebaseui-id-page-callback",u.s))&&ci(at),u.h=new iv,u.h.render(u.s)):Y||at===null&&Ni==="spinner"||Ni==="blank"||(u.h&&(u.h.m(),u.h=null),Y=!0,N&&N(r.tenantId))},T.callbacks=m,T.credentialHelper="none";var me;a&&a.email&&(me={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(T,me)}):g(T,me)})},t.reset=function(){var r=this;return Ot().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,cs(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){cs(r),r.h=new iv,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return cs(this),this.g=new jE,this.g.render(this.s),Ot()};function cs(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=$w({code:r.code}).toString()||r.message;cs(this);var d;r.retry&&typeof r.retry=="function"&&(d=function(){a.reset(),r.retry()}),this.g=new WE(u,d),this.g.render(this.s)},t.Rb=function(r){var a=this;return Ot().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(rv(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=Uh(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},Se("firebaseui.auth.FirebaseUiHandler",Oi),Se("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Oi.prototype.Ub),Se("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Oi.prototype.Pb),Se("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Oi.prototype.Zb),Se("firebaseui.auth.FirebaseUiHandler.prototype.reset",Oi.prototype.reset),Se("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Oi.prototype.Vb),Se("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Oi.prototype.mb),Se("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Oi.prototype.Bb),Se("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Oi.prototype.pb),Se("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Oi.prototype.Rb),Se("firebaseui.auth.AuthUI",Zi),Se("firebaseui.auth.AuthUI.getInstance",function(r){return r=nv(r),ju[r]?ju[r]:null}),Se("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Zi.prototype.Db),Se("firebaseui.auth.AuthUI.prototype.start",Zi.prototype.start),Se("firebaseui.auth.AuthUI.prototype.setConfig",Zi.prototype.ib),Se("firebaseui.auth.AuthUI.prototype.signIn",Zi.prototype.Wb),Se("firebaseui.auth.AuthUI.prototype.reset",Zi.prototype.reset),Se("firebaseui.auth.AuthUI.prototype.delete",Zi.prototype.Wa),Se("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Zi.prototype.nb),Se("firebaseui.auth.AuthUIError",Gl),Se("firebaseui.auth.AuthUIError.prototype.toJSON",Gl.prototype.toJSON),Se("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Ng),Se("firebaseui.auth.CredentialHelper.NONE",gh),Se("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Ht.prototype.catch=Ht.prototype.Ca,Ht.prototype.finally=Ht.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=_6);var w6=firebaseui.auth;const om=hp(U9),vr=l9(om);Wi(om,"northamerica-northeast1");const l2=PR(om),wq=new w6.AuthUI(l2),b6=g5(om);m5(b6);const Qo=t=>{console.error(`Error fetching documents with conditions: ${t}`)},E6=async t=>{try{return(await $r(vl(vr,t))).docs.map(i=>({id:i.id,...i.data()}))}catch(e){return Qo(e),[]}},bq=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=Ls(vl(vr,t),Es(e,n,i));return(await $r(s)).docs.map(c=>c.data())}catch(s){return Qo(s),[]}},Eq=async(t,e,n,i)=>{console.log("getPaginatedDocuments",t,e,n,i);try{if(i){const s=Ls(vl(vr,t),_l(...e),R0(i),wl(n)),o=await $r(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}else{const s=Ls(vl(vr,t),_l(...e),wl(n)),o=await $r(s),l=o.docs.map(h=>({id:h.id,...h.data()}));return{lastVisible:o.docs[o.docs.length-1],docs:l}}}catch(s){return Qo(s),{lastVisible:{},docs:[]}}},Iq=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=Ls(vl(vr,t),Es(e,n,i),_l(e),R0(l),wl(o)),h=await $r(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,p),{lastVisible:p,docs:f}}else{const c=Ls(v0(vr,t),Es(e,n,i),_l(...s),wl(o)),h=await $r(c),f=h.docs.map(v=>({id:v.id,...v.data()})),p=h.docs[h.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,p),{lastVisible:p,docs:f}}}catch(c){return Qo(c),{lastVisible:{},docs:[]}}},Tq=async(t,e,n,i,s,o,l,c,h,f)=>{try{if(f){const p=Ls(vl(vr,t),Es(e,n,i),Es(s,o,l),_l(e),R0(f),wl(h)),v=await $r(p),y=v.docs.map(S=>({id:S.id,...S.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}else{const p=Ls(v0(vr,t),Es(e,n,i),Es(s,o,l),_l(...c),wl(h)),v=await $r(p),y=v.docs.map(S=>({id:S.id,...S.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:y}}}catch(p){return Qo(p),{lastVisible:{},docs:[]}}},Py=async(t,e)=>{try{console.log("getDocument",t,e);const n=OP(vr,t,e),i=await b9(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return Qo(n),[]}},Aq=async(t,e)=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const n=Ls(v0(vr,t),Es("id","==",e)),i=await $r(n);if(i.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const s=i.docs[0];return console.log("queryForCollectionGroupDocumentById",s.data()),{id:s.id,...s.data()}}catch(n){return Qo(n),null}},Sq=t=>t instanceof Jt,Rq=t=>t.toDate();function x0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const wt={},el=[],Li=()=>{},I6=()=>!1,T6=/^on[^a-z]/,am=t=>T6.test(t),D0=t=>t.startsWith("onUpdate:"),on=Object.assign,L0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},A6=Object.prototype.hasOwnProperty,Xe=(t,e)=>A6.call(t,e),Te=Array.isArray,tl=t=>Td(t)==="[object Map]",lm=t=>Td(t)==="[object Set]",tA=t=>Td(t)==="[object Date]",Me=t=>typeof t=="function",Ut=t=>typeof t=="string",bl=t=>typeof t=="symbol",ft=t=>t!==null&&typeof t=="object",u2=t=>(ft(t)||Me(t))&&Me(t.then)&&Me(t.catch),c2=Object.prototype.toString,Td=t=>c2.call(t),S6=t=>Td(t).slice(8,-1),d2=t=>Td(t)==="[object Object]",M0=t=>Ut(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_f=x0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),um=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},R6=/-(\w)/g,yr=um(t=>t.replace(R6,(e,n)=>n?n.toUpperCase():"")),C6=/\B([A-Z])/g,Vl=um(t=>t.replace(C6,"-$1").toLowerCase()),cm=um(t=>t.charAt(0).toUpperCase()+t.slice(1)),kv=um(t=>t?`on${cm(t)}`:""),jo=(t,e)=>!Object.is(t,e),wf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Jf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Xf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},P6=t=>{const e=Ut(t)?Number(t):NaN;return isNaN(e)?t:e};let nA;const ky=()=>nA||(nA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function V0(t){if(Te(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ut(i)?x6(i):V0(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(Ut(t)||ft(t))return t}const k6=/;(?![^(]*\))/g,O6=/:([^]+)/,N6=/\/\*[^]*?\*\//g;function x6(t){const e={};return t.replace(N6,"").split(k6).forEach(n=>{if(n){const i=n.split(O6);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function An(t){let e="";if(Ut(t))e=t;else if(Te(t))for(let n=0;n<t.length;n++){const i=An(t[n]);i&&(e+=i+" ")}else if(ft(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const D6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",L6=x0(D6);function h2(t){return!!t||t===""}function M6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=dm(t[i],e[i]);return n}function dm(t,e){if(t===e)return!0;let n=tA(t),i=tA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=bl(t),i=bl(e),n||i)return t===e;if(n=Te(t),i=Te(e),n||i)return n&&i?M6(t,e):!1;if(n=ft(t),i=ft(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),h=e.hasOwnProperty(l);if(c&&!h||!c&&h||!dm(t[l],e[l]))return!1}}return String(t)===String(e)}function V6(t,e){return t.findIndex(n=>dm(n,e))}const Zf=t=>Ut(t)?t:t==null?"":Te(t)||ft(t)&&(t.toString===c2||!Me(t.toString))?JSON.stringify(t,f2,2):String(t),f2=(t,e)=>e&&e.__v_isRef?f2(t,e.value):tl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:lm(e)?{[`Set(${e.size})`]:[...e.values()]}:ft(e)&&!Te(e)&&!d2(e)?String(e):e;let hi;class p2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=hi,!e&&hi&&(this.index=(hi.scopes||(hi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=hi;try{return hi=this,e()}finally{hi=n}}}on(){hi=this}off(){hi=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function m2(t){return new p2(t)}function F6(t,e=hi){e&&e.active&&e.effects.push(t)}function g2(){return hi}function U6(t){hi&&hi.cleanups.push(t)}const F0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},v2=t=>(t.w&Ms)>0,y2=t=>(t.n&Ms)>0,B6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ms},j6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];v2(s)&&!y2(s)?s.delete(t):e[n++]=s,s.w&=~Ms,s.n&=~Ms}e.length=n}},ep=new WeakMap;let uc=0,Ms=1;const Oy=30;let xi;const Oo=Symbol(""),Ny=Symbol("");class U0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,F6(this,i)}run(){if(!this.active)return this.fn();let e=xi,n=Rs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=xi,xi=this,Rs=!0,Ms=1<<++uc,uc<=Oy?B6(this):iA(this),this.fn()}finally{uc<=Oy&&j6(this),Ms=1<<--uc,xi=this.parent,Rs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){xi===this?this.deferStop=!0:this.active&&(iA(this),this.onStop&&this.onStop(),this.active=!1)}}function iA(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Rs=!0;const _2=[];function Fl(){_2.push(Rs),Rs=!1}function Ul(){const t=_2.pop();Rs=t===void 0?!0:t}function ii(t,e,n){if(Rs&&xi){let i=ep.get(t);i||ep.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=F0()),w2(s)}}function w2(t,e){let n=!1;uc<=Oy?y2(t)||(t.n|=Ms,n=!v2(t)):n=!t.has(xi),n&&(t.add(xi),xi.deps.push(t))}function Lr(t,e,n,i,s,o){const l=ep.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Te(t)){const h=Number(i);l.forEach((f,p)=>{(p==="length"||!bl(p)&&p>=h)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Te(t)?M0(n)&&c.push(l.get("length")):(c.push(l.get(Oo)),tl(t)&&c.push(l.get(Ny)));break;case"delete":Te(t)||(c.push(l.get(Oo)),tl(t)&&c.push(l.get(Ny)));break;case"set":tl(t)&&c.push(l.get(Oo));break}if(c.length===1)c[0]&&xy(c[0]);else{const h=[];for(const f of c)f&&h.push(...f);xy(F0(h))}}function xy(t,e){const n=Te(t)?t:[...t];for(const i of n)i.computed&&rA(i);for(const i of n)i.computed||rA(i)}function rA(t,e){(t!==xi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function $6(t,e){var n;return(n=ep.get(t))==null?void 0:n.get(e)}const H6=x0("__proto__,__v_isRef,__isVue"),b2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(bl)),sA=q6();function q6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Oe(this);for(let o=0,l=this.length;o<l;o++)ii(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Oe)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Fl();const i=Oe(this)[e].apply(this,n);return Ul(),i}}),t}function W6(t){const e=Oe(this);return ii(e,"has",t),e.hasOwnProperty(t)}class E2{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?rB:S2:o?A2:T2).get(e))return e;const l=Te(e);if(!s){if(l&&Xe(sA,n))return Reflect.get(sA,n,i);if(n==="hasOwnProperty")return W6}const c=Reflect.get(e,n,i);return(bl(n)?b2.has(n):H6(n))||(s||ii(e,"get",n),o)?c:St(c)?l&&M0(n)?c:c.value:ft(c)?s?C2(c):ni(c):c}}class I2 extends E2{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(El(o)&&St(o)&&!St(i))return!1;if(!this._shallow&&(!tp(i)&&!El(i)&&(o=Oe(o),i=Oe(i)),!Te(e)&&St(o)&&!St(i)))return o.value=i,!0;const l=Te(e)&&M0(n)?Number(n)<e.length:Xe(e,n),c=Reflect.set(e,n,i,s);return e===Oe(s)&&(l?jo(i,o)&&Lr(e,"set",n,i):Lr(e,"add",n,i)),c}deleteProperty(e,n){const i=Xe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Lr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!bl(n)||!b2.has(n))&&ii(e,"has",n),i}ownKeys(e){return ii(e,"iterate",Te(e)?"length":Oo),Reflect.ownKeys(e)}}class K6 extends E2{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const z6=new I2,G6=new K6,Y6=new I2(!0),B0=t=>t,hm=t=>Reflect.getPrototypeOf(t);function Xh(t,e,n=!1,i=!1){t=t.__v_raw;const s=Oe(t),o=Oe(e);n||(jo(e,o)&&ii(s,"get",e),ii(s,"get",o));const{has:l}=hm(s),c=i?B0:n?H0:Wc;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function Zh(t,e=!1){const n=this.__v_raw,i=Oe(n),s=Oe(t);return e||(jo(t,s)&&ii(i,"has",t),ii(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ef(t,e=!1){return t=t.__v_raw,!e&&ii(Oe(t),"iterate",Oo),Reflect.get(t,"size",t)}function oA(t){t=Oe(t);const e=Oe(this);return hm(e).has.call(e,t)||(e.add(t),Lr(e,"add",t,t)),this}function aA(t,e){e=Oe(e);const n=Oe(this),{has:i,get:s}=hm(n);let o=i.call(n,t);o||(t=Oe(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?jo(e,l)&&Lr(n,"set",t,e):Lr(n,"add",t,e),this}function lA(t){const e=Oe(this),{has:n,get:i}=hm(e);let s=n.call(e,t);s||(t=Oe(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Lr(e,"delete",t,void 0),o}function uA(){const t=Oe(this),e=t.size!==0,n=t.clear();return e&&Lr(t,"clear",void 0,void 0),n}function tf(t,e){return function(i,s){const o=this,l=o.__v_raw,c=Oe(l),h=e?B0:t?H0:Wc;return!t&&ii(c,"iterate",Oo),l.forEach((f,p)=>i.call(s,h(f),h(p),o))}}function nf(t,e,n){return function(...i){const s=this.__v_raw,o=Oe(s),l=tl(o),c=t==="entries"||t===Symbol.iterator&&l,h=t==="keys"&&l,f=s[t](...i),p=n?B0:e?H0:Wc;return!e&&ii(o,"iterate",h?Ny:Oo),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:c?[p(v[0]),p(v[1])]:p(v),done:y}},[Symbol.iterator](){return this}}}}function hs(t){return function(...e){return t==="delete"?!1:this}}function Q6(){const t={get(o){return Xh(this,o)},get size(){return ef(this)},has:Zh,add:oA,set:aA,delete:lA,clear:uA,forEach:tf(!1,!1)},e={get(o){return Xh(this,o,!1,!0)},get size(){return ef(this)},has:Zh,add:oA,set:aA,delete:lA,clear:uA,forEach:tf(!1,!0)},n={get(o){return Xh(this,o,!0)},get size(){return ef(this,!0)},has(o){return Zh.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:tf(!0,!1)},i={get(o){return Xh(this,o,!0,!0)},get size(){return ef(this,!0)},has(o){return Zh.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:tf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=nf(o,!1,!1),n[o]=nf(o,!0,!1),e[o]=nf(o,!1,!0),i[o]=nf(o,!0,!0)}),[t,n,e,i]}const[J6,X6,Z6,eB]=Q6();function j0(t,e){const n=e?t?eB:Z6:t?X6:J6;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Xe(n,s)&&s in i?n:i,s,o)}const tB={get:j0(!1,!1)},nB={get:j0(!1,!0)},iB={get:j0(!0,!1)},T2=new WeakMap,A2=new WeakMap,S2=new WeakMap,rB=new WeakMap;function sB(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oB(t){return t.__v_skip||!Object.isExtensible(t)?0:sB(S6(t))}function ni(t){return El(t)?t:$0(t,!1,z6,tB,T2)}function R2(t){return $0(t,!1,Y6,nB,A2)}function C2(t){return $0(t,!0,G6,iB,S2)}function $0(t,e,n,i,s){if(!ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=oB(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Mr(t){return El(t)?Mr(t.__v_raw):!!(t&&t.__v_isReactive)}function El(t){return!!(t&&t.__v_isReadonly)}function tp(t){return!!(t&&t.__v_isShallow)}function P2(t){return Mr(t)||El(t)}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function fm(t){return Jf(t,"__v_skip",!0),t}const Wc=t=>ft(t)?ni(t):t,H0=t=>ft(t)?C2(t):t;function k2(t){Rs&&xi&&(t=Oe(t),w2(t.dep||(t.dep=F0())))}function O2(t,e){t=Oe(t);const n=t.dep;n&&xy(n)}function St(t){return!!(t&&t.__v_isRef===!0)}function le(t){return x2(t,!1)}function N2(t){return x2(t,!0)}function x2(t,e){return St(t)?t:new aB(t,e)}class aB{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Oe(e),this._value=n?e:Wc(e)}get value(){return k2(this),this._value}set value(e){const n=this.__v_isShallow||tp(e)||El(e);e=n?e:Oe(e),jo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Wc(e),O2(this))}}function W(t){return St(t)?t.value:t}const lB={get:(t,e,n)=>W(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return St(s)&&!St(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function D2(t){return Mr(t)?t:new Proxy(t,lB)}function uB(t){const e=Te(t)?new Array(t.length):{};for(const n in t)e[n]=L2(t,n);return e}class cB{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $6(Oe(this._object),this._key)}}class dB{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function hB(t,e,n){return St(t)?t:Me(t)?new dB(t):ft(t)&&arguments.length>1?L2(t,e,n):le(t)}function L2(t,e,n){const i=t[e];return St(i)?i:new cB(t,e,n)}class fB{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new U0(e,()=>{this._dirty||(this._dirty=!0,O2(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Oe(this);return k2(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function pB(t,e,n=!1){let i,s;const o=Me(t);return o?(i=t,s=Li):(i=t.get,s=t.set),new fB(i,s,o||!s,n)}function Cs(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){pm(o,e,n)}return s}function Ti(t,e,n,i){if(Me(t)){const o=Cs(t,e,n,i);return o&&u2(o)&&o.catch(l=>{pm(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(Ti(t[o],e,n,i));return s}function pm(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](t,l,c)===!1)return}o=o.parent}const h=e.appContext.config.errorHandler;if(h){Cs(h,null,10,[t,l,c]);return}}mB(t,n,s,i)}function mB(t,e,n,i=!0){console.error(t)}let Kc=!1,Dy=!1;const Ln=[];let lr=0;const nl=[];let Cr=null,mo=0;const M2=Promise.resolve();let q0=null;function Mi(t){const e=q0||M2;return t?e.then(this?t.bind(this):t):e}function gB(t){let e=lr+1,n=Ln.length;for(;e<n;){const i=e+n>>>1,s=Ln[i],o=zc(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function W0(t){(!Ln.length||!Ln.includes(t,Kc&&t.allowRecurse?lr+1:lr))&&(t.id==null?Ln.push(t):Ln.splice(gB(t.id),0,t),V2())}function V2(){!Kc&&!Dy&&(Dy=!0,q0=M2.then(U2))}function vB(t){const e=Ln.indexOf(t);e>lr&&Ln.splice(e,1)}function yB(t){Te(t)?nl.push(...t):(!Cr||!Cr.includes(t,t.allowRecurse?mo+1:mo))&&nl.push(t),V2()}function cA(t,e=Kc?lr+1:0){for(;e<Ln.length;e++){const n=Ln[e];n&&n.pre&&(Ln.splice(e,1),e--,n())}}function F2(t){if(nl.length){const e=[...new Set(nl)];if(nl.length=0,Cr){Cr.push(...e);return}for(Cr=e,Cr.sort((n,i)=>zc(n)-zc(i)),mo=0;mo<Cr.length;mo++)Cr[mo]();Cr=null,mo=0}}const zc=t=>t.id==null?1/0:t.id,_B=(t,e)=>{const n=zc(t)-zc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function U2(t){Dy=!1,Kc=!0,Ln.sort(_B);const e=Li;try{for(lr=0;lr<Ln.length;lr++){const n=Ln[lr];n&&n.active!==!1&&Cs(n,null,14)}}finally{lr=0,Ln.length=0,F2(),Kc=!1,q0=null,(Ln.length||nl.length)&&U2()}}function wB(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||wt;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const p=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:y}=i[p]||wt;y&&(s=n.map(b=>Ut(b)?b.trim():b)),v&&(s=n.map(Xf))}let c,h=i[c=kv(e)]||i[c=kv(yr(e))];!h&&o&&(h=i[c=kv(Vl(e))]),h&&Ti(h,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Ti(f,t,6,s)}}function B2(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!Me(t)){const h=f=>{const p=B2(f,e,!0);p&&(c=!0,on(l,p))};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}return!o&&!c?(ft(t)&&i.set(t,null),null):(Te(o)?o.forEach(h=>l[h]=null):on(l,o),ft(t)&&i.set(t,l),l)}function mm(t,e){return!t||!am(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,Vl(e))||Xe(t,e))}let gn=null,j2=null;function np(t){const e=gn;return gn=t,j2=t&&t.type.__scopeId||null,e}function Le(t,e=gn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&IA(-1);const o=np(e);let l;try{l=t(...s)}finally{np(o),i._d&&IA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Ov(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:h,emit:f,render:p,renderCache:v,data:y,setupState:b,ctx:S,inheritAttrs:_}=t;let E,I;const C=np(t);try{if(n.shapeFlag&4){const O=s||i;E=nr(p.call(O,O,v,o,b,y,S)),I=h}else{const O=e;E=nr(O.length>1?O(o,{attrs:h,slots:c,emit:f}):O(o,null)),I=e.props?h:bB(h)}}catch(O){Ec.length=0,pm(O,t,1),E=be(Ai)}let P=E;if(I&&_!==!1){const O=Object.keys(I),{shapeFlag:V}=P;O.length&&V&7&&(l&&O.some(D0)&&(I=EB(I,l)),P=Hr(P,I))}return n.dirs&&(P=Hr(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),E=P,np(C),E}const bB=t=>{let e;for(const n in t)(n==="class"||n==="style"||am(n))&&((e||(e={}))[n]=t[n]);return e},EB=(t,e)=>{const n={};for(const i in t)(!D0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function IB(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:h}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&h>=0){if(h&1024)return!0;if(h&16)return i?dA(i,l,f):!!l;if(h&8){const p=e.dynamicProps;for(let v=0;v<p.length;v++){const y=p[v];if(l[y]!==i[y]&&!mm(f,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?dA(i,l,f):!0:!!l;return!1}function dA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!mm(n,o))return!0}return!1}function TB({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const AB=t=>t.__isSuspense;function SB(t,e){e&&e.pendingBranch?Te(t)?e.effects.push(...t):e.effects.push(t):yB(t)}function yi(t,e){return K0(t,null,e)}const rf={};function gi(t,e,n){return K0(t,e,n)}function K0(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=wt){var c;const h=g2()===((c=sn)==null?void 0:c.scope)?sn:null;let f,p=!1,v=!1;if(St(t)?(f=()=>t.value,p=tp(t)):Mr(t)?(f=()=>t,i=!0):Te(t)?(v=!0,p=t.some(O=>Mr(O)||tp(O)),f=()=>t.map(O=>{if(St(O))return O.value;if(Mr(O))return To(O);if(Me(O))return Cs(O,h,2)})):Me(t)?e?f=()=>Cs(t,h,2):f=()=>{if(!(h&&h.isUnmounted))return y&&y(),Ti(t,h,3,[b])}:f=Li,e&&i){const O=f;f=()=>To(O())}let y,b=O=>{y=C.onStop=()=>{Cs(O,h,4)}},S;if(Qc)if(b=Li,e?n&&Ti(e,h,3,[f(),v?[]:void 0,b]):f(),s==="sync"){const O=Sj();S=O.__watcherHandles||(O.__watcherHandles=[])}else return Li;let _=v?new Array(t.length).fill(rf):rf;const E=()=>{if(C.active)if(e){const O=C.run();(i||p||(v?O.some((V,G)=>jo(V,_[G])):jo(O,_)))&&(y&&y(),Ti(e,h,3,[O,_===rf?void 0:v&&_[0]===rf?[]:_,b]),_=O)}else C.run()};E.allowRecurse=!!e;let I;s==="sync"?I=E:s==="post"?I=()=>Zn(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),I=()=>W0(E));const C=new U0(f,I);e?n?E():_=C.run():s==="post"?Zn(C.run.bind(C),h&&h.suspense):C.run();const P=()=>{C.stop(),h&&h.scope&&L0(h.scope.effects,C)};return S&&S.push(P),P}function RB(t,e,n){const i=this.proxy,s=Ut(t)?t.includes(".")?$2(i,t):()=>i[t]:t.bind(i,i);let o;Me(e)?o=e:(o=e.handler,n=e);const l=sn;Il(this);const c=K0(s,o.bind(i),n);return l?Il(l):No(),c}function $2(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function To(t,e){if(!ft(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),St(t))To(t.value,e);else if(Te(t))for(let n=0;n<t.length;n++)To(t[n],e);else if(lm(t)||tl(t))t.forEach(n=>{To(n,e)});else if(d2(t))for(const n in t)To(t[n],e);return t}function Qt(t,e){const n=gn;if(n===null)return t;const i=wm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,h,f=wt]=e[o];l&&(Me(l)&&(l={mounted:l,updated:l}),l.deep&&To(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:h,modifiers:f}))}return t}function ao(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let h=c.dir[i];h&&(Fl(),Ti(h,n,8,[t.el,c,t,e]),Ul())}}const vs=Symbol("_leaveCb"),sf=Symbol("_enterCb");function CB(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return xt(()=>{t.isMounted=!0}),z2(()=>{t.isUnmounting=!0}),t}const wi=[Function,Array],H2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:wi,onEnter:wi,onAfterEnter:wi,onEnterCancelled:wi,onBeforeLeave:wi,onLeave:wi,onAfterLeave:wi,onLeaveCancelled:wi,onBeforeAppear:wi,onAppear:wi,onAfterAppear:wi,onAppearCancelled:wi},PB={name:"BaseTransition",props:H2,setup(t,{slots:e}){const n=yj(),i=CB();let s;return()=>{const o=e.default&&W2(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const _ of o)if(_.type!==Ai){l=_;break}}const c=Oe(t),{mode:h}=c;if(i.isLeaving)return Nv(l);const f=hA(l);if(!f)return Nv(l);const p=Ly(f,c,i,n);My(f,p);const v=n.subTree,y=v&&hA(v);let b=!1;const{getTransitionKey:S}=f.type;if(S){const _=S();s===void 0?s=_:_!==s&&(s=_,b=!0)}if(y&&y.type!==Ai&&(!go(f,y)||b)){const _=Ly(y,c,i,n);if(My(y,_),h==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Nv(l);h==="in-out"&&f.type!==Ai&&(_.delayLeave=(E,I,C)=>{const P=q2(i,y);P[String(y.key)]=y,E[vs]=()=>{I(),E[vs]=void 0,delete p.delayedLeave},p.delayedLeave=C})}return l}}},kB=PB;function q2(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Ly(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:v,onLeave:y,onAfterLeave:b,onLeaveCancelled:S,onBeforeAppear:_,onAppear:E,onAfterAppear:I,onAppearCancelled:C}=e,P=String(t.key),O=q2(n,t),V=(H,ee)=>{H&&Ti(H,i,9,ee)},G=(H,ee)=>{const ge=ee[1];V(H,ee),Te(H)?H.every(oe=>oe.length<=1)&&ge():H.length<=1&&ge()},ne={mode:o,persisted:l,beforeEnter(H){let ee=c;if(!n.isMounted)if(s)ee=_||c;else return;H[vs]&&H[vs](!0);const ge=O[P];ge&&go(t,ge)&&ge.el[vs]&&ge.el[vs](),V(ee,[H])},enter(H){let ee=h,ge=f,oe=p;if(!n.isMounted)if(s)ee=E||h,ge=I||f,oe=C||p;else return;let X=!1;const se=H[sf]=Ze=>{X||(X=!0,Ze?V(oe,[H]):V(ge,[H]),ne.delayedLeave&&ne.delayedLeave(),H[sf]=void 0)};ee?G(ee,[H,se]):se()},leave(H,ee){const ge=String(t.key);if(H[sf]&&H[sf](!0),n.isUnmounting)return ee();V(v,[H]);let oe=!1;const X=H[vs]=se=>{oe||(oe=!0,ee(),se?V(S,[H]):V(b,[H]),H[vs]=void 0,O[ge]===t&&delete O[ge])};O[ge]=t,y?G(y,[H,X]):X()},clone(H){return Ly(H,e,n,i)}};return ne}function Nv(t){if(gm(t))return t=Hr(t),t.children=null,t}function hA(t){return gm(t)?t.children?t.children[0]:void 0:t}function My(t,e){t.shapeFlag&6&&t.component?My(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function W2(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===yt?(l.patchFlag&128&&s++,i=i.concat(W2(l.children,e,c))):(e||l.type!==Ai)&&i.push(c!=null?Hr(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Ye(t,e){return Me(t)?(()=>on({name:t.name},e,{setup:t}))():t}const _c=t=>!!t.type.__asyncLoader,gm=t=>t.type.__isKeepAlive;function OB(t,e){K2(t,"a",e)}function NB(t,e){K2(t,"da",e)}function K2(t,e,n=sn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(vm(e,i,n),n){let s=n.parent;for(;s&&s.parent;)gm(s.parent.vnode)&&xB(i,e,n,s),s=s.parent}}function xB(t,e,n,i){const s=vm(e,t,i,!0);ri(()=>{L0(i[e],s)},n)}function vm(t,e,n=sn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;Fl(),Il(n);const c=Ti(e,n,t,l);return No(),Ul(),c});return i?s.unshift(o):s.push(o),o}}const zr=t=>(e,n=sn)=>(!Qc||t==="sp")&&vm(t,(...i)=>e(...i),n),DB=zr("bm"),xt=zr("m"),LB=zr("bu"),MB=zr("u"),z2=zr("bum"),ri=zr("um"),VB=zr("sp"),FB=zr("rtg"),UB=zr("rtc");function BB(t,e=sn){vm("ec",t,e)}const G2="components";function Cq(t,e){return $B(G2,t,!0,e)||t}const jB=Symbol.for("v-ndc");function $B(t,e,n=!0,i=!1){const s=gn||sn;if(s){const o=s.type;if(t===G2){const c=Ij(o,!1);if(c&&(c===e||c===yr(e)||c===cm(yr(e))))return o}const l=fA(s[t]||o[t],e)||fA(s.appContext[t],e);return!l&&i?o:l}}function fA(t,e){return t&&(t[e]||t[yr(e)]||t[cm(yr(e))])}function ip(t,e,n,i){let s;const o=n&&n[i];if(Te(t)||Ut(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(ft(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function Y2(t,e,n={},i,s){if(gn.isCE||gn.parent&&_c(gn.parent)&&gn.parent.isCE)return e!=="default"&&(n.name=e),be("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),ye();const l=o&&Q2(o(n)),c=gt(yt,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Q2(t){return t.some(e=>sp(e)?!(e.type===Ai||e.type===yt&&!Q2(e.children)):!0)?t:null}const Vy=t=>t?ak(t)?wm(t)||t.proxy:Vy(t.parent):null,wc=on(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Vy(t.parent),$root:t=>Vy(t.root),$emit:t=>t.emit,$options:t=>z0(t),$forceUpdate:t=>t.f||(t.f=()=>W0(t.update)),$nextTick:t=>t.n||(t.n=Mi.bind(t.proxy)),$watch:t=>RB.bind(t)}),xv=(t,e)=>t!==wt&&!t.__isScriptSetup&&Xe(t,e),HB={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:h}=t;let f;if(e[0]!=="$"){const b=l[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(xv(i,e))return l[e]=1,i[e];if(s!==wt&&Xe(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&Xe(f,e))return l[e]=3,o[e];if(n!==wt&&Xe(n,e))return l[e]=4,n[e];Fy&&(l[e]=0)}}const p=wc[e];let v,y;if(p)return e==="$attrs"&&ii(t,"get",e),p(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==wt&&Xe(n,e))return l[e]=4,n[e];if(y=h.config.globalProperties,Xe(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return xv(s,e)?(s[e]=n,!0):i!==wt&&Xe(i,e)?(i[e]=n,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==wt&&Xe(t,l)||xv(e,l)||(c=o[0])&&Xe(c,l)||Xe(i,l)||Xe(wc,l)||Xe(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function pA(t){return Te(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Fy=!0;function qB(t){const e=z0(t),n=t.proxy,i=t.ctx;Fy=!1,e.beforeCreate&&mA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:h,inject:f,created:p,beforeMount:v,mounted:y,beforeUpdate:b,updated:S,activated:_,deactivated:E,beforeDestroy:I,beforeUnmount:C,destroyed:P,unmounted:O,render:V,renderTracked:G,renderTriggered:ne,errorCaptured:H,serverPrefetch:ee,expose:ge,inheritAttrs:oe,components:X,directives:se,filters:Ze}=e;if(f&&WB(f,i,null),l)for(const L in l){const Ae=l[L];Me(Ae)&&(i[L]=Ae.bind(n))}if(s){const L=s.call(n,n);ft(L)&&(t.data=ni(L))}if(Fy=!0,o)for(const L in o){const Ae=o[L],_t=Me(Ae)?Ae.bind(n,n):Me(Ae.get)?Ae.get.bind(n,n):Li,rt=!Me(Ae)&&Me(Ae.set)?Ae.set.bind(n):Li,an=pe({get:_t,set:rt});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>an.value,set:st=>an.value=st})}if(c)for(const L in c)J2(c[L],i,n,L);if(h){const L=Me(h)?h.call(n):h;Reflect.ownKeys(L).forEach(Ae=>{Yn(Ae,L[Ae])})}p&&mA(p,t,"c");function D(L,Ae){Te(Ae)?Ae.forEach(_t=>L(_t.bind(n))):Ae&&L(Ae.bind(n))}if(D(DB,v),D(xt,y),D(LB,b),D(MB,S),D(OB,_),D(NB,E),D(BB,H),D(UB,G),D(FB,ne),D(z2,C),D(ri,O),D(VB,ee),Te(ge))if(ge.length){const L=t.exposed||(t.exposed={});ge.forEach(Ae=>{Object.defineProperty(L,Ae,{get:()=>n[Ae],set:_t=>n[Ae]=_t})})}else t.exposed||(t.exposed={});V&&t.render===Li&&(t.render=V),oe!=null&&(t.inheritAttrs=oe),X&&(t.components=X),se&&(t.directives=se)}function WB(t,e,n=Li){Te(t)&&(t=Uy(t));for(const i in t){const s=t[i];let o;ft(s)?"default"in s?o=Tt(s.from||i,s.default,!0):o=Tt(s.from||i):o=Tt(s),St(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function mA(t,e,n){Ti(Te(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function J2(t,e,n,i){const s=i.includes(".")?$2(n,i):()=>n[i];if(Ut(t)){const o=e[t];Me(o)&&gi(s,o)}else if(Me(t))gi(s,t.bind(n));else if(ft(t))if(Te(t))t.forEach(o=>J2(o,e,n,i));else{const o=Me(t.handler)?t.handler.bind(n):e[t.handler];Me(o)&&gi(s,o,t)}}function z0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let h;return c?h=c:!s.length&&!n&&!i?h=e:(h={},s.length&&s.forEach(f=>rp(h,f,l,!0)),rp(h,e,l)),ft(e)&&o.set(e,h),h}function rp(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&rp(t,o,n,!0),s&&s.forEach(l=>rp(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=KB[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const KB={data:gA,props:vA,emits:vA,methods:cc,computed:cc,beforeCreate:qn,created:qn,beforeMount:qn,mounted:qn,beforeUpdate:qn,updated:qn,beforeDestroy:qn,beforeUnmount:qn,destroyed:qn,unmounted:qn,activated:qn,deactivated:qn,errorCaptured:qn,serverPrefetch:qn,components:cc,directives:cc,watch:GB,provide:gA,inject:zB};function gA(t,e){return e?t?function(){return on(Me(t)?t.call(this,this):t,Me(e)?e.call(this,this):e)}:e:t}function zB(t,e){return cc(Uy(t),Uy(e))}function Uy(t){if(Te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function qn(t,e){return t?[...new Set([].concat(t,e))]:e}function cc(t,e){return t?on(Object.create(null),t,e):e}function vA(t,e){return t?Te(t)&&Te(e)?[...new Set([...t,...e])]:on(Object.create(null),pA(t),pA(e??{})):e}function GB(t,e){if(!t)return e;if(!e)return t;const n=on(Object.create(null),t);for(const i in e)n[i]=qn(t[i],e[i]);return n}function X2(){return{app:null,config:{isNativeTag:I6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let YB=0;function QB(t,e){return function(i,s=null){Me(i)||(i=on({},i)),s!=null&&!ft(s)&&(s=null);const o=X2(),l=new WeakSet;let c=!1;const h=o.app={_uid:YB++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:Rj,get config(){return o.config},set config(f){},use(f,...p){return l.has(f)||(f&&Me(f.install)?(l.add(f),f.install(h,...p)):Me(f)&&(l.add(f),f(h,...p))),h},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),h},component(f,p){return p?(o.components[f]=p,h):o.components[f]},directive(f,p){return p?(o.directives[f]=p,h):o.directives[f]},mount(f,p,v){if(!c){const y=be(i,s);return y.appContext=o,p&&e?e(y,f):t(y,f,v),c=!0,h._container=f,f.__vue_app__=h,wm(y.component)||y.component.proxy}},unmount(){c&&(t(null,h._container),delete h._container.__vue_app__)},provide(f,p){return o.provides[f]=p,h},runWithContext(f){Gc=h;try{return f()}finally{Gc=null}}};return h}}let Gc=null;function Yn(t,e){if(sn){let n=sn.provides;const i=sn.parent&&sn.parent.provides;i===n&&(n=sn.provides=Object.create(i)),n[t]=e}}function Tt(t,e,n=!1){const i=sn||gn;if(i||Gc){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Gc._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Me(e)?e.call(i&&i.proxy):e}}function JB(){return!!(sn||gn||Gc)}function XB(t,e,n,i=!1){const s={},o={};Jf(o,_m,1),t.propsDefaults=Object.create(null),Z2(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:R2(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function ZB(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=Oe(s),[h]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const p=t.vnode.dynamicProps;for(let v=0;v<p.length;v++){let y=p[v];if(mm(t.emitsOptions,y))continue;const b=e[y];if(h)if(Xe(o,y))b!==o[y]&&(o[y]=b,f=!0);else{const S=yr(y);s[S]=By(h,c,S,b,t,!1)}else b!==o[y]&&(o[y]=b,f=!0)}}}else{Z2(t,e,s,o)&&(f=!0);let p;for(const v in c)(!e||!Xe(e,v)&&((p=Vl(v))===v||!Xe(e,p)))&&(h?n&&(n[v]!==void 0||n[p]!==void 0)&&(s[v]=By(h,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!Xe(e,v))&&(delete o[v],f=!0)}f&&Lr(t,"set","$attrs")}function Z2(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let h in e){if(_f(h))continue;const f=e[h];let p;s&&Xe(s,p=yr(h))?!o||!o.includes(p)?n[p]=f:(c||(c={}))[p]=f:mm(t.emitsOptions,h)||(!(h in i)||f!==i[h])&&(i[h]=f,l=!0)}if(o){const h=Oe(n),f=c||wt;for(let p=0;p<o.length;p++){const v=o[p];n[v]=By(s,h,v,f[v],t,!Xe(f,v))}}return l}function By(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=Xe(l,"default");if(c&&i===void 0){const h=l.default;if(l.type!==Function&&!l.skipFactory&&Me(h)){const{propsDefaults:f}=s;n in f?i=f[n]:(Il(s),i=f[n]=h.call(null,e),No())}else i=h}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===Vl(n))&&(i=!0))}return i}function ek(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let h=!1;if(!Me(t)){const p=v=>{h=!0;const[y,b]=ek(v,e,!0);on(l,y),b&&c.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!o&&!h)return ft(t)&&i.set(t,el),el;if(Te(o))for(let p=0;p<o.length;p++){const v=yr(o[p]);yA(v)&&(l[v]=wt)}else if(o)for(const p in o){const v=yr(p);if(yA(v)){const y=o[p],b=l[v]=Te(y)||Me(y)?{type:y}:on({},y);if(b){const S=bA(Boolean,b.type),_=bA(String,b.type);b[0]=S>-1,b[1]=_<0||S<_,(S>-1||Xe(b,"default"))&&c.push(v)}}}const f=[l,c];return ft(t)&&i.set(t,f),f}function yA(t){return t[0]!=="$"}function _A(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function wA(t,e){return _A(t)===_A(e)}function bA(t,e){return Te(e)?e.findIndex(n=>wA(n,t)):Me(e)&&wA(e,t)?0:-1}const tk=t=>t[0]==="_"||t==="$stable",G0=t=>Te(t)?t.map(nr):[nr(t)],ej=(t,e,n)=>{if(e._n)return e;const i=Le((...s)=>G0(e(...s)),n);return i._c=!1,i},nk=(t,e,n)=>{const i=t._ctx;for(const s in t){if(tk(s))continue;const o=t[s];if(Me(o))e[s]=ej(s,o,i);else if(o!=null){const l=G0(o);e[s]=()=>l}}},ik=(t,e)=>{const n=G0(e);t.slots.default=()=>n},tj=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Oe(e),Jf(e,"_",n)):nk(e,t.slots={})}else t.slots={},e&&ik(t,e);Jf(t.slots,_m,1)},nj=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=wt;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(on(s,e),!n&&c===1&&delete s._):(o=!e.$stable,nk(e,s)),l=e}else e&&(ik(t,e),l={default:1});if(o)for(const c in s)!tk(c)&&l[c]==null&&delete s[c]};function jy(t,e,n,i,s=!1){if(Te(t)){t.forEach((y,b)=>jy(y,e&&(Te(e)?e[b]:e),n,i,s));return}if(_c(i)&&!s)return;const o=i.shapeFlag&4?wm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:h}=t,f=e&&e.r,p=c.refs===wt?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==h&&(Ut(f)?(p[f]=null,Xe(v,f)&&(v[f]=null)):St(f)&&(f.value=null)),Me(h))Cs(h,c,12,[l,p]);else{const y=Ut(h),b=St(h);if(y||b){const S=()=>{if(t.f){const _=y?Xe(v,h)?v[h]:p[h]:h.value;s?Te(_)&&L0(_,o):Te(_)?_.includes(o)||_.push(o):y?(p[h]=[o],Xe(v,h)&&(v[h]=p[h])):(h.value=[o],t.k&&(p[t.k]=h.value))}else y?(p[h]=l,Xe(v,h)&&(v[h]=l)):b&&(h.value=l,t.k&&(p[t.k]=l))};l?(S.id=-1,Zn(S,n)):S()}}}const Zn=SB;function ij(t){return rj(t)}function rj(t,e){const n=ky();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:h,setText:f,setElementText:p,parentNode:v,nextSibling:y,setScopeId:b=Li,insertStaticContent:S}=t,_=(A,R,k,x=null,B=null,q=null,ae=!1,J=null,te=!!R.dynamicChildren)=>{if(A===R)return;A&&!go(A,R)&&(x=M(A),st(A,B,q,!0),A=null),R.patchFlag===-2&&(te=!1,R.dynamicChildren=null);const{type:z,ref:Ie,shapeFlag:de}=R;switch(z){case ym:E(A,R,k,x);break;case Ai:I(A,R,k,x);break;case Dv:A==null&&C(R,k,x,ae);break;case yt:X(A,R,k,x,B,q,ae,J,te);break;default:de&1?V(A,R,k,x,B,q,ae,J,te):de&6?se(A,R,k,x,B,q,ae,J,te):(de&64||de&128)&&z.process(A,R,k,x,B,q,ae,J,te,Z)}Ie!=null&&B&&jy(Ie,A&&A.ref,q,R||A,!R)},E=(A,R,k,x)=>{if(A==null)i(R.el=c(R.children),k,x);else{const B=R.el=A.el;R.children!==A.children&&f(B,R.children)}},I=(A,R,k,x)=>{A==null?i(R.el=h(R.children||""),k,x):R.el=A.el},C=(A,R,k,x)=>{[A.el,A.anchor]=S(A.children,R,k,x,A.el,A.anchor)},P=({el:A,anchor:R},k,x)=>{let B;for(;A&&A!==R;)B=y(A),i(A,k,x),A=B;i(R,k,x)},O=({el:A,anchor:R})=>{let k;for(;A&&A!==R;)k=y(A),s(A),A=k;s(R)},V=(A,R,k,x,B,q,ae,J,te)=>{ae=ae||R.type==="svg",A==null?G(R,k,x,B,q,ae,J,te):ee(A,R,B,q,ae,J,te)},G=(A,R,k,x,B,q,ae,J)=>{let te,z;const{type:Ie,props:de,shapeFlag:ve,transition:ke,dirs:Ue}=A;if(te=A.el=l(A.type,q,de&&de.is,de),ve&8?p(te,A.children):ve&16&&H(A.children,te,null,x,B,q&&Ie!=="foreignObject",ae,J),Ue&&ao(A,null,x,"created"),ne(te,A,A.scopeId,ae,x),de){for(const Qe in de)Qe!=="value"&&!_f(Qe)&&o(te,Qe,null,de[Qe],q,A.children,x,B,ln);"value"in de&&o(te,"value",null,de.value),(z=de.onVnodeBeforeMount)&&er(z,x,A)}Ue&&ao(A,null,x,"beforeMount");const lt=sj(B,ke);lt&&ke.beforeEnter(te),i(te,R,k),((z=de&&de.onVnodeMounted)||lt||Ue)&&Zn(()=>{z&&er(z,x,A),lt&&ke.enter(te),Ue&&ao(A,null,x,"mounted")},B)},ne=(A,R,k,x,B)=>{if(k&&b(A,k),x)for(let q=0;q<x.length;q++)b(A,x[q]);if(B){let q=B.subTree;if(R===q){const ae=B.vnode;ne(A,ae,ae.scopeId,ae.slotScopeIds,B.parent)}}},H=(A,R,k,x,B,q,ae,J,te=0)=>{for(let z=te;z<A.length;z++){const Ie=A[z]=J?ys(A[z]):nr(A[z]);_(null,Ie,R,k,x,B,q,ae,J)}},ee=(A,R,k,x,B,q,ae)=>{const J=R.el=A.el;let{patchFlag:te,dynamicChildren:z,dirs:Ie}=R;te|=A.patchFlag&16;const de=A.props||wt,ve=R.props||wt;let ke;k&&lo(k,!1),(ke=ve.onVnodeBeforeUpdate)&&er(ke,k,R,A),Ie&&ao(R,A,k,"beforeUpdate"),k&&lo(k,!0);const Ue=B&&R.type!=="foreignObject";if(z?ge(A.dynamicChildren,z,J,k,x,Ue,q):ae||Ae(A,R,J,null,k,x,Ue,q,!1),te>0){if(te&16)oe(J,R,de,ve,k,x,B);else if(te&2&&de.class!==ve.class&&o(J,"class",null,ve.class,B),te&4&&o(J,"style",de.style,ve.style,B),te&8){const lt=R.dynamicProps;for(let Qe=0;Qe<lt.length;Qe++){const pt=lt[Qe],en=de[pt],wr=ve[pt];(wr!==en||pt==="value")&&o(J,pt,en,wr,B,A.children,k,x,ln)}}te&1&&A.children!==R.children&&p(J,R.children)}else!ae&&z==null&&oe(J,R,de,ve,k,x,B);((ke=ve.onVnodeUpdated)||Ie)&&Zn(()=>{ke&&er(ke,k,R,A),Ie&&ao(R,A,k,"updated")},x)},ge=(A,R,k,x,B,q,ae)=>{for(let J=0;J<R.length;J++){const te=A[J],z=R[J],Ie=te.el&&(te.type===yt||!go(te,z)||te.shapeFlag&70)?v(te.el):k;_(te,z,Ie,null,x,B,q,ae,!0)}},oe=(A,R,k,x,B,q,ae)=>{if(k!==x){if(k!==wt)for(const J in k)!_f(J)&&!(J in x)&&o(A,J,k[J],null,ae,R.children,B,q,ln);for(const J in x){if(_f(J))continue;const te=x[J],z=k[J];te!==z&&J!=="value"&&o(A,J,z,te,ae,R.children,B,q,ln)}"value"in x&&o(A,"value",k.value,x.value)}},X=(A,R,k,x,B,q,ae,J,te)=>{const z=R.el=A?A.el:c(""),Ie=R.anchor=A?A.anchor:c("");let{patchFlag:de,dynamicChildren:ve,slotScopeIds:ke}=R;ke&&(J=J?J.concat(ke):ke),A==null?(i(z,k,x),i(Ie,k,x),H(R.children,k,Ie,B,q,ae,J,te)):de>0&&de&64&&ve&&A.dynamicChildren?(ge(A.dynamicChildren,ve,k,B,q,ae,J),(R.key!=null||B&&R===B.subTree)&&Y0(A,R,!0)):Ae(A,R,k,Ie,B,q,ae,J,te)},se=(A,R,k,x,B,q,ae,J,te)=>{R.slotScopeIds=J,A==null?R.shapeFlag&512?B.ctx.activate(R,k,x,ae,te):Ze(R,k,x,B,q,ae,te):Se(A,R,te)},Ze=(A,R,k,x,B,q,ae)=>{const J=A.component=vj(A,x,B);if(gm(A)&&(J.ctx.renderer=Z),_j(J),J.asyncDep){if(B&&B.registerDep(J,D),!A.el){const te=J.subTree=be(Ai);I(null,te,R,k)}return}D(J,A,R,k,B,q,ae)},Se=(A,R,k)=>{const x=R.component=A.component;if(IB(A,R,k))if(x.asyncDep&&!x.asyncResolved){L(x,R,k);return}else x.next=R,vB(x.update),x.update();else R.el=A.el,x.vnode=R},D=(A,R,k,x,B,q,ae)=>{const J=()=>{if(A.isMounted){let{next:Ie,bu:de,u:ve,parent:ke,vnode:Ue}=A,lt=Ie,Qe;lo(A,!1),Ie?(Ie.el=Ue.el,L(A,Ie,ae)):Ie=Ue,de&&wf(de),(Qe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&er(Qe,ke,Ie,Ue),lo(A,!0);const pt=Ov(A),en=A.subTree;A.subTree=pt,_(en,pt,v(en.el),M(en),A,B,q),Ie.el=pt.el,lt===null&&TB(A,pt.el),ve&&Zn(ve,B),(Qe=Ie.props&&Ie.props.onVnodeUpdated)&&Zn(()=>er(Qe,ke,Ie,Ue),B)}else{let Ie;const{el:de,props:ve}=R,{bm:ke,m:Ue,parent:lt}=A,Qe=_c(R);if(lo(A,!1),ke&&wf(ke),!Qe&&(Ie=ve&&ve.onVnodeBeforeMount)&&er(Ie,lt,R),lo(A,!0),de&&et){const pt=()=>{A.subTree=Ov(A),et(de,A.subTree,A,B,null)};Qe?R.type.__asyncLoader().then(()=>!A.isUnmounted&&pt()):pt()}else{const pt=A.subTree=Ov(A);_(null,pt,k,x,A,B,q),R.el=pt.el}if(Ue&&Zn(Ue,B),!Qe&&(Ie=ve&&ve.onVnodeMounted)){const pt=R;Zn(()=>er(Ie,lt,pt),B)}(R.shapeFlag&256||lt&&_c(lt.vnode)&&lt.vnode.shapeFlag&256)&&A.a&&Zn(A.a,B),A.isMounted=!0,R=k=x=null}},te=A.effect=new U0(J,()=>W0(z),A.scope),z=A.update=()=>te.run();z.id=A.uid,lo(A,!0),z()},L=(A,R,k)=>{R.component=A;const x=A.vnode.props;A.vnode=R,A.next=null,ZB(A,R.props,x,k),nj(A,R.children,k),Fl(),cA(),Ul()},Ae=(A,R,k,x,B,q,ae,J,te=!1)=>{const z=A&&A.children,Ie=A?A.shapeFlag:0,de=R.children,{patchFlag:ve,shapeFlag:ke}=R;if(ve>0){if(ve&128){rt(z,de,k,x,B,q,ae,J,te);return}else if(ve&256){_t(z,de,k,x,B,q,ae,J,te);return}}ke&8?(Ie&16&&ln(z,B,q),de!==z&&p(k,de)):Ie&16?ke&16?rt(z,de,k,x,B,q,ae,J,te):ln(z,B,q,!0):(Ie&8&&p(k,""),ke&16&&H(de,k,x,B,q,ae,J,te))},_t=(A,R,k,x,B,q,ae,J,te)=>{A=A||el,R=R||el;const z=A.length,Ie=R.length,de=Math.min(z,Ie);let ve;for(ve=0;ve<de;ve++){const ke=R[ve]=te?ys(R[ve]):nr(R[ve]);_(A[ve],ke,k,null,B,q,ae,J,te)}z>Ie?ln(A,B,q,!0,!1,de):H(R,k,x,B,q,ae,J,te,de)},rt=(A,R,k,x,B,q,ae,J,te)=>{let z=0;const Ie=R.length;let de=A.length-1,ve=Ie-1;for(;z<=de&&z<=ve;){const ke=A[z],Ue=R[z]=te?ys(R[z]):nr(R[z]);if(go(ke,Ue))_(ke,Ue,k,null,B,q,ae,J,te);else break;z++}for(;z<=de&&z<=ve;){const ke=A[de],Ue=R[ve]=te?ys(R[ve]):nr(R[ve]);if(go(ke,Ue))_(ke,Ue,k,null,B,q,ae,J,te);else break;de--,ve--}if(z>de){if(z<=ve){const ke=ve+1,Ue=ke<Ie?R[ke].el:x;for(;z<=ve;)_(null,R[z]=te?ys(R[z]):nr(R[z]),k,Ue,B,q,ae,J,te),z++}}else if(z>ve)for(;z<=de;)st(A[z],B,q,!0),z++;else{const ke=z,Ue=z,lt=new Map;for(z=Ue;z<=ve;z++){const un=R[z]=te?ys(R[z]):nr(R[z]);un.key!=null&&lt.set(un.key,z)}let Qe,pt=0;const en=ve-Ue+1;let wr=!1,Cd=0;const Hs=new Array(en);for(z=0;z<en;z++)Hs[z]=0;for(z=ke;z<=de;z++){const un=A[z];if(pt>=en){st(un,B,q,!0);continue}let cn;if(un.key!=null)cn=lt.get(un.key);else for(Qe=Ue;Qe<=ve;Qe++)if(Hs[Qe-Ue]===0&&go(un,R[Qe])){cn=Qe;break}cn===void 0?st(un,B,q,!0):(Hs[cn-Ue]=z+1,cn>=Cd?Cd=cn:wr=!0,_(un,R[cn],k,null,B,q,ae,J,te),pt++)}const qs=wr?oj(Hs):el;for(Qe=qs.length-1,z=en-1;z>=0;z--){const un=Ue+z,cn=R[un],Pd=un+1<Ie?R[un+1].el:x;Hs[z]===0?_(null,cn,k,Pd,B,q,ae,J,te):wr&&(Qe<0||z!==qs[Qe]?an(cn,k,Pd,2):Qe--)}}},an=(A,R,k,x,B=null)=>{const{el:q,type:ae,transition:J,children:te,shapeFlag:z}=A;if(z&6){an(A.component.subTree,R,k,x);return}if(z&128){A.suspense.move(R,k,x);return}if(z&64){ae.move(A,R,k,Z);return}if(ae===yt){i(q,R,k);for(let de=0;de<te.length;de++)an(te[de],R,k,x);i(A.anchor,R,k);return}if(ae===Dv){P(A,R,k);return}if(x!==2&&z&1&&J)if(x===0)J.beforeEnter(q),i(q,R,k),Zn(()=>J.enter(q),B);else{const{leave:de,delayLeave:ve,afterLeave:ke}=J,Ue=()=>i(q,R,k),lt=()=>{de(q,()=>{Ue(),ke&&ke()})};ve?ve(q,Ue,lt):lt()}else i(q,R,k)},st=(A,R,k,x=!1,B=!1)=>{const{type:q,props:ae,ref:J,children:te,dynamicChildren:z,shapeFlag:Ie,patchFlag:de,dirs:ve}=A;if(J!=null&&jy(J,null,k,A,!0),Ie&256){R.ctx.deactivate(A);return}const ke=Ie&1&&ve,Ue=!_c(A);let lt;if(Ue&&(lt=ae&&ae.onVnodeBeforeUnmount)&&er(lt,R,A),Ie&6)Jo(A.component,k,x);else{if(Ie&128){A.suspense.unmount(k,x);return}ke&&ao(A,null,R,"beforeUnmount"),Ie&64?A.type.remove(A,R,k,B,Z,x):z&&(q!==yt||de>0&&de&64)?ln(z,R,k,!1,!0):(q===yt&&de&384||!B&&Ie&16)&&ln(te,R,k),x&&zi(A)}(Ue&&(lt=ae&&ae.onVnodeUnmounted)||ke)&&Zn(()=>{lt&&er(lt,R,A),ke&&ao(A,null,R,"unmounted")},k)},zi=A=>{const{type:R,el:k,anchor:x,transition:B}=A;if(R===yt){Gi(k,x);return}if(R===Dv){O(A);return}const q=()=>{s(k),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(A.shapeFlag&1&&B&&!B.persisted){const{leave:ae,delayLeave:J}=B,te=()=>ae(k,q);J?J(A.el,q,te):te()}else q()},Gi=(A,R)=>{let k;for(;A!==R;)k=y(A),s(A),A=k;s(R)},Jo=(A,R,k)=>{const{bum:x,scope:B,update:q,subTree:ae,um:J}=A;x&&wf(x),B.stop(),q&&(q.active=!1,st(ae,A,R,k)),J&&Zn(J,R),Zn(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ln=(A,R,k,x=!1,B=!1,q=0)=>{for(let ae=q;ae<A.length;ae++)st(A[ae],R,k,x,B)},M=A=>A.shapeFlag&6?M(A.component.subTree):A.shapeFlag&128?A.suspense.next():y(A.anchor||A.el),ue=(A,R,k)=>{A==null?R._vnode&&st(R._vnode,null,null,!0):_(R._vnode||null,A,R,null,null,null,k),cA(),F2(),R._vnode=A},Z={p:_,um:st,m:an,r:zi,mt:Ze,mc:H,pc:Ae,pbc:ge,n:M,o:t};let _e,et;return e&&([_e,et]=e(Z)),{render:ue,hydrate:_e,createApp:QB(ue,_e)}}function lo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function sj(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Y0(t,e,n=!1){const i=t.children,s=e.children;if(Te(i)&&Te(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=ys(s[o]),c.el=l.el),n||Y0(l,c)),c.type===ym&&(c.el=l.el)}}function oj(t){const e=t.slice(),n=[0];let i,s,o,l,c;const h=t.length;for(i=0;i<h;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const aj=t=>t.__isTeleport,bc=t=>t&&(t.disabled||t.disabled===""),EA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,$y=(t,e)=>{const n=t&&t.to;return Ut(n)?e?e(n):null:n},lj={__isTeleport:!0,process(t,e,n,i,s,o,l,c,h,f){const{mc:p,pc:v,pbc:y,o:{insert:b,querySelector:S,createText:_,createComment:E}}=f,I=bc(e.props);let{shapeFlag:C,children:P,dynamicChildren:O}=e;if(t==null){const V=e.el=_(""),G=e.anchor=_("");b(V,n,i),b(G,n,i);const ne=e.target=$y(e.props,S),H=e.targetAnchor=_("");ne&&(b(H,ne),l=l||EA(ne));const ee=(ge,oe)=>{C&16&&p(P,ge,oe,s,o,l,c,h)};I?ee(n,G):ne&&ee(ne,H)}else{e.el=t.el;const V=e.anchor=t.anchor,G=e.target=t.target,ne=e.targetAnchor=t.targetAnchor,H=bc(t.props),ee=H?n:G,ge=H?V:ne;if(l=l||EA(G),O?(y(t.dynamicChildren,O,ee,s,o,l,c),Y0(t,e,!0)):h||v(t,e,ee,ge,s,o,l,c,!1),I)H?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):of(e,n,V,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const oe=e.target=$y(e.props,S);oe&&of(e,oe,null,f,0)}else H&&of(e,G,ne,f,1)}rk(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:h,anchor:f,targetAnchor:p,target:v,props:y}=t;if(v&&o(p),l&&o(f),c&16){const b=l||!bc(y);for(let S=0;S<h.length;S++){const _=h[S];s(_,e,n,b,!!_.dynamicChildren)}}},move:of,hydrate:uj};function of(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:h,children:f,props:p}=t,v=o===2;if(v&&i(l,e,n),(!v||bc(p))&&h&16)for(let y=0;y<f.length;y++)s(f[y],e,n,2);v&&i(c,e,n)}function uj(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:h}},f){const p=e.target=$y(e.props,h);if(p){const v=p._lpa||p.firstChild;if(e.shapeFlag&16)if(bc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let y=v;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){e.targetAnchor=y,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,p,n,i,s,o)}rk(e)}return e.anchor&&l(e.anchor)}const cj=lj;function rk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const yt=Symbol.for("v-fgt"),ym=Symbol.for("v-txt"),Ai=Symbol.for("v-cmt"),Dv=Symbol.for("v-stc"),Ec=[];let Di=null;function ye(t=!1){Ec.push(Di=t?null:[])}function dj(){Ec.pop(),Di=Ec[Ec.length-1]||null}let Yc=1;function IA(t){Yc+=t}function sk(t){return t.dynamicChildren=Yc>0?Di||el:null,dj(),Yc>0&&Di&&Di.push(t),t}function it(t,e,n,i,s,o){return sk($(t,e,n,i,s,o,!0))}function gt(t,e,n,i,s){return sk(be(t,e,n,i,s,!0))}function sp(t){return t?t.__v_isVNode===!0:!1}function go(t,e){return t.type===e.type&&t.key===e.key}const _m="__vInternal",ok=({key:t})=>t??null,bf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ut(t)||St(t)||Me(t)?{i:gn,r:t,k:e,f:!!n}:t:null);function $(t,e=null,n=null,i=0,s=null,o=t===yt?0:1,l=!1,c=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ok(e),ref:e&&bf(e),scopeId:j2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gn};return c?(Q0(h,n),o&128&&t.normalize(h)):n&&(h.shapeFlag|=Ut(n)?8:16),Yc>0&&!l&&Di&&(h.patchFlag>0||o&6)&&h.patchFlag!==32&&Di.push(h),h}const be=hj;function hj(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===jB)&&(t=Ai),sp(t)){const c=Hr(t,e,!0);return n&&Q0(c,n),Yc>0&&!o&&Di&&(c.shapeFlag&6?Di[Di.indexOf(t)]=c:Di.push(c)),c.patchFlag|=-2,c}if(Tj(t)&&(t=t.__vccOpts),e){e=fj(e);let{class:c,style:h}=e;c&&!Ut(c)&&(e.class=An(c)),ft(h)&&(P2(h)&&!Te(h)&&(h=on({},h)),e.style=V0(h))}const l=Ut(t)?1:AB(t)?128:aj(t)?64:ft(t)?4:Me(t)?2:0;return $(t,e,n,i,s,l,o,!0)}function fj(t){return t?P2(t)||_m in t?on({},t):t:null}function Hr(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?pj(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ok(c),ref:e&&e.ref?n&&s?Te(s)?s.concat(bf(e)):[s,bf(e)]:bf(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hr(t.ssContent),ssFallback:t.ssFallback&&Hr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function rn(t=" ",e=0){return be(ym,null,t,e)}function ht(t="",e=!1){return e?(ye(),gt(Ai,null,t)):be(Ai,null,t)}function nr(t){return t==null||typeof t=="boolean"?be(Ai):Te(t)?be(yt,null,t.slice()):typeof t=="object"?ys(t):be(ym,null,String(t))}function ys(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hr(t)}function Q0(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Te(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Q0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(_m in e)?e._ctx=gn:s===3&&gn&&(gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:gn},n=32):(e=String(e),i&64?(n=16,e=[rn(e)]):n=8);t.children=e,t.shapeFlag|=n}function pj(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=An([e.class,i.class]));else if(s==="style")e.style=V0([e.style,i.style]);else if(am(s)){const o=e[s],l=i[s];l&&o!==l&&!(Te(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function er(t,e,n,i=null){Ti(t,e,7,[n,i])}const mj=X2();let gj=0;function vj(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||mj,o={uid:gj++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new p2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ek(i,s),emitsOptions:B2(i,s),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:i.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=wB.bind(null,o),t.ce&&t.ce(o),o}let sn=null;const yj=()=>sn||gn;let J0,Fa,TA="__VUE_INSTANCE_SETTERS__";(Fa=ky()[TA])||(Fa=ky()[TA]=[]),Fa.push(t=>sn=t),J0=t=>{Fa.length>1?Fa.forEach(e=>e(t)):Fa[0](t)};const Il=t=>{J0(t),t.scope.on()},No=()=>{sn&&sn.scope.off(),J0(null)};function ak(t){return t.vnode.shapeFlag&4}let Qc=!1;function _j(t,e=!1){Qc=e;const{props:n,children:i}=t.vnode,s=ak(t);XB(t,n,s,e),tj(t,i);const o=s?wj(t,e):void 0;return Qc=!1,o}function wj(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=fm(new Proxy(t.ctx,HB));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?Ej(t):null;Il(t),Fl();const o=Cs(i,t,0,[t.props,s]);if(Ul(),No(),u2(o)){if(o.then(No,No),e)return o.then(l=>{AA(t,l,e)}).catch(l=>{pm(l,t,0)});t.asyncDep=o}else AA(t,o,e)}else lk(t,e)}function AA(t,e,n){Me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ft(e)&&(t.setupState=D2(e)),lk(t,n)}let SA;function lk(t,e,n){const i=t.type;if(!t.render){if(!e&&SA&&!i.render){const s=i.template||z0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:h}=i,f=on(on({isCustomElement:o,delimiters:c},l),h);i.render=SA(s,f)}}t.render=i.render||Li}{Il(t),Fl();try{qB(t)}finally{Ul(),No()}}}function bj(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ii(t,"get","$attrs"),e[n]}}))}function Ej(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return bj(t)},slots:t.slots,emit:t.emit,expose:e}}function wm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(D2(fm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wc)return wc[n](t)},has(e,n){return n in e||n in wc}}))}function Ij(t,e=!0){return Me(t)?t.displayName||t.name:t.name||e&&t.__name}function Tj(t){return Me(t)&&"__vccOpts"in t}const pe=(t,e)=>pB(t,e,Qc);function Gt(t,e,n){const i=arguments.length;return i===2?ft(e)&&!Te(e)?sp(e)?be(t,null,[e]):be(t,e):be(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&sp(n)&&(n=[n]),be(t,e,n))}const Aj=Symbol.for("v-scx"),Sj=()=>Tt(Aj),Rj="3.3.7",Cj="http://www.w3.org/2000/svg",vo=typeof document<"u"?document:null,RA=vo&&vo.createElement("template"),Pj={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?vo.createElementNS(Cj,t):vo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>vo.createTextNode(t),createComment:t=>vo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{RA.innerHTML=i?`<svg>${t}</svg>`:t;const c=RA.content;if(i){const h=c.firstChild;for(;h.firstChild;)c.appendChild(h.firstChild);c.removeChild(h)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},fs="transition",Ju="animation",Jc=Symbol("_vtc"),bm=(t,{slots:e})=>Gt(kB,kj(t),e);bm.displayName="Transition";const uk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};bm.props=on({},H2,uk);const uo=(t,e=[])=>{Te(t)?t.forEach(n=>n(...e)):t&&t(...e)},CA=t=>t?Te(t)?t.some(e=>e.length>1):t.length>1:!1;function kj(t){const e={};for(const X in t)X in uk||(e[X]=t[X]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:h=o,appearActiveClass:f=l,appearToClass:p=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,S=Oj(s),_=S&&S[0],E=S&&S[1],{onBeforeEnter:I,onEnter:C,onEnterCancelled:P,onLeave:O,onLeaveCancelled:V,onBeforeAppear:G=I,onAppear:ne=C,onAppearCancelled:H=P}=e,ee=(X,se,Ze)=>{co(X,se?p:c),co(X,se?f:l),Ze&&Ze()},ge=(X,se)=>{X._isLeaving=!1,co(X,v),co(X,b),co(X,y),se&&se()},oe=X=>(se,Ze)=>{const Se=X?ne:C,D=()=>ee(se,X,Ze);uo(Se,[se,D]),PA(()=>{co(se,X?h:o),ps(se,X?p:c),CA(Se)||kA(se,i,_,D)})};return on(e,{onBeforeEnter(X){uo(I,[X]),ps(X,o),ps(X,l)},onBeforeAppear(X){uo(G,[X]),ps(X,h),ps(X,f)},onEnter:oe(!1),onAppear:oe(!0),onLeave(X,se){X._isLeaving=!0;const Ze=()=>ge(X,se);ps(X,v),Dj(),ps(X,y),PA(()=>{X._isLeaving&&(co(X,v),ps(X,b),CA(O)||kA(X,i,E,Ze))}),uo(O,[X,Ze])},onEnterCancelled(X){ee(X,!1),uo(P,[X])},onAppearCancelled(X){ee(X,!0),uo(H,[X])},onLeaveCancelled(X){ge(X),uo(V,[X])}})}function Oj(t){if(t==null)return null;if(ft(t))return[Lv(t.enter),Lv(t.leave)];{const e=Lv(t);return[e,e]}}function Lv(t){return P6(t)}function ps(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Jc]||(t[Jc]=new Set)).add(e)}function co(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Jc];n&&(n.delete(e),n.size||(t[Jc]=void 0))}function PA(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Nj=0;function kA(t,e,n,i){const s=t._endId=++Nj,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:h}=xj(t,e);if(!l)return i();const f=l+"end";let p=0;const v=()=>{t.removeEventListener(f,y),o()},y=b=>{b.target===t&&++p>=h&&v()};setTimeout(()=>{p<h&&v()},c+1),t.addEventListener(f,y)}function xj(t,e){const n=window.getComputedStyle(t),i=S=>(n[S]||"").split(", "),s=i(`${fs}Delay`),o=i(`${fs}Duration`),l=OA(s,o),c=i(`${Ju}Delay`),h=i(`${Ju}Duration`),f=OA(c,h);let p=null,v=0,y=0;e===fs?l>0&&(p=fs,v=l,y=o.length):e===Ju?f>0&&(p=Ju,v=f,y=h.length):(v=Math.max(l,f),p=v>0?l>f?fs:Ju:null,y=p?p===fs?o.length:h.length:0);const b=p===fs&&/\b(transform|all)(,|$)/.test(i(`${fs}Property`).toString());return{type:p,timeout:v,propCount:y,hasTransform:b}}function OA(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>NA(n)+NA(t[i])))}function NA(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Dj(){return document.body.offsetHeight}function Lj(t,e,n){const i=t[Jc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const X0=Symbol("_vod"),xA={beforeMount(t,{value:e},{transition:n}){t[X0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Xu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Xu(t,!0),i.enter(t)):i.leave(t,()=>{Xu(t,!1)}):Xu(t,e))},beforeUnmount(t,{value:e}){Xu(t,e)}};function Xu(t,e){t.style.display=e?t[X0]:"none"}function Mj(t,e,n){const i=t.style,s=Ut(n);if(n&&!s){if(e&&!Ut(e))for(const o in e)n[o]==null&&Hy(i,o,"");for(const o in n)Hy(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),X0 in t&&(i.display=o)}}const DA=/\s*!important$/;function Hy(t,e,n){if(Te(n))n.forEach(i=>Hy(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Vj(t,e);DA.test(n)?t.setProperty(Vl(i),n.replace(DA,""),"important"):t[i]=n}}const LA=["Webkit","Moz","ms"],Mv={};function Vj(t,e){const n=Mv[e];if(n)return n;let i=yr(e);if(i!=="filter"&&i in t)return Mv[e]=i;i=cm(i);for(let s=0;s<LA.length;s++){const o=LA[s]+i;if(o in t)return Mv[e]=o}return e}const MA="http://www.w3.org/1999/xlink";function Fj(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(MA,e.slice(6,e.length)):t.setAttributeNS(MA,e,n);else{const o=L6(e);n==null||o&&!h2(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Uj(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,p=n??"";f!==p&&(t.value=p),n==null&&t.removeAttribute(e);return}let h=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=h2(n):n==null&&f==="string"?(n="",h=!0):f==="number"&&(n=0,h=!0)}try{t[e]=n}catch{}h&&t.removeAttribute(e)}function yo(t,e,n,i){t.addEventListener(e,n,i)}function Bj(t,e,n,i){t.removeEventListener(e,n,i)}const VA=Symbol("_vei");function jj(t,e,n,i,s=null){const o=t[VA]||(t[VA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,h]=$j(e);if(i){const f=o[e]=Wj(i,s);yo(t,c,f,h)}else l&&(Bj(t,c,l,h),o[e]=void 0)}}const FA=/(?:Once|Passive|Capture)$/;function $j(t){let e;if(FA.test(t)){e={};let i;for(;i=t.match(FA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vl(t.slice(2)),e]}let Vv=0;const Hj=Promise.resolve(),qj=()=>Vv||(Hj.then(()=>Vv=0),Vv=Date.now());function Wj(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ti(Kj(i,n.value),e,5,[i])};return n.value=t,n.attached=qj(),n}function Kj(t,e){if(Te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const UA=/^on[a-z]/,zj=(t,e,n,i,s=!1,o,l,c,h)=>{e==="class"?Lj(t,i,s):e==="style"?Mj(t,n,i):am(e)?D0(e)||jj(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gj(t,e,i,s))?Uj(t,e,i,o,l,c,h):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Fj(t,e,i,s))};function Gj(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&UA.test(e)&&Me(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||UA.test(e)&&Ut(n)?!1:e in t}const op=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Te(e)?n=>wf(e,n):e};function Yj(t){t.target.composing=!0}function BA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const il=Symbol("_assign"),mn={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[il]=op(s);const o=i||s.props&&s.props.type==="number";yo(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=Xf(c)),t[il](c)}),n&&yo(t,"change",()=>{t.value=t.value.trim()}),e||(yo(t,"compositionstart",Yj),yo(t,"compositionend",BA),yo(t,"change",BA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[il]=op(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&Xf(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},Pq={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=lm(e);yo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?Xf(ap(l)):ap(l));t[il](t.multiple?s?new Set(o):o:o[0])}),t[il]=op(i)},mounted(t,{value:e}){jA(t,e)},beforeUpdate(t,e,n){t[il]=op(n)},updated(t,{value:e}){jA(t,e)}};function jA(t,e){const n=t.multiple;if(!(n&&!Te(e)&&!lm(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=ap(o);if(n)Te(e)?o.selected=V6(e,l)>-1:o.selected=e.has(l);else if(dm(ap(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ap(t){return"_value"in t?t._value:t.value}const Qj=on({patchProp:zj},Pj);let $A;function Jj(){return $A||($A=ij(Qj))}const Xj=(...t)=>{const e=Jj().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Zj(i);if(!s)return;const o=e._component;!Me(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Zj(t){return Ut(t)?document.querySelector(t):t}var e$=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ck;const Em=t=>ck=t,dk=Symbol();function qy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ic;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ic||(Ic={}));function t$(){const t=m2(!0),e=t.run(()=>le({}));let n=[],i=[];const s=fm({install(o){Em(s),s._a=o,o.provide(dk,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!e$?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const hk=()=>{};function HA(t,e,n,i=hk){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&g2()&&U6(s),s}function Ua(t,...e){t.slice().forEach(n=>{n(...e)})}const n$=t=>t();function Wy(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];qy(s)&&qy(i)&&t.hasOwnProperty(n)&&!St(i)&&!Mr(i)?t[n]=Wy(s,i):t[n]=i}return t}const i$=Symbol();function r$(t){return!qy(t)||!t.hasOwnProperty(i$)}const{assign:gs}=Object;function s$(t){return!!(St(t)&&t.effect)}function o$(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let h;function f(){c||(n.state.value[t]=s?s():{});const p=uB(n.state.value[t]);return gs(p,o,Object.keys(l||{}).reduce((v,y)=>(v[y]=fm(pe(()=>{Em(n);const b=n._s.get(t);return l[y].call(b,b)})),v),{}))}return h=fk(t,f,e,n,i,!0),h}function fk(t,e,n={},i,s,o){let l;const c=gs({actions:{}},n),h={deep:!0};let f,p,v=[],y=[],b;const S=i.state.value[t];!o&&!S&&(i.state.value[t]={}),le({});let _;function E(H){let ee;f=p=!1,typeof H=="function"?(H(i.state.value[t]),ee={type:Ic.patchFunction,storeId:t,events:b}):(Wy(i.state.value[t],H),ee={type:Ic.patchObject,payload:H,storeId:t,events:b});const ge=_=Symbol();Mi().then(()=>{_===ge&&(f=!0)}),p=!0,Ua(v,ee,i.state.value[t])}const I=o?function(){const{state:ee}=n,ge=ee?ee():{};this.$patch(oe=>{gs(oe,ge)})}:hk;function C(){l.stop(),v=[],y=[],i._s.delete(t)}function P(H,ee){return function(){Em(i);const ge=Array.from(arguments),oe=[],X=[];function se(D){oe.push(D)}function Ze(D){X.push(D)}Ua(y,{args:ge,name:H,store:V,after:se,onError:Ze});let Se;try{Se=ee.apply(this&&this.$id===t?this:V,ge)}catch(D){throw Ua(X,D),D}return Se instanceof Promise?Se.then(D=>(Ua(oe,D),D)).catch(D=>(Ua(X,D),Promise.reject(D))):(Ua(oe,Se),Se)}}const O={_p:i,$id:t,$onAction:HA.bind(null,y),$patch:E,$reset:I,$subscribe(H,ee={}){const ge=HA(v,H,ee.detached,()=>oe()),oe=l.run(()=>gi(()=>i.state.value[t],X=>{(ee.flush==="sync"?p:f)&&H({storeId:t,type:Ic.direct,events:b},X)},gs({},h,ee)));return ge},$dispose:C},V=ni(O);i._s.set(t,V);const ne=(i._a&&i._a.runWithContext||n$)(()=>i._e.run(()=>(l=m2()).run(e)));for(const H in ne){const ee=ne[H];if(St(ee)&&!s$(ee)||Mr(ee))o||(S&&r$(ee)&&(St(ee)?ee.value=S[H]:Wy(ee,S[H])),i.state.value[t][H]=ee);else if(typeof ee=="function"){const ge=P(H,ee);ne[H]=ge,c.actions[H]=ee}}return gs(V,ne),gs(Oe(V),ne),Object.defineProperty(V,"$state",{get:()=>i.state.value[t],set:H=>{E(ee=>{gs(ee,H)})}}),i._p.forEach(H=>{gs(V,l.run(()=>H({store:V,app:i._a,pinia:i,options:c})))}),S&&o&&n.hydrate&&n.hydrate(V.$state,S),f=!0,p=!0,V}function pk(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,h){const f=JB();return c=c||(f?Tt(dk,null):null),c&&Em(c),c=ck,c._s.has(i)||(o?fk(i,e,s,c):o$(i,s,c)),c._s.get(i)}return l.$id=i,l}function si(t){{t=Oe(t);const e={};for(const n in t){const i=t[n];(St(i)||Mr(i))&&(e[n]=hB(t,n))}return e}}function a$(){return console.log("createUserProfileCallable"),_r(Wi(void 0,"northamerica-northeast1"),"createUserProfile")}function l$(){return console.log("createAdCallable"),_r(Wi(void 0,"northamerica-northeast1"),"createAd")}function u$(){return console.log("removeAdCallable"),_r(Wi(void 0,"northamerica-northeast1"),"removeAd")}function c$(){return console.log("editAdCallable"),_r(Wi(void 0,"northamerica-northeast1"),"editAd")}function d$(){return console.log("postAdCallable"),_r(Wi(void 0,"northamerica-northeast1"),"postAd")}function h$(){return console.log("placeBidCallable"),_r(Wi(void 0,"northamerica-northeast1"),"placeBid")}function f$(){return console.log("cancelBidCallable"),_r(Wi(void 0,"northamerica-northeast1"),"cancelBid")}function kq(){return console.log("createTransactionCallable"),_r(Wi(void 0,"northamerica-northeast1"),"createTransaction")}function p$(){return console.log("createEscrowAccountCallable"),_r(Wi(void 0,"northamerica-northeast1"),"createEscrowAccount")}function m$(){return console.log("linkEscrowAccountCallable"),_r(Wi(void 0,"northamerica-northeast1"),"linkEscrowAccount")}const vn=pk("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=le(null),o=le(!1),l=le(null),c=D=>{s.value=D},h=D=>{console.log("setNewUser",D),o.value=D},f=async D=>{let L=null;if(o.value)console.log("Profile setup mounted for new user"),L=await v(D),y(D);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(L=await Py("users",s.value.uid),y(D),!L)throw new Error("continueSignup No profile")}y(L)},p=a$(),v=async D=>{try{console.log("createUser start",D),console.log("createUserProfile",p);const L=await p({...D});return console.log("createUser res",L),L}catch(L){throw console.log("createUser error",L),new Error(L)}},y=D=>{if(console.log("setProfile",D),!D)throw new Error("No profile");l.value=D},b=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const D=await Py("users",s.value.uid);l.value=D},S=l$(),_=async D=>{try{console.log("createUserAd start",D),console.log("createAd",S);const L=await S({...D});return console.log("createUserAd res",L),L}catch(L){throw console.log("createUserAd error",L),new Error(L)}},E=d$(),I=async D=>{try{console.log("postAd start",D),console.log("createAd",S);const L=await E({adId:D});return console.log("postAd res",L),L}catch(L){throw console.log("postAd error",L),new Error(L)}},C=u$(),P=async D=>{try{console.log("removeUserAd start",D),console.log("createAd",S);const L=await C({adId:D});return console.log("removeUserAd res",L),L}catch(L){throw console.log("removeUserAd error",L),new Error(L)}},O=c$(),V=async D=>{try{console.log("editUserAd start",D),console.log("editUserAd",O);const L=await O({...D});return console.log("editUserAd res",L),L}catch(L){throw console.log("editUserAd error",L),new Error(L)}},G=async()=>{const D=PR();console.log("signout"),await D.signOut(),c(null),y(null)},ne=h$(),H=async D=>{console.log("placeBid",D);try{console.log("placeBid start",D),console.log("placeBid",ne);const L=await ne(D);return console.log("placeBid res",L),L}catch(L){throw console.log("placeBid error",L),new Error(L)}},ee=f$(),ge=async D=>{try{console.log("cancelBid start",D),console.log("cancelBid",ee);const L=await ee({bidId:D});return console.log("cancelBid res",L),L}catch(L){throw console.log("cancelBid error",L),new Error(L)}},oe=p$(),X=async D=>{try{console.log("createEscrowUserAccount start"),console.log("createEscrowAccount",oe);const L=await oe(D);return console.log("createEscrowUserAccount res",L),L}catch(L){throw console.log("createEscrowUserAccount error",L),new Error(L)}},se=m$();return{user:s,setUser:c,createUser:v,getProfile:b,setProfile:y,setNewUser:h,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:_,postNewAd:I,signout:G,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:H,cancelUserBid:ge,removeUserAd:P,editUserAd:V,CLAUSE_STATUSES:i,createEscrowUserAccount:X,linkEscrowUserAccount:async D=>{try{console.log("linkEscrowUserAccount start"),console.log("createEscrowAccount",oe);const L=await se(D);return console.log("linkEscrowUserAccount res",L),L}catch(L){throw console.log("linkEscrowUserAccount error",L),new Error(L)}},getProduce:async()=>(console.log("getProduce"),await E6("produce"))}}),g$="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ha=typeof window<"u";function v$(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ct=Object.assign;function Fv(t,e){const n={};for(const i in e){const s=e[i];n[i]=Hi(s)?s.map(t):t(s)}return n}const Tc=()=>{},Hi=Array.isArray,y$=/\/$/,_$=t=>t.replace(y$,"");function Uv(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let h=e.indexOf("?");return c<h&&c>=0&&(h=-1),h>-1&&(i=e.slice(0,h),o=e.slice(h+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=I$(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function w$(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function qA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function b$(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Tl(e.matched[i],n.matched[s])&&mk(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Tl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!E$(t[n],e[n]))return!1;return!0}function E$(t,e){return Hi(t)?WA(t,e):Hi(e)?WA(e,t):t===e}function WA(t,e){return Hi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function I$(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var Xc;(function(t){t.pop="pop",t.push="push"})(Xc||(Xc={}));var Ac;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ac||(Ac={}));function T$(t){if(!t)if(Ha){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_$(t)}const A$=/^[^#]+#/;function S$(t,e){return t.replace(A$,"#")+e}function R$(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Im=()=>({left:window.pageXOffset,top:window.pageYOffset});function C$(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=R$(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function KA(t,e){return(history.state?history.state.position-e:-1)+t}const Ky=new Map;function P$(t,e){Ky.set(t,e)}function k$(t){const e=Ky.get(t);return Ky.delete(t),e}let O$=()=>location.protocol+"//"+location.host;function gk(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,h=s.slice(c);return h[0]!=="/"&&(h="/"+h),qA(h,"")}return qA(n,t)+i+s}function N$(t,e,n,i){let s=[],o=[],l=null;const c=({state:y})=>{const b=gk(t,location),S=n.value,_=e.value;let E=0;if(y){if(n.value=b,e.value=y,l&&l===S){l=null;return}E=_?y.position-_.position:0}else i(b);s.forEach(I=>{I(n.value,S,{delta:E,type:Xc.pop,direction:E?E>0?Ac.forward:Ac.back:Ac.unknown})})};function h(){l=n.value}function f(y){s.push(y);const b=()=>{const S=s.indexOf(y);S>-1&&s.splice(S,1)};return o.push(b),b}function p(){const{history:y}=window;y.state&&y.replaceState(ct({},y.state,{scroll:Im()}),"")}function v(){for(const y of o)y();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:h,listen:f,destroy:v}}function zA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Im():null}}function x$(t){const{history:e,location:n}=window,i={value:gk(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(h,f,p){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+h:O$()+t+h;try{e[p?"replaceState":"pushState"](f,"",y),s.value=f}catch(b){console.error(b),n[p?"replace":"assign"](y)}}function l(h,f){const p=ct({},e.state,zA(s.value.back,h,s.value.forward,!0),f,{position:s.value.position});o(h,p,!0),i.value=h}function c(h,f){const p=ct({},s.value,e.state,{forward:h,scroll:Im()});o(p.current,p,!0);const v=ct({},zA(i.value,h,null),{position:p.position+1},f);o(h,v,!1),i.value=h}return{location:i,state:s,push:c,replace:l}}function D$(t){t=T$(t);const e=x$(t),n=N$(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=ct({location:"",base:t,go:i,createHref:S$.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function L$(t){return typeof t=="string"||t&&typeof t=="object"}function vk(t){return typeof t=="string"||typeof t=="symbol"}const ms={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yk=Symbol("");var GA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(GA||(GA={}));function Al(t,e){return ct(new Error,{type:t,[yk]:!0},e)}function Rr(t,e){return t instanceof Error&&yk in t&&(e==null||!!(t.type&e))}const YA="[^/]+?",M$={sensitive:!1,strict:!1,start:!0,end:!0},V$=/[.+*?^${}()[\]/\\]/g;function F$(t,e){const n=ct({},M$,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const y=f[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(s+="/"),s+=y.value.replace(V$,"\\$&"),b+=40;else if(y.type===1){const{value:S,repeatable:_,optional:E,regexp:I}=y;o.push({name:S,repeatable:_,optional:E});const C=I||YA;if(C!==YA){b+=10;try{new RegExp(`(${C})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${S}" (${C}): `+O.message)}}let P=_?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;v||(P=E&&f.length<2?`(?:/${P})`:"/"+P),E&&(P+="?"),s+=P,b+=20,E&&(b+=-8),_&&(b+=-20),C===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(l),v={};if(!p)return null;for(let y=1;y<p.length;y++){const b=p[y]||"",S=o[y-1];v[S.name]=b&&S.repeatable?b.split("/"):b}return v}function h(f){let p="",v=!1;for(const y of t){(!v||!p.endsWith("/"))&&(p+="/"),v=!1;for(const b of y)if(b.type===0)p+=b.value;else if(b.type===1){const{value:S,repeatable:_,optional:E}=b,I=S in f?f[S]:"";if(Hi(I)&&!_)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const C=Hi(I)?I.join("/"):I;if(!C)if(E)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):v=!0);else throw new Error(`Missing required param "${S}"`);p+=C}}return p||"/"}return{re:l,score:i,keys:o,parse:c,stringify:h}}function U$(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function B$(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=U$(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(QA(i))return 1;if(QA(s))return-1}return s.length-i.length}function QA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const j$={type:0,value:""},$$=/[a-zA-Z0-9_]/;function H$(t){if(!t)return[[]];if(t==="/")return[[j$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${f}": ${b}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,h,f="",p="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:p,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),f="")}function y(){f+=h}for(;c<t.length;){if(h=t[c++],h==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:h==="/"?(f&&v(),l()):h===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:h==="("?n=2:$$.test(h)?y():(v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--);break;case 2:h===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+h:n=3:p+=h;break;case 3:v(),n=0,h!=="*"&&h!=="?"&&h!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function q$(t,e,n){const i=F$(H$(t.path),n),s=ct(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function W$(t,e){const n=[],i=new Map;e=ZA({strict:!1,end:!0,sensitive:!1},e);function s(p){return i.get(p)}function o(p,v,y){const b=!y,S=K$(p);S.aliasOf=y&&y.record;const _=ZA(e,p),E=[S];if("alias"in p){const P=typeof p.alias=="string"?[p.alias]:p.alias;for(const O of P)E.push(ct({},S,{components:y?y.record.components:S.components,path:O,aliasOf:y?y.record:S}))}let I,C;for(const P of E){const{path:O}=P;if(v&&O[0]!=="/"){const V=v.record.path,G=V[V.length-1]==="/"?"":"/";P.path=v.record.path+(O&&G+O)}if(I=q$(P,v,_),y?y.alias.push(I):(C=C||I,C!==I&&C.alias.push(I),b&&p.name&&!XA(I)&&l(p.name)),S.children){const V=S.children;for(let G=0;G<V.length;G++)o(V[G],I,y&&y.children[G])}y=y||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&h(I)}return C?()=>{l(C)}:Tc}function l(p){if(vk(p)){const v=i.get(p);v&&(i.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&i.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function h(p){let v=0;for(;v<n.length&&B$(p,n[v])>=0&&(p.record.path!==n[v].record.path||!_k(p,n[v]));)v++;n.splice(v,0,p),p.record.name&&!XA(p)&&i.set(p.record.name,p)}function f(p,v){let y,b={},S,_;if("name"in p&&p.name){if(y=i.get(p.name),!y)throw Al(1,{location:p});_=y.record.name,b=ct(JA(v.params,y.keys.filter(C=>!C.optional).map(C=>C.name)),p.params&&JA(p.params,y.keys.map(C=>C.name))),S=y.stringify(b)}else if("path"in p)S=p.path,y=n.find(C=>C.re.test(S)),y&&(b=y.parse(S),_=y.record.name);else{if(y=v.name?i.get(v.name):n.find(C=>C.re.test(v.path)),!y)throw Al(1,{location:p,currentLocation:v});_=y.record.name,b=ct({},v.params,p.params),S=y.stringify(b)}const E=[];let I=y;for(;I;)E.unshift(I.record),I=I.parent;return{name:_,path:S,params:b,matched:E,meta:G$(E)}}return t.forEach(p=>o(p)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function JA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function K$(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:z$(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function z$(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function XA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function G$(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function ZA(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function _k(t,e){return e.children.some(n=>n===t||_k(t,n))}const wk=/#/g,Y$=/&/g,Q$=/\//g,J$=/=/g,X$=/\?/g,bk=/\+/g,Z$=/%5B/g,e7=/%5D/g,Ek=/%5E/g,t7=/%60/g,Ik=/%7B/g,n7=/%7C/g,Tk=/%7D/g,i7=/%20/g;function Z0(t){return encodeURI(""+t).replace(n7,"|").replace(Z$,"[").replace(e7,"]")}function r7(t){return Z0(t).replace(Ik,"{").replace(Tk,"}").replace(Ek,"^")}function zy(t){return Z0(t).replace(bk,"%2B").replace(i7,"+").replace(wk,"%23").replace(Y$,"%26").replace(t7,"`").replace(Ik,"{").replace(Tk,"}").replace(Ek,"^")}function s7(t){return zy(t).replace(J$,"%3D")}function o7(t){return Z0(t).replace(wk,"%23").replace(X$,"%3F")}function a7(t){return t==null?"":o7(t).replace(Q$,"%2F")}function lp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function l7(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(bk," "),l=o.indexOf("="),c=lp(l<0?o:o.slice(0,l)),h=l<0?null:lp(o.slice(l+1));if(c in e){let f=e[c];Hi(f)||(f=e[c]=[f]),f.push(h)}else e[c]=h}return e}function eS(t){let e="";for(let n in t){const i=t[n];if(n=s7(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Hi(i)?i.map(o=>o&&zy(o)):[i&&zy(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function u7(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Hi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const c7=Symbol(""),tS=Symbol(""),Tm=Symbol(""),Ak=Symbol(""),Gy=Symbol("");function Zu(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function _s(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=v=>{v===!1?c(Al(4,{from:n,to:e})):v instanceof Error?c(v):L$(v)?c(Al(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,h);let p=Promise.resolve(f);t.length<3&&(p=p.then(h)),p.catch(v=>c(v))})}function Bv(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(d7(c)){const f=(c.__vccOpts||c)[e];f&&s.push(_s(f,n,i,o,l))}else{let h=c();s.push(()=>h.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const p=v$(f)?f.default:f;o.components[l]=p;const y=(p.__vccOpts||p)[e];return y&&_s(y,n,i,o,l)()}))}}return s}function d7(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nS(t){const e=Tt(Tm),n=Tt(Ak),i=pe(()=>e.resolve(W(t.to))),s=pe(()=>{const{matched:h}=i.value,{length:f}=h,p=h[f-1],v=n.matched;if(!p||!v.length)return-1;const y=v.findIndex(Tl.bind(null,p));if(y>-1)return y;const b=iS(h[f-2]);return f>1&&iS(p)===b&&v[v.length-1].path!==b?v.findIndex(Tl.bind(null,h[f-2])):y}),o=pe(()=>s.value>-1&&p7(n.params,i.value.params)),l=pe(()=>s.value>-1&&s.value===n.matched.length-1&&mk(n.params,i.value.params));function c(h={}){return f7(h)?e[W(t.replace)?"replace":"push"](W(t.to)).catch(Tc):Promise.resolve()}return{route:i,href:pe(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const h7=Ye({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nS,setup(t,{slots:e}){const n=ni(nS(t)),{options:i}=Tt(Tm),s=pe(()=>({[rS(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[rS(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Gt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),po=h7;function f7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function p7(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Hi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function iS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const rS=(t,e,n)=>t??e??n,m7=Ye({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Tt(Gy),s=pe(()=>t.route||i.value),o=Tt(tS,0),l=pe(()=>{let f=W(o);const{matched:p}=s.value;let v;for(;(v=p[f])&&!v.components;)f++;return f}),c=pe(()=>s.value.matched[l.value]);Yn(tS,pe(()=>l.value+1)),Yn(c7,c),Yn(Gy,s);const h=le();return gi(()=>[h.value,c.value,t.name],([f,p,v],[y,b,S])=>{p&&(p.instances[v]=f,b&&b!==p&&f&&f===y&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),f&&p&&(!b||!Tl(p,b)||!y)&&(p.enterCallbacks[v]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,v=c.value,y=v&&v.components[p];if(!y)return sS(n.default,{Component:y,route:f});const b=v.props[p],S=b?b===!0?f.params:typeof b=="function"?b(f):b:null,E=Gt(y,ct({},S,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(v.instances[p]=null)},ref:h}));return sS(n.default,{Component:E,route:f})||E}}});function sS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Sk=m7;function g7(t){const e=W$(t.routes,t),n=t.parseQuery||l7,i=t.stringifyQuery||eS,s=t.history,o=Zu(),l=Zu(),c=Zu(),h=N2(ms);let f=ms;Ha&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Fv.bind(null,M=>""+M),v=Fv.bind(null,a7),y=Fv.bind(null,lp);function b(M,ue){let Z,_e;return vk(M)?(Z=e.getRecordMatcher(M),_e=ue):_e=M,e.addRoute(_e,Z)}function S(M){const ue=e.getRecordMatcher(M);ue&&e.removeRoute(ue)}function _(){return e.getRoutes().map(M=>M.record)}function E(M){return!!e.getRecordMatcher(M)}function I(M,ue){if(ue=ct({},ue||h.value),typeof M=="string"){const k=Uv(n,M,ue.path),x=e.resolve({path:k.path},ue),B=s.createHref(k.fullPath);return ct(k,x,{params:y(x.params),hash:lp(k.hash),redirectedFrom:void 0,href:B})}let Z;if("path"in M)Z=ct({},M,{path:Uv(n,M.path,ue.path).path});else{const k=ct({},M.params);for(const x in k)k[x]==null&&delete k[x];Z=ct({},M,{params:v(k)}),ue.params=v(ue.params)}const _e=e.resolve(Z,ue),et=M.hash||"";_e.params=p(y(_e.params));const A=w$(i,ct({},M,{hash:r7(et),path:_e.path})),R=s.createHref(A);return ct({fullPath:A,hash:et,query:i===eS?u7(M.query):M.query||{}},_e,{redirectedFrom:void 0,href:R})}function C(M){return typeof M=="string"?Uv(n,M,h.value.path):ct({},M)}function P(M,ue){if(f!==M)return Al(8,{from:ue,to:M})}function O(M){return ne(M)}function V(M){return O(ct(C(M),{replace:!0}))}function G(M){const ue=M.matched[M.matched.length-1];if(ue&&ue.redirect){const{redirect:Z}=ue;let _e=typeof Z=="function"?Z(M):Z;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=C(_e):{path:_e},_e.params={}),ct({query:M.query,hash:M.hash,params:"path"in _e?{}:M.params},_e)}}function ne(M,ue){const Z=f=I(M),_e=h.value,et=M.state,A=M.force,R=M.replace===!0,k=G(Z);if(k)return ne(ct(C(k),{state:typeof k=="object"?ct({},et,k.state):et,force:A,replace:R}),ue||Z);const x=Z;x.redirectedFrom=ue;let B;return!A&&b$(i,_e,Z)&&(B=Al(16,{to:x,from:_e}),an(_e,_e,!0,!1)),(B?Promise.resolve(B):ge(x,_e)).catch(q=>Rr(q)?Rr(q,2)?q:rt(q):Ae(q,x,_e)).then(q=>{if(q){if(Rr(q,2))return ne(ct({replace:R},C(q.to),{state:typeof q.to=="object"?ct({},et,q.to.state):et,force:A}),ue||x)}else q=X(x,_e,!0,R,et);return oe(x,_e,q),q})}function H(M,ue){const Z=P(M,ue);return Z?Promise.reject(Z):Promise.resolve()}function ee(M){const ue=Gi.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(M):M()}function ge(M,ue){let Z;const[_e,et,A]=v7(M,ue);Z=Bv(_e.reverse(),"beforeRouteLeave",M,ue);for(const k of _e)k.leaveGuards.forEach(x=>{Z.push(_s(x,M,ue))});const R=H.bind(null,M,ue);return Z.push(R),ln(Z).then(()=>{Z=[];for(const k of o.list())Z.push(_s(k,M,ue));return Z.push(R),ln(Z)}).then(()=>{Z=Bv(et,"beforeRouteUpdate",M,ue);for(const k of et)k.updateGuards.forEach(x=>{Z.push(_s(x,M,ue))});return Z.push(R),ln(Z)}).then(()=>{Z=[];for(const k of A)if(k.beforeEnter)if(Hi(k.beforeEnter))for(const x of k.beforeEnter)Z.push(_s(x,M,ue));else Z.push(_s(k.beforeEnter,M,ue));return Z.push(R),ln(Z)}).then(()=>(M.matched.forEach(k=>k.enterCallbacks={}),Z=Bv(A,"beforeRouteEnter",M,ue),Z.push(R),ln(Z))).then(()=>{Z=[];for(const k of l.list())Z.push(_s(k,M,ue));return Z.push(R),ln(Z)}).catch(k=>Rr(k,8)?k:Promise.reject(k))}function oe(M,ue,Z){c.list().forEach(_e=>ee(()=>_e(M,ue,Z)))}function X(M,ue,Z,_e,et){const A=P(M,ue);if(A)return A;const R=ue===ms,k=Ha?history.state:{};Z&&(_e||R?s.replace(M.fullPath,ct({scroll:R&&k&&k.scroll},et)):s.push(M.fullPath,et)),h.value=M,an(M,ue,Z,R),rt()}let se;function Ze(){se||(se=s.listen((M,ue,Z)=>{if(!Jo.listening)return;const _e=I(M),et=G(_e);if(et){ne(ct(et,{replace:!0}),_e).catch(Tc);return}f=_e;const A=h.value;Ha&&P$(KA(A.fullPath,Z.delta),Im()),ge(_e,A).catch(R=>Rr(R,12)?R:Rr(R,2)?(ne(R.to,_e).then(k=>{Rr(k,20)&&!Z.delta&&Z.type===Xc.pop&&s.go(-1,!1)}).catch(Tc),Promise.reject()):(Z.delta&&s.go(-Z.delta,!1),Ae(R,_e,A))).then(R=>{R=R||X(_e,A,!1),R&&(Z.delta&&!Rr(R,8)?s.go(-Z.delta,!1):Z.type===Xc.pop&&Rr(R,20)&&s.go(-1,!1)),oe(_e,A,R)}).catch(Tc)}))}let Se=Zu(),D=Zu(),L;function Ae(M,ue,Z){rt(M);const _e=D.list();return _e.length?_e.forEach(et=>et(M,ue,Z)):console.error(M),Promise.reject(M)}function _t(){return L&&h.value!==ms?Promise.resolve():new Promise((M,ue)=>{Se.add([M,ue])})}function rt(M){return L||(L=!M,Ze(),Se.list().forEach(([ue,Z])=>M?Z(M):ue()),Se.reset()),M}function an(M,ue,Z,_e){const{scrollBehavior:et}=t;if(!Ha||!et)return Promise.resolve();const A=!Z&&k$(KA(M.fullPath,0))||(_e||!Z)&&history.state&&history.state.scroll||null;return Mi().then(()=>et(M,ue,A)).then(R=>R&&C$(R)).catch(R=>Ae(R,M,ue))}const st=M=>s.go(M);let zi;const Gi=new Set,Jo={currentRoute:h,listening:!0,addRoute:b,removeRoute:S,hasRoute:E,getRoutes:_,resolve:I,options:t,push:O,replace:V,go:st,back:()=>st(-1),forward:()=>st(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:D.add,isReady:_t,install(M){const ue=this;M.component("RouterLink",po),M.component("RouterView",Sk),M.config.globalProperties.$router=ue,Object.defineProperty(M.config.globalProperties,"$route",{enumerable:!0,get:()=>W(h)}),Ha&&!zi&&h.value===ms&&(zi=!0,O(s.location).catch(et=>{}));const Z={};for(const et in ms)Object.defineProperty(Z,et,{get:()=>h.value[et],enumerable:!0});M.provide(Tm,ue),M.provide(Ak,R2(Z)),M.provide(Gy,h);const _e=M.unmount;Gi.add(M),M.unmount=function(){Gi.delete(M),Gi.size<1&&(f=ms,se&&se(),se=null,h.value=ms,zi=!1,L=!1),_e()}}};function ln(M){return M.reduce((ue,Z)=>ue.then(()=>ee(Z)),Promise.resolve())}return Jo}function v7(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>Tl(f,c))?i.push(c):n.push(c));const h=t.matched[l];h&&(e.matched.find(f=>Tl(f,h))||s.push(h))}return[n,i,s]}function Rk(){return Tt(Tm)}const Vi=pk("ModalStore",()=>{const t=ni({addjob:!1,addad:!1,addbid:!1,editad:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=ni({show:!1,message:"",type:"",context:{}}),i=ni({show:!1,message:"",type:"",context:{}});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}}}}),y7={key:0},_7=Ye({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(ye(),it("div",y7,[$("div",{class:An(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):ht("",!0)}});const w7=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},b7=w7(_7,[["__scopeId","data-v-634cf170"]]),Ad=Ye({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(ye(),it("button",{class:An(t.classes),onClick:i,style:{height:"40px",display:"flex","align-items":"center","justify-content":"center"}},[be(b7,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?ht("",!0):Y2(s.$slots,"default",{key:0})],2))}});function yn(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,yn),i}var Sl=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Sl||{}),Ts=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ts||{});function Qn({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=Pk(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return jv(c);if(e&1){let h=(o=l.unmount)==null||o?0:1;return yn(h,{0(){return null},1(){return jv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return jv(c)}function jv({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...h}=ew(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),p={};if(i){let v=!1,y=[];for(let[b,S]of Object.entries(i))typeof S=="boolean"&&(v=!0),S===!0&&y.push(b);v&&(p["data-headlessui-state"]=y.join(" "))}if(c==="template"){if(f=Ck(f??[]),Object.keys(h).length>0||Object.keys(e).length>0){let[v,...y]=f??[];if(!I7(v)||y.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(h).concat(Object.keys(e)).map(_=>_.trim()).filter((_,E,I)=>I.indexOf(_)===E).sort((_,E)=>_.localeCompare(E)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let b=Pk((l=v.props)!=null?l:{},h),S=Hr(v,b);for(let _ in b)_.startsWith("on")&&(S.props||(S.props={}),S.props[_]=b[_]);return S}return Array.isArray(f)&&f.length===1?f[0]:f}return Gt(c,Object.assign({},h,p),{default:()=>f})}function Ck(t){return t.flatMap(e=>e.type===yt?Ck(e.children):[e])}function Pk(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function E7(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ew(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function I7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let T7=0;function A7(){return++T7}function $s(){return A7()}var nn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(nn||{});function S7(t){throw new Error("Unexpected object: "+t)}var Wn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Wn||{});function R7(t,e){let n=e.resolveItems();if(n.length<=0)return null;let i=e.resolveActiveIndex(),s=i??-1,o=(()=>{switch(t.focus){case 0:return n.findIndex(l=>!e.resolveDisabled(l));case 1:{let l=n.slice().reverse().findIndex((c,h,f)=>s!==-1&&f.length-h-1>=s?!1:!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 2:return n.findIndex((l,c)=>c<=s?!1:!e.resolveDisabled(l));case 3:{let l=n.slice().reverse().findIndex(c=>!e.resolveDisabled(c));return l===-1?l:n.length-1-l}case 4:return n.findIndex(l=>e.resolveId(l)===t.id);case 5:return null;default:S7(t)}})();return o===-1?i:o}function je(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let kk=Symbol("Context");var Sn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Sn||{});function C7(){return Am()!==null}function Am(){return Tt(kk,null)}function Ok(t){Yn(kk,t)}function oS(t,e){if(t)return t;let n=e??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function P7(t,e){let n=le(oS(t.value.type,t.value.as));return xt(()=>{n.value=oS(t.value.type,t.value.as)}),yi(()=>{var i;n.value||je(e)&&je(e)instanceof HTMLButtonElement&&!((i=je(e))!=null&&i.hasAttribute("type"))&&(n.value="button")}),n}var k7=Object.defineProperty,O7=(t,e,n)=>e in t?k7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aS=(t,e,n)=>(O7(t,typeof e!="symbol"?e+"":e,n),n);class N7{constructor(){aS(this,"current",this.detect()),aS(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Sd=new N7;function Bl(t){if(Sd.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=je(t);if(e)return e.ownerDocument}return document}let Yy=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ws=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ws||{}),Nk=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Nk||{}),x7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(x7||{});function D7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Yy)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var tw=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(tw||{});function xk(t,e=0){var n;return t===((n=Bl(t))==null?void 0:n.body)?!1:yn(e,{0(){return t.matches(Yy)},1(){let i=t;for(;i!==null;){if(i.matches(Yy))return!0;i=i.parentElement}return!1}})}var L7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(L7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xo(t){t==null||t.focus({preventScroll:!0})}let M7=["textarea","input"].join(",");function V7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,M7))!=null?n:!1}function Dk(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ef(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?Dk(t):t:D7(t);s.length>0&&c.length>1&&(c=c.filter(S=>!s.includes(S))),i=i??l.activeElement;let h=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=e&32?{preventScroll:!0}:{},v=0,y=c.length,b;do{if(v>=y||v+y<=0)return 0;let S=f+v;if(e&16)S=(S+y)%y;else{if(S<0)return 3;if(S>=y)return 1}b=c[S],b==null||b.focus(p),v+=h}while(b!==l.activeElement);return e&6&&V7(b)&&b.select(),2}function af(t,e,n){Sd.isServer||yi(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function Lk(t,e,n){Sd.isServer||yi(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function Mk(t,e,n=pe(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let h=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of h){if(f===null)continue;let p=f instanceof HTMLElement?f:je(f);if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!xk(c,tw.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=le(null);af("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),af("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),af("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),af("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Lk("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Zc=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Zc||{});let up=Ye({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Qn({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function Vk(t={},e=null,n=[]){for(let[i,s]of Object.entries(t))Uk(n,Fk(e,i),s);return n}function Fk(t,e){return t?t+"["+e+"]":e}function Uk(t,e,n){if(Array.isArray(n))for(let[i,s]of n.entries())Uk(t,Fk(e,i.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):Vk(n,e,t)}function F7(t,e,n){let i=le(n==null?void 0:n.value),s=pe(()=>t.value!==void 0);return[pe(()=>s.value?t.value:i.value),function(o){return s.value||(i.value=o),e==null?void 0:e(o)}]}function lS(t){return[t.screenX,t.screenY]}function U7(){let t=le([-1,-1]);return{wasMoved(e){let n=lS(e);return t.value[0]===n[0]&&t.value[1]===n[1]?!1:(t.value=n,!0)},update(e){t.value=lS(e)}}}function B7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nw(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Rd(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return nw(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=Rd();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var dc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(dc||{});function j7(){let t=le(0);return Lk("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Bk(t,e,n,i){Sd.isServer||yi(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function $7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function jk(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=je(n);i instanceof HTMLElement&&e.add(i)}return e}var $k=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))($k||{});let ec=Object.assign(Ye({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:le(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=le(null);i({el:s,$el:s});let o=pe(()=>Bl(s)),l=le(!1);xt(()=>l.value=!0),ri(()=>l.value=!1),q7({ownerDocument:o},pe(()=>l.value&&!!(t.features&16)));let c=W7({ownerDocument:o,container:s,initialFocus:pe(()=>t.initialFocus)},pe(()=>l.value&&!!(t.features&2)));K7({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},pe(()=>l.value&&!!(t.features&8)));let h=j7();function f(b){let S=je(s);S&&(_=>_())(()=>{yn(h.value,{[dc.Forwards]:()=>{Ef(S,ws.First,{skipElements:[b.relatedTarget]})},[dc.Backwards]:()=>{Ef(S,ws.Last,{skipElements:[b.relatedTarget]})}})})}let p=le(!1);function v(b){b.key==="Tab"&&(p.value=!0,requestAnimationFrame(()=>{p.value=!1}))}function y(b){if(!l.value)return;let S=jk(t.containers);je(s)instanceof HTMLElement&&S.add(je(s));let _=b.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(Hk(S,_)||(p.value?Ef(je(s),yn(h.value,{[dc.Forwards]:()=>ws.Next,[dc.Backwards]:()=>ws.Previous})|ws.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&xo(b.target)))}return()=>{let b={},S={ref:s,onKeydown:v,onFocusout:y},{features:_,initialFocus:E,containers:I,...C}=t;return Gt(yt,[!!(_&4)&&Gt(up,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Zc.Focusable}),Qn({ourProps:S,theirProps:{...e,...C},slot:b,attrs:e,slots:n,name:"FocusTrap"}),!!(_&4)&&Gt(up,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Zc.Focusable})])}}}),{features:$k}),_o=[];$7(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&_o[0]!==e.target&&(_o.unshift(e.target),_o=_o.filter(n=>n!=null&&n.isConnected),_o.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function H7(t){let e=le(_o.slice());return gi([t],([n],[i])=>{i===!0&&n===!1?nw(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=_o.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function q7({ownerDocument:t},e){let n=H7(e);xt(()=>{yi(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&xo(n())},{flush:"post"})}),ri(()=>{e.value&&xo(n())})}function W7({ownerDocument:t,container:e,initialFocus:n},i){let s=le(null),o=le(!1);return xt(()=>o.value=!0),ri(()=>o.value=!1),xt(()=>{gi([e,n,i],(l,c)=>{if(l.every((f,p)=>(c==null?void 0:c[p])===f)||!i.value)return;let h=je(e);h&&nw(()=>{var f,p;if(!o.value)return;let v=je(n),y=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===y){s.value=y;return}}else if(h.contains(y)){s.value=y;return}v?xo(v):Ef(h,ws.First|ws.NoScroll)===Nk.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(p=t.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),s}function K7({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;Bk((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=jk(n);je(e)instanceof HTMLElement&&c.add(je(e));let h=i.value;if(!h)return;let f=l.target;f&&f instanceof HTMLElement?Hk(c,f)?(i.value=f,xo(f)):(l.preventDefault(),l.stopPropagation(),xo(h)):xo(i.value)},!0)}function Hk(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let $v=new Map,tc=new Map;function uS(t,e=le(!0)){yi(n=>{var i;if(!e.value)return;let s=je(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=tc.get(s))!=null?l:1;if(c===1?tc.delete(s):tc.set(s,c-1),c!==1)return;let h=$v.get(s);h&&(h["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",h["aria-hidden"]),s.inert=h.inert,$v.delete(s))});let o=(i=tc.get(s))!=null?i:0;tc.set(s,o+1),o===0&&($v.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let qk=Symbol("ForcePortalRootContext");function z7(){return Tt(qk,!1)}let cS=Ye({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Yn(qk,t.force),()=>{let{force:i,...s}=t;return Qn({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function G7(t){let e=Bl(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let Y7=Ye({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=le(null),s=pe(()=>Bl(i)),o=z7(),l=Tt(Wk,null),c=le(o===!0||l==null?G7(i.value):l.resolveTarget());yi(()=>{o||l!=null&&(c.value=l.resolveTarget())});let h=Tt(Qy,null);return xt(()=>{let f=je(i);f&&h&&ri(h.register(f))}),ri(()=>{var f,p;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((p=c.value.parentElement)==null||p.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return Gt(cj,{to:c.value},Qn({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Qy=Symbol("PortalParentContext");function Q7(){let t=Tt(Qy,null),e=le([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,Ye({name:"PortalWrapper",setup(o,{slots:l}){return Yn(Qy,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let Wk=Symbol("PortalGroupContext"),J7=Ye({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=ni({resolveTarget(){return t.target}});return Yn(Wk,i),()=>{let{target:s,...o}=t;return Qn({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),Kk=Symbol("StackContext");var Jy=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Jy||{});function X7(){return Tt(Kk,()=>{})}function Z7({type:t,enabled:e,element:n,onUpdate:i}){let s=X7();function o(...l){i==null||i(...l),s(...l)}xt(()=>{gi(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),ri(()=>{e.value&&o(1,t,n)}),Yn(Kk,o)}let zk=Symbol("DescriptionContext");function e8(){let t=Tt(zk,null);if(t===null)throw new Error("Missing parent");return t}function t8({slot:t=le({}),name:e="Description",props:n={}}={}){let i=le([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return Yn(zk,{register:s,slot:t,name:e,props:n}),pe(()=>i.value.length>0?i.value.join(" "):void 0)}let n8=Ye({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${$s()}`}},setup(t,{attrs:e,slots:n}){let i=e8();return xt(()=>ri(i.register(t.id))),()=>{let{name:s="Description",slot:o=le({}),props:l={}}=i,{id:c,...h}=t,f={...Object.entries(l).reduce((p,[v,y])=>Object.assign(p,{[v]:W(y)}),{}),id:c};return Qn({ourProps:f,theirProps:h,slot:o.value,attrs:e,slots:n,name:s})}}});function i8(t){let e=N2(t.getSnapshot());return ri(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function r8(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function s8(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function o8(){if(!B7())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Rd();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:h}=new URL(c.href),f=e.querySelector(h);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function a8(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function l8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ao=r8(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:Rd(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:l8(n)},s=[o8(),s8(),a8()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ao.subscribe(()=>{let t=Ao.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&Ao.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ao.dispatch("TEARDOWN",n)}});function u8(t,e,n){let i=i8(Ao),s=pe(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return gi([t,e],([o,l],[c],h)=>{if(!o||!l)return;Ao.dispatch("PUSH",o,n);let f=!1;h(()=>{f||(Ao.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function c8({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=le(null),s=Bl(i);function o(){var l;let c=[];for(let h of t)h!==null&&(h instanceof HTMLElement?c.push(h):"value"in h&&h.value instanceof HTMLElement&&c.push(h.value));if(e!=null&&e.value)for(let h of e.value)c.push(h);for(let h of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(je(i))||c.some(f=>h.contains(f))||c.push(h));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:Gt(up,{features:Zc.Hidden,ref:i})}}}var d8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(d8||{});let Xy=Symbol("DialogContext");function iw(t){let e=Tt(Xy,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,iw),n}return e}let lf="DC8F892D-2EBD-447C-A4C8-A03058436FF4",rw=Ye({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:lf},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${$s()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=le(!1);xt(()=>{l.value=!0});let c=le(0),h=Am(),f=pe(()=>t.open===lf&&h!==null?(h.value&Sn.Open)===Sn.Open:t.open),p=le(null),v=pe(()=>Bl(p));if(s({el:p,$el:p}),!(t.open!==lf||h!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===lf?void 0:t.open}`);let y=pe(()=>l.value&&f.value?0:1),b=pe(()=>y.value===0),S=pe(()=>c.value>1),_=Tt(Xy,null)!==null,[E,I]=Q7(),{resolveContainers:C,mainTreeNodeRef:P,MainTreeNode:O}=c8({portals:E,defaultContainers:[pe(()=>{var L;return(L=se.panelRef.value)!=null?L:p.value})]}),V=pe(()=>S.value?"parent":"leaf"),G=pe(()=>h!==null?(h.value&Sn.Closing)===Sn.Closing:!1),ne=pe(()=>_||G.value?!1:b.value),H=pe(()=>{var L,Ae,_t;return(_t=Array.from((Ae=(L=v.value)==null?void 0:L.querySelectorAll("body > *"))!=null?Ae:[]).find(rt=>rt.id==="headlessui-portal-root"?!1:rt.contains(je(P))&&rt instanceof HTMLElement))!=null?_t:null});uS(H,ne);let ee=pe(()=>S.value?!0:b.value),ge=pe(()=>{var L,Ae,_t;return(_t=Array.from((Ae=(L=v.value)==null?void 0:L.querySelectorAll("[data-headlessui-portal]"))!=null?Ae:[]).find(rt=>rt.contains(je(P))&&rt instanceof HTMLElement))!=null?_t:null});uS(ge,ee),Z7({type:"Dialog",enabled:pe(()=>y.value===0),element:p,onUpdate:(L,Ae)=>{if(Ae==="Dialog")return yn(L,{[Jy.Add]:()=>c.value+=1,[Jy.Remove]:()=>c.value-=1})}});let oe=t8({name:"DialogDescription",slot:pe(()=>({open:f.value}))}),X=le(null),se={titleId:X,panelRef:le(null),dialogState:y,setTitleId(L){X.value!==L&&(X.value=L)},close(){e("close",!1)}};Yn(Xy,se);let Ze=pe(()=>!(!b.value||S.value));Mk(C,(L,Ae)=>{se.close(),Mi(()=>Ae==null?void 0:Ae.focus())},Ze);let Se=pe(()=>!(S.value||y.value!==0));Bk((o=v.value)==null?void 0:o.defaultView,"keydown",L=>{Se.value&&(L.defaultPrevented||L.key===nn.Escape&&(L.preventDefault(),L.stopPropagation(),se.close()))});let D=pe(()=>!(G.value||y.value!==0||_));return u8(v,D,L=>{var Ae;return{containers:[...(Ae=L.containers)!=null?Ae:[],C]}}),yi(L=>{if(y.value!==0)return;let Ae=je(p);if(!Ae)return;let _t=new ResizeObserver(rt=>{for(let an of rt){let st=an.target.getBoundingClientRect();st.x===0&&st.y===0&&st.width===0&&st.height===0&&se.close()}});_t.observe(Ae),L(()=>_t.disconnect())}),()=>{let{id:L,open:Ae,initialFocus:_t,...rt}=t,an={...n,ref:p,id:L,role:"dialog","aria-modal":y.value===0?!0:void 0,"aria-labelledby":X.value,"aria-describedby":oe.value},st={open:y.value===0};return Gt(cS,{force:!0},()=>[Gt(Y7,()=>Gt(J7,{target:p.value},()=>Gt(cS,{force:!1},()=>Gt(ec,{initialFocus:_t,containers:C,features:b.value?yn(V.value,{parent:ec.features.RestoreFocus,leaf:ec.features.All&~ec.features.FocusLock}):ec.features.None},()=>Gt(I,{},()=>Qn({ourProps:an,theirProps:{...rt,...n},slot:st,attrs:n,slots:i,visible:y.value===0,features:Sl.RenderStrategy|Sl.Static,name:"Dialog"})))))),Gt(O)])}}}),sw=Ye({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${$s()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=iw("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,h={id:l,ref:s.panelRef,onClick:o};return Qn({ourProps:h,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),ow=Ye({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${$s()}`}},setup(t,{attrs:e,slots:n}){let i=iw("DialogTitle");return xt(()=>{i.setTitleId(t.id),ri(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return Qn({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),aw=n8,dS=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function hS(t){var e,n;let i=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return i;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":i;return dS.test(l)&&(l=l.replace(dS,"")),l}function h8(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let i=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():hS(o).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return hS(t).trim()}function f8(t){let e=le(""),n=le("");return()=>{let i=je(t);if(!i)return"";let s=i.innerText;if(e.value===s)return n.value;let o=h8(i).trim().toLowerCase();return e.value=s,n.value=o,o}}function p8(t,e){return t===e}var m8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(m8||{}),g8=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(g8||{}),v8=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(v8||{});function y8(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Gk=Symbol("ListboxContext");function Sm(t){let e=Tt(Gk,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sm),n}return e}let _8=Ye({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>p8},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:n,emit:i}){let s=le(1),o=le(null),l=le(null),c=le(null),h=le([]),f=le(""),p=le(null),v=le(1);function y(P=O=>O){let O=p.value!==null?h.value[p.value]:null,V=Dk(P(h.value.slice()),ne=>je(ne.dataRef.domRef)),G=O?V.indexOf(O):null;return G===-1&&(G=null),{options:V,activeOptionIndex:G}}let b=pe(()=>t.multiple?1:0),[S,_]=F7(pe(()=>t.modelValue),P=>i("update:modelValue",P),pe(()=>t.defaultValue)),E=pe(()=>S.value===void 0?yn(b.value,{1:[],0:void 0}):S.value),I={listboxState:s,value:E,mode:b,compare(P,O){if(typeof t.by=="string"){let V=t.by;return(P==null?void 0:P[V])===(O==null?void 0:O[V])}return t.by(P,O)},orientation:pe(()=>t.horizontal?"horizontal":"vertical"),labelRef:o,buttonRef:l,optionsRef:c,disabled:pe(()=>t.disabled),options:h,searchQuery:f,activeOptionIndex:p,activationTrigger:v,closeListbox(){t.disabled||s.value!==1&&(s.value=1,p.value=null)},openListbox(){t.disabled||s.value!==0&&(s.value=0)},goToOption(P,O,V){if(t.disabled||s.value===1)return;let G=y(),ne=R7(P===Wn.Specific?{focus:Wn.Specific,id:O}:{focus:P},{resolveItems:()=>G.options,resolveActiveIndex:()=>G.activeOptionIndex,resolveId:H=>H.id,resolveDisabled:H=>H.dataRef.disabled});f.value="",p.value=ne,v.value=V??1,h.value=G.options},search(P){if(t.disabled||s.value===1)return;let O=f.value!==""?0:1;f.value+=P.toLowerCase();let V=(p.value!==null?h.value.slice(p.value+O).concat(h.value.slice(0,p.value+O)):h.value).find(ne=>ne.dataRef.textValue.startsWith(f.value)&&!ne.dataRef.disabled),G=V?h.value.indexOf(V):-1;G===-1||G===p.value||(p.value=G,v.value=1)},clearSearch(){t.disabled||s.value!==1&&f.value!==""&&(f.value="")},registerOption(P,O){let V=y(G=>[...G,{id:P,dataRef:O}]);h.value=V.options,p.value=V.activeOptionIndex},unregisterOption(P){let O=y(V=>{let G=V.findIndex(ne=>ne.id===P);return G!==-1&&V.splice(G,1),V});h.value=O.options,p.value=O.activeOptionIndex,v.value=1},theirOnChange(P){t.disabled||_(P)},select(P){t.disabled||_(yn(b.value,{0:()=>P,1:()=>{let O=Oe(I.value.value).slice(),V=Oe(P),G=O.findIndex(ne=>I.compare(V,Oe(ne)));return G===-1?O.push(V):O.splice(G,1),O}}))}};Mk([l,c],(P,O)=>{var V;I.closeListbox(),xk(O,tw.Loose)||(P.preventDefault(),(V=je(l))==null||V.focus())},pe(()=>s.value===0)),Yn(Gk,I),Ok(pe(()=>yn(s.value,{0:Sn.Open,1:Sn.Closed})));let C=pe(()=>{var P;return(P=je(l))==null?void 0:P.closest("form")});return xt(()=>{gi([C],()=>{if(!C.value||t.defaultValue===void 0)return;function P(){I.theirOnChange(t.defaultValue)}return C.value.addEventListener("reset",P),()=>{var O;(O=C.value)==null||O.removeEventListener("reset",P)}},{immediate:!0})}),()=>{let{name:P,modelValue:O,disabled:V,form:G,...ne}=t,H={open:s.value===0,disabled:V,value:E.value};return Gt(yt,[...P!=null&&E.value!=null?Vk({[P]:E.value}).map(([ee,ge])=>Gt(up,E7({features:Zc.Hidden,key:ee,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:G,name:ee,value:ge}))):[],Qn({ourProps:{},theirProps:{...n,...ew(ne,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:H,slots:e,attrs:n,name:"Listbox"})])}}}),w8=Ye({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${$s()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Sm("ListboxButton");i({el:s.buttonRef,$el:s.buttonRef});function o(f){switch(f.key){case nn.Space:case nn.Enter:case nn.ArrowDown:f.preventDefault(),s.openListbox(),Mi(()=>{var p;(p=je(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(Wn.First)});break;case nn.ArrowUp:f.preventDefault(),s.openListbox(),Mi(()=>{var p;(p=je(s.optionsRef))==null||p.focus({preventScroll:!0}),s.value.value||s.goToOption(Wn.Last)});break}}function l(f){switch(f.key){case nn.Space:f.preventDefault();break}}function c(f){s.disabled.value||(s.listboxState.value===0?(s.closeListbox(),Mi(()=>{var p;return(p=je(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),s.openListbox(),y8(()=>{var p;return(p=je(s.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=P7(pe(()=>({as:t.as,type:e.type})),s.buttonRef);return()=>{var f,p;let v={open:s.listboxState.value===0,disabled:s.disabled.value,value:s.value.value},{id:y,...b}=t,S={ref:s.buttonRef,id:y,type:h.value,"aria-haspopup":"listbox","aria-controls":(f=je(s.optionsRef))==null?void 0:f.id,"aria-expanded":s.listboxState.value===0,"aria-labelledby":s.labelRef.value?[(p=je(s.labelRef))==null?void 0:p.id,y].join(" "):void 0,disabled:s.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:l,onClick:c};return Qn({ourProps:S,theirProps:b,slot:v,attrs:e,slots:n,name:"ListboxButton"})}}}),b8=Ye({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${$s()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Sm("ListboxOptions"),o=le(null);i({el:s.optionsRef,$el:s.optionsRef});function l(f){switch(o.value&&clearTimeout(o.value),f.key){case nn.Space:if(s.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),s.search(f.key);case nn.Enter:if(f.preventDefault(),f.stopPropagation(),s.activeOptionIndex.value!==null){let p=s.options.value[s.activeOptionIndex.value];s.select(p.dataRef.value)}s.mode.value===0&&(s.closeListbox(),Mi(()=>{var p;return(p=je(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case yn(s.orientation.value,{vertical:nn.ArrowDown,horizontal:nn.ArrowRight}):return f.preventDefault(),f.stopPropagation(),s.goToOption(Wn.Next);case yn(s.orientation.value,{vertical:nn.ArrowUp,horizontal:nn.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),s.goToOption(Wn.Previous);case nn.Home:case nn.PageUp:return f.preventDefault(),f.stopPropagation(),s.goToOption(Wn.First);case nn.End:case nn.PageDown:return f.preventDefault(),f.stopPropagation(),s.goToOption(Wn.Last);case nn.Escape:f.preventDefault(),f.stopPropagation(),s.closeListbox(),Mi(()=>{var p;return(p=je(s.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case nn.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(s.search(f.key),o.value=setTimeout(()=>s.clearSearch(),350));break}}let c=Am(),h=pe(()=>c!==null?(c.value&Sn.Open)===Sn.Open:s.listboxState.value===0);return()=>{var f,p,v,y;let b={open:s.listboxState.value===0},{id:S,..._}=t,E={"aria-activedescendant":s.activeOptionIndex.value===null||(f=s.options.value[s.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":s.mode.value===1?!0:void 0,"aria-labelledby":(y=(p=je(s.labelRef))==null?void 0:p.id)!=null?y:(v=je(s.buttonRef))==null?void 0:v.id,"aria-orientation":s.orientation.value,id:S,onKeydown:l,role:"listbox",tabIndex:0,ref:s.optionsRef};return Qn({ourProps:E,theirProps:_,slot:b,attrs:e,slots:n,features:Sl.RenderStrategy|Sl.Static,visible:h.value,name:"ListboxOptions"})}}}),E8=Ye({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${$s()}`}},setup(t,{slots:e,attrs:n,expose:i}){let s=Sm("ListboxOption"),o=le(null);i({el:o,$el:o});let l=pe(()=>s.activeOptionIndex.value!==null?s.options.value[s.activeOptionIndex.value].id===t.id:!1),c=pe(()=>yn(s.mode.value,{0:()=>s.compare(Oe(s.value.value),Oe(t.value)),1:()=>Oe(s.value.value).some(I=>s.compare(Oe(I),Oe(t.value)))})),h=pe(()=>yn(s.mode.value,{1:()=>{var I;let C=Oe(s.value.value);return((I=s.options.value.find(P=>C.some(O=>s.compare(Oe(O),Oe(P.dataRef.value)))))==null?void 0:I.id)===t.id},0:()=>c.value})),f=f8(o),p=pe(()=>({disabled:t.disabled,value:t.value,get textValue(){return f()},domRef:o}));xt(()=>s.registerOption(t.id,p)),ri(()=>s.unregisterOption(t.id)),xt(()=>{gi([s.listboxState,c],()=>{s.listboxState.value===0&&c.value&&yn(s.mode.value,{1:()=>{h.value&&s.goToOption(Wn.Specific,t.id)},0:()=>{s.goToOption(Wn.Specific,t.id)}})},{immediate:!0})}),yi(()=>{s.listboxState.value===0&&l.value&&s.activationTrigger.value!==0&&Mi(()=>{var I,C;return(C=(I=je(o))==null?void 0:I.scrollIntoView)==null?void 0:C.call(I,{block:"nearest"})})});function v(I){if(t.disabled)return I.preventDefault();s.select(t.value),s.mode.value===0&&(s.closeListbox(),Mi(()=>{var C;return(C=je(s.buttonRef))==null?void 0:C.focus({preventScroll:!0})}))}function y(){if(t.disabled)return s.goToOption(Wn.Nothing);s.goToOption(Wn.Specific,t.id)}let b=U7();function S(I){b.update(I)}function _(I){b.wasMoved(I)&&(t.disabled||l.value||s.goToOption(Wn.Specific,t.id,0))}function E(I){b.wasMoved(I)&&(t.disabled||l.value&&s.goToOption(Wn.Nothing))}return()=>{let{disabled:I}=t,C={active:l.value,selected:c.value,disabled:I},{id:P,value:O,disabled:V,...G}=t,ne={id:P,ref:o,role:"option",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:v,onFocus:y,onPointerenter:S,onMouseenter:S,onPointermove:_,onMousemove:_,onPointerleave:E,onMouseleave:E};return Qn({ourProps:ne,theirProps:G,slot:C,attrs:n,slots:e,name:"ListboxOption"})}}});function I8(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Hv(t,...e){t&&e.length>0&&t.classList.add(...e)}function uf(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Zy=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Zy||{});function T8(t,e){let n=Rd();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[h=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return h});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function fS(t,e,n,i,s,o){let l=Rd(),c=o!==void 0?I8(o):()=>{};return uf(t,...s),Hv(t,...e,...n),l.nextFrame(()=>{uf(t,...n),Hv(t,...i),l.add(T8(t,h=>(uf(t,...i,...e),Hv(t,...s),c(h))))}),l.add(()=>uf(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function ho(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let lw=Symbol("TransitionContext");var A8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(A8||{});function S8(){return Tt(lw,null)!==null}function R8(){let t=Tt(lw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function C8(){let t=Tt(uw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let uw=Symbol("NestingContext");function Rm(t){return"children"in t?Rm(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Yk(t){let e=le([]),n=le(!1);xt(()=>n.value=!0),ri(()=>n.value=!1);function i(o,l=Ts.Hidden){let c=e.value.findIndex(({id:h})=>h===o);c!==-1&&(yn(l,{[Ts.Unmount](){e.value.splice(c,1)},[Ts.Hidden](){e.value[c].state="hidden"}}),!Rm(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,Ts.Unmount)}return{children:e,register:s,unregister:i}}let Qk=Sl.RenderStrategy,$o=Ye({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=le(0);function l(){o.value|=Sn.Opening,e("beforeEnter")}function c(){o.value&=~Sn.Opening,e("afterEnter")}function h(){o.value|=Sn.Closing,e("beforeLeave")}function f(){o.value&=~Sn.Closing,e("afterLeave")}if(!S8()&&C7())return()=>Gt(Cm,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:h,onAfterLeave:f},i);let p=le(null),v=pe(()=>t.unmount?Ts.Unmount:Ts.Hidden);s({el:p,$el:p});let{show:y,appear:b}=R8(),{register:S,unregister:_}=C8(),E=le(y.value?"visible":"hidden"),I={value:!0},C=$s(),P={value:!1},O=Yk(()=>{!P.value&&E.value!=="hidden"&&(E.value="hidden",_(C),f())});xt(()=>{let se=S(C);ri(se)}),yi(()=>{if(v.value===Ts.Hidden&&C){if(y.value&&E.value!=="visible"){E.value="visible";return}yn(E.value,{hidden:()=>_(C),visible:()=>S(C)})}});let V=ho(t.enter),G=ho(t.enterFrom),ne=ho(t.enterTo),H=ho(t.entered),ee=ho(t.leave),ge=ho(t.leaveFrom),oe=ho(t.leaveTo);xt(()=>{yi(()=>{if(E.value==="visible"){let se=je(p);if(se instanceof Comment&&se.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function X(se){let Ze=I.value&&!b.value,Se=je(p);!Se||!(Se instanceof HTMLElement)||Ze||(P.value=!0,y.value&&l(),y.value||h(),se(y.value?fS(Se,V,G,ne,H,D=>{P.value=!1,D===Zy.Finished&&c()}):fS(Se,ee,ge,oe,H,D=>{P.value=!1,D===Zy.Finished&&(Rm(O)||(E.value="hidden",_(C),f()))})))}return xt(()=>{gi([y],(se,Ze,Se)=>{X(Se),I.value=!1},{immediate:!0})}),Yn(uw,O),Ok(pe(()=>yn(E.value,{visible:Sn.Open,hidden:Sn.Closed})|o.value)),()=>{let{appear:se,show:Ze,enter:Se,enterFrom:D,enterTo:L,entered:Ae,leave:_t,leaveFrom:rt,leaveTo:an,...st}=t,zi={ref:p},Gi={...st,...b.value&&y.value&&Sd.isServer?{class:An([n.class,st.class,...V,...G])}:{}};return Qn({theirProps:Gi,ourProps:zi,slot:{},slots:i,attrs:n,features:Qk,visible:E.value==="visible",name:"TransitionChild"})}}}),P8=$o,Cm=Ye({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=Am(),o=pe(()=>t.show===null&&s!==null?(s.value&Sn.Open)===Sn.Open:t.show);yi(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=le(o.value?"visible":"hidden"),c=Yk(()=>{l.value="hidden"}),h=le(!0),f={show:o,appear:pe(()=>t.appear||!h.value)};return xt(()=>{yi(()=>{h.value=!1,o.value?l.value="visible":Rm(c)||(l.value="hidden")})}),Yn(uw,c),Yn(lw,f),()=>{let p=ew(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return Qn({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[Gt(P8,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...p},i.default)]},attrs:{},features:Qk,visible:l.value==="visible",name:"Transition"})}}});function Jk(t,e){return ye(),it("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function k8(t,e){return ye(),it("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])}function O8(t,e){return ye(),it("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function Xk(t,e){return ye(),it("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function Zk(t,e){return ye(),it("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function e_(t,e){return ye(),it("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const N8={class:"relative mt-1 w-72"},x8={class:"block truncate"},D8={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},L8={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},pS=Ye({__name:"Listbox",props:{items:Array,modelValue:[String,Number],placeholder:String,itemLabel:{type:String,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=e,s=le(n.modelValue),o=l=>{console.log("onChange",l),i("update:modelValue",l)};return(l,c)=>(ye(),it("div",N8,[be(W(_8),{modelValue:s.value,"onUpdate:modelValue":o,as:"div",disabled:t.disabled},{default:Le(()=>[be(W(w8),{class:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:Le(()=>[$("span",x8,Zf(s.value||t.placeholder),1),$("span",D8,[be(W(O8),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1}),be(W(b8),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:Le(()=>[(ye(!0),it(yt,null,ip(t.items,h=>(ye(),gt(W(E8),{key:t.itemLabel?h[t.itemLabel]:h,value:t.itemLabel?h[t.itemLabel]:h},{default:Le(({active:f,selected:p})=>[$("li",{class:An([{"bg-amber-100 text-amber-900":f,"text-gray-900":!f},"relative cursor-default select-none py-2 pl-10 pr-4"])},[$("span",{class:An([{"font-medium":p,"font-normal":!p},"block truncate"])},Zf(t.itemLabel?h[t.itemLabel]:h),3),p?(ye(),it("span",L8,[be(W(k8),{class:"h-5 w-5","aria-hidden":"true"})])):ht("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue","disabled"])]))}}),M8={class:"space-y-4 mb-4"},V8=$("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),F8={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},U8=["src"],B8=["onClick"],j8=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),$8=$("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),H8=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),q8=$("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),W8=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),K8=$("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),z8={class:"flex justify-end space-x-2 mt-4"},G8=5*1024*1024,Y8=Ye({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=si(vn()),s=le([]),o=le(null),l=()=>{const I=o.value.files;for(let C=0;C<I.length;C++){const P=I[C];if(P.size>G8){alert("File size should not exceed 5MB");continue}const O=new FileReader;O.onload=V=>{s.value.push({file:P,url:V.target.result})},O.readAsDataURL(P)}},c=I=>{s.value.splice(I,1)},h=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=ni({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:h,price:0,biddingEndTime:h}),p=le(!1),v=async()=>{if(p.value=!0,y()&&i.value){const I=s.value.map(P=>P.url.split(",")[1]),C=JSON.parse(JSON.stringify(f));C.biddingEndTime=new Date(C.biddingEndTime).toISOString(),C.expectedHarvestDate=new Date(C.expectedHarvestDate).toISOString(),await vn().createUserAd({images:I,...C,adType:i.value.accountType}),p.value=!1,n("close")}else p.value=!1},y=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime),b=le(!1),S=le([]),_=async()=>{b.value=!0,S.value=await vn().getProduce(),console.log("produce",S.value),b.value=!1},E=pe(()=>{if(f.type==="")return[];const I=S.value.find(C=>C.id===f.type);return I?I.sub:[]});return xt(async()=>{console.log("mounted"),await _()}),(I,C)=>(ye(),it(yt,null,[$("div",M8,[V8,$("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),$("div",F8,[(ye(!0),it(yt,null,ip(s.value,(P,O)=>(ye(),it("div",{key:O,class:"mr-2 relative"},[$("img",{src:P.url,class:"w-16 h-16 object-cover"},null,8,U8),$("button",{onClick:V=>c(O)},"Remove",8,B8)]))),128))]),j8,be(pS,{items:S.value,modelValue:f.type,"onUpdate:modelValue":C[0]||(C[0]=P=>f.type=P),placeholder:"Select a Produce",itemLabel:"id"},null,8,["items","modelValue"]),$8,be(pS,{items:E.value,modelValue:f.variety,"onUpdate:modelValue":C[1]||(C[1]=P=>f.variety=P),placeholder:"Select a Variety",disabled:!f.type},null,8,["items","modelValue","disabled"]),H8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":C[2]||(C[2]=P=>f.yieldTonnage=P)},null,512),[[mn,f.yieldTonnage]]),q8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":C[3]||(C[3]=P=>f.expectedHarvestDate=P)},null,512),[[mn,f.expectedHarvestDate]]),W8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":C[4]||(C[4]=P=>f.price=P)},null,512),[[mn,f.price]]),K8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":C[5]||(C[5]=P=>f.biddingEndTime=P)},null,512),[[mn,f.biddingEndTime]])]),$("div",z8,[$("button",{onClick:C[6]||(C[6]=P=>I.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),be(Ad,{onClick:v,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:p.value},{default:Le(()=>[rn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),Q8={class:"space-y-4 mb-4"},J8=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),X8=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),Z8=$("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),eH=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),tH={class:"flex justify-end space-x-2 mt-4"},nH=Ye({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=si(vn());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=ni({type:"",yieldTonnage:0,requestDate:s,price:0}),l=le(!1),c=async()=>{if(l.value=!0,h()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await vn().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},h=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,p)=>(ye(),it(yt,null,[$("div",Q8,[J8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":p[0]||(p[0]=v=>o.type=v)},null,512),[[mn,o.type]]),X8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":p[1]||(p[1]=v=>o.yieldTonnage=v)},null,512),[[mn,o.yieldTonnage]]),Z8,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":p[2]||(p[2]=v=>o.requestDate=v)},null,512),[[mn,o.requestDate]]),eH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":p[3]||(p[3]=v=>o.price=v)},null,512),[[mn,o.price]])]),$("div",tH,[$("button",{onClick:p[4]||(p[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),be(Ad,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Le(()=>[rn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),iH=$("div",{class:"fixed inset-0 bg-black/25"},null,-1),rH={class:"fixed inset-0 overflow-y-auto"},sH={class:"flex min-h-full items-center justify-center p-4 text-center"},oH=$("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),aH=Ye({__name:"AddAdModal",setup(t){const{modals:e}=si(Vi()),{profile:n}=si(vn()),i=vn().ACCOUNT_TYPES,s=le(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(ye(),gt(W(Cm),{appear:"",show:s.value,as:"template"},{default:Le(()=>[be(W(rw),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:Le(()=>[be(W($o),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Le(()=>[iH]),_:1}),$("div",rH,[$("div",sH,[be(W($o),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Le(()=>[be(W(sw),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Le(()=>{var h,f;return[be(W(ow),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Le(()=>[rn(" New Ad ")]),_:1}),be(W(aw),{class:"mt-2 mb-4"},{default:Le(()=>[oH]),_:1}),((h=W(n))==null?void 0:h.accountType)===W(i).SELLER?(ye(),gt(Y8,{key:0,onClose:c[0]||(c[0]=p=>o(!1))})):ht("",!0),((f=W(n))==null?void 0:f.accountType)===W(i).BUYER?(ye(),gt(nH,{key:1,onClose:c[1]||(c[1]=p=>o(!1))})):ht("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),lH={class:"space-y-4 mb-4"},uH=$("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),cH={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},dH=["src"],hH=["onClick"],fH=["src"],pH=["onClick"],mH=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),gH=$("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),vH=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),yH=$("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),_H=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),wH={class:"flex justify-end space-x-2 mt-4"},bH=5*1024*1024,EH=Ye({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;si(vn());const s=le([]),o=le(null),l=()=>{const b=o.value.files;for(let S=0;S<b.length;S++){const _=b[S];if(_.size>bH){alert("File size should not exceed 5MB");continue}const E=new FileReader;E.onload=I=>{s.value.push({file:_,url:I.target.result})},E.readAsDataURL(_)}},c=b=>{s.value.splice(b,1)},h=b=>{p.resizedImages.splice(b,1)},f=JSON.parse(JSON.stringify(n.ad)),p=ni({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=le(!1),y=async()=>{v.value=!0;const b=Object.keys(p).reduce((S,_)=>(p[_]!==n.ad[_]&&(S[_]=p[_]),S),{});if(o.value.files.length>0){const S=s.value.map(_=>_.url.split(",")[1]);b.newImages=S}await vn().editUserAd({changes:b,adId:n.ad.id}),v.value=!1,i("close")};return(b,S)=>(ye(),it(yt,null,[$("div",lH,[uH,$("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),$("div",cH,[(ye(!0),it(yt,null,ip(s.value,(_,E)=>(ye(),it("div",{key:E,class:"mr-2 relative"},[$("img",{src:_.url,class:"w-16 h-16 object-cover"},null,8,dH),$("button",{onClick:I=>c(E)},"Remove",8,hH)]))),128)),(ye(!0),it(yt,null,ip(p.resizedImages,(_,E)=>(ye(),it("div",{key:E,class:"mr-2 relative"},[$("img",{src:_,class:"w-16 h-16 object-cover"},null,8,fH),$("button",{onClick:I=>h(E)},"Remove",8,pH)]))),128))]),mH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":S[0]||(S[0]=_=>p.type=_)},null,512),[[mn,p.type]]),gH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":S[1]||(S[1]=_=>p.variety=_)},null,512),[[mn,p.variety]]),vH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":S[2]||(S[2]=_=>p.yieldTonnage=_)},null,512),[[mn,p.yieldTonnage]]),yH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":S[3]||(S[3]=_=>p.expectedHarvestDate=_)},null,512),[[mn,p.expectedHarvestDate]]),_H,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":S[4]||(S[4]=_=>p.price=_)},null,512),[[mn,p.price]])]),$("div",wH,[$("button",{onClick:S[5]||(S[5]=_=>b.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),be(Ad,{onClick:y,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:v.value},{default:Le(()=>[rn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),IH={class:"space-y-4 mb-4"},TH=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),AH=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),SH=$("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),RH=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),CH={class:"flex justify-end space-x-2 mt-4"},PH=Ye({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;si(vn());const s=JSON.parse(JSON.stringify(n.ad)),o=ni({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=le(!1),c=async()=>{l.value=!0;const h=Object.keys(o).reduce((f,p)=>(o[p]!==n.ad[p]&&(f[p]=o[p]),f),{});await vn().editUserAd({changes:h,adId:n.ad.id}),l.value=!1,i("close")};return(h,f)=>(ye(),it(yt,null,[$("div",IH,[TH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=p=>o.type=p)},null,512),[[mn,o.type]]),AH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=p=>o.yieldTonnage=p)},null,512),[[mn,o.yieldTonnage]]),SH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=p=>o.requestDate=p)},null,512),[[mn,o.requestDate]]),RH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=p=>o.price=p)},null,512),[[mn,o.price]])]),$("div",CH,[$("button",{onClick:f[4]||(f[4]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),be(Ad,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Le(()=>[rn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),kH=$("div",{class:"fixed inset-0 bg-black/25"},null,-1),OH={class:"fixed inset-0 overflow-y-auto"},NH={class:"flex min-h-full items-center justify-center p-4 text-center"},xH=$("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),DH=Ye({__name:"EditAdModal",setup(t){const{modals:e}=si(Vi()),{profile:n}=si(vn()),i=vn().ACCOUNT_TYPES,s=le(!0);function o(l){s.value=l,e.value.editad=l}return(l,c)=>(ye(),gt(W(Cm),{appear:"",show:s.value,as:"template"},{default:Le(()=>[be(W(rw),{as:"div",onClose:c[2]||(c[2]=h=>o(!1)),class:"relative z-10"},{default:Le(()=>[be(W($o),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Le(()=>[kH]),_:1}),$("div",OH,[$("div",NH,[be(W($o),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Le(()=>[be(W(sw),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Le(()=>{var h,f;return[be(W(ow),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Le(()=>[rn(" Edit Ad ")]),_:1}),be(W(aw),{class:"mt-2 mb-4"},{default:Le(()=>[xH]),_:1}),((h=W(n))==null?void 0:h.accountType)===W(i).SELLER?(ye(),gt(EH,{key:0,onClose:c[0]||(c[0]=p=>o(!1)),ad:W(e).context},null,8,["ad"])):ht("",!0),((f=W(n))==null?void 0:f.accountType)===W(i).BUYER?(ye(),gt(PH,{key:1,onClose:c[1]||(c[1]=p=>o(!1)),ad:W(e).context},null,8,["ad"])):ht("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),LH={class:"space-y-4 mb-4"},MH=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),VH={class:"flex justify-end space-x-2 mt-4"},FH=Ye({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=ni({adId:t.adId,price:0}),o=le(!1),l=async()=>{o.value=!0,c()?(await vn().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(h,f)=>(ye(),it(yt,null,[$("div",LH,[MH,Qt($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=p=>s.price=p)},null,512),[[mn,s.price]])]),$("div",VH,[$("button",{onClick:f[1]||(f[1]=p=>h.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),be(Ad,{onClick:l,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:o.value},{default:Le(()=>[rn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),UH=$("div",{class:"fixed inset-0 bg-black/25"},null,-1),BH={class:"fixed inset-0 overflow-y-auto"},jH={class:"flex min-h-full items-center justify-center p-4 text-center"},$H=$("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),HH=Ye({__name:"AddBidModal",setup(t){const{modals:e}=si(Vi()),n=le(!0);function i(l){n.value=l,e.value.addad=l}const s=Rk(),o=le("");return xt(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(ye(),gt(W(Cm),{appear:"",show:n.value,as:"template"},{default:Le(()=>[be(W(rw),{as:"div",onClose:c[1]||(c[1]=h=>i(!1)),class:"relative z-10"},{default:Le(()=>[be(W($o),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Le(()=>[UH]),_:1}),$("div",BH,[$("div",jH,[be(W($o),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Le(()=>[be(W(sw),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Le(()=>[be(W(ow),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Le(()=>[rn(" Place bid ")]),_:1}),be(W(aw),{class:"mt-2 mb-4"},{default:Le(()=>[$H]),_:1}),be(FH,{onClose:c[0]||(c[0]=h=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),qH={key:0},WH={key:1,class:"text-sm font-medium"},mS=5e3,KH=Ye({__name:"StateNotificationToast",setup(t){const{notifications:e}=si(Vi()),n=Vi().NOTIFICATION_TYPES,i=le(mS),s=()=>{i.value=mS;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),Vi().resetNotification())},1e3)};gi(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=pe(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(ye(),gt(bm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:Le(()=>[W(e).show?(ye(),it("div",{key:0,class:An(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[W(e).type?(ye(),it("div",qH,[W(e).type===W(n).SUCCESS?(ye(),gt(W(Jk),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):ht("",!0),W(e).type===W(n).ERROR?(ye(),gt(W(e_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):ht("",!0),W(e).type===W(n).WARNING?(ye(),gt(W(Xk),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):ht("",!0),W(e).type===W(n).INFO?(ye(),gt(W(Zk),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):ht("",!0)])):ht("",!0),W(e).message?(ye(),it("div",WH,[$("p",null,Zf(W(e).message),1)])):ht("",!0)],2)):ht("",!0)]),_:1}))}}),zH={key:0},GH={key:1,class:"text-sm font-medium text-black"},YH=Ye({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=si(Vi()),n=Vi().NOTIFICATION_TYPES,i=pe(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(ye(),gt(bm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:Le(()=>[W(e).show?(ye(),it("div",{key:0,class:An(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[W(e).type?(ye(),it("div",zH,[W(e).type===W(n).SUCCESS?(ye(),gt(W(Jk),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):ht("",!0),W(e).type===W(n).ERROR?(ye(),gt(W(e_),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):ht("",!0),W(e).type===W(n).WARNING?(ye(),gt(W(Xk),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):ht("",!0),W(e).type===W(n).INFO?(ye(),gt(W(Zk),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):ht("",!0)])):ht("",!0),W(e).message?(ye(),it("div",GH,[$("p",null,Zf(W(e).message),1)])):ht("",!0),be(W(e_),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):ht("",!0)]),_:1}))}}),QH={class:"relative bg-blue-900 text-white p-4"},JH={class:"container mx-auto flex justify-between items-center"},XH=$("div",{class:"flex items-center"},[$("img",{src:g$,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),$("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),ZH={class:"space-x-4"},eq={class:"w-full"},tq=Ye({__name:"App",setup(t){const{profile:e}=si(vn()),{modals:n,notifications:i,dropdowns:s}=si(Vi()),o=le(0),l=Rk();l.beforeEach((h,f,p)=>{h.matched.some(y=>y.meta.requiresAuth)&&!e.value?p("/signup"):p()});const c=async()=>{await vn().signout(),l.push("/signup")};return(h,f)=>(ye(),it(yt,null,[$("header",QH,[$("div",JH,[XH,$("nav",ZH,[be(W(po),{class:An(["hover:underline",{"bg-blue-700 text-white":o.value==0}]),to:"/",onClick:f[0]||(f[0]=p=>o.value=0)},{default:Le(()=>[rn("Home")]),_:1},8,["class"]),W(e)?(ye(),gt(W(po),{key:0,class:An(["hover:underline",{"bg-blue-700 text-white":o.value==1}]),to:"/userboard",onClick:f[1]||(f[1]=p=>o.value=1)},{default:Le(()=>[rn("Dashboard")]),_:1},8,["class"])):ht("",!0),W(e)?ht("",!0):(ye(),gt(W(po),{key:1,class:An(["hover:underline",{"bg-blue-700 text-white":o.value==2}]),to:"/signup",onClick:f[2]||(f[2]=p=>o.value=2)},{default:Le(()=>[rn("Signin")]),_:1},8,["class"])),W(e)?(ye(),gt(W(po),{key:2,class:An(["hover:underline",{"bg-blue-700 text-white":o.value==3}]),to:"/profile",onClick:f[3]||(f[3]=p=>o.value=3)},{default:Le(()=>[rn("Profile")]),_:1},8,["class"])):ht("",!0),W(e)?(ye(),gt(W(po),{key:3,class:An(["hover:underline",{"bg-blue-700 text-white":o.value==4}]),to:"/feed",onClick:f[4]||(f[4]=p=>o.value=4)},{default:Le(()=>[rn("Feed")]),_:1},8,["class"])):ht("",!0),be(W(po),{class:An(["hover:underline",{"bg-blue-700 text-white":o.value==5}]),to:"/about",onClick:f[5]||(f[5]=p=>o.value=5)},{default:Le(()=>[rn("About")]),_:1},8,["class"]),$("a",{class:"hover:underline",onClick:c},"Signout")])]),Qt(be(YH,null,null,512),[[xA,W(s).show]])]),W(n).addad?(ye(),gt(aH,{key:0})):ht("",!0),W(n).editad?(ye(),gt(DH,{key:1})):ht("",!0),W(n).addbid?(ye(),gt(HH,{key:2})):ht("",!0),Qt(be(KH,null,null,512),[[xA,W(i).show]]),$("div",eq,[be(W(Sk))])],64))}}),nq="modulepreload",iq=function(t){return"/"+t},gS={},tr=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=iq(o),o in gS)return;gS[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let p=s.length-1;p>=0;p--){const v=s[p];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":nq,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},cf=Ye({__name:"CardButton",props:{classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){return(n,i)=>(ye(),it("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:An([[t.classes],"mt-2 mb-2 inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"])},[Y2(n.$slots,"default")],2))}}),rq=$("h1",null,"HomeView",-1),sq=Ye({__name:"HomeView",setup(t){const{dropdowns:e}=si(Vi()),n=Vi().NOTIFICATION_TYPES,i=s=>{s==n.ERROR&&(e.value.show=!0,e.value.type=n.ERROR,e.value.message="Failed to create escrow account"),s==n.SUCCESS&&(e.value.show=!0,e.value.type=n.SUCCESS,e.value.message="Successfully created escrow account"),s==n.WARNING&&(e.value.show=!0,e.value.type=n.WARNING,e.value.message="Warning: This is a warning"),s==n.INFO&&(e.value.show=!0,e.value.type=n.INFO,e.value.message="Info: This is an info message")};return(s,o)=>(ye(),it(yt,null,[rq,be(cf,{onClick:o[0]||(o[0]=l=>i(W(n).ERROR))},{default:Le(()=>[rn("Error")]),_:1}),be(cf,{onClick:o[1]||(o[1]=l=>i(W(n).SUCCESS))},{default:Le(()=>[rn("Success")]),_:1}),be(cf,{onClick:o[2]||(o[2]=l=>i(W(n).WARNING))},{default:Le(()=>[rn("Warning")]),_:1}),be(cf,{onClick:o[3]||(o[3]=l=>i(W(n).INFO))},{default:Le(()=>[rn("Info")]),_:1})],64))}}),oq=g7({history:D$("/"),routes:[{path:"/",name:"home",component:sq},{path:"/signup",name:"signup",component:()=>tr(()=>import("./SignupView-39dabf50.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>tr(()=>import("./ProfileSetupView-aa7fe286.js"),[])},{path:"/profile",name:"profile",component:()=>tr(()=>import("./UserProfileView-538c95ab.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>tr(()=>import("./AboutView-29237c8e.js"),[])},{path:"/feed",name:"feed",component:()=>tr(()=>import("./FeedView-4e932d2e.js"),["assets/FeedView-4e932d2e.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-651959ff.js","assets/ImageCarousel-f7c7d20c.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-10e15eba.js"])},{path:"/seller/:sellerName/:id",name:"seller-ads",component:()=>tr(()=>import("./SellerAdsView-bbb1ca7a.js"),["assets/SellerAdsView-bbb1ca7a.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-ce74dfc3.js","assets/ImageCarousel-f7c7d20c.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-10e15eba.js"]),props:!0},{path:"/ad/:adId",name:"ad",component:()=>tr(()=>import("./AdView-135ab779.js"),["assets/AdView-135ab779.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-ce74dfc3.js","assets/ImageCarousel-f7c7d20c.js","assets/ImageCarousel-b21701ad.css","assets/BidCard.vue_vue_type_script_setup_true_lang-e19a8449.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>tr(()=>import("./UserBoardView-37a6a30d.js"),["assets/UserBoardView-37a6a30d.js","assets/SellerAdThumbnailCard.vue_vue_type_script_setup_true_lang-651959ff.js","assets/ImageCarousel-f7c7d20c.js","assets/ImageCarousel-b21701ad.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-10e15eba.js","assets/BidCard.vue_vue_type_script_setup_true_lang-e19a8449.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>tr(()=>import("./MessagingView-d7da4f2f.js"),[]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId",name:"banking",component:()=>tr(()=>import("./BankingView-13394310.js"),["assets/BankingView-13394310.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-ce74dfc3.js","assets/ImageCarousel-f7c7d20c.js","assets/ImageCarousel-b21701ad.css"]),meta:{requiresAuth:!0},props:!0}]});let So,qv;NM(l2,async t=>{if(t){try{qv=await Py("users",t.uid),qv&&(So||Wv(),vn().setProfile(qv))}catch(e){console.log("Error getting profile",e)}So||Wv(),console.log("User is signed in"),vn().setUser(t)}else So||Wv(),console.log("User is signed out")});const Wv=()=>{So=Xj(tq),So.use(t$()),So.use(oq),So.mount("#app")};export{$s as $,OP as A,vr as B,w7 as C,Eq as D,Vs as E,yt as F,Iq as G,Tq as H,Aq as I,Ls as J,_l as K,b7 as L,Es as M,v0 as N,Rq as O,Gt as P,Zc as Q,up as R,pe as S,Dk as T,Yn as U,gi as V,yi as W,je as X,Qn as Y,ew as Z,cf as _,vn as a,ri as a0,Tt as a1,P7 as a2,Sl as a3,yn as a4,nn as a5,Nk as a6,nw as a7,Bl as a8,Ef as a9,ws as aa,Sq as ab,An as ac,Cq as ad,bq as ae,vl as af,gq as ag,fq as ah,pq as ai,yq as aj,_q as ak,oq as al,mq as am,kq as an,V0 as ao,wq as b,z2 as c,Ye as d,ye as e,it as f,$ as g,le as h,rn as i,Pq as j,ip as k,be as l,Le as m,Ad as n,xt as o,ht as p,gt as q,ni as r,si as s,Zf as t,Rk as u,mn as v,Qt as w,Vi as x,W as y,vq as z};

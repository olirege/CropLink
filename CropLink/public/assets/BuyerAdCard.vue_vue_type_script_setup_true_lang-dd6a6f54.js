import{d as A,s as _,x as w,h as f,e as m,f as g,g as s,t as i,i as o,l,m as r,_ as B,n as b,p as C,a as v}from"./index-aa4b1524.js";const k={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},N={class:"text-xl font-semibold mb-2"},R={class:"text-sm mb-2"},$=s("strong",null,"Id:",-1),j={class:"text-sm mb-2"},p=s("strong",null,"Yield Tonnage:",-1),L={class:"text-sm mb-2"},P=s("strong",null,"Request Date:",-1),T={class:"text-sm mb-2"},V=s("strong",null,"Price:",-1),q={key:0,class:"flex justify-end mt-2 space-x-4"},E=A({__name:"BuyerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},setup(e){const{modals:u}=_(w()),a=f(!1),x=async t=>{t&&(a.value=!0,await v().postNewAd(t),a.value=!1)},d=f(""),h=async t=>{t&&(d.value=t,v().removeUserAd(t),d.value="")},y=async t=>{t&&(console.log("removeAd",t),u.value.editad=!0,u.value.context=ads.value.docs.find(n=>n.id===t))};return(t,n)=>(m(),g("div",k,[s("h3",N,i(e.ad.type),1),s("p",R,[$,o(" "+i(e.ad.id),1)]),s("p",j,[p,o(" "+i(e.ad.yieldTonnage),1)]),s("p",L,[P,o(" "+i(e.ad.requestDate),1)]),s("p",T,[V,o(" "+i(e.ad.price),1)]),e.showButtons?(m(),g("div",q,[l(B,{onClick:n[0]||(n[0]=c=>y(e.ad.id))},{default:r(()=>[o(" Edit ")]),_:1}),l(b,{isLoading:a.value,disabled:e.ad.live,onClick:n[1]||(n[1]=c=>x(e.ad.id)),class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},{default:r(()=>[o(" Post ")]),_:1},8,["isLoading","disabled"]),l(b,{isLoading:d.value==e.ad.id,disabled:!e.ad.live,onClick:n[2]||(n[2]=c=>h(e.ad.id)),class:"inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},{default:r(()=>[o(" Remove ")]),_:1},8,["isLoading","disabled"])])):C("",!0)]))}});export{E as _};

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CN=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},DA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,E=f&63;d||(E=64,l||(_=64)),i.push(n[m],n[v],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new PN;const _=o<<2|c>>4;if(i.push(_),f!==64){const E=c<<4&240|f>>2;if(i.push(E),v!==64){const A=f<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kN=function(t){const e=NA(t);return DA.encodeByteArray(e,!0)},nf=function(t){return kN(t).replace(/\./g,"")},xA=function(t){try{return DA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ON(n)||(t[n]=rf(t[n],e[n]));return t}function ON(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=()=>NN().__FIREBASE_DEFAULTS__,xN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xA(t[1]);return e&&JSON.parse(e)},Wf=()=>{try{return DN()||xN()||LN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LA=t=>{var e,n;return(n=(e=Wf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Oy=t=>{const e=LA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},MA=()=>{var t;return(t=Wf())===null||t===void 0?void 0:t.config},VA=t=>{var e;return(e=Wf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[nf(JSON.stringify(n)),nf(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function UA(){var t;const e=(t=Wf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){return typeof self=="object"&&self.self===self}function BA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ny(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sf(){try{return typeof indexedDB=="object"}catch{return!1}}function UN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class vn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=BN,Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?jN(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new vn(s,c,i)}}function jN(t,e){return t.replace($N,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const $N=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function HN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(Q1(o)&&Q1(l)){if(!of(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Q1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Fu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $A(t,e){const n=new qN(t,e);return n.subscribe.bind(n)}class qN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");WN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Bg),s.error===void 0&&(s.error=Bg),s.complete===void 0&&(s.complete=Bg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t){return t&&t._delegate?t._delegate:t}class Ri{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new MN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zN(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GN(t){return t===Qs?void 0:t}function zN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=[];var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const HA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},QN=Be.INFO,JN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},XN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=JN[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kf{constructor(e){this.name=e,this._logLevel=QN,this._logHandler=XN,this._userLogHandler=null,Dy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function ZN(t){Dy.forEach(e=>{e.setLogLevel(t)})}function eD(t,e){for(const n of Dy){let i=null;e&&e.level&&(i=HA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??s.logLevel)&&t({level:Be[o].toLowerCase(),message:c,args:l,type:s.name})}}}const tD=(t,e)=>e.some(n=>t instanceof n);let J1,X1;function nD(){return J1||(J1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iD(){return X1||(X1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qA=new WeakMap,Iv=new WeakMap,WA=new WeakMap,jg=new WeakMap,xy=new WeakMap;function rD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(hs(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qA.set(n,t)}).catch(()=>{}),xy.set(e,t),e}function sD(t){if(Iv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Iv.set(t,e)}let Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Iv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){Tv=t(Tv)}function aD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call($g(this),e,...n);return WA.set(i,e.sort?e.sort():[e]),hs(i)}:iD().includes(t)?function(...e){return t.apply($g(this),e),hs(qA.get(this))}:function(...e){return hs(t.apply($g(this),e))}}function lD(t){return typeof t=="function"?aD(t):(t instanceof IDBTransaction&&sD(t),tD(t,nD())?new Proxy(t,Tv):t)}function hs(t){if(t instanceof IDBRequest)return rD(t);if(jg.has(t))return jg.get(t);const e=lD(t);return e!==t&&(jg.set(t,e),xy.set(e,t)),e}const $g=t=>xy.get(t);function uD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=hs(l);return i&&l.addEventListener("upgradeneeded",d=>{i(hs(l.result),d.oldVersion,d.newVersion,hs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const cD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],Hg=new Map;function Z1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hg.get(e))return Hg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=hD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||cD.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return Hg.set(e,o),o}oD(t=>({...t,get:(e,n,i)=>Z1(e,n)||t.get(e,n,i),has:(e,n)=>!!Z1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Av="@firebase/app",eI="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Kf("@firebase/app"),pD="@firebase/app-compat",mD="@firebase/analytics-compat",gD="@firebase/analytics",vD="@firebase/app-check-compat",yD="@firebase/app-check",_D="@firebase/auth",wD="@firebase/auth-compat",ED="@firebase/database",bD="@firebase/database-compat",ID="@firebase/functions",TD="@firebase/functions-compat",AD="@firebase/installations",SD="@firebase/installations-compat",RD="@firebase/messaging",CD="@firebase/messaging-compat",PD="@firebase/performance",kD="@firebase/performance-compat",OD="@firebase/remote-config",ND="@firebase/remote-config-compat",DD="@firebase/storage",xD="@firebase/storage-compat",LD="@firebase/firestore",MD="@firebase/firestore-compat",VD="firebase",FD="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]",UD={[Av]:"fire-core",[pD]:"fire-core-compat",[gD]:"fire-analytics",[mD]:"fire-analytics-compat",[yD]:"fire-app-check",[vD]:"fire-app-check-compat",[_D]:"fire-auth",[wD]:"fire-auth-compat",[ED]:"fire-rtdb",[bD]:"fire-rtdb-compat",[ID]:"fire-fn",[TD]:"fire-fn-compat",[AD]:"fire-iid",[SD]:"fire-iid-compat",[RD]:"fire-fcm",[CD]:"fire-fcm-compat",[PD]:"fire-perf",[kD]:"fire-perf-compat",[OD]:"fire-rc",[ND]:"fire-rc-compat",[DD]:"fire-gcs",[xD]:"fire-gcs-compat",[LD]:"fire-fst",[MD]:"fire-fst-compat","fire-js":"fire-js",[VD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Map,lc=new Map;function af(t,e){try{t.container.addComponent(e)}catch(n){vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function KA(t,e){t.container.addOrOverwriteComponent(e)}function sr(t){const e=t.name;if(lc.has(e))return vo.debug(`There were multiple attempts to register component ${e}.`),!1;lc.set(e,t);for(const n of gs.values())af(n,t);return!0}function Po(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function BD(t,e,n=ms){Po(t,e).clearInstance(n)}function jD(){lc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},br=new Co("app","Firebase",$D);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HD=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=FD;function Gf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ms,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=MA()),!n)throw br.create("no-options");const o=gs.get(s);if(o){if(of(n,o.options)&&of(i,o.config))return o;throw br.create("duplicate-app",{appName:s})}const l=new YN(s);for(const d of lc.values())l.addComponent(d);const c=new HD(n,i,l);return gs.set(s,c),c}function xc(t=ms){const e=gs.get(t);if(!e&&t===ms&&MA())return Gf();if(!e)throw br.create("no-app",{appName:t});return e}function qD(){return Array.from(gs.values())}async function GA(t){const e=t.name;gs.has(e)&&(gs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function jn(t,e,n){var i;let s=(i=UD[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vo.warn(c.join(" "));return}sr(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function zA(t,e){if(t!==null&&typeof t!="function")throw br.create("invalid-log-argument");eD(t,e)}function YA(t){ZN(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebase-heartbeat-database",KD=1,uc="firebase-heartbeat-store";let qg=null;function QA(){return qg||(qg=uD(WD,KD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uc)}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),qg}async function GD(t){try{return await(await QA()).transaction(uc).objectStore(uc).get(JA(t))}catch(e){if(e instanceof vn)vo.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vo.warn(n.message)}}}async function tI(t,e){try{const i=(await QA()).transaction(uc,"readwrite");await i.objectStore(uc).put(e,JA(t)),await i.done}catch(n){if(n instanceof vn)vo.warn(n.message);else{const i=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vo.warn(i.message)}}}function JA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1024,YD=30*24*60*60*1e3;class QD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=YD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nI(),{heartbeatsToSend:n,unsentEntries:i}=JD(this._heartbeatsCache.heartbeats),s=nf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function nI(){return new Date().toISOString().substring(0,10)}function JD(t,e=zD){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),iI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),iI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class XD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sf()?UN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await GD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iI(t){return nf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){sr(new Ri("platform-logger",e=>new dD(e),"PRIVATE")),sr(new Ri("heartbeat",e=>new QD(e),"PRIVATE")),jn(Av,eI,t),jn(Av,eI,"esm2017"),jn("fire-js","")}ZD("");const ex=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:vn,SDK_VERSION:Nr,_DEFAULT_ENTRY_NAME:ms,_addComponent:af,_addOrOverwriteComponent:KA,_apps:gs,_clearComponents:jD,_components:lc,_getProvider:Po,_registerComponent:sr,_removeServiceInstance:BD,deleteApp:GA,getApp:xc,getApps:qD,initializeApp:Gf,onLog:zA,registerVersion:jn,setLogLevel:YA},Symbol.toStringTag,{value:"Module"}));function Ly(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const Cu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ea={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nx=tx,ix=XA,ZA=new Co("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Kf("@firebase/auth");function rx(t,...e){lf.logLevel<=Be.WARN&&lf.warn(`Auth (${Nr}): ${t}`,...e)}function qd(t,...e){lf.logLevel<=Be.ERROR&&lf.error(`Auth (${Nr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw My(t,...e)}function yn(t,...e){return My(t,...e)}function eS(t,e,n){const i=Object.assign(Object.assign({},ix()),{[e]:n});return new Co("auth","Firebase",i).create(e,{appName:t.name})}function hl(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&ln(t,"argument-error"),eS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function My(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ZA.create(t,...e)}function W(t,e,...n){if(!t)throw My(e,...n)}function Zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function Ci(t,e){t||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Vy(){return rI()==="http:"||rI()==="https:"}function rI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vy()||BA()||"connection"in navigator)?navigator.onLine:!0}function ox(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=VN()||Ny()}get(){return sx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new Lc(3e4,6e4);function xt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zt(t,e,n,i,s={}){return nS(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=cl(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),tS.fetch()(iS(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function nS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ax),e);try{const s=new cx(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Uu(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Uu(t,"user-disabled",l);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw eS(t,m,f);ln(t,m)}}catch(s){if(s instanceof vn)throw s;ln(t,"network-request-failed",{message:String(s)})}}async function Dr(t,e,n,i,s={}){const o=await zt(t,e,n,i,s);return"mfaPendingCredential"in o&&ln(t,"multi-factor-auth-required",{_serverResponse:o}),o}function iS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?Fy(t.config,s):`${t.config.apiScheme}://${s}`}function ux(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(yn(this.auth,"network-request-failed")),lx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=yn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return t!==void 0&&t.getResponse!==void 0}function oI(t){return t!==void 0&&t.enterprise!==void 0}class hx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ux(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t){return(await zt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function fx(t,e){return zt(t,"GET","/v2/recaptchaConfig",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(t,e){return zt(t,"POST","/v1/accounts:delete",e)}async function mx(t,e){return zt(t,"POST","/v1/accounts:update",e)}async function gx(t,e){return zt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vx(t,e=!1){const n=Ee(t),i=await n.getIdToken(e),s=zf(i);W(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:zu(Wg(s.auth_time)),issuedAtTime:zu(Wg(s.iat)),expirationTime:zu(Wg(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Wg(t){return Number(t)*1e3}function zf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const s=xA(n);return s?JSON.parse(s):(qd("Failed to decode base64 JWT payload"),null)}catch(s){return qd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function yx(t){const e=zf(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vn&&_x(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function _x({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Rr(t,gx(n,{idToken:i}));W(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ix(o.providerUserInfo):[],c=bx(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rS(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function Ex(t){const e=Ee(t);await hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bx(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Ix(t){return t.map(e=>{var{providerId:n}=e,i=Ly(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e){const n=await nS(t,{},async()=>{const i=cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=iS(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",tS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await Tx(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new dc;return i&&(W(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(W(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(W(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dc,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class uo{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=Ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Rr(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vx(this,e)}reload(){return Ex(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rr(this,px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,d,f,m;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,y=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:x,isAnonymous:Q,providerData:re,stsTokenManager:fe}=n;W(F&&fe,e,"internal-error");const ae=dc.fromJSON(this.name,fe);W(typeof F=="string",e,"internal-error"),Zr(v,e.name),Zr(_,e.name),W(typeof x=="boolean",e,"internal-error"),W(typeof Q=="boolean",e,"internal-error"),Zr(E,e.name),Zr(A,e.name),Zr(y,e.name),Zr(b,e.name),Zr(R,e.name),Zr(P,e.name);const he=new uo({uid:F,auth:e,email:_,emailVerified:x,displayName:v,isAnonymous:Q,photoURL:A,phoneNumber:E,tenantId:y,stsTokenManager:ae,createdAt:R,lastLoginAt:P});return re&&Array.isArray(re)&&(he.providerData=re.map(Ve=>Object.assign({},Ve))),b&&(he._redirectEventId=b),he}static async _fromIdTokenResponse(e,n,i=!1){const s=new dc;s.updateFromServerResponse(n);const o=new uo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await hc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Map;function oi(t){Ci(t instanceof Function,"Expected a class definition");let e=aI.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sS.type="NONE";const Ha=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e,n){return`firebase:${t}:${e}:${n}`}class Oa{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=co(this.userKey,s.apiKey,o),this.fullPersistenceKey=co("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?uo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Oa(oi(Ha),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||oi(Ha);const l=co(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){const v=uo._fromJSON(e,m);f!==o&&(c=v),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Oa(o,e,i):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Oa(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uS(e))return"Blackberry";if(cS(e))return"Webos";if(Uy(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(Mc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function oS(t=Kt()){return/firefox\//i.test(t)}function Uy(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(t=Kt()){return/crios\//i.test(t)}function lS(t=Kt()){return/iemobile/i.test(t)}function Mc(t=Kt()){return/android/i.test(t)}function uS(t=Kt()){return/blackberry/i.test(t)}function cS(t=Kt()){return/webos/i.test(t)}function dl(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ax(t=Kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function Sx(t=Kt()){var e;return dl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rx(){return jA()&&document.documentMode===10}function hS(t=Kt()){return dl(t)||Mc(t)||cS(t)||uS(t)||/windows phone/i.test(t)||lS(t)}function Cx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e=[]){let n;switch(t){case"Browser":n=lI(Kt());break;case"Worker":n=`${lI(Kt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e={}){return zt(t,"GET","/v2/passwordPolicy",xt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=6;class Nx{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Ox,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uI(this),this.idTokenSubscription=new uI(this),this.beforeStateQueue=new Px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ox()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ee(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kx(this),n=new Nx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ct(t){return Ee(t)}class uI{constructor(e){this.auth=e,this.observer=null,this.addObserver=$A(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function By(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=yn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",xx().appendChild(i)})}function fS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Lx="https://www.google.com/recaptcha/enterprise.js?render=",Mx="recaptcha-enterprise",Vx="NO_RECAPTCHA";class Fx{constructor(e){this.type=Mx,this.auth=Ct(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{fx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new hx(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;oI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Vx)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&oI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}By(Lx+c).then(()=>{s(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function cI(t,e,n,i=!1){const s=new Fx(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Yf(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await cI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){const n=Po(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(of(o,e??{}))return s;ln(s,"already-initialized")}return n.initialize({options:e})}function Bx(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pS(t,e,n){const i=Ct(t);W(i._canInitEmulator,i,"emulator-config-failed"),W(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=mS(e),{host:l,port:c}=jx(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||$x()}function mS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jx(t){const e=mS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:hI(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:hI(l)}}}function hI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $x(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,e){return zt(t,"POST","/v1/accounts:resetPassword",xt(t,e))}async function vS(t,e){return zt(t,"POST","/v1/accounts:update",e)}async function Hx(t,e){return zt(t,"POST","/v1/accounts:update",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e){return Dr(t,"POST","/v1/accounts:signInWithPassword",xt(t,e))}async function Qf(t,e){return zt(t,"POST","/v1/accounts:sendOobCode",xt(t,e))}async function Wx(t,e){return Qf(t,e)}async function Kx(t,e){return Qf(t,e)}async function Gx(t,e){return Qf(t,e)}async function zx(t,e){return Qf(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t,e){return Dr(t,"POST","/v1/accounts:signInWithEmailLink",xt(t,e))}async function Qx(t,e){return Dr(t,"POST","/v1/accounts:signInWithEmailLink",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends fl{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new fc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yf(e,n,"signInWithPassword",qx);case"emailLink":return Yx(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return vS(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qx(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(t,e){return Dr(t,"POST","/v1/accounts:signInWithIdp",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="http://localhost";class or extends fl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=Ly(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new or(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ir(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ir(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ir(e,n)}buildRequest(){const e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e){return zt(t,"POST","/v1/accounts:sendVerificationCode",xt(t,e))}async function Zx(t,e){return Dr(t,"POST","/v1/accounts:signInWithPhoneNumber",xt(t,e))}async function eL(t,e){const n=await Dr(t,"POST","/v1/accounts:signInWithPhoneNumber",xt(t,e));if(n.temporaryProof)throw Uu(t,"account-exists-with-different-credential",n);return n}const tL={USER_NOT_FOUND:"user-not-found"};async function nL(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Dr(t,"POST","/v1/accounts:signInWithPhoneNumber",xt(t,n),tL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends fl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ho({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ho({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Zx(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return eL(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return nL(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new ho({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rL(t){const e=Pa(Fu(t)).link,n=e?Pa(Fu(e)).deep_link_id:null,i=Pa(Fu(t)).deep_link_id;return(i?Pa(Fu(i)).link:null)||i||n||e||t}class Jf{constructor(e){var n,i,s,o,l,c;const d=Pa(Fu(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=iL((s=d.mode)!==null&&s!==void 0?s:null);W(f&&m&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=rL(e);try{return new Jf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.providerId=Is.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Jf.parseLink(n);return W(i,"argument-error"),fc._fromEmailAndCode(e,i.code,i.tenantId)}}Is.PROVIDER_ID="password";Is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends xr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Na extends pl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),or._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),or._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Na.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Na.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new Na(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends pl{constructor(){super("facebook.com")}static credential(e){return or._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return or._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends pl{constructor(){super("github.com")}static credential(e){return or._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="http://localhost";class qa extends fl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ir(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ir(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ir(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new qa(i,o)}static _create(e,n){return new qa(e,n)}buildRequest(){return{requestUri:sL,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="saml.";class uf extends xr{constructor(e){W(e.startsWith(oL),"argument-error"),super(e)}static credentialFromResult(e){return uf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return uf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=qa.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return qa._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends pl{constructor(){super("twitter.com")}static credential(e,n){return or._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Qi.credential(n,i)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t,e){return Dr(t,"POST","/v1/accounts:signUp",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await uo._fromIdTokenResponse(e,i,s),l=dI(i);return new mi({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=dI(i);return new mi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function dI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(t){var e;const n=Ct(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new mi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await yS(n,{returnSecureToken:!0}),s=await mi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends vn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new cf(e,n,i,s)}}function _S(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){const n=Ee(t);await Xf(!0,n,e);const{providerUserInfo:i}=await mx(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=wS(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function jy(t,e,n=!1){const i=await Rr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mi._forOperation(t,"link",i)}async function Xf(t,e,n){await hc(e);const i=wS(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";W(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Rr(t,_S(i,s,e,t),n);W(o.idToken,i,"internal-error");const l=zf(o.idToken);W(l,i,"internal-error");const{sub:c}=l;return W(t.uid===c,i,"user-mismatch"),mi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ln(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t,e,n=!1){const i="signIn",s=await _S(t,i,e),o=await mi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function Zf(t,e){return bS(Ct(t),e)}async function IS(t,e){const n=Ee(t);return await Xf(!1,n,e.providerId),jy(n,e)}async function TS(t,e){return ES(Ee(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e){return Dr(t,"POST","/v1/accounts:signInWithCustomToken",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e){const n=Ct(t),i=await uL(n,{token:e,returnSecureToken:!0}),s=await mi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?$y._fromServerResponse(e,n):"totpInfo"in n?Hy._fromServerResponse(e,n):ln(e,"internal-error")}}class $y extends Vc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new $y(n)}}class Hy extends Vc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Hy(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){var i;W(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(t){const e=Ct(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hL(t,e,n){const i=Ct(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&ep(i,s,n),await Yf(i,s,"getOobCode",Kx)}async function dL(t,e,n){await gS(Ee(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qy(t),i})}async function fL(t,e){await Hx(Ee(t),{oobCode:e})}async function AS(t,e){const n=Ee(t),i=await gS(n,{oobCode:e}),s=i.requestType;switch(W(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(i.mfaInfo,n,"internal-error");default:W(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Vc._fromServerResponse(Ct(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function pL(t,e){const{data:n}=await AS(Ee(t),e);return n.email}async function mL(t,e,n){const i=Ct(t),l=await Yf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yS).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&qy(t),d}),c=await mi._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function gL(t,e,n){return Zf(Ee(t),Is.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&qy(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e,n){const i=Ct(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){W(c.handleCodeInApp,i,"argument-error"),c&&ep(i,l,c)}o(s,n),await Yf(i,s,"getOobCode",Gx)}function yL(t,e){const n=Jf.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function _L(t,e,n){const i=Ee(t),s=Is.credentialWithLink(e,n||cc());return W(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Zf(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t,e){return zt(t,"POST","/v1/accounts:createAuthUri",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){const n=Vy()?cc():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await wL(Ee(t),i);return s||[]}async function bL(t,e){const n=Ee(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ep(n.auth,s,e);const{email:o}=await Wx(n.auth,s);o!==t.email&&await t.reload()}async function IL(t,e,n){const i=Ee(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&ep(i.auth,o,n);const{email:l}=await zx(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return zt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ee(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Rr(i,TL(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function SL(t,e){return SS(Ee(t),e,null)}function RL(t,e){return SS(Ee(t),null,e)}async function SS(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Rr(t,vS(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=zf(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Da(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new PL(o,s);case"github.com":return new kL(o,s);case"google.com":return new OL(o,s);case"twitter.com":return new NL(o,s,t.screenName||null);case"custom":case"anonymous":return new Da(o,null);default:return new Da(o,i,s)}}class Da{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class RS extends Da{constructor(e,n,i,s){super(e,n,i),this.username=s}}class PL extends Da{constructor(e,n){super(e,"facebook.com",n)}}class kL extends RS{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class OL extends Da{constructor(e,n){super(e,"google.com",n)}}class NL extends RS{constructor(e,n,i){super(e,"twitter.com",n,i)}}function DL(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:CL(n)}function xL(t,e,n,i){return Ee(t).onIdTokenChanged(e,n,i)}function LL(t,e,n){return Ee(t).beforeAuthStateChanged(e,n)}function ML(t,e,n,i){return Ee(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new no("enroll",e,n)}static _fromMfaPendingCredential(e){return new no("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return no._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return no._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Ct(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>Vc._fromServerResponse(i,c));W(s.mfaPendingCredential,i,"internal-error");const l=no._fromMfaPendingCredential(s.mfaPendingCredential);return new Wy(l,o,async c=>{const d=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":const m=await mi._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(m.user),m;case"reauthenticate":return W(n.user,i,"internal-error"),mi._forOperation(n.user,n.operationType,f);default:ln(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function VL(t,e){var n;const i=Ee(t),s=e;return W(e.customData.operationType,i,"argument-error"),W((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),Wy._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:start",xt(t,e))}function UL(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:finalize",xt(t,e))}function BL(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",xt(t,e))}class Ky{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Vc._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new Ky(e)}async getSession(){return no._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await Rr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Rr(this.user,BL(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const Kg=new WeakMap;function jL(t){const e=Ee(t);return Kg.has(e)||Kg.set(e,Ky._fromUser(e)),Kg.get(e)}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){const t=Kt();return Uy(t)||dl(t)}const HL=1e3,qL=10;class PS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$L()&&Cx(),this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Rx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qL):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},HL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PS.type="LOCAL";const tp=PS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kS.type="SESSION";const vs=kS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new np(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await WL(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Fc("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return window}function GL(t){Bt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){return typeof Bt().WorkerGlobalScope<"u"&&typeof Bt().importScripts=="function"}async function zL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QL(){return Gy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebaseLocalStorageDb",JL=1,df="firebaseLocalStorage",NS="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ip(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function XL(){const t=indexedDB.deleteDatabase(OS);return new Uc(t).toPromise()}function Sv(){const t=indexedDB.open(OS,JL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(df,{keyPath:NS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(df)?e(i):(i.close(),await XL(),e(await Sv()))})})}async function fI(t,e,n){const i=ip(t,!0).put({[NS]:e,value:n});return new Uc(i).toPromise()}async function ZL(t,e){const n=ip(t,!1).get(e),i=await new Uc(n).toPromise();return i===void 0?null:i.value}function pI(t,e){const n=ip(t,!0).delete(e);return new Uc(n).toPromise()}const eM=800,tM=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>tM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(QL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zL(),!this.activeServiceWorker)return;this.sender=new KL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sv();return await fI(e,hf,"1"),await pI(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>fI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>ZL(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ip(s,!1).getAll();return new Uc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const Wa=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e){return zt(t,"POST","/v2/accounts/mfaSignIn:start",xt(t,e))}function iM(t,e){return zt(t,"POST","/v2/accounts/mfaSignIn:finalize",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=500,sM=6e4,Td=1e12;class oM{constructor(e){this.auth=e,this.counter=Td,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new aM(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||Td;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||Td;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||Td;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class aM{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;W(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=lM(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},sM)},rM))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function lM(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=fS("rcb"),uM=new Lc(3e4,6e4),cM="https://www.google.com/recaptcha/api.js?";class hM{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Bt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(dM(n),e,"argument-error"),this.shouldResolveImmediately(n)&&sI(Bt().grecaptcha)?Promise.resolve(Bt().grecaptcha):new Promise((i,s)=>{const o=Bt().setTimeout(()=>{s(yn(e,"network-request-failed"))},uM.get());Bt()[Gg]=()=>{Bt().clearTimeout(o),delete Bt()[Gg];const c=Bt().grecaptcha;if(!c||!sI(c)){s(yn(e,"internal-error"));return}const d=c.render;c.render=(f,m)=>{const v=d(f,m);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${cM}?${cl({onload:Gg,render:"explicit",hl:n})}`;By(l).catch(()=>{clearTimeout(o),s(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Bt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function dM(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class fM{async load(e){return new oM(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="recaptcha",pM={theme:"light",type:"image"};let mM=class{constructor(e,n,i=Object.assign({},pM)){this.parameters=i,this.type=xS,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;W(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fM:new hM,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=Bt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(Vy()&&!Gy(),this.auth,"internal-error"),await gM(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await dx(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function gM(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ho._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function vM(t,e,n){const i=Ct(t),s=await rp(i,e,Ee(n));return new zy(s,o=>Zf(i,o))}async function yM(t,e,n){const i=Ee(t);await Xf(!1,i,"phone");const s=await rp(i.auth,e,Ee(n));return new zy(s,o=>IS(i,o))}async function _M(t,e,n){const i=Ee(t),s=await rp(i.auth,e,Ee(n));return new zy(s,o=>TS(i,o))}async function rp(t,e,n){var i;const s=await n.verify();try{W(typeof s=="string",t,"argument-error"),W(n.type===xS,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return W(l.type==="enroll",t,"internal-error"),(await FL(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{W(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return W(c,t,"missing-multi-factor-info"),(await nM(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await Xx(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function wM(t,e){await jy(Ee(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo=class Wd{constructor(e){this.providerId=Wd.PROVIDER_ID,this.auth=Ct(e)}verifyPhoneNumber(e,n){return rp(this.auth,e,Ee(n))}static credential(e,n){return ho._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Wd.credentialFromTaggedObject(n)}static credentialFromError(e){return Wd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?ho._fromTokenResponse(n,i):null}};yo.PROVIDER_ID="phone";yo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){return e?oi(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends fl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ir(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ir(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ir(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EM(t){return bS(t.auth,new Yy(t),t.bypassAuthState)}function bM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),ES(n,new Yy(t),t.bypassAuthState)}async function IM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),jy(n,new Yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EM;case"linkViaPopup":case"linkViaRedirect":return IM;case"reauthViaPopup":case"reauthViaRedirect":return bM;default:ln(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Lc(2e3,1e4);async function AM(t,e,n){const i=Ct(t);hl(t,e,xr);const s=ko(i,n);return new _r(i,"signInViaPopup",e,s).executeNotNull()}async function SM(t,e,n){const i=Ee(t);hl(i.auth,e,xr);const s=ko(i.auth,n);return new _r(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function RM(t,e,n){const i=Ee(t);hl(i.auth,e,xr);const s=ko(i.auth,n);return new _r(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class _r extends LS{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Fc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TM.get())};e()}}_r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="pendingRedirect",Yu=new Map;class PM extends LS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const i=await kM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kM(t,e){const n=VS(e),i=MS(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function Qy(t,e){return MS(t)._set(VS(e),"true")}function OM(){Yu.clear()}function Jy(t,e){Yu.set(t._key(),e)}function MS(t){return oi(t._redirectPersistence)}function VS(t){return co(CM,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e,n){return DM(t,e,n)}async function DM(t,e,n){const i=Ct(t);hl(t,e,xr),await i._initializationPromise;const s=ko(i,n);return await Qy(s,i),s._openRedirect(i,e,"signInViaRedirect")}function xM(t,e,n){return LM(t,e,n)}async function LM(t,e,n){const i=Ee(t);hl(i.auth,e,xr),await i.auth._initializationPromise;const s=ko(i.auth,n);await Qy(s,i.auth);const o=await FS(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function MM(t,e,n){return VM(t,e,n)}async function VM(t,e,n){const i=Ee(t);hl(i.auth,e,xr),await i.auth._initializationPromise;const s=ko(i.auth,n);await Xf(!1,i,e.providerId),await Qy(s,i.auth);const o=await FS(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function FM(t,e){return await Ct(t)._initializationPromise,sp(t,e,!1)}async function sp(t,e,n=!1){const i=Ct(t),s=ko(i,e),l=await new PM(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function FS(t){const e=Fc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=10*60*1e3;class US{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!BS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UM&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS(t,e={}){return zt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$M=/^https?/;async function HM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jS(t);for(const n of e)try{if(qM(n))return}catch{}ln(t,"unauthorized-domain")}function qM(t){const e=cc(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!$M.test(n))return!1;if(jM.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new Lc(3e4,6e4);function gI(){const t=Bt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KM(t){return new Promise((e,n)=>{var i,s,o;function l(){gI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gI(),n(yn(t,"network-request-failed"))},timeout:WM.get()})}if(!((s=(i=Bt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Bt().gapi)===null||o===void 0)&&o.load)l();else{const c=fS("iframefcb");return Bt()[c]=()=>{gapi.load?l():n(yn(t,"network-request-failed"))},By(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function GM(t){return Kd=Kd||KM(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Lc(5e3,15e3),YM="__/auth/iframe",QM="emulator/auth/iframe",JM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZM(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,QM):`https://${t.config.authDomain}/${YM}`,i={apiKey:e.apiKey,appName:t.name,v:Nr},s=XM.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${cl(i).slice(1)}`}async function eV(t){const e=await GM(t),n=Bt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:ZM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JM,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=yn(t,"network-request-failed"),c=Bt().setTimeout(()=>{o(l)},zM.get());function d(){Bt().clearTimeout(c),s(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nV=500,iV=600,rV="_blank",sV="http://localhost";class vI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oV(t,e,n,i=nV,s=iV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},tV),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Kt().toLowerCase();n&&(c=aS(f)?rV:n),oS(f)&&(e=e||sV,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[E,A])=>`${_}${E}=${A},`,"");if(Sx(f)&&c!=="_self")return aV(e||"",c),new vI(null);const v=window.open(e||"",c,m);W(v,t,"popup-blocked");try{v.focus()}catch{}return new vI(v)}function aV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="__/auth/handler",uV="emulator/auth/handler",cV=encodeURIComponent("fac");async function Rv(t,e,n,i,s,o){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Nr,eventId:s};if(e instanceof xr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",HN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries(o||{}))l[m]=v}if(e instanceof pl){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${cV}=${encodeURIComponent(d)}`:"";return`${hV(t)}?${cl(c).slice(1)}${f}`}function hV({config:t}){return t.emulator?Fy(t,uV):`https://${t.authDomain}/${lV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="webStorageSupport";class dV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=sp,this._overrideRedirectResult=Jy}async _openPopup(e,n,i,s){var o;Ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Rv(e,n,i,cc(),s);return oV(e,l,Fc())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await Rv(e,n,i,cc(),s);return GL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ci(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await eV(e),i=new US(e);return n.register("authEvent",s=>(W(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zg,{type:zg},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[zg];l!==void 0&&n(!!l),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hS()||Uy()||dl()}}const $S=dV;class fV{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return Zi("unexpected MultiFactorSessionType")}}}class Xy extends fV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Xy(e)}_finalizeEnroll(e,n,i){return UL(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return iM(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class HS{constructor(){}static assertion(e){return Xy._fromCredential(e)}}HS.FACTOR_ID="phone";var yI="@firebase/auth",_I="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function gV(t){sr(new Ri("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;W(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dS(t)},f=new Dx(i,s,o,d);return Bx(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),sr(new Ri("auth-internal",e=>{const n=Ct(e.getProvider("auth").getImmediate());return(i=>new pV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(yI,_I,mV(t)),jn(yI,_I,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=5*60,yV=VA("authIdTokenMaxAge")||vV;let wI=null;const _V=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>yV)return;const s=n==null?void 0:n.token;wI!==s&&(wI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qS(t=xc()){const e=Po(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ux(t,{popupRedirectResolver:$S,persistence:[Wa,tp,vs]}),i=VA("authTokenSyncURL");if(i){const o=_V(i);LL(n,o,()=>o(n.currentUser)),xL(n,l=>o(l))}const s=LA("auth");return s&&pS(n,`http://${s}`),n}gV("Browser");var wV="firebase",EV="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(wV,EV,"app");var bV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,Zy=Zy||{},Ce=bV||self;function op(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function IV(t){return Object.prototype.hasOwnProperty.call(t,Yg)&&t[Yg]||(t[Yg]=++TV)}var Yg="closure_uid_"+(1e9*Math.random()>>>0),TV=0;function AV(t,e,n){return t.call.apply(t.bind,arguments)}function SV(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Cn=AV:Cn=SV,Cn.apply(null,arguments)}function Ad(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Ts(){this.s=this.s,this.o=this.o}var RV=0;Ts.prototype.s=!1;Ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),RV!=0)&&IV(this)};Ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function e_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function EI(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(op(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var CV=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function pc(t){return/^[\s\xa0]*$/.test(t)}function ap(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Ji(t){return ap().indexOf(t)!=-1}function t_(t){return t_[" "](t),t}t_[" "]=function(){};function PV(t,e){var n=E4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var kV=Ji("Opera"),Ka=Ji("Trident")||Ji("MSIE"),KS=Ji("Edge"),Cv=KS||Ka,GS=Ji("Gecko")&&!(ap().toLowerCase().indexOf("webkit")!=-1&&!Ji("Edge"))&&!(Ji("Trident")||Ji("MSIE"))&&!Ji("Edge"),OV=ap().toLowerCase().indexOf("webkit")!=-1&&!Ji("Edge");function zS(){var t=Ce.document;return t?t.documentMode:void 0}var Pv;e:{var Qg="",Jg=function(){var t=ap();if(GS)return/rv:([^\);]+)(\)|;)/.exec(t);if(KS)return/Edge\/([\d\.]+)/.exec(t);if(Ka)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(OV)return/WebKit\/(\S+)/.exec(t);if(kV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jg&&(Qg=Jg?Jg[1]:""),Ka){var Xg=zS();if(Xg!=null&&Xg>parseFloat(Qg)){Pv=String(Xg);break e}}Pv=Qg}var kv;if(Ce.document&&Ka){var bI=zS();kv=bI||parseInt(Pv,10)||void 0}else kv=void 0;var NV=kv;function mc(t,e){if(Pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(GS){e:{try{t_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mc.$.h.call(this)}}cn(mc,Pn);var DV={2:"touch",3:"pen",4:"mouse"};mc.prototype.h=function(){mc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var jc="closure_listenable_"+(1e6*Math.random()|0),xV=0;function LV(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++xV,this.fa=this.ia=!1}function lp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function n_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function MV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function YS(t){const e={};for(const n in t)e[n]=t[n];return e}const II="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function QS(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<II.length;o++)n=II[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function up(t){this.src=t,this.g={},this.h=0}up.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=Nv(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new LV(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function Ov(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=WS(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(lp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Nv(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var i_="closure_lm_"+(1e6*Math.random()|0),Zg={};function JS(t,e,n,i,s){if(i&&i.once)return ZS(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)JS(t,e[o],n,i,s);return null}return n=o_(n),t&&t[jc]?t.O(e,n,Bc(i)?!!i.capture:!!i,s):XS(t,e,n,!1,i,s)}function XS(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=Bc(s)?!!s.capture:!!s,c=s_(t);if(c||(t[i_]=c=new up(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=VV(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)CV||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(tR(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VV(){function t(n){return e.call(t.src,t.listener,n)}const e=FV;return t}function ZS(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZS(t,e[o],n,i,s);return null}return n=o_(n),t&&t[jc]?t.P(e,n,Bc(i)?!!i.capture:!!i,s):XS(t,e,n,!0,i,s)}function eR(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)eR(t,e[o],n,i,s);else i=Bc(i)?!!i.capture:!!i,n=o_(n),t&&t[jc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Nv(o,n,i,s),-1<n&&(lp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=s_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Nv(e,n,i,s)),(n=-1<t?e[t]:null)&&r_(n))}function r_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[jc])Ov(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(tR(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=s_(e))?(Ov(n,t),n.h==0&&(n.src=null,e[i_]=null)):lp(t)}}}function tR(t){return t in Zg?Zg[t]:Zg[t]="on"+t}function FV(t,e){if(t.fa)t=!0;else{e=new mc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&r_(t),t=n.call(i,e)}return t}function s_(t){return t=t[i_],t instanceof up?t:null}var ev="__closure_events_fn_"+(1e9*Math.random()>>>0);function o_(t){return typeof t=="function"?t:(t[ev]||(t[ev]=function(e){return t.handleEvent(e)}),t[ev])}function un(){Ts.call(this),this.i=new up(this),this.S=this,this.J=null}cn(un,Ts);un.prototype[jc]=!0;un.prototype.removeEventListener=function(t,e,n,i){eR(this,t,e,n,i)};function _n(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Pn(e,t);else if(e instanceof Pn)e.target=e.target||t;else{var s=e;e=new Pn(i,t),QS(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=Sd(l,i,!0,e)&&s}if(l=e.g=t,s=Sd(l,i,!0,e)&&s,s=Sd(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=Sd(l,i,!1,e)&&s}un.prototype.N=function(){if(un.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)lp(n[i]);delete t.g[e],t.h--}}this.J=null};un.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};un.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Sd(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,d=l.la||l.src;l.ia&&Ov(t.i,l),s=c.call(d,i)!==!1&&s}}return s&&!i.defaultPrevented}var a_=Ce.JSON.stringify;class UV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function BV(){var t=l_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jV{constructor(){this.h=this.g=null}add(e,n){const i=nR.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var nR=new UV(()=>new $V,t=>t.reset());class $V{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function HV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function qV(t){Ce.setTimeout(()=>{throw t},0)}let gc,vc=!1,l_=new jV,iR=()=>{const t=Ce.Promise.resolve(void 0);gc=()=>{t.then(WV)}};var WV=()=>{for(var t;t=BV();){try{t.h.call(t.g)}catch(n){qV(n)}var e=nR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vc=!1};function cp(t,e){un.call(this),this.h=t||1,this.g=e||Ce,this.j=Cn(this.qb,this),this.l=Date.now()}cn(cp,un);Z=cp.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_n(this,"tick"),this.ga&&(u_(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function u_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Z.N=function(){cp.$.N.call(this),u_(this),delete this.g};function c_(t,e,n){if(typeof t=="function")n&&(t=Cn(t,n));else if(t&&typeof t.handleEvent=="function")t=Cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function rR(t){t.g=c_(()=>{t.g=null,t.i&&(t.i=!1,rR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class KV extends Ts{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rR(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yc(t){Ts.call(this),this.h=t,this.g={}}cn(yc,Ts);var TI=[];function sR(t,e,n,i){Array.isArray(n)||(n&&(TI[0]=n.toString()),n=TI);for(var s=0;s<n.length;s++){var o=JS(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function oR(t){n_(t.g,function(e,n){this.g.hasOwnProperty(n)&&r_(e)},t),t.g={}}yc.prototype.N=function(){yc.$.N.call(this),oR(this)};yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hp(){this.g=!0}hp.prototype.Ea=function(){this.g=!1};function GV(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(1<f.length){var m=f[0];f=f[1];var v=m.split("_");l=2<=v.length&&v[1]=="type"?l+(m+"="+f+"&"):l+(m+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function zV(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function ka(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+QV(t,n)+(i?" "+i:"")})}function YV(t,e){t.info(function(){return"TIMEOUT: "+e})}hp.prototype.info=function(){};function QV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return a_(n)}catch{return e}}var Oo={},AI=null;function dp(){return AI=AI||new un}Oo.Ta="serverreachability";function aR(t){Pn.call(this,Oo.Ta,t)}cn(aR,Pn);function _c(t){const e=dp();_n(e,new aR(e))}Oo.STAT_EVENT="statevent";function lR(t,e){Pn.call(this,Oo.STAT_EVENT,t),this.stat=e}cn(lR,Pn);function Bn(t){const e=dp();_n(e,new lR(e,t))}Oo.Ua="timingevent";function uR(t,e){Pn.call(this,Oo.Ua,t),this.size=e}cn(uR,Pn);function $c(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var fp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function h_(){}h_.prototype.h=null;function SI(t){return t.h||(t.h=t.i())}function hR(){}var Hc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function d_(){Pn.call(this,"d")}cn(d_,Pn);function f_(){Pn.call(this,"c")}cn(f_,Pn);var Dv;function pp(){}cn(pp,h_);pp.prototype.g=function(){return new XMLHttpRequest};pp.prototype.i=function(){return{}};Dv=new pp;function qc(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new yc(this),this.P=JV,t=Cv?125:void 0,this.V=new cp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dR}function dR(){this.i=null,this.g="",this.h=!1}var JV=45e3,xv={},ff={};Z=qc.prototype;Z.setTimeout=function(t){this.P=t};function Lv(t,e,n){t.L=1,t.v=gp(Cr(e)),t.s=n,t.S=!0,fR(t,null)}function fR(t,e){t.G=Date.now(),Wc(t),t.A=Cr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),ER(n.i,"t",i),t.C=0,n=t.l.J,t.h=new dR,t.g=$R(t.l,n?e:null,!t.s),0<t.O&&(t.M=new KV(Cn(t.Pa,t,t.g),t.O)),sR(t.U,t.g,"readystatechange",t.nb),e=t.I?YS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_c(),GV(t.j,t.u,t.A,t.m,t.W,t.s)}Z.nb=function(t){t=t.target;const e=this.M;e&&er(t)==3?e.l():this.Pa(t)};Z.Pa=function(t){try{if(t==this.g)e:{const m=er(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>m)&&(m!=3||Cv||this.g&&(this.h.h||this.g.ja()||kI(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?_c(3):_c(2)),mp(this);var n=this.g.da();this.ca=n;t:if(pR(this)){var i=kI(this.g);t="";var s=i.length,o=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){io(this),Qu(this);var l="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,zV(this.j,this.u,this.A,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pc(c)){var f=c;break t}}f=null}if(n=f)ka(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mv(this,n);else{this.i=!1,this.o=3,Bn(12),io(this),Qu(this);break e}}this.S?(mR(this,m,l),Cv&&this.i&&m==3&&(sR(this.U,this.V,"tick",this.mb),this.V.start())):(ka(this.j,this.m,l,null),Mv(this,l)),m==4&&io(this),this.i&&!this.J&&(m==4?FR(this.l,this):(this.i=!1,Wc(this)))}else y4(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Bn(12)):(this.o=0,Bn(13)),io(this),Qu(this)}}}catch{}finally{}};function pR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function mR(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=XV(t,n),s==ff){e==4&&(t.o=4,Bn(14),i=!1),ka(t.j,t.m,null,"[Incomplete Response]");break}else if(s==xv){t.o=4,Bn(15),ka(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ka(t.j,t.m,s,null),Mv(t,s);pR(t)&&s!=ff&&s!=xv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),__(e),e.M=!0,Bn(11))):(ka(t.j,t.m,n,"[Invalid Chunked Response]"),io(t),Qu(t))}Z.mb=function(){if(this.g){var t=er(this.g),e=this.g.ja();this.C<e.length&&(mp(this),mR(this,t,e),this.i&&t!=4&&Wc(this))}};function XV(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?ff:(n=Number(e.substring(n,i)),isNaN(n)?xv:(i+=1,i+n>e.length?ff:(e=e.slice(i,i+n),t.C=i+n,e)))}Z.cancel=function(){this.J=!0,io(this)};function Wc(t){t.Y=Date.now()+t.P,gR(t,t.P)}function gR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=$c(Cn(t.lb,t),e)}function mp(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}Z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(YV(this.j,this.A),this.L!=2&&(_c(),Bn(17)),io(this),this.o=2,Qu(this)):gR(this,this.Y-t)};function Qu(t){t.l.H==0||t.J||FR(t.l,t)}function io(t){mp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,u_(t.V),oR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Vv(n.i,t))){if(!t.K&&Vv(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)gf(n),_p(n);else break e;y_(n),Bn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=$c(Cn(n.ib,n),6e3));if(1>=TR(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ro(n,11)}else if((t.K||n.g==t)&&gf(n),!pc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const m=f[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const _=f[5];_!=null&&typeof _=="number"&&0<_&&(i=1.5*_,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const E=t.g;if(E){const A=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var o=i.i;o.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(p_(o,o.h),o.h=null))}if(i.F){const y=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.Da=y,pt(i.I,i.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=jR(i,i.J?i.pa:null,i.Y),l.K){AR(i.i,l);var c=l,d=i.L;d&&c.setTimeout(d),c.B&&(mp(c),Wc(c)),i.g=l}else MR(i);0<n.j.length&&wp(n)}else f[0]!="stop"&&f[0]!="close"||ro(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?ro(n,7):v_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}_c(4)}catch{}}function ZV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(op(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function e4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(op(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function vR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(op(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=e4(t),i=ZV(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var yR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fo){this.h=t.h,pf(this,t.j),this.s=t.s,this.g=t.g,mf(this,t.m),this.l=t.l;var e=t.i,n=new wc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RI(this,n),this.o=t.o}else t&&(e=String(t).match(yR))?(this.h=!1,pf(this,e[1]||"",!0),this.s=Bu(e[2]||""),this.g=Bu(e[3]||"",!0),mf(this,e[4]),this.l=Bu(e[5]||"",!0),RI(this,e[6]||"",!0),this.o=Bu(e[7]||"")):(this.h=!1,this.i=new wc(null,this.h))}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ju(e,CI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ju(e,CI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ju(n,n.charAt(0)=="/"?r4:i4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ju(n,o4)),t.join("")};function Cr(t){return new fo(t)}function pf(t,e,n){t.j=n?Bu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RI(t,e,n){e instanceof wc?(t.i=e,a4(t.i,t.h)):(n||(e=ju(e,s4)),t.i=new wc(e,t.h))}function pt(t,e,n){t.i.set(e,n)}function gp(t){return pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ju(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,n4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function n4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var CI=/[#\/\?@]/g,i4=/[#\?:]/g,r4=/[#\?]/g,s4=/[#\?@]/g,o4=/#/g;function wc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function As(t){t.g||(t.g=new Map,t.h=0,t.i&&t4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=wc.prototype;Z.add=function(t,e){As(this),this.i=null,t=ml(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function _R(t,e){As(t),e=ml(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wR(t,e){return As(t),e=ml(t,e),t.g.has(e)}Z.forEach=function(t,e){As(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};Z.ta=function(){As(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};Z.Z=function(t){As(this);let e=[];if(typeof t=="string")wR(this,t)&&(e=e.concat(this.g.get(ml(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return As(this),this.i=null,t=ml(this,t),wR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ER(t,e,n){_R(t,e),0<n.length&&(t.i=null,t.g.set(ml(t,e),e_(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function ml(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function a4(t,e){e&&!t.j&&(As(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(_R(this,i),ER(this,s,n))},t)),t.j=e}var l4=class{constructor(t,e){this.g=t,this.map=e}};function bR(t){this.l=t||u4,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var u4=10;function IR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function TR(t){return t.h?1:t.g?t.g.size:0}function Vv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function p_(t,e){t.g?t.g.add(e):t.h=e}function AR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bR.prototype.cancel=function(){if(this.i=SR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function SR(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return e_(t.i)}var c4=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function h4(){this.g=new c4}function d4(t,e,n){const i=n||"";try{vR(t,function(s,o){let l=s;Bc(s)&&(l=a_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function f4(t,e){const n=new hp;if(Ce.Image){const i=new Image;i.onload=Ad(Rd,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ad(Rd,n,i,"TestLoadImage: error",!1,e),i.onabort=Ad(Rd,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ad(Rd,n,i,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Rd(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Kc(t){this.l=t.ec||null,this.j=t.ob||!1}cn(Kc,h_);Kc.prototype.g=function(){return new vp(this.l,this.j)};Kc.prototype.i=function(t){return function(){return t}}({});function vp(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=m_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(vp,un);var m_=0;Z=vp.prototype;Z.open=function(t,e){if(this.readyState!=m_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ec(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gc(this)),this.readyState=m_};Z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ec(this)),this.g&&(this.readyState=3,Ec(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function RR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gc(this):Ec(this),this.readyState==3&&RR(this)}};Z.Za=function(t){this.g&&(this.response=this.responseText=t,Gc(this))};Z.Ya=function(t){this.g&&(this.response=t,Gc(this))};Z.ka=function(){this.g&&Gc(this)};function Gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ec(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ec(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var p4=Ce.JSON.parse;function Pt(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CR,this.L=this.M=!1}cn(Pt,un);var CR="",m4=/^https?$/i,g4=["POST","PUT"];Z=Pt.prototype;Z.Oa=function(t){this.M=t};Z.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dv.g(),this.C=this.u?SI(this.u):SI(Dv),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){PI(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Ce.FormData&&t instanceof Ce.FormData,!(0<=WS(g4,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OR(this),0<this.B&&((this.L=v4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=c_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){PI(this,o)}};function v4(t){return Ka&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.ua=function(){typeof Zy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_n(this,"timeout"),this.abort(8))};function PI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PR(t),yp(t)}function PR(t){t.F||(t.F=!0,_n(t,"complete"),_n(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_n(this,"complete"),_n(this,"abort"),yp(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yp(this,!0)),Pt.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?kR(this):this.kb())};Z.kb=function(){kR(this)};function kR(t){if(t.h&&typeof Zy<"u"&&(!t.C[1]||er(t)!=4||t.da()!=2)){if(t.v&&er(t)==4)c_(t.La,0,t);else if(_n(t,"readystatechange"),er(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(yR)[1]||null;!s&&Ce.self&&Ce.self.location&&(s=Ce.self.location.protocol.slice(0,-1)),i=!m4.test(s?s.toLowerCase():"")}n=i}if(n)_n(t,"complete"),_n(t,"success");else{t.m=6;try{var o=2<er(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",PR(t)}}finally{yp(t)}}}}function yp(t,e){if(t.g){OR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_n(t,"ready");try{n.onreadystatechange=i}catch{}}}function OR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}Z.isActive=function(){return!!this.g};function er(t){return t.g?t.g.readyState:0}Z.da=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),p4(e)}};function kI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function y4(t){const e={};t=(t.g&&2<=er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(pc(t[i]))continue;var n=HV(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}MV(e,function(i){return i.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function NR(t){let e="";return n_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function g_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=NR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pt(t,e,n))}function Pu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DR(t){this.Ga=0,this.j=[],this.l=new hp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pu("baseRetryDelayMs",5e3,t),this.hb=Pu("retryDelaySeedMs",1e4,t),this.eb=Pu("forwardChannelMaxRetries",2,t),this.xa=Pu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new bR(t&&t.concurrentRequestLimit),this.Ja=new h4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=DR.prototype;Z.ra=8;Z.H=1;function v_(t){if(xR(t),t.H==3){var e=t.W++,n=Cr(t.I);if(pt(n,"SID",t.K),pt(n,"RID",e),pt(n,"TYPE","terminate"),zc(t,n),e=new qc(t,t.l,e),e.L=2,e.v=gp(Cr(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=$R(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wc(e)}BR(t)}function _p(t){t.g&&(__(t),t.g.cancel(),t.g=null)}function xR(t){_p(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),gf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function wp(t){if(!IR(t.i)&&!t.m){t.m=!0;var e=t.Na;gc||iR(),vc||(gc(),vc=!0),l_.add(e,t),t.C=0}}function _4(t,e){return TR(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$c(Cn(t.Na,t,e),UR(t,t.C)),t.C++,!0)}Z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new qc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=YS(o),QS(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=LR(this,s,e),n=Cr(this.I),pt(n,"RID",t),pt(n,"CVER",22),this.F&&pt(n,"X-HTTP-Session-Id",this.F),zc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(NR(o)))+"&"+e:this.o&&g_(n,this.o,o)),p_(this.i,s),this.bb&&pt(n,"TYPE","init"),this.P?(pt(n,"$req",e),pt(n,"SID","null"),s.aa=!0,Lv(s,n,null)):Lv(s,n,e),this.H=2}}else this.H==3&&(t?OI(this,t):this.j.length==0||IR(this.i)||OI(this))};function OI(t,e){var n;e?n=e.m:n=t.W++;const i=Cr(t.I);pt(i,"SID",t.K),pt(i,"RID",n),pt(i,"AID",t.V),zc(t,i),t.o&&t.s&&g_(i,t.o,t.s),n=new qc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=LR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),p_(t.i,n),Lv(n,i,e)}function zc(t,e){t.na&&n_(t.na,function(n,i){pt(e,i,n)}),t.h&&vR({},function(n,i){pt(e,i,n)})}function LR(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Cn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let d=0;d<n;d++){let f=s[d].g;const m=s[d].map;if(f-=o,0>f)o=Math.max(0,s[d].g-100),c=!1;else try{d4(m,l,"req"+f+"_")}catch{i&&i(m)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function MR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gc||iR(),vc||(gc(),vc=!0),l_.add(e,t),t.A=0}}function y_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$c(Cn(t.Ma,t),UR(t,t.A)),t.A++,!0)}Z.Ma=function(){if(this.u=null,VR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$c(Cn(this.jb,this),t)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),_p(this),VR(this))};function __(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function VR(t){t.g=new qc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cr(t.wa);pt(e,"RID","rpc"),pt(e,"SID",t.K),pt(e,"AID",t.V),pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pt(e,"TO",t.qa),pt(e,"TYPE","xmlhttp"),zc(t,e),t.o&&t.s&&g_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=gp(Cr(e)),n.s=null,n.S=!0,fR(n,t)}Z.ib=function(){this.v!=null&&(this.v=null,_p(this),y_(this),Bn(19))};function gf(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function FR(t,e){var n=null;if(t.g==e){gf(t),__(t),t.g=null;var i=2}else if(Vv(t.i,e))n=e.F,AR(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=dp(),_n(i,new uR(i,n)),wp(t)}else MR(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&_4(t,e)||i==2&&y_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ro(t,5);break;case 4:ro(t,10);break;case 3:ro(t,6);break;default:ro(t,2)}}}function UR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ro(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Cn(t.pb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||pf(n,"https"),gp(n)),f4(n.toString(),i)}else Bn(2);t.H=0,t.h&&t.h.za(e),BR(t),xR(t)}Z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))};function BR(t){if(t.H=0,t.ma=[],t.h){const e=SR(t.i);(e.length!=0||t.j.length!=0)&&(EI(t.ma,e),EI(t.ma,t.j),t.i.i.length=0,e_(t.j),t.j.length=0),t.h.ya()}}function jR(t,e,n){var i=n instanceof fo?Cr(n):new fo(n);if(i.g!="")e&&(i.g=e+"."+i.g),mf(i,i.m);else{var s=Ce.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new fo(null);i&&pf(o,i),e&&(o.g=e),s&&mf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&pt(i,n,e),pt(i,"VER",t.ra),zc(t,i),i}function $R(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Pt(new Kc({ob:!0})):new Pt(t.va),e.Oa(t.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function HR(){}Z=HR.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function vf(){if(Ka&&!(10<=Number(NV)))throw Error("Environmental error: no available transport.")}vf.prototype.g=function(t,e){return new li(t,e)};function li(t,e){un.call(this),this.g=new DR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gl(this)}cn(li,un);li.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=jR(t,null,t.Y),wp(t)};li.prototype.close=function(){v_(this.g)};li.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=a_(t),t=n);e.j.push(new l4(e.fb++,t)),e.H==3&&wp(e)};li.prototype.N=function(){this.g.h=null,delete this.j,v_(this.g),delete this.g,li.$.N.call(this)};function qR(t){d_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cn(qR,d_);function WR(){f_.call(this),this.status=1}cn(WR,f_);function gl(t){this.g=t}cn(gl,HR);gl.prototype.Ba=function(){_n(this.g,"a")};gl.prototype.Aa=function(t){_n(this.g,new qR(t))};gl.prototype.za=function(t){_n(this.g,new WR)};gl.prototype.ya=function(){_n(this.g,"b")};function w4(){this.blockSize=-1}function Pi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(Pi,w4);Pi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function tv(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Pi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)tv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){tv(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){tv(this,i),s=0;break}}this.h=s,this.i+=e};Pi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function at(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var E4={};function w_(t){return-128<=t&&128>t?PV(t,function(e){return new at([e|0],0>e?-1:0)}):new at([t|0],0>t?-1:0)}function tr(t){if(isNaN(t)||!isFinite(t))return xa;if(0>t)return pn(tr(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Fv;return new at(e,0)}function KR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pn(KR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=tr(Math.pow(e,8)),i=xa,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=tr(Math.pow(e,o)),i=i.R(o).add(tr(l))):(i=i.R(n),i=i.add(tr(l)))}return i}var Fv=4294967296,xa=w_(0),Uv=w_(1),NI=w_(16777216);Z=at.prototype;Z.ea=function(){if(di(this))return-pn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Fv+i)*e,e*=Fv}return t};Z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wr(this))return"0";if(di(this))return"-"+pn(this).toString(t);for(var e=tr(Math.pow(t,6)),n=this,i="";;){var s=_f(n,e).g;n=yf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,wr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};Z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function wr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function di(t){return t.h==-1}Z.X=function(t){return t=yf(this,t),di(t)?-1:wr(t)?0:1};function pn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new at(n,~t.h).add(Uv)}Z.abs=function(){return di(this)?pn(this):this};Z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new at(n,n[n.length-1]&-2147483648?-1:0)};function yf(t,e){return t.add(pn(e))}Z.R=function(t){if(wr(this)||wr(t))return xa;if(di(this))return di(t)?pn(this).R(pn(t)):pn(pn(this).R(t));if(di(t))return pn(this.R(pn(t)));if(0>this.X(NI)&&0>t.X(NI))return tr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,d=t.D(s)&65535;n[2*i+2*s]+=l*d,Cd(n,2*i+2*s),n[2*i+2*s+1]+=o*d,Cd(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,Cd(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,Cd(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new at(n,0)};function Cd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ku(t,e){this.g=t,this.h=e}function _f(t,e){if(wr(e))throw Error("division by zero");if(wr(t))return new ku(xa,xa);if(di(t))return e=_f(pn(t),e),new ku(pn(e.g),pn(e.h));if(di(e))return e=_f(t,pn(e)),new ku(pn(e.g),e.h);if(30<t.g.length){if(di(t)||di(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Uv,i=e;0>=i.X(t);)n=DI(n),i=DI(i);var s=ba(n,1),o=ba(i,1);for(i=ba(i,2),n=ba(n,2);!wr(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=ba(i,1),n=ba(n,1)}return e=yf(t,s.R(e)),new ku(s,e)}for(s=xa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=tr(n),l=o.R(e);di(l)||0<l.X(t);)n-=i,o=tr(n),l=o.R(e);wr(o)&&(o=Uv),s=s.add(o),t=yf(t,l)}return new ku(s,t)}Z.gb=function(t){return _f(this,t).h};Z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new at(n,this.h&t.h)};Z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new at(n,this.h|t.h)};Z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new at(n,this.h^t.h)};function DI(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new at(n,t.h)}function ba(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new at(s,t.h)}vf.prototype.createWebChannel=vf.prototype.g;li.prototype.send=li.prototype.u;li.prototype.open=li.prototype.m;li.prototype.close=li.prototype.close;fp.NO_ERROR=0;fp.TIMEOUT=8;fp.HTTP_ERROR=6;cR.COMPLETE="complete";hR.EventType=Hc;Hc.OPEN="a";Hc.CLOSE="b";Hc.ERROR="c";Hc.MESSAGE="d";un.prototype.listen=un.prototype.O;Pt.prototype.listenOnce=Pt.prototype.P;Pt.prototype.getLastError=Pt.prototype.Sa;Pt.prototype.getLastErrorCode=Pt.prototype.Ia;Pt.prototype.getStatus=Pt.prototype.da;Pt.prototype.getResponseJson=Pt.prototype.Wa;Pt.prototype.getResponseText=Pt.prototype.ja;Pt.prototype.send=Pt.prototype.ha;Pt.prototype.setWithCredentials=Pt.prototype.Oa;Pi.prototype.digest=Pi.prototype.l;Pi.prototype.reset=Pi.prototype.reset;Pi.prototype.update=Pi.prototype.j;at.prototype.add=at.prototype.add;at.prototype.multiply=at.prototype.R;at.prototype.modulo=at.prototype.gb;at.prototype.compare=at.prototype.X;at.prototype.toNumber=at.prototype.ea;at.prototype.toString=at.prototype.toString;at.prototype.getBits=at.prototype.D;at.fromNumber=tr;at.fromString=KR;var b4=function(){return new vf},I4=function(){return dp()},nv=fp,T4=cR,A4=Oo,xI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},S4=Kc,Pd=hR,R4=Pt,C4=Pi,La=at;const LI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Kf("@firebase/firestore");function Ou(){return _o.logLevel}function le(t,...e){if(_o.logLevel<=Be.DEBUG){const n=e.map(E_);_o.debug(`Firestore (${vl}): ${t}`,...n)}}function Pr(t,...e){if(_o.logLevel<=Be.ERROR){const n=e.map(E_);_o.error(`Firestore (${vl}): ${t}`,...n)}}function Ga(t,...e){if(_o.logLevel<=Be.WARN){const n=e.map(E_);_o.warn(`Firestore (${vl}): ${t}`,...n)}}function E_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: `+t;throw Pr(e),new Error(e)}function mt(t,e){t||Re()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class k4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O4{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string"),new GR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Tn(e)}}class N4{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class D4{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new N4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string"),this.R=n.token,new x4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=M4(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function Xe(t,e){return t<e?-1:t>e?1:0}function za(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Wt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Wt(0,0))}static max(){return new Pe(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(),i===void 0?i=e.length-n:i>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return bc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends bc{construct(e,n,i){return new ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new X(D.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends bc{construct(e,n,i){return new mn(e,n,i)}static isValidIdentifier(e){return V4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new X(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new X(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new X(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new X(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}function F4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(i===1e9?new Wt(n+1,0):new Wt(n,i));return new ys(s,me.empty(),e)}function U4(t){return new ys(t.readTime,t.key,-1)}class ys{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ys(Pe.min(),me.empty(),-1)}static max(){return new ys(Pe.max(),me.empty(),-1)}}function B4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==j4)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,i)=>{n(e)})}static reject(e){return new B((n,i)=>{i(e)})}static waitFor(e){return new B((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},d=>i(d))}),l=!0,o===s&&n()})}static or(e){let n=B.resolve(!1);for(const i of e)n=n.next(s=>s?B.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new B((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(m=>{l[f]=m,++c,c===o&&i(l)},m=>s(m))}})}static doWhile(e,n){return new B((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function Qc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}b_._e=-1;function Ep(t){return t==null}function wf(t){return t===0&&1/t==-1/0}function H4(t){return typeof t=="number"&&Number.isInteger(t)&&!wf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??dn.RED,this.left=s??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new dn(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,i,s,o){return this}insert(e,n,i){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VI(this.data.getIterator())}getIteratorFrom(e){return new VI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class VI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new ai([])}unionWith(e){let n=new wn(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new QR("Invalid base64 string: "+o):o}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(mt(!!t),typeof t=="string"){let e=0;const n=q4.exec(t);if(mt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function I_(t){const e=t.mapValue.fields.__previous_value__;return bp(e)?I_(e):e}function Ic(t){const e=_s(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,i,s,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class Tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bp(t)?4:K4(t)?9007199254740991:10:Re()}function ar(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=_s(s.timestampValue),c=_s(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return wo(s.bytesValue).isEqual(wo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return jt(s.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return jt(s.integerValue)===jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=jt(s.doubleValue),c=jt(o.doubleValue);return l===c?wf(l)===wf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(MI(l)!==MI(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ar(l[d],c[d])))return!1;return!0}(t,e);default:return Re()}}function Ac(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Ya(t,e){if(t===e)return 0;const n=Eo(t),i=Eo(e);if(n!==i)return Xe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=jt(o.integerValue||o.doubleValue),d=jt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return FI(t.timestampValue,e.timestampValue);case 4:return FI(Ic(t),Ic(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(o,l){const c=wo(o),d=wo(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Xe(c[f],d[f]);if(m!==0)return m}return Xe(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Xe(jt(o.latitude),jt(l.latitude));return c!==0?c:Xe(jt(o.longitude),jt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],d=l.values||[];for(let f=0;f<c.length&&f<d.length;++f){const m=Ya(c[f],d[f]);if(m)return m}return Xe(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Od.mapValue&&l===Od.mapValue)return 0;if(o===Od.mapValue)return 1;if(l===Od.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const _=Xe(d[v],m[v]);if(_!==0)return _;const E=Ya(c[d[v]],f[m[v]]);if(E!==0)return E}return Xe(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Re()}}function FI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=_s(t),i=_s(e),s=Xe(n.seconds,i.seconds);return s!==0?s:Xe(n.nanos,i.nanos)}function Qa(t){return Bv(t)}function Bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=_s(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=Bv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Bv(n.fields[l])}`;return s+"}"}(t.mapValue):Re()}function Ef(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jv(t){return!!t&&"integerValue"in t}function T_(t){return!!t&&"arrayValue"in t}function UI(t){return!!t&&"nullValue"in t}function BI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}function Ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ju(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=mn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=Ju(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Gd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){No(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Gn(Ju(this.value))}}function JR(t){const e=[];return No(t.fields,(n,i)=>{const s=new mn([n]);if(Gd(i)){const o=JR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Sn(e,0,Pe.min(),Pe.min(),Pe.min(),Gn.empty(),0)}static newFoundDocument(e,n,i,s){return new Sn(e,1,n,Pe.min(),i,s,0)}static newNoDocument(e,n){return new Sn(e,2,n,Pe.min(),Pe.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Pe.min(),Pe.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.position=e,this.inclusive=n}}function jI(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=me.comparator(me.fromName(l.referenceValue),n.key):i=Ya(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function $I(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function G4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{}class qt extends XR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Y4(e,n,i):n==="array-contains"?new X4(e,i):n==="in"?new Z4(e,i):n==="not-in"?new eF(e,i):n==="array-contains-any"?new tF(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Q4(e,i):new J4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ya(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends XR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ki(e,n)}matches(e){return ZR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ZR(t){return t.op==="and"}function eC(t){return z4(t)&&ZR(t)}function z4(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function $v(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(eC(t))return t.filters.map(e=>$v(e)).join(",");{const e=t.filters.map(n=>$v(n)).join(",");return`${t.op}(${e})`}}function tC(t,e){return t instanceof qt?function(i,s){return s instanceof qt&&i.op===s.op&&i.field.isEqual(s.field)&&ar(i.value,s.value)}(t,e):t instanceof ki?function(i,s){return s instanceof ki&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&tC(l,s.filters[c]),!0):!1}(t,e):void Re()}function nC(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof ki?function(n){return n.op.toString()+" {"+n.getFilters().map(nC).join(" ,")+"}"}(t):"Filter"}class Y4 extends qt{constructor(e,n,i){super(e,n,i),this.key=me.fromName(i.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q4 extends qt{constructor(e,n){super(e,"in",n),this.keys=iC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J4 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=iC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>me.fromName(i.referenceValue))}class X4 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return T_(n)&&Ac(n.arrayValue,this.value)}}class Z4 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class eF extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}}class tF extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!T_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ac(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function HI(t,e=null,n=[],i=[],s=null,o=null,l=null){return new nF(t,e,n,i,s,o,l)}function A_(t){const e=xe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>$v(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Qa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Qa(i)).join(",")),e.ce=n}return e.ce}function S_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$I(t.startAt,e.startAt)&&$I(t.endAt,e.endAt)}function Hv(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function iF(t,e,n,i,s,o,l,c){return new Ss(t,e,n,i,s,o,l,c)}function Ip(t){return new Ss(t)}function qI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R_(t){return t.collectionGroup!==null}function Ma(t){const e=xe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(mn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Sc(o,i))}),n.has(mn.keyField().canonicalString())||e.le.push(new Sc(mn.keyField(),i))}return e.le}function nr(t){const e=xe(t);return e.he||(e.he=rF(e,Ma(t))),e.he}function rF(t,e){if(t.limitType==="F")return HI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Sc(s.field,o)});const n=t.endAt?new Ja(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ja(t.startAt.position,t.startAt.inclusive):null;return HI(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function qv(t,e){const n=t.filters.concat([e]);return new Ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bf(t,e,n){return new Ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tp(t,e){return S_(nr(t),nr(e))&&t.limitType===e.limitType}function rC(t){return`${A_(nr(t))}|lt:${t.limitType}`}function Aa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>nC(s)).join(", ")}]`),Ep(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Qa(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Qa(s)).join(",")),`Target(${i})`}(nr(t))}; limitType=${t.limitType})`}function Ap(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Ma(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,d){const f=jI(l,c,d);return l.inclusive?f<=0:f<0}(i.startAt,Ma(i),s)||i.endAt&&!function(l,c,d){const f=jI(l,c,d);return l.inclusive?f>=0:f>0}(i.endAt,Ma(i),s))}(t,e)}function sF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sC(t){return(e,n)=>{let i=!1;for(const s of Ma(t)){const o=oF(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function oF(t,e,n){const i=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?Ya(d,f):Re()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return YR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=new bt(me.comparator);function kr(){return aF}const oC=new bt(me.comparator);function $u(...t){let e=oC;for(const n of t)e=e.insert(n.key,n);return e}function aC(t){let e=oC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function so(){return Xu()}function lC(){return Xu()}function Xu(){return new yl(t=>t.toString(),(t,e)=>t.isEqual(e))}const lF=new bt(me.comparator),uF=new wn(me.comparator);function je(...t){let e=uF;for(const n of t)e=e.add(n);return e}const cF=new wn(Xe);function hF(){return cF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(e)?"-0":e}}function cC(t){return{integerValue:""+t}}function dF(t,e){return H4(e)?cC(e):uC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this._=void 0}}function fF(t,e,n){return t instanceof If?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&bp(o)&&(o=I_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Xa?dC(t,e):t instanceof Za?fC(t,e):function(s,o){const l=hC(s,o),c=WI(l)+WI(s.Ie);return jv(l)&&jv(s.Ie)?cC(c):uC(s.serializer,c)}(t,e)}function pF(t,e,n){return t instanceof Xa?dC(t,e):t instanceof Za?fC(t,e):n}function hC(t,e){return t instanceof Tf?function(i){return jv(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class If extends Sp{}class Xa extends Sp{constructor(e){super(),this.elements=e}}function dC(t,e){const n=pC(e);for(const i of t.elements)n.some(s=>ar(s,i))||n.push(i);return{arrayValue:{values:n}}}class Za extends Sp{constructor(e){super(),this.elements=e}}function fC(t,e){let n=pC(e);for(const i of t.elements)n=n.filter(s=>!ar(s,i));return{arrayValue:{values:n}}}class Tf extends Sp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function WI(t){return jt(t.integerValue||t.doubleValue)}function pC(t){return T_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.field=e,this.transform=n}}function mF(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Xa&&s instanceof Xa||i instanceof Za&&s instanceof Za?za(i.elements,s.elements,ar):i instanceof Tf&&s instanceof Tf?ar(i.Ie,s.Ie):i instanceof If&&s instanceof If}(t.transform,e.transform)}class gF{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function gC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C_(t.key,pi.none()):new Jc(t.key,t.data,pi.none());{const n=t.data,i=Gn.empty();let s=new wn(mn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Rs(t.key,i,new ai(s.toArray()),pi.none())}}function vF(t,e,n){t instanceof Jc?function(s,o,l){const c=s.value.clone(),d=GI(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Rs?function(s,o,l){if(!zd(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=GI(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(vC(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Zu(t,e,n,i){return t instanceof Jc?function(o,l,c,d){if(!zd(o.precondition,l))return c;const f=o.value.clone(),m=zI(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Rs?function(o,l,c,d){if(!zd(o.precondition,l))return c;const f=zI(o.fieldTransforms,d,l),m=l.data;return m.setAll(vC(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return zd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function yF(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=hC(i.transform,s||null);o!=null&&(n===null&&(n=Gn.empty()),n.set(i.field,o))}return n||null}function KI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&za(i,s,(o,l)=>mF(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends Rp{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends Rp{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function GI(t,e,n){const i=new Map;mt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,pF(l,c,n[s]))}return i}function zI(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,fF(o,l,e))}return i}class C_ extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _F extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&vF(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Zu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Zu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=lC();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=gC(l,c);d!==null&&i.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,(n,i)=>KI(n,i))&&za(this.baseMutations,e.baseMutations,(n,i)=>KI(n,i))}}class P_{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){mt(e.mutations.length===i.length);let s=function(){return lF}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new P_(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,qe;function IF(t){switch(t){default:return Re();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function yC(t){if(t===void 0)return Pr("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ut.OK:return D.OK;case Ut.CANCELLED:return D.CANCELLED;case Ut.UNKNOWN:return D.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return D.INTERNAL;case Ut.UNAVAILABLE:return D.UNAVAILABLE;case Ut.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ut.NOT_FOUND:return D.NOT_FOUND;case Ut.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ut.ABORTED:return D.ABORTED;case Ut.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ut.DATA_LOSS:return D.DATA_LOSS;default:return Re()}}(qe=Ut||(Ut={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new La([4294967295,4294967295],0);function YI(t){const e=TF().encode(t),n=new C4;return n.update(e),new Uint8Array(n.digest())}function QI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new La([n,i],0),new La([s,o],0)]}class k_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(i<0)throw new Hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=La.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(La.fromNumber(i)));return s.compare(AF)===1&&(s=new La([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=YI(e),[i,s]=QI(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new k_(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=YI(e),[i,s]=QI(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Cp(Pe.min(),s,new bt(Xe),kr(),je())}}class Xc{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xc(i,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class _C{constructor(e,n){this.targetId=e,this.fe=n}}class wC{constructor(e,n,i=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class JI{constructor(){this.ge=0,this.pe=ZI(),this.ye=Nn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=je(),n=je(),i=je();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Re()}}),new Xc(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=ZI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class SF{constructor(e){this.Le=e,this.ke=new Map,this.qe=kr(),this.Qe=XI(),this.Ke=new bt(Xe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(Hv(o))if(i===0){const l=new me(o.path);this.We(n,l,Sn.newNoDocument(l,Pe.min()))}else mt(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=wo(i).toUint8Array()}catch(d){if(d instanceof QR)return Ga("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new k_(l,s,o)}catch(d){return Ga(d instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Hv(c.target)){const d=new me(c.target.path);this.qe.get(d)!==null||this.st(l,d)||this.We(l,d,Sn.newNoDocument(d,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=je();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new Cp(e,n,this.Ke,this.qe,i);return this.qe=kr(),this.Qe=XI(),this.Ke=new bt(Xe),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new JI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new wn(Xe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new JI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XI(){return new bt(me.comparator)}function ZI(){return new bt(me.comparator)}const RF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),CF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),PF=(()=>({and:"AND",or:"OR"}))();class kF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wv(t,e){return t.useProto3Json||Ep(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OF(t,e){return Af(t,e.toTimestamp())}function ir(t){return mt(!!t),Pe.fromTimestamp(function(n){const i=_s(n);return new Wt(i.seconds,i.nanos)}(t))}function O_(t,e){return function(i){return new ct(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function bC(t){const e=ct.fromString(t);return mt(SC(e)),e}function Kv(t,e){return O_(t.databaseId,e.path)}function iv(t,e){const n=bC(e);if(n.get(1)!==t.databaseId.projectId)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(IC(n))}function Gv(t,e){return O_(t.databaseId,e)}function NF(t){const e=bC(t);return e.length===4?ct.emptyPath():IC(e)}function zv(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IC(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eT(t,e,n){return{name:Kv(t,e),fields:n.value.mapValue.fields}}function DF(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(mt(m===void 0||typeof m=="string"),Nn.fromBase64String(m||"")):(mt(m===void 0||m instanceof Uint8Array),Nn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?D.UNKNOWN:yC(f.code);return new X(m,f.message||"")}(l);n=new wC(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=iv(t,i.document.name),o=ir(i.document.updateTime),l=i.document.createTime?ir(i.document.createTime):Pe.min(),c=new Gn({mapValue:{fields:i.document.fields}}),d=Sn.newFoundDocument(s,o,l,c),f=i.targetIds||[],m=i.removedTargetIds||[];n=new Yd(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=iv(t,i.document),o=i.readTime?ir(i.readTime):Pe.min(),l=Sn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new Yd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=iv(t,i.document),o=i.removedTargetIds||[];n=new Yd([],o,s,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new bF(s,o),c=i.targetId;n=new _C(c,l)}}return n}function xF(t,e){let n;if(e instanceof Jc)n={update:eT(t,e.key,e.value)};else if(e instanceof C_)n={delete:Kv(t,e.key)};else if(e instanceof Rs)n={update:eT(t,e.key,e.data),updateMask:HF(e.fieldMask)};else{if(!(e instanceof _F))return Re();n={verify:Kv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof If)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Za)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Tf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Re()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:OF(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function LF(t,e){return t&&t.length>0?(mt(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?ir(s.updateTime):ir(o);return l.isEqual(Pe.min())&&(l=ir(o)),new gF(l,s.transformResults||[])}(n,e))):[]}function MF(t,e){return{documents:[Gv(t,e.path)]}}function VF(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Gv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(d){if(d.length!==0)return AC(ki.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(v){return{field:Sa(v.field),direction:BF(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Wv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function FF(t){let e=NF(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){mt(i===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){const _=TC(v);return _ instanceof ki&&eC(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(_=>function(A){return new Sc(Ra(A.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(v){let _;return _=typeof v=="object"?v.value:v,Ep(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(v){const _=!!v.before,E=v.values||[];return new Ja(E,_)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const _=!v.before,E=v.values||[];return new Ja(E,_)}(n.endAt)),iF(e,s,l,o,c,"F",d,f)}function UF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ra(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ra(n.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ra(n.unaryFilter.field);return qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ra(n.unaryFilter.field);return qt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Ra(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ki.create(n.compositeFilter.filters.map(i=>TC(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function BF(t){return RF[t]}function jF(t){return CF[t]}function $F(t){return PF[t]}function Sa(t){return{fieldPath:t.canonicalString()}}function Ra(t){return mn.fromServerFormat(t.fieldPath)}function AC(t){return t instanceof qt?function(n){if(n.op==="=="){if(BI(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(UI(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BI(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(UI(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:jF(n.op),value:n.value}}}(t):t instanceof ki?function(n){const i=n.getFilters().map(s=>AC(s));return i.length===1?i[0]:{compositeFilter:{op:$F(n.op),filters:i}}}(t):Re()}function HF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,i,s,o=Pe.min(),l=Pe.min(),c=Nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.ut=e}}function WF(t){const e=FF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.on=new GF}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(ys.min())}updateCollectionGroup(e,n,i){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class GF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new wn(ct.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new wn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new el(0)}static Nn(){return new el(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?B.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Zu(i.mutation,s,ai.empty(),Wt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,n,i=je()){const s=so();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=$u();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=so();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,je()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=kr();const l=Xu(),c=function(){return Xu()}();return n.forEach((d,f)=>{const m=i.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof Rs)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Zu(m.mutation,f,m.mutation.getFieldMask(),Wt.now())):l.set(f.key,ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var v;return c.set(f,new YF(m,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Xu();let s=new bt((l,c)=>l-c),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=i.get(d)||ai.empty();m=c.applyToLocalView(f,m),i.set(d,m);const v=(s.get(c.batchId)||je()).add(d);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,v=lC();m.forEach(_=>{if(!o.has(_)){const E=gC(n.get(_),i.get(_));E!==null&&v.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return B.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return me.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):B.resolve(so());let c=-1,d=o;return l.next(f=>B.forEach(f,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?B.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,je())).next(m=>({batchId:c,changes:aC(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(i=>{let s=$u();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=$u();return this.indexManager.getCollectionParents(e,o).next(c=>B.forEach(c,d=>{const f=function(v,_){return new Ss(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(m=>{m.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Sn.newInvalidDocument(m)))});let c=$u();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&Zu(m.mutation,f,ai.empty(),Wt.now()),Ap(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:WF(s.bundledQuery),readTime:ir(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.overlays=new bt(me.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const i=so();return B.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),B.resolve()}getOverlaysForCollection(e,n,i){const s=so(),o=n.length+1,l=new me(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new bt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=so(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=so(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=s)););return B.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new EF(n,i));let o=this.lr.get(n);o===void 0&&(o=je(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.hr=new wn(on.Pr),this.Ir=new wn(on.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new on(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new on(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new me(new ct([])),i=new on(n,e),s=new on(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new me(new ct([])),i=new on(n,e),s=new on(n,e+1);let o=je();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new on(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class on{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return me.comparator(e.key,n.key)||Xe(e.gr,n.gr)}static Tr(e,n){return Xe(e.gr,n.gr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wn(on.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wF(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new on(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return B.resolve(l)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new wn(Xe);return n.forEach(s=>{const o=new on(s,0),l=new on(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),B.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;me.isDocumentKey(o)||(o=o.child(""));const l=new on(new me(o),0);let c=new wn(Xe);return this.yr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.gr)),!0)},l),B.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){mt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return B.forEach(n.mutations,s=>{const o=new on(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new on(n,0),s=this.yr.firstAfterOrEqual(i);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.Cr=e,this.docs=function(){return new bt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return B.resolve(i?i.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let i=kr();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Sn.newInvalidDocument(s))}),B.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=kr();const l=n.path,c=new me(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||B4(U4(m),i)<=0||(s.has(m.key)||Ap(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,i,s){Re()}vr(e,n){return B.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new tU(this)}getSize(e){return B.resolve(this.size)}}class tU extends zF{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.persistence=e,this.Fr=new yl(n=>A_(n),S_),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new N_,this.targetCount=0,this.Nr=el.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new el(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),B.waitFor(o).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return B.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),B.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return B.resolve(i)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new b_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new nU(this),this.indexManager=new KF,this.remoteDocumentCache=function(s){return new eU(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new qF(n),this.Kr=new JF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new ZF(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);const s=new rU(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class rU extends $4{constructor(e){super(),this.currentSequenceNumber=e}}class D_{constructor(e){this.persistence=e,this.Gr=new N_,this.zr=null}static jr(e){return new D_(e)}get Hr(){if(this.zr)return this.zr;throw Re()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),B.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,i=>{const s=me.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=je(),s=je();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new x_(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new sU;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(Ou()<=Be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(Ou()<=Be.DEBUG&&le("QueryEngine","Query:",Aa(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(Ou()<=Be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):B.resolve())}zi(e,n){if(qI(n))return B.resolve(null);let i=nr(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bf(n,null,"F"),i=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=je(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const f=this.Yi(n,c);return this.Zi(n,f,l,d.readTime)?this.zi(e,bf(n,null,"F")):this.Xi(e,f,n,d)}))})))}ji(e,n,i,s){return qI(n)||s.isEqual(Pe.min())?B.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?B.resolve(null):(Ou()<=Be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Aa(n)),this.Xi(e,l,n,F4(s,-1)).next(c=>c))})}Yi(e,n){let i=new wn(sC(e));return n.forEach((s,o)=>{Ap(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return Ou()<=Be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Aa(n)),this.Gi.getDocumentsMatchingQuery(e,n,ys.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new bt(Xe),this.ns=new yl(o=>A_(o),S_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function lU(t,e,n,i){return new aU(t,e,n,i)}async function RC(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let d=je();for(const f of s){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function uU(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const v=f.batch,_=v.keys();let E=B.resolve();return _.forEach(A=>{E=E.next(()=>m.getEntry(d,A)).next(y=>{const b=f.docVersions.get(A);mt(b!==null),y.version.compareTo(b)<0&&(v.applyToRemoteDocument(y,f),y.isValidDocument()&&(y.setReadTime(f.commitVersion),m.addEntry(y)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=je();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function CC(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function cU(t,e){const n=xe(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((m,v)=>{const _=s.get(v);if(!_)return;c.push(n.qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,m.addedDocuments,v)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Nn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),s=s.insert(v,E),function(y,b,R){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(_,E,m)&&c.push(n.qr.updateTargetData(o,E))});let d=kr(),f=je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(hU(o,l,e.documentUpdates).next(m=>{d=m.us,f=m.cs})),!i.isEqual(Pe.min())){const m=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(m)}return B.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ts=s,o))}function hU(t,e,n){let i=je(),s=je();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=kr();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{us:l,cs:s}})}function dU(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fU(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,B.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new as(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function Yv(t,e,n){const i=xe(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Qc(l))throw l;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function tT(t,e,n){const i=xe(t);let s=Pe.min(),o=je();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const v=xe(d),_=v.ns.get(m);return _!==void 0?B.resolve(v.ts.get(_)):v.qr.getTargetData(f,m)}(i,l,nr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:Pe.min(),n?o:je())).next(c=>(pU(i,sF(e),c),{documents:c,ls:o})))}function pU(t,e,n){let i=t.rs.get(e)||Pe.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class nT{constructor(){this.activeTargetIds=hF()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mU{constructor(){this.eo=new nT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new nT,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=null;function rv(){return Nd===null?Nd=function(){return 268435456+Math.round(2147483648*Math.random())}():Nd++,"0x"+Nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class _U extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=rv(),d=this.So(n,i);le("RestConnection",`Sending RPC '${n}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,d,f,s).then(m=>(le("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw Ga("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",d,"request:",s),m})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=vU[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=rv();return new Promise((l,c)=>{const d=new R4;d.setWithCredentials(!0),d.listenOnce(T4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case nv.NO_ERROR:const m=d.getResponseJson();le(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case nv.TIMEOUT:le(In,`RPC '${e}' ${o} timed out`),c(new X(D.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const v=d.getStatus();if(le(In,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=function(b){const R=b.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(R)>=0?R:D.UNKNOWN}(E.status);c(new X(A,E.message))}else c(new X(D.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new X(D.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{le(In,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);le(In,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,i,15)})}vo(e,n,i){const s=rv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=b4(),c=I4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new S4({})),this.bo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const m=o.join("");le(In,`Creating RPC '${e}' stream ${s}: ${m}`,d);const v=l.createWebChannel(m,d);let _=!1,E=!1;const A=new yU({co:b=>{E?le(In,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(_||(le(In,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),le(In,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},lo:()=>v.close()}),y=(b,R,P)=>{b.listen(R,F=>{try{P(F)}catch(x){setTimeout(()=>{throw x},0)}})};return y(v,Pd.EventType.OPEN,()=>{E||le(In,`RPC '${e}' stream ${s} transport opened.`)}),y(v,Pd.EventType.CLOSE,()=>{E||(E=!0,le(In,`RPC '${e}' stream ${s} transport closed`),A.Ro())}),y(v,Pd.EventType.ERROR,b=>{E||(E=!0,Ga(In,`RPC '${e}' stream ${s} transport errored:`,b),A.Ro(new X(D.UNAVAILABLE,"The operation could not be completed")))}),y(v,Pd.EventType.MESSAGE,b=>{var R;if(!E){const P=b.data[0];mt(!!P);const F=P,x=F.error||((R=F[0])===null||R===void 0?void 0:R.error);if(x){le(In,`RPC '${e}' stream ${s} received error:`,x);const Q=x.status;let re=function(he){const Ve=Ut[he];if(Ve!==void 0)return yC(Ve)}(Q),fe=x.message;re===void 0&&(re=D.INTERNAL,fe="Unknown error status: "+Q+" with message "+x.message),E=!0,A.Ro(new X(re,fe)),v.close()}else le(In,`RPC '${e}' stream ${s} received:`,P),A.Vo(P)}}),y(c,A4.STAT_EVENT,b=>{b.stat===xI.PROXY?le(In,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===xI.NOPROXY&&le(In,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.Ao()},0),A}}function sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){return new kF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,i,s,o,l,c,d){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new PC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new X(D.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wU extends kC{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=DF(this.serializer,e),i=function(o){if(!("targetChange"in o))return Pe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?ir(l.readTime):Pe.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=zv(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=Hv(d)?{documents:MF(o,d)}:{query:VF(o,d)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=EC(o,l.resumeToken);const f=Wv(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pe.min())>0){c.readTime=Af(o,l.snapshotVersion.toTimestamp());const f=Wv(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=UF(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=zv(this.serializer),n.removeTarget=e,this.e_(n)}}class EU extends kC{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=LF(e.writeResults,e.commitTime),i=ir(e.commitTime);return this.listener.I_(i,n)}return mt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=zv(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>xF(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(D.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(D.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class IU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Pr(n),this.f_=!1):le("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{Do(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=xe(d);f.C_.add(4),await Zc(f),f.M_.set("Unknown"),f.C_.delete(4),await kp(f)}(this))})}),this.M_=new IU(i,s)}}async function kp(t){if(Do(t))for(const e of t.v_)await e(!0)}async function Zc(t){for(const e of t.v_)await e(!1)}function OC(t,e){const n=xe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),V_(n)?M_(n):_l(n).Ho()&&L_(n,e))}function NC(t,e){const n=xe(t),i=_l(n);n.D_.delete(e),i.Ho()&&DC(n,e),n.D_.size===0&&(i.Ho()?i.Zo():Do(n)&&n.M_.set("Unknown"))}function L_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).u_(e)}function DC(t,e){t.x_.Oe(e),_l(t).c_(e)}function M_(t){t.x_=new SF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.M_.g_()}function V_(t){return Do(t)&&!_l(t).jo()&&t.D_.size>0}function Do(t){return xe(t).C_.size===0}function xC(t){t.x_=void 0}async function AU(t){t.D_.forEach((e,n)=>{L_(t,e)})}async function SU(t,e){xC(t),V_(t)?(t.M_.w_(e),M_(t)):t.M_.set("Unknown")}async function RU(t,e,n){if(t.M_.set("Online"),e instanceof wC&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sf(t,i)}else if(e instanceof Yd?t.x_.$e(e):e instanceof _C?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Pe.min()))try{const i=await CC(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.D_.get(f);m&&o.D_.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=o.D_.get(d);if(!m)return;o.D_.set(d,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),DC(o,d);const v=new as(m.target,d,f,m.sequenceNumber);L_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await Sf(t,i)}}async function Sf(t,e,n){if(!Qc(e))throw e;t.C_.add(1),await Zc(t),t.M_.set("Offline"),n||(n=()=>CC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await kp(t)})}function LC(t,e){return e().catch(n=>Sf(t,n,e))}async function Op(t){const e=xe(t),n=ws(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;CU(e);)try{const s=await dU(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,PU(e,s)}catch(s){await Sf(e,s)}MC(e)&&VC(e)}function CU(t){return Do(t)&&t.b_.length<10}function PU(t,e){t.b_.push(e);const n=ws(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function MC(t){return Do(t)&&!ws(t).jo()&&t.b_.length>0}function VC(t){ws(t).start()}async function kU(t){ws(t).E_()}async function OU(t){const e=ws(t);for(const n of t.b_)e.P_(n.mutations)}async function NU(t,e,n){const i=t.b_.shift(),s=P_.from(i,e,n);await LC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Op(t)}async function DU(t,e){e&&ws(t).h_&&await async function(i,s){if(function(l){return IF(l)&&l!==D.ABORTED}(s.code)){const o=i.b_.shift();ws(i).Yo(),await LC(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Op(i)}}(t,e),MC(t)&&VC(t)}async function rT(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=Do(n);n.C_.add(3),await Zc(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await kp(n)}async function xU(t,e){const n=xe(t);e?(n.C_.delete(2),await kp(n)):e||(n.C_.add(2),await Zc(n),n.M_.set("Unknown"))}function _l(t){return t.O_||(t.O_=function(n,i,s){const o=xe(n);return o.A_(),new wU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:AU.bind(null,t),Io:SU.bind(null,t),a_:RU.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),V_(t)?M_(t):t.M_.set("Unknown")):(await t.O_.stop(),xC(t))})),t.O_}function ws(t){return t.N_||(t.N_=function(n,i,s){const o=xe(n);return o.A_(),new EU(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:kU.bind(null,t),Io:DU.bind(null,t),T_:OU.bind(null,t),I_:NU.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Op(t)):(await t.N_.stop(),t.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new F_(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Qc(t))return new X(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.comparator=e?(n,i)=>e(n,i)||me.comparator(n.key,i.key):(n,i)=>me.comparator(n.key,i.key),this.keyedMap=$u(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Va;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.B_=new bt(me.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Re():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class tl{constructor(e,n,i,s,o,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new tl(e,n,Va.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.k_=void 0,this.listeners=[]}}class MU{constructor(){this.queries=new yl(e=>rC(e),Tp),this.onlineState="Unknown",this.q_=new Set}}async function B_(t,e){const n=xe(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new LU),s)try{o.k_=await n.onListen(i)}catch(l){const c=U_(l,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&$_(n)}async function j_(t,e){const n=xe(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function VU(t,e){const n=xe(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&$_(n)}function FU(t,e,n){const i=xe(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function $_(t){t.q_.forEach(e=>{e.next()})}class H_{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.key=e}}class UC{constructor(e){this.key=e}}class UU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=je(),this.mutatedKeys=je(),this._a=sC(e),this.aa=new Va(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new sT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,v)=>{const _=s.get(m),E=Ap(this.query,v)?v:null,A=!!_&&this.mutatedKeys.has(_.key),y=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;_&&E?_.data.isEqual(E.data)?A!==y&&(i.track({type:3,doc:E}),b=!0):this.ha(_,E)||(i.track({type:2,doc:E}),b=!0,(d&&this._a(E,d)>0||f&&this._a(E,f)<0)&&(c=!0)):!_&&E?(i.track({type:0,doc:E}),b=!0):_&&!E&&(i.track({type:1,doc:_}),b=!0,(d||f)&&(c=!0)),b&&(E?(l=l.add(E),o=y?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,m)=>function(_,E){const A=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return A(_)-A(E)}(f.type,m.type)||this._a(f.doc,m.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,d=c!==this.sa;return this.sa=c,o.length!==0||d?{snapshot:new tl(this.query,e.aa,s,o,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new sT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=je(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new UC(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new FC(i))}),n}da(e){this.ia=e.ls,this.oa=je();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return tl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class BU{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class jU{constructor(e){this.key=e,this.Ra=!1}}class $U{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new yl(c=>rC(c),Tp),this.fa=new Map,this.ga=new Set,this.pa=new bt(me.comparator),this.ya=new Map,this.wa=new N_,this.Sa={},this.ba=new Map,this.Da=el.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function HU(t,e){const n=ZU(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await fU(n.localStore,nr(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await qU(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&OC(n.remoteStore,l)}return s}async function qU(t,e,n,i,s){t.va=(v,_,E)=>async function(y,b,R,P){let F=b.view.ca(R);F.Zi&&(F=await tT(y.localStore,b.query,!1).then(({documents:re})=>b.view.ca(re,F)));const x=P&&P.targetChanges.get(b.targetId),Q=b.view.applyChanges(F,y.isPrimaryClient,x);return aT(y,b.targetId,Q.Ta),Q.snapshot}(t,v,_,E);const o=await tT(t.localStore,e,!0),l=new UU(e,o.ls),c=l.ca(o.documents),d=Xc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,d);aT(t,n,f.Ta);const m=new BU(e,n,l);return t.ma.set(e,m),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function WU(t,e){const n=xe(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!Tp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Yv(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),NC(n.remoteStore,i.targetId),Qv(n,i.targetId)}).catch(Yc)):(Qv(n,i.targetId),await Yv(n.localStore,i.targetId,!0))}async function KU(t,e,n){const i=e9(t);try{const s=await function(l,c){const d=xe(l),f=Wt.now(),m=c.reduce((E,A)=>E.add(A.key),je());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=kr(),y=je();return d.ss.getEntries(E,m).next(b=>{A=b,A.forEach((R,P)=>{P.isValidDocument()||(y=y.add(R))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,A)).next(b=>{v=b;const R=[];for(const P of c){const F=yF(P,v.get(P.key).overlayedDocument);F!=null&&R.push(new Rs(P.key,F,JR(F.value.mapValue),pi.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,R,c)}).next(b=>{_=b;const R=b.applyToLocalDocumentSet(v,y);return d.documentOverlayCache.saveOverlays(E,b.batchId,R)})}).then(()=>({batchId:_.batchId,changes:aC(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let f=l.Sa[l.currentUser.toKey()];f||(f=new bt(Xe)),f=f.insert(c,d),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await eh(i,s.changes),await Op(i.remoteStore)}catch(s){const o=U_(s,"Failed to persist write");n.reject(o)}}async function BC(t,e){const n=xe(t);try{const i=await cU(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?mt(l.Ra):s.removedDocuments.size>0&&(mt(l.Ra),l.Ra=!1))}),await eh(n,i,e)}catch(i){await Yc(i)}}function oT(t,e,n){const i=xe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=xe(l);d.onlineState=c;let f=!1;d.queries.forEach((m,v)=>{for(const _ of v.listeners)_.Q_(c)&&(f=!0)}),f&&$_(d)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function GU(t,e,n){const i=xe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new bt(me.comparator);l=l.insert(o,Sn.newNoDocument(o,Pe.min()));const c=je().add(o),d=new Cp(Pe.min(),new Map,new bt(Xe),l,c);await BC(i,d),i.pa=i.pa.remove(o),i.ya.delete(e),q_(i)}else await Yv(i.localStore,e,!1).then(()=>Qv(i,e,n)).catch(Yc)}async function zU(t,e){const n=xe(t),i=e.batch.batchId;try{const s=await uU(n.localStore,e);$C(n,i,null),jC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await eh(n,s)}catch(s){await Yc(s)}}async function YU(t,e,n){const i=xe(t);try{const s=await function(l,c){const d=xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(v=>(mt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(i.localStore,e);$C(i,e,n),jC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await eh(i,s)}catch(s){await Yc(s)}}function jC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function $C(t,e,n){const i=xe(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function Qv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||HC(t,i)})}function HC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(NC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),q_(t))}function aT(t,e,n){for(const i of n)i instanceof FC?(t.wa.addReference(i.key,e),QU(t,i)):i instanceof UC?(le("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||HC(t,i.key)):Re()}function QU(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(le("SyncEngine","New document in limbo: "+n),t.ga.add(i),q_(t))}function q_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new me(ct.fromString(e)),i=t.Da.next();t.ya.set(i,new jU(n)),t.pa=t.pa.insert(n,i),OC(t.remoteStore,new as(nr(Ip(n.path)),i,"TargetPurposeLimboResolution",b_._e))}}async function eh(t,e,n){const i=xe(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,d)=>{l.push(i.va(d,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const m=x_.Qi(d.targetId,f);o.push(m)}}))}),await Promise.all(l),i.Va.a_(s),await async function(d,f){const m=xe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>B.forEach(f,_=>B.forEach(_.ki,E=>m.persistence.referenceDelegate.addReference(v,_.targetId,E)).next(()=>B.forEach(_.qi,E=>m.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))}catch(v){if(!Qc(v))throw v;le("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const E=m.ts.get(_),A=E.snapshotVersion,y=E.withLastLimboFreeSnapshotVersion(A);m.ts=m.ts.insert(_,y)}}}(i.localStore,o))}async function JU(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await RC(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(d=>{d.reject(new X(D.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await eh(n,i._s)}}function XU(t,e){const n=xe(t),i=n.ya.get(e);if(i&&i.Ra)return je().add(i.key);{let s=je();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function ZU(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GU.bind(null,e),e.Va.a_=VU.bind(null,e.eventManager),e.Va.Fa=FU.bind(null,e.eventManager),e}function e9(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YU.bind(null,e),e}class lT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lU(this.persistence,new oU,e.initialUser,this.serializer)}createPersistence(e){return new iU(D_.jr,this.serializer)}createSharedClientState(e){return new mU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class t9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=JU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MU}()}createDatastore(e){const n=Pp(e.databaseInfo.databaseId),i=function(o){return new _U(o)}(e.databaseInfo);return function(o,l,c,d){return new bU(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new TU(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>oT(this.syncEngine,n,0),function(){return iT.D()?new iT:new gU}())}createSyncEngine(e,n){return function(s,o,l,c,d,f,m){const v=new $U(s,o,l,c,d,f);return m&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=xe(n);le("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await Zc(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=zR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=U_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ov(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await RC(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await r9(t);le("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>rT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>rT(e.remoteStore,o)),t._onlineComponents=e}function i9(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function r9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!i9(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await ov(t,new lT)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await ov(t,new lT);return t._offlineComponents}async function qC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await uT(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await uT(t,new t9))),t._onlineComponents}function s9(t){return qC(t).then(e=>e.syncEngine)}async function Rf(t){const e=await qC(t),n=e.eventManager;return n.onListen=HU.bind(null,e.syncEngine),n.onUnlisten=WU.bind(null,e.syncEngine),n}function o9(t,e,n={}){const i=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new W_({next:_=>{l.enqueueAndForget(()=>j_(o,v));const E=_.docs.has(c);!E&&_.fromCache?f.reject(new X(D.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?f.reject(new X(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new H_(Ip(c.path),m,{includeMetadataChanges:!0,J_:!0});return B_(o,v)}(await Rf(t),t.asyncQueue,e,n,i)),i.promise}function a9(t,e,n={}){const i=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new W_({next:_=>{l.enqueueAndForget(()=>j_(o,v)),_.fromCache&&d.source==="server"?f.reject(new X(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new H_(c,m,{includeMetadataChanges:!0,J_:!0});return B_(o,v)}(await Rf(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e,n){if(!n)throw new X(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l9(t,e,n,i){if(e===!0&&i===!0)throw new X(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hT(t){if(!me.isDocumentKey(t))throw new X(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dT(t){if(me.isDocumentKey(t))throw new X(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function $n(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Np(t);throw new X(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function u9(t,e){if(e<=0)throw new X(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new X(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new P4;switch(i.type){case"firstParty":return new D4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=cT.get(n);i&&(le("ComponentProvider","Removing Datastore"),cT.delete(n),i.terminate())}(this),Promise.resolve()}}function c9(t,e,n,i={}){var s;const o=(t=$n(t,th))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=Tn.MOCK_USER;else{c=FA(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new X(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Tn(f)}t._authCredentials=new k4(new GR(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class kn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class ds extends Li{constructor(e,n,i){super(e,n,Ip(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new me(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function G_(t,e,...n){if(t=Ee(t),K_("collection","path",e),t instanceof th){const i=ct.fromString(e,...n);return dT(i),new ds(t,null,i)}{if(!(t instanceof kn||t instanceof ds))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return dT(i),new ds(t.firestore,null,i)}}function z_(t,e){if(t=$n(t,th),K_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(D.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Li(t,null,function(i){return new Ss(ct.emptyPath(),i)}(e))}function KC(t,e,...n){if(t=Ee(t),arguments.length===1&&(e=zR.newId()),K_("doc","path",e),t instanceof th){const i=ct.fromString(e,...n);return hT(i),new kn(t,null,new me(i))}{if(!(t instanceof kn||t instanceof ds))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ct.fromString(e,...n));return hT(i),new kn(t.firestore,t instanceof ds?t.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new PC(this,"async_queue_retry"),this.iu=()=>{const n=sv();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=sv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Tr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Qc(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Pr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=F_.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&Re()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function pT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Or extends th{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new h9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||GC(this),this._firestoreClient.terminate()}}function d9(t,e){const n=typeof t=="object"?t:xc(),i=typeof t=="string"?t:e||"(default)",s=Po(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Oy("firestore");o&&c9(s,...o)}return s}function Dp(t){return t._firestoreClient||GC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function GC(t){var e,n,i;const s=t._freezeSettings(),o=function(c,d,f,m){return new W4(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,WC(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new n9(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Nn.fromBase64String(e))}catch(n){throw new X(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nl(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=/^__.*__$/;class p9{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class zC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Lp{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Cf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(YC(this.Iu)&&f9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class m9{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Pp(e)}pu(e,n,i,s=!1){return new Lp({Iu:e,methodName:n,gu:i,path:mn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ih(t){const e=t._freezeSettings(),n=Pp(t._databaseId);return new m9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QC(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);Q_("Data must be an object, but it was:",l,i);const c=ZC(i,l);let d,f;if(o.merge)d=new ai(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const _=Jv(e,v,n);if(!l.contains(_))throw new X(D.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);tP(m,_)||m.push(_)}d=new ai(m),f=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=l.fieldTransforms;return new p9(new Gn(c),d,f)}class Mp extends nh{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mp}}function JC(t,e,n){return new Lp({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class g9 extends nh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=JC(this,e,!0),i=this.yu.map(o=>xo(o,n)),s=new Xa(i);return new mC(e.path,s)}isEqual(e){return this===e}}class v9 extends nh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=JC(this,e,!0),i=this.yu.map(o=>xo(o,n)),s=new Za(i);return new mC(e.path,s)}isEqual(e){return this===e}}function y9(t,e,n,i){const s=t.pu(1,e,n);Q_("Data must be an object, but it was:",s,i);const o=[],l=Gn.empty();No(i,(d,f)=>{const m=J_(e,d,n);f=Ee(f);const v=s.Ru(m);if(f instanceof Mp)o.push(m);else{const _=xo(f,v);_!=null&&(o.push(m),l.set(m,_))}});const c=new ai(o);return new zC(l,c,s.fieldTransforms)}function _9(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[Jv(e,i,n)],d=[s];if(o.length%2!=0)throw new X(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(Jv(e,o[_])),d.push(o[_+1]);const f=[],m=Gn.empty();for(let _=c.length-1;_>=0;--_)if(!tP(f,c[_])){const E=c[_];let A=d[_];A=Ee(A);const y=l.Ru(E);if(A instanceof Mp)f.push(E);else{const b=xo(A,y);b!=null&&(f.push(E),m.set(E,b))}}const v=new ai(f);return new zC(m,v,l.fieldTransforms)}function XC(t,e,n,i=!1){return xo(n,t.pu(i?4:3,e))}function xo(t,e){if(eP(t=Ee(t)))return Q_("Unsupported field value:",e,t),ZC(t,e);if(t instanceof nh)return function(i,s){if(!YC(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let d=xo(c,s.Vu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=Ee(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dF(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Wt.fromDate(i);return{timestampValue:Af(s.serializer,o)}}if(i instanceof Wt){const o=new Wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Af(s.serializer,o)}}if(i instanceof Y_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof nl)return{bytesValue:EC(s.serializer,i._byteString)};if(i instanceof kn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O_(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${Np(i)}`)}(t,e)}function ZC(t,e){const n={};return YR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(i,s)=>{const o=xo(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function eP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Y_||t instanceof nl||t instanceof kn||t instanceof nh)}function Q_(t,e,n){if(!eP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Np(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function Jv(t,e,n){if((e=Ee(e))instanceof xp)return e._internalPath;if(typeof e=="string")return J_(t,e);throw Cf("Field path arguments must be of type string or ",t,!1,void 0,n)}const w9=new RegExp("[~\\*/\\[\\]]");function J_(t,e,n){if(e.search(w9)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xp(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cf(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${s}`),d+=")"),new X(D.INVALID_ARGUMENT,c+t+d)}function tP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E9 extends X_{data(){return super.data()}}function Vp(t,e){return typeof e=="string"?J_(t,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z_{}class Fp extends Z_{}function il(t,e,...n){let i=[];e instanceof Z_&&i.push(e),i=i.concat(n),function(o){const l=o.filter(d=>d instanceof e0).length,c=o.filter(d=>d instanceof Up).length;if(l>1||l>0&&c>0)throw new X(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Up extends Fp{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Up(e,n,i)}_apply(e){const n=this._parse(e);return rP(e._query,n),new Li(e.firestore,e.converter,qv(e._query,n))}_parse(e){const n=ih(e.firestore);return function(o,l,c,d,f,m,v){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new X(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){gT(v,m);const E=[];for(const A of v)E.push(mT(d,o,A));_={arrayValue:{values:E}}}else _=mT(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||gT(v,m),_=XC(c,l,v,m==="in"||m==="not-in");return qt.create(f,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ls(t,e,n){const i=e,s=Vp("where",t);return Up._create(s,i,n)}class e0 extends Z_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)rP(l,d),l=qv(l,d)}(e._query,n),new Li(e.firestore,e.converter,qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t0 extends Fp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(o,l)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ss(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Pf(t,e="asc"){const n=e,i=Vp("orderBy",t);return t0._create(i,n)}class n0 extends Fp{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new n0(e,n,i)}_apply(e){return new Li(e.firestore,e.converter,bf(e._query,this._limit,this._limitType))}}function kf(t){return u9("limit",t),n0._create("limit",t,"F")}class i0 extends Fp{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new i0(e,n,i)}_apply(e){const n=b9(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,function(s,o){return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function iP(...t){return i0._create("startAfter",t,!1)}function b9(t,e,n,i){if(n[0]=Ee(n[0]),n[0]instanceof X_)return function(o,l,c,d,f){if(!d)throw new X(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const v of Ma(o))if(v.field.isKeyField())m.push(Ef(l,d.key));else{const _=d.data.field(v.field);if(bp(_))throw new X(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=v.field.canonicalString();throw new X(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}m.push(_)}return new Ja(m,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=ih(t.firestore);return function(l,c,d,f,m,v){const _=l.explicitOrderBy;if(m.length>_.length)throw new X(D.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<m.length;A++){const y=m[A];if(_[A].field.isKeyField()){if(typeof y!="string")throw new X(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof y}`);if(!R_(l)&&y.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${y}' contains a slash.`);const b=l.path.child(ct.fromString(y));if(!me.isDocumentKey(b))throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const R=new me(b);E.push(Ef(c,R))}else{const b=XC(d,f,y);E.push(b)}}return new Ja(E,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function mT(t,e,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R_(e)&&n.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ct.fromString(n));if(!me.isDocumentKey(i))throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ef(t,new me(i))}if(n instanceof kn)return Ef(t,n._key);throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Np(n)}.`)}function gT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rP(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class I9{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return No(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new Y_(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=I_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ct.fromString(e);mt(SC(i));const s=new Tc(i.get(1),i.get(3)),o=new me(i.popFirst(5));return s.isEqual(n)||Pr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oP extends X_{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Vp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Qd extends oP{data(e={}){return super.data(e)}}class aP{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Qd(this._firestore,this._userDataWriter,i.key,i,new qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Qd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Qd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new qu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:T9(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function T9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){t=$n(t,kn);const e=$n(t.firestore,Or);return o9(Dp(e),t._key).then(n=>lP(e,t,n))}class r0 extends I9{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function rl(t){t=$n(t,Li);const e=$n(t.firestore,Or),n=Dp(e),i=new r0(e);return nP(t._query),a9(n,t._query).then(s=>new aP(e,i,t,s))}function V8(t,e,n){t=$n(t,kn);const i=$n(t.firestore,Or),s=sP(t.converter,e,n);return Bp(i,[QC(ih(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,pi.none())])}function F8(t,e,n,...i){t=$n(t,kn);const s=$n(t.firestore,Or),o=ih(s);let l;return l=typeof(e=Ee(e))=="string"||e instanceof xp?_9(o,"updateDoc",t._key,e,n,i):y9(o,"updateDoc",t._key,e),Bp(s,[l.toMutation(t._key,pi.exists(!0))])}function U8(t){return Bp($n(t.firestore,Or),[new C_(t._key,pi.none())])}function B8(t,e){const n=$n(t.firestore,Or),i=KC(t),s=sP(t.converter,e);return Bp(n,[QC(ih(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,pi.exists(!1))]).then(()=>i)}function j8(t,...e){var n,i,s;t=Ee(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||pT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(pT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,f,m;if(t instanceof kn)f=$n(t.firestore,Or),m=Ip(t._key.path),d={next:v=>{e[l]&&e[l](lP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=$n(t,Li);f=$n(v.firestore,Or),m=v._query;const _=new r0(f);d={next:E=>{e[l]&&e[l](new aP(f,_,v,E))},error:e[l+1],complete:e[l+2]},nP(t._query)}return function(_,E,A,y){const b=new W_(y),R=new H_(E,b,A);return _.asyncQueue.enqueueAndForget(async()=>B_(await Rf(_),R)),()=>{b.Na(),_.asyncQueue.enqueueAndForget(async()=>j_(await Rf(_),R))}}(Dp(f),m,c,d)}function Bp(t,e){return function(i,s){const o=new Tr;return i.asyncQueue.enqueueAndForget(async()=>KU(await s9(i),s,o)),o.promise}(Dp(t),e)}function lP(t,e,n){const i=n.docs.get(e._key),s=new r0(t);return new oP(t,s,e._key,i,new qu(n.hasPendingWrites,n.fromCache),e.converter)}function $8(...t){return new g9("arrayUnion",t)}function H8(...t){return new v9("arrayRemove",t)}(function(e,n=!0){(function(s){vl=s})(Nr),sr(new Ri("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Or(new O4(i.getProvider("auth-internal")),new L4(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new X(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(f.options.projectId,m)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),jn(LI,"4.3.2",e),jn(LI,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="type.googleapis.com/google.protobuf.Int64Value",R9="type.googleapis.com/google.protobuf.UInt64Value";function uP(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function Xv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Xv(e));if(typeof t=="function"||typeof t=="object")return uP(t,e=>Xv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Of(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case S9:case R9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Of(e)):typeof t=="function"||typeof t=="object"?uP(t,e=>Of(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fa extends vn{constructor(e,n,i){super(`${s0}/${e}`,n||""),this.details=i}}function C9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function P9(t,e){let n=C9(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!vT[l])return new Fa("internal","internal");n=vT[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=Of(s))}}catch{}return n==="ok"?null:new Fa(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="us-central1";function O9(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Fa("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class N9{constructor(e,n,i,s,o=Zv,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new k9(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Zv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function D9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function x9(t,e,n){return i=>M9(t,e,i,n||{})}async function L9(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function M9(t,e,n,i){const s=t._url(e);return V9(t,s,n,i)}async function V9(t,e,n,i){n=Xv(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,d=O9(c),f=await Promise.race([L9(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new Fa("cancelled","Firebase Functions instance was deleted.");const m=P9(f.status,f.json);if(m)throw m;if(!f.json)throw new Fa("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Fa("internal","Response is missing data field.");return{data:Of(v)}}const yT="@firebase/functions",_T="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9="auth-internal",U9="app-check-internal",B9="messaging-internal";function j9(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(F9),c=i.getProvider(B9),d=i.getProvider(U9);return new N9(o,l,c,d,s,t)};sr(new Ri(s0,n,"PUBLIC").setMultipleInstances(!0)),jn(yT,_T,e),jn(yT,_T,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t=xc(),e=Zv){const i=Po(Ee(t),s0).getImmediate({identifier:e}),s=Oy("functions");return s&&$9(i,...s),i}function $9(t,e,n){D9(Ee(t),e,n)}function Lo(t,e,n){return x9(Ee(t),e,n)}j9(fetch.bind(self));const H9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="firebasestorage.googleapis.com",hP="storageBucket",q9=2*60*1e3,W9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends vn{constructor(e,n,i=0){super(av(e),`Firebase Storage: ${n} (${av(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return av(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function av(t){return"storage/"+t}function K9(){const t="An unknown error occurred, please check the error payload for server response.";return new Mi(Oi.UNKNOWN,t)}function G9(){return new Mi(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z9(){return new Mi(Oi.CANCELED,"User canceled the upload/download.")}function Y9(t){return new Mi(Oi.INVALID_URL,"Invalid URL '"+t+"'.")}function Q9(t){return new Mi(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J9(){return new Mi(Oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hP+"' property when initializing the app?")}function ey(t){return new Mi(Oi.INVALID_ARGUMENT,t)}function dP(){return new Mi(Oi.APP_DELETED,"The Firebase app was deleted.")}function X9(t){return new Mi(Oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=fi.makeFromUrl(e,n)}catch{return new fi(e,"")}if(i.path==="")return i;throw Q9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${m}/b/${s}/o${_}`,"i"),A={bucket:1,path:3},y=n===cP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",R=new RegExp(`^https?://${y}/${s}/${b}`,"i"),F=[{regex:c,indices:d,postModify:o},{regex:E,indices:A,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<F.length;x++){const Q=F[x],re=Q.regex.exec(e);if(re){const fe=re[Q.indices.bucket];let ae=re[Q.indices.path];ae||(ae=""),i=new fi(fe,ae),Q.postModify(i);break}}if(i==null)throw Y9(e);return i}}class Z9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function m(...b){f||(f=!0,e.apply(null,b))}function v(b){s=setTimeout(()=>{s=null,t(E,d())},b)}function _(){o&&clearTimeout(o)}function E(b,...R){if(f){_();return}if(b){_(),m.call(null,b,...R);return}if(d()||l){_(),m.call(null,b,...R);return}i<64&&(i*=2);let F;c===1?(c=2,F=0):F=(i+Math.random())*1e3,v(F)}let A=!1;function y(b){A||(A=!0,_(),!f&&(s!==null?(b||(c=2),clearTimeout(s),v(0)):b||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,y(!0)},n),y}function t3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){return t!==void 0}function wT(t,e,n,i){if(i<e)throw ey(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw ey(`Invalid value for '${t}'. Expected ${n} or less.`)}function i3(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Nf||(Nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,i,s,o,l,c,d,f,m,v,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=v,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Dd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Nf.NO_ERROR,d=o.getStatus();if(!c||r3(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Nf.ABORT;i(!1,new Dd(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new Dd(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());n3(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=K9();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?dP():z9();l(d)}else{const d=G9();l(d)}};this.canceled_?n(!1,new Dd(!1,null,!0)):this.backoffId_=e3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function o3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function c3(t,e,n,i,s,o,l=!0){const c=i3(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return l3(f,e),o3(f,n),a3(f,o),u3(f,i),new s3(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function d3(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function f3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this._service=e,n instanceof fi?this._location=n:this._location=fi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new bo(e,n)}get root(){const e=new fi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return f3(this._location.path)}get storage(){return this._service}get parent(){const e=h3(this._location.path);if(e===null)return null;const n=new fi(this._location.bucket,e);return new bo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw X9(e)}}function p3(t,e){const n=d3(t._location.path,e),i=new fi(t._location.bucket,n);return new bo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){return/^[A-Za-z]+:\/\//.test(t)}function g3(t,e){return new bo(t,e)}function fP(t,e){if(t instanceof o0){const n=t;if(n._bucket==null)throw J9();const i=new bo(n,n._bucket);return e!=null?fP(i,e):i}else return e!==void 0?p3(t,e):t}function v3(t,e){if(e&&m3(e)){if(t instanceof o0)return g3(t,e);throw ey("To use ref(service, url), the first argument must be a Storage instance.")}else return fP(t,e)}function ET(t,e){const n=e==null?void 0:e[hP];return n==null?null:fi.makeFromBucketSpec(n,t)}function y3(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:FA(s,t.app.options.projectId))}class o0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=cP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q9,this._maxUploadRetryTime=W9,this._requests=new Set,s!=null?this._bucket=fi.makeFromBucketSpec(s,this._host):this._bucket=ET(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fi.makeFromBucketSpec(this._url,e):this._bucket=ET(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new Z9(dP());{const l=c3(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const bT="@firebase/storage",IT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="storage";function _3(t,e){return t=Ee(t),v3(t,e)}function w3(t=xc(),e){t=Ee(t);const i=Po(t,pP).getImmediate({identifier:e}),s=Oy("storage");return s&&E3(i,...s),i}function E3(t,e,n,i={}){y3(t,e,n,i)}function b3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new o0(n,i,s,e,Nr)}function I3(){sr(new Ri(pP,b3,"PUBLIC").setMultipleInstances(!0)),jn(bT,IT,""),jn(bT,IT,"esm2017")}I3();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n){this._delegate=e,this.firebase=n,af(e,new Ri("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),GA(this._delegate)))}_getService(e,n=ms){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=ms){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){af(this._delegate,e)}_addOrOverwriteComponent(e){KA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},TT=new Co("app-compat","Firebase",A3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:jn,setLogLevel:YA,onLog:zA,apps:null,SDK_VERSION:Nr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:d,modularAPIs:ex}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||ms,!Y1(e,f))throw TT.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,m={}){const v=Gf(f,m);if(Y1(e,v.name))return e[v.name];const _=new t(v,n);return e[v.name]=_,_}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const m=f.name,v=m.replace("-compat","");if(sr(f)&&f.type==="PUBLIC"){const _=(E=s())=>{if(typeof E[v]!="function")throw TT.create("invalid-app-argument",{appName:m});return E[v]()};f.serviceProps!==void 0&&rf(_,f.serviceProps),n[v]=_,t.prototype[v]=function(...E){return this._getService.bind(this,m).apply(this,f.multipleInstances?E:[])}}return f.type==="PUBLIC"?n[v]:null}function d(f,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(){const t=S3(T3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:mP,extendNamespace:e,createSubscribe:$A,ErrorFactory:Co,deepExtend:rf});function e(n){rf(t,n)}return t}const R3=mP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Kf("@firebase/app-compat"),C3="@firebase/app-compat",P3="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){jn(C3,P3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(FN()&&self.firebase!==void 0){AT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&AT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const pe=R3;k3();var O3="firebase",N3="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pe.registerVersion(O3,N3,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=2e3;async function x3(t,e,n){var i;const{BuildInfo:s}=Io();Ci(e.sessionId,"AuthEvent did not contain a session ID");const o=await U3(e.sessionId),l={};return dl()?l.ibi=s.packageName:Mc()?l.apn=s.packageName:ln(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,Rv(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function L3(t){const{BuildInfo:e}=Io(),n={};dl()?n.iosBundleId=e.packageName:Mc()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await jS(t,n)}function M3(t){const{cordova:e}=Io();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,Ax()?"_blank":"_system","location=yes"),n(s)})})}async function V3(t,e,n){const{cordova:i}=Io();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function d(){var v;o();const _=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(yn(t,"redirect-cancelled-by-user"))},D3))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Mc()&&document.addEventListener("visibilitychange",m,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),c&&window.clearTimeout(c)}})}finally{s()}}function F3(t){var e,n,i,s,o,l,c,d,f,m;const v=Io();W(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((m=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function U3(t){const e=B3(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function B3(t){if(Ci(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=20;class $3 extends US{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function H3(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:K3(),postBody:null,tenantId:t.tenantId,error:yn(t,"no-auth-event")}}function q3(t,e){return ty()._set(ny(t),e)}async function ST(t){const e=await ty()._get(ny(t));return e&&await ty()._remove(ny(t)),e}function W3(t,e){var n,i;const s=z3(e);if(s.includes("/__/auth/callback")){const o=Jd(s),l=o.firebaseError?G3(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=c?yn(c):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function K3(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<j3;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function ty(){return oi(tp)}function ny(t){return co("authEvent",t.config.apiKey,t.name)}function G3(t){try{return JSON.parse(t)}catch{return null}}function z3(t){const e=Jd(t),n=e.link?decodeURIComponent(e.link):void 0,i=Jd(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Jd(s).link||s||i||n||t}function Jd(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Pa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=500;class Q3{constructor(){this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=sp,this._overrideRedirectResult=Jy}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new $3(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){F3(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),OM(),await this._originValidation(e);const l=H3(e,i,s);await q3(e,l);const c=await x3(e,l,n),d=await M3(c);return V3(e,o,d)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L3(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=Io(),l=setTimeout(async()=>{await ST(e),n.onEvent(RT())},Y3),c=async m=>{clearTimeout(l);const v=await ST(e);let _=null;v&&(m!=null&&m.url)&&(_=W3(v,m.url)),n.onEvent(_||RT())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const d=s,f=`${o.packageName.toLowerCase()}://`;Io().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&c({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}}}}const J3=Q3;function RT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t,e){Ct(t)._logFramework(e)}var Z3="@firebase/auth-compat",e6="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=1e3;function ec(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function n6(){return ec()==="http:"||ec()==="https:"}function gP(t=Kt()){return!!((ec()==="file:"||ec()==="ionic:"||ec()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function i6(){return Ny()||UA()}function r6(){return jA()&&(document==null?void 0:document.documentMode)===11}function s6(t=Kt()){return/Edge\/\d+/.test(t)}function o6(t=Kt()){return r6()||s6(t)}function vP(){try{const t=self.localStorage,e=Fc();if(t)return t.setItem(e,"1"),t.removeItem(e),o6()?sf():!0}catch{return a0()&&sf()}return!1}function a0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lv(){return(n6()||BA()||gP())&&!i6()&&vP()&&!a0()}function yP(){return gP()&&typeof document<"u"}async function a6(){return yP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},t6);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function l6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={LOCAL:"local",NONE:"none",SESSION:"session"},Nu=W,_P="persistence";function u6(t,e){if(Nu(Object.values(ri).includes(e),t,"invalid-persistence-type"),Ny()){Nu(e!==ri.SESSION,t,"unsupported-persistence-type");return}if(UA()){Nu(e===ri.NONE,t,"unsupported-persistence-type");return}if(a0()){Nu(e===ri.NONE||e===ri.LOCAL&&sf(),t,"unsupported-persistence-type");return}Nu(e===ri.NONE||vP(),t,"unsupported-persistence-type")}async function iy(t){await t._initializationPromise;const e=wP(),n=co(_P,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function c6(t,e){const n=wP();if(!n)return[];const i=co(_P,t,e);switch(n.getItem(i)){case ri.NONE:return[Ha];case ri.LOCAL:return[Wa,vs];case ri.SESSION:return[vs];default:return[]}}function wP(){var t;try{return((t=l6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=W;class us{constructor(){this.browserResolver=oi($S),this.cordovaResolver=oi(J3),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=sp,this._overrideRedirectResult=Jy}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return yP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return h6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await a6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){return t.unwrap()}function d6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){return bP(t)}function p6(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new m6(t,VL(t,e))}else if(i){const s=bP(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function bP(t){const{_tokenResponse:e}=t instanceof vn?t.customData:t;if(!e)return null;if(!(t instanceof vn)&&"temporaryProof"in e&&"phoneNumber"in e)return yo.credentialFromResult(t);const n=e.providerId;if(!n||n===Cu.PASSWORD)return null;let i;switch(n){case Cu.GOOGLE:i=zi;break;case Cu.FACEBOOK:i=Gi;break;case Cu.GITHUB:i=Yi;break;case Cu.TWITTER:i=Qi;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:d}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?qa._create(n,c):or._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new Na(n).credential({idToken:s,accessToken:o,rawNonce:d})}return t instanceof vn?i.credentialFromError(t):i.credentialFromResult(t)}function Kn(t,e){return e.catch(n=>{throw n instanceof vn&&p6(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:f6(n),additionalUserInfo:DL(n),user:Er.getOrCreate(s)}})}async function ry(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>Kn(t,n.confirm(i))}}class m6{constructor(e,n){this.resolver=n,this.auth=d6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Kn(EP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._delegate=e,this.multiFactor=jL(e)}static getOrCreate(e){return Er.USER_MAP.has(e)||Er.USER_MAP.set(e,new Er(e)),Er.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Kn(this.auth,IS(this._delegate,e))}async linkWithPhoneNumber(e,n){return ry(this.auth,yM(this._delegate,e,n))}async linkWithPopup(e){return Kn(this.auth,RM(this._delegate,e,us))}async linkWithRedirect(e){return await iy(Ct(this.auth)),MM(this._delegate,e,us)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Kn(this.auth,TS(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ry(this.auth,_M(this._delegate,e,n))}reauthenticateWithPopup(e){return Kn(this.auth,SM(this._delegate,e,us))}async reauthenticateWithRedirect(e){return await iy(Ct(this.auth)),xM(this._delegate,e,us)}sendEmailVerification(e){return bL(this._delegate,e)}async unlink(e){return await lL(this._delegate,e),this}updateEmail(e){return SL(this._delegate,e)}updatePassword(e){return RL(this._delegate,e)}updatePhoneNumber(e){return wM(this._delegate,e)}updateProfile(e){return AL(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return IL(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Er.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=W;class sy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;Du(i,"invalid-api-key",{appName:e.name}),Du(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?us:void 0;this._delegate=n.initialize({options:{persistence:g6(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(nx),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){pS(this._delegate,e,n)}applyActionCode(e){return fL(this._delegate,e)}checkActionCode(e){return AS(this._delegate,e)}confirmPasswordReset(e,n){return dL(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Kn(this._delegate,mL(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return EL(this._delegate,e)}isSignInWithEmailLink(e){return yL(this._delegate,e)}async getRedirectResult(){Du(lv(),this._delegate,"operation-not-supported-in-this-environment");const e=await FM(this._delegate,us);return e?Kn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){X3(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=CT(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=CT(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return vL(this._delegate,e,n)}sendPasswordResetEmail(e,n){return hL(this._delegate,e,n||void 0)}async setPersistence(e){u6(this._delegate,e);let n;switch(e){case ri.SESSION:n=vs;break;case ri.LOCAL:n=await oi(Wa)._isAvailable()?Wa:tp;break;case ri.NONE:n=Ha;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Kn(this._delegate,aL(this._delegate))}signInWithCredential(e){return Kn(this._delegate,Zf(this._delegate,e))}signInWithCustomToken(e){return Kn(this._delegate,cL(this._delegate,e))}signInWithEmailAndPassword(e,n){return Kn(this._delegate,gL(this._delegate,e,n))}signInWithEmailLink(e,n){return Kn(this._delegate,_L(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ry(this._delegate,vM(this._delegate,e,n))}async signInWithPopup(e){return Du(lv(),this._delegate,"operation-not-supported-in-this-environment"),Kn(this._delegate,AM(this._delegate,e,us))}async signInWithRedirect(e){return Du(lv(),this._delegate,"operation-not-supported-in-this-environment"),await iy(this._delegate),NM(this._delegate,e,us)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return pL(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}sy.Persistence=ri;function CT(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Er.getOrCreate(l)),error:e,complete:n}}function g6(t,e){const n=c6(t,e);if(typeof self<"u"&&!n.includes(Wa)&&n.push(Wa),typeof window<"u")for(const i of[tp,vs])n.includes(i)||n.push(i);return n.includes(Ha)||n.push(Ha),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.providerId="phone",this._delegate=new yo(EP(pe.auth()))}static credential(e,n){return yo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}l0.PHONE_SIGN_IN_METHOD=yo.PHONE_SIGN_IN_METHOD;l0.PROVIDER_ID=yo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=W;class y6{constructor(e,n,i=pe.app()){var s;v6((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mM(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="auth-compat";function w6(t){t.INTERNAL.registerComponent(new Ri(_6,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new sy(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ea.EMAIL_SIGNIN,PASSWORD_RESET:Ea.PASSWORD_RESET,RECOVER_EMAIL:Ea.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ea.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ea.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ea.VERIFY_EMAIL}},EmailAuthProvider:Is,FacebookAuthProvider:Gi,GithubAuthProvider:Yi,GoogleAuthProvider:zi,OAuthProvider:Na,SAMLAuthProvider:uf,PhoneAuthProvider:l0,PhoneMultiFactorGenerator:HS,RecaptchaVerifier:y6,TwitterAuthProvider:Qi,Auth:sy,AuthCredential:fl,Error:vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Z3,e6)}w6(pe);function E6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IP={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(b,R){R=R||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(b,!!R.bubbles,!!R.cancelable,R.detail||null),P},e.prototype=window.Event.prototype);function n(y){for(;y&&y!==document.body;){var b=window.getComputedStyle(y),R=function(P,F){return!(b[P]===void 0||b[P]===F)};if(b.opacity<1||R("zIndex","auto")||R("transform","none")||R("mixBlendMode","normal")||R("filter","none")||R("perspective","none")||b.isolation==="isolate"||b.position==="fixed"||b.webkitOverflowScrolling==="touch")return!0;y=y.parentElement}return!1}function i(y){for(;y;){if(y.localName==="dialog")return y;y=y.parentElement}return null}function s(y){y&&y.blur&&y!==document.body&&y.blur()}function o(y,b){for(var R=0;R<y.length;++R)if(y[R]===b)return!0;return!1}function l(y){return!y||!y.hasAttribute("method")?!1:y.getAttribute("method").toLowerCase()==="dialog"}function c(y){if(this.dialog_=y,this.replacedStyleTop_=!1,this.openAsModal_=!1,y.hasAttribute("role")||y.setAttribute("role","dialog"),y.show=this.show.bind(this),y.showModal=this.showModal.bind(this),y.close=this.close.bind(this),"returnValue"in y||(y.returnValue=""),"MutationObserver"in window){var b=new MutationObserver(this.maybeHideModal.bind(this));b.observe(y,{attributes:!0,attributeFilter:["open"]})}else{var R=!1,P=(function(){R?this.downgradeModal():this.maybeHideModal(),R=!1}).bind(this),F,x=function(Q){if(Q.target===y){var re="DOMNodeRemoved";R|=Q.type.substr(0,re.length)===re,window.clearTimeout(F),F=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Q){y.addEventListener(Q,x)})}Object.defineProperty(y,"open",{set:this.setOpen.bind(this),get:y.hasAttribute.bind(y,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(y){y?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(y){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var b=document.createElement("div");this.dialog_.insertBefore(b,this.dialog_.firstChild),b.tabIndex=-1,b.focus(),this.dialog_.removeChild(b)}var R=document.createEvent("MouseEvents");R.initMouseEvent(y.type,y.bubbles,y.cancelable,window,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget),this.dialog_.dispatchEvent(R),y.stopPropagation()},focus_:function(){var y=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!y&&this.dialog_.tabIndex>=0&&(y=this.dialog_),!y){var b=["button","input","keygen","select","textarea"],R=b.map(function(P){return P+":not([disabled])"});R.push('[tabindex]:not([disabled]):not([tabindex=""])'),y=this.dialog_.querySelector(R.join(", "))}s(document.activeElement),y&&y.focus()},updateZIndex:function(y,b){if(y<b)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=y,this.backdrop_.style.zIndex=b},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(y){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),y!==void 0&&(this.dialog_.returnValue=y);var b=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(b)}};var d={};if(d.reposition=function(y){var b=document.body.scrollTop||document.documentElement.scrollTop,R=b+(window.innerHeight-y.offsetHeight)/2;y.style.top=Math.max(b,R)+"px"},d.isInlinePositionSetByStylesheet=function(y){for(var b=0;b<document.styleSheets.length;++b){var R=document.styleSheets[b],P=null;try{P=R.cssRules}catch{}if(P)for(var F=0;F<P.length;++F){var x=P[F],Q=null;try{Q=document.querySelectorAll(x.selectorText)}catch{}if(!(!Q||!o(Q,y))){var re=x.style.getPropertyValue("top"),fe=x.style.getPropertyValue("bottom");if(re&&re!=="auto"||fe&&fe!=="auto")return!0}}}return!1},d.needsCentering=function(y){var b=window.getComputedStyle(y);return b.position!=="absolute"||y.style.top!=="auto"&&y.style.top!==""||y.style.bottom!=="auto"&&y.style.bottom!==""?!1:!d.isInlinePositionSetByStylesheet(y)},d.forceRegisterDialog=function(y){if((window.HTMLDialogElement||y.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",y),y.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(y)},d.registerDialog=function(y){y.showModal||d.forceRegisterDialog(y)},d.DialogManager=function(){this.pendingDialogStack=[];var y=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(b){this.forwardTab_=void 0,b.stopPropagation(),y([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(b){var R=[];b.forEach(function(P){for(var F=0,x;x=P.removedNodes[F];++F){if(x instanceof Element)x.localName==="dialog"&&R.push(x);else continue;R=R.concat(x.querySelectorAll("dialog"))}}),R.length&&y(R)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var y=this.zIndexHigh_,b=0,R;R=this.pendingDialogStack[b];++b)R.updateZIndex(--y,--y),b===0&&(this.overlay.style.zIndex=--y);var P=this.pendingDialogStack[0];if(P){var F=P.dialog.parentNode||document.body;F.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(y){for(;y=i(y);){for(var b=0,R;R=this.pendingDialogStack[b];++b)if(R.dialog===y)return b===0;y=y.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(y){if(!this.containedByTopDialog_(y.target)&&(y.preventDefault(),y.stopPropagation(),s(y.target),this.forwardTab_!==void 0)){var b=this.pendingDialogStack[0],R=b.dialog,P=R.compareDocumentPosition(y.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?b.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(y){if(this.forwardTab_=void 0,y.keyCode===27){y.preventDefault(),y.stopPropagation();var b=new e("cancel",{bubbles:!1,cancelable:!0}),R=this.pendingDialogStack[0];R&&R.dialog.dispatchEvent(b)&&R.dialog.close()}else y.keyCode===9&&(this.forwardTab_=!y.shiftKey)},d.DialogManager.prototype.checkDOM_=function(y){var b=this.pendingDialogStack.slice();b.forEach(function(R){y.indexOf(R.dialog)!==-1?R.downgradeModal():R.maybeHideModal()})},d.DialogManager.prototype.pushDialog=function(y){var b=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=b?!1:(this.pendingDialogStack.unshift(y)===1&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(y){var b=this.pendingDialogStack.indexOf(y);b!==-1&&(this.pendingDialogStack.splice(b,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var m=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(m){var v=m.get;m.get=function(){return l(this)?"dialog":v.call(this)};var _=m.set;m.set=function(y){return typeof y=="string"&&y.toLowerCase()==="dialog"?this.setAttribute("method",y):_.call(this,y)},Object.defineProperty(HTMLFormElement.prototype,"method",m)}}document.addEventListener("click",function(y){if(d.formSubmitter=null,d.useValue=null,!y.defaultPrevented){var b=y.target;if(!(!b||!l(b.form))){var R=b.type==="submit"&&["button","input"].indexOf(b.localName)>-1;if(!R){if(!(b.localName==="input"&&b.type==="image"))return;d.useValue=y.offsetX+","+y.offsetY}var P=i(b);P&&(d.formSubmitter=b)}}},!1);var E=HTMLFormElement.prototype.submit,A=function(){if(!l(this))return E.call(this);var y=i(this);y&&y.close()};HTMLFormElement.prototype.submit=A,document.addEventListener("submit",function(y){var b=y.target;if(l(b)){y.preventDefault();var R=i(b);if(R){var P=d.formSubmitter;P&&P.form===b?R.close(d.useValue||P.value):R.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,typeof t.exports=="object"?t.exports=d:window.dialogPolyfill=d})()})(IP);var b6=IP.exports;const I6=E6(b6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};wt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(y,b){for(var R=0;R<t.length;R++)if(t[R].className===y)return typeof b<"u"&&(t[R]=b),t[R];return!1}function s(y){var b=y.getAttribute("data-upgraded");return b===null?[""]:b.split(",")}function o(y,b){var R=s(y);return R.indexOf(b)!==-1}function l(y,b,R){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(y,{bubbles:b,cancelable:R});var P=document.createEvent("Events");return P.initEvent(y,b,R),P}function c(y,b){if(typeof y>"u"&&typeof b>"u")for(var R=0;R<t.length;R++)c(t[R].className,t[R].cssClass);else{var P=y;if(typeof b>"u"){var F=i(P);F&&(b=F.cssClass)}for(var x=document.querySelectorAll("."+b),Q=0;Q<x.length;Q++)d(x[Q],P)}}function d(y,b){if(!(typeof y=="object"&&y instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var R=l("mdl-componentupgrading",!0,!0);if(y.dispatchEvent(R),!R.defaultPrevented){var P=s(y),F=[];if(b)o(y,b)||F.push(i(b));else{var x=y.classList;t.forEach(function(Y){x.contains(Y.cssClass)&&F.indexOf(Y)===-1&&!o(y,Y.className)&&F.push(Y)})}for(var Q=0,re=F.length,fe;Q<re;Q++){if(fe=F[Q],fe){P.push(fe.className),y.setAttribute("data-upgraded",P.join(","));var ae=new fe.classConstructor(y);ae[n]=fe,e.push(ae);for(var he=0,Ve=fe.callbacks.length;he<Ve;he++)fe.callbacks[he](y);fe.widget&&(y[fe.className]=ae)}else throw new Error("Unable to find a registered component for the given class.");var j=l("mdl-componentupgraded",!0,!1);y.dispatchEvent(j)}}}function f(y){Array.isArray(y)||(y instanceof Element?y=[y]:y=Array.prototype.slice.call(y));for(var b=0,R=y.length,P;b<R;b++)P=y[b],P instanceof HTMLElement&&(d(P),P.children.length>0&&f(P.children))}function m(y){var b=typeof y.widget>"u"&&typeof y.widget>"u",R=!0;b||(R=y.widget||y.widget);var P={classConstructor:y.constructor||y.constructor,className:y.classAsString||y.classAsString,cssClass:y.cssClass||y.cssClass,widget:R,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===P.className)throw new Error("The provided className has already been registered")}),y.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var F=i(y.classAsString,P);F||t.push(P)}function v(y,b){var R=i(y);R&&R.callbacks.push(b)}function _(){for(var y=0;y<t.length;y++)c(t[y].className)}function E(y){if(y){var b=e.indexOf(y);e.splice(b,1);var R=y.element_.getAttribute("data-upgraded").split(","),P=R.indexOf(y[n].classAsString);R.splice(P,1),y.element_.setAttribute("data-upgraded",R.join(","));var F=l("mdl-componentdowngraded",!0,!1);y.element_.dispatchEvent(F)}}function A(y){var b=function(P){e.filter(function(F){return F.element_===P}).forEach(E)};if(y instanceof Array||y instanceof NodeList)for(var R=0;R<y.length;R++)b(y[R]);else if(y instanceof Node)b(y);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:_,registerUpgradedCallback:v,register:m,downgradeElements:A}}();wt.ComponentConfigPublic;wt.ComponentConfig;wt.Component;wt.upgradeDom=wt.upgradeDom;wt.upgradeElement=wt.upgradeElement;wt.upgradeElements=wt.upgradeElements;wt.upgradeAllRegistered=wt.upgradeAllRegistered;wt.registerUpgradedCallback=wt.registerUpgradedCallback;wt.register=wt.register;wt.downgradeElements=wt.downgradeElements;window.componentHandler=wt;window.componentHandler=wt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),wt.upgradeAllRegistered()):(wt.upgradeElement=function(){},wt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(d)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(a,u);h&&Object.defineProperty(r,u,h)}else r[u]=a[u];r.K=a.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(r,a){if(a){var u=f;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in u||(u[p]={}),u=u[p]}r=r[r.length-1],h=u[r],a=a(h),a!=h&&a!=null&&d(u,r,{configurable:!0,writable:!0,value:a})}}m("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),m("Array.prototype.includes",function(r){return r||function(a,u){var h=this;h instanceof String&&(h=String(h));var p=h.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=h[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function _(r){return r!==void 0}function E(r){return typeof r=="string"}var A=/^[\w+/_-]+[=]{0,2}$/,y=null;function b(){}function R(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function P(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function F(r){return P(r)=="array"}function x(r){var a=P(r);return a=="array"||a=="object"&&typeof r.length=="number"}function Q(r){return P(r)=="function"}function re(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var fe="closure_uid_"+(1e9*Math.random()>>>0),ae=0;function he(r,a,u){return r.call.apply(r.bind,arguments)}function Ve(r,a,u){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(a,p)}}return function(){return r.apply(a,arguments)}}function j(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=he:j=Ve,j.apply(null,arguments)}function Y(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function ve(r,a){for(var u in a)r[u]=a[u]}var kt=Date.now||function(){return+new Date};function Ae(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var h;r.length&&(h=r.shift());)!r.length&&_(a)?u[h]=a:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function G(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(h,p,g){for(var w=Array(arguments.length-2),I=2;I<arguments.length;I++)w[I-2]=arguments[I];return a.prototype[p].apply(h,w)}}function te(r){if(Error.captureStackTrace)Error.captureStackTrace(this,te);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}G(te,Error),te.prototype.name="CustomError";var ye;function dt(r,a){r=r.split("%s");for(var u="",h=r.length-1,p=0;p<h;p++)u+=r[p]+(p<a.length?a[p]:"%s");te.call(this,u+r[h])}G(dt,te),dt.prototype.name="AssertionError";function et(r,a){throw new dt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var Xt=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(E(r))return E(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},tt=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var h=r.length,p=E(r)?r.split(""):r,g=0;g<h;g++)g in p&&a.call(u,p[g],g,r)};function Fi(r,a){for(var u=E(r)?r.split(""):r,h=r.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,r)}var Ui=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=[],p=0,g=E(r)?r.split(""):r,w=0;w<u;w++)if(w in g){var I=g[w];a.call(void 0,I,w,r)&&(h[p++]=I)}return h},Mo=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=Array(u),p=E(r)?r.split(""):r,g=0;g<u;g++)g in p&&(h[g]=a.call(void 0,p[g],g,r));return h},Zt=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=E(r)?r.split(""):r,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,r))return!0;return!1};function N(r,a){return 0<=Xt(r,a)}function ne(r,a){a=Xt(r,a);var u;return(u=0<=a)&&z(r,a),u}function z(r,a){return Array.prototype.splice.call(r,a,1).length==1}function de(r,a){e:{for(var u=r.length,h=E(r)?r.split(""):r,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,r)){a=p;break e}a=-1}0<=a&&z(r,a)}function Qe(r,a){var u=0;Fi(r,function(h,p){a.call(void 0,h,p,r)&&z(r,p)&&u++})}function T(r){return Array.prototype.concat.apply([],arguments)}function S(r){var a=r.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=r[h];return u}return[]}function C(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var O=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},M=/&/g,U=/</g,ee=/>/g,K=/"/g,J=/'/g,$=/\x00/g,ge=/[\x00&<>"']/;function se(r,a){return r<a?-1:r>a?1:0}function ce(r){return ge.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(M,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(U,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(ee,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(K,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(J,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace($,"&#0;"))),r}function Se(r,a,u){for(var h in r)a.call(u,r[h],h,r)}function Le(r){var a={},u;for(u in r)a[u]=r[u];return a}var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(r,a){for(var u,h,p=1;p<arguments.length;p++){h=arguments[p];for(u in h)r[u]=h[u];for(var g=0;g<rt.length;g++)u=rt[g],Object.prototype.hasOwnProperty.call(h,u)&&(r[u]=h[u])}}var lt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Yt(){}Yt.prototype.next=function(){throw lt},Yt.prototype.ha=function(){return this};function cr(r){if(r instanceof Yt)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var a=0,u=new Yt;return u.next=function(){for(;;){if(a>=r.length)throw lt;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function ch(r,a){if(x(r))try{tt(r,a,void 0)}catch(u){if(u!==lt)throw u}else{r=cr(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==lt)throw u}}}function Ps(r){if(x(r))return S(r);r=cr(r);var a=[];return ch(r,function(u){a.push(u)}),a}function ks(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof ks)for(u=r.ja(),h=0;h<u.length;h++)this.set(u[h],r.get(u[h]));else for(h in r)this.set(h,r[h])}t=ks.prototype,t.la=function(){en(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return en(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function en(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var h=r.a[a];tn(r.g,h)&&(r.a[u++]=h),a++}r.a.length=u}if(r.h!=r.a.length){var p={};for(u=a=0;a<r.a.length;)h=r.a[a],tn(p,h)||(r.a[u++]=h,p[h]=1),a++;r.a.length=u}}t.get=function(r,a){return tn(this.g,r)?this.g[r]:a},t.set=function(r,a){tn(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),h=0;h<u.length;h++){var p=u[h],g=this.get(p);r.call(a,g,p,this)}},t.ha=function(r){en(this);var a=0,u=this.j,h=this,p=new Yt;return p.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(a>=h.a.length)throw lt;var g=h.a[a++];return r?g:h.g[g]},p};function tn(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var hh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rk(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var h=r[u].indexOf("="),p=null;if(0<=h){var g=r[u].substring(0,h);p=r[u].substring(h+1)}else g=r[u];a(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function F0(r,a,u,h){for(var p=u.length;0<=(a=r.indexOf(u,a))&&a<h;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+p),!g||g==61||g==38||g==35))return a;a+=p+1}return-1}var U0=/#|$/;function dh(r,a){var u=r.search(U0),h=F0(r,0,a,u);if(0>h)return null;var p=r.indexOf("&",h);return(0>p||p>u)&&(p=u),h+=a.length+1,decodeURIComponent(r.substr(h,p-h).replace(/\+/g," "))}var sk=/[?&]($|#)/;function Mr(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof Mr?(this.i=_(a)?a:r.i,lm(this,r.j),this.A=r.A,this.h=r.h,um(this,r.C),this.g=r.g,cm(this,$0(r.a)),this.s=r.s):r&&(u=String(r).match(hh))?(this.i=!!a,lm(this,u[1]||"",!0),this.A=Tl(u[2]||""),this.h=Tl(u[3]||"",!0),um(this,u[4]),this.g=Tl(u[5]||"",!0),cm(this,u[6]||"",!0),this.s=Tl(u[7]||"")):(this.i=!!a,this.a=new Sl(null,this.i))}Mr.prototype.toString=function(){var r=[],a=this.j;a&&r.push(Al(a,B0,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(Al(a,B0,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(Al(u,u.charAt(0)=="/"?lk:ak,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",Al(u,ck)),r.join("")};function lm(r,a,u){r.j=u?Tl(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function um(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function cm(r,a,u){a instanceof Sl?(r.a=a,hk(r.a,r.i)):(u||(a=Al(a,uk)),r.a=new Sl(a,r.i))}function hm(r){return r instanceof Mr?new Mr(r):new Mr(r,void 0)}function Tl(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Al(r,a,u){return E(r)?(r=encodeURI(r).replace(a,ok),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ok(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var B0=/[#\/\?@]/g,ak=/[#\?:]/g,lk=/[#\?]/g,uk=/[#\?@]/g,ck=/#/g;function Sl(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function Vr(r){r.a||(r.a=new ks,r.g=0,r.h&&rk(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Sl.prototype,t.add=function(r,a){Vr(this),this.h=null,r=Vo(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function Os(r,a){Vr(r),a=Vo(r,a),tn(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,tn(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&en(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function j0(r,a){return Vr(r),a=Vo(r,a),tn(r.a.g,a)}t.forEach=function(r,a){Vr(this),this.a.forEach(function(u,h){tt(u,function(p){r.call(a,p,h,this)},this)},this)},t.ja=function(){Vr(this);for(var r=this.a.la(),a=this.a.ja(),u=[],h=0;h<a.length;h++)for(var p=r[h],g=0;g<p.length;g++)u.push(a[h]);return u},t.la=function(r){Vr(this);var a=[];if(E(r))j0(this,r)&&(a=T(a,this.a.get(Vo(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=T(a,r[u])}return a},t.set=function(r,a){return Vr(this),this.h=null,r=Vo(this,r),j0(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var h=a[u],p=encodeURIComponent(String(h));h=this.la(h);for(var g=0;g<h.length;g++){var w=p;h[g]!==""&&(w+="="+encodeURIComponent(String(h[g]))),r.push(w)}}return this.h=r.join("&")};function $0(r){var a=new Sl;return a.h=r.h,r.a&&(a.a=new ks(r.a),a.g=r.g),a}function Vo(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function hk(r,a){a&&!r.j&&(Vr(r),r.h=null,r.a.forEach(function(u,h){var p=h.toLowerCase();h!=p&&(Os(this,h),Os(this,p),0<u.length&&(this.h=null,this.a.set(Vo(this,p),S(u)),this.g+=u.length))},r)),r.j=a}function Ns(r){this.a=hm(r)}function dk(r,a){a?r.a.a.set(Lt.Sa,a):Os(r.a.a,Lt.Sa)}function fk(r,a){a!==null?r.a.a.set(Lt.Qa,a?"1":"0"):Os(r.a.a,Lt.Qa)}function H0(r){return r.a.a.get(Lt.Pa)||null}function q0(r,a){a?r.a.a.set(Lt.PROVIDER_ID,a):Os(r.a.a,Lt.PROVIDER_ID)}Ns.prototype.toString=function(){return this.a.toString()};var Lt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Fo;e:{var W0=v.navigator;if(W0){var K0=W0.userAgent;if(K0){Fo=K0;break e}}Fo=""}function Fe(r){return Fo.indexOf(r)!=-1}function G0(){return(Fe("Chrome")||Fe("CriOS"))&&!Fe("Edge")}function dm(r){return dm[" "](r),r}dm[" "]=b;function pk(r,a){var u=vk;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var z0=Fe("Opera"),It=Fe("Trident")||Fe("MSIE"),Fr=Fe("Edge"),mk=Fr||It,vi=Fe("Gecko")&&!(Fo.toLowerCase().indexOf("webkit")!=-1&&!Fe("Edge"))&&!(Fe("Trident")||Fe("MSIE"))&&!Fe("Edge"),Dn=Fo.toLowerCase().indexOf("webkit")!=-1&&!Fe("Edge"),gk=Dn&&Fe("Mobile"),Ur=Fe("Macintosh");function Y0(){var r=v.document;return r?r.documentMode:void 0}var fh;e:{var fm="",pm=function(){var r=Fo;if(vi)return/rv:([^\);]+)(\)|;)/.exec(r);if(Fr)return/Edge\/([\d\.]+)/.exec(r);if(It)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Dn)return/WebKit\/(\S+)/.exec(r);if(z0)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(pm&&(fm=pm?pm[1]:""),It){var mm=Y0();if(mm!=null&&mm>parseFloat(fm)){fh=String(mm);break e}}fh=fm}var vk={};function Ds(r){return pk(r,function(){for(var a=0,u=O(String(fh)).split("."),h=O(String(r)).split("."),p=Math.max(u.length,h.length),g=0;a==0&&g<p;g++){var w=u[g]||"",I=h[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;a=se(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||se(w[2].length==0,I[2].length==0)||se(w[2],I[2]),w=w[3],I=I[3]}while(a==0)}return 0<=a})}var Rl,Q0=v.document;Rl=Q0&&It?Y0()||(Q0.compatMode=="CSS1Compat"?parseInt(fh,10):5):void 0;function Uo(r,a){this.a=r===X0&&a||"",this.g=J0}Uo.prototype.ma=!0,Uo.prototype.ka=function(){return this.a},Uo.prototype.toString=function(){return"Const{"+this.a+"}"};var J0={},X0={};function xs(){this.a="",this.h=ew}xs.prototype.ma=!0,xs.prototype.ka=function(){return this.a.toString()},xs.prototype.g=function(){return 1},xs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Z0(r){return r instanceof xs&&r.constructor===xs&&r.h===ew?r.a:(et("expected object of type TrustedResourceUrl, got '"+r+"' of type "+P(r)),"type_error:TrustedResourceUrl")}function yk(){var r=uO;r instanceof Uo&&r.constructor===Uo&&r.g===J0?r=r.a:(et("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new xs;return a.a=r,a}var ew={};function Qn(){this.a="",this.h=iw}Qn.prototype.ma=!0,Qn.prototype.ka=function(){return this.a.toString()},Qn.prototype.g=function(){return 1},Qn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Br(r){return r instanceof Qn&&r.constructor===Qn&&r.h===iw?r.a:(et("expected object of type SafeUrl, got '"+r+"' of type "+P(r)),"type_error:SafeUrl")}var tw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ph(r){return r instanceof Qn?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),tw.test(r)||(r="about:invalid#zClosurez"),gm(r))}function nw(r){return r instanceof Qn?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),tw.test(r)||(r="about:invalid#zClosurez"),gm(r))}var iw={};function gm(r){var a=new Qn;return a.a=r,a}gm("about:blank");function Bo(){this.a="",this.g=rw}Bo.prototype.ma=!0;var rw={};Bo.prototype.ka=function(){return this.a},Bo.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function jr(){this.a="",this.j=sw,this.h=null}jr.prototype.g=function(){return this.h},jr.prototype.ma=!0,jr.prototype.ka=function(){return this.a.toString()},jr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function mh(r){return r instanceof jr&&r.constructor===jr&&r.j===sw?r.a:(et("expected object of type SafeHtml, got '"+r+"' of type "+P(r)),"type_error:SafeHtml")}var sw={};function Cl(r,a){var u=new jr;return u.a=r,u.h=a,u}Cl("<!DOCTYPE html>",0);var _k=Cl("",0);Cl("<br>",0);var wk=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=mh(_k),!a.parentElement):!1});function Ek(r,a){if(r.src=Z0(a),y===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&A.test(a)){y=a;break e}y=""}a=y,a&&r.setAttribute("nonce",a)}function jo(r,a){a=a instanceof Qn?a:nw(a),r.assign(Br(a))}function $r(r,a){this.a=_(r)?r:0,this.g=_(a)?a:0}$r.prototype.toString=function(){return"("+this.a+", "+this.g+")"},$r.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},$r.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},$r.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function vm(r,a){this.width=r,this.height=a}t=vm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function gh(r){return r?new Em(Pl(r)):ye||(ye=new Em)}function ym(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):ow(document,r,a)}function _m(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var h=a||u;r=h.querySelectorAll&&h.querySelector&&r?h.querySelector(r?"."+r:""):ow(u,r,a)[0]||null}return r||null}function ow(r,a,u){var h;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var p=r.getElementsByClassName(a);return p}if(p=r.getElementsByTagName("*"),a){var g={};for(u=h=0;r=p[u];u++){var w=r.className;typeof w.split=="function"&&N(w.split(/\s+/),a)&&(g[h++]=r)}return g.length=h,g}return p}function bk(r,a){Se(a,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?r.style.cssText=u:h=="class"?r.className=u:h=="for"?r.htmlFor=u:aw.hasOwnProperty(h)?r.setAttribute(aw[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,u):r[h]=u})}var aw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vh(r){return r.scrollingElement?r.scrollingElement:(Dn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function Ls(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Pl(r){return r.nodeType==9?r:r.ownerDocument||r.document}function wm(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(Pl(r).createTextNode(String(a)))}}function lw(r,a){return a?Ik(r,function(u){return!a||E(u.className)&&N(u.className.split(/\s+/),a)}):null}function Ik(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function Em(r){this.a=r||v.document||document}Em.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var yh={Fc:!0},uw={Hc:!0},Tk={Ec:!0},cw={Gc:!0};function Hr(){throw Error("Do not instantiate directly")}Hr.prototype.va=null,Hr.prototype.toString=function(){return this.content};function kl(r,a,u,h){if(r=r(a||Rk,void 0,u),h=(h||gh()).a.createElement("DIV"),r=Ak(r),r.match(Sk),r=Cl(r,null),wk())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=mh(r),h.childNodes.length==1&&(r=h.firstChild,r.nodeType==1&&(h=r)),h}function Ak(r){if(!re(r))return ce(String(r));if(r instanceof Hr){if(r.fa===yh)return r.content;if(r.fa===cw)return ce(r.content)}return et("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var Sk=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Rk={};function Ck(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function _h(){Hr.call(this)}G(_h,Hr),_h.prototype.fa=yh;function Te(r){return r!=null&&r.fa===yh?r:r instanceof jr?ie(mh(r).toString(),r.g()):ie(ce(String(String(r))),Ck(r))}function wh(){Hr.call(this)}G(wh,Hr),wh.prototype.fa=uw,wh.prototype.va=1;function Eh(r,a){this.content=String(r),this.va=a??null}G(Eh,Hr),Eh.prototype.fa=cw;function Ge(r){return new Eh(r,void 0)}var ie=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,h){return u=new a(String(u)),h!==void 0&&(u.va=h),u}}(_h),Pk=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(wh);function kk(r){function a(){}var u={label:Tt("New password")};a.prototype=r,r=new a;for(var h in u)r[h]=u[h];return r}function Tt(r){return(r=String(r))?new Eh(r,void 0):""}var hw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,h){return u=String(u),u?(u=new a(u),h!==void 0&&(u.va=h),u):""}}(_h);function xn(r){return r!=null&&r.fa===yh?String(String(r.content).replace(Vk,"").replace(Fk,"&lt;")).replace(xk,Nk):ce(String(r))}function Ms(r){return r!=null&&r.fa===uw?r=String(r).replace(Im,bm):r instanceof Qn?r=String(Br(r).toString()).replace(Im,bm):(r=String(r),Mk.test(r)?r=r.replace(Im,bm):(et("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function dw(r){return r!=null&&r.fa===Tk?r=r.content:r==null?r="":r instanceof Bo?r instanceof Bo&&r.constructor===Bo&&r.g===rw?r=r.a:(et("expected object of type SafeStyle, got '"+r+"' of type "+P(r)),r="type_error:SafeStyle"):(r=String(r),Lk.test(r)||(et("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var Ok={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Nk(r){return Ok[r]}var Dk={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function bm(r){return Dk[r]}var xk=/[\x00\x22\x27\x3c\x3e]/g,Im=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Lk=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Mk=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Vk=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Fk=/</g;function Tm(){return Ge("Enter a valid phone number")}function fw(){return Ge("Unable to send password reset code to specified email")}function pw(){return Ge("Something went wrong. Please try again.")}function mw(){return Ge("This email already exists without any means of sign-in. Please reset the password to recover.")}function gw(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return Ge(a)}function vw(){return Ge("Please login again to perform this operation")}function Ol(r,a,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=Uk+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=pw()}r=Ge(r).toString()}this.message=r||"",this.credential=u||null}c(Ol,Error),Ol.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Uk="firebaseui/";function Vs(){this.T=this.T,this.C=this.C}var Bk=0;Vs.prototype.T=!1,Vs.prototype.m=function(){!this.T&&(this.T=!0,this.o(),Bk!=0)&&(this[fe]||(this[fe]=++ae))};function Nl(r,a){r.T?_(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(_(void 0)?j(a,void 0):a))}Vs.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dl(r){r&&typeof r.m=="function"&&r.m()}var jk=Object.freeze||function(r){return r},yw=!It||9<=Number(Rl),$k=It&&!Ds("9"),Hk=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",b,a),v.removeEventListener("test",b,a)}catch{}return r}();function hr(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}hr.prototype.stopPropagation=function(){this.h=!0},hr.prototype.preventDefault=function(){this.qb=!1};function Ln(r,a){if(hr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if(vi){e:{try{dm(a.nodeName);var p=!0;break e}catch{}p=!1}p||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=E(r.pointerType)?r.pointerType:qk[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}G(Ln,hr);var qk=jk({2:"touch",3:"pen",4:"mouse"});Ln.prototype.stopPropagation=function(){Ln.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Ln.prototype.preventDefault=function(){Ln.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,$k)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var xl="closure_listenable_"+(1e6*Math.random()|0),Wk=0;function Kk(r,a,u,h,p){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.La=p,this.key=++Wk,this.sa=this.Ia=!1}function bh(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function Ih(r){this.src=r,this.a={},this.g=0}Ih.prototype.add=function(r,a,u,h,p){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var w=Sm(r,a,h,p);return-1<w?(a=r[w],u||(a.Ia=!1)):(a=new Kk(a,this.src,g,!!h,p),a.Ia=u,r.push(a)),a};function Am(r,a){var u=a.type;u in r.a&&ne(r.a[u],a)&&(bh(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function Sm(r,a,u,h){for(var p=0;p<r.length;++p){var g=r[p];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==h)return p}return-1}var Rm="closure_lm_"+(1e6*Math.random()|0),Cm={};function yi(r,a,u,h,p){if(h&&h.once)return Ll(r,a,u,h,p);if(F(a)){for(var g=0;g<a.length;g++)yi(r,a[g],u,h,p);return null}return u=km(u),r&&r[xl]?r.J.add(String(a),u,!1,re(h)?!!h.capture:!!h,p):_w(r,a,u,!1,h,p)}function _w(r,a,u,h,p,g){if(!a)throw Error("Invalid event type");var w=re(p)?!!p.capture:!!p,I=Th(r);if(I||(r[Rm]=I=new Ih(r)),u=I.add(a,u,h,w,g),u.proxy)return u;if(h=Gk(),u.proxy=h,h.src=r,h.listener=u,r.addEventListener)Hk||(p=w),p===void 0&&(p=!1),r.addEventListener(a.toString(),h,p);else if(r.attachEvent)r.attachEvent(ww(a.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function Gk(){var r=zk,a=yw?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function Ll(r,a,u,h,p){if(F(a)){for(var g=0;g<a.length;g++)Ll(r,a[g],u,h,p);return null}return u=km(u),r&&r[xl]?r.J.add(String(a),u,!0,re(h)?!!h.capture:!!h,p):_w(r,a,u,!0,h,p)}function Fs(r,a,u,h,p){if(F(a))for(var g=0;g<a.length;g++)Fs(r,a[g],u,h,p);else h=re(h)?!!h.capture:!!h,u=km(u),r&&r[xl]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=Sm(g,u,h,p),-1<u&&(bh(g[u]),z(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=Th(r))&&(a=r.a[a.toString()],r=-1,a&&(r=Sm(a,u,h,p)),(u=-1<r?a[r]:null)&&qr(u))}function qr(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[xl])Am(a.J,r);else{var u=r.type,h=r.proxy;a.removeEventListener?a.removeEventListener(u,h,r.capture):a.detachEvent?a.detachEvent(ww(u),h):a.addListener&&a.removeListener&&a.removeListener(h),(u=Th(a))?(Am(u,r),u.g==0&&(u.src=null,a[Rm]=null)):bh(r)}}}function ww(r){return r in Cm?Cm[r]:Cm[r]="on"+r}function Ew(r,a,u,h){var p=!0;if((r=Th(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=bw(g,h),p=p&&g!==!1)}return p}function bw(r,a){var u=r.listener,h=r.La||r.src;return r.Ia&&qr(r),u.call(h,a)}function zk(r,a){if(r.sa)return!0;if(!yw){if(!a)e:{a=["window","event"];for(var u=v,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break e}a=u}if(h=a,a=new Ln(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=a.g;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;!a.h&&0<=p;p--){a.g=h[p];var g=Ew(h[p],r,!0,a);u=u&&g}for(p=0;!a.h&&p<h.length;p++)a.g=h[p],g=Ew(h[p],r,!1,a),u=u&&g}return u}return bw(r,new Ln(a,this))}function Th(r){return r=r[Rm],r instanceof Ih?r:null}var Pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function km(r){return Q(r)?r:(r[Pm]||(r[Pm]=function(a){return r.handleEvent(a)}),r[Pm])}function Mt(){Vs.call(this),this.J=new Ih(this),this.wb=this,this.Ha=null}G(Mt,Vs),Mt.prototype[xl]=!0,Mt.prototype.Za=function(r){this.Ha=r},Mt.prototype.removeEventListener=function(r,a,u,h){Fs(this,r,a,u,h)};function Wr(r,a){var u,h=r.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(r=r.wb,h=a.type||a,E(a))a=new hr(a,r);else if(a instanceof hr)a.target=a.target||r;else{var p=a;a=new hr(h,r),Ke(a,p)}if(p=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];p=Ah(w,h,!0,a)&&p}if(a.h||(w=a.g=r,p=Ah(w,h,!0,a)&&p,a.h||(p=Ah(w,h,!1,a)&&p)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],p=Ah(w,h,!1,a)&&p;return p}Mt.prototype.o=function(){if(Mt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],h=0;h<u.length;h++)bh(u[h]);delete r.a[a],r.g--}}this.Ha=null};function Ah(r,a,u,h){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var p=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var I=w.listener,k=w.La||w.src;w.Ia&&Am(r.J,w),p=I.call(k,h)!==!1&&p}}return p&&h.qb!=0}var Jn={},Iw=0;function Tw(r,a){if(!r)throw Error("Event target element must be provided!");if(r=Om(r),Jn[r]&&Jn[r].length)for(var u=0;u<Jn[r].length;u++)Wr(Jn[r][u],a)}function Yk(r){var a=Om(r.N());Jn[a]&&Jn[a].length&&(de(Jn[a],function(u){return u==r}),Jn[a].length||delete Jn[a])}function Om(r){return typeof r.a>"u"&&(r.a=Iw,Iw++),r.a}function Sh(r){if(!r)throw Error("Event target element must be provided!");Mt.call(this),this.a=r}c(Sh,Mt),Sh.prototype.N=function(){return this.a},Sh.prototype.register=function(){var r=Om(this.N());Jn[r]?N(Jn[r],this)||Jn[r].push(this):Jn[r]=[this]};function Aw(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function Nm(r,a){this.h=r,this.j=a,this.g=0,this.a=null}Nm.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Sw(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function Rw(){this.g=this.a=null}var Cw=new Nm(function(){return new Dm},function(r){r.reset()});Rw.prototype.add=function(r,a){var u=Cw.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function Qk(){var r=kw,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function Dm(){this.next=this.g=this.a=null}Dm.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},Dm.prototype.reset=function(){this.next=this.g=this.a=null};function Pw(r){v.setTimeout(function(){throw r},0)}var xm;function Jk(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Fe("Presto")&&(r=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var w="callImmediate"+Math.random(),I=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=j(function(k){(I=="*"||k.origin==I)&&k.data==w&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,I)}}}),typeof r<"u"&&!Fe("Trident")&&!Fe("MSIE")){var a=new r,u={},h=u;return a.port1.onmessage=function(){if(_(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){h.next={gb:p},h=h.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function Lm(r,a){Rh||Xk(),Mm||(Rh(),Mm=!0),kw.add(r,a)}var Rh;function Xk(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);Rh=function(){r.then(Ow)}}else Rh=function(){var a=Ow;!Q(v.setImmediate)||v.Window&&v.Window.prototype&&!Fe("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(xm||(xm=Jk()),xm(a)):v.setImmediate(a)}}var Mm=!1,kw=new Rw;function Ow(){for(var r;r=Qk();){try{r.a.call(r.g)}catch(a){Pw(a)}Sw(Cw,r)}Mm=!1}function Vt(r){if(this.a=Us,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=b)try{var a=this;r.call(void 0,function(u){Bs(a,Ml,u)},function(u){if(!(u instanceof Ho))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}Bs(a,dr,u)})}catch(u){Bs(this,dr,u)}}var Us=0,Ml=2,dr=3;function Nw(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Nw.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Dw=new Nm(function(){return new Nw},function(r){r.reset()});function Vm(r,a,u){var h=Dw.get();return h.s=r,h.g=a,h.j=u,h}function At(r){if(r instanceof Vt)return r;var a=new Vt(b);return Bs(a,Ml,r),a}function $o(r){return new Vt(function(a,u){u(r)})}Vt.prototype.then=function(r,a,u){return Lw(this,Q(r)?r:null,Q(a)?a:null,u)},Vt.prototype.$goog_Thenable=!0,t=Vt.prototype,t.fc=function(r,a){return r=Vm(r,r,a),r.h=!0,Fm(this,r),this},t.Ca=function(r,a){return Lw(this,null,r,a)},t.cancel=function(r){this.a==Us&&Lm(function(){var a=new Ho(r);xw(this,a)},this)};function xw(r,a){if(r.a==Us)if(r.h){var u=r.h;if(u.g){for(var h=0,p=null,g=null,w=u.g;w&&(w.h||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(g=w);p&&(u.a==Us&&h==1?xw(u,a):(g?(h=g,h.next==u.j&&(u.j=h),h.next=h.next.next):Vw(u),Fw(u,p,dr,a)))}r.h=null}else Bs(r,dr,a)}function Fm(r,a){r.g||r.a!=Ml&&r.a!=dr||Mw(r),r.j?r.j.next=a:r.g=a,r.j=a}function Lw(r,a,u,h){var p=Vm(null,null,null);return p.a=new Vt(function(g,w){p.s=a?function(I){try{var k=a.call(h,I);g(k)}catch(H){w(H)}}:g,p.g=u?function(I){try{var k=u.call(h,I);!_(k)&&I instanceof Ho?w(I):g(k)}catch(H){w(H)}}:w}),p.a.h=r,Fm(r,p),p.a}t.hc=function(r){this.a=Us,Bs(this,Ml,r)},t.ic=function(r){this.a=Us,Bs(this,dr,r)};function Bs(r,a,u){if(r.a==Us){r===u&&(a=dr,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var h=u,p=r.hc,g=r.ic;if(h instanceof Vt){Fm(h,Vm(p||b,g||null,r));var w=!0}else if(Aw(h))h.then(p,g,r),w=!0;else{if(re(h))try{var I=h.then;if(Q(I)){Zk(h,I,p,g,r),w=!0;break e}}catch(k){g.call(r,k),w=!0;break e}w=!1}}w||(r.A=u,r.a=a,r.h=null,Mw(r),a!=dr||u instanceof Ho||eO(r,u))}}function Zk(r,a,u,h,p){function g(k){I||(I=!0,h.call(p,k))}function w(k){I||(I=!0,u.call(p,k))}var I=!1;try{a.call(r,w,g)}catch(k){g(k)}}function Mw(r){r.i||(r.i=!0,Lm(r.Hb,r))}function Vw(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=Vw(this);)Fw(this,r,this.a,this.A);this.i=!1};function Fw(r,a,u,h){if(u==dr&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,Uw(a,u,h);else try{a.h?a.s.call(a.j):Uw(a,u,h)}catch(p){Bw.call(null,p)}Sw(Dw,a)}function Uw(r,a,u){a==Ml?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function eO(r,a){r.s=!0,Lm(function(){r.s&&Bw.call(null,a)})}var Bw=Pw;function Ho(r){te.call(this,r)}G(Ho,te),Ho.prototype.name="cancel";function jw(r,a,u){a||(a={}),u=u||window;var h=r instanceof Qn?r:ph(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var p=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(a[g]?1:0))}var g=p.join(",");return(Fe("iPhone")&&!Fe("iPod")&&!Fe("iPad")||Fe("iPad")||Fe("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),h=h instanceof Qn?h:nw(h),g.href=Br(h),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=Br(h).toString(),u&&(mk&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Cl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ce(a)+'">',null),u.document.write(mh(a)),u.document.close())):(u=u.open(Br(h).toString(),r,g))&&a.noopener&&(u.opener=null),u}function $w(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function qo(r){jw(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Ch(r,a){if(r=re(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function fr(){return window.location.href}function tO(){var r=null;return new Vt(function(a){v.document.readyState=="complete"?a():(r=function(){a()},Ll(window,"load",r))}).Ca(function(a){throw Fs(window,"load",r),a})}function nO(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function iO(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(h){return a.includes(h)}).reduce(function(h,p){return h[p]=r[p],h},u)}function Kr(r){var a=oO;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Kr.prototype.cancel=function(r){if(this.a)this.h instanceof Kr&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new Fl,Ph(this),Vl(this,!1,r))}},Kr.prototype.L=function(r,a){this.A=!1,Vl(this,r,a)};function Vl(r,a,u){r.a=!0,r.h=u,r.j=!a,Ww(r)}function Ph(r){if(r.a){if(!r.J)throw new kh;r.J=!1}}Kr.prototype.callback=function(r){Ph(this),Vl(this,!0,r)};function Hw(r,a,u){r.s.push([a,u,void 0]),r.a&&Ww(r)}Kr.prototype.then=function(r,a,u){var h,p,g=new Vt(function(w,I){h=w,p=I});return Hw(this,h,function(w){w instanceof Fl?g.cancel():p(w)}),g.then(r,a,u)},Kr.prototype.$goog_Thenable=!0;function qw(r){return Zt(r.s,function(a){return Q(a[1])})}function Ww(r){if(r.i&&r.a&&qw(r)){var a=r.i,u=Oh[a];u&&(v.clearTimeout(u.a),delete Oh[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var h=u=!1;r.s.length&&!r.A;){var p=r.s.shift(),g=p[0],w=p[1];if(p=p[2],g=r.j?w:g)try{var I=g.call(p||r.O,a);_(I)&&(r.j=r.j&&(I==a||I instanceof Error),r.h=a=I),(Aw(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(h=!0,r.A=!0)}catch(k){a=k,r.j=!0,qw(r)||(u=!0)}}r.h=a,h&&(I=j(r.L,r,!0),h=j(r.L,r,!1),a instanceof Kr?(Hw(a,I,h),a.l=!0):a.then(I,h)),u&&(a=new Kw(a),Oh[a.a]=a,r.i=a.a)}function kh(){te.call(this)}G(kh,te),kh.prototype.message="Deferred has already fired",kh.prototype.name="AlreadyCalledError";function Fl(){te.call(this)}G(Fl,te),Fl.prototype.message="Deferred was canceled",Fl.prototype.name="CanceledError";function Kw(r){this.a=v.setTimeout(j(this.h,this),0),this.g=r}Kw.prototype.h=function(){throw delete Oh[this.a],this.g};var Oh={};function rO(r){var a={},u=a.document||document,h=Z0(r).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},w=new Kr(g),I=null,k=a.timeout!=null?a.timeout:5e3;return 0<k&&(I=window.setTimeout(function(){Nh(p,!0);var H=new Um(lO,"Timeout reached for loading script "+h);Ph(w),Vl(w,!1,H)},k),g.sb=I),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Nh(p,a.xc||!1,I),w.callback(null))},p.onerror=function(){Nh(p,!0,I);var H=new Um(aO,"Error while loading script "+h);Ph(w),Vl(w,!1,H)},g=a.attributes||{},Ke(g,{type:"text/javascript",charset:"UTF-8"}),bk(p,g),Ek(p,r),sO(u).appendChild(p),w}function sO(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function oO(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&Nh(r,!0,this.sb)}}function Nh(r,a,u){u!=null&&v.clearTimeout(u),r.onload=b,r.onerror=b,r.onreadystatechange=b,a&&window.setTimeout(function(){Ls(r)},0)}var aO=0,lO=1;function Um(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),te.call(this,u),this.code=r}G(Um,te);function Ul(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function Bm(r){this.a=r||Ul(),this.h=!1,this.g=null}Bm.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function Gw(r,a,u){if(r.a&&a)return function(){return r.h=!0,new Vt(function(p){r.g=p,r.a.initialize({client_id:a,callback:p,auto_select:!u}),r.a.prompt()})}();if(a){var h=jm.Xa().load().then(function(){return r.a=Ul(),Gw(r,a,u)}).Ca(function(){return null});return At(h)}return At(null)}R(Bm);var uO=new Uo(X0,"https://accounts.google.com/gsi/client");function jm(){this.a=null}jm.prototype.load=function(){var r=this;if(this.a)return this.a;var a=yk();return Ul()?At():this.a=tO().then(function(){if(!Ul())return new Vt(function(u,h){var p=setTimeout(function(){r.a=null,h(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},At(rO(a)).then(function(){Ul()&&u()}).Ca(function(g){clearTimeout(p),r.a=null,h(g)})})})},R(jm);function $m(r,a){this.a=r,this.g=a||function(u){throw u}}$m.prototype.confirm=function(r){return At(this.a.confirm(r)).Ca(this.g)};function Hm(r,a,u){this.reset(r,a,u,void 0,void 0)}Hm.prototype.a=null,Hm.prototype.reset=function(r,a,u,h,p){this.h=h||kt(),this.j=r,this.s=a,this.g=u,delete this.a};function qm(r){this.s=r,this.a=this.h=this.j=this.g=null}function Dh(r,a){this.name=r,this.value=a}Dh.prototype.toString=function(){return this.name};var zw=new Dh("SEVERE",1e3),Yw=new Dh("WARNING",900),Qw=new Dh("CONFIG",700);function Jw(r){return r.j?r.j:r.g?Jw(r.g):(et("Root logger has no level set."),null)}qm.prototype.log=function(r,a,u){if(r.value>=Jw(this).value)for(Q(a)&&(a=a()),r=new Hm(r,String(a),this.s),u&&(r.a=u),u=this;u;){var h=u,p=r;if(h.a)for(var g=0;a=h.a[g];g++)a(p);u=u.g}};var Wm={},Bl=null;function Xw(){Bl||(Bl=new qm(""),Wm[""]=Bl,Bl.j=Qw)}function Zw(r){Xw();var a;if(!(a=Wm[r])){a=new qm(r);var u=r.lastIndexOf("."),h=r.substr(u+1);u=Zw(r.substr(0,u)),u.h||(u.h={}),u.h[h]=a,a.g=u,Wm[r]=a}return a}function xh(){this.a=kt()}var Km=null;xh.prototype.set=function(r){this.a=r},xh.prototype.reset=function(){this.set(kt())},xh.prototype.get=function(){return this.a};function jl(r){this.j=r||"",Km||(Km=new xh),this.s=Km}jl.prototype.a=!0,jl.prototype.g=!0,jl.prototype.h=!1;function js(r){return 10>r?"0"+r:String(r)}function cO(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function eE(r){jl.call(this,r)}G(eE,jl);function hO(r,a){var u=[];if(u.push(r.j," "),r.g){var h=new Date(a.h);u.push("[",js(h.getFullYear()-2e3)+js(h.getMonth()+1)+js(h.getDate())+" "+js(h.getHours())+":"+js(h.getMinutes())+":"+js(h.getSeconds())+"."+js(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",cO(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function tE(){this.s=j(this.h,this),this.a=new eE,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}tE.prototype.h=function(r){function a(g){if(g){if(g.value>=zw.value)return"error";if(g.value>=Yw.value)return"warn";if(g.value>=Qw.value)return"log"}return"debug"}if(!this.j[r.g]){var u=hO(this.a,r),h=dO;if(h){var p=a(r.j);fO(h,p,u,r.a)}}};var dO=v.console;function fO(r,a,u,h){r[a]?r[a](u,h||""):r.log(u,h||"")}function Xn(r,a){var u=Gm;u&&u.log(zw,r,a)}var Gm;Gm=Zw("firebaseui");var zm=new tE;if(zm.g!=1){var Lh;Xw(),Lh=Bl;var pO=zm.s;Lh.a||(Lh.a=[]),Lh.a.push(pO),zm.g=!0}function Gr(r){var a=Gm;a&&a.log(Yw,r,void 0)}function nE(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=nE.prototype,t.set=function(r,a,u,h,p,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');_(u)||(u=-1),p=p?";domain="+p:"",h=h?";path="+h:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(kt()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+p+h+u+g},t.get=function(r,a){for(var u=r+"=",h=(this.a.cookie||"").split(";"),p=0,g;p<h.length;p++){if(g=O(h[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return Ym(this).keys},t.la=function(){return Ym(this).values},t.clear=function(){for(var r=Ym(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function Ym(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],h,p,g=0;g<r.length;g++)p=O(r[g]),h=p.indexOf("="),h==-1?(a.push(""),u.push(p)):(a.push(p.substring(0,h)),u.push(p.substring(h+1)));return{keys:a,values:u}}var Mh=new nE;function iE(){}function Wo(r,a,u,h){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!h}c(Wo,iE),Wo.prototype.set=function(r,a){Mh.set(r,a,this.h,this.g,this.a,this.j)},Wo.prototype.get=function(r){return Mh.get(r)||null},Wo.prototype.ra=function(r){var a=this.g,u=this.a;Mh.get(r),Mh.set(r,"",0,a,u)};function Qm(r,a){this.g=r,this.a=a||null}function rE(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function sE(r){if(r&&r.email){var a=r.credential&&pe.auth.AuthCredential.fromJSON(r.credential);return new Qm(r.email,a)}return null}function oE(r){this.a=r||null}function aE(r){for(var a=[],u=0,h=0;h<r.length;h++){var p=r.charCodeAt(h);255<p&&(a[u++]=p&255,p>>=8),a[u++]=p}return a}function mO(r){return Mo(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function Vh(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(Ko*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<Ko*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,dE(a),a[0]^=Uh[r/this.g][0],a[1]^=Uh[r/this.g][1],a[2]^=Uh[r/this.g][2],a[3]^=Uh[r/this.g][3]}else 6<this.g&&r%this.g==4&&dE(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}Vh.prototype.A=16;var Ko=Vh.prototype.A/4;function lE(r,a){for(var u,h=0;h<Ko;h++)for(var p=0;4>p;p++)u=4*p+h,u=a[u],r.h[h][p]=u}function uE(r){for(var a=[],u=0;u<Ko;u++)for(var h=0;4>h;h++)a[4*h+u]=r.h[u][h];return a}function Go(r,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)r.h[u][h]^=r.a[4*a+h][u]}function Fh(r,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)r.h[u][h]=a[r.h[u][h]]}function cE(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%Ko]}function hE(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%Ko]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function dE(r){r[0]=zo[r[0]],r[1]=zo[r[1]],r[2]=zo[r[2]],r[3]=zo[r[3]]}var zo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],fE=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Uh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Bh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],jh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],$h=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Hh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],qh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Wh=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function pE(r,a){r=new Vh(gE(r)),a=aE(a);for(var u=a.splice(0,16),h="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=r,lE(p,u),Go(p,0),u=1;u<p.j;++u){Fh(p,zo),cE(p),g=p.h;for(var w=p.s[0],I=0;4>I;I++)w[0]=g[0][I],w[1]=g[1][I],w[2]=g[2][I],w[3]=g[3][I],g[0][I]=Bh[w[0]]^jh[w[1]]^w[2]^w[3],g[1][I]=w[0]^Bh[w[1]]^jh[w[2]]^w[3],g[2][I]=w[0]^w[1]^Bh[w[2]]^jh[w[3]],g[3][I]=jh[w[0]]^w[1]^w[2]^Bh[w[3]];Go(p,u)}Fh(p,zo),cE(p),Go(p,p.j),h+=mO(uE(p)),u=a.splice(0,16)}return h}function mE(r,a){r=new Vh(gE(r));for(var u=[],h=0;h<a.length;h+=2)u.push(parseInt(a.substring(h,h+2),16));var p=u.splice(0,16);for(a="";p.length;){for(h=r,lE(h,p),Go(h,h.j),p=1;p<h.j;++p){hE(h),Fh(h,fE),Go(h,h.j-p);for(var g=h.h,w=h.s[0],I=0;4>I;I++)w[0]=g[0][I],w[1]=g[1][I],w[2]=g[2][I],w[3]=g[3][I],g[0][I]=Wh[w[0]]^Hh[w[1]]^qh[w[2]]^$h[w[3]],g[1][I]=$h[w[0]]^Wh[w[1]]^Hh[w[2]]^qh[w[3]],g[2][I]=qh[w[0]]^$h[w[1]]^Wh[w[2]]^Hh[w[3]],g[3][I]=Hh[w[0]]^qh[w[1]]^$h[w[2]]^Wh[w[3]]}if(hE(h),Fh(h,fE),Go(h,0),h=uE(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(p="",g=0;g<h.length;g+=8192)p+=String.fromCharCode.apply(null,C(h,g,g+8192));h=p}a+=h,p=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function gE(r){r=aE(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function vE(r){var a=[];return Jm(new gO,r,a),a.join("")}function gO(){}function Jm(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(F(a)){var h=a;a=h.length,u.push("[");for(var p="",g=0;g<a;g++)u.push(p),Jm(r,h[g],u),p=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),p="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g=a[h],typeof g!="function"&&(u.push(p),_E(h,u),u.push(":"),Jm(r,g,u),p=","));u.push("}");return}}switch(typeof a){case"string":_E(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var yE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},vO=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function _E(r,a){a.push('"',r.replace(vO,function(u){var h=yE[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),yE[u]=h),h}),'"')}function $l(r){this.a=r}$l.prototype.set=function(r,a){_(a)?this.a.set(r,vE(a)):this.a.ra(r)},$l.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function Kh(){}G(Kh,iE),Kh.prototype.clear=function(){var r=Ps(this.ha(!0)),a=this;tt(r,function(u){a.ra(u)})};function Gh(r){this.a=r}G(Gh,Kh);function zh(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=Gh.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!E(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,h=new Yt;return h.next=function(){if(a>=u.length)throw lt;var p=u.key(a++);if(r)return p;if(p=u.getItem(p),!E(p))throw"Storage mechanism: Invalid value was encountered";return p},h},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function Xm(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}G(Xm,Gh);function Zm(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}G(Zm,Gh);function Yo(r,a){this.g=r,this.a=a+"::"}G(Yo,Kh),Yo.prototype.set=function(r,a){this.g.set(this.a+r,a)},Yo.prototype.get=function(r){return this.g.get(this.a+r)},Yo.prototype.ra=function(r){this.g.ra(this.a+r)},Yo.prototype.ha=function(r){var a=this.g.ha(!0),u=this,h=new Yt;return h.next=function(){for(var p=a.next();p.substr(0,u.a.length)!=u.a;)p=a.next();return r?p.substr(u.a.length):u.g.get(p)},h},zh(new Xm);var wE,EE=new Zm;wE=zh(EE)?new Yo(EE,"firebaseui"):null;var eg=new $l(wE),tg={name:"pendingEmailCredential",storage:eg},$s={name:"redirectStatus",storage:eg},Hl={name:"redirectUrl",storage:eg},Qo={name:"emailForSignIn",storage:new $l(new Wo(3600,"/"))},ql={name:"pendingEncryptedCredential",storage:new $l(new Wo(3600,"/"))};function Jo(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function Hn(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function Xo(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function bE(r){return Jo(Hl,r)||null}function Bi(r){return r=Jo(tg,r)||null,sE(r)}function ji(r){Hn(tg,r)}function IE(r,a){Xo(tg,rE(r),a)}function ng(r){return(r=Jo($s,r)||null)&&typeof r.tenantId<"u"?new oE(r.tenantId):null}function yO(r,a){Xo($s,{tenantId:r.a},a)}function _O(r,a){a=Jo(Qo,a);var u=null;if(a)try{var h=mE(r,a),p=JSON.parse(h);u=p&&p.email||null}catch{}return u}function wO(r,a){a=Jo(ql,a);var u=null;if(a)try{var h=mE(r,a);u=JSON.parse(h)}catch{}return sE(u||null)}function EO(r,a,u){Xo(ql,pE(r,JSON.stringify(rE(a))),u)}function ig(){this.W={}}function Ot(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function rg(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}ig.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function sg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function og(){this.g=void 0,this.a={}}t=og.prototype,t.set=function(r,a){TE(this,r,a,!1)},t.add=function(r,a){TE(this,r,a,!0)};function TE(r,a,u,h){for(var p=0;p<a.length;p++){var g=a.charAt(p);r.a[g]||(r.a[g]=new og),r=r.a[g]}if(h&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return AE(this,r),r};function AE(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)AE(r.a[u],a)}t.ja=function(){var r=[];return SE(this,"",r),r};function SE(r,a,u){r.g!==void 0&&u.push(a);for(var h in r.a)SE(r.a[h],a+h,u)}t.clear=function(){this.a={},this.g=void 0};function RE(r){for(this.a=r,this.g=new og,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function Yh(r,a){r=r.g;var u={},h=0;for(r.g!==void 0&&(u[h]=r.g);h<a.length;h++){var p=a.charAt(h);if(!(p in r.a))break;r=r.a[p],r.g!==void 0&&(u[h]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function Hs(r){for(var a=0;a<Mn.length;a++)if(Mn[a].c===r)return Mn[a];return null}function CE(r){r=r.toUpperCase();for(var a=[],u=0;u<Mn.length;u++)Mn[u].f===r&&a.push(Mn[u]);return a}function PE(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Mn.length;u++)Mn[u].b==r&&a.push(Mn[u]);r=a}else r=CE(r);return r}function kE(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Mn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];kE(Mn);var Wl=new RE(Mn);function OE(r,a){this.a=r,this.Aa=a}function NE(r){r=O(r);var a=Yh(Wl,r);return 0<a.length?new OE(a[0].b=="1"?"1-US-0":a[0].c,O(r.substr(a[0].b.length+1))):null}function ag(r){var a=Hs(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function DE(r,a){for(var u=0;u<r.length;u++)if(!N(xE,r[u])&&(Zo!==null&&r[u]in Zo||N(a,r[u])))return r[u];return null}var xE=["emailLink","password","phone"],Zo={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function bO(){this.a=new ig,Ot(this.a,"autoUpgradeAnonymousUsers"),Ot(this.a,"callbacks"),Ot(this.a,"credentialHelper",Xh),Ot(this.a,"immediateFederatedRedirect",!1),Ot(this.a,"popupMode",!1),Ot(this.a,"privacyPolicyUrl"),Ot(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Ot(this.a,"queryParameterForWidgetMode","mode"),Ot(this.a,"signInFlow"),Ot(this.a,"signInOptions"),Ot(this.a,"signInSuccessUrl"),Ot(this.a,"siteName"),Ot(this.a,"tosUrl"),Ot(this.a,"widgetUrl"),Ot(this.a,"adminRestrictedOperation")}function Qh(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!qE(r)&&Xn('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function Jh(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var h=r[u];h=re(h)?h:{provider:h},h.provider&&a.push(h)}return a}function Zn(r,a){r=Jh(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function ea(r){return Jh(r).map(function(a){return a.provider})}function Kl(r,a){r=LE(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function LE(r){return Jh(r).map(function(a){if(Zo[a.provider]||N(NO,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Br(ph(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Br(ph(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function ME(r){var a=Zn(r,pe.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in r=r.a.get("credentialHelper"),dg)if(dg[h]===r){var h=dg[h];break e}}h=Xh}u=h===hg}return u&&a.clientId||null}function VE(r){return r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function qs(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function IO(r){var a=null;if(Jh(r).forEach(function(h){h.provider==pe.auth.PhoneAuthProvider.PROVIDER_ID&&re(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(a=Le(h.recaptchaParameters))}),a){var u=[];DO.forEach(function(h){typeof a[h]<"u"&&(u.push(h),delete a[h])}),u.length&&Gr('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function TO(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function AO(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){qo(a)}}return null}function SO(r){return(r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function RO(r){if((r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){qo(a)}}return null}function FE(r,a){return r=(r=Zn(r,a))&&r.scopes,Array.isArray(r)?r:[]}function UE(r,a){return r=(r=Zn(r,a))&&r.customParameters,re(r)?(r=Le(r),a===pe.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===pe.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function CO(r){r=Zn(r,pe.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=NE(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function PO(r){var a=(r=Zn(r,pe.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&CE(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=NE(r.loginHint)),a&&a[0]||u&&Hs(u.a)||null}function lg(r){if(r=Zn(r,pe.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Mn;if(r=[],a){u={};for(var h=0;h<a.length;h++)for(var p=PE(a[h]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var w in u)u.hasOwnProperty(w)&&r.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(p=PE(u[a]),h=0;h<p.length;h++)w[p[h].c]=p[h];for(p=0;p<Mn.length;p++)w!==null&&Mn[p].c in w||r.push(Mn[p])}return r}function BE(r){return sg(r.a,"queryParameterForWidgetMode")}function Nt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&Gr("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){qo(a)}}return null}function Dt(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&Gr("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){qo(u)}}return null}function jE(r){return(r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function ta(r){return r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==pe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function kO(r){return r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function OO(r){if(ta(r)){var a={url:fr(),handleCodeInApp:!0};(r=Zn(r,pe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&Ke(a,r.emailLinkSignIn()),r=a.url;var u=fr();u instanceof Mr||(u=hm(u)),r instanceof Mr||(r=hm(r));var h=u;u=new Mr(h);var p=!!r.j;p?lm(u,r.j):p=!!r.A,p?u.A=r.A:p=!!r.h,p?u.h=r.h:p=r.C!=null;var g=r.g;if(p)um(u,r.C);else if(p=!!r.g){if(g.charAt(0)!="/"&&(h.h&&!h.g?g="/"+g:(h=u.g.lastIndexOf("/"),h!=-1&&(g=u.g.substr(0,h+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],I=0;I<g.length;){var k=g[I++];k=="."?h&&I==g.length&&w.push(""):k==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),h&&I==g.length&&w.push("")):(w.push(k),h=!0)}g=w.join("/")}}return p?u.g=g:p=r.a.toString()!=="",p?cm(u,$0(r.a)):p=!!r.s,p&&(u.s=r.s),a.url=u.toString(),a}return null}function ug(r){var a=!!r.a.get("immediateFederatedRedirect"),u=ea(r);return r=$E(r),a&&u.length==1&&!N(xE,u[0])&&r==Zh}function $E(r){r=r.a.get("signInFlow");for(var a in fg)if(fg[a]==r)return fg[a];return Zh}function cg(r){return Gl(r).signInSuccess||null}function HE(r){return Gl(r).signInSuccessWithAuthResult||null}function qE(r){return Gl(r).signInFailure||null}function Gl(r){return r.a.get("callbacks")||{}}var hg="googleyolo",Xh="none",dg={nc:hg,NONE:Xh},Zh="redirect",fg={qc:"popup",rc:Zh},pg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},NO=["anonymous"],DO=["sitekey","tabindex","callback","expired-callback"],zl,na,mg,WE,Je={};function oe(r,a,u,h){Je[r].apply(null,Array.prototype.slice.call(arguments,1))}function KE(r){return r.classList?r.classList:(r=r.className,E(r)&&r.match(/\S+/g)||[])}function Yl(r,a){return r.classList?r.classList.contains(a):N(KE(r),a)}function $i(r,a){r.classList?r.classList.add(a):Yl(r,a)||(r.className+=0<r.className.length?" "+a:a)}function Hi(r,a){r.classList?r.classList.remove(a):Yl(r,a)&&(r.className=Ui(KE(r),function(u){return u!=a}).join(" "))}function nn(r){var a=r.type;switch(E(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,h=0;u=r.options[h];h++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function GE(r,a){var u=r.type;switch(E(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,E(a)){for(var h=0;u=r.options[h];h++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(E(a)&&(a=[a]),h=0;u=r.options[h];h++)if(u.selected=!1,a)for(var p,g=0;p=a[g];g++)u.value==p&&(u.selected=!0);break;default:r.value=a??""}}function xO(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(Ql(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!vi;default:return 166>r.keyCode||183<r.keyCode}}function zE(r,a,u,h,p,g){if(Dn&&!Ds("525"))return!0;if(Ur&&p)return Ql(r);if(p&&!h)return!1;if(!vi){typeof a=="number"&&(a=gg(a));var w=a==17||a==18||Ur&&a==91;if((!u||Ur)&&w||Ur&&a==16&&(h||g))return!1}if((Dn||Fr)&&h&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(It&&h&&a==r)return!1;switch(r){case 13:return vi?g||p?!1:!(u&&h):!0;case 27:return!(Dn||Fr||vi)}return vi&&(h||p||g)?!1:Ql(r)}function Ql(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Dn||Fr)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return vi;default:return!1}}function gg(r){if(vi)r=LO(r);else if(Ur&&Dn)switch(r){case 93:r=91}return r}function LO(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function ia(r){Mt.call(this),this.a=r,yi(r,"keydown",this.g,!1,this),yi(r,"click",this.h,!1,this)}G(ia,Mt),ia.prototype.g=function(r){(r.keyCode==13||Dn&&r.keyCode==3)&&YE(this,r)},ia.prototype.h=function(r){YE(this,r)};function YE(r,a){var u=new JE(a);if(Wr(r,u)){u=new QE(a);try{Wr(r,u)}finally{a.stopPropagation()}}}ia.prototype.o=function(){ia.K.o.call(this),Fs(this.a,"keydown",this.g,!1,this),Fs(this.a,"click",this.h,!1,this),delete this.a};function QE(r){Ln.call(this,r.a),this.type="action"}G(QE,Ln);function JE(r){Ln.call(this,r.a),this.type="beforeaction"}G(JE,Ln);function ra(r){Mt.call(this),this.a=r,r=It?"focusout":"blur",this.g=yi(this.a,It?"focusin":"focus",this,!It),this.h=yi(this.a,r,this,!It)}G(ra,Mt),ra.prototype.handleEvent=function(r){var a=new Ln(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",Wr(this,a)},ra.prototype.o=function(){ra.K.o.call(this),qr(this.g),qr(this.h),delete this.a};function ed(r,a){Mt.call(this),this.g=r||1,this.a=a||v,this.h=j(this.gc,this),this.j=kt()}G(ed,Mt),t=ed.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=kt()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Wr(this,"tick"),this.Ka&&(td(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=kt())};function td(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){ed.K.o.call(this),td(this),delete this.a};function MO(r,a){if(Q(r))a&&(r=j(r,a));else if(r&&typeof r.handleEvent=="function")r=j(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function sa(r){Vs.call(this),this.g=r,this.a={}}G(sa,Vs);var XE=[];function oa(r,a,u,h){F(u)||(u&&(XE[0]=u.toString()),u=XE);for(var p=0;p<u.length;p++){var g=yi(a,u[p],h||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function ZE(r){Se(r.a,function(a,u){this.a.hasOwnProperty(u)&&qr(a)},r),r.a={}}sa.prototype.o=function(){sa.K.o.call(this),ZE(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jl(r){Mt.call(this),this.a=null,this.g=r,r=It||Fr||Dn&&!Ds("531")&&r.tagName=="TEXTAREA",this.h=new sa(this),oa(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}G(Jl,Mt),Jl.prototype.handleEvent=function(r){if(r.type=="input")It&&Ds(10)&&r.keyCode==0&&r.j==0||(vg(this),Wr(this,eb(r)));else if(r.type!="keydown"||xO(r)){var a=r.type=="keydown"?this.g.value:null;It&&r.keyCode==229&&(a=null);var u=eb(r);vg(this),this.a=MO(function(){this.a=null,this.g.value!=a&&Wr(this,u)},this)}};function vg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function eb(r){return r=new Ln(r.a),r.type="input",r}Jl.prototype.o=function(){Jl.K.o.call(this),this.h.m(),vg(this),delete this.g};function Xl(r,a){Mt.call(this),r&&(this.Oa&&sb(this),this.qa=r,this.Na=yi(this.qa,"keypress",this,a),this.Ya=yi(this.qa,"keydown",this.Jb,a,this),this.Oa=yi(this.qa,"keyup",this.Kb,a,this))}G(Xl,Mt),t=Xl.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var tb={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},nb={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ib=!Dn||Ds("525"),rb=Ur&&vi;t=Xl.prototype,t.Jb=function(r){(Dn||Fr)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||Ur&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),ib&&!zE(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=gg(r.keyCode),rb&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(It&&r.type=="keypress")var h=this.X,p=h!=13&&h!=27?a.keyCode:0;else(Dn||Fr)&&r.type=="keypress"?(h=this.X,p=0<=a.charCode&&63232>a.charCode&&Ql(h)?a.charCode:0):z0&&!Dn?(h=this.X,p=Ql(h)?a.keyCode:0):(r.type=="keypress"?(rb&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(h=a.keyCode,p=0):(h=this.X,p=a.charCode):(h=a.keyCode||this.X,p=a.charCode||0)):(h=a.keyCode||this.X,p=a.charCode||0),Ur&&p==63&&h==224&&(h=191));var g=h=gg(h);h?63232<=h&&h in tb?g=tb[h]:h==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in nb&&(g=nb[a.keyIdentifier]),vi&&ib&&r.type=="keypress"&&!zE(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new ob(g,p,r,a),a.altKey=u,Wr(this,a))},t.N=function(){return this.qa};function sb(r){r.Na&&(qr(r.Na),qr(r.Ya),qr(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){Xl.K.o.call(this),sb(this)};function ob(r,a,u,h){Ln.call(this,h),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}G(ob,Ln);function aa(r,a,u,h){this.top=r,this.right=a,this.bottom=u,this.left=h}aa.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},aa.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},aa.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},aa.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function nd(r,a){var u=Pl(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function ab(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return It&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function VO(r,a){a=a||vh(document);var u=a||vh(document),h=lb(r),p=lb(u);if(!It||9<=Number(Rl)){w=nd(u,"borderLeftWidth");var g=nd(u,"borderRightWidth");I=nd(u,"borderTopWidth"),k=nd(u,"borderBottomWidth"),g=new aa(parseFloat(I),parseFloat(g),parseFloat(k),parseFloat(w))}else{var w=id(u,"borderLeft");g=id(u,"borderRight");var I=id(u,"borderTop"),k=id(u,"borderBottom");g=new aa(I,g,k,w)}u==vh(document)?(w=h.a-u.scrollLeft,h=h.g-u.scrollTop,!It||10<=Number(Rl)||(w+=g.left,h+=g.top)):(w=h.a-p.a-g.left,h=h.g-p.g-g.top),p=r.offsetWidth,g=r.offsetHeight,I=Dn&&!p&&!g,_(p)&&!I||!r.getBoundingClientRect?r=new vm(p,g):(r=ab(r),r=new vm(r.right-r.left,r.bottom-r.top)),p=u.clientHeight-r.height,g=u.scrollLeft,I=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-r.width),0)),I+=Math.min(h,Math.max(h-p,0)),u=new $r(g,I),a.scrollLeft=u.a,a.scrollTop=u.g}function lb(r){var a=Pl(r),u=new $r(0,0),h=a?Pl(a):document;return h=!It||9<=Number(Rl)||gh(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,r==h||(r=ab(r),h=gh(a).a,a=vh(h),h=h.parentWindow||h.defaultView,a=It&&Ds("10")&&h.pageYOffset!=a.scrollTop?new $r(a.scrollLeft,a.scrollTop):new $r(h.pageXOffset||a.scrollLeft,h.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var ub={thin:2,medium:4,thick:6};function id(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in ub)r=ub[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var h=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=h,r=+u}return r}function yg(){}R(yg),yg.prototype.a=0;function Ws(r){Mt.call(this),this.s=r||gh(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}G(Ws,Mt),t=Ws.prototype,t.Lb=yg.Xa(),t.N=function(){return this.g};function $e(r,a){return r.g?_m(a,r.g||r.s.a):null}function Zl(r){return r.L||(r.L=new sa(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");Ws.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,_g(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){_g(this,function(r){r.na&&r.ya()}),this.L&&ZE(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),_g(this,function(r){r.m()}),this.g&&Ls(this.g),this.Y=this.g=this.oa=this.Ea=null,Ws.K.o.call(this)};function _g(r,a){r.Ea&&tt(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=E(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var h=this.oa;if(u in h&&delete h[u],ne(this.Ea,r),a&&(r.ya(),r.g&&Ls(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,Ws.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function St(r,a){var u=lw(r,"firebaseui-textfield");a?(Hi(r,"firebaseui-input-invalid"),$i(r,"firebaseui-input"),u&&Hi(u,"firebaseui-textfield-invalid")):(Hi(r,"firebaseui-input"),$i(r,"firebaseui-input-invalid"),u&&$i(u,"firebaseui-textfield-invalid"))}function la(r,a,u){a=new Jl(a),Nl(r,Y(Dl,a)),oa(Zl(r),a,"input",u)}function eu(r,a,u){a=new Xl(a),Nl(r,Y(Dl,a)),oa(Zl(r),a,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function FO(r,a,u){a=new ra(a),Nl(r,Y(Dl,a)),oa(Zl(r),a,"focusin",u)}function UO(r,a,u){a=new ra(a),Nl(r,Y(Dl,a)),oa(Zl(r),a,"focusout",u)}function yt(r,a,u){a=new ia(a),Nl(r,Y(Dl,a)),oa(Zl(r),a,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function ei(r){$i(r,"firebaseui-hidden")}function rn(r,a){a&&wm(r,a),Hi(r,"firebaseui-hidden")}function ua(r){return!Yl(r,"firebaseui-hidden")&&r.style.display!="none"}function ca(r){r=r||{};var a=r.email,u=r.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=r.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+xn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ie(h)}function qn(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+Te(r):a+"Next",ie(a+"</button>")}function wg(){var r=""+qn({label:Tt("Sign In")});return ie(r)}function cb(){var r=""+qn({label:Tt("Save")});return ie(r)}function _i(){var r=""+qn({label:Tt("Continue")});return ie(r)}function hb(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+Te(r):a+"Choose password",ie(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function db(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",ie(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function fb(){return ie('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function ti(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+Te(r):a+"Cancel",ie(a+"</button>")}function hn(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ie(a)}function ha(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ie(a)}function pb(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Te(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ie(r)}pb.a="firebaseui.auth.soy2.element.infoBar";function mb(r){var a=r.content;return r=r.Ab,ie('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+xn(r):"")+'">'+Te(a)+"</dialog>")}function gb(r){var a=r.message;return ie(mb({content:hw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+xn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Te(a)+"</div>")}))}gb.a="firebaseui.auth.soy2.element.progressDialog";function vb(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,h=0;h<u;h++){var p=r[h];a+='<button type="button" data-listboxid="'+xn(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+xn(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Te(p.label)+"</div></button>"}return a=""+mb({Ab:Tt("firebaseui-list-box-dialog"),content:hw(a+"</div>")}),ie(a)}vb.a="firebaseui.auth.soy2.element.listBoxDialog";function rd(r){return r=r||{},ie(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}rd.a="firebaseui.auth.soy2.element.busyIndicator";function zr(r,a){return r=r||{},r=r.ga,Ge(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function Eg(r){yb(r,"upgradeElement")}function bg(r){yb(r,"downgradeElements")}var BO=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function yb(r,a){r&&window.componentHandler&&window.componentHandler[a]&&BO.forEach(function(u){Yl(r,u)&&window.componentHandler[a](r),tt(ym(u,r),function(h){window.componentHandler[a](h)})})}function _b(r,a,u){if(sd.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),Eg(r),a&&yt(this,r,function(g){var w=r.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&sd.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var p=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,w=h.getBoundingClientRect().height,I=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,k=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,H=r.getBoundingClientRect().width,ue=h.getBoundingClientRect().width;r.style.top=(I+(w-g)/2).toString()+"px",g=k+(ue-H)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-H).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function sd(){var r=Ig.call(this);r&&(bg(r),r.open&&r.close(),Ls(r),this.da&&window.removeEventListener("resize",this.da))}function Ig(){return _m("firebaseui-id-dialog")}function wb(){Ls(Eb.call(this))}function Eb(){return $e(this,"firebaseui-id-info-bar")}function bb(){return $e(this,"firebaseui-id-dismiss-info-bar")}var jO={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Tg(r,a,u){hr.call(this,r,a);for(var h in u)this[h]=u[h]}G(Tg,hr);function L(r,a,u,h,p){Ws.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=Le(jO),Ke(this.Z,p||{})}G(L,Ws),t=L.prototype,t.kb=function(){var r=kl(this.fb,this.eb,this.Z,this.s);Eg(r),this.g=r},t.v=function(){if(L.K.v.call(this),Tw(vt(this),new Tg("pageEnter",vt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;yt(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;yt(this,this.ab(),function(){a()})}},t.ya=function(){Tw(vt(this),new Tg("pageExit",vt(this),{pageId:this.Ga})),L.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,bg(this.N()),L.K.o.call(this)};function $O(r){r.Fa=!0;var a=Yl(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=kl(rd,{tb:a},null,r.s),r.N().appendChild(r.A),Eg(r.A))},500)}t.I=function(r,a,u,h){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(bg(g.A),Ls(g.A),g.A=null)}var g=this;return g.Fa?null:($O(g),r.apply(null,a).then(u,h).then(p,p))};function vt(r){return r.N().parentElement||r.N().parentNode}function tu(r,a,u){eu(r,a,function(){u.focus()})}function da(r,a,u){eu(r,a,function(){u()})}ve(L.prototype,{a:function(r){wb.call(this);var a=kl(pb,{message:r},null,this.s);this.N().appendChild(a),yt(this,bb.call(this),function(){Ls(a)})},yc:wb,Ac:Eb,zc:bb,$:function(r,a){r=kl(gb,{Ma:r,message:a},null,this.s),_b.call(this,r)},h:sd,Cb:Ig,Cc:function(){return $e(this,"firebaseui-tos")},bb:function(){return $e(this,"firebaseui-tos-link")},ab:function(){return $e(this,"firebaseui-pp-link")},Dc:function(){return $e(this,"firebaseui-tos-list")}});function Ib(r,a,u){r=r||{},a=r.Va;var h=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ca(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?ti(null):"")+qn(null)+'</div></div><div class="firebaseui-card-footer">'+(h?ha(u):hn(u))+"</div></form></div>",ie(r)}Ib.a="firebaseui.auth.soy2.page.signIn";function Tb(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ca(r)+db()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+fb()+'</div><div class="firebaseui-form-actions">'+wg()+'</div></div><div class="firebaseui-card-footer">'+(a?ha(u):hn(u))+"</div></form></div>",ie(r)}Tb.a="firebaseui.auth.soy2.page.passwordSignIn";function Ab(r,a,u){r=r||{};var h=r.Tb;a=r.Ta;var p=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ca(r);return h?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+xn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=ie(r)):r="",u=g+r+hb(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?ti(null):"")+cb()+'</div></div><div class="firebaseui-card-footer">'+(p?ha(u):hn(u))+"</div></form></div>",ie(u)}Ab.a="firebaseui.auth.soy2.page.passwordSignUp";function Sb(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ca(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?ti(null):"")+qn({label:Tt("Send")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(r)}Sb.a="firebaseui.auth.soy2.page.passwordRecovery";function Rb(r,a,u){a=r.G;var h="";return r="Follow the instructions sent to <strong>"+(Te(r.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(h+='<div class="firebaseui-form-actions">'+qn({label:Tt("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+hn(u)+"</div></div>",ie(h)}Rb.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function Cb(r,a,u){return ie('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+rd(null)+"</div></div>")}Cb.a="firebaseui.auth.soy2.page.callback";function Pb(r,a,u){return ie('<div class="firebaseui-container firebaseui-id-page-spinner">'+rd({tb:!0})+"</div>")}Pb.a="firebaseui.auth.soy2.page.spinner";function kb(){return ie('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}kb.a="firebaseui.auth.soy2.page.blank";function Ob(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(Te(r.email)+"</strong>. Check your email to complete sign-in.");var h=ie('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+ti({label:Tt("Back")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Ob.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function Nb(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ie('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+ti({label:Tt("Back")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(r)}Nb.a="firebaseui.auth.soy2.page.emailNotReceived";function Db(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ca(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti(null)+qn(null)+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(r)}Db.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function xb(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti({label:Tt("Dismiss")})+"</div></div></div>";return ie(r)}xb.a="firebaseui.auth.soy2.page.differentDeviceError";function Lb(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti({label:Tt("Dismiss")})+"</div></div></div>";return ie(r)}Lb.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function Mb(r,a,u){return a="",r="You’ve already used <strong>"+(Te(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+db()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+fb()+'</div><div class="firebaseui-form-actions">'+wg()+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Mb.a="firebaseui.auth.soy2.page.passwordLinking";function Vb(r,a,u){var h=r.email;return a="",r=""+zr(r,u),r=Tt(r),h="You’ve already used <strong>"+(Te(h)+("</strong>. You can connect your <strong>"+(Te(r)+("</strong> account with <strong>"+(Te(h)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Te(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+wg()+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Vb.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function Fb(r,a,u){a="";var h=""+zr(r,u);return h=Tt(h),r="You originally intended to connect <strong>"+(Te(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(Te(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_i()+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Fb.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function Ub(r,a,u){var h=r.email;return a="",r=""+zr(r,u),r=Tt(r),h="You’ve already used <strong>"+(Te(h)+("</strong>. Sign in with "+(Te(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+qn({label:Tt("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Ub.a="firebaseui.auth.soy2.page.federatedLinking";function Bb(r,a,u){r=r||{};var h=r.kc;a=r.yb,r=r.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(Te(h)+"</strong> is not authorized to view the requested page."),p+=h):p+="User is not authorized to view the requested page.",p+="</p>",a&&(a="Please contact <strong>"+(Te(a)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+ti({label:Tt("Back")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(p)}Bb.a="firebaseui.auth.soy2.page.unauthorizedUser";function jb(r,a,u){return a="",r="To continue sign in with <strong>"+(Te(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti(null)+qn({label:Tt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}jb.a="firebaseui.auth.soy2.page.unsupportedProvider";function $b(r){var a="",u='<p class="firebaseui-text">for <strong>'+(Te(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+hb(kk(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+cb()+"</div></div></form></div>",ie(a)}$b.a="firebaseui.auth.soy2.page.passwordReset";function Hb(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}Hb.a="firebaseui.auth.soy2.page.passwordResetSuccess";function qb(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}qb.a="firebaseui.auth.soy2.page.passwordResetFailure";function Wb(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(Te(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></form></div>",ie(u)}Wb.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function Kb(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}Kb.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function Gb(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}Gb.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function zb(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}zb.a="firebaseui.auth.soy2.page.emailVerificationFailure";function Yb(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(Te(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(u)}Yb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function Qb(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}Qb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function Jb(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Te(a)+(" "+(Te(u)+"</strong> was removed as a second authentication step."))),h+=a;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></form></div>",ie(h)}Jb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function Xb(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+_i()+"</div>":"")+"</div></div>",ie(r)}Xb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function Zb(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Te(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=qn({label:Tt("Retry")})),ie(r+"</div></div></div>")}Zb.a="firebaseui.auth.soy2.page.recoverableError";function e1(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Te(r.errorMessage)+"</p></div></div>",ie(r)}e1.a="firebaseui.auth.soy2.page.unrecoverableError";function t1(r,a,u){var h=r.Qb;return a="",r="Continue with "+(Te(r.jc)+"?"),h="You originally wanted to sign in with "+Te(h),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti(null)+qn({label:Tt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}t1.a="firebaseui.auth.soy2.page.emailMismatch";function n1(r,a,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var p=0;p<a;p++){var g={ga:r[p]},w=u;g=g||{};var I=g.ga,k=g;k=k||{};var H="";switch(k.ga.providerId){case"google.com":H+="firebaseui-idp-google";break;case"github.com":H+="firebaseui-idp-github";break;case"facebook.com":H+="firebaseui-idp-facebook";break;case"twitter.com":H+="firebaseui-idp-twitter";break;case"phone":H+="firebaseui-idp-phone";break;case"anonymous":H+="firebaseui-idp-anonymous";break;case"password":H+="firebaseui-idp-password";break;default:H+="firebaseui-idp-generic"}k='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+xn(Ge(H))+' firebaseui-id-idp-button" data-provider-id="'+xn(I.providerId)+'" style="background-color:',H=(H=g)||{},H=H.ga,k=k+xn(dw(Ge(H.ta?H.ta:w.wa[H.providerId]?""+w.wa[H.providerId]:H.providerId.indexOf("saml.")==0?""+w.wa.saml:H.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ue=g;H=w,ue=ue||{},ue=ue.ga,H=Pk(ue.za?Ms(ue.za):H.xa[ue.providerId]?Ms(H.xa[ue.providerId]):ue.providerId.indexOf("saml.")==0?Ms(H.xa.saml):ue.providerId.indexOf("oidc.")==0?Ms(H.xa.oidc):Ms(H.xa.password)),k=k+xn(Ms(H))+'"></span>',I.providerId=="password"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Te(I.V):I.S?(g="Sign in with "+Te(zr(g,w)),k+=g):k+="Sign in with email",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+Te(I.S):k+"Email",k+="</span>"):I.providerId=="phone"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Te(I.V):I.S?(g="Sign in with "+Te(zr(g,w)),k+=g):k+="Sign in with phone",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+Te(I.S):k+"Phone",k+="</span>"):I.providerId=="anonymous"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Te(I.V):I.S?(g="Sign in with "+Te(zr(g,w)),k+=g):k+="Continue as guest",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+Te(I.S):k+"Guest",k+="</span>"):(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Te(I.V):(H="Sign in with "+Te(zr(g,w)),k+=H),k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(I.S?Te(I.S):Te(zr(g,w)))+"</span>"),I=ie(k+"</button>"),h+='<li class="firebaseui-list-item">'+I+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ha(u)+"</div></div>",ie(h)}n1.a="firebaseui.auth.soy2.page.providerSignIn";function i1(r,a,u){r=r||{};var h=r.Gb,p=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+xn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ie(r);var g;return h?g=ie('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?ti(null):"")+qn({label:Tt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ie(a+"</p>")):u=ie('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+hn(u),ie(g+u+"</div></form></div>")}i1.a="firebaseui.auth.soy2.page.phoneSignInStart";function r1(r,a,u){r=r||{},a=r.phoneNumber;var h="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Te(a)+"</a>"),Te(a),a=h,h=ie('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+ti(null)+qn({label:Tt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form>",r=ie('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ie(a+(u+r+"</div>"))}r1.a="firebaseui.auth.soy2.page.phoneSignInFinish";function s1(){return ie('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}s1.a="firebaseui.auth.soy2.page.signOut";function o1(r,a,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var p=0;p<a;p++){var g=r[p],w="",I=Te(g.displayName),k=g.tenantId?g.tenantId:"top-level-project";k=Tt(k),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+xn(k)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+xn(g.tenantId)+'"':"")+'style="background-color:'+xn(dw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+xn(Ms(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=Te(g.V):(g="Sign in to "+Te(g.displayName),w+=g),w=ie(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+I+"</span></button>")),h+='<li class="firebaseui-list-item">'+w+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ha(u)+"</div></div>",ie(h)}o1.a="firebaseui.auth.soy2.page.selectTenant";function a1(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ca(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+qn(null)+'</div></div><div class="firebaseui-card-footer">'+ha(u)+"</div></form></div>",ie(r)}a1.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Qt(){return $e(this,"firebaseui-id-submit")}function Ft(){return $e(this,"firebaseui-id-secondary-link")}function sn(r,a){yt(this,Qt.call(this),function(h){r(h)});var u=Ft.call(this);u&&a&&yt(this,u,function(h){a(h)})}function od(){return $e(this,"firebaseui-id-password")}function ad(){return $e(this,"firebaseui-id-password-error")}function l1(){var r=od.call(this),a=ad.call(this);la(this,r,function(){ua(a)&&(St(r,!0),ei(a))})}function u1(){var r=od.call(this),a=ad.call(this);return nn(r)?(St(r,!0),ei(a),a=!0):(St(r,!1),rn(a,Ge("Enter your password").toString()),a=!1),a?nn(r):null}function fa(r,a,u,h,p,g){L.call(this,Mb,{email:r},g,"passwordLinking",{F:h,D:p}),this.w=a,this.H=u}c(fa,L),fa.prototype.v=function(){this.P(),this.M(this.w,this.H),da(this,this.i(),this.w),this.i().focus(),L.prototype.v.call(this)},fa.prototype.o=function(){this.w=null,L.prototype.o.call(this)},fa.prototype.j=function(){return nn($e(this,"firebaseui-id-email"))},ve(fa.prototype,{i:od,B:ad,P:l1,u:u1,ea:Qt,ba:Ft,M:sn});var HO=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function pr(){return $e(this,"firebaseui-id-email")}function Yr(){return $e(this,"firebaseui-id-email-error")}function pa(r){var a=pr.call(this),u=Yr.call(this);la(this,a,function(){ua(u)&&(St(a,!0),ei(u))}),r&&eu(this,a,function(){r()})}function ma(){return O(nn(pr.call(this))||"")}function ga(){var r=pr.call(this),a=Yr.call(this),u=nn(r)||"";return u?HO.test(u)?(St(r,!0),ei(a),a=!0):(St(r,!1),rn(a,Ge("That email address isn't correct").toString()),a=!1):(St(r,!1),rn(a,Ge("Enter your email address to continue").toString()),a=!1),a?O(nn(r)):null}function nu(r,a,u,h,p,g,w){L.call(this,Tb,{email:u,ia:!!g},w,"passwordSignIn",{F:h,D:p}),this.w=r,this.H=a}c(nu,L),nu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),tu(this,this.l(),this.i()),da(this,this.i(),this.w),nn(this.l())?this.i().focus():this.l().focus(),L.prototype.v.call(this)},nu.prototype.o=function(){this.H=this.w=null,L.prototype.o.call(this)},ve(nu.prototype,{l:pr,U:Yr,P:pa,M:ma,j:ga,i:od,B:ad,ea:l1,u:u1,ua:Qt,pa:Ft,ba:sn});function nt(r,a,u,h,p,g){L.call(this,r,a,h,p||"notice",g),this.i=u||null}G(nt,L),nt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),nt.K.v.call(this)},nt.prototype.o=function(){this.i=null,nt.K.o.call(this)},ve(nt.prototype,{l:Qt,w:Ft,u:sn});function ld(r,a,u,h,p){nt.call(this,Rb,{email:r,G:!!a},a,p,"passwordRecoveryEmailSent",{F:u,D:h})}G(ld,nt);function c1(r,a){nt.call(this,Gb,{G:!!r},r,a,"emailVerificationSuccess")}G(c1,nt);function h1(r,a){nt.call(this,zb,{G:!!r},r,a,"emailVerificationFailure")}G(h1,nt);function d1(r,a,u){nt.call(this,Yb,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}G(d1,nt);function f1(r,a){nt.call(this,Qb,{G:!!r},r,a,"verifyAndChangeEmailFailure")}G(f1,nt);function p1(r,a){nt.call(this,Xb,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}G(p1,nt);function m1(r){nt.call(this,s1,void 0,void 0,r,"signOut")}G(m1,nt);function g1(r,a){nt.call(this,Hb,{G:!!r},r,a,"passwordResetSuccess")}G(g1,nt);function v1(r,a){nt.call(this,qb,{G:!!r},r,a,"passwordResetFailure")}G(v1,nt);function y1(r,a){nt.call(this,Kb,{G:!!r},r,a,"emailChangeRevokeFailure")}G(y1,nt);function _1(r,a,u){nt.call(this,Zb,{errorMessage:r,zb:!!a},a,u,"recoverableError")}G(_1,nt);function w1(r,a){nt.call(this,e1,{errorMessage:r},void 0,a,"unrecoverableError")}G(w1,nt);function iu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function mr(r,a,u,h){function p(w){if(!w.name||w.name!="cancel"){e:{var I=w.message;try{var k=((JSON.parse(I).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(k&&k.length){var H=!0;break e}}catch{}H=!1}if(H)w=vt(a),a.m(),ut(r,w,void 0,Ge("Your sign-in session has expired. Please try again.").toString());else{if(H=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;H=st(w)}a.a(H)}}}if($1(r),h)return E1(r,u),At();if(!u.credential)throw Error("No credential found!");if(!Ue(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=EN(r,u)}catch(w){return Xn(w.code||w.message,w),a.a(w.code||w.message),At()}return u=g.then(function(w){E1(r,w)},p).then(void 0,p),Oe(r,g),At(u)}function E1(r,a){if(!a.user)throw Error("No user found");var u=HE(V(r));if(cg(V(r))&&u&&Gr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=HE(V(r));var h=bE(Ie(r))||void 0;Hn(Hl,Ie(r));var p=!1;$w()?((!u||u(a,h))&&(p=!0,jo(window.opener.location,ud(r,h))),u||window.close()):(!u||u(a,h))&&(p=!0,jo(window.location,ud(r,h))),p||r.reset()}else{u=a.user,a=a.credential,h=cg(V(r)),p=bE(Ie(r))||void 0,Hn(Hl,Ie(r));var g=!1;$w()?((!h||h(u,a,p))&&(g=!0,jo(window.opener.location,ud(r,p))),h||window.close()):(!h||h(u,a,p))&&(g=!0,jo(window.location,ud(r,p))),g||r.reset()}}function ud(r,a){if(r=a||V(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function st(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=vw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=vw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=Tm();break;case"auth/invalid-verification-code":u+=Ge("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=Ge(u).toString())return a;try{return JSON.parse(r.message),Xn("Internal error: "+r.message,void 0),pw().toString()}catch{return r.message}}function qO(r,a,u){var h=Zo[a]&&pe.auth[Zo[a]]?new pe.auth[Zo[a]]:a.indexOf("saml.")==0?new pe.auth.SAMLAuthProvider(a):new pe.auth.OAuthProvider(a);if(!h)throw Error("Invalid Firebase Auth provider!");var p=FE(V(r),a);if(h.addScope)for(var g=0;g<p.length;g++)h.addScope(p[g]);return p=UE(V(r),a)||{},u&&(a==pe.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==pe.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=Kl(V(r),a))&&r.Ob,r&&(p[r]=u)),h.setCustomParameters&&h.setCustomParameters(p),h}function ru(r,a,u,h){function p(){yO(new oE(r.h.tenantId||null),Ie(r)),Oe(r,a.I(j(r.dc,r),[k],function(){if((window.location&&window.location.protocol)==="file:")return Oe(r,V1(r).then(function(H){a.m(),Hn($s,Ie(r)),oe("callback",r,I,At(H))},g))},w))}function g(H){if(Hn($s,Ie(r)),!H.name||H.name!="cancel")switch(H=iu(H),H.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(st(H));break;case"auth/admin-restricted-operation":a.m(),qs(V(r))?oe("handleUnauthorizedUser",r,I,null,u):oe("callback",r,I,$o(H));break;default:a.m(),oe("callback",r,I,$o(H))}}function w(H){Hn($s,Ie(r)),H.name&&H.name=="cancel"||(Xn("signInWithRedirect: "+H.code,void 0),H=st(H),a.Ga=="blank"&&ug(V(r))?(a.m(),oe("providerSignIn",r,I,H)):a.a(H))}var I=vt(a),k=qO(r,u,h);$E(V(r))==Zh?p():Oe(r,wN(r,k).then(function(H){a.m(),oe("callback",r,I,At(H))},g))}function WO(r,a){Oe(r,a.I(j(r.$b,r),[],function(u){return a.m(),mr(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(Xn("ContinueAsGuest: "+u.code,void 0),u=st(u),a.a(u))}))}function KO(r,a,u){function h(g){var w=!1;return g=a.I(j(r.ac,r),[g],function(I){var k=vt(a);a.m(),oe("callback",r,k,At(I)),w=!0},function(I){if((!I.name||I.name!="cancel")&&(!I||I.code!="auth/credential-already-in-use"))if(I&&I.code=="auth/email-already-in-use"&&I.email&&I.credential){var k=vt(a);a.m(),oe("callback",r,k,$o(I))}else I&&I.code=="auth/admin-restricted-operation"&&qs(V(r))?(I=vt(a),a.m(),oe("handleUnauthorizedUser",r,I,null,pe.auth.GoogleAuthProvider.PROVIDER_ID)):(I=st(I),a.a(I))}),Oe(r,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===ME(V(r))){if(FE(V(r),pe.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return ru(r,a,pe.auth.GoogleAuthProvider.PROVIDER_ID,p),At(!0)}return h(pe.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(Ge("The selected credential for the authentication provider is not supported!").toString()),At(!1)}function GO(r,a){var u=a.j(),h=a.u();if(u)if(h){var p=pe.auth.EmailAuthProvider.credential(u,h);Oe(r,a.I(j(r.bc,r),[u,h],function(g){return mr(r,a,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":St(a.l(),!1),rn(a.U(),st(g));break;case"auth/too-many-requests":case"auth/wrong-password":St(a.i(),!1),rn(a.B(),st(g));break;default:Xn("verifyPassword: "+g.message,void 0),a.a(st(g))}}))}else a.i().focus();else a.l().focus()}function cd(r){return r=ea(V(r)),r.length==1&&r[0]==pe.auth.EmailAuthProvider.PROVIDER_ID}function b1(r){return r=ea(V(r)),r.length==1&&r[0]==pe.auth.PhoneAuthProvider.PROVIDER_ID}function ut(r,a,u,h){cd(r)?h?oe("signIn",r,a,u,h):Sg(r,a,u):r&&b1(r)&&!h?oe("phoneSignInStart",r,a):r&&ug(V(r))&&!h?oe("federatedRedirect",r,a,u):oe("providerSignIn",r,a,h,u)}function I1(r,a,u,h){var p=vt(a);Oe(r,a.I(j(Ue(r).fetchSignInMethodsForEmail,Ue(r)),[u],function(g){a.m(),T1(r,p,g,u,h)},function(g){g=st(g),a.a(g)}))}function T1(r,a,u,h,p,g){u.length||ta(V(r))&&!ta(V(r))?N(u,pe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?oe("passwordSignIn",r,a,h,g):u.length==1&&u[0]===pe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ta(V(r))?oe("sendEmailLinkForSignIn",r,a,h,function(){oe("signIn",r,a)}):oe("unsupportedProvider",r,a,h):(u=DE(u,ea(V(r))))?(IE(new Qm(h),Ie(r)),oe("federatedSignIn",r,a,h,u,p)):oe("unsupportedProvider",r,a,h):VE(V(r))?oe("handleUnauthorizedUser",r,a,h,pe.auth.EmailAuthProvider.PROVIDER_ID):ta(V(r))?oe("sendEmailLinkForSignIn",r,a,h,function(){oe("signIn",r,a)}):oe("passwordSignUp",r,a,h,void 0,void 0,g)}function Ag(r,a,u,h,p,g){var w=vt(a);Oe(r,a.I(j(r.Ib,r),[u,g],function(){a.m(),oe("emailLinkSignInSent",r,w,u,h,g)},p))}function Sg(r,a,u){u?oe("prefilledEmailSignIn",r,a,u):oe("signIn",r,a)}function su(){return dh(fr(),"oobCode")}function Rg(){var r=dh(fr(),"continueUrl");return r?function(){jo(window.location,r)}:null}function ou(r,a){L.call(this,Lb,void 0,a,"anonymousUserMismatch"),this.i=r}c(ou,L),ou.prototype.v=function(){var r=this;yt(this,this.l(),function(){r.i()}),this.l().focus(),L.prototype.v.call(this)},ou.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(ou.prototype,{l:Ft}),Je.anonymousUserMismatch=function(r,a){var u=new ou(function(){u.m(),ut(r,a)});u.render(a),Me(r,u)};function hd(r){L.call(this,Cb,void 0,r,"callback")}c(hd,L),hd.prototype.I=function(r,a,u,h){return r.apply(null,a).then(u,h)};function A1(r,a,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=Bi(Ie(r)),g=p&&p.g;if(g&&!YO(u.user,g))zO(r,a,h);else{var w=p&&p.a;w?Oe(r,u.user.linkWithCredential(w).then(function(I){h={user:I.user,credential:w,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo},S1(r,a,h)},function(I){dd(r,a,I)})):S1(r,a,h)}}else u=vt(a),a.m(),ji(Ie(r)),ut(r,u)}function S1(r,a,u){ji(Ie(r)),mr(r,a,u)}function dd(r,a,u){var h=vt(a);ji(Ie(r)),u=st(u),a.m(),ut(r,h,void 0,u)}function R1(r,a,u,h){var p=vt(a);Oe(r,Ue(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?N(g,pe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?oe("passwordLinking",r,p,u):g.length==1&&g[0]===pe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?oe("emailLinkSignInLinking",r,p,u):(g=DE(g,ea(V(r))))?oe("federatedLinking",r,p,u,g,h):(ji(Ie(r)),oe("unsupportedProvider",r,p,u)):(ji(Ie(r)),oe("passwordRecovery",r,p,u,!1,mw().toString()))},function(g){dd(r,a,g)}))}function zO(r,a,u){var h=vt(a);Oe(r,Qr(r).then(function(){a.m(),oe("emailMismatch",r,h,u)},function(p){p.name&&p.name=="cancel"||(p=st(p.code),a.a(p))}))}function YO(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}Je.callback=function(r,a,u){var h=new hd;h.render(a),Me(r,h),u=u||V1(r),Oe(r,u.then(function(p){A1(r,h,p)},function(p){if((p=iu(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)IE(new Qm(p.email,p.credential),Ie(r)),R1(r,h,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=Bi(Ie(r)),w=st(p);g&&g.a?R1(r,h,g.g,w):g?I1(r,h,g.g,w):dd(r,h,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&cd(r)?A1(r,h,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&qs(V(r))?(h.m(),ji(Ie(r)),oe("handleUnauthorizedUser",r,a,null,null)):dd(r,h,p))}))};function au(r,a){L.call(this,xb,void 0,a,"differentDeviceError"),this.i=r}c(au,L),au.prototype.v=function(){var r=this;yt(this,this.l(),function(){r.i()}),this.l().focus(),L.prototype.v.call(this)},au.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(au.prototype,{l:Ft}),Je.differentDeviceError=function(r,a){var u=new au(function(){u.m(),ut(r,a)});u.render(a),Me(r,u)};function lu(r,a,u,h){L.call(this,Wb,{email:r,G:!!u},h,"emailChangeRevoke"),this.l=a,this.i=u||null}c(lu,L),lu.prototype.v=function(){var r=this;yt(this,$e(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),L.prototype.v.call(this)},lu.prototype.o=function(){this.l=this.i=null,L.prototype.o.call(this)},ve(lu.prototype,{u:Qt,B:Ft,w:sn});function uu(){return $e(this,"firebaseui-id-new-password")}function fd(){return $e(this,"firebaseui-id-password-toggle")}function QO(){this.Ra=!this.Ra;var r=fd.call(this),a=uu.call(this);this.Ra?(a.type="text",$i(r,"firebaseui-input-toggle-off"),Hi(r,"firebaseui-input-toggle-on")):(a.type="password",$i(r,"firebaseui-input-toggle-on"),Hi(r,"firebaseui-input-toggle-off")),a.focus()}function pd(){return $e(this,"firebaseui-id-new-password-error")}function C1(){this.Ra=!1;var r=uu.call(this);r.type="password";var a=pd.call(this);la(this,r,function(){ua(a)&&(St(r,!0),ei(a))});var u=fd.call(this);$i(u,"firebaseui-input-toggle-on"),Hi(u,"firebaseui-input-toggle-off"),FO(this,r,function(){$i(u,"firebaseui-input-toggle-focus"),Hi(u,"firebaseui-input-toggle-blur")}),UO(this,r,function(){$i(u,"firebaseui-input-toggle-blur"),Hi(u,"firebaseui-input-toggle-focus")}),yt(this,u,j(QO,this))}function P1(){var r=uu.call(this),a=pd.call(this);return nn(r)?(St(r,!0),ei(a),a=!0):(St(r,!1),rn(a,Ge("Enter your password").toString()),a=!1),a?nn(r):null}function cu(r,a,u){L.call(this,$b,{email:r},u,"passwordReset"),this.l=a}c(cu,L),cu.prototype.v=function(){this.H(),this.B(this.l),da(this,this.i(),this.l),this.i().focus(),L.prototype.v.call(this)},cu.prototype.o=function(){this.l=null,L.prototype.o.call(this)},ve(cu.prototype,{i:uu,w:pd,M:fd,H:C1,u:P1,U:Qt,P:Ft,B:sn});function hu(r,a,u,h,p){L.call(this,Jb,{factorId:r,phoneNumber:u||null,G:!!h},p,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=h||null}c(hu,L),hu.prototype.v=function(){var r=this;yt(this,$e(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),L.prototype.v.call(this)},hu.prototype.o=function(){this.l=this.i=null,L.prototype.o.call(this)},ve(hu.prototype,{u:Qt,B:Ft,w:sn});function JO(r,a,u,h,p){var g=u.u();g&&Oe(r,u.I(j(Ue(r).confirmPasswordReset,Ue(r)),[h,g],function(){u.m();var w=new g1(p);w.render(a),Me(r,w)},function(w){k1(r,a,u,w)}))}function k1(r,a,u,h){(h&&h.code)=="auth/weak-password"?(r=st(h),St(u.i(),!1),rn(u.w(),r),u.i().focus()):(u&&u.m(),u=new v1,u.render(a),Me(r,u))}function XO(r,a,u){var h=new lu(u,function(){Oe(r,h.I(j(Ue(r).sendPasswordResetEmail,Ue(r)),[u],function(){h.m(),h=new ld(u,void 0,Nt(V(r)),Dt(V(r))),h.render(a),Me(r,h)},function(){h.a(fw().toString())}))});h.render(a),Me(r,h)}function ZO(r,a,u,h){var p=new hu(h.factorId,function(){p.I(j(Ue(r).sendPasswordResetEmail,Ue(r)),[u],function(){p.m(),p=new ld(u,void 0,Nt(V(r)),Dt(V(r))),p.render(a),Me(r,p)},function(){p.a(fw().toString())})},h.phoneNumber);p.render(a),Me(r,p)}Je.passwordReset=function(r,a,u,h){Oe(r,Ue(r).verifyPasswordResetCode(u).then(function(p){var g=new cu(p,function(){JO(r,a,g,u,h)});g.render(a),Me(r,g)},function(){k1(r,a)}))},Je.emailChangeRevocation=function(r,a,u){var h=null;Oe(r,Ue(r).checkActionCode(u).then(function(p){return h=p.data.email,Ue(r).applyActionCode(u)}).then(function(){XO(r,a,h)},function(){var p=new y1;p.render(a),Me(r,p)}))},Je.emailVerification=function(r,a,u,h){Oe(r,Ue(r).applyActionCode(u).then(function(){var p=new c1(h);p.render(a),Me(r,p)},function(){var p=new h1;p.render(a),Me(r,p)}))},Je.revertSecondFactorAddition=function(r,a,u){var h=null,p=null;Oe(r,Ue(r).checkActionCode(u).then(function(g){return h=g.data.email,p=g.data.multiFactorInfo,Ue(r).applyActionCode(u)}).then(function(){ZO(r,a,h,p)},function(){var g=new p1;g.render(a),Me(r,g)}))},Je.verifyAndChangeEmail=function(r,a,u,h){var p=null;Oe(r,Ue(r).checkActionCode(u).then(function(g){return p=g.data.email,Ue(r).applyActionCode(u)}).then(function(){var g=new d1(p,h);g.render(a),Me(r,g)},function(){var g=new f1;g.render(a),Me(r,g)}))};function md(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):It&&!Ds("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function du(r,a,u,h,p,g){L.call(this,Db,{email:u},g,"emailLinkSignInConfirmation",{F:h,D:p}),this.l=r,this.u=a}c(du,L),du.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),md(this.i(),(this.i().value||"").length),L.prototype.v.call(this)},du.prototype.o=function(){this.u=this.l=null,L.prototype.o.call(this)},ve(du.prototype,{i:pr,M:Yr,w:pa,H:ma,j:ga,U:Qt,P:Ft,B:sn}),Je.emailLinkConfirmation=function(r,a,u,h,p,g){var w=new du(function(){var I=w.j();I?(w.m(),h(r,a,I,u)):w.i().focus()},function(){w.m(),ut(r,a,p||void 0)},p||void 0,Nt(V(r)),Dt(V(r)));w.render(a),Me(r,w),g&&w.a(g)};function fu(r,a,u,h,p){L.call(this,Fb,{ga:r},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=a}c(fu,L),fu.prototype.v=function(){this.u(this.i),this.l().focus(),L.prototype.v.call(this)},fu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(fu.prototype,{l:Qt,u:sn}),Je.emailLinkNewDeviceLinking=function(r,a,u,h){var p=new Ns(u);if(u=p.a.a.get(Lt.PROVIDER_ID)||null,q0(p,null),u){var g=new fu(Kl(V(r),u),function(){g.m(),h(r,a,p.toString())},Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g)}else ut(r,a)};function gd(r){L.call(this,kb,void 0,r,"blank")}c(gd,L);function Cg(r,a,u,h,p){var g=new gd,w=new Ns(u),I=w.a.a.get(Lt.$a)||"",k=w.a.a.get(Lt.Sa)||"",H=w.a.a.get(Lt.Qa)==="1",ue=H0(w),it=w.a.a.get(Lt.PROVIDER_ID)||null;w=w.a.a.get(Lt.vb)||null,H1(r,w);var bi=!Jo(Qo,Ie(r)),z1=h||_O(k,Ie(r)),Su=(h=wO(k,Ie(r)))&&h.a;it&&Su&&Su.providerId!==it&&(Su=null),g.render(a),Me(r,g),Oe(r,g.I(function(){var ci=At(null);ci=ue&&bi||bi&&H?$o(Error("anonymous-user-not-found")):vN(r,u).then(function(Ug){if(it&&!Su)throw Error("pending-credential-not-found");return Ug});var Ru=null;return ci.then(function(Ug){return Ru=Ug,p?null:Ue(r).checkActionCode(I)}).then(function(){return Ru})},[],function(ci){z1?tN(r,g,z1,u,Su,ci):H?(g.m(),oe("differentDeviceError",r,a)):(g.m(),oe("emailLinkConfirmation",r,a,u,O1))},function(ci){var Ru=void 0;if(!ci||!ci.name||ci.name!="cancel")switch(g.m(),ci&&ci.message){case"anonymous-user-not-found":oe("differentDeviceError",r,a);break;case"anonymous-user-mismatch":oe("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":oe("emailLinkNewDeviceLinking",r,a,u,eN);break;default:ci&&(Ru=st(ci)),ut(r,a,void 0,Ru)}}))}function O1(r,a,u,h){Cg(r,a,h,u,!0)}function eN(r,a,u){Cg(r,a,u)}function tN(r,a,u,h,p,g){var w=vt(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ge("Signing in...").toString());var I=null;p=(g?yN(r,g,u,h,p):_N(r,u,h,p)).then(function(k){Hn(ql,Ie(r)),Hn(Qo,Ie(r)),a.h(),a.$("firebaseui-icon-done",Ge("Signed in!").toString()),I=setTimeout(function(){a.h(),mr(r,a,k,!0)},1e3),Oe(r,function(){a&&(a.h(),a.m()),clearTimeout(I)})},function(k){if(a.h(),a.m(),!k.name||k.name!="cancel"){k=iu(k);var H=st(k);k.code=="auth/email-already-in-use"||k.code=="auth/credential-already-in-use"?(Hn(ql,Ie(r)),Hn(Qo,Ie(r))):k.code=="auth/invalid-email"?(H=Ge("The email provided does not match the current sign-in session.").toString(),oe("emailLinkConfirmation",r,w,h,O1,null,H)):ut(r,w,u,H)}}),Oe(r,p)}Je.emailLinkSignInCallback=Cg;function pu(r,a,u,h,p,g){L.call(this,Vb,{email:r,ga:a},g,"emailLinkSignInLinking",{F:h,D:p}),this.i=u}c(pu,L),pu.prototype.v=function(){this.u(this.i),this.l().focus(),L.prototype.v.call(this)},pu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(pu.prototype,{l:Qt,u:sn});function nN(r,a,u,h){var p=vt(a);Ag(r,a,u,function(){ut(r,p,u)},function(g){if(!g.name||g.name!="cancel"){var w=st(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),ut(r,p,u,w))}},h)}Je.emailLinkSignInLinking=function(r,a,u){var h=Bi(Ie(r));if(ji(Ie(r)),h){var p=h.a.providerId,g=new pu(u,Kl(V(r),p),function(){nN(r,g,u,h)},Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g)}else ut(r,a)};function mu(r,a,u,h,p,g){L.call(this,Ob,{email:r},g,"emailLinkSignInSent",{F:h,D:p}),this.u=a,this.i=u}c(mu,L),mu.prototype.v=function(){var r=this;yt(this,this.l(),function(){r.i()}),yt(this,$e(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),L.prototype.v.call(this)},mu.prototype.o=function(){this.i=this.u=null,L.prototype.o.call(this)},ve(mu.prototype,{l:Ft}),Je.emailLinkSignInSent=function(r,a,u,h,p){var g=new mu(u,function(){g.m(),oe("emailNotReceived",r,a,u,h,p)},function(){g.m(),h()},Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g)};function gu(r,a,u,h,p,g,w){L.call(this,t1,{jc:r,Qb:a},w,"emailMismatch",{F:p,D:g}),this.l=u,this.i=h}c(gu,L),gu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),L.prototype.v.call(this)},gu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(gu.prototype,{u:Qt,B:Ft,w:sn}),Je.emailMismatch=function(r,a,u){var h=Bi(Ie(r));if(h){var p=new gu(u.user.email,h.g,function(){var g=p;ji(Ie(r)),mr(r,g,u)},function(){var g=u.credential.providerId,w=vt(p);p.m(),h.a?oe("federatedLinking",r,w,h.g,g):oe("federatedSignIn",r,w,h.g,g)},Nt(V(r)),Dt(V(r)));p.render(a),Me(r,p)}else ut(r,a)};function va(r,a,u,h,p){L.call(this,Nb,void 0,p,"emailNotReceived",{F:u,D:h}),this.l=r,this.i=a}c(va,L),va.prototype.v=function(){var r=this;yt(this,this.u(),function(){r.i()}),yt(this,this.Da(),function(){r.l()}),this.u().focus(),L.prototype.v.call(this)},va.prototype.Da=function(){return $e(this,"firebaseui-id-resend-email-link")},va.prototype.o=function(){this.i=this.l=null,L.prototype.o.call(this)},ve(va.prototype,{u:Ft}),Je.emailNotReceived=function(r,a,u,h,p){var g=new va(function(){Ag(r,g,u,h,function(w){w=st(w),g.a(w)},p)},function(){g.m(),ut(r,a,u)},Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g)};function ya(r,a,u,h,p,g){L.call(this,Ub,{email:r,ga:a},g,"federatedLinking",{F:h,D:p}),this.i=u}c(ya,L),ya.prototype.v=function(){this.u(this.i),this.l().focus(),L.prototype.v.call(this)},ya.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(ya.prototype,{l:Qt,u:sn}),Je.federatedLinking=function(r,a,u,h,p){var g=Bi(Ie(r));if(g&&g.a){var w=new ya(u,Kl(V(r),h),function(){ru(r,w,h,u)},Nt(V(r)),Dt(V(r)));w.render(a),Me(r,w),p&&w.a(p)}else ut(r,a)},Je.federatedRedirect=function(r,a,u){var h=new gd;h.render(a),Me(r,h),a=ea(V(r))[0],ru(r,h,a,u)},Je.federatedSignIn=function(r,a,u,h,p){var g=new ya(u,Kl(V(r),h),function(){ru(r,g,h,u)},Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g),p&&g.a(p)};function iN(r,a,u,h){var p=a.u();p?Oe(r,a.I(j(r.Xb,r),[u,p],function(g){return g=g.user.linkWithCredential(h).then(function(w){return mr(r,a,{user:w.user,credential:h,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Oe(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":St(a.i(),!1),rn(a.B(),st(g));break;case"auth/too-many-requests":a.a(st(g));break;default:Xn("signInWithEmailAndPassword: "+g.message,void 0),a.a(st(g))}})):a.i().focus()}Je.passwordLinking=function(r,a,u){var h=Bi(Ie(r));ji(Ie(r));var p=h&&h.a;if(p){var g=new fa(u,function(){iN(r,g,u,p)},function(){g.m(),oe("passwordRecovery",r,a,u)},Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g)}else ut(r,a)};function vu(r,a,u,h,p,g){L.call(this,Sb,{email:u,Ta:!!a},g,"passwordRecovery",{F:h,D:p}),this.l=r,this.u=a}c(vu,L),vu.prototype.v=function(){this.B(),this.H(this.l,this.u),nn(this.i())||this.i().focus(),da(this,this.i(),this.l),L.prototype.v.call(this)},vu.prototype.o=function(){this.u=this.l=null,L.prototype.o.call(this)},ve(vu.prototype,{i:pr,w:Yr,B:pa,M:ma,j:ga,U:Qt,P:Ft,H:sn});function rN(r,a){var u=a.j();if(u){var h=vt(a);Oe(r,a.I(j(Ue(r).sendPasswordResetEmail,Ue(r)),[u],function(){a.m();var p=new ld(u,function(){p.m(),ut(r,h)},Nt(V(r)),Dt(V(r)));p.render(h),Me(r,p)},function(p){St(a.i(),!1),rn(a.w(),st(p))}))}else a.i().focus()}Je.passwordRecovery=function(r,a,u,h,p){var g=new vu(function(){rN(r,g)},h?void 0:function(){g.m(),ut(r,a)},u,Nt(V(r)),Dt(V(r)));g.render(a),Me(r,g),p&&g.a(p)},Je.passwordSignIn=function(r,a,u,h){var p=new nu(function(){GO(r,p)},function(){var g=p.M();p.m(),oe("passwordRecovery",r,a,g)},u,Nt(V(r)),Dt(V(r)),h);p.render(a),Me(r,p)};function Pg(){return $e(this,"firebaseui-id-name")}function kg(){return $e(this,"firebaseui-id-name-error")}function yu(r,a,u,h,p,g,w,I,k){L.call(this,Ab,{email:h,Tb:r,name:p,Ta:!!u,ia:!!I},k,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=r}c(yu,L),yu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(tu(this,this.i(),this.u()),tu(this,this.u(),this.l())):tu(this,this.i(),this.l()),this.w&&da(this,this.l(),this.w),nn(this.i())?this.B&&!nn(this.u())?this.u().focus():this.l().focus():this.i().focus(),L.prototype.v.call(this)},yu.prototype.o=function(){this.H=this.w=null,L.prototype.o.call(this)},ve(yu.prototype,{i:pr,U:Yr,ea:pa,jb:ma,j:ga,u:Pg,Bc:kg,Ja:function(){var r=Pg.call(this),a=kg.call(this);la(this,r,function(){ua(a)&&(St(r,!0),ei(a))})},M:function(){var r=Pg.call(this),a=kg.call(this),u=nn(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),St(r,u),u?(ei(a),a=!0):(rn(a,Ge("Enter your account name").toString()),a=!1),a?O(nn(r)):null},l:uu,ba:pd,lb:fd,ua:C1,P:P1,Nb:Qt,Mb:Ft,pa:sn});function sN(r,a){var u=jE(V(r)),h=a.j(),p=null;u&&(p=a.M());var g=a.P();if(h){if(u)if(p)p=ce(p);else{a.u().focus();return}if(g){var w=pe.auth.EmailAuthProvider.credential(h,g);Oe(r,a.I(j(r.Yb,r),[h,g],function(I){var k={user:I.user,credential:w,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo};return u?(I=I.user.updateProfile({displayName:p}).then(function(){return mr(r,a,k)}),Oe(r,I),I):mr(r,a,k)},function(I){if(!I.name||I.name!="cancel"){var k=iu(I);switch(I=st(k),k.code){case"auth/email-already-in-use":return oN(r,a,h,k);case"auth/too-many-requests":I=Ge("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":St(a.l(),!1),rn(a.ba(),I);break;case"auth/admin-restricted-operation":qs(V(r))?(I=vt(a),a.m(),oe("handleUnauthorizedUser",r,I,h,pe.auth.EmailAuthProvider.PROVIDER_ID)):a.a(I);break;default:k="setAccountInfo: "+vE(k),Xn(k,void 0),a.a(I)}}}))}else a.l().focus()}else a.i().focus()}function oN(r,a,u,h){function p(){var w=st(h);St(a.i(),!1),rn(a.U(),w),a.i().focus()}var g=Ue(r).fetchSignInMethodsForEmail(u).then(function(w){w.length?p():(w=vt(a),a.m(),oe("passwordRecovery",r,w,u,!1,mw().toString()))},function(){p()});return Oe(r,g),g}Je.passwordSignUp=function(r,a,u,h,p,g){function w(){I.m(),ut(r,a)}var I=new yu(jE(V(r)),function(){sN(r,I)},p?void 0:w,u,h,Nt(V(r)),Dt(V(r)),g);I.render(a),Me(r,I)};function Og(){return $e(this,"firebaseui-id-phone-confirmation-code")}function N1(){return $e(this,"firebaseui-id-phone-confirmation-code-error")}function D1(){return $e(this,"firebaseui-id-resend-countdown")}function _a(r,a,u,h,p,g,w,I,k){L.call(this,r1,{phoneNumber:p},k,"phoneSignInFinish",{F:w,D:I}),this.jb=g,this.i=new ed(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=h}c(_a,L),_a.prototype.v=function(){var r=this;this.U(this.jb),yi(this.i,"tick",this.w,!1,this),this.i.start(),yt(this,$e(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),yt(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),L.prototype.v.call(this)},_a.prototype.o=function(){this.M=this.H=this.l=this.P=null,td(this.i),Fs(this.i,"tick",this.w),this.i=null,L.prototype.o.call(this)},_a.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(td(this.i),Fs(this.i,"tick",this.w),this.ua(),this.lb())},ve(_a.prototype,{u:Og,pa:N1,Ja:function(r){var a=Og.call(this),u=N1.call(this);la(this,a,function(){ua(u)&&(St(a,!0),ei(u))}),r&&eu(this,a,function(){r()})},ba:function(){var r=O(nn(Og.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:D1,U:function(r){wm(D1.call(this),Ge("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){ei(this.Fb())},Da:function(){return $e(this,"firebaseui-id-resend-link")},lb:function(){rn(this.Da())},Nb:Qt,Mb:Ft,ea:sn});function aN(r,a,u,h){function p(w){a.u().focus(),St(a.u(),!1),rn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ge("Verifying...").toString()),Oe(r,a.I(j(h.confirm,h),[g],function(w){a.h(),a.$("firebaseui-icon-done",Ge("Verified!").toString());var I=setTimeout(function(){a.h(),a.m();var k={user:wi(r).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};mr(r,a,k,!0)},1e3);Oe(r,function(){a&&a.h(),clearTimeout(I)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var I=iu(w);switch(w=st(I),I.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":I=vt(a),a.h(),a.m(),oe("phoneSignInStart",r,I,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),p(w);break;default:a.h(),a.a(w)}}}))):p(Ge("Wrong code. Try again.").toString())}Je.phoneSignInFinish=function(r,a,u,h,p,g){var w=new _a(function(){w.m(),oe("phoneSignInStart",r,a,u)},function(){aN(r,w,u,p)},function(){w.m(),ut(r,a)},function(){w.m(),oe("phoneSignInStart",r,a,u)},ag(u),h,Nt(V(r)),Dt(V(r)));w.render(a),Me(r,w),g&&w.a(g)};var lN=!It&&!(Fe("Safari")&&!(G0()||Fe("Coast")||Fe("Opera")||Fe("Edge")||Fe("Firefox")||Fe("FxiOS")||Fe("Silk")||Fe("Android")));function vd(r,a){return/-[a-z]/.test(a)?null:lN&&r.dataset?!Fe("Android")||G0()||Fe("Firefox")||Fe("FxiOS")||Fe("Opera")||Fe("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function uN(r,a,u){var h=this;r=kl(vb,{items:r},null,this.s),_b.call(this,r,!0,!0),u&&(u=cN(r,u))&&(u.focus(),VO(u,r)),yt(this,r,function(p){(p=(p=lw(p.target,"firebaseui-id-list-box-dialog-button"))&&vd(p,"listboxid"))&&(sd.call(h),a(p))})}function cN(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(vd(r[u],"listboxid")===a)return r[u];return null}function Ks(){return $e(this,"firebaseui-id-phone-number")}function x1(){return $e(this,"firebaseui-id-country-selector")}function Ng(){return $e(this,"firebaseui-id-phone-number-error")}function hN(r,a){var u=r.a,h=Dg("1-US-0",u),p=null;if(a&&Dg(a,u)?p=a:h?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");yd.call(this,p,r)}function Dg(r,a){return r=Hs(r),!(!r||!N(a,r))}function dN(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+xg(a),label:a.name+" "+("‎+"+a.b)}})}function xg(r){return"firebaseui-flag-"+r.f}function fN(r){var a=this;uN.call(this,dN(r.a),function(u){yd.call(a,u,r,!0),a.O().focus()},this.Ba)}function yd(r,a,u){var h=Hs(r);h&&(u&&(u=O(nn(Ks.call(this))||""),a=Yh(a,u),a.length&&a[0].b!=h.b&&(u="+"+h.b+u.substr(a[0].b.length+1),GE(Ks.call(this),u))),a=Hs(this.Ba),this.Ba=r,r=$e(this,"firebaseui-id-country-selector-flag"),a&&Hi(r,xg(a)),$i(r,xg(h)),wm($e(this,"firebaseui-id-country-selector-code"),"‎+"+h.b))}function _u(r,a,u,h,p,g,w,I,k,H){L.call(this,i1,{Gb:a,Aa:k||null,Va:!!u,ia:!!g},H,"phoneSignInStart",{F:h,D:p}),this.H=I||null,this.M=a,this.l=r,this.w=u||null,this.pa=w||null}c(_u,L),_u.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||tu(this,this.O(),this.i()),da(this,this.i(),this.l),this.O().focus(),md(this.O(),(this.O().value||"").length),L.prototype.v.call(this)},_u.prototype.o=function(){this.w=this.l=null,L.prototype.o.call(this)},ve(_u.prototype,{Cb:Ig,O:Ks,B:Ng,ea:function(r,a,u){var h=this,p=Ks.call(this),g=x1.call(this),w=Ng.call(this),I=r||Wl,k=I.a;if(k.length==0)throw Error("No available countries provided.");hN.call(h,I,a),yt(this,g,function(){fN.call(h,I)}),la(this,p,function(){ua(w)&&(St(p,!0),ei(w));var H=O(nn(p)||""),ue=Hs(this.Ba),it=Yh(I,H);H=Dg("1-US-0",k),it.length&&it[0].b!=ue.b&&(ue=it[0],yd.call(h,ue.b=="1"&&H?"1-US-0":ue.c,I))}),u&&eu(this,p,function(){u()})},U:function(r){var a=O(nn(Ks.call(this))||"");r=r||Wl;var u=r.a,h=Yh(Wl,a);if(h.length&&!N(u,h[0]))throw GE(Ks.call(this)),Ks.call(this).focus(),rn(Ng.call(this),Ge("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=Hs(this.Ba),h.length&&h[0].b!=u.b&&yd.call(this,h[0].c,r),h.length&&(a=a.substr(h[0].b.length+1)),a?new OE(this.Ba,a):null},Ja:x1,ba:function(){return $e(this,"firebaseui-recaptcha-container")},u:function(){return $e(this,"firebaseui-id-recaptcha-error")},i:Qt,ua:Ft,P:sn});function L1(r,a,u,h){try{var p=a.U(mg)}catch{return}p?zl?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ge("Verifying...").toString()),Oe(r,a.I(j(r.cc,r),[ag(p),u],function(g){var w=vt(a);a.$("firebaseui-icon-done",Ge("Code sent!").toString());var I=setTimeout(function(){a.h(),a.m(),oe("phoneSignInFinish",r,w,p,15,g)},1e3);Oe(r,function(){a&&a.h(),clearTimeout(I)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(WE),zl=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=Ge("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),rn(a.B(),Tm().toString());return;case"auth/admin-restricted-operation":if(qs(V(r))){g=vt(a),a.m(),oe("handleUnauthorizedUser",r,g,ag(p),pe.auth.PhoneAuthProvider.PROVIDER_ID);return}w=st(g);break;default:w=st(g)}a.a(w)}}))):na?rn(a.u(),Ge("Solve the reCAPTCHA").toString()):!na&&h&&a.i().click():(a.O().focus(),rn(a.B(),Tm().toString()))}Je.phoneSignInStart=function(r,a,u,h){var p=IO(V(r))||{};zl=null,na=!(p&&p.size==="invisible");var g=b1(r),w=PO(V(r)),I=g?CO(V(r)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||I,(I=lg(V(r)))&&kE(I),mg=I?new RE(lg(V(r))):Wl;var k=new _u(function(ue){L1(r,k,H,!(!ue||!ue.keyCode))},na,g?null:function(){H.clear(),k.m(),ut(r,a)},Nt(V(r)),Dt(V(r)),g,mg,w,u);k.render(a),Me(r,k),h&&k.a(h),p.callback=function(ue){k.u()&&ei(k.u()),zl=ue,na||L1(r,k,H)},p["expired-callback"]=function(){zl=null};var H=new pe.auth.RecaptchaVerifier(na?k.ba():k.i(),p,wi(r).app);Oe(r,k.I(j(H.render,H),[],function(ue){WE=ue},function(ue){ue.name&&ue.name=="cancel"||(ue=st(ue),k.m(),ut(r,a,void 0,ue))}))},Je.prefilledEmailSignIn=function(r,a,u){var h=new gd;h.render(a),Me(r,h),Oe(r,h.I(j(Ue(r).fetchSignInMethodsForEmail,Ue(r)),[u],function(p){h.m();var g=!(!cd(r)||!F1(r));T1(r,a,p,u,void 0,g)},function(p){p=st(p),h.m(),oe("signIn",r,a,u,p)}))};function wu(r,a,u,h,p){L.call(this,n1,{Sb:a},p,"providerSignIn",{F:u,D:h}),this.i=r}c(wu,L),wu.prototype.v=function(){this.l(this.i),L.prototype.v.call(this)},wu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(wu.prototype,{l:function(r){function a(w){r(w)}for(var u=this.g?ym("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var p=u[h],g=vd(p,"providerId");yt(this,p,Y(a,g))}}}),Je.providerSignIn=function(r,a,u,h){var p=new wu(function(g){g==pe.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),Sg(r,a,h)):g==pe.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),oe("phoneSignInStart",r,a)):g=="anonymous"?WO(r,p):ru(r,p,g,h),He(r),r.l.cancel()},LE(V(r)),Nt(V(r)),Dt(V(r)));p.render(a),Me(r,p),u&&p.a(u),gN(r)},Je.sendEmailLinkForSignIn=function(r,a,u,h){var p=new hd;p.render(a),Me(r,p),Ag(r,p,u,h,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&qs(V(r))?oe("handleUnauthorizedUser",r,a,u,pe.auth.EmailAuthProvider.PROVIDER_ID):(g=st(g),oe("signIn",r,a,u,g))})};function Eu(r,a,u,h,p,g,w){L.call(this,Ib,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:h,D:p}),this.i=r,this.u=a}c(Eu,L),Eu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),md(this.l(),(this.l().value||"").length),L.prototype.v.call(this)},Eu.prototype.o=function(){this.u=this.i=null,L.prototype.o.call(this)},ve(Eu.prototype,{l:pr,M:Yr,w:pa,H:ma,j:ga,U:Qt,P:Ft,B:sn}),Je.signIn=function(r,a,u,h){var p=cd(r),g=new Eu(function(){var w=g,I=w.j()||"";I&&I1(r,w,I)},p?null:function(){g.m(),ut(r,a,u)},u,Nt(V(r)),Dt(V(r)),p);g.render(a),Me(r,g),h&&g.a(h)};function bu(r,a,u,h,p,g,w){L.call(this,Bb,{kc:r,yb:u,Eb:!!h},w,"unauthorizedUser",{F:p,D:g}),this.l=a,this.i=h}c(bu,L),bu.prototype.v=function(){var r=this,a=$e(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&yt(this,a,function(){r.i()}),yt(this,this.u(),function(){r.l()}),this.u().focus(),L.prototype.v.call(this)},bu.prototype.o=function(){this.i=this.l=null,L.prototype.o.call(this)},ve(bu.prototype,{u:Ft}),Je.handleUnauthorizedUser=function(r,a,u,h){function p(){ut(r,a)}h===pe.auth.EmailAuthProvider.PROVIDER_ID?p=function(){Sg(r,a)}:h===pe.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){oe("phoneSignInStart",r,a)});var g=null,w=null;h===pe.auth.EmailAuthProvider.PROVIDER_ID&&VE(V(r))?(g=SO(V(r)),w=RO(V(r))):qs(V(r))&&(g=TO(V(r)),w=AO(V(r)));var I=new bu(u,function(){I.m(),p()},g,w,Nt(V(r)),Dt(V(r)));I.render(a),Me(r,I)};function Iu(r,a,u,h,p,g){L.call(this,jb,{email:r},g,"unsupportedProvider",{F:h,D:p}),this.l=a,this.i=u}c(Iu,L),Iu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),L.prototype.v.call(this)},Iu.prototype.o=function(){this.i=this.l=null,L.prototype.o.call(this)},ve(Iu.prototype,{u:Qt,B:Ft,w:sn}),Je.unsupportedProvider=function(r,a,u){var h=new Iu(u,function(){h.m(),oe("passwordRecovery",r,a,u)},function(){h.m(),ut(r,a,u)},Nt(V(r)),Dt(V(r)));h.render(a),Me(r,h)};function qi(r,a){this.$=!1;var u=Lg(a);if(Tu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Tu[u]=this,this.a=r,this.u=null,this.Y=!1,M1(this.a),this.h=pe.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),M1(this.h),this.h.setPersistence&&this.h.setPersistence(pe.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new bO,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Bm.Xa(),this.j=this.C=null,this.da=this.A=!1}function M1(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Tu={};function Lg(r){return r||"[DEFAULT]"}function V1(r){return He(r),r.i||(r.i=gr(r,function(a){return a&&!Bi(Ie(r))?At(wi(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Jr(r,u)})):At(Ue(r).getRedirectResult().then(function(u){return Qh(V(r))&&!u.user&&r.j&&!r.j.isAnonymous?wi(r).getRedirectResult():u}))})),r.i}function Me(r,a){He(r),r.g=a}var wa=null;function Ue(r){return He(r),r.h}function wi(r){return He(r),r.a}function Ie(r){return He(r),r.oa}function F1(r){return He(r),r.O?r.O.emailHint:void 0}t=qi.prototype,t.nb=function(){return He(this),!!ng(Ie(this))||U1(fr())};function U1(r){return r=new Ns(r),(r.a.a.get(Lt.ub)||null)==="signIn"&&!!r.a.a.get(Lt.$a)}t.start=function(r,a){B1(this,r,a)};function B1(r,a,u,h){He(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var p="en".replace(/_/g,"-");r.a.languageCode=p,r.h.languageCode=p,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=h||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?_d(r,a):Ll(window,"load",function(){_d(r,a)})}):g.readyState=="complete"?_d(r,a):Ll(window,"load",function(){_d(r,a)})}function _d(r,a){var u=Ch(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),wa){var h=wa;He(h),Bi(Ie(h))&&Gr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),wa.reset()}if(wa=r,r.T=u,mN(r,u),zh(new Xm)&&zh(new Zm)){a=Ch(a,"Could not find the FirebaseUI widget element on the page."),u=fr(),h=sg(V(r).a,"queryParameterForSignInSuccessUrl"),u=(u=dh(u,h))?Br(ph(u)).toString():null;e:{h=fr();var p=BE(V(r));h=dh(h,p)||"";for(g in pg)if(pg[g].toLowerCase()==h.toLowerCase()){var g=pg[g];break e}g="callback"}switch(g){case"callback":u&&(g=Ie(r),Xo(Hl,u,g)),r.nb()?oe("callback",r,a):ut(r,a,F1(r));break;case"resetPassword":oe("passwordReset",r,a,su(),Rg());break;case"recoverEmail":oe("emailChangeRevocation",r,a,su());break;case"revertSecondFactorAddition":oe("revertSecondFactorAddition",r,a,su());break;case"verifyEmail":oe("emailVerification",r,a,su(),Rg());break;case"verifyAndChangeEmail":oe("verifyAndChangeEmail",r,a,su(),Rg());break;case"signIn":oe("emailLinkSignInCallback",r,a,fr()),q1();break;case"select":u&&(g=Ie(r),Xo(Hl,u,g)),ut(r,a);break;default:throw Error("Unhandled widget operation.")}a=V(r),(a=Gl(a).uiShown||null)&&a()}else a=Ch(a,"Could not find the FirebaseUI widget element on the page."),g=new w1(Ge("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),Me(r,g);a=r.g&&r.g.Ga=="blank"&&ug(V(r)),ng(Ie(r))&&!a&&(a=ng(Ie(r)),H1(r,a.a),Hn($s,Ie(r)))}function gr(r,a){if(r.A)return a(j1(r));if(Oe(r,function(){r.A=!1}),Qh(V(r))){var u=new Vt(function(h){Oe(r,r.a.onAuthStateChanged(function(p){r.j=p,r.A||(r.A=!0,h(a(j1(r))))}))});return Oe(r,u),u}return r.A=!0,a(null)}function j1(r){return He(r),Qh(V(r))&&r.j&&r.j.isAnonymous?r.j:null}function Oe(r,a){if(He(r),a){r.s.push(a);var u=function(){Qe(r.s,function(h){return h==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){He(this),this.Z=!0};function pN(r){He(r);var a;return(a=r.Z)||(r=V(r),r=UE(r,pe.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function $1(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function H1(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){He(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&Yk(this.J),$1(this),this.O=null,q1(),Hn($s,Ie(this)),He(this),this.l.cancel(),this.i=At({user:null,credential:null}),wa==this&&(wa=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],ji(Ie(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Qr(this).then(function(){r.C=null},function(){r.C=null}))};function mN(r,a){r.L=null,r.J=new Sh(a),r.J.register(),yi(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var h=V(r);(h=Gl(h).uiChanged||null)&&h(r.L,u),r.L=u}})}t.ib=function(r){He(this);var a=this.ca,u;for(u in r)try{rg(a.a,u,r[u])}catch{Xn('Invalid config: "'+u+'"',void 0)}gk&&rg(a.a,"popupMode",!1),lg(a),!this.da&&cg(V(this))&&(Gr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function V(r){return He(r),r.ca}t.Wb=function(){He(this);var r=V(this),a=sg(r.a,"widgetUrl");r=BE(r);for(var u=a.search(U0),h=0,p,g=[];0<=(p=F0(a,h,r,u));)g.push(a.substring(h,p)),h=Math.min(a.indexOf("&",p)+1||u,u);g.push(a.substr(h)),a=g.join("").replace(sk,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),h=a.indexOf("?"),0>h||h>u?(h=u,p=""):p=a.substring(h+1,u),a=[a.substr(0,h),p,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,V(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=jw(u,r))&&r.focus()):jo(window.location,u)};function He(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return He(this),this.h.app.delete().then(function(){var a=Lg(Ie(r));delete Tu[a],r.reset(),r.$=!0})};function gN(r){He(r);try{Gw(r.l,ME(V(r)),pN(r)).then(function(a){return r.g?KO(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){He(this);var u=this,h=nO();if(!ta(V(this)))return $o(Error("Email link sign-in should be enabled to trigger email sending."));var p=OO(V(this)),g=new Ns(p.url);return dk(g,h),a&&a.a&&(EO(h,a,Ie(this)),q0(g,a.a.providerId)),fk(g,kO(V(this))),gr(this,function(w){return w&&((w=w.uid)?g.a.a.set(Lt.Pa,w):Os(g.a.a,Lt.Pa)),p.url=g.toString(),Ue(u).sendSignInLinkToEmail(r,p)}).then(function(){var w=Ie(u),I={};I.email=r,Xo(Qo,pE(h,JSON.stringify(I)),w)},function(w){throw Hn(ql,Ie(u)),Hn(Qo,Ie(u)),w})};function vN(r,a){var u=H0(new Ns(a));return u?(a=new Vt(function(h,p){var g=wi(r).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?h(w):w&&w.isAnonymous&&w.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});Oe(r,g)}),Oe(r,a),a):At(null)}function yN(r,a,u,h,p){He(r);var g=p||null,w=pe.auth.EmailAuthProvider.credentialWithLink(u,h);return u=g?Ue(r).signInWithEmailLink(u,h).then(function(I){return I.user.linkWithCredential(g)}).then(function(){return Qr(r)}).then(function(){return Jr(r,{code:"auth/email-already-in-use"},g)}):Ue(r).fetchSignInMethodsForEmail(u).then(function(I){return I.length?Jr(r,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Oe(r,u),u}function _N(r,a,u,h){He(r);var p=h||null,g;return a=Ue(r).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},p)return w.user.linkWithCredential(p).then(function(I){g={user:I.user,credential:p,operationType:g.operationType,additionalUserInfo:I.additionalUserInfo}})}).then(function(){Qr(r)}).then(function(){return wi(r).updateCurrentUser(g.user)}).then(function(){return g.user=wi(r).currentUser,g}),Oe(r,a),a}function q1(){var r=fr();if(U1(r)){r=new Ns(r);for(var a in Lt)Lt.hasOwnProperty(a)&&Os(r.a.a,Lt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){He(this);var u=this;return Ue(this).signInWithEmailAndPassword(r,a).then(function(h){return gr(u,function(p){return p?Qr(u).then(function(){return Jr(u,{code:"auth/email-already-in-use"},pe.auth.EmailAuthProvider.credential(r,a))}):h})})},t.Yb=function(r,a){He(this);var u=this;return gr(this,function(h){if(h){var p=pe.auth.EmailAuthProvider.credential(r,a);return h.linkWithCredential(p)}return Ue(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){He(this);var a=this;return gr(this,function(u){return u?u.linkWithCredential(r).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Jr(a,h,r)}):Ue(a).signInWithCredential(r)})};function wN(r,a){return He(r),gr(r,function(u){return u&&!Bi(Ie(r))?u.linkWithPopup(a).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Jr(r,h)}):Ue(r).signInWithPopup(a)})}t.dc=function(r){He(this);var a=this,u=this.i;return this.i=null,gr(this,function(h){return h&&!Bi(Ie(a))?h.linkWithRedirect(r):Ue(a).signInWithRedirect(r)}).then(function(){},function(h){throw a.i=u,h})},t.cc=function(r,a){He(this);var u=this;return gr(this,function(h){return h?h.linkWithPhoneNumber(r,a).then(function(p){return new $m(p,function(g){if(g.code=="auth/credential-already-in-use")return Jr(u,g);throw g})}):wi(u).signInWithPhoneNumber(r,a).then(function(p){return new $m(p)})})},t.$b=function(){return He(this),wi(this).signInAnonymously()};function EN(r,a){return He(r),gr(r,function(u){if(r.j&&!r.j.isAnonymous&&Qh(V(r))&&!Ue(r).currentUser)return Qr(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return Qr(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(h){return a.user=h.user,a.credential=h.credential,a.operationType=h.operationType,a.additionalUserInfo=h.additionalUserInfo,a},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Jr(r,h,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Qr(r).then(function(){return wi(r).updateCurrentUser(a.user)}).then(function(){return a.user=wi(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return He(this),Ue(this).signInWithEmailAndPassword(r,a)};function Qr(r){return He(r),Ue(r).signOut()}function Jr(r,a,u){if(He(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var h=qE(V(r));return At().then(function(){return h(new Ol("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return $o(a)}function Au(r,a,u,h){L.call(this,a1,void 0,h,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(Au,L),Au.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),md(this.l(),(this.l().value||"").length),L.prototype.v.call(this)},Au.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(Au.prototype,{l:pr,H:Yr,u:pa,B:ma,j:ga,M:Qt,w:sn});function wd(r,a,u,h,p){L.call(this,o1,{ec:a},p,"selectTenant",{F:u,D:h}),this.i=r}c(wd,L),wd.prototype.v=function(){bN(this,this.i),L.prototype.v.call(this)},wd.prototype.o=function(){this.i=null,L.prototype.o.call(this)};function bN(r,a){function u(I){a(I)}for(var h=r.g?ym("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],p=0;p<h.length;p++){var g=h[p],w=vd(g,"tenantId");yt(r,g,Y(u,w))}}function Mg(r){L.call(this,Pb,void 0,r,"spinner")}c(Mg,L);function IN(r){this.a=new ig,Ot(this.a,"authDomain"),Ot(this.a,"displayMode",bd),Ot(this.a,"tenants"),Ot(this.a,"callbacks"),Ot(this.a,"tosUrl"),Ot(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{rg(this.a,a,r[a])}catch{Xn('Invalid config: "'+a+'"',void 0)}}function TN(r){r=r.a.get("displayMode");for(var a in Fg)if(Fg[a]===r)return Fg[a];return bd}function Ed(r){return r.a.get("callbacks")||{}}function W1(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&Gr("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){qo(a)}}return null}function K1(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&Gr("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){qo(u)}}return null}function Vg(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(Id))throw Error("Invalid tenant configuration!")}function G1(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var h=[];if(r=r[a]||r[Id],!r)return Xn("Invalid tenant configuration: "+(a+" is not configured!"),void 0),h;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(p){if(typeof p=="string")h.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&h.push(p.provider):h.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),Xn(p,void 0)}),h}function AN(r,a,u){return r=SN(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),r.signInOptions=a),r}function SN(r,a){var u=RN,h=h===void 0?{}:h;return Vg(r,a),r=r.a.get("tenants"),iO(r[a]||r[Id],u,h)}var RN=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],bd="optionFirst",Fg={pc:bd,oc:"identifierFirst"},Id="*";function Ei(r,a){var u=this;this.s=Ch(r),this.a={},Object.keys(a).forEach(function(h){u.a[h]=new IN(a[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=Ei.prototype,t.Ub=function(r,a){var u=this;Xr(this);var h=r.apiKey;return new Vt(function(p,g){if(u.a.hasOwnProperty(h)){var w=Ed(u.a[h]).selectTenantUiHidden||null;if(TN(u.a[h])===bd){var I=[];a.forEach(function(ue){ue=ue||"_";var it=u.a[h].a.get("tenants");if(!it)throw Error("Invalid tenant configuration!");(it=it[ue]||it[Id])?ue={tenantId:ue!=="_"?ue:null,V:it.fullLabel||null,displayName:it.displayName,za:it.iconUrl,ta:it.buttonColor}:(Xn("Invalid tenant configuration: "+(ue+" is not configured!"),void 0),ue=null),ue&&I.push(ue)});var k=function(ue){ue={tenantId:ue,providerIds:G1(u.a[h],ue||"_")},p(ue)};if(I.length===1){k(I[0].tenantId);return}u.g=new wd(function(ue){Xr(u),w&&w(),k(ue)},I,W1(u.a[h]),K1(u.a[h]))}else u.g=new Au(function(){var ue=u.g.j();if(ue){for(var it=0;it<a.length;it++){var bi=G1(u.a[h],a[it]||"_",ue);if(bi.length!==0){ue={tenantId:a[it],providerIds:bi,email:ue},Xr(u),w&&w(),p(ue);return}}u.g.a(gw({code:"no-matching-tenant-for-email"}).toString())}},W1(u.a[h]),K1(u.a[h]));u.g.render(u.s),(g=Ed(u.a[h]).selectTenantUiShown||null)&&g()}else{var H=Error("Invalid project configuration: API key is invalid!");H.code="invalid-configuration",u.pb(H),g(H)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;Vg(this.a[r],a||"_");try{this.i=pe.app(u).auth()}catch{var h=this.a[r].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");r=pe.initializeApp({apiKey:r,authDomain:h},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new Vt(function(h,p){function g(it,bi){u.j=new qi(r),B1(u.j,u.s,it,bi)}var w=r.app.options.apiKey;u.a.hasOwnProperty(w)||p(Error("Invalid project configuration: API key is invalid!"));var I=AN(u.a[w],r.tenantId||"_",a&&a.providerIds);Xr(u),p={signInSuccessWithAuthResult:function(it){return h(it),!1}};var k=Ed(u.a[w]).signInUiShown||null,H=!1;p.uiChanged=function(it,bi){it===null&&bi==="callback"?((it=_m("firebaseui-id-page-callback",u.s))&&ei(it),u.h=new Mg,u.h.render(u.s)):H||it===null&&bi==="spinner"||bi==="blank"||(u.h&&(u.h.m(),u.h=null),H=!0,k&&k(r.tenantId))},I.callbacks=p,I.credentialHelper="none";var ue;a&&a.email&&(ue={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(I,ue)}):g(I,ue)})},t.reset=function(){var r=this;return At().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,Xr(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){Xr(r),r.h=new Mg,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Xr(this),this.g=new m1,this.g.render(this.s),At()};function Xr(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=gw({code:r.code}).toString()||r.message;Xr(this);var h;r.retry&&typeof r.retry=="function"&&(h=function(){a.reset(),r.retry()}),this.g=new _1(u,h),this.g.render(this.s)},t.Rb=function(r){var a=this;return At().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(Vg(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=Ed(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},Ae("firebaseui.auth.FirebaseUiHandler",Ei),Ae("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ei.prototype.Ub),Ae("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ei.prototype.Pb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ei.prototype.Zb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ei.prototype.reset),Ae("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ei.prototype.Vb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ei.prototype.mb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ei.prototype.Bb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ei.prototype.pb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ei.prototype.Rb),Ae("firebaseui.auth.AuthUI",qi),Ae("firebaseui.auth.AuthUI.getInstance",function(r){return r=Lg(r),Tu[r]?Tu[r]:null}),Ae("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",qi.prototype.Db),Ae("firebaseui.auth.AuthUI.prototype.start",qi.prototype.start),Ae("firebaseui.auth.AuthUI.prototype.setConfig",qi.prototype.ib),Ae("firebaseui.auth.AuthUI.prototype.signIn",qi.prototype.Wb),Ae("firebaseui.auth.AuthUI.prototype.reset",qi.prototype.reset),Ae("firebaseui.auth.AuthUI.prototype.delete",qi.prototype.Wa),Ae("firebaseui.auth.AuthUI.prototype.isPendingRedirect",qi.prototype.nb),Ae("firebaseui.auth.AuthUIError",Ol),Ae("firebaseui.auth.AuthUIError.prototype.toJSON",Ol.prototype.toJSON),Ae("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",hg),Ae("firebaseui.auth.CredentialHelper.NONE",Xh),Ae("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Vt.prototype.catch=Vt.prototype.Ca,Vt.prototype.finally=Vt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=I6);var T6=firebaseui.auth;const jp=Gf(H9),To=d9(jp);Cs(jp,"northamerica-northeast1");const TP=qS(jp),q8=new T6.AuthUI(TP),A6=w3(jp);_3(A6);const rh=t=>{console.error(`Error fetching documents with conditions: ${t}`)},W8=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=il(G_(To,t),ls(e,n,i));return(await rl(s)).docs.map(c=>c.data())}catch(s){return rh(s),[]}},K8=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=il(G_(To,t),ls(e,n,i),Pf(e),iP(l),kf(o)),d=await rl(c),f=d.docs.map(v=>({id:v.id,...v.data()})),m=d.docs[d.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,m),{lastVisible:m,docs:f}}else{const c=il(z_(To,t),ls(e,n,i),Pf(...s),kf(o)),d=await rl(c),f=d.docs.map(v=>({id:v.id,...v.data()})),m=d.docs[d.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,m),{lastVisible:m,docs:f}}}catch(c){return rh(c),{lastVisible:{},docs:[]}}},G8=async(t,e,n,i,s,o,l,c,d,f)=>{try{if(f){const m=il(G_(To,t),ls(e,n,i),ls(s,o,l),Pf(e),iP(f),kf(d)),v=await rl(m),_=v.docs.map(A=>({id:A.id,...A.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:_}}else{const m=il(z_(To,t),ls(e,n,i),ls(s,o,l),Pf(...c),kf(d)),v=await rl(m),_=v.docs.map(A=>({id:A.id,...A.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:_}}}catch(m){return rh(m),{lastVisible:{},docs:[]}}},oy=async(t,e)=>{try{console.log("getDocument",t,e);const n=KC(To,t,e),i=await A9(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return rh(n),[]}},z8=async(t,e)=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const n=il(z_(To,t),ls("id","==",e)),i=await rl(n);if(i.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const s=i.docs[0];return console.log("queryForCollectionGroupDocumentById",s.data()),{id:s.id,...s.data()}}catch(n){return rh(n),null}},Y8=t=>t instanceof Wt,Q8=t=>t.toDate();function u0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const ft={},Ua=[],Ai=()=>{},S6=()=>!1,R6=/^on[^a-z]/,$p=t=>R6.test(t),c0=t=>t.startsWith("onUpdate:"),En=Object.assign,h0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},C6=Object.prototype.hasOwnProperty,ze=(t,e)=>C6.call(t,e),we=Array.isArray,Ba=t=>sh(t)==="[object Map]",Hp=t=>sh(t)==="[object Set]",PT=t=>sh(t)==="[object Date]",ke=t=>typeof t=="function",Gt=t=>typeof t=="string",sl=t=>typeof t=="symbol",ht=t=>t!==null&&typeof t=="object",AP=t=>(ht(t)||ke(t))&&ke(t.then)&&ke(t.catch),SP=Object.prototype.toString,sh=t=>SP.call(t),P6=t=>sh(t).slice(8,-1),RP=t=>sh(t)==="[object Object]",d0=t=>Gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xd=u0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},k6=/-(\w)/g,lr=qp(t=>t.replace(k6,(e,n)=>n?n.toUpperCase():"")),O6=/\B([A-Z])/g,wl=qp(t=>t.replace(O6,"-$1").toLowerCase()),Wp=qp(t=>t.charAt(0).toUpperCase()+t.slice(1)),uv=qp(t=>t?`on${Wp(t)}`:""),Ao=(t,e)=>!Object.is(t,e),Zd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Df=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},xf=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kT;const ay=()=>kT||(kT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function f0(t){if(we(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Gt(i)?L6(i):f0(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(Gt(t)||ht(t))return t}const N6=/;(?![^(]*\))/g,D6=/:([^]+)/,x6=/\/\*[^]*?\*\//g;function L6(t){const e={};return t.replace(x6,"").split(N6).forEach(n=>{if(n){const i=n.split(D6);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function hi(t){let e="";if(Gt(t))e=t;else if(we(t))for(let n=0;n<t.length;n++){const i=hi(t[n]);i&&(e+=i+" ")}else if(ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const M6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",V6=u0(M6);function CP(t){return!!t||t===""}function F6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Kp(t[i],e[i]);return n}function Kp(t,e){if(t===e)return!0;let n=PT(t),i=PT(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=sl(t),i=sl(e),n||i)return t===e;if(n=we(t),i=we(e),n||i)return n&&i?F6(t,e):!1;if(n=ht(t),i=ht(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(c&&!d||!c&&d||!Kp(t[l],e[l]))return!1}}return String(t)===String(e)}function U6(t,e){return t.findIndex(n=>Kp(n,e))}const J8=t=>Gt(t)?t:t==null?"":we(t)||ht(t)&&(t.toString===SP||!ke(t.toString))?JSON.stringify(t,PP,2):String(t),PP=(t,e)=>e&&e.__v_isRef?PP(t,e.value):Ba(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Hp(e)?{[`Set(${e.size})`]:[...e.values()]}:ht(e)&&!we(e)&&!RP(e)?String(e):e;let ni;class kP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ni,!e&&ni&&(this.index=(ni.scopes||(ni.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ni;try{return ni=this,e()}finally{ni=n}}}on(){ni=this}off(){ni=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function OP(t){return new kP(t)}function B6(t,e=ni){e&&e.active&&e.effects.push(t)}function NP(){return ni}function j6(t){ni&&ni.cleanups.push(t)}const p0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},DP=t=>(t.w&Es)>0,xP=t=>(t.n&Es)>0,$6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Es},H6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];DP(s)&&!xP(s)?s.delete(t):e[n++]=s,s.w&=~Es,s.n&=~Es}e.length=n}},Lf=new WeakMap;let Wu=0,Es=1;const ly=30;let Ii;const po=Symbol(""),uy=Symbol("");class m0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,B6(this,i)}run(){if(!this.active)return this.fn();let e=Ii,n=fs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ii,Ii=this,fs=!0,Es=1<<++Wu,Wu<=ly?$6(this):OT(this),this.fn()}finally{Wu<=ly&&H6(this),Es=1<<--Wu,Ii=this.parent,fs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ii===this?this.deferStop=!0:this.active&&(OT(this),this.onStop&&this.onStop(),this.active=!1)}}function OT(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let fs=!0;const LP=[];function El(){LP.push(fs),fs=!1}function bl(){const t=LP.pop();fs=t===void 0?!0:t}function Yn(t,e,n){if(fs&&Ii){let i=Lf.get(t);i||Lf.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=p0()),MP(s)}}function MP(t,e){let n=!1;Wu<=ly?xP(t)||(t.n|=Es,n=!DP(t)):n=!t.has(Ii),n&&(t.add(Ii),Ii.deps.push(t))}function Ar(t,e,n,i,s,o){const l=Lf.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&we(t)){const d=Number(i);l.forEach((f,m)=>{(m==="length"||!sl(m)&&m>=d)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":we(t)?d0(n)&&c.push(l.get("length")):(c.push(l.get(po)),Ba(t)&&c.push(l.get(uy)));break;case"delete":we(t)||(c.push(l.get(po)),Ba(t)&&c.push(l.get(uy)));break;case"set":Ba(t)&&c.push(l.get(po));break}if(c.length===1)c[0]&&cy(c[0]);else{const d=[];for(const f of c)f&&d.push(...f);cy(p0(d))}}function cy(t,e){const n=we(t)?t:[...t];for(const i of n)i.computed&&NT(i);for(const i of n)i.computed||NT(i)}function NT(t,e){(t!==Ii||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function q6(t,e){var n;return(n=Lf.get(t))==null?void 0:n.get(e)}const W6=u0("__proto__,__v_isRef,__isVue"),VP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sl)),DT=K6();function K6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=We(this);for(let o=0,l=this.length;o<l;o++)Yn(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(We)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){El();const i=We(this)[e].apply(this,n);return bl(),i}}),t}function G6(t){const e=We(this);return Yn(e,"has",t),e.hasOwnProperty(t)}class FP{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?o5:$P:o?jP:BP).get(e))return e;const l=we(e);if(!s){if(l&&ze(DT,n))return Reflect.get(DT,n,i);if(n==="hasOwnProperty")return G6}const c=Reflect.get(e,n,i);return(sl(n)?VP.has(n):W6(n))||(s||Yn(e,"get",n),o)?c:_t(c)?l&&d0(n)?c:c.value:ht(c)?s?qP(c):gi(c):c}}class UP extends FP{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(ol(o)&&_t(o)&&!_t(i))return!1;if(!this._shallow&&(!Mf(i)&&!ol(i)&&(o=We(o),i=We(i)),!we(e)&&_t(o)&&!_t(i)))return o.value=i,!0;const l=we(e)&&d0(n)?Number(n)<e.length:ze(e,n),c=Reflect.set(e,n,i,s);return e===We(s)&&(l?Ao(i,o)&&Ar(e,"set",n,i):Ar(e,"add",n,i)),c}deleteProperty(e,n){const i=ze(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Ar(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!sl(n)||!VP.has(n))&&Yn(e,"has",n),i}ownKeys(e){return Yn(e,"iterate",we(e)?"length":po),Reflect.ownKeys(e)}}class z6 extends FP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Y6=new UP,Q6=new z6,J6=new UP(!0),g0=t=>t,Gp=t=>Reflect.getPrototypeOf(t);function xd(t,e,n=!1,i=!1){t=t.__v_raw;const s=We(t),o=We(e);n||(Ao(e,o)&&Yn(s,"get",e),Yn(s,"get",o));const{has:l}=Gp(s),c=i?g0:n?_0:Rc;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function Ld(t,e=!1){const n=this.__v_raw,i=We(n),s=We(t);return e||(Ao(t,s)&&Yn(i,"has",t),Yn(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Md(t,e=!1){return t=t.__v_raw,!e&&Yn(We(t),"iterate",po),Reflect.get(t,"size",t)}function xT(t){t=We(t);const e=We(this);return Gp(e).has.call(e,t)||(e.add(t),Ar(e,"add",t,t)),this}function LT(t,e){e=We(e);const n=We(this),{has:i,get:s}=Gp(n);let o=i.call(n,t);o||(t=We(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?Ao(e,l)&&Ar(n,"set",t,e):Ar(n,"add",t,e),this}function MT(t){const e=We(this),{has:n,get:i}=Gp(e);let s=n.call(e,t);s||(t=We(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Ar(e,"delete",t,void 0),o}function VT(){const t=We(this),e=t.size!==0,n=t.clear();return e&&Ar(t,"clear",void 0,void 0),n}function Vd(t,e){return function(i,s){const o=this,l=o.__v_raw,c=We(l),d=e?g0:t?_0:Rc;return!t&&Yn(c,"iterate",po),l.forEach((f,m)=>i.call(s,d(f),d(m),o))}}function Fd(t,e,n){return function(...i){const s=this.__v_raw,o=We(s),l=Ba(o),c=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,f=s[t](...i),m=n?g0:e?_0:Rc;return!e&&Yn(o,"iterate",d?uy:po),{next(){const{value:v,done:_}=f.next();return _?{value:v,done:_}:{value:c?[m(v[0]),m(v[1])]:m(v),done:_}},[Symbol.iterator](){return this}}}}function es(t){return function(...e){return t==="delete"?!1:this}}function X6(){const t={get(o){return xd(this,o)},get size(){return Md(this)},has:Ld,add:xT,set:LT,delete:MT,clear:VT,forEach:Vd(!1,!1)},e={get(o){return xd(this,o,!1,!0)},get size(){return Md(this)},has:Ld,add:xT,set:LT,delete:MT,clear:VT,forEach:Vd(!1,!0)},n={get(o){return xd(this,o,!0)},get size(){return Md(this,!0)},has(o){return Ld.call(this,o,!0)},add:es("add"),set:es("set"),delete:es("delete"),clear:es("clear"),forEach:Vd(!0,!1)},i={get(o){return xd(this,o,!0,!0)},get size(){return Md(this,!0)},has(o){return Ld.call(this,o,!0)},add:es("add"),set:es("set"),delete:es("delete"),clear:es("clear"),forEach:Vd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Fd(o,!1,!1),n[o]=Fd(o,!0,!1),e[o]=Fd(o,!1,!0),i[o]=Fd(o,!0,!0)}),[t,n,e,i]}const[Z6,e5,t5,n5]=X6();function v0(t,e){const n=e?t?n5:t5:t?e5:Z6;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(ze(n,s)&&s in i?n:i,s,o)}const i5={get:v0(!1,!1)},r5={get:v0(!1,!0)},s5={get:v0(!0,!1)},BP=new WeakMap,jP=new WeakMap,$P=new WeakMap,o5=new WeakMap;function a5(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function l5(t){return t.__v_skip||!Object.isExtensible(t)?0:a5(P6(t))}function gi(t){return ol(t)?t:y0(t,!1,Y6,i5,BP)}function HP(t){return y0(t,!1,J6,r5,jP)}function qP(t){return y0(t,!0,Q6,s5,$P)}function y0(t,e,n,i,s){if(!ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=l5(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Sr(t){return ol(t)?Sr(t.__v_raw):!!(t&&t.__v_isReactive)}function ol(t){return!!(t&&t.__v_isReadonly)}function Mf(t){return!!(t&&t.__v_isShallow)}function WP(t){return Sr(t)||ol(t)}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function zp(t){return Df(t,"__v_skip",!0),t}const Rc=t=>ht(t)?gi(t):t,_0=t=>ht(t)?qP(t):t;function KP(t){fs&&Ii&&(t=We(t),MP(t.dep||(t.dep=p0())))}function GP(t,e){t=We(t);const n=t.dep;n&&cy(n)}function _t(t){return!!(t&&t.__v_isRef===!0)}function be(t){return YP(t,!1)}function zP(t){return YP(t,!0)}function YP(t,e){return _t(t)?t:new u5(t,e)}class u5{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:We(e),this._value=n?e:Rc(e)}get value(){return KP(this),this._value}set value(e){const n=this.__v_isShallow||Mf(e)||ol(e);e=n?e:We(e),Ao(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Rc(e),GP(this))}}function _e(t){return _t(t)?t.value:t}const c5={get:(t,e,n)=>_e(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return _t(s)&&!_t(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function QP(t){return Sr(t)?t:new Proxy(t,c5)}function h5(t){const e=we(t)?new Array(t.length):{};for(const n in t)e[n]=JP(t,n);return e}class d5{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return q6(We(this._object),this._key)}}class f5{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function p5(t,e,n){return _t(t)?t:ke(t)?new f5(t):ht(t)&&arguments.length>1?JP(t,e,n):be(t)}function JP(t,e,n){const i=t[e];return _t(i)?i:new d5(t,e,n)}class m5{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new m0(e,()=>{this._dirty||(this._dirty=!0,GP(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=We(this);return KP(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function g5(t,e,n=!1){let i,s;const o=ke(t);return o?(i=t,s=Ai):(i=t.get,s=t.set),new m5(i,s,o||!s,n)}function ps(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){Yp(o,e,n)}return s}function Si(t,e,n,i){if(ke(t)){const o=ps(t,e,n,i);return o&&AP(o)&&o.catch(l=>{Yp(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(Si(t[o],e,n,i));return s}function Yp(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](t,l,c)===!1)return}o=o.parent}const d=e.appContext.config.errorHandler;if(d){ps(d,null,10,[t,l,c]);return}}v5(t,n,s,i)}function v5(t,e,n,i=!0){console.error(t)}let Cc=!1,hy=!1;const Rn=[];let Xi=0;const ja=[];let yr=null,Xs=0;const XP=Promise.resolve();let w0=null;function Qp(t){const e=w0||XP;return t?e.then(this?t.bind(this):t):e}function y5(t){let e=Xi+1,n=Rn.length;for(;e<n;){const i=e+n>>>1,s=Rn[i],o=Pc(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function E0(t){(!Rn.length||!Rn.includes(t,Cc&&t.allowRecurse?Xi+1:Xi))&&(t.id==null?Rn.push(t):Rn.splice(y5(t.id),0,t),ZP())}function ZP(){!Cc&&!hy&&(hy=!0,w0=XP.then(t2))}function _5(t){const e=Rn.indexOf(t);e>Xi&&Rn.splice(e,1)}function w5(t){we(t)?ja.push(...t):(!yr||!yr.includes(t,t.allowRecurse?Xs+1:Xs))&&ja.push(t),ZP()}function FT(t,e=Cc?Xi+1:0){for(;e<Rn.length;e++){const n=Rn[e];n&&n.pre&&(Rn.splice(e,1),e--,n())}}function e2(t){if(ja.length){const e=[...new Set(ja)];if(ja.length=0,yr){yr.push(...e);return}for(yr=e,yr.sort((n,i)=>Pc(n)-Pc(i)),Xs=0;Xs<yr.length;Xs++)yr[Xs]();yr=null,Xs=0}}const Pc=t=>t.id==null?1/0:t.id,E5=(t,e)=>{const n=Pc(t)-Pc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function t2(t){hy=!1,Cc=!0,Rn.sort(E5);const e=Ai;try{for(Xi=0;Xi<Rn.length;Xi++){const n=Rn[Xi];n&&n.active!==!1&&ps(n,null,14)}}finally{Xi=0,Rn.length=0,e2(),Cc=!1,w0=null,(Rn.length||ja.length)&&t2()}}function b5(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ft;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:_}=i[m]||ft;_&&(s=n.map(E=>Gt(E)?E.trim():E)),v&&(s=n.map(xf))}let c,d=i[c=uv(e)]||i[c=uv(lr(e))];!d&&o&&(d=i[c=uv(wl(e))]),d&&Si(d,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Si(f,t,6,s)}}function n2(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!ke(t)){const d=f=>{const m=n2(f,e,!0);m&&(c=!0,En(l,m))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!o&&!c?(ht(t)&&i.set(t,null),null):(we(o)?o.forEach(d=>l[d]=null):En(l,o),ht(t)&&i.set(t,l),l)}function Jp(t,e){return!t||!$p(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,wl(e))||ze(t,e))}let gn=null,i2=null;function Vf(t){const e=gn;return gn=t,i2=t&&t.type.__scopeId||null,e}function Ye(t,e=gn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&QT(-1);const o=Vf(e);let l;try{l=t(...s)}finally{Vf(o),i._d&&QT(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function cv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:d,emit:f,render:m,renderCache:v,data:_,setupState:E,ctx:A,inheritAttrs:y}=t;let b,R;const P=Vf(t);try{if(n.shapeFlag&4){const x=s||i;b=Ki(m.call(x,x,v,o,E,_,A)),R=d}else{const x=e;b=Ki(x.length>1?x(o,{attrs:d,slots:c,emit:f}):x(o,null)),R=e.props?d:I5(d)}}catch(x){rc.length=0,Yp(x,t,1),b=De(bs)}let F=b;if(R&&y!==!1){const x=Object.keys(R),{shapeFlag:Q}=F;x.length&&Q&7&&(l&&x.some(c0)&&(R=T5(R,l)),F=So(F,R))}return n.dirs&&(F=So(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),b=F,Vf(P),b}const I5=t=>{let e;for(const n in t)(n==="class"||n==="style"||$p(n))&&((e||(e={}))[n]=t[n]);return e},T5=(t,e)=>{const n={};for(const i in t)(!c0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function A5(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:d}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return i?UT(i,l,f):!!l;if(d&8){const m=e.dynamicProps;for(let v=0;v<m.length;v++){const _=m[v];if(l[_]!==i[_]&&!Jp(f,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?UT(i,l,f):!0:!!l;return!1}function UT(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!Jp(n,o))return!0}return!1}function S5({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const R5=t=>t.__isSuspense;function C5(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):w5(t)}function Ni(t,e){return b0(t,null,e)}const Ud={};function rr(t,e,n){return b0(t,e,n)}function b0(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=ft){var c;const d=NP()===((c=an)==null?void 0:c.scope)?an:null;let f,m=!1,v=!1;if(_t(t)?(f=()=>t.value,m=Mf(t)):Sr(t)?(f=()=>t,i=!0):we(t)?(v=!0,m=t.some(x=>Sr(x)||Mf(x)),f=()=>t.map(x=>{if(_t(x))return x.value;if(Sr(x))return oo(x);if(ke(x))return ps(x,d,2)})):ke(t)?e?f=()=>ps(t,d,2):f=()=>{if(!(d&&d.isUnmounted))return _&&_(),Si(t,d,3,[E])}:f=Ai,e&&i){const x=f;f=()=>oo(x())}let _,E=x=>{_=P.onStop=()=>{ps(x,d,4)}},A;if(Nc)if(E=Ai,e?n&&Si(e,d,3,[f(),v?[]:void 0,E]):f(),s==="sync"){const x=SB();A=x.__watcherHandles||(x.__watcherHandles=[])}else return Ai;let y=v?new Array(t.length).fill(Ud):Ud;const b=()=>{if(P.active)if(e){const x=P.run();(i||m||(v?x.some((Q,re)=>Ao(Q,y[re])):Ao(x,y)))&&(_&&_(),Si(e,d,3,[x,y===Ud?void 0:v&&y[0]===Ud?[]:y,E]),y=x)}else P.run()};b.allowRecurse=!!e;let R;s==="sync"?R=b:s==="post"?R=()=>Wn(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),R=()=>E0(b));const P=new m0(f,R);e?n?b():y=P.run():s==="post"?Wn(P.run.bind(P),d&&d.suspense):P.run();const F=()=>{P.stop(),d&&d.scope&&h0(d.scope.effects,P)};return A&&A.push(F),F}function P5(t,e,n){const i=this.proxy,s=Gt(t)?t.includes(".")?r2(i,t):()=>i[t]:t.bind(i,i);let o;ke(e)?o=e:(o=e.handler,n=e);const l=an;al(this);const c=b0(s,o.bind(i),n);return l?al(l):mo(),c}function r2(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function oo(t,e){if(!ht(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),_t(t))oo(t.value,e);else if(we(t))for(let n=0;n<t.length;n++)oo(t[n],e);else if(Hp(t)||Ba(t))t.forEach(n=>{oo(n,e)});else if(RP(t))for(const n in t)oo(t[n],e);return t}function $t(t,e){const n=gn;if(n===null)return t;const i=tm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,d,f=ft]=e[o];l&&(ke(l)&&(l={mounted:l,updated:l}),l.deep&&oo(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:d,modifiers:f}))}return t}function Gs(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let d=c.dir[i];d&&(El(),Si(d,n,8,[t.el,c,t,e]),bl())}}/*! #__NO_SIDE_EFFECTS__ */function gt(t,e){return ke(t)?(()=>En({name:t.name},e,{setup:t}))():t}const tc=t=>!!t.type.__asyncLoader,s2=t=>t.type.__isKeepAlive;function k5(t,e){o2(t,"a",e)}function O5(t,e){o2(t,"da",e)}function o2(t,e,n=an){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Xp(e,i,n),n){let s=n.parent;for(;s&&s.parent;)s2(s.parent.vnode)&&N5(i,e,n,s),s=s.parent}}function N5(t,e,n,i){const s=Xp(e,t,i,!0);ui(()=>{h0(i[e],s)},n)}function Xp(t,e,n=an,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;El(),al(n);const c=Si(e,n,t,l);return mo(),bl(),c});return i?s.unshift(o):s.push(o),o}}const Lr=t=>(e,n=an)=>(!Nc||t==="sp")&&Xp(t,(...i)=>e(...i),n),D5=Lr("bm"),On=Lr("m"),x5=Lr("bu"),L5=Lr("u"),M5=Lr("bum"),ui=Lr("um"),V5=Lr("sp"),F5=Lr("rtg"),U5=Lr("rtc");function B5(t,e=an){Xp("ec",t,e)}const a2="components";function X8(t,e){return $5(a2,t,!0,e)||t}const j5=Symbol.for("v-ndc");function $5(t,e,n=!0,i=!1){const s=gn||an;if(s){const o=s.type;if(t===a2){const c=IB(o,!1);if(c&&(c===e||c===lr(e)||c===Wp(lr(e))))return o}const l=BT(s[t]||o[t],e)||BT(s.appContext[t],e);return!l&&i?o:l}}function BT(t,e){return t&&(t[e]||t[lr(e)]||t[Wp(lr(e))])}function dy(t,e,n,i){let s;const o=n&&n[i];if(we(t)||Gt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(ht(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function H5(t,e,n={},i,s){if(gn.isCE||gn.parent&&tc(gn.parent)&&gn.parent.isCE)return e!=="default"&&(n.name=e),De("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),Ze();const l=o&&l2(o(n)),c=An(Rt,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function l2(t){return t.some(e=>Uf(e)?!(e.type===bs||e.type===Rt&&!l2(e.children)):!0)?t:null}const fy=t=>t?_2(t)?tm(t)||t.proxy:fy(t.parent):null,nc=En(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fy(t.parent),$root:t=>fy(t.root),$emit:t=>t.emit,$options:t=>I0(t),$forceUpdate:t=>t.f||(t.f=()=>E0(t.update)),$nextTick:t=>t.n||(t.n=Qp.bind(t.proxy)),$watch:t=>P5.bind(t)}),hv=(t,e)=>t!==ft&&!t.__isScriptSetup&&ze(t,e),q5={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:d}=t;let f;if(e[0]!=="$"){const E=l[e];if(E!==void 0)switch(E){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(hv(i,e))return l[e]=1,i[e];if(s!==ft&&ze(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&ze(f,e))return l[e]=3,o[e];if(n!==ft&&ze(n,e))return l[e]=4,n[e];py&&(l[e]=0)}}const m=nc[e];let v,_;if(m)return e==="$attrs"&&Yn(t,"get",e),m(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==ft&&ze(n,e))return l[e]=4,n[e];if(_=d.config.globalProperties,ze(_,e))return _[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return hv(s,e)?(s[e]=n,!0):i!==ft&&ze(i,e)?(i[e]=n,!0):ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==ft&&ze(t,l)||hv(e,l)||(c=o[0])&&ze(c,l)||ze(i,l)||ze(nc,l)||ze(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function jT(t){return we(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let py=!0;function W5(t){const e=I0(t),n=t.proxy,i=t.ctx;py=!1,e.beforeCreate&&$T(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:d,inject:f,created:m,beforeMount:v,mounted:_,beforeUpdate:E,updated:A,activated:y,deactivated:b,beforeDestroy:R,beforeUnmount:P,destroyed:F,unmounted:x,render:Q,renderTracked:re,renderTriggered:fe,errorCaptured:ae,serverPrefetch:he,expose:Ve,inheritAttrs:j,components:Y,directives:ve,filters:kt}=e;if(f&&K5(f,i,null),l)for(const te in l){const ye=l[te];ke(ye)&&(i[te]=ye.bind(n))}if(s){const te=s.call(n,n);ht(te)&&(t.data=gi(te))}if(py=!0,o)for(const te in o){const ye=o[te],dt=ke(ye)?ye.bind(n,n):ke(ye.get)?ye.get.bind(n,n):Ai,et=!ke(ye)&&ke(ye.set)?ye.set.bind(n):Ai,Xt=Ne({get:dt,set:et});Object.defineProperty(i,te,{enumerable:!0,configurable:!0,get:()=>Xt.value,set:tt=>Xt.value=tt})}if(c)for(const te in c)u2(c[te],i,n,te);if(d){const te=ke(d)?d.call(n):d;Reflect.ownKeys(te).forEach(ye=>{zn(ye,te[ye])})}m&&$T(m,t,"c");function G(te,ye){we(ye)?ye.forEach(dt=>te(dt.bind(n))):ye&&te(ye.bind(n))}if(G(D5,v),G(On,_),G(x5,E),G(L5,A),G(k5,y),G(O5,b),G(B5,ae),G(U5,re),G(F5,fe),G(M5,P),G(ui,x),G(V5,he),we(Ve))if(Ve.length){const te=t.exposed||(t.exposed={});Ve.forEach(ye=>{Object.defineProperty(te,ye,{get:()=>n[ye],set:dt=>n[ye]=dt})})}else t.exposed||(t.exposed={});Q&&t.render===Ai&&(t.render=Q),j!=null&&(t.inheritAttrs=j),Y&&(t.components=Y),ve&&(t.directives=ve)}function K5(t,e,n=Ai){we(t)&&(t=my(t));for(const i in t){const s=t[i];let o;ht(s)?"default"in s?o=Et(s.from||i,s.default,!0):o=Et(s.from||i):o=Et(s),_t(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function $T(t,e,n){Si(we(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function u2(t,e,n,i){const s=i.includes(".")?r2(n,i):()=>n[i];if(Gt(t)){const o=e[t];ke(o)&&rr(s,o)}else if(ke(t))rr(s,t.bind(n));else if(ht(t))if(we(t))t.forEach(o=>u2(o,e,n,i));else{const o=ke(t.handler)?t.handler.bind(n):e[t.handler];ke(o)&&rr(s,o,t)}}function I0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let d;return c?d=c:!s.length&&!n&&!i?d=e:(d={},s.length&&s.forEach(f=>Ff(d,f,l,!0)),Ff(d,e,l)),ht(e)&&o.set(e,d),d}function Ff(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&Ff(t,o,n,!0),s&&s.forEach(l=>Ff(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=G5[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const G5={data:HT,props:qT,emits:qT,methods:Ku,computed:Ku,beforeCreate:Vn,created:Vn,beforeMount:Vn,mounted:Vn,beforeUpdate:Vn,updated:Vn,beforeDestroy:Vn,beforeUnmount:Vn,destroyed:Vn,unmounted:Vn,activated:Vn,deactivated:Vn,errorCaptured:Vn,serverPrefetch:Vn,components:Ku,directives:Ku,watch:Y5,provide:HT,inject:z5};function HT(t,e){return e?t?function(){return En(ke(t)?t.call(this,this):t,ke(e)?e.call(this,this):e)}:e:t}function z5(t,e){return Ku(my(t),my(e))}function my(t){if(we(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Vn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ku(t,e){return t?En(Object.create(null),t,e):e}function qT(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:En(Object.create(null),jT(t),jT(e??{})):e}function Y5(t,e){if(!t)return e;if(!e)return t;const n=En(Object.create(null),t);for(const i in e)n[i]=Vn(t[i],e[i]);return n}function c2(){return{app:null,config:{isNativeTag:S6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q5=0;function J5(t,e){return function(i,s=null){ke(i)||(i=En({},i)),s!=null&&!ht(s)&&(s=null);const o=c2(),l=new WeakSet;let c=!1;const d=o.app={_uid:Q5++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:RB,get config(){return o.config},set config(f){},use(f,...m){return l.has(f)||(f&&ke(f.install)?(l.add(f),f.install(d,...m)):ke(f)&&(l.add(f),f(d,...m))),d},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),d},component(f,m){return m?(o.components[f]=m,d):o.components[f]},directive(f,m){return m?(o.directives[f]=m,d):o.directives[f]},mount(f,m,v){if(!c){const _=De(i,s);return _.appContext=o,m&&e?e(_,f):t(_,f,v),c=!0,d._container=f,f.__vue_app__=d,tm(_.component)||_.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(f,m){return o.provides[f]=m,d},runWithContext(f){kc=d;try{return f()}finally{kc=null}}};return d}}let kc=null;function zn(t,e){if(an){let n=an.provides;const i=an.parent&&an.parent.provides;i===n&&(n=an.provides=Object.create(i)),n[t]=e}}function Et(t,e,n=!1){const i=an||gn;if(i||kc){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:kc._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ke(e)?e.call(i&&i.proxy):e}}function X5(){return!!(an||gn||kc)}function Z5(t,e,n,i=!1){const s={},o={};Df(o,em,1),t.propsDefaults=Object.create(null),h2(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:HP(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function eB(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=We(s),[d]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const m=t.vnode.dynamicProps;for(let v=0;v<m.length;v++){let _=m[v];if(Jp(t.emitsOptions,_))continue;const E=e[_];if(d)if(ze(o,_))E!==o[_]&&(o[_]=E,f=!0);else{const A=lr(_);s[A]=gy(d,c,A,E,t,!1)}else E!==o[_]&&(o[_]=E,f=!0)}}}else{h2(t,e,s,o)&&(f=!0);let m;for(const v in c)(!e||!ze(e,v)&&((m=wl(v))===v||!ze(e,m)))&&(d?n&&(n[v]!==void 0||n[m]!==void 0)&&(s[v]=gy(d,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!ze(e,v))&&(delete o[v],f=!0)}f&&Ar(t,"set","$attrs")}function h2(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let d in e){if(Xd(d))continue;const f=e[d];let m;s&&ze(s,m=lr(d))?!o||!o.includes(m)?n[m]=f:(c||(c={}))[m]=f:Jp(t.emitsOptions,d)||(!(d in i)||f!==i[d])&&(i[d]=f,l=!0)}if(o){const d=We(n),f=c||ft;for(let m=0;m<o.length;m++){const v=o[m];n[v]=gy(s,d,v,f[v],t,!ze(f,v))}}return l}function gy(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=ze(l,"default");if(c&&i===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&ke(d)){const{propsDefaults:f}=s;n in f?i=f[n]:(al(s),i=f[n]=d.call(null,e),mo())}else i=d}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===wl(n))&&(i=!0))}return i}function d2(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let d=!1;if(!ke(t)){const m=v=>{d=!0;const[_,E]=d2(v,e,!0);En(l,_),E&&c.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!o&&!d)return ht(t)&&i.set(t,Ua),Ua;if(we(o))for(let m=0;m<o.length;m++){const v=lr(o[m]);WT(v)&&(l[v]=ft)}else if(o)for(const m in o){const v=lr(m);if(WT(v)){const _=o[m],E=l[v]=we(_)||ke(_)?{type:_}:En({},_);if(E){const A=zT(Boolean,E.type),y=zT(String,E.type);E[0]=A>-1,E[1]=y<0||A<y,(A>-1||ze(E,"default"))&&c.push(v)}}}const f=[l,c];return ht(t)&&i.set(t,f),f}function WT(t){return t[0]!=="$"}function KT(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function GT(t,e){return KT(t)===KT(e)}function zT(t,e){return we(e)?e.findIndex(n=>GT(n,t)):ke(e)&&GT(e,t)?0:-1}const f2=t=>t[0]==="_"||t==="$stable",T0=t=>we(t)?t.map(Ki):[Ki(t)],tB=(t,e,n)=>{if(e._n)return e;const i=Ye((...s)=>T0(e(...s)),n);return i._c=!1,i},p2=(t,e,n)=>{const i=t._ctx;for(const s in t){if(f2(s))continue;const o=t[s];if(ke(o))e[s]=tB(s,o,i);else if(o!=null){const l=T0(o);e[s]=()=>l}}},m2=(t,e)=>{const n=T0(e);t.slots.default=()=>n},nB=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=We(e),Df(e,"_",n)):p2(e,t.slots={})}else t.slots={},e&&m2(t,e);Df(t.slots,em,1)},iB=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=ft;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(En(s,e),!n&&c===1&&delete s._):(o=!e.$stable,p2(e,s)),l=e}else e&&(m2(t,e),l={default:1});if(o)for(const c in s)!f2(c)&&l[c]==null&&delete s[c]};function vy(t,e,n,i,s=!1){if(we(t)){t.forEach((_,E)=>vy(_,e&&(we(e)?e[E]:e),n,i,s));return}if(tc(i)&&!s)return;const o=i.shapeFlag&4?tm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:d}=t,f=e&&e.r,m=c.refs===ft?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==d&&(Gt(f)?(m[f]=null,ze(v,f)&&(v[f]=null)):_t(f)&&(f.value=null)),ke(d))ps(d,c,12,[l,m]);else{const _=Gt(d),E=_t(d);if(_||E){const A=()=>{if(t.f){const y=_?ze(v,d)?v[d]:m[d]:d.value;s?we(y)&&h0(y,o):we(y)?y.includes(o)||y.push(o):_?(m[d]=[o],ze(v,d)&&(v[d]=m[d])):(d.value=[o],t.k&&(m[t.k]=d.value))}else _?(m[d]=l,ze(v,d)&&(v[d]=l)):E&&(d.value=l,t.k&&(m[t.k]=l))};l?(A.id=-1,Wn(A,n)):A()}}}const Wn=C5;function rB(t){return sB(t)}function sB(t,e){const n=ay();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:d,setText:f,setElementText:m,parentNode:v,nextSibling:_,setScopeId:E=Ai,insertStaticContent:A}=t,y=(T,S,C,O=null,M=null,U=null,ee=!1,K=null,J=!!S.dynamicChildren)=>{if(T===S)return;T&&!xu(T,S)&&(O=N(T),tt(T,M,U,!0),T=null),S.patchFlag===-2&&(J=!1,S.dynamicChildren=null);const{type:$,ref:ge,shapeFlag:se}=S;switch($){case Zp:b(T,S,C,O);break;case bs:R(T,S,C,O);break;case dv:T==null&&P(S,C,O,ee);break;case Rt:Y(T,S,C,O,M,U,ee,K,J);break;default:se&1?Q(T,S,C,O,M,U,ee,K,J):se&6?ve(T,S,C,O,M,U,ee,K,J):(se&64||se&128)&&$.process(T,S,C,O,M,U,ee,K,J,z)}ge!=null&&M&&vy(ge,T&&T.ref,U,S||T,!S)},b=(T,S,C,O)=>{if(T==null)i(S.el=c(S.children),C,O);else{const M=S.el=T.el;S.children!==T.children&&f(M,S.children)}},R=(T,S,C,O)=>{T==null?i(S.el=d(S.children||""),C,O):S.el=T.el},P=(T,S,C,O)=>{[T.el,T.anchor]=A(T.children,S,C,O,T.el,T.anchor)},F=({el:T,anchor:S},C,O)=>{let M;for(;T&&T!==S;)M=_(T),i(T,C,O),T=M;i(S,C,O)},x=({el:T,anchor:S})=>{let C;for(;T&&T!==S;)C=_(T),s(T),T=C;s(S)},Q=(T,S,C,O,M,U,ee,K,J)=>{ee=ee||S.type==="svg",T==null?re(S,C,O,M,U,ee,K,J):he(T,S,M,U,ee,K,J)},re=(T,S,C,O,M,U,ee,K)=>{let J,$;const{type:ge,props:se,shapeFlag:ce,transition:Se,dirs:Le}=T;if(J=T.el=l(T.type,U,se&&se.is,se),ce&8?m(J,T.children):ce&16&&ae(T.children,J,null,O,M,U&&ge!=="foreignObject",ee,K),Le&&Gs(T,null,O,"created"),fe(J,T,T.scopeId,ee,O),se){for(const Ke in se)Ke!=="value"&&!Xd(Ke)&&o(J,Ke,null,se[Ke],U,T.children,O,M,Zt);"value"in se&&o(J,"value",null,se.value),($=se.onVnodeBeforeMount)&&Wi($,O,T)}Le&&Gs(T,null,O,"beforeMount");const rt=oB(M,Se);rt&&Se.beforeEnter(J),i(J,S,C),(($=se&&se.onVnodeMounted)||rt||Le)&&Wn(()=>{$&&Wi($,O,T),rt&&Se.enter(J),Le&&Gs(T,null,O,"mounted")},M)},fe=(T,S,C,O,M)=>{if(C&&E(T,C),O)for(let U=0;U<O.length;U++)E(T,O[U]);if(M){let U=M.subTree;if(S===U){const ee=M.vnode;fe(T,ee,ee.scopeId,ee.slotScopeIds,M.parent)}}},ae=(T,S,C,O,M,U,ee,K,J=0)=>{for(let $=J;$<T.length;$++){const ge=T[$]=K?rs(T[$]):Ki(T[$]);y(null,ge,S,C,O,M,U,ee,K)}},he=(T,S,C,O,M,U,ee)=>{const K=S.el=T.el;let{patchFlag:J,dynamicChildren:$,dirs:ge}=S;J|=T.patchFlag&16;const se=T.props||ft,ce=S.props||ft;let Se;C&&zs(C,!1),(Se=ce.onVnodeBeforeUpdate)&&Wi(Se,C,S,T),ge&&Gs(S,T,C,"beforeUpdate"),C&&zs(C,!0);const Le=M&&S.type!=="foreignObject";if($?Ve(T.dynamicChildren,$,K,C,O,Le,U):ee||ye(T,S,K,null,C,O,Le,U,!1),J>0){if(J&16)j(K,S,se,ce,C,O,M);else if(J&2&&se.class!==ce.class&&o(K,"class",null,ce.class,M),J&4&&o(K,"style",se.style,ce.style,M),J&8){const rt=S.dynamicProps;for(let Ke=0;Ke<rt.length;Ke++){const lt=rt[Ke],Yt=se[lt],cr=ce[lt];(cr!==Yt||lt==="value")&&o(K,lt,Yt,cr,M,T.children,C,O,Zt)}}J&1&&T.children!==S.children&&m(K,S.children)}else!ee&&$==null&&j(K,S,se,ce,C,O,M);((Se=ce.onVnodeUpdated)||ge)&&Wn(()=>{Se&&Wi(Se,C,S,T),ge&&Gs(S,T,C,"updated")},O)},Ve=(T,S,C,O,M,U,ee)=>{for(let K=0;K<S.length;K++){const J=T[K],$=S[K],ge=J.el&&(J.type===Rt||!xu(J,$)||J.shapeFlag&70)?v(J.el):C;y(J,$,ge,null,O,M,U,ee,!0)}},j=(T,S,C,O,M,U,ee)=>{if(C!==O){if(C!==ft)for(const K in C)!Xd(K)&&!(K in O)&&o(T,K,C[K],null,ee,S.children,M,U,Zt);for(const K in O){if(Xd(K))continue;const J=O[K],$=C[K];J!==$&&K!=="value"&&o(T,K,$,J,ee,S.children,M,U,Zt)}"value"in O&&o(T,"value",C.value,O.value)}},Y=(T,S,C,O,M,U,ee,K,J)=>{const $=S.el=T?T.el:c(""),ge=S.anchor=T?T.anchor:c("");let{patchFlag:se,dynamicChildren:ce,slotScopeIds:Se}=S;Se&&(K=K?K.concat(Se):Se),T==null?(i($,C,O),i(ge,C,O),ae(S.children,C,ge,M,U,ee,K,J)):se>0&&se&64&&ce&&T.dynamicChildren?(Ve(T.dynamicChildren,ce,C,M,U,ee,K),(S.key!=null||M&&S===M.subTree)&&A0(T,S,!0)):ye(T,S,C,ge,M,U,ee,K,J)},ve=(T,S,C,O,M,U,ee,K,J)=>{S.slotScopeIds=K,T==null?S.shapeFlag&512?M.ctx.activate(S,C,O,ee,J):kt(S,C,O,M,U,ee,J):Ae(T,S,J)},kt=(T,S,C,O,M,U,ee)=>{const K=T.component=yB(T,O,M);if(s2(T)&&(K.ctx.renderer=z),_B(K),K.asyncDep){if(M&&M.registerDep(K,G),!T.el){const J=K.subTree=De(bs);R(null,J,S,C)}return}G(K,T,S,C,M,U,ee)},Ae=(T,S,C)=>{const O=S.component=T.component;if(A5(T,S,C))if(O.asyncDep&&!O.asyncResolved){te(O,S,C);return}else O.next=S,_5(O.update),O.update();else S.el=T.el,O.vnode=S},G=(T,S,C,O,M,U,ee)=>{const K=()=>{if(T.isMounted){let{next:ge,bu:se,u:ce,parent:Se,vnode:Le}=T,rt=ge,Ke;zs(T,!1),ge?(ge.el=Le.el,te(T,ge,ee)):ge=Le,se&&Zd(se),(Ke=ge.props&&ge.props.onVnodeBeforeUpdate)&&Wi(Ke,Se,ge,Le),zs(T,!0);const lt=cv(T),Yt=T.subTree;T.subTree=lt,y(Yt,lt,v(Yt.el),N(Yt),T,M,U),ge.el=lt.el,rt===null&&S5(T,lt.el),ce&&Wn(ce,M),(Ke=ge.props&&ge.props.onVnodeUpdated)&&Wn(()=>Wi(Ke,Se,ge,Le),M)}else{let ge;const{el:se,props:ce}=S,{bm:Se,m:Le,parent:rt}=T,Ke=tc(S);if(zs(T,!1),Se&&Zd(Se),!Ke&&(ge=ce&&ce.onVnodeBeforeMount)&&Wi(ge,rt,S),zs(T,!0),se&&Qe){const lt=()=>{T.subTree=cv(T),Qe(se,T.subTree,T,M,null)};Ke?S.type.__asyncLoader().then(()=>!T.isUnmounted&&lt()):lt()}else{const lt=T.subTree=cv(T);y(null,lt,C,O,T,M,U),S.el=lt.el}if(Le&&Wn(Le,M),!Ke&&(ge=ce&&ce.onVnodeMounted)){const lt=S;Wn(()=>Wi(ge,rt,lt),M)}(S.shapeFlag&256||rt&&tc(rt.vnode)&&rt.vnode.shapeFlag&256)&&T.a&&Wn(T.a,M),T.isMounted=!0,S=C=O=null}},J=T.effect=new m0(K,()=>E0($),T.scope),$=T.update=()=>J.run();$.id=T.uid,zs(T,!0),$()},te=(T,S,C)=>{S.component=T;const O=T.vnode.props;T.vnode=S,T.next=null,eB(T,S.props,O,C),iB(T,S.children,C),El(),FT(),bl()},ye=(T,S,C,O,M,U,ee,K,J=!1)=>{const $=T&&T.children,ge=T?T.shapeFlag:0,se=S.children,{patchFlag:ce,shapeFlag:Se}=S;if(ce>0){if(ce&128){et($,se,C,O,M,U,ee,K,J);return}else if(ce&256){dt($,se,C,O,M,U,ee,K,J);return}}Se&8?(ge&16&&Zt($,M,U),se!==$&&m(C,se)):ge&16?Se&16?et($,se,C,O,M,U,ee,K,J):Zt($,M,U,!0):(ge&8&&m(C,""),Se&16&&ae(se,C,O,M,U,ee,K,J))},dt=(T,S,C,O,M,U,ee,K,J)=>{T=T||Ua,S=S||Ua;const $=T.length,ge=S.length,se=Math.min($,ge);let ce;for(ce=0;ce<se;ce++){const Se=S[ce]=J?rs(S[ce]):Ki(S[ce]);y(T[ce],Se,C,null,M,U,ee,K,J)}$>ge?Zt(T,M,U,!0,!1,se):ae(S,C,O,M,U,ee,K,J,se)},et=(T,S,C,O,M,U,ee,K,J)=>{let $=0;const ge=S.length;let se=T.length-1,ce=ge-1;for(;$<=se&&$<=ce;){const Se=T[$],Le=S[$]=J?rs(S[$]):Ki(S[$]);if(xu(Se,Le))y(Se,Le,C,null,M,U,ee,K,J);else break;$++}for(;$<=se&&$<=ce;){const Se=T[se],Le=S[ce]=J?rs(S[ce]):Ki(S[ce]);if(xu(Se,Le))y(Se,Le,C,null,M,U,ee,K,J);else break;se--,ce--}if($>se){if($<=ce){const Se=ce+1,Le=Se<ge?S[Se].el:O;for(;$<=ce;)y(null,S[$]=J?rs(S[$]):Ki(S[$]),C,Le,M,U,ee,K,J),$++}}else if($>ce)for(;$<=se;)tt(T[$],M,U,!0),$++;else{const Se=$,Le=$,rt=new Map;for($=Le;$<=ce;$++){const en=S[$]=J?rs(S[$]):Ki(S[$]);en.key!=null&&rt.set(en.key,$)}let Ke,lt=0;const Yt=ce-Le+1;let cr=!1,ch=0;const Ps=new Array(Yt);for($=0;$<Yt;$++)Ps[$]=0;for($=Se;$<=se;$++){const en=T[$];if(lt>=Yt){tt(en,M,U,!0);continue}let tn;if(en.key!=null)tn=rt.get(en.key);else for(Ke=Le;Ke<=ce;Ke++)if(Ps[Ke-Le]===0&&xu(en,S[Ke])){tn=Ke;break}tn===void 0?tt(en,M,U,!0):(Ps[tn-Le]=$+1,tn>=ch?ch=tn:cr=!0,y(en,S[tn],C,null,M,U,ee,K,J),lt++)}const ks=cr?aB(Ps):Ua;for(Ke=ks.length-1,$=Yt-1;$>=0;$--){const en=Le+$,tn=S[en],hh=en+1<ge?S[en+1].el:O;Ps[$]===0?y(null,tn,C,hh,M,U,ee,K,J):cr&&(Ke<0||$!==ks[Ke]?Xt(tn,C,hh,2):Ke--)}}},Xt=(T,S,C,O,M=null)=>{const{el:U,type:ee,transition:K,children:J,shapeFlag:$}=T;if($&6){Xt(T.component.subTree,S,C,O);return}if($&128){T.suspense.move(S,C,O);return}if($&64){ee.move(T,S,C,z);return}if(ee===Rt){i(U,S,C);for(let se=0;se<J.length;se++)Xt(J[se],S,C,O);i(T.anchor,S,C);return}if(ee===dv){F(T,S,C);return}if(O!==2&&$&1&&K)if(O===0)K.beforeEnter(U),i(U,S,C),Wn(()=>K.enter(U),M);else{const{leave:se,delayLeave:ce,afterLeave:Se}=K,Le=()=>i(U,S,C),rt=()=>{se(U,()=>{Le(),Se&&Se()})};ce?ce(U,Le,rt):rt()}else i(U,S,C)},tt=(T,S,C,O=!1,M=!1)=>{const{type:U,props:ee,ref:K,children:J,dynamicChildren:$,shapeFlag:ge,patchFlag:se,dirs:ce}=T;if(K!=null&&vy(K,null,C,T,!0),ge&256){S.ctx.deactivate(T);return}const Se=ge&1&&ce,Le=!tc(T);let rt;if(Le&&(rt=ee&&ee.onVnodeBeforeUnmount)&&Wi(rt,S,T),ge&6)Mo(T.component,C,O);else{if(ge&128){T.suspense.unmount(C,O);return}Se&&Gs(T,null,S,"beforeUnmount"),ge&64?T.type.remove(T,S,C,M,z,O):$&&(U!==Rt||se>0&&se&64)?Zt($,S,C,!1,!0):(U===Rt&&se&384||!M&&ge&16)&&Zt(J,S,C),O&&Fi(T)}(Le&&(rt=ee&&ee.onVnodeUnmounted)||Se)&&Wn(()=>{rt&&Wi(rt,S,T),Se&&Gs(T,null,S,"unmounted")},C)},Fi=T=>{const{type:S,el:C,anchor:O,transition:M}=T;if(S===Rt){Ui(C,O);return}if(S===dv){x(T);return}const U=()=>{s(C),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(T.shapeFlag&1&&M&&!M.persisted){const{leave:ee,delayLeave:K}=M,J=()=>ee(C,U);K?K(T.el,U,J):J()}else U()},Ui=(T,S)=>{let C;for(;T!==S;)C=_(T),s(T),T=C;s(S)},Mo=(T,S,C)=>{const{bum:O,scope:M,update:U,subTree:ee,um:K}=T;O&&Zd(O),M.stop(),U&&(U.active=!1,tt(ee,T,S,C)),K&&Wn(K,S),Wn(()=>{T.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Zt=(T,S,C,O=!1,M=!1,U=0)=>{for(let ee=U;ee<T.length;ee++)tt(T[ee],S,C,O,M)},N=T=>T.shapeFlag&6?N(T.component.subTree):T.shapeFlag&128?T.suspense.next():_(T.anchor||T.el),ne=(T,S,C)=>{T==null?S._vnode&&tt(S._vnode,null,null,!0):y(S._vnode||null,T,S,null,null,null,C),FT(),e2(),S._vnode=T},z={p:y,um:tt,m:Xt,r:Fi,mt:kt,mc:ae,pc:ye,pbc:Ve,n:N,o:t};let de,Qe;return e&&([de,Qe]=e(z)),{render:ne,hydrate:de,createApp:J5(ne,de)}}function zs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function oB(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function A0(t,e,n=!1){const i=t.children,s=e.children;if(we(i)&&we(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=rs(s[o]),c.el=l.el),n||A0(l,c)),c.type===Zp&&(c.el=l.el)}}function aB(t){const e=t.slice(),n=[0];let i,s,o,l,c;const d=t.length;for(i=0;i<d;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const lB=t=>t.__isTeleport,ic=t=>t&&(t.disabled||t.disabled===""),YT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,yy=(t,e)=>{const n=t&&t.to;return Gt(n)?e?e(n):null:n},uB={__isTeleport:!0,process(t,e,n,i,s,o,l,c,d,f){const{mc:m,pc:v,pbc:_,o:{insert:E,querySelector:A,createText:y,createComment:b}}=f,R=ic(e.props);let{shapeFlag:P,children:F,dynamicChildren:x}=e;if(t==null){const Q=e.el=y(""),re=e.anchor=y("");E(Q,n,i),E(re,n,i);const fe=e.target=yy(e.props,A),ae=e.targetAnchor=y("");fe&&(E(ae,fe),l=l||YT(fe));const he=(Ve,j)=>{P&16&&m(F,Ve,j,s,o,l,c,d)};R?he(n,re):fe&&he(fe,ae)}else{e.el=t.el;const Q=e.anchor=t.anchor,re=e.target=t.target,fe=e.targetAnchor=t.targetAnchor,ae=ic(t.props),he=ae?n:re,Ve=ae?Q:fe;if(l=l||YT(re),x?(_(t.dynamicChildren,x,he,s,o,l,c),A0(t,e,!0)):d||v(t,e,he,Ve,s,o,l,c,!1),R)ae?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Bd(e,n,Q,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=yy(e.props,A);j&&Bd(e,j,null,f,0)}else ae&&Bd(e,re,fe,f,1)}g2(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:d,anchor:f,targetAnchor:m,target:v,props:_}=t;if(v&&o(m),l&&o(f),c&16){const E=l||!ic(_);for(let A=0;A<d.length;A++){const y=d[A];s(y,e,n,E,!!y.dynamicChildren)}}},move:Bd,hydrate:cB};function Bd(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:d,children:f,props:m}=t,v=o===2;if(v&&i(l,e,n),(!v||ic(m))&&d&16)for(let _=0;_<f.length;_++)s(f[_],e,n,2);v&&i(c,e,n)}function cB(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:d}},f){const m=e.target=yy(e.props,d);if(m){const v=m._lpa||m.firstChild;if(e.shapeFlag&16)if(ic(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let _=v;for(;_;)if(_=l(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,m._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,m,n,i,s,o)}g2(e)}return e.anchor&&l(e.anchor)}const hB=uB;function g2(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Rt=Symbol.for("v-fgt"),Zp=Symbol.for("v-txt"),bs=Symbol.for("v-cmt"),dv=Symbol.for("v-stc"),rc=[];let Ti=null;function Ze(t=!1){rc.push(Ti=t?null:[])}function dB(){rc.pop(),Ti=rc[rc.length-1]||null}let Oc=1;function QT(t){Oc+=t}function v2(t){return t.dynamicChildren=Oc>0?Ti||Ua:null,dB(),Oc>0&&Ti&&Ti.push(t),t}function Un(t,e,n,i,s,o){return v2(q(t,e,n,i,s,o,!0))}function An(t,e,n,i,s){return v2(De(t,e,n,i,s,!0))}function Uf(t){return t?t.__v_isVNode===!0:!1}function xu(t,e){return t.type===e.type&&t.key===e.key}const em="__vInternal",y2=({key:t})=>t??null,ef=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Gt(t)||_t(t)||ke(t)?{i:gn,r:t,k:e,f:!!n}:t:null);function q(t,e=null,n=null,i=0,s=null,o=t===Rt?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&y2(e),ref:e&&ef(e),scopeId:i2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gn};return c?(S0(d,n),o&128&&t.normalize(d)):n&&(d.shapeFlag|=Gt(n)?8:16),Oc>0&&!l&&Ti&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Ti.push(d),d}const De=fB;function fB(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===j5)&&(t=bs),Uf(t)){const c=So(t,e,!0);return n&&S0(c,n),Oc>0&&!o&&Ti&&(c.shapeFlag&6?Ti[Ti.indexOf(t)]=c:Ti.push(c)),c.patchFlag|=-2,c}if(TB(t)&&(t=t.__vccOpts),e){e=pB(e);let{class:c,style:d}=e;c&&!Gt(c)&&(e.class=hi(c)),ht(d)&&(WP(d)&&!we(d)&&(d=En({},d)),e.style=f0(d))}const l=Gt(t)?1:R5(t)?128:lB(t)?64:ht(t)?4:ke(t)?2:0;return q(t,e,n,i,s,l,o,!0)}function pB(t){return t?WP(t)||em in t?En({},t):t:null}function So(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?mB(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&y2(c),ref:e&&e.ref?n&&s?we(s)?s.concat(ef(e)):[s,ef(e)]:ef(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&So(t.ssContent),ssFallback:t.ssFallback&&So(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Fn(t=" ",e=0){return De(Zp,null,t,e)}function ii(t="",e=!1){return e?(Ze(),An(bs,null,t)):De(bs,null,t)}function Ki(t){return t==null||typeof t=="boolean"?De(bs):we(t)?De(Rt,null,t.slice()):typeof t=="object"?rs(t):De(Zp,null,String(t))}function rs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:So(t)}function S0(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(we(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),S0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(em in e)?e._ctx=gn:s===3&&gn&&(gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ke(e)?(e={default:e,_ctx:gn},n=32):(e=String(e),i&64?(n=16,e=[Fn(e)]):n=8);t.children=e,t.shapeFlag|=n}function mB(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=hi([e.class,i.class]));else if(s==="style")e.style=f0([e.style,i.style]);else if($p(s)){const o=e[s],l=i[s];l&&o!==l&&!(we(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function Wi(t,e,n,i=null){Si(t,e,7,[n,i])}const gB=c2();let vB=0;function yB(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||gB,o={uid:vB++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new kP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:d2(i,s),emitsOptions:n2(i,s),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:i.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=b5.bind(null,o),t.ce&&t.ce(o),o}let an=null,R0,Ia,JT="__VUE_INSTANCE_SETTERS__";(Ia=ay()[JT])||(Ia=ay()[JT]=[]),Ia.push(t=>an=t),R0=t=>{Ia.length>1?Ia.forEach(e=>e(t)):Ia[0](t)};const al=t=>{R0(t),t.scope.on()},mo=()=>{an&&an.scope.off(),R0(null)};function _2(t){return t.vnode.shapeFlag&4}let Nc=!1;function _B(t,e=!1){Nc=e;const{props:n,children:i}=t.vnode,s=_2(t);Z5(t,n,s,e),nB(t,i);const o=s?wB(t,e):void 0;return Nc=!1,o}function wB(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=zp(new Proxy(t.ctx,q5));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?bB(t):null;al(t),El();const o=ps(i,t,0,[t.props,s]);if(bl(),mo(),AP(o)){if(o.then(mo,mo),e)return o.then(l=>{XT(t,l,e)}).catch(l=>{Yp(l,t,0)});t.asyncDep=o}else XT(t,o,e)}else w2(t,e)}function XT(t,e,n){ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ht(e)&&(t.setupState=QP(e)),w2(t,n)}let ZT;function w2(t,e,n){const i=t.type;if(!t.render){if(!e&&ZT&&!i.render){const s=i.template||I0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:d}=i,f=En(En({isCustomElement:o,delimiters:c},l),d);i.render=ZT(s,f)}}t.render=i.render||Ai}{al(t),El();try{W5(t)}finally{bl(),mo()}}}function EB(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Yn(t,"get","$attrs"),e[n]}}))}function bB(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return EB(t)},slots:t.slots,emit:t.emit,expose:e}}function tm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(QP(zp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in nc)return nc[n](t)},has(e,n){return n in e||n in nc}}))}function IB(t,e=!0){return ke(t)?t.displayName||t.name:t.name||e&&t.__name}function TB(t){return ke(t)&&"__vccOpts"in t}const Ne=(t,e)=>g5(t,e,Nc);function fn(t,e,n){const i=arguments.length;return i===2?ht(e)&&!we(e)?Uf(e)?De(t,null,[e]):De(t,e):De(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Uf(n)&&(n=[n]),De(t,e,n))}const AB=Symbol.for("v-scx"),SB=()=>Et(AB),RB="3.3.7",CB="http://www.w3.org/2000/svg",Zs=typeof document<"u"?document:null,eA=Zs&&Zs.createElement("template"),PB={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?Zs.createElementNS(CB,t):Zs.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Zs.createTextNode(t),createComment:t=>Zs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{eA.innerHTML=i?`<svg>${t}</svg>`:t;const c=eA.content;if(i){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},kB=Symbol("_vtc");function OB(t,e,n){const i=t[kB];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const NB=Symbol("_vod");function DB(t,e,n){const i=t.style,s=Gt(n);if(n&&!s){if(e&&!Gt(e))for(const o in e)n[o]==null&&_y(i,o,"");for(const o in n)_y(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),NB in t&&(i.display=o)}}const tA=/\s*!important$/;function _y(t,e,n){if(we(n))n.forEach(i=>_y(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=xB(t,e);tA.test(n)?t.setProperty(wl(i),n.replace(tA,""),"important"):t[i]=n}}const nA=["Webkit","Moz","ms"],fv={};function xB(t,e){const n=fv[e];if(n)return n;let i=lr(e);if(i!=="filter"&&i in t)return fv[e]=i;i=Wp(i);for(let s=0;s<nA.length;s++){const o=nA[s]+i;if(o in t)return fv[e]=o}return e}const iA="http://www.w3.org/1999/xlink";function LB(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(iA,e.slice(6,e.length)):t.setAttributeNS(iA,e,n);else{const o=V6(e);n==null||o&&!CP(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function MB(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,m=n??"";f!==m&&(t.value=m),n==null&&t.removeAttribute(e);return}let d=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=CP(n):n==null&&f==="string"?(n="",d=!0):f==="number"&&(n=0,d=!0)}try{t[e]=n}catch{}d&&t.removeAttribute(e)}function eo(t,e,n,i){t.addEventListener(e,n,i)}function VB(t,e,n,i){t.removeEventListener(e,n,i)}const rA=Symbol("_vei");function FB(t,e,n,i,s=null){const o=t[rA]||(t[rA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,d]=UB(e);if(i){const f=o[e]=$B(i,s);eo(t,c,f,d)}else l&&(VB(t,c,l,d),o[e]=void 0)}}const sA=/(?:Once|Passive|Capture)$/;function UB(t){let e;if(sA.test(t)){e={};let i;for(;i=t.match(sA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wl(t.slice(2)),e]}let pv=0;const BB=Promise.resolve(),jB=()=>pv||(BB.then(()=>pv=0),pv=Date.now());function $B(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Si(HB(i,n.value),e,5,[i])};return n.value=t,n.attached=jB(),n}function HB(t,e){if(we(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const oA=/^on[a-z]/,qB=(t,e,n,i,s=!1,o,l,c,d)=>{e==="class"?OB(t,i,s):e==="style"?DB(t,n,i):$p(e)?c0(e)||FB(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):WB(t,e,i,s))?MB(t,e,i,o,l,c,d):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),LB(t,e,i,s))};function WB(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&oA.test(e)&&ke(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||oA.test(e)&&Gt(n)?!1:e in t}const Bf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?n=>Zd(e,n):e};function KB(t){t.target.composing=!0}function aA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const $a=Symbol("_assign"),Ht={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[$a]=Bf(s);const o=i||s.props&&s.props.type==="number";eo(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=xf(c)),t[$a](c)}),n&&eo(t,"change",()=>{t.value=t.value.trim()}),e||(eo(t,"compositionstart",KB),eo(t,"compositionend",aA),eo(t,"change",aA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[$a]=Bf(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&xf(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},Z8={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Hp(e);eo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?xf(jf(l)):jf(l));t[$a](t.multiple?s?new Set(o):o:o[0])}),t[$a]=Bf(i)},mounted(t,{value:e}){lA(t,e)},beforeUpdate(t,e,n){t[$a]=Bf(n)},updated(t,{value:e}){lA(t,e)}};function lA(t,e){const n=t.multiple;if(!(n&&!we(e)&&!Hp(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=jf(o);if(n)we(e)?o.selected=U6(e,l)>-1:o.selected=e.has(l);else if(Kp(jf(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function jf(t){return"_value"in t?t._value:t.value}const GB=En({patchProp:qB},PB);let uA;function zB(){return uA||(uA=rB(GB))}const YB=(...t)=>{const e=zB().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=QB(i);if(!s)return;const o=e._component;!ke(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function QB(t){return Gt(t)?document.querySelector(t):t}var JB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let E2;const nm=t=>E2=t,b2=Symbol();function wy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var sc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(sc||(sc={}));function XB(){const t=OP(!0),e=t.run(()=>be({}));let n=[],i=[];const s=zp({install(o){nm(s),s._a=o,o.provide(b2,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!JB?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const I2=()=>{};function cA(t,e,n,i=I2){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&NP()&&j6(s),s}function Ta(t,...e){t.slice().forEach(n=>{n(...e)})}const ZB=t=>t();function Ey(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];wy(s)&&wy(i)&&t.hasOwnProperty(n)&&!_t(i)&&!Sr(i)?t[n]=Ey(s,i):t[n]=i}return t}const ej=Symbol();function tj(t){return!wy(t)||!t.hasOwnProperty(ej)}const{assign:is}=Object;function nj(t){return!!(_t(t)&&t.effect)}function ij(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let d;function f(){c||(n.state.value[t]=s?s():{});const m=h5(n.state.value[t]);return is(m,o,Object.keys(l||{}).reduce((v,_)=>(v[_]=zp(Ne(()=>{nm(n);const E=n._s.get(t);return l[_].call(E,E)})),v),{}))}return d=T2(t,f,e,n,i,!0),d}function T2(t,e,n={},i,s,o){let l;const c=is({actions:{}},n),d={deep:!0};let f,m,v=[],_=[],E;const A=i.state.value[t];!o&&!A&&(i.state.value[t]={}),be({});let y;function b(ae){let he;f=m=!1,typeof ae=="function"?(ae(i.state.value[t]),he={type:sc.patchFunction,storeId:t,events:E}):(Ey(i.state.value[t],ae),he={type:sc.patchObject,payload:ae,storeId:t,events:E});const Ve=y=Symbol();Qp().then(()=>{y===Ve&&(f=!0)}),m=!0,Ta(v,he,i.state.value[t])}const R=o?function(){const{state:he}=n,Ve=he?he():{};this.$patch(j=>{is(j,Ve)})}:I2;function P(){l.stop(),v=[],_=[],i._s.delete(t)}function F(ae,he){return function(){nm(i);const Ve=Array.from(arguments),j=[],Y=[];function ve(G){j.push(G)}function kt(G){Y.push(G)}Ta(_,{args:Ve,name:ae,store:Q,after:ve,onError:kt});let Ae;try{Ae=he.apply(this&&this.$id===t?this:Q,Ve)}catch(G){throw Ta(Y,G),G}return Ae instanceof Promise?Ae.then(G=>(Ta(j,G),G)).catch(G=>(Ta(Y,G),Promise.reject(G))):(Ta(j,Ae),Ae)}}const x={_p:i,$id:t,$onAction:cA.bind(null,_),$patch:b,$reset:R,$subscribe(ae,he={}){const Ve=cA(v,ae,he.detached,()=>j()),j=l.run(()=>rr(()=>i.state.value[t],Y=>{(he.flush==="sync"?m:f)&&ae({storeId:t,type:sc.direct,events:E},Y)},is({},d,he)));return Ve},$dispose:P},Q=gi(x);i._s.set(t,Q);const fe=(i._a&&i._a.runWithContext||ZB)(()=>i._e.run(()=>(l=OP()).run(e)));for(const ae in fe){const he=fe[ae];if(_t(he)&&!nj(he)||Sr(he))o||(A&&tj(he)&&(_t(he)?he.value=A[ae]:Ey(he,A[ae])),i.state.value[t][ae]=he);else if(typeof he=="function"){const Ve=F(ae,he);fe[ae]=Ve,c.actions[ae]=he}}return is(Q,fe),is(We(Q),fe),Object.defineProperty(Q,"$state",{get:()=>i.state.value[t],set:ae=>{b(he=>{is(he,ae)})}}),i._p.forEach(ae=>{is(Q,l.run(()=>ae({store:Q,app:i._a,pinia:i,options:c})))}),A&&o&&n.hydrate&&n.hydrate(Q.$state,A),f=!0,m=!0,Q}function A2(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,d){const f=X5();return c=c||(f?Et(b2,null):null),c&&nm(c),c=E2,c._s.has(i)||(o?T2(i,e,s,c):ij(i,s,c)),c._s.get(i)}return l.$id=i,l}function Di(t){{t=We(t);const e={};for(const n in t){const i=t[n];(_t(i)||Sr(i))&&(e[n]=p5(t,n))}return e}}function rj(){return console.log("createUserProfileCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"createUserProfile")}function sj(){return console.log("createAdCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"createAd")}function oj(){return console.log("removeAdCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"removeAd")}function aj(){return console.log("editAdCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"editAd")}function lj(){return console.log("postAdCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"postAd")}function uj(){return console.log("placeBidCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"placeBid")}function cj(){return console.log("cancelBidCallable"),Lo(Cs(void 0,"northamerica-northeast1"),"cancelBid")}const bn=A2("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=be(null),o=be(!1),l=be(null),c=j=>{s.value=j},d=j=>{console.log("setNewUser",j),o.value=j},f=async j=>{let Y=null;if(o.value)console.log("Profile setup mounted for new user"),Y=await v(j),_(j);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(Y=await oy("users",s.value.uid),_(j),!Y)throw new Error("continueSignup No profile")}_(Y)},m=rj(),v=async j=>{try{console.log("createUser start",j),console.log("createUserProfile",m);const Y=await m({...j});return console.log("createUser res",Y),Y}catch(Y){throw console.log("createUser error",Y),new Error(Y)}},_=j=>{if(console.log("setProfile",j),!j)throw new Error("No profile");l.value=j},E=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const j=await oy("users",s.value.uid);l.value=j},A=sj(),y=async j=>{try{console.log("createUserAd start",j),console.log("createAd",A);const Y=await A({...j});return console.log("createUserAd res",Y),Y}catch(Y){throw console.log("createUserAd error",Y),new Error(Y)}},b=lj(),R=async j=>{try{console.log("postAd start",j),console.log("createAd",A);const Y=await b({adId:j});return console.log("postAd res",Y),Y}catch(Y){throw console.log("postAd error",Y),new Error(Y)}},P=oj(),F=async j=>{try{console.log("removeUserAd start",j),console.log("createAd",A);const Y=await P({adId:j});return console.log("removeUserAd res",Y),Y}catch(Y){throw console.log("removeUserAd error",Y),new Error(Y)}},x=aj(),Q=async j=>{try{console.log("editUserAd start",j),console.log("editUserAd",x);const Y=await x({...j});return console.log("editUserAd res",Y),Y}catch(Y){throw console.log("editUserAd error",Y),new Error(Y)}},re=async()=>{const j=qS();console.log("signout"),await j.signOut(),c(null),_(null)},fe=uj(),ae=async j=>{console.log("placeBid",j);try{console.log("placeBid start",j),console.log("placeBid",fe);const Y=await fe(j);return console.log("placeBid res",Y),Y}catch(Y){throw console.log("placeBid error",Y),new Error(Y)}},he=cj();return{user:s,setUser:c,createUser:v,getProfile:E,setProfile:_,setNewUser:d,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:y,postNewAd:R,signout:re,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:ae,cancelUserBid:async j=>{try{console.log("cancelBid start",j),console.log("cancelBid",he);const Y=await he({bidId:j});return console.log("cancelBid res",Y),Y}catch(Y){throw console.log("cancelBid error",Y),new Error(Y)}},removeUserAd:F,editUserAd:Q,CLAUSE_STATUSES:i}}),hj="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ca=typeof window<"u";function dj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ot=Object.assign;function mv(t,e){const n={};for(const i in e){const s=e[i];n[i]=xi(s)?s.map(t):t(s)}return n}const oc=()=>{},xi=Array.isArray,fj=/\/$/,pj=t=>t.replace(fj,"");function gv(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let d=e.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(i=e.slice(0,d),o=e.slice(d+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=yj(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function mj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function hA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gj(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&ll(e.matched[i],n.matched[s])&&S2(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ll(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function S2(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!vj(t[n],e[n]))return!1;return!0}function vj(t,e){return xi(t)?dA(t,e):xi(e)?dA(e,t):t===e}function dA(t,e){return xi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function yj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var Dc;(function(t){t.pop="pop",t.push="push"})(Dc||(Dc={}));var ac;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ac||(ac={}));function _j(t){if(!t)if(Ca){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),pj(t)}const wj=/^[^#]+#/;function Ej(t,e){return t.replace(wj,"#")+e}function bj(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const im=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ij(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=bj(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function fA(t,e){return(history.state?history.state.position-e:-1)+t}const by=new Map;function Tj(t,e){by.set(t,e)}function Aj(t){const e=by.get(t);return by.delete(t),e}let Sj=()=>location.protocol+"//"+location.host;function R2(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,d=s.slice(c);return d[0]!=="/"&&(d="/"+d),hA(d,"")}return hA(n,t)+i+s}function Rj(t,e,n,i){let s=[],o=[],l=null;const c=({state:_})=>{const E=R2(t,location),A=n.value,y=e.value;let b=0;if(_){if(n.value=E,e.value=_,l&&l===A){l=null;return}b=y?_.position-y.position:0}else i(E);s.forEach(R=>{R(n.value,A,{delta:b,type:Dc.pop,direction:b?b>0?ac.forward:ac.back:ac.unknown})})};function d(){l=n.value}function f(_){s.push(_);const E=()=>{const A=s.indexOf(_);A>-1&&s.splice(A,1)};return o.push(E),E}function m(){const{history:_}=window;_.state&&_.replaceState(ot({},_.state,{scroll:im()}),"")}function v(){for(const _ of o)_();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:d,listen:f,destroy:v}}function pA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?im():null}}function Cj(t){const{history:e,location:n}=window,i={value:R2(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(d,f,m){const v=t.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+d:Sj()+t+d;try{e[m?"replaceState":"pushState"](f,"",_),s.value=f}catch(E){console.error(E),n[m?"replace":"assign"](_)}}function l(d,f){const m=ot({},e.state,pA(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});o(d,m,!0),i.value=d}function c(d,f){const m=ot({},s.value,e.state,{forward:d,scroll:im()});o(m.current,m,!0);const v=ot({},pA(i.value,d,null),{position:m.position+1},f);o(d,v,!1),i.value=d}return{location:i,state:s,push:c,replace:l}}function Pj(t){t=_j(t);const e=Cj(t),n=Rj(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=ot({location:"",base:t,go:i,createHref:Ej.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function kj(t){return typeof t=="string"||t&&typeof t=="object"}function C2(t){return typeof t=="string"||typeof t=="symbol"}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},P2=Symbol("");var mA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(mA||(mA={}));function ul(t,e){return ot(new Error,{type:t,[P2]:!0},e)}function vr(t,e){return t instanceof Error&&P2 in t&&(e==null||!!(t.type&e))}const gA="[^/]+?",Oj={sensitive:!1,strict:!1,start:!0,end:!0},Nj=/[.+*?^${}()[\]/\\]/g;function Dj(t,e){const n=ot({},Oj,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const m=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const _=f[v];let E=40+(n.sensitive?.25:0);if(_.type===0)v||(s+="/"),s+=_.value.replace(Nj,"\\$&"),E+=40;else if(_.type===1){const{value:A,repeatable:y,optional:b,regexp:R}=_;o.push({name:A,repeatable:y,optional:b});const P=R||gA;if(P!==gA){E+=10;try{new RegExp(`(${P})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${A}" (${P}): `+x.message)}}let F=y?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(F=b&&f.length<2?`(?:/${F})`:"/"+F),b&&(F+="?"),s+=F,E+=20,b&&(E+=-8),y&&(E+=-20),P===".*"&&(E+=-50)}m.push(E)}i.push(m)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const m=f.match(l),v={};if(!m)return null;for(let _=1;_<m.length;_++){const E=m[_]||"",A=o[_-1];v[A.name]=E&&A.repeatable?E.split("/"):E}return v}function d(f){let m="",v=!1;for(const _ of t){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const E of _)if(E.type===0)m+=E.value;else if(E.type===1){const{value:A,repeatable:y,optional:b}=E,R=A in f?f[A]:"";if(xi(R)&&!y)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const P=xi(R)?R.join("/"):R;if(!P)if(b)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${A}"`);m+=P}}return m||"/"}return{re:l,score:i,keys:o,parse:c,stringify:d}}function xj(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Lj(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=xj(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(vA(i))return 1;if(vA(s))return-1}return s.length-i.length}function vA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Mj={type:0,value:""},Vj=/[a-zA-Z0-9_]/;function Fj(t){if(!t)return[[]];if(t==="/")return[[Mj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${f}": ${E}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,d,f="",m="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),l()):d===":"?(v(),n=1):_();break;case 4:_(),n=i;break;case 1:d==="("?n=2:Vj.test(d)?_():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:n=3:m+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,m="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function Uj(t,e,n){const i=Dj(Fj(t.path),n),s=ot(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Bj(t,e){const n=[],i=new Map;e=wA({strict:!1,end:!0,sensitive:!1},e);function s(m){return i.get(m)}function o(m,v,_){const E=!_,A=jj(m);A.aliasOf=_&&_.record;const y=wA(e,m),b=[A];if("alias"in m){const F=typeof m.alias=="string"?[m.alias]:m.alias;for(const x of F)b.push(ot({},A,{components:_?_.record.components:A.components,path:x,aliasOf:_?_.record:A}))}let R,P;for(const F of b){const{path:x}=F;if(v&&x[0]!=="/"){const Q=v.record.path,re=Q[Q.length-1]==="/"?"":"/";F.path=v.record.path+(x&&re+x)}if(R=Uj(F,v,y),_?_.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),E&&m.name&&!_A(R)&&l(m.name)),A.children){const Q=A.children;for(let re=0;re<Q.length;re++)o(Q[re],R,_&&_.children[re])}_=_||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&d(R)}return P?()=>{l(P)}:oc}function l(m){if(C2(m)){const v=i.get(m);v&&(i.delete(m),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(m);v>-1&&(n.splice(v,1),m.record.name&&i.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function c(){return n}function d(m){let v=0;for(;v<n.length&&Lj(m,n[v])>=0&&(m.record.path!==n[v].record.path||!k2(m,n[v]));)v++;n.splice(v,0,m),m.record.name&&!_A(m)&&i.set(m.record.name,m)}function f(m,v){let _,E={},A,y;if("name"in m&&m.name){if(_=i.get(m.name),!_)throw ul(1,{location:m});y=_.record.name,E=ot(yA(v.params,_.keys.filter(P=>!P.optional).map(P=>P.name)),m.params&&yA(m.params,_.keys.map(P=>P.name))),A=_.stringify(E)}else if("path"in m)A=m.path,_=n.find(P=>P.re.test(A)),_&&(E=_.parse(A),y=_.record.name);else{if(_=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!_)throw ul(1,{location:m,currentLocation:v});y=_.record.name,E=ot({},v.params,m.params),A=_.stringify(E)}const b=[];let R=_;for(;R;)b.unshift(R.record),R=R.parent;return{name:y,path:A,params:E,matched:b,meta:Hj(b)}}return t.forEach(m=>o(m)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function yA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function jj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$j(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $j(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function _A(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Hj(t){return t.reduce((e,n)=>ot(e,n.meta),{})}function wA(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function k2(t,e){return e.children.some(n=>n===t||k2(t,n))}const O2=/#/g,qj=/&/g,Wj=/\//g,Kj=/=/g,Gj=/\?/g,N2=/\+/g,zj=/%5B/g,Yj=/%5D/g,D2=/%5E/g,Qj=/%60/g,x2=/%7B/g,Jj=/%7C/g,L2=/%7D/g,Xj=/%20/g;function C0(t){return encodeURI(""+t).replace(Jj,"|").replace(zj,"[").replace(Yj,"]")}function Zj(t){return C0(t).replace(x2,"{").replace(L2,"}").replace(D2,"^")}function Iy(t){return C0(t).replace(N2,"%2B").replace(Xj,"+").replace(O2,"%23").replace(qj,"%26").replace(Qj,"`").replace(x2,"{").replace(L2,"}").replace(D2,"^")}function e7(t){return Iy(t).replace(Kj,"%3D")}function t7(t){return C0(t).replace(O2,"%23").replace(Gj,"%3F")}function n7(t){return t==null?"":t7(t).replace(Wj,"%2F")}function $f(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function i7(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(N2," "),l=o.indexOf("="),c=$f(l<0?o:o.slice(0,l)),d=l<0?null:$f(o.slice(l+1));if(c in e){let f=e[c];xi(f)||(f=e[c]=[f]),f.push(d)}else e[c]=d}return e}function EA(t){let e="";for(let n in t){const i=t[n];if(n=e7(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(xi(i)?i.map(o=>o&&Iy(o)):[i&&Iy(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function r7(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=xi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const s7=Symbol(""),bA=Symbol(""),rm=Symbol(""),M2=Symbol(""),Ty=Symbol("");function Lu(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ss(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const d=v=>{v===!1?c(ul(4,{from:n,to:e})):v instanceof Error?c(v):kj(v)?c(ul(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,d);let m=Promise.resolve(f);t.length<3&&(m=m.then(d)),m.catch(v=>c(v))})}function vv(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(o7(c)){const f=(c.__vccOpts||c)[e];f&&s.push(ss(f,n,i,o,l))}else{let d=c();s.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const m=dj(f)?f.default:f;o.components[l]=m;const _=(m.__vccOpts||m)[e];return _&&ss(_,n,i,o,l)()}))}}return s}function o7(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function IA(t){const e=Et(rm),n=Et(M2),i=Ne(()=>e.resolve(_e(t.to))),s=Ne(()=>{const{matched:d}=i.value,{length:f}=d,m=d[f-1],v=n.matched;if(!m||!v.length)return-1;const _=v.findIndex(ll.bind(null,m));if(_>-1)return _;const E=TA(d[f-2]);return f>1&&TA(m)===E&&v[v.length-1].path!==E?v.findIndex(ll.bind(null,d[f-2])):_}),o=Ne(()=>s.value>-1&&u7(n.params,i.value.params)),l=Ne(()=>s.value>-1&&s.value===n.matched.length-1&&S2(n.params,i.value.params));function c(d={}){return l7(d)?e[_e(t.replace)?"replace":"push"](_e(t.to)).catch(oc):Promise.resolve()}return{route:i,href:Ne(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const a7=gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:IA,setup(t,{slots:e}){const n=gi(IA(t)),{options:i}=Et(rm),s=Ne(()=>({[AA(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[AA(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:fn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Js=a7;function l7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function u7(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!xi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function TA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const AA=(t,e,n)=>t??e??n,c7=gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Et(Ty),s=Ne(()=>t.route||i.value),o=Et(bA,0),l=Ne(()=>{let f=_e(o);const{matched:m}=s.value;let v;for(;(v=m[f])&&!v.components;)f++;return f}),c=Ne(()=>s.value.matched[l.value]);zn(bA,Ne(()=>l.value+1)),zn(s7,c),zn(Ty,s);const d=be();return rr(()=>[d.value,c.value,t.name],([f,m,v],[_,E,A])=>{m&&(m.instances[v]=f,E&&E!==m&&f&&f===_&&(m.leaveGuards.size||(m.leaveGuards=E.leaveGuards),m.updateGuards.size||(m.updateGuards=E.updateGuards))),f&&m&&(!E||!ll(m,E)||!_)&&(m.enterCallbacks[v]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=s.value,m=t.name,v=c.value,_=v&&v.components[m];if(!_)return SA(n.default,{Component:_,route:f});const E=v.props[m],A=E?E===!0?f.params:typeof E=="function"?E(f):E:null,b=fn(_,ot({},A,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(v.instances[m]=null)},ref:d}));return SA(n.default,{Component:b,route:f})||b}}});function SA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const V2=c7;function h7(t){const e=Bj(t.routes,t),n=t.parseQuery||i7,i=t.stringifyQuery||EA,s=t.history,o=Lu(),l=Lu(),c=Lu(),d=zP(ts);let f=ts;Ca&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=mv.bind(null,N=>""+N),v=mv.bind(null,n7),_=mv.bind(null,$f);function E(N,ne){let z,de;return C2(N)?(z=e.getRecordMatcher(N),de=ne):de=N,e.addRoute(de,z)}function A(N){const ne=e.getRecordMatcher(N);ne&&e.removeRoute(ne)}function y(){return e.getRoutes().map(N=>N.record)}function b(N){return!!e.getRecordMatcher(N)}function R(N,ne){if(ne=ot({},ne||d.value),typeof N=="string"){const C=gv(n,N,ne.path),O=e.resolve({path:C.path},ne),M=s.createHref(C.fullPath);return ot(C,O,{params:_(O.params),hash:$f(C.hash),redirectedFrom:void 0,href:M})}let z;if("path"in N)z=ot({},N,{path:gv(n,N.path,ne.path).path});else{const C=ot({},N.params);for(const O in C)C[O]==null&&delete C[O];z=ot({},N,{params:v(C)}),ne.params=v(ne.params)}const de=e.resolve(z,ne),Qe=N.hash||"";de.params=m(_(de.params));const T=mj(i,ot({},N,{hash:Zj(Qe),path:de.path})),S=s.createHref(T);return ot({fullPath:T,hash:Qe,query:i===EA?r7(N.query):N.query||{}},de,{redirectedFrom:void 0,href:S})}function P(N){return typeof N=="string"?gv(n,N,d.value.path):ot({},N)}function F(N,ne){if(f!==N)return ul(8,{from:ne,to:N})}function x(N){return fe(N)}function Q(N){return x(ot(P(N),{replace:!0}))}function re(N){const ne=N.matched[N.matched.length-1];if(ne&&ne.redirect){const{redirect:z}=ne;let de=typeof z=="function"?z(N):z;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=P(de):{path:de},de.params={}),ot({query:N.query,hash:N.hash,params:"path"in de?{}:N.params},de)}}function fe(N,ne){const z=f=R(N),de=d.value,Qe=N.state,T=N.force,S=N.replace===!0,C=re(z);if(C)return fe(ot(P(C),{state:typeof C=="object"?ot({},Qe,C.state):Qe,force:T,replace:S}),ne||z);const O=z;O.redirectedFrom=ne;let M;return!T&&gj(i,de,z)&&(M=ul(16,{to:O,from:de}),Xt(de,de,!0,!1)),(M?Promise.resolve(M):Ve(O,de)).catch(U=>vr(U)?vr(U,2)?U:et(U):ye(U,O,de)).then(U=>{if(U){if(vr(U,2))return fe(ot({replace:S},P(U.to),{state:typeof U.to=="object"?ot({},Qe,U.to.state):Qe,force:T}),ne||O)}else U=Y(O,de,!0,S,Qe);return j(O,de,U),U})}function ae(N,ne){const z=F(N,ne);return z?Promise.reject(z):Promise.resolve()}function he(N){const ne=Ui.values().next().value;return ne&&typeof ne.runWithContext=="function"?ne.runWithContext(N):N()}function Ve(N,ne){let z;const[de,Qe,T]=d7(N,ne);z=vv(de.reverse(),"beforeRouteLeave",N,ne);for(const C of de)C.leaveGuards.forEach(O=>{z.push(ss(O,N,ne))});const S=ae.bind(null,N,ne);return z.push(S),Zt(z).then(()=>{z=[];for(const C of o.list())z.push(ss(C,N,ne));return z.push(S),Zt(z)}).then(()=>{z=vv(Qe,"beforeRouteUpdate",N,ne);for(const C of Qe)C.updateGuards.forEach(O=>{z.push(ss(O,N,ne))});return z.push(S),Zt(z)}).then(()=>{z=[];for(const C of T)if(C.beforeEnter)if(xi(C.beforeEnter))for(const O of C.beforeEnter)z.push(ss(O,N,ne));else z.push(ss(C.beforeEnter,N,ne));return z.push(S),Zt(z)}).then(()=>(N.matched.forEach(C=>C.enterCallbacks={}),z=vv(T,"beforeRouteEnter",N,ne),z.push(S),Zt(z))).then(()=>{z=[];for(const C of l.list())z.push(ss(C,N,ne));return z.push(S),Zt(z)}).catch(C=>vr(C,8)?C:Promise.reject(C))}function j(N,ne,z){c.list().forEach(de=>he(()=>de(N,ne,z)))}function Y(N,ne,z,de,Qe){const T=F(N,ne);if(T)return T;const S=ne===ts,C=Ca?history.state:{};z&&(de||S?s.replace(N.fullPath,ot({scroll:S&&C&&C.scroll},Qe)):s.push(N.fullPath,Qe)),d.value=N,Xt(N,ne,z,S),et()}let ve;function kt(){ve||(ve=s.listen((N,ne,z)=>{if(!Mo.listening)return;const de=R(N),Qe=re(de);if(Qe){fe(ot(Qe,{replace:!0}),de).catch(oc);return}f=de;const T=d.value;Ca&&Tj(fA(T.fullPath,z.delta),im()),Ve(de,T).catch(S=>vr(S,12)?S:vr(S,2)?(fe(S.to,de).then(C=>{vr(C,20)&&!z.delta&&z.type===Dc.pop&&s.go(-1,!1)}).catch(oc),Promise.reject()):(z.delta&&s.go(-z.delta,!1),ye(S,de,T))).then(S=>{S=S||Y(de,T,!1),S&&(z.delta&&!vr(S,8)?s.go(-z.delta,!1):z.type===Dc.pop&&vr(S,20)&&s.go(-1,!1)),j(de,T,S)}).catch(oc)}))}let Ae=Lu(),G=Lu(),te;function ye(N,ne,z){et(N);const de=G.list();return de.length?de.forEach(Qe=>Qe(N,ne,z)):console.error(N),Promise.reject(N)}function dt(){return te&&d.value!==ts?Promise.resolve():new Promise((N,ne)=>{Ae.add([N,ne])})}function et(N){return te||(te=!N,kt(),Ae.list().forEach(([ne,z])=>N?z(N):ne()),Ae.reset()),N}function Xt(N,ne,z,de){const{scrollBehavior:Qe}=t;if(!Ca||!Qe)return Promise.resolve();const T=!z&&Aj(fA(N.fullPath,0))||(de||!z)&&history.state&&history.state.scroll||null;return Qp().then(()=>Qe(N,ne,T)).then(S=>S&&Ij(S)).catch(S=>ye(S,N,ne))}const tt=N=>s.go(N);let Fi;const Ui=new Set,Mo={currentRoute:d,listening:!0,addRoute:E,removeRoute:A,hasRoute:b,getRoutes:y,resolve:R,options:t,push:x,replace:Q,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:G.add,isReady:dt,install(N){const ne=this;N.component("RouterLink",Js),N.component("RouterView",V2),N.config.globalProperties.$router=ne,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(d)}),Ca&&!Fi&&d.value===ts&&(Fi=!0,x(s.location).catch(Qe=>{}));const z={};for(const Qe in ts)Object.defineProperty(z,Qe,{get:()=>d.value[Qe],enumerable:!0});N.provide(rm,ne),N.provide(M2,HP(z)),N.provide(Ty,d);const de=N.unmount;Ui.add(N),N.unmount=function(){Ui.delete(N),Ui.size<1&&(f=ts,ve&&ve(),ve=null,d.value=ts,Fi=!1,te=!1),de()}}};function Zt(N){return N.reduce((ne,z)=>ne.then(()=>he(z)),Promise.resolve())}return Mo}function d7(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>ll(f,c))?i.push(c):n.push(c));const d=t.matched[l];d&&(e.matched.find(f=>ll(f,d))||s.push(d))}return[n,i,s]}function F2(){return Et(rm)}const sm=A2("ModalStore",()=>({modals:gi({addad:!1,addbid:!1,editad:!1,context:{}})})),f7={key:0},p7=gt({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(Ze(),Un("div",f7,[q("div",{class:hi(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):ii("",!0)}});const U2=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},m7=U2(p7,[["__scopeId","data-v-634cf170"]]),oh=gt({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(Ze(),Un("button",{class:hi(t.classes),onClick:i,style:{"max-height":"50px",display:"flex","align-items":"center","justify-content":"center"}},[De(m7,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?ii("",!0):H5(s.$slots,"default",{key:0})],2))}}),g7={class:"space-y-4 mb-4"},v7=q("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),y7={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},_7=["src"],w7=["onClick"],E7=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),b7=q("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),I7=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),T7=q("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),A7=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),S7=q("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),R7={class:"flex justify-end space-x-2 mt-4"},C7=5*1024*1024,P7=gt({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Di(bn()),s=be([]),o=be(null),l=()=>{const E=o.value.files;for(let A=0;A<E.length;A++){const y=E[A];if(y.size>C7){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=R=>{s.value.push({file:y,url:R.target.result})},b.readAsDataURL(y)}},c=E=>{s.value.splice(E,1)},d=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=gi({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:d,price:0,biddingEndTime:d}),m=be(!1),v=async()=>{if(m.value=!0,_()&&i.value){const E=s.value.map(y=>y.url.split(",")[1]),A=JSON.parse(JSON.stringify(f));A.biddingEndTime=new Date(A.biddingEndTime).toISOString(),A.expectedHarvestDate=new Date(A.expectedHarvestDate).toISOString(),await bn().createUserAd({images:E,...A,adType:i.value.accountType}),m.value=!1,n("close")}else m.value=!1},_=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime);return(E,A)=>(Ze(),Un(Rt,null,[q("div",g7,[v7,q("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),q("div",y7,[(Ze(!0),Un(Rt,null,dy(s.value,(y,b)=>(Ze(),Un("div",{key:b,class:"mr-2 relative"},[q("img",{src:y.url,class:"w-16 h-16 object-cover"},null,8,_7),q("button",{onClick:R=>c(b)},"Remove",8,w7)]))),128))]),E7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":A[0]||(A[0]=y=>f.type=y)},null,512),[[Ht,f.type]]),b7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":A[1]||(A[1]=y=>f.variety=y)},null,512),[[Ht,f.variety]]),I7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":A[2]||(A[2]=y=>f.yieldTonnage=y)},null,512),[[Ht,f.yieldTonnage]]),T7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":A[3]||(A[3]=y=>f.expectedHarvestDate=y)},null,512),[[Ht,f.expectedHarvestDate]]),A7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":A[4]||(A[4]=y=>f.price=y)},null,512),[[Ht,f.price]]),S7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":A[5]||(A[5]=y=>f.biddingEndTime=y)},null,512),[[Ht,f.biddingEndTime]])]),q("div",R7,[q("button",{onClick:A[6]||(A[6]=y=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(oh,{onClick:v,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:m.value},{default:Ye(()=>[Fn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),k7={class:"space-y-4 mb-4"},O7=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),N7=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),D7=q("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),x7=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),L7={class:"flex justify-end space-x-2 mt-4"},M7=gt({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Di(bn());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=gi({type:"",yieldTonnage:0,requestDate:s,price:0}),l=be(!1),c=async()=>{if(l.value=!0,d()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await bn().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},d=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,m)=>(Ze(),Un(Rt,null,[q("div",k7,[O7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":m[0]||(m[0]=v=>o.type=v)},null,512),[[Ht,o.type]]),N7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":m[1]||(m[1]=v=>o.yieldTonnage=v)},null,512),[[Ht,o.yieldTonnage]]),D7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":m[2]||(m[2]=v=>o.requestDate=v)},null,512),[[Ht,o.requestDate]]),x7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":m[3]||(m[3]=v=>o.price=v)},null,512),[[Ht,o.price]])]),q("div",L7,[q("button",{onClick:m[4]||(m[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(oh,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Ye(()=>[Fn(" Confirm ")]),_:1},8,["isLoading"])])],64))}});function ur(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,ur),i}var Hf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Hf||{}),cs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(cs||{});function Vi({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=j2(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return yv(c);if(e&1){let d=(o=l.unmount)==null||o?0:1;return ur(d,{0(){return null},1(){return yv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return yv(c)}function yv({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...d}=$2(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),m={};if(i){let v=!1,_=[];for(let[E,A]of Object.entries(i))typeof A=="boolean"&&(v=!0),A===!0&&_.push(E);v&&(m["data-headlessui-state"]=_.join(" "))}if(c==="template"){if(f=B2(f??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[v,..._]=f??[];if(!V7(v)||_.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(y=>y.trim()).filter((y,b,R)=>R.indexOf(y)===b).sort((y,b)=>y.localeCompare(b)).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let E=j2((l=v.props)!=null?l:{},d),A=So(v,E);for(let y in E)y.startsWith("on")&&(A.props||(A.props={}),A.props[y]=E[y]);return A}return Array.isArray(f)&&f.length===1?f[0]:f}return fn(c,Object.assign({},d,m),{default:()=>f})}function B2(t){return t.flatMap(e=>e.type===Rt?B2(e.children):[e])}function j2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function $2(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function V7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let F7=0;function U7(){return++F7}function ah(){return U7()}var H2=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(H2||{});function Jt(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let q2=Symbol("Context");var si=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(si||{});function B7(){return P0()!==null}function P0(){return Et(q2,null)}function j7(t){zn(q2,t)}var $7=Object.defineProperty,H7=(t,e,n)=>e in t?$7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RA=(t,e,n)=>(H7(t,typeof e!="symbol"?e+"":e,n),n);class q7{constructor(){RA(this,"current",this.detect()),RA(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let lh=new q7;function Il(t){if(lh.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Jt(t);if(e)return e.ownerDocument}return document}let Ay=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var os=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(os||{}),W2=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(W2||{}),W7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(W7||{});function K7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Ay)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var K2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(K2||{});function G7(t,e=0){var n;return t===((n=Il(t))==null?void 0:n.body)?!1:ur(e,{0(){return t.matches(Ay)},1(){let i=t;for(;i!==null;){if(i.matches(Ay))return!0;i=i.parentElement}return!1}})}var z7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(z7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function go(t){t==null||t.focus({preventScroll:!0})}let Y7=["textarea","input"].join(",");function Q7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Y7))!=null?n:!1}function J7(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function tf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?J7(t):t:K7(t);s.length>0&&c.length>1&&(c=c.filter(A=>!s.includes(A))),i=i??l.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},v=0,_=c.length,E;do{if(v>=_||v+_<=0)return 0;let A=f+v;if(e&16)A=(A+_)%_;else{if(A<0)return 3;if(A>=_)return 1}E=c[A],E==null||E.focus(m),v+=d}while(E!==l.activeElement);return e&6&&Q7(E)&&E.select(),2}function jd(t,e,n){lh.isServer||Ni(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function G2(t,e,n){lh.isServer||Ni(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function X7(t,e,n=Ne(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let d=function f(m){return typeof m=="function"?f(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let f of d){if(f===null)continue;let m=f instanceof HTMLElement?f:Jt(f);if(m!=null&&m.contains(c)||o.composed&&o.composedPath().includes(m))return}return!G7(c,K2.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=be(null);jd("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),jd("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),jd("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),jd("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),G2("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var qf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(qf||{});let Sy=gt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Vi({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function Z7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function k0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function uh(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return k0(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=uh();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var Gu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Gu||{});function e$(){let t=be(0);return G2("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function z2(t,e,n,i){lh.isServer||Ni(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function t$(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function Y2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=Jt(n);i instanceof HTMLElement&&e.add(i)}return e}var Q2=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Q2||{});let Mu=Object.assign(gt({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:be(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=be(null);i({el:s,$el:s});let o=Ne(()=>Il(s)),l=be(!1);On(()=>l.value=!0),ui(()=>l.value=!1),i$({ownerDocument:o},Ne(()=>l.value&&!!(t.features&16)));let c=r$({ownerDocument:o,container:s,initialFocus:Ne(()=>t.initialFocus)},Ne(()=>l.value&&!!(t.features&2)));s$({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},Ne(()=>l.value&&!!(t.features&8)));let d=e$();function f(E){let A=Jt(s);A&&(y=>y())(()=>{ur(d.value,{[Gu.Forwards]:()=>{tf(A,os.First,{skipElements:[E.relatedTarget]})},[Gu.Backwards]:()=>{tf(A,os.Last,{skipElements:[E.relatedTarget]})}})})}let m=be(!1);function v(E){E.key==="Tab"&&(m.value=!0,requestAnimationFrame(()=>{m.value=!1}))}function _(E){if(!l.value)return;let A=Y2(t.containers);Jt(s)instanceof HTMLElement&&A.add(Jt(s));let y=E.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(J2(A,y)||(m.value?tf(Jt(s),ur(d.value,{[Gu.Forwards]:()=>os.Next,[Gu.Backwards]:()=>os.Previous})|os.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&go(E.target)))}return()=>{let E={},A={ref:s,onKeydown:v,onFocusout:_},{features:y,initialFocus:b,containers:R,...P}=t;return fn(Rt,[!!(y&4)&&fn(Sy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:qf.Focusable}),Vi({ourProps:A,theirProps:{...e,...P},slot:E,attrs:e,slots:n,name:"FocusTrap"}),!!(y&4)&&fn(Sy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:qf.Focusable})])}}}),{features:Q2}),to=[];t$(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&to[0]!==e.target&&(to.unshift(e.target),to=to.filter(n=>n!=null&&n.isConnected),to.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function n$(t){let e=be(to.slice());return rr([t],([n],[i])=>{i===!0&&n===!1?k0(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=to.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function i$({ownerDocument:t},e){let n=n$(e);On(()=>{Ni(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&go(n())},{flush:"post"})}),ui(()=>{e.value&&go(n())})}function r$({ownerDocument:t,container:e,initialFocus:n},i){let s=be(null),o=be(!1);return On(()=>o.value=!0),ui(()=>o.value=!1),On(()=>{rr([e,n,i],(l,c)=>{if(l.every((f,m)=>(c==null?void 0:c[m])===f)||!i.value)return;let d=Jt(e);d&&k0(()=>{var f,m;if(!o.value)return;let v=Jt(n),_=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===_){s.value=_;return}}else if(d.contains(_)){s.value=_;return}v?go(v):tf(d,os.First|os.NoScroll)===W2.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(m=t.value)==null?void 0:m.activeElement})},{immediate:!0,flush:"post"})}),s}function s$({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;z2((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=Y2(n);Jt(e)instanceof HTMLElement&&c.add(Jt(e));let d=i.value;if(!d)return;let f=l.target;f&&f instanceof HTMLElement?J2(c,f)?(i.value=f,go(f)):(l.preventDefault(),l.stopPropagation(),go(d)):go(i.value)},!0)}function J2(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let _v=new Map,Vu=new Map;function CA(t,e=be(!0)){Ni(n=>{var i;if(!e.value)return;let s=Jt(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=Vu.get(s))!=null?l:1;if(c===1?Vu.delete(s):Vu.set(s,c-1),c!==1)return;let d=_v.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,_v.delete(s))});let o=(i=Vu.get(s))!=null?i:0;Vu.set(s,o+1),o===0&&(_v.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let X2=Symbol("ForcePortalRootContext");function o$(){return Et(X2,!1)}let PA=gt({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return zn(X2,t.force),()=>{let{force:i,...s}=t;return Vi({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function a$(t){let e=Il(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let l$=gt({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=be(null),s=Ne(()=>Il(i)),o=o$(),l=Et(Z2,null),c=be(o===!0||l==null?a$(i.value):l.resolveTarget());Ni(()=>{o||l!=null&&(c.value=l.resolveTarget())});let d=Et(Ry,null);return On(()=>{let f=Jt(i);f&&d&&ui(d.register(f))}),ui(()=>{var f,m;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((m=c.value.parentElement)==null||m.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return fn(hB,{to:c.value},Vi({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),Ry=Symbol("PortalParentContext");function u$(){let t=Et(Ry,null),e=be([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,gt({name:"PortalWrapper",setup(o,{slots:l}){return zn(Ry,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let Z2=Symbol("PortalGroupContext"),c$=gt({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=gi({resolveTarget(){return t.target}});return zn(Z2,i),()=>{let{target:s,...o}=t;return Vi({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),ek=Symbol("StackContext");var Cy=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Cy||{});function h$(){return Et(ek,()=>{})}function d$({type:t,enabled:e,element:n,onUpdate:i}){let s=h$();function o(...l){i==null||i(...l),s(...l)}On(()=>{rr(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),ui(()=>{e.value&&o(1,t,n)}),zn(ek,o)}let tk=Symbol("DescriptionContext");function f$(){let t=Et(tk,null);if(t===null)throw new Error("Missing parent");return t}function p$({slot:t=be({}),name:e="Description",props:n={}}={}){let i=be([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return zn(tk,{register:s,slot:t,name:e,props:n}),Ne(()=>i.value.length>0?i.value.join(" "):void 0)}let m$=gt({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${ah()}`}},setup(t,{attrs:e,slots:n}){let i=f$();return On(()=>ui(i.register(t.id))),()=>{let{name:s="Description",slot:o=be({}),props:l={}}=i,{id:c,...d}=t,f={...Object.entries(l).reduce((m,[v,_])=>Object.assign(m,{[v]:_e(_)}),{}),id:c};return Vi({ourProps:f,theirProps:d,slot:o.value,attrs:e,slots:n,name:s})}}});function g$(t){let e=zP(t.getSnapshot());return ui(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function v$(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function y$(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function _$(){if(!Z7())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=uh();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function w$(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function E$(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ao=v$(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:uh(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:E$(n)},s=[_$(),y$(),w$()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ao.subscribe(()=>{let t=ao.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&ao.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ao.dispatch("TEARDOWN",n)}});function b$(t,e,n){let i=g$(ao),s=Ne(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return rr([t,e],([o,l],[c],d)=>{if(!o||!l)return;ao.dispatch("PUSH",o,n);let f=!1;d(()=>{f||(ao.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function I$({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=be(null),s=Il(i);function o(){var l;let c=[];for(let d of t)d!==null&&(d instanceof HTMLElement?c.push(d):"value"in d&&d.value instanceof HTMLElement&&c.push(d.value));if(e!=null&&e.value)for(let d of e.value)c.push(d);for(let d of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(Jt(i))||c.some(f=>d.contains(f))||c.push(d));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:fn(Sy,{features:qf.Hidden,ref:i})}}}var T$=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(T$||{});let Py=Symbol("DialogContext");function O0(t){let e=Et(Py,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,O0),n}return e}let $d="DC8F892D-2EBD-447C-A4C8-A03058436FF4",N0=gt({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:$d},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${ah()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=be(!1);On(()=>{l.value=!0});let c=be(0),d=P0(),f=Ne(()=>t.open===$d&&d!==null?(d.value&si.Open)===si.Open:t.open),m=be(null),v=Ne(()=>Il(m));if(s({el:m,$el:m}),!(t.open!==$d||d!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===$d?void 0:t.open}`);let _=Ne(()=>l.value&&f.value?0:1),E=Ne(()=>_.value===0),A=Ne(()=>c.value>1),y=Et(Py,null)!==null,[b,R]=u$(),{resolveContainers:P,mainTreeNodeRef:F,MainTreeNode:x}=I$({portals:b,defaultContainers:[Ne(()=>{var te;return(te=ve.panelRef.value)!=null?te:m.value})]}),Q=Ne(()=>A.value?"parent":"leaf"),re=Ne(()=>d!==null?(d.value&si.Closing)===si.Closing:!1),fe=Ne(()=>y||re.value?!1:E.value),ae=Ne(()=>{var te,ye,dt;return(dt=Array.from((ye=(te=v.value)==null?void 0:te.querySelectorAll("body > *"))!=null?ye:[]).find(et=>et.id==="headlessui-portal-root"?!1:et.contains(Jt(F))&&et instanceof HTMLElement))!=null?dt:null});CA(ae,fe);let he=Ne(()=>A.value?!0:E.value),Ve=Ne(()=>{var te,ye,dt;return(dt=Array.from((ye=(te=v.value)==null?void 0:te.querySelectorAll("[data-headlessui-portal]"))!=null?ye:[]).find(et=>et.contains(Jt(F))&&et instanceof HTMLElement))!=null?dt:null});CA(Ve,he),d$({type:"Dialog",enabled:Ne(()=>_.value===0),element:m,onUpdate:(te,ye)=>{if(ye==="Dialog")return ur(te,{[Cy.Add]:()=>c.value+=1,[Cy.Remove]:()=>c.value-=1})}});let j=p$({name:"DialogDescription",slot:Ne(()=>({open:f.value}))}),Y=be(null),ve={titleId:Y,panelRef:be(null),dialogState:_,setTitleId(te){Y.value!==te&&(Y.value=te)},close(){e("close",!1)}};zn(Py,ve);let kt=Ne(()=>!(!E.value||A.value));X7(P,(te,ye)=>{ve.close(),Qp(()=>ye==null?void 0:ye.focus())},kt);let Ae=Ne(()=>!(A.value||_.value!==0));z2((o=v.value)==null?void 0:o.defaultView,"keydown",te=>{Ae.value&&(te.defaultPrevented||te.key===H2.Escape&&(te.preventDefault(),te.stopPropagation(),ve.close()))});let G=Ne(()=>!(re.value||_.value!==0||y));return b$(v,G,te=>{var ye;return{containers:[...(ye=te.containers)!=null?ye:[],P]}}),Ni(te=>{if(_.value!==0)return;let ye=Jt(m);if(!ye)return;let dt=new ResizeObserver(et=>{for(let Xt of et){let tt=Xt.target.getBoundingClientRect();tt.x===0&&tt.y===0&&tt.width===0&&tt.height===0&&ve.close()}});dt.observe(ye),te(()=>dt.disconnect())}),()=>{let{id:te,open:ye,initialFocus:dt,...et}=t,Xt={...n,ref:m,id:te,role:"dialog","aria-modal":_.value===0?!0:void 0,"aria-labelledby":Y.value,"aria-describedby":j.value},tt={open:_.value===0};return fn(PA,{force:!0},()=>[fn(l$,()=>fn(c$,{target:m.value},()=>fn(PA,{force:!1},()=>fn(Mu,{initialFocus:dt,containers:P,features:E.value?ur(Q.value,{parent:Mu.features.RestoreFocus,leaf:Mu.features.All&~Mu.features.FocusLock}):Mu.features.None},()=>fn(R,{},()=>Vi({ourProps:Xt,theirProps:{...et,...n},slot:tt,attrs:n,slots:i,visible:_.value===0,features:Hf.RenderStrategy|Hf.Static,name:"Dialog"})))))),fn(x)])}}}),D0=gt({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${ah()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=O0("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,d={id:l,ref:s.panelRef,onClick:o};return Vi({ourProps:d,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),x0=gt({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${ah()}`}},setup(t,{attrs:e,slots:n}){let i=O0("DialogTitle");return On(()=>{i.setTitleId(t.id),ui(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return Vi({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),L0=m$;function A$(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function wv(t,...e){t&&e.length>0&&t.classList.add(...e)}function Hd(t,...e){t&&e.length>0&&t.classList.remove(...e)}var ky=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(ky||{});function S$(t,e){let n=uh();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,m)=>m-f);return d});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function kA(t,e,n,i,s,o){let l=uh(),c=o!==void 0?A$(o):()=>{};return Hd(t,...s),wv(t,...e,...n),l.nextFrame(()=>{Hd(t,...n),wv(t,...i),l.add(S$(t,d=>(Hd(t,...i,...e),wv(t,...s),c(d))))}),l.add(()=>Hd(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function Ys(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let M0=Symbol("TransitionContext");var R$=(t=>(t.Visible="visible",t.Hidden="hidden",t))(R$||{});function C$(){return Et(M0,null)!==null}function P$(){let t=Et(M0,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function k$(){let t=Et(V0,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let V0=Symbol("NestingContext");function om(t){return"children"in t?om(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function nk(t){let e=be([]),n=be(!1);On(()=>n.value=!0),ui(()=>n.value=!1);function i(o,l=cs.Hidden){let c=e.value.findIndex(({id:d})=>d===o);c!==-1&&(ur(l,{[cs.Unmount](){e.value.splice(c,1)},[cs.Hidden](){e.value[c].state="hidden"}}),!om(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,cs.Unmount)}return{children:e,register:s,unregister:i}}let ik=Hf.RenderStrategy,Ro=gt({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=be(0);function l(){o.value|=si.Opening,e("beforeEnter")}function c(){o.value&=~si.Opening,e("afterEnter")}function d(){o.value|=si.Closing,e("beforeLeave")}function f(){o.value&=~si.Closing,e("afterLeave")}if(!C$()&&B7())return()=>fn(am,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:d,onAfterLeave:f},i);let m=be(null),v=Ne(()=>t.unmount?cs.Unmount:cs.Hidden);s({el:m,$el:m});let{show:_,appear:E}=P$(),{register:A,unregister:y}=k$(),b=be(_.value?"visible":"hidden"),R={value:!0},P=ah(),F={value:!1},x=nk(()=>{!F.value&&b.value!=="hidden"&&(b.value="hidden",y(P),f())});On(()=>{let ve=A(P);ui(ve)}),Ni(()=>{if(v.value===cs.Hidden&&P){if(_.value&&b.value!=="visible"){b.value="visible";return}ur(b.value,{hidden:()=>y(P),visible:()=>A(P)})}});let Q=Ys(t.enter),re=Ys(t.enterFrom),fe=Ys(t.enterTo),ae=Ys(t.entered),he=Ys(t.leave),Ve=Ys(t.leaveFrom),j=Ys(t.leaveTo);On(()=>{Ni(()=>{if(b.value==="visible"){let ve=Jt(m);if(ve instanceof Comment&&ve.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Y(ve){let kt=R.value&&!E.value,Ae=Jt(m);!Ae||!(Ae instanceof HTMLElement)||kt||(F.value=!0,_.value&&l(),_.value||d(),ve(_.value?kA(Ae,Q,re,fe,ae,G=>{F.value=!1,G===ky.Finished&&c()}):kA(Ae,he,Ve,j,ae,G=>{F.value=!1,G===ky.Finished&&(om(x)||(b.value="hidden",y(P),f()))})))}return On(()=>{rr([_],(ve,kt,Ae)=>{Y(Ae),R.value=!1},{immediate:!0})}),zn(V0,x),j7(Ne(()=>ur(b.value,{visible:si.Open,hidden:si.Closed})|o.value)),()=>{let{appear:ve,show:kt,enter:Ae,enterFrom:G,enterTo:te,entered:ye,leave:dt,leaveFrom:et,leaveTo:Xt,...tt}=t,Fi={ref:m},Ui={...tt,...E.value&&_.value&&lh.isServer?{class:hi([n.class,tt.class,...Q,...re])}:{}};return Vi({theirProps:Ui,ourProps:Fi,slot:{},slots:i,attrs:n,features:ik,visible:b.value==="visible",name:"TransitionChild"})}}}),O$=Ro,am=gt({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=P0(),o=Ne(()=>t.show===null&&s!==null?(s.value&si.Open)===si.Open:t.show);Ni(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=be(o.value?"visible":"hidden"),c=nk(()=>{l.value="hidden"}),d=be(!0),f={show:o,appear:Ne(()=>t.appear||!d.value)};return On(()=>{Ni(()=>{d.value=!1,o.value?l.value="visible":om(c)||(l.value="hidden")})}),zn(V0,c),zn(M0,f),()=>{let m=$2(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return Vi({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[fn(O$,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...m},i.default)]},attrs:{},features:ik,visible:l.value==="visible",name:"Transition"})}}});const N$=q("div",{class:"fixed inset-0 bg-black/25"},null,-1),D$={class:"fixed inset-0 overflow-y-auto"},x$={class:"flex min-h-full items-center justify-center p-4 text-center"},L$=q("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),M$=gt({__name:"AddAdModal",setup(t){const{modals:e}=Di(sm()),{profile:n}=Di(bn()),i=bn().ACCOUNT_TYPES,s=be(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(Ze(),An(_e(am),{appear:"",show:s.value,as:"template"},{default:Ye(()=>[De(_e(N0),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Ye(()=>[De(_e(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ye(()=>[N$]),_:1}),q("div",D$,[q("div",x$,[De(_e(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ye(()=>[De(_e(D0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ye(()=>{var d,f;return[De(_e(x0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ye(()=>[Fn(" New Ad ")]),_:1}),De(_e(L0),{class:"mt-2 mb-4"},{default:Ye(()=>[L$]),_:1}),((d=_e(n))==null?void 0:d.accountType)===_e(i).SELLER?(Ze(),An(P7,{key:0,onClose:c[0]||(c[0]=m=>o(!1))})):ii("",!0),((f=_e(n))==null?void 0:f.accountType)===_e(i).BUYER?(Ze(),An(M7,{key:1,onClose:c[1]||(c[1]=m=>o(!1))})):ii("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),V$={class:"space-y-4 mb-4"},F$=q("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),U$={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},B$=["src"],j$=["onClick"],$$=["src"],H$=["onClick"],q$=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),W$=q("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),K$=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),G$=q("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),z$=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),Y$={class:"flex justify-end space-x-2 mt-4"},Q$=5*1024*1024,J$=gt({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Di(bn());const s=be([]),o=be(null),l=()=>{const E=o.value.files;for(let A=0;A<E.length;A++){const y=E[A];if(y.size>Q$){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=R=>{s.value.push({file:y,url:R.target.result})},b.readAsDataURL(y)}},c=E=>{s.value.splice(E,1)},d=E=>{m.resizedImages.splice(E,1)},f=JSON.parse(JSON.stringify(n.ad)),m=gi({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=be(!1),_=async()=>{v.value=!0;const E=Object.keys(m).reduce((A,y)=>(m[y]!==n.ad[y]&&(A[y]=m[y]),A),{});if(o.value.files.length>0){const A=s.value.map(y=>y.url.split(",")[1]);E.newImages=A}await bn().editUserAd({changes:E,adId:n.ad.id}),v.value=!1,i("close")};return(E,A)=>(Ze(),Un(Rt,null,[q("div",V$,[F$,q("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),q("div",U$,[(Ze(!0),Un(Rt,null,dy(s.value,(y,b)=>(Ze(),Un("div",{key:b,class:"mr-2 relative"},[q("img",{src:y.url,class:"w-16 h-16 object-cover"},null,8,B$),q("button",{onClick:R=>c(b)},"Remove",8,j$)]))),128)),(Ze(!0),Un(Rt,null,dy(m.resizedImages,(y,b)=>(Ze(),Un("div",{key:b,class:"mr-2 relative"},[q("img",{src:y,class:"w-16 h-16 object-cover"},null,8,$$),q("button",{onClick:R=>d(b)},"Remove",8,H$)]))),128))]),q$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":A[0]||(A[0]=y=>m.type=y)},null,512),[[Ht,m.type]]),W$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":A[1]||(A[1]=y=>m.variety=y)},null,512),[[Ht,m.variety]]),K$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":A[2]||(A[2]=y=>m.yieldTonnage=y)},null,512),[[Ht,m.yieldTonnage]]),G$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":A[3]||(A[3]=y=>m.expectedHarvestDate=y)},null,512),[[Ht,m.expectedHarvestDate]]),z$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":A[4]||(A[4]=y=>m.price=y)},null,512),[[Ht,m.price]])]),q("div",Y$,[q("button",{onClick:A[5]||(A[5]=y=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(oh,{onClick:_,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:v.value},{default:Ye(()=>[Fn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),X$={class:"space-y-4 mb-4"},Z$=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),e8=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),t8=q("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),n8=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),i8={class:"flex justify-end space-x-2 mt-4"},r8=gt({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Di(bn());const s=JSON.parse(JSON.stringify(n.ad)),o=gi({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=be(!1),c=async()=>{l.value=!0;const d=Object.keys(o).reduce((f,m)=>(o[m]!==n.ad[m]&&(f[m]=o[m]),f),{});await bn().editUserAd({changes:d,adId:n.ad.id}),l.value=!1,i("close")};return(d,f)=>(Ze(),Un(Rt,null,[q("div",X$,[Z$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=m=>o.type=m)},null,512),[[Ht,o.type]]),e8,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=m=>o.yieldTonnage=m)},null,512),[[Ht,o.yieldTonnage]]),t8,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=m=>o.requestDate=m)},null,512),[[Ht,o.requestDate]]),n8,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=m=>o.price=m)},null,512),[[Ht,o.price]])]),q("div",i8,[q("button",{onClick:f[4]||(f[4]=m=>d.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(oh,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Ye(()=>[Fn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),s8=q("div",{class:"fixed inset-0 bg-black/25"},null,-1),o8={class:"fixed inset-0 overflow-y-auto"},a8={class:"flex min-h-full items-center justify-center p-4 text-center"},l8=q("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),u8=gt({__name:"EditAdModal",setup(t){const{modals:e}=Di(sm()),{profile:n}=Di(bn()),i=bn().ACCOUNT_TYPES,s=be(!0);function o(l){s.value=l,e.value.editad=l}return(l,c)=>(Ze(),An(_e(am),{appear:"",show:s.value,as:"template"},{default:Ye(()=>[De(_e(N0),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Ye(()=>[De(_e(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ye(()=>[s8]),_:1}),q("div",o8,[q("div",a8,[De(_e(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ye(()=>[De(_e(D0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ye(()=>{var d,f;return[De(_e(x0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ye(()=>[Fn(" Edit Ad ")]),_:1}),De(_e(L0),{class:"mt-2 mb-4"},{default:Ye(()=>[l8]),_:1}),((d=_e(n))==null?void 0:d.accountType)===_e(i).SELLER?(Ze(),An(J$,{key:0,onClose:c[0]||(c[0]=m=>o(!1)),ad:_e(e).context},null,8,["ad"])):ii("",!0),((f=_e(n))==null?void 0:f.accountType)===_e(i).BUYER?(Ze(),An(r8,{key:1,onClose:c[1]||(c[1]=m=>o(!1)),ad:_e(e).context},null,8,["ad"])):ii("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),c8={class:"space-y-4 mb-4"},h8=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),d8={class:"flex justify-end space-x-2 mt-4"},f8=gt({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=gi({adId:t.adId,price:0}),o=be(!1),l=async()=>{o.value=!0,c()?(await bn().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(d,f)=>(Ze(),Un(Rt,null,[q("div",c8,[h8,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=m=>s.price=m)},null,512),[[Ht,s.price]])]),q("div",d8,[q("button",{onClick:f[1]||(f[1]=m=>d.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(oh,{onClick:l,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:o.value},{default:Ye(()=>[Fn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),p8=q("div",{class:"fixed inset-0 bg-black/25"},null,-1),m8={class:"fixed inset-0 overflow-y-auto"},g8={class:"flex min-h-full items-center justify-center p-4 text-center"},v8=q("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),y8=gt({__name:"AddBidModal",setup(t){const{modals:e}=Di(sm()),n=be(!0);function i(l){n.value=l,e.value.addad=l}const s=F2(),o=be("");return On(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(Ze(),An(_e(am),{appear:"",show:n.value,as:"template"},{default:Ye(()=>[De(_e(N0),{as:"div",onClose:c[1]||(c[1]=d=>i(!1)),class:"relative z-10"},{default:Ye(()=>[De(_e(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ye(()=>[p8]),_:1}),q("div",m8,[q("div",g8,[De(_e(Ro),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ye(()=>[De(_e(D0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ye(()=>[De(_e(x0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ye(()=>[Fn(" Place bid ")]),_:1}),De(_e(L0),{class:"mt-2 mb-4"},{default:Ye(()=>[v8]),_:1}),De(f8,{onClose:c[0]||(c[0]=d=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),_8={class:"bg-blue-900 text-white p-4"},w8={class:"container mx-auto flex justify-between items-center"},E8=q("div",{class:"flex items-center"},[q("img",{src:hj,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),q("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),b8={class:"space-x-4"},I8={class:"w-full"},T8=gt({__name:"App",setup(t){const{profile:e}=Di(bn()),{modals:n}=Di(sm()),i=be(0),s=F2();s.beforeEach((l,c,d)=>{l.matched.some(m=>m.meta.requiresAuth)&&!e.value?d("/signup"):d()});const o=async()=>{await bn().signout(),s.push("/signup")};return(l,c)=>(Ze(),Un(Rt,null,[q("header",_8,[q("div",w8,[E8,q("nav",b8,[De(_e(Js),{class:hi(["hover:underline",{"bg-blue-700 text-white":i.value==0}]),to:"/",onClick:c[0]||(c[0]=d=>i.value=0)},{default:Ye(()=>[Fn("Home")]),_:1},8,["class"]),_e(e)?(Ze(),An(_e(Js),{key:0,class:hi(["hover:underline",{"bg-blue-700 text-white":i.value==1}]),to:"/userboard",onClick:c[1]||(c[1]=d=>i.value=1)},{default:Ye(()=>[Fn("Dashboard")]),_:1},8,["class"])):ii("",!0),_e(e)?ii("",!0):(Ze(),An(_e(Js),{key:1,class:hi(["hover:underline",{"bg-blue-700 text-white":i.value==2}]),to:"/signup",onClick:c[2]||(c[2]=d=>i.value=2)},{default:Ye(()=>[Fn("Signin")]),_:1},8,["class"])),_e(e)?(Ze(),An(_e(Js),{key:2,class:hi(["hover:underline",{"bg-blue-700 text-white":i.value==3}]),to:"/profile",onClick:c[3]||(c[3]=d=>i.value=3)},{default:Ye(()=>[Fn("Profile")]),_:1},8,["class"])):ii("",!0),_e(e)?(Ze(),An(_e(Js),{key:3,class:hi(["hover:underline",{"bg-blue-700 text-white":i.value==4}]),to:"/feed",onClick:c[4]||(c[4]=d=>i.value=4)},{default:Ye(()=>[Fn("Feed")]),_:1},8,["class"])):ii("",!0),De(_e(Js),{class:hi(["hover:underline",{"bg-blue-700 text-white":i.value==5}]),to:"/about",onClick:c[5]||(c[5]=d=>i.value=5)},{default:Ye(()=>[Fn("About")]),_:1},8,["class"]),q("a",{class:"hover:underline",onClick:o},"Signout")])])]),_e(n).addad?(Ze(),An(M$,{key:0})):ii("",!0),_e(n).editad?(Ze(),An(u8,{key:1})):ii("",!0),_e(n).addbid?(Ze(),An(y8,{key:2})):ii("",!0),q("div",I8,[De(_e(V2))])],64))}}),A8="modulepreload",S8=function(t){return"/"+t},OA={},ns=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=S8(o),o in OA)return;OA[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let m=s.length-1;m>=0;m--){const v=s[m];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":A8,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},R8={};function C8(t,e){return Ze(),Un("h1",null,"HomeView")}const P8=U2(R8,[["render",C8]]),k8=h7({history:Pj("/"),routes:[{path:"/",name:"home",component:P8},{path:"/signup",name:"signup",component:()=>ns(()=>import("./SignupView-0afa90e6.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>ns(()=>import("./ProfileSetupView-bb700969.js"),[])},{path:"/profile",name:"profile",component:()=>ns(()=>import("./UserProfileView-22e4ca37.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>ns(()=>import("./AboutView-273c1565.js"),[])},{path:"/feed",name:"feed",component:()=>ns(()=>import("./FeedView-822be795.js"),["assets/FeedView-822be795.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-2fd4c847.js","assets/SellerAdCard-12820f94.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-b9843721.js"])},{path:"/ad/:adId",name:"ad",component:()=>ns(()=>import("./AdView-7e1da235.js"),["assets/AdView-7e1da235.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-2fd4c847.js","assets/SellerAdCard-12820f94.css"]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>ns(()=>import("./UserBoardView-2b4c3468.js"),["assets/UserBoardView-2b4c3468.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-2fd4c847.js","assets/SellerAdCard-12820f94.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-b9843721.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>ns(()=>import("./MessagingView-552cfe54.js"),[]),meta:{requiresAuth:!0},props:!0}]});let lo,Ev;ML(TP,async t=>{if(t){try{Ev=await oy("users",t.uid),Ev&&(lo||bv(),bn().setProfile(Ev))}catch(e){console.log("Error getting profile",e)}lo||bv(),console.log("User is signed in"),bn().setUser(t)}else lo||bv(),console.log("User is signed out")});const bv=()=>{lo=YB(T8),lo.use(XB()),lo.use(k8),lo.mount("#app")};export{Et as $,Q8 as A,sm as B,oh as C,z8 as D,Is as E,Rt as F,j8 as G,il as H,Pf as I,ls as J,z_ as K,m7 as L,To as M,Ni as N,Jt as O,fn as P,qf as Q,Sy as R,Ne as S,J7 as T,zn as U,rr as V,Vi as W,$2 as X,ah as Y,ui as Z,U2 as _,bn as a,Hf as a0,ur as a1,H2 as a2,W2 as a3,k0 as a4,Il as a5,tf as a6,os as a7,K8 as a8,hi as a9,f0 as aa,H5 as ab,k8 as ac,W8 as ad,G_ as ae,V8 as af,KC as ag,F8 as ah,$8 as ai,H8 as aj,B8 as ak,U8 as al,q8 as b,M5 as c,gt as d,Ze as e,Un as f,q as g,be as h,Fn as i,Z8 as j,dy as k,_e as l,G8 as m,X8 as n,On as o,De as p,Ye as q,gi as r,Di as s,J8 as t,F2 as u,Ht as v,$t as w,ii as x,An as y,Y8 as z};

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},CA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,E=f&63;d||(E=64,l||(_=64)),r.push(n[m],n[v],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new IN;const _=o<<2|c>>4;if(r.push(_),f!==64){const E=c<<4&240|f>>2;if(r.push(E),v!==64){const A=f<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(t){const e=RA(t);return CA.encodeByteArray(e,!0)},Zd=function(t){return TN(t).replace(/\./g,"")},PA=function(t){try{return CA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ef(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AN(n)||(t[n]=ef(t[n],e[n]));return t}function AN(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=()=>SN().__FIREBASE_DEFAULTS__,CN=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PA(t[1]);return e&&JSON.parse(e)},$f=()=>{try{return RN()||CN()||PN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kA=t=>{var e,n;return(n=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ty=t=>{const e=kA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OA=()=>{var t;return(t=$f())===null||t===void 0?void 0:t.config},NA=t=>{var e;return(e=$f())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Zd(JSON.stringify(n)),Zd(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function xA(){var t;const e=(t=$f())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NN(){return typeof self=="object"&&self.self===self}function LA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ay(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MA(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tf(){try{return typeof indexedDB=="object"}catch{return!1}}function DN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="FirebaseError";class vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xN,Object.setPrototypeOf(this,vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?LN(o,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new vn(s,c,r)}}function LN(t,e){return t.replace(MN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],l=e[s];if(W1(o)&&W1(l)){if(!nf(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function W1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ra(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VA(t,e){const n=new FN(t,e);return n.subscribe.bind(n)}class FN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=xg),s.error===void 0&&(s.error=xg),s.complete===void 0&&(s.complete=xg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t){return t&&t._delegate?t._delegate:t}class Ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($N(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jN(t){return t===Ys?void 0:t}function $N(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=[];var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const FA={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},qN=Be.INFO,WN={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},KN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hf{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=KN,this._userLogHandler=null,Sy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function GN(t){Sy.forEach(e=>{e.setLogLevel(t)})}function zN(t,e){for(const n of Sy){let r=null;e&&e.level&&(r=FA[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??s.logLevel)&&t({level:Be[o].toLowerCase(),message:c,args:l,type:s.name})}}}const YN=(t,e)=>e.some(n=>t instanceof n);let K1,G1;function QN(){return K1||(K1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return G1||(G1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,vv=new WeakMap,BA=new WeakMap,Lg=new WeakMap,Ry=new WeakMap;function XN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(cs(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&UA.set(n,t)}).catch(()=>{}),Ry.set(e,t),e}function ZN(t){if(vv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});vv.set(t,e)}let yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eD(t){yv=t(yv)}function tD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return BA.set(r,e.sort?e.sort():[e]),cs(r)}:JN().includes(t)?function(...e){return t.apply(Mg(this),e),cs(UA.get(this))}:function(...e){return cs(t.apply(Mg(this),e))}}function nD(t){return typeof t=="function"?tD(t):(t instanceof IDBTransaction&&ZN(t),YN(t,QN())?new Proxy(t,yv):t)}function cs(t){if(t instanceof IDBRequest)return XN(t);if(Lg.has(t))return Lg.get(t);const e=nD(t);return e!==t&&(Lg.set(t,e),Ry.set(e,t)),e}const Mg=t=>Ry.get(t);function iD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=cs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(cs(l.result),d.oldVersion,d.newVersion,cs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const rD=["get","getKey","getAll","getAllKeys","count"],sD=["put","add","delete","clear"],Vg=new Map;function z1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=sD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rD.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return Vg.set(e,o),o}eD(t=>({...t,get:(e,n,r)=>z1(e,n)||t.get(e,n,r),has:(e,n)=>!!z1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _v="@firebase/app",Y1="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Hf("@firebase/app"),lD="@firebase/app-compat",uD="@firebase/analytics-compat",cD="@firebase/analytics",hD="@firebase/app-check-compat",dD="@firebase/app-check",fD="@firebase/auth",pD="@firebase/auth-compat",mD="@firebase/database",gD="@firebase/database-compat",vD="@firebase/functions",yD="@firebase/functions-compat",_D="@firebase/installations",wD="@firebase/installations-compat",ED="@firebase/messaging",bD="@firebase/messaging-compat",ID="@firebase/performance",TD="@firebase/performance-compat",AD="@firebase/remote-config",SD="@firebase/remote-config-compat",RD="@firebase/storage",CD="@firebase/storage-compat",PD="@firebase/firestore",kD="@firebase/firestore-compat",OD="firebase",ND="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]",DD={[_v]:"fire-core",[lD]:"fire-core-compat",[cD]:"fire-analytics",[uD]:"fire-analytics-compat",[dD]:"fire-app-check",[hD]:"fire-app-check-compat",[fD]:"fire-auth",[pD]:"fire-auth-compat",[mD]:"fire-rtdb",[gD]:"fire-rtdb-compat",[vD]:"fire-fn",[yD]:"fire-fn-compat",[_D]:"fire-iid",[wD]:"fire-iid-compat",[ED]:"fire-fcm",[bD]:"fire-fcm-compat",[ID]:"fire-perf",[TD]:"fire-perf-compat",[AD]:"fire-rc",[SD]:"fire-rc-compat",[RD]:"fire-gcs",[CD]:"fire-gcs-compat",[PD]:"fire-fst",[kD]:"fire-fst-compat","fire-js":"fire-js",[OD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Map,sc=new Map;function rf(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jA(t,e){t.container.addOrOverwriteComponent(e)}function sr(t){const e=t.name;if(sc.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;sc.set(e,t);for(const n of ms.values())rf(n,t);return!0}function Co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xD(t,e,n=ps){Co(t,e).clearInstance(n)}function LD(){sc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},br=new Ro("app","Firebase",MD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VD=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=ND;function qf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ps,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=OA()),!n)throw br.create("no-options");const o=ms.get(s);if(o){if(nf(n,o.options)&&nf(r,o.config))return o;throw br.create("duplicate-app",{appName:s})}const l=new HN(s);for(const d of sc.values())l.addComponent(d);const c=new VD(n,r,l);return ms.set(s,c),c}function Dc(t=ps){const e=ms.get(t);if(!e&&t===ps&&OA())return qf();if(!e)throw br.create("no-app",{appName:t});return e}function FD(){return Array.from(ms.values())}async function $A(t){const e=t.name;ms.has(e)&&(ms.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Bn(t,e,n){var r;let s=(r=DD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(c.join(" "));return}sr(new Ri(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function HA(t,e){if(t!==null&&typeof t!="function")throw br.create("invalid-log-argument");zN(t,e)}function qA(t){GN(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebase-heartbeat-database",BD=1,oc="firebase-heartbeat-store";let Fg=null;function WA(){return Fg||(Fg=iD(UD,BD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oc)}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Fg}async function jD(t){try{return await(await WA()).transaction(oc).objectStore(oc).get(KA(t))}catch(e){if(e instanceof vn)go.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});go.warn(n.message)}}}async function Q1(t,e){try{const r=(await WA()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,KA(t)),await r.done}catch(n){if(n instanceof vn)go.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});go.warn(r.message)}}}function KA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,HD=30*24*60*60*1e3;class qD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=J1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=HD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J1(),{heartbeatsToSend:n,unsentEntries:r}=WD(this._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function J1(){return new Date().toISOString().substring(0,10)}function WD(t,e=$D){const n=[];let r=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),X1(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),X1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tf()?DN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jD(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Q1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Q1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X1(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){sr(new Ri("platform-logger",e=>new oD(e),"PRIVATE")),sr(new Ri("heartbeat",e=>new qD(e),"PRIVATE")),Bn(_v,Y1,t),Bn(_v,Y1,"esm2017"),Bn("fire-js","")}GD("");const zD=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:vn,SDK_VERSION:Or,_DEFAULT_ENTRY_NAME:ps,_addComponent:rf,_addOrOverwriteComponent:jA,_apps:ms,_clearComponents:LD,_components:sc,_getProvider:Co,_registerComponent:sr,_removeServiceInstance:xD,deleteApp:$A,getApp:Dc,getApps:FD,initializeApp:qf,onLog:HA,registerVersion:Bn,setLogLevel:qA},Symbol.toStringTag,{value:"Module"}));function Cy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}const Au={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_a={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=YD,JD=GA,zA=new Ro("auth","Firebase",GA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Hf("@firebase/auth");function XD(t,...e){sf.logLevel<=Be.WARN&&sf.warn(`Auth (${Or}): ${t}`,...e)}function jd(t,...e){sf.logLevel<=Be.ERROR&&sf.error(`Auth (${Or}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,...e){throw Py(t,...e)}function yn(t,...e){return Py(t,...e)}function YA(t,e,n){const r=Object.assign(Object.assign({},JD()),{[e]:n});return new Ro("auth","Firebase",r).create(e,{appName:t.name})}function al(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ln(t,"argument-error"),YA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zA.create(t,...e)}function W(t,e,...n){if(!t)throw Py(e,...n)}function Zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jd(e),new Error(e)}function Ci(t,e){t||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ky(){return Z1()==="http:"||Z1()==="https:"}function Z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ky()||LA()||"connection"in navigator)?navigator.onLine:!0}function ex(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=ON()||Ay()}get(){return ZD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new xc(3e4,6e4);function xt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zt(t,e,n,r,s={}){return JA(t,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=ol(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),QA.fetch()(XA(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function JA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tx),e);try{const s=new rx(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Mu(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Mu(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw YA(t,m,f);ln(t,m)}}catch(s){if(s instanceof vn)throw s;ln(t,"network-request-failed",{message:String(s)})}}async function Nr(t,e,n,r,s={}){const o=await zt(t,e,n,r,s);return"mfaPendingCredential"in o&&ln(t,"multi-factor-auth-required",{_serverResponse:o}),o}function XA(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Oy(t.config,s):`${t.config.apiScheme}://${s}`}function ix(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),nx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){return t!==void 0&&t.getResponse!==void 0}function tI(t){return t!==void 0&&t.enterprise!==void 0}class sx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ix(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t){return(await zt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function ax(t,e){return zt(t,"GET","/v2/recaptchaConfig",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(t,e){return zt(t,"POST","/v1/accounts:delete",e)}async function ux(t,e){return zt(t,"POST","/v1/accounts:update",e)}async function cx(t,e){return zt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hx(t,e=!1){const n=Te(t),r=await n.getIdToken(e),s=Wf(r);W(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Wu(Ug(s.auth_time)),issuedAtTime:Wu(Ug(s.iat)),expirationTime:Wu(Ug(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ug(t){return Number(t)*1e3}function Wf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const s=PA(n);return s?JSON.parse(s):(jd("Failed to decode base64 JWT payload"),null)}catch(s){return jd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dx(t){const e=Wf(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vn&&fx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Rr(t,cx(n,{idToken:r}));W(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vx(o.providerUserInfo):[],c=gx(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ZA(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function mx(t){const e=Te(t);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gx(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function vx(t){return t.map(e=>{var{providerId:n}=e,r=Cy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(t,e){const n=await JA(t,{},async()=>{const r=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=XA(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",QA.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await yx(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,l=new uc;return r&&(W(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(W(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(W(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ZA(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Rr(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hx(this,e)}reload(){return mx(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Rr(this,lx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,l,c,d,f,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,y=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,R=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:F,emailVerified:x,isAnonymous:Q,providerData:re,stsTokenManager:fe}=n;W(F&&fe,e,"internal-error");const ae=uc.fromJSON(this.name,fe);W(typeof F=="string",e,"internal-error"),Xr(v,e.name),Xr(_,e.name),W(typeof x=="boolean",e,"internal-error"),W(typeof Q=="boolean",e,"internal-error"),Xr(E,e.name),Xr(A,e.name),Xr(y,e.name),Xr(b,e.name),Xr(R,e.name),Xr(P,e.name);const he=new lo({uid:F,auth:e,email:_,emailVerified:x,displayName:v,isAnonymous:Q,photoURL:A,phoneNumber:E,tenantId:y,stsTokenManager:ae,createdAt:R,lastLoginAt:P});return re&&Array.isArray(re)&&(he.providerData=re.map(Ve=>Object.assign({},Ve))),b&&(he._redirectEventId=b),he}static async _fromIdTokenResponse(e,n,r=!1){const s=new uc;s.updateFromServerResponse(n);const o=new lo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Map;function ri(t){Ci(t instanceof Function,"Expected a class definition");let e=nI.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eS.type="NONE";const ja=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,e,n){return`firebase:${t}:${e}:${n}`}class Pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=uo(this.userKey,s.apiKey,o),this.fullPersistenceKey=uo("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pa(ri(ja),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ri(ja);const l=uo(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){const v=lo._fromJSON(e,m);f!==o&&(c=v),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Pa(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Pa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rS(e))return"Blackberry";if(sS(e))return"Webos";if(Ny(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(Lc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tS(t=Kt()){return/firefox\//i.test(t)}function Ny(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(t=Kt()){return/crios\//i.test(t)}function iS(t=Kt()){return/iemobile/i.test(t)}function Lc(t=Kt()){return/android/i.test(t)}function rS(t=Kt()){return/blackberry/i.test(t)}function sS(t=Kt()){return/webos/i.test(t)}function ll(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _x(t=Kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function wx(t=Kt()){var e;return ll(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ex(){return MA()&&document.documentMode===10}function oS(t=Kt()){return ll(t)||Lc(t)||sS(t)||rS(t)||/windows phone/i.test(t)||iS(t)}function bx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e=[]){let n;switch(t){case"Browser":n=iI(Kt());break;case"Worker":n=`${iI(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Or}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e={}){return zt(t,"GET","/v2/passwordPolicy",xt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=6;class Sx{constructor(e){var n,r,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:Ax,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rI(this),this.idTokenSubscription=new rI(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ex()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Te(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Tx(this),n=new Sx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ct(t){return Te(t)}class rI{constructor(e){this.auth=e,this.observer=null,this.addObserver=VA(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Dy(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=yn("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Cx().appendChild(r)})}function lS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Px="https://www.google.com/recaptcha/enterprise.js?render=",kx="recaptcha-enterprise",Ox="NO_RECAPTCHA";class Nx{constructor(e){this.type=kx,this.auth=Ct(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{ax(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new sx(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;tI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(Ox)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&tI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}Dy(Px+c).then(()=>{s(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function sI(t,e,n,r=!1){const s=new Nx(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Kf(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await sI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await sI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e){const n=Co(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(nf(o,e??{}))return s;ln(s,"already-initialized")}return n.initialize({options:e})}function xx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uS(t,e,n){const r=Ct(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=cS(e),{host:l,port:c}=Lx(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${l}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Mx()}function cS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lx(t){const e=cS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:oI(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:oI(l)}}}function oI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t,e){return zt(t,"POST","/v1/accounts:resetPassword",xt(t,e))}async function dS(t,e){return zt(t,"POST","/v1/accounts:update",e)}async function Vx(t,e){return zt(t,"POST","/v1/accounts:update",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e){return Nr(t,"POST","/v1/accounts:signInWithPassword",xt(t,e))}async function Gf(t,e){return zt(t,"POST","/v1/accounts:sendOobCode",xt(t,e))}async function Ux(t,e){return Gf(t,e)}async function Bx(t,e){return Gf(t,e)}async function jx(t,e){return Gf(t,e)}async function $x(t,e){return Gf(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e){return Nr(t,"POST","/v1/accounts:signInWithEmailLink",xt(t,e))}async function qx(t,e){return Nr(t,"POST","/v1/accounts:signInWithEmailLink",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends ul{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kf(e,n,"signInWithPassword",Fx);case"emailLink":return Hx(e,{email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return dS(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return qx(e,{idToken:n,email:this._email,oobCode:this._password});default:ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(t,e){return Nr(t,"POST","/v1/accounts:signInWithIdp",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="http://localhost";class or extends ul{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new or(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Cy(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new or(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ir(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ir(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ir(e,n)}buildRequest(){const e={requestUri:Wx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e){return zt(t,"POST","/v1/accounts:sendVerificationCode",xt(t,e))}async function Gx(t,e){return Nr(t,"POST","/v1/accounts:signInWithPhoneNumber",xt(t,e))}async function zx(t,e){const n=await Nr(t,"POST","/v1/accounts:signInWithPhoneNumber",xt(t,e));if(n.temporaryProof)throw Mu(t,"account-exists-with-different-credential",n);return n}const Yx={USER_NOT_FOUND:"user-not-found"};async function Qx(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Nr(t,"POST","/v1/accounts:signInWithPhoneNumber",xt(t,n),Yx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends ul{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new co({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new co({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Gx(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return zx(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Qx(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!n&&!s&&!o?null:new co({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xx(t){const e=Ra(Lu(t)).link,n=e?Ra(Lu(e)).deep_link_id:null,r=Ra(Lu(t)).deep_link_id;return(r?Ra(Lu(r)).link:null)||r||n||e||t}class zf{constructor(e){var n,r,s,o,l,c;const d=Ra(Lu(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,v=Jx((s=d.mode)!==null&&s!==void 0?s:null);W(f&&m&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=Xx(e);try{return new zf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.providerId=Is.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zf.parseLink(n);return W(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}Is.PROVIDER_ID="password";Is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ka extends cl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),or._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),or._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ka.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ka.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!r&&!s&&!n&&!o||!c)return null;try{return new ka(c)._credential({idToken:n,accessToken:r,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends cl{constructor(){super("facebook.com")}static credential(e){return or._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return or._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends cl{constructor(){super("github.com")}static credential(e){return or._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="http://localhost";class $a extends ul{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Ir(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ir(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ir(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=n;return!r||!s||!o||r!==s?null:new $a(r,o)}static _create(e,n){return new $a(e,n)}buildRequest(){return{requestUri:Zx,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="saml.";class of extends Dr{constructor(e){W(e.startsWith(eL),"argument-error"),super(e)}static credentialFromResult(e){return of.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return of.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=$a.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return $a._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends cl{constructor(){super("twitter.com")}static credential(e,n){return or._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t,e){return Nr(t,"POST","/v1/accounts:signUp",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await lo._fromIdTokenResponse(e,r,s),l=aI(r);return new fi({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=aI(r);return new fi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function aI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t){var e;const n=Ct(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new fi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await fS(n,{returnSecureToken:!0}),s=await fi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends vn{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new af(e,n,r,s)}}function pS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e){const n=Te(t);await Yf(!0,n,e);const{providerUserInfo:r}=await ux(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=mS(r||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function xy(t,e,n=!1){const r=await Rr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fi._forOperation(t,"link",r)}async function Yf(t,e,n){await lc(e);const r=mS(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await Rr(t,pS(r,s,e,t),n);W(o.idToken,r,"internal-error");const l=Wf(o.idToken);W(l,r,"internal-error");const{sub:c}=l;return W(t.uid===c,r,"user-mismatch"),fi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ln(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(t,e,n=!1){const r="signIn",s=await pS(t,r,e),o=await fi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function Qf(t,e){return vS(Ct(t),e)}async function yS(t,e){const n=Te(t);return await Yf(!1,n,e.providerId),xy(n,e)}async function _S(t,e){return gS(Te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e){return Nr(t,"POST","/v1/accounts:signInWithCustomToken",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){const n=Ct(t),r=await iL(n,{token:e,returnSecureToken:!0}),s=await fi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Ly._fromServerResponse(e,n):"totpInfo"in n?My._fromServerResponse(e,n):ln(e,"internal-error")}}class Ly extends Mc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Ly(n)}}class My extends Mc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new My(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(t){const e=Ct(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sL(t,e,n){const r=Ct(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Jf(r,s,n),await Kf(r,s,"getOobCode",Bx)}async function oL(t,e,n){await hS(Te(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vy(t),r})}async function aL(t,e){await Vx(Te(t),{oobCode:e})}async function wS(t,e){const n=Te(t),r=await hS(n,{oobCode:e}),s=r.requestType;switch(W(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Mc._fromServerResponse(Ct(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function lL(t,e){const{data:n}=await wS(Te(t),e);return n.email}async function uL(t,e,n){const r=Ct(t),l=await Kf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fS).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Vy(t),d}),c=await fi._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function cL(t,e,n){return Qf(Te(t),Is.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Vy(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e,n){const r=Ct(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){W(c.handleCodeInApp,r,"argument-error"),c&&Jf(r,l,c)}o(s,n),await Kf(r,s,"getOobCode",jx)}function dL(t,e){const n=zf.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function fL(t,e,n){const r=Te(t),s=Is.credentialWithLink(e,n||ac());return W(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Qf(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e){return zt(t,"POST","/v1/accounts:createAuthUri",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){const n=ky()?ac():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await pL(Te(t),r);return s||[]}async function gL(t,e){const n=Te(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Jf(n.auth,s,e);const{email:o}=await Ux(n.auth,s);o!==t.email&&await t.reload()}async function vL(t,e,n){const r=Te(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Jf(r.auth,o,n);const{email:l}=await $x(r.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){return zt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Te(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Rr(r,yL(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function wL(t,e){return ES(Te(t),e,null)}function EL(t,e){return ES(Te(t),null,e)}async function ES(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Rr(t,dS(r,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){var e,n;if(!t)return null;const{providerId:r}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const l=(n=(e=Wf(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new Oa(o,c)}}if(!r)return null;switch(r){case"facebook.com":return new IL(o,s);case"github.com":return new TL(o,s);case"google.com":return new AL(o,s);case"twitter.com":return new SL(o,s,t.screenName||null);case"custom":case"anonymous":return new Oa(o,null);default:return new Oa(o,r,s)}}class Oa{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class bS extends Oa{constructor(e,n,r,s){super(e,n,r),this.username=s}}class IL extends Oa{constructor(e,n){super(e,"facebook.com",n)}}class TL extends bS{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class AL extends Oa{constructor(e,n){super(e,"google.com",n)}}class SL extends bS{constructor(e,n,r){super(e,"twitter.com",n,r)}}function RL(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:bL(n)}function CL(t,e,n,r){return Te(t).onIdTokenChanged(e,n,r)}function PL(t,e,n){return Te(t).beforeAuthStateChanged(e,n)}function kL(t,e,n,r){return Te(t).onAuthStateChanged(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new to("enroll",e,n)}static _fromMfaPendingCredential(e){return new to("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return to._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return to._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ct(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>Mc._fromServerResponse(r,c));W(s.mfaPendingCredential,r,"internal-error");const l=to._fromMfaPendingCredential(s.mfaPendingCredential);return new Fy(l,o,async c=>{const d=await c._process(r,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":const m=await fi._fromIdTokenResponse(r,n.operationType,f);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return W(n.user,r,"internal-error"),fi._forOperation(n.user,n.operationType,f);default:ln(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function OL(t,e){var n;const r=Te(t),s=e;return W(e.customData.operationType,r,"argument-error"),W((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Fy._fromError(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:start",xt(t,e))}function DL(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:finalize",xt(t,e))}function xL(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",xt(t,e))}class Uy{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Mc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Uy(e)}async getSession(){return to._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,s=await this.getSession(),o=await Rr(this.user,r._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await Rr(this.user,xL(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const Bg=new WeakMap;function LL(t){const e=Te(t);return Bg.has(e)||Bg.set(e,Uy._fromUser(e)),Bg.get(e)}const lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lf,"1"),this.storage.removeItem(lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){const t=Kt();return Ny(t)||ll(t)}const VL=1e3,FL=10;class TS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ML()&&bx(),this.fallbackToPolling=oS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);Ex()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const Xf=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AS.type="SESSION";const gs=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await UL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Vc("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return window}function jL(t){Bt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){return typeof Bt().WorkerGlobalScope<"u"&&typeof Bt().importScripts=="function"}async function $L(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qL(){return By()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebaseLocalStorageDb",WL=1,uf="firebaseLocalStorage",RS="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ep(t,e){return t.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function KL(){const t=indexedDB.deleteDatabase(SS);return new Fc(t).toPromise()}function wv(){const t=indexedDB.open(SS,WL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uf,{keyPath:RS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await KL(),e(await wv()))})})}async function lI(t,e,n){const r=ep(t,!0).put({[RS]:e,value:n});return new Fc(r).toPromise()}async function GL(t,e){const n=ep(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function uI(t,e){const n=ep(t,!0).delete(e);return new Fc(n).toPromise()}const zL=800,YL=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return By()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(qL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $L(),!this.activeServiceWorker)return;this.sender=new BL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wv();return await lI(e,lf,"1"),await uI(e,lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=ep(s,!1).getAll();return new Fc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const Ha=CS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t,e){return zt(t,"POST","/v2/accounts/mfaSignIn:start",xt(t,e))}function JL(t,e){return zt(t,"POST","/v2/accounts/mfaSignIn:finalize",xt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=500,ZL=6e4,Ed=1e12;class eM{constructor(e){this.auth=e,this.counter=Ed,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new tM(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Ed;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Ed;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Ed;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class tM{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;W(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=nM(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},ZL)},XL))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function nM(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=lS("rcb"),iM=new xc(3e4,6e4),rM="https://www.google.com/recaptcha/api.js?";class sM{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Bt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(oM(n),e,"argument-error"),this.shouldResolveImmediately(n)&&eI(Bt().grecaptcha)?Promise.resolve(Bt().grecaptcha):new Promise((r,s)=>{const o=Bt().setTimeout(()=>{s(yn(e,"network-request-failed"))},iM.get());Bt()[jg]=()=>{Bt().clearTimeout(o),delete Bt()[jg];const c=Bt().grecaptcha;if(!c||!eI(c)){s(yn(e,"internal-error"));return}const d=c.render;c.render=(f,m)=>{const v=d(f,m);return this.counter++,v},this.hostLanguage=n,r(c)};const l=`${rM}?${ol({onload:jg,render:"explicit",hl:n})}`;Dy(l).catch(()=>{clearTimeout(o),s(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Bt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function oM(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class aM{async load(e){return new eM(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="recaptcha",lM={theme:"light",type:"image"};let uM=class{constructor(e,n,r=Object.assign({},lM)){this.parameters=r,this.type=PS,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;W(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aM:new sM,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Bt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(ky()&&!By(),this.auth,"internal-error"),await cM(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await ox(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function cM(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=co._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function hM(t,e,n){const r=Ct(t),s=await tp(r,e,Te(n));return new jy(s,o=>Qf(r,o))}async function dM(t,e,n){const r=Te(t);await Yf(!1,r,"phone");const s=await tp(r.auth,e,Te(n));return new jy(s,o=>yS(r,o))}async function fM(t,e,n){const r=Te(t),s=await tp(r.auth,e,Te(n));return new jy(s,o=>_S(r,o))}async function tp(t,e,n){var r;const s=await n.verify();try{W(typeof s=="string",t,"argument-error"),W(n.type===PS,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return W(l.type==="enroll",t,"internal-error"),(await NL(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{W(l.type==="signin",t,"internal-error");const c=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return W(c,t,"missing-multi-factor-info"),(await QL(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await Kx(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function pM(t,e){await xy(Te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo=class $d{constructor(e){this.providerId=$d.PROVIDER_ID,this.auth=Ct(e)}verifyPhoneNumber(e,n){return tp(this.auth,e,Te(n))}static credential(e,n){return co._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $d.credentialFromTaggedObject(n)}static credentialFromError(e){return $d.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?co._fromTokenResponse(n,r):null}};vo.PROVIDER_ID="phone";vo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t,e){return e?ri(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends ul{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ir(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ir(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ir(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mM(t){return vS(t.auth,new $y(t),t.bypassAuthState)}function gM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),gS(n,new $y(t),t.bypassAuthState)}async function vM(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),xy(n,new $y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mM;case"linkViaPopup":case"linkViaRedirect":return vM;case"reauthViaPopup":case"reauthViaRedirect":return gM;default:ln(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new xc(2e3,1e4);async function _M(t,e,n){const r=Ct(t);al(t,e,Dr);const s=Po(r,n);return new _r(r,"signInViaPopup",e,s).executeNotNull()}async function wM(t,e,n){const r=Te(t);al(r.auth,e,Dr);const s=Po(r.auth,n);return new _r(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function EM(t,e,n){const r=Te(t);al(r.auth,e,Dr);const s=Po(r.auth,n);return new _r(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class _r extends kS{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Vc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yM.get())};e()}}_r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="pendingRedirect",Ku=new Map;class IM extends kS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ku.get(this.auth._key());if(!e){try{const r=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ku.set(this.auth._key(),e)}return this.bypassAuthState||Ku.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(t,e){const n=NS(e),r=OS(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function Hy(t,e){return OS(t)._set(NS(e),"true")}function AM(){Ku.clear()}function qy(t,e){Ku.set(t._key(),e)}function OS(t){return ri(t._redirectPersistence)}function NS(t){return uo(bM,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t,e,n){return RM(t,e,n)}async function RM(t,e,n){const r=Ct(t);al(t,e,Dr),await r._initializationPromise;const s=Po(r,n);return await Hy(s,r),s._openRedirect(r,e,"signInViaRedirect")}function CM(t,e,n){return PM(t,e,n)}async function PM(t,e,n){const r=Te(t);al(r.auth,e,Dr),await r.auth._initializationPromise;const s=Po(r.auth,n);await Hy(s,r.auth);const o=await DS(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function kM(t,e,n){return OM(t,e,n)}async function OM(t,e,n){const r=Te(t);al(r.auth,e,Dr),await r.auth._initializationPromise;const s=Po(r.auth,n);await Yf(!1,r,e.providerId),await Hy(s,r.auth);const o=await DS(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function NM(t,e){return await Ct(t)._initializationPromise,np(t,e,!1)}async function np(t,e,n=!1){const r=Ct(t),s=Po(r,e),l=await new IM(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function DS(t){const e=Vc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=10*60*1e3;class xS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DM&&this.cachedEventUids.clear(),this.cachedEventUids.has(cI(e))}saveEventToCache(e){this.cachedEventUids.add(cI(e)),this.lastProcessedEventTime=Date.now()}}function cI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(t,e={}){return zt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MM=/^https?/;async function VM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MS(t);for(const n of e)try{if(FM(n))return}catch{}ln(t,"unauthorized-domain")}function FM(t){const e=ac(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!MM.test(n))return!1;if(LM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new xc(3e4,6e4);function hI(){const t=Bt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BM(t){return new Promise((e,n)=>{var r,s,o;function l(){hI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hI(),n(yn(t,"network-request-failed"))},timeout:UM.get()})}if(!((s=(r=Bt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Bt().gapi)===null||o===void 0)&&o.load)l();else{const c=lS("iframefcb");return Bt()[c]=()=>{gapi.load?l():n(yn(t,"network-request-failed"))},Dy(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function jM(t){return Hd=Hd||BM(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new xc(5e3,15e3),HM="__/auth/iframe",qM="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GM(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oy(e,qM):`https://${t.config.authDomain}/${HM}`,r={apiKey:e.apiKey,appName:t.name,v:Or},s=KM.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ol(r).slice(1)}`}async function zM(t){const e=await jM(t),n=Bt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:GM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=yn(t,"network-request-failed"),c=Bt().setTimeout(()=>{o(l)},$M.get());function d(){Bt().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,JM=600,XM="_blank",ZM="http://localhost";class dI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eV(t,e,n,r=QM,s=JM){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},YM),{width:r.toString(),height:s.toString(),top:o,left:l}),f=Kt().toLowerCase();n&&(c=nS(f)?XM:n),tS(f)&&(e=e||ZM,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[E,A])=>`${_}${E}=${A},`,"");if(wx(f)&&c!=="_self")return tV(e||"",c),new dI(null);const v=window.open(e||"",c,m);W(v,t,"popup-blocked");try{v.focus()}catch{}return new dI(v)}function tV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV="__/auth/handler",iV="emulator/auth/handler",rV=encodeURIComponent("fac");async function Ev(t,e,n,r,s,o){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Or,eventId:s};if(e instanceof Dr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",VN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries(o||{}))l[m]=v}if(e instanceof cl){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${rV}=${encodeURIComponent(d)}`:"";return`${sV(t)}?${ol(c).slice(1)}${f}`}function sV({config:t}){return t.emulator?Oy(t,iV):`https://${t.authDomain}/${nV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class oV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=np,this._overrideRedirectResult=qy}async _openPopup(e,n,r,s){var o;Ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Ev(e,n,r,ac(),s);return eV(e,l,Vc())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Ev(e,n,r,ac(),s);return jL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ci(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zM(e),r=new xS(e);return n.register("authEvent",s=>(W(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($g,{type:$g},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[$g];l!==void 0&&n(!!l),ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oS()||Ny()||ll()}}const VS=oV;class aV{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Zi("unexpected MultiFactorSessionType")}}}class Wy extends aV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Wy(e)}_finalizeEnroll(e,n,r){return DL(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return JL(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class FS{constructor(){}static assertion(e){return Wy._fromCredential(e)}}FS.FACTOR_ID="phone";var fI="@firebase/auth",pI="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function cV(t){sr(new Ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;W(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aS(t)},f=new Rx(r,s,o,d);return xx(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sr(new Ri("auth-internal",e=>{const n=Ct(e.getProvider("auth").getImmediate());return(r=>new lV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(fI,pI,uV(t)),Bn(fI,pI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=5*60,dV=NA("authIdTokenMaxAge")||hV;let mI=null;const fV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dV)return;const s=n==null?void 0:n.token;mI!==s&&(mI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function US(t=Dc()){const e=Co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Dx(t,{popupRedirectResolver:VS,persistence:[Ha,Xf,gs]}),r=NA("authTokenSyncURL");if(r){const o=fV(r);PL(n,o,()=>o(n.currentUser)),CL(n,l=>o(l))}const s=kA("auth");return s&&uS(n,`http://${s}`),n}cV("Browser");var pV="firebase",mV="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(pV,mV,"app");var gV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,Ky=Ky||{},Ce=gV||self;function ip(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Uc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vV(t){return Object.prototype.hasOwnProperty.call(t,Hg)&&t[Hg]||(t[Hg]=++yV)}var Hg="closure_uid_"+(1e9*Math.random()>>>0),yV=0;function _V(t,e,n){return t.call.apply(t.bind,arguments)}function wV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Cn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Cn=_V:Cn=wV,Cn.apply(null,arguments)}function bd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function cn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(r,l)}}function Ts(){this.s=this.s,this.o=this.o}var EV=0;Ts.prototype.s=!1;Ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),EV!=0)&&vV(this)};Ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Gy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function gI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ip(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=r[l]}else t.push(r)}}function Pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var bV=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ce.addEventListener("test",()=>{},e),Ce.removeEventListener("test",()=>{},e)}catch{}return t}();function hc(t){return/^[\s\xa0]*$/.test(t)}function rp(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Ji(t){return rp().indexOf(t)!=-1}function zy(t){return zy[" "](t),t}zy[" "]=function(){};function IV(t,e){var n=m4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TV=Ji("Opera"),qa=Ji("Trident")||Ji("MSIE"),jS=Ji("Edge"),bv=jS||qa,$S=Ji("Gecko")&&!(rp().toLowerCase().indexOf("webkit")!=-1&&!Ji("Edge"))&&!(Ji("Trident")||Ji("MSIE"))&&!Ji("Edge"),AV=rp().toLowerCase().indexOf("webkit")!=-1&&!Ji("Edge");function HS(){var t=Ce.document;return t?t.documentMode:void 0}var Iv;e:{var qg="",Wg=function(){var t=rp();if($S)return/rv:([^\);]+)(\)|;)/.exec(t);if(jS)return/Edge\/([\d\.]+)/.exec(t);if(qa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(AV)return/WebKit\/(\S+)/.exec(t);if(TV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wg&&(qg=Wg?Wg[1]:""),qa){var Kg=HS();if(Kg!=null&&Kg>parseFloat(qg)){Iv=String(Kg);break e}}Iv=qg}var Tv;if(Ce.document&&qa){var vI=HS();Tv=vI||parseInt(Iv,10)||void 0}else Tv=void 0;var SV=Tv;function dc(t,e){if(Pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($S){e:{try{zy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dc.$.h.call(this)}}cn(dc,Pn);var RV={2:"touch",3:"pen",4:"mouse"};dc.prototype.h=function(){dc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bc="closure_listenable_"+(1e6*Math.random()|0),CV=0;function PV(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++CV,this.fa=this.ia=!1}function sp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Yy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function kV(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function qS(t){const e={};for(const n in t)e[n]=t[n];return e}const yI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<yI.length;o++)n=yI[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function op(t){this.src=t,this.g={},this.h=0}op.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=Sv(t,e,r,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new PV(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function Av(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=BS(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(sp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sv(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var Qy="closure_lm_"+(1e6*Math.random()|0),Gg={};function KS(t,e,n,r,s){if(r&&r.once)return zS(t,e,n,r,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)KS(t,e[o],n,r,s);return null}return n=Zy(n),t&&t[Bc]?t.O(e,n,Uc(r)?!!r.capture:!!r,s):GS(t,e,n,!1,r,s)}function GS(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var l=Uc(s)?!!s.capture:!!s,c=Xy(t);if(c||(t[Qy]=c=new op(t)),n=c.add(e,n,r,l,o),n.proxy)return n;if(r=OV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bV||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(QS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OV(){function t(n){return e.call(t.src,t.listener,n)}const e=NV;return t}function zS(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)zS(t,e[o],n,r,s);return null}return n=Zy(n),t&&t[Bc]?t.P(e,n,Uc(r)?!!r.capture:!!r,s):GS(t,e,n,!0,r,s)}function YS(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)YS(t,e[o],n,r,s);else r=Uc(r)?!!r.capture:!!r,n=Zy(n),t&&t[Bc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Sv(o,n,r,s),-1<n&&(sp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Xy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sv(e,n,r,s)),(n=-1<t?e[t]:null)&&Jy(n))}function Jy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bc])Av(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xy(e))?(Av(n,t),n.h==0&&(n.src=null,e[Qy]=null)):sp(t)}}}function QS(t){return t in Gg?Gg[t]:Gg[t]="on"+t}function NV(t,e){if(t.fa)t=!0;else{e=new dc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Jy(t),t=n.call(r,e)}return t}function Xy(t){return t=t[Qy],t instanceof op?t:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zy(t){return typeof t=="function"?t:(t[zg]||(t[zg]=function(e){return t.handleEvent(e)}),t[zg])}function un(){Ts.call(this),this.i=new op(this),this.S=this,this.J=null}cn(un,Ts);un.prototype[Bc]=!0;un.prototype.removeEventListener=function(t,e,n,r){YS(this,t,e,n,r)};function _n(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pn(e,t);else if(e instanceof Pn)e.target=e.target||t;else{var s=e;e=new Pn(r,t),WS(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=Id(l,r,!0,e)&&s}if(l=e.g=t,s=Id(l,r,!0,e)&&s,s=Id(l,r,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=Id(l,r,!1,e)&&s}un.prototype.N=function(){if(un.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sp(n[r]);delete t.g[e],t.h--}}this.J=null};un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};un.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Id(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,d=l.la||l.src;l.ia&&Av(t.i,l),s=c.call(d,r)!==!1&&s}}return s&&!r.defaultPrevented}var e_=Ce.JSON.stringify;class DV{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function xV(){var t=t_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LV{constructor(){this.h=this.g=null}add(e,n){const r=JS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var JS=new DV(()=>new MV,t=>t.reset());class MV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VV(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function FV(t){Ce.setTimeout(()=>{throw t},0)}let fc,pc=!1,t_=new LV,XS=()=>{const t=Ce.Promise.resolve(void 0);fc=()=>{t.then(UV)}};var UV=()=>{for(var t;t=xV();){try{t.h.call(t.g)}catch(n){FV(n)}var e=JS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}pc=!1};function ap(t,e){un.call(this),this.h=t||1,this.g=e||Ce,this.j=Cn(this.qb,this),this.l=Date.now()}cn(ap,un);Z=ap.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_n(this,"tick"),this.ga&&(n_(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function n_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Z.N=function(){ap.$.N.call(this),n_(this),delete this.g};function i_(t,e,n){if(typeof t=="function")n&&(t=Cn(t,n));else if(t&&typeof t.handleEvent=="function")t=Cn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function ZS(t){t.g=i_(()=>{t.g=null,t.i&&(t.i=!1,ZS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class BV extends Ts{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZS(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mc(t){Ts.call(this),this.h=t,this.g={}}cn(mc,Ts);var _I=[];function eR(t,e,n,r){Array.isArray(n)||(n&&(_I[0]=n.toString()),n=_I);for(var s=0;s<n.length;s++){var o=KS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function tR(t){Yy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jy(e)},t),t.g={}}mc.prototype.N=function(){mc.$.N.call(this),tR(this)};mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lp(){this.g=!0}lp.prototype.Ea=function(){this.g=!1};function jV(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(1<f.length){var m=f[0];f=f[1];var v=m.split("_");l=2<=v.length&&v[1]=="type"?l+(m+"="+f+"&"):l+(m+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function $V(t,e,n,r,s,o,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function Ca(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qV(t,n)+(r?" "+r:"")})}function HV(t,e){t.info(function(){return"TIMEOUT: "+e})}lp.prototype.info=function(){};function qV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return e_(n)}catch{return e}}var ko={},wI=null;function up(){return wI=wI||new un}ko.Ta="serverreachability";function nR(t){Pn.call(this,ko.Ta,t)}cn(nR,Pn);function gc(t){const e=up();_n(e,new nR(e))}ko.STAT_EVENT="statevent";function iR(t,e){Pn.call(this,ko.STAT_EVENT,t),this.stat=e}cn(iR,Pn);function Un(t){const e=up();_n(e,new iR(e,t))}ko.Ua="timingevent";function rR(t,e){Pn.call(this,ko.Ua,t),this.size=e}cn(rR,Pn);function jc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var cp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function r_(){}r_.prototype.h=null;function EI(t){return t.h||(t.h=t.i())}function oR(){}var $c={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function s_(){Pn.call(this,"d")}cn(s_,Pn);function o_(){Pn.call(this,"c")}cn(o_,Pn);var Rv;function hp(){}cn(hp,r_);hp.prototype.g=function(){return new XMLHttpRequest};hp.prototype.i=function(){return{}};Rv=new hp;function Hc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new mc(this),this.P=WV,t=bv?125:void 0,this.V=new ap(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aR}function aR(){this.i=null,this.g="",this.h=!1}var WV=45e3,Cv={},cf={};Z=Hc.prototype;Z.setTimeout=function(t){this.P=t};function Pv(t,e,n){t.L=1,t.v=fp(Cr(e)),t.s=n,t.S=!0,lR(t,null)}function lR(t,e){t.G=Date.now(),qc(t),t.A=Cr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),gR(n.i,"t",r),t.C=0,n=t.l.J,t.h=new aR,t.g=VR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new BV(Cn(t.Pa,t,t.g),t.O)),eR(t.U,t.g,"readystatechange",t.nb),e=t.I?qS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),gc(),jV(t.j,t.u,t.A,t.m,t.W,t.s)}Z.nb=function(t){t=t.target;const e=this.M;e&&er(t)==3?e.l():this.Pa(t)};Z.Pa=function(t){try{if(t==this.g)e:{const m=er(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>m)&&(m!=3||bv||this.g&&(this.h.h||this.g.ja()||AI(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?gc(3):gc(2)),dp(this);var n=this.g.da();this.ca=n;t:if(uR(this)){var r=AI(this.g);t="";var s=r.length,o=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Gu(this);var l="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,$V(this.j,this.u,this.A,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hc(c)){var f=c;break t}}f=null}if(n=f)Ca(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kv(this,n);else{this.i=!1,this.o=3,Un(12),no(this),Gu(this);break e}}this.S?(cR(this,m,l),bv&&this.i&&m==3&&(eR(this.U,this.V,"tick",this.mb),this.V.start())):(Ca(this.j,this.m,l,null),kv(this,l)),m==4&&no(this),this.i&&!this.J&&(m==4?DR(this.l,this):(this.i=!1,qc(this)))}else d4(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),no(this),Gu(this)}}}catch{}finally{}};function uR(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function cR(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=KV(t,n),s==cf){e==4&&(t.o=4,Un(14),r=!1),Ca(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Cv){t.o=4,Un(15),Ca(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ca(t.j,t.m,s,null),kv(t,s);uR(t)&&s!=cf&&s!=Cv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),d_(e),e.M=!0,Un(11))):(Ca(t.j,t.m,n,"[Invalid Chunked Response]"),no(t),Gu(t))}Z.mb=function(){if(this.g){var t=er(this.g),e=this.g.ja();this.C<e.length&&(dp(this),cR(this,t,e),this.i&&t!=4&&qc(this))}};function KV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?cf:(n=Number(e.substring(n,r)),isNaN(n)?Cv:(r+=1,r+n>e.length?cf:(e=e.slice(r,r+n),t.C=r+n,e)))}Z.cancel=function(){this.J=!0,no(this)};function qc(t){t.Y=Date.now()+t.P,hR(t,t.P)}function hR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jc(Cn(t.lb,t),e)}function dp(t){t.B&&(Ce.clearTimeout(t.B),t.B=null)}Z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(HV(this.j,this.A),this.L!=2&&(gc(),Un(17)),no(this),this.o=2,Gu(this)):hR(this,this.Y-t)};function Gu(t){t.l.H==0||t.J||DR(t.l,t)}function no(t){dp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,n_(t.V),tR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ov(n.i,t))){if(!t.K&&Ov(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ff(n),gp(n);else break e;h_(n),Un(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=jc(Cn(n.ib,n),6e3));if(1>=_R(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else io(n,11)}else if((t.K||n.g==t)&&ff(n),!hc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const m=f[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const _=f[5];_!=null&&typeof _=="number"&&0<_&&(r=1.5*_,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const E=t.g;if(E){const A=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var o=r.i;o.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(a_(o,o.h),o.h=null))}if(r.F){const y=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,pt(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var l=t;if(r.wa=MR(r,r.J?r.pa:null,r.Y),l.K){wR(r.i,l);var c=l,d=r.L;d&&c.setTimeout(d),c.B&&(dp(c),qc(c)),r.g=l}else OR(r);0<n.j.length&&vp(n)}else f[0]!="stop"&&f[0]!="close"||io(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?io(n,7):c_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}gc(4)}catch{}}function GV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ip(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ip(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function dR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ip(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=zV(t),r=GV(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var fR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ho(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ho){this.h=t.h,hf(this,t.j),this.s=t.s,this.g=t.g,df(this,t.m),this.l=t.l;var e=t.i,n=new vc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bI(this,n),this.o=t.o}else t&&(e=String(t).match(fR))?(this.h=!1,hf(this,e[1]||"",!0),this.s=Vu(e[2]||""),this.g=Vu(e[3]||"",!0),df(this,e[4]),this.l=Vu(e[5]||"",!0),bI(this,e[6]||"",!0),this.o=Vu(e[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}ho.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fu(e,II,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fu(e,II,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fu(n,n.charAt(0)=="/"?XV:JV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fu(n,e4)),t.join("")};function Cr(t){return new ho(t)}function hf(t,e,n){t.j=n?Vu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function df(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bI(t,e,n){e instanceof vc?(t.i=e,t4(t.i,t.h)):(n||(e=Fu(e,ZV)),t.i=new vc(e,t.h))}function pt(t,e,n){t.i.set(e,n)}function fp(t){return pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Vu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,QV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function QV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var II=/[#\/\?@]/g,JV=/[#\?:]/g,XV=/[#\?]/g,ZV=/[#\?@]/g,e4=/#/g;function vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function As(t){t.g||(t.g=new Map,t.h=0,t.i&&YV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=vc.prototype;Z.add=function(t,e){As(this),this.i=null,t=hl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pR(t,e){As(t),e=hl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mR(t,e){return As(t),e=hl(t,e),t.g.has(e)}Z.forEach=function(t,e){As(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Z.ta=function(){As(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};Z.Z=function(t){As(this);let e=[];if(typeof t=="string")mR(this,t)&&(e=e.concat(this.g.get(hl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return As(this),this.i=null,t=hl(this,t),mR(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gR(t,e,n){pR(t,e),0<n.length&&(t.i=null,t.g.set(hl(t,e),Gy(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=o;l[r]!==""&&(s+="="+encodeURIComponent(String(l[r]))),t.push(s)}}return this.i=t.join("&")};function hl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function t4(t,e){e&&!t.j&&(As(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(pR(this,r),gR(this,s,n))},t)),t.j=e}var n4=class{constructor(t,e){this.g=t,this.map=e}};function vR(t){this.l=t||i4,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var i4=10;function yR(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _R(t){return t.h?1:t.g?t.g.size:0}function Ov(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function a_(t,e){t.g?t.g.add(e):t.h=e}function wR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}vR.prototype.cancel=function(){if(this.i=ER(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ER(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Gy(t.i)}var r4=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function s4(){this.g=new r4}function o4(t,e,n){const r=n||"";try{dR(t,function(s,o){let l=s;Uc(s)&&(l=e_(s)),e.push(r+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function a4(t,e){const n=new lp;if(Ce.Image){const r=new Image;r.onload=bd(Td,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bd(Td,n,r,"TestLoadImage: error",!1,e),r.onabort=bd(Td,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bd(Td,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Td(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Wc(t){this.l=t.ec||null,this.j=t.ob||!1}cn(Wc,r_);Wc.prototype.g=function(){return new pp(this.l,this.j)};Wc.prototype.i=function(t){return function(){return t}}({});function pp(t,e){un.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=l_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(pp,un);var l_=0;Z=pp.prototype;Z.open=function(t,e){if(this.readyState!=l_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yc(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=l_};Z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yc(this)),this.g&&(this.readyState=3,yc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function bR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kc(this):yc(this),this.readyState==3&&bR(this)}};Z.Za=function(t){this.g&&(this.response=this.responseText=t,Kc(this))};Z.Ya=function(t){this.g&&(this.response=t,Kc(this))};Z.ka=function(){this.g&&Kc(this)};function Kc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yc(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var l4=Ce.JSON.parse;function Pt(t){un.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=IR,this.L=this.M=!1}cn(Pt,un);var IR="",u4=/^https?$/i,c4=["POST","PUT"];Z=Pt.prototype;Z.Oa=function(t){this.M=t};Z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rv.g(),this.C=this.u?EI(this.u):EI(Rv),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){TI(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Ce.FormData&&t instanceof Ce.FormData,!(0<=BS(c4,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SR(this),0<this.B&&((this.L=h4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=i_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){TI(this,o)}};function h4(t){return qa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.ua=function(){typeof Ky<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_n(this,"timeout"),this.abort(8))};function TI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,TR(t),mp(t)}function TR(t){t.F||(t.F=!0,_n(t,"complete"),_n(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,_n(this,"complete"),_n(this,"abort"),mp(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mp(this,!0)),Pt.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?AR(this):this.kb())};Z.kb=function(){AR(this)};function AR(t){if(t.h&&typeof Ky<"u"&&(!t.C[1]||er(t)!=4||t.da()!=2)){if(t.v&&er(t)==4)i_(t.La,0,t);else if(_n(t,"readystatechange"),er(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=l===0){var s=String(t.I).match(fR)[1]||null;!s&&Ce.self&&Ce.self.location&&(s=Ce.self.location.protocol.slice(0,-1)),r=!u4.test(s?s.toLowerCase():"")}n=r}if(n)_n(t,"complete"),_n(t,"success");else{t.m=6;try{var o=2<er(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",TR(t)}}finally{mp(t)}}}}function mp(t,e){if(t.g){SR(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||_n(t,"ready");try{n.onreadystatechange=r}catch{}}}function SR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}Z.isActive=function(){return!!this.g};function er(t){return t.g?t.g.readyState:0}Z.da=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),l4(e)}};function AI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case IR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function d4(t){const e={};t=(t.g&&2<=er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(hc(t[r]))continue;var n=VV(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}kV(e,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function RR(t){let e="";return Yy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function u_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=RR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pt(t,e,n))}function Su(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CR(t){this.Ga=0,this.j=[],this.l=new lp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Su("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Su("baseRetryDelayMs",5e3,t),this.hb=Su("retryDelaySeedMs",1e4,t),this.eb=Su("forwardChannelMaxRetries",2,t),this.xa=Su("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new vR(t&&t.concurrentRequestLimit),this.Ja=new s4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=CR.prototype;Z.ra=8;Z.H=1;function c_(t){if(PR(t),t.H==3){var e=t.W++,n=Cr(t.I);if(pt(n,"SID",t.K),pt(n,"RID",e),pt(n,"TYPE","terminate"),Gc(t,n),e=new Hc(t,t.l,e),e.L=2,e.v=fp(Cr(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=VR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qc(e)}LR(t)}function gp(t){t.g&&(d_(t),t.g.cancel(),t.g=null)}function PR(t){gp(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),ff(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function vp(t){if(!yR(t.i)&&!t.m){t.m=!0;var e=t.Na;fc||XS(),pc||(fc(),pc=!0),t_.add(e,t),t.C=0}}function f4(t,e){return _R(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jc(Cn(t.Na,t,e),xR(t,t.C)),t.C++,!0)}Z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Hc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=qS(o),WS(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=kR(this,s,e),n=Cr(this.I),pt(n,"RID",t),pt(n,"CVER",22),this.F&&pt(n,"X-HTTP-Session-Id",this.F),Gc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(RR(o)))+"&"+e:this.o&&u_(n,this.o,o)),a_(this.i,s),this.bb&&pt(n,"TYPE","init"),this.P?(pt(n,"$req",e),pt(n,"SID","null"),s.aa=!0,Pv(s,n,null)):Pv(s,n,e),this.H=2}}else this.H==3&&(t?SI(this,t):this.j.length==0||yR(this.i)||SI(this))};function SI(t,e){var n;e?n=e.m:n=t.W++;const r=Cr(t.I);pt(r,"SID",t.K),pt(r,"RID",n),pt(r,"AID",t.V),Gc(t,r),t.o&&t.s&&u_(r,t.o,t.s),n=new Hc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=kR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),a_(t.i,n),Pv(n,r,e)}function Gc(t,e){t.na&&Yy(t.na,function(n,r){pt(e,r,n)}),t.h&&dR({},function(n,r){pt(e,r,n)})}function kR(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Cn(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let d=0;d<n;d++){let f=s[d].g;const m=s[d].map;if(f-=o,0>f)o=Math.max(0,s[d].g-100),c=!1;else try{o4(m,l,"req"+f+"_")}catch{r&&r(m)}}if(c){r=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;fc||XS(),pc||(fc(),pc=!0),t_.add(e,t),t.A=0}}function h_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jc(Cn(t.Ma,t),xR(t,t.A)),t.A++,!0)}Z.Ma=function(){if(this.u=null,NR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jc(Cn(this.jb,this),t)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Un(10),gp(this),NR(this))};function d_(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function NR(t){t.g=new Hc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Cr(t.wa);pt(e,"RID","rpc"),pt(e,"SID",t.K),pt(e,"AID",t.V),pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pt(e,"TO",t.qa),pt(e,"TYPE","xmlhttp"),Gc(t,e),t.o&&t.s&&u_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fp(Cr(e)),n.s=null,n.S=!0,lR(n,t)}Z.ib=function(){this.v!=null&&(this.v=null,gp(this),h_(this),Un(19))};function ff(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function DR(t,e){var n=null;if(t.g==e){ff(t),d_(t),t.g=null;var r=2}else if(Ov(t.i,e))n=e.F,wR(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=up(),_n(r,new rR(r,n)),vp(t)}else OR(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&f4(t,e)||r==2&&h_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:io(t,5);break;case 4:io(t,10);break;case 3:io(t,6);break;default:io(t,2)}}}function xR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function io(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Cn(t.pb,t);n||(n=new ho("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||hf(n,"https"),fp(n)),a4(n.toString(),r)}else Un(2);t.H=0,t.h&&t.h.za(e),LR(t),PR(t)}Z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Un(2)):(this.l.info("Failed to ping google.com"),Un(1))};function LR(t){if(t.H=0,t.ma=[],t.h){const e=ER(t.i);(e.length!=0||t.j.length!=0)&&(gI(t.ma,e),gI(t.ma,t.j),t.i.i.length=0,Gy(t.j),t.j.length=0),t.h.ya()}}function MR(t,e,n){var r=n instanceof ho?Cr(n):new ho(n);if(r.g!="")e&&(r.g=e+"."+r.g),df(r,r.m);else{var s=Ce.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new ho(null);r&&hf(o,r),e&&(o.g=e),s&&df(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&pt(r,n,e),pt(r,"VER",t.ra),Gc(t,r),r}function VR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Pt(new Wc({ob:!0})):new Pt(t.va),e.Oa(t.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function FR(){}Z=FR.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function pf(){if(qa&&!(10<=Number(SV)))throw Error("Environmental error: no available transport.")}pf.prototype.g=function(t,e){return new oi(t,e)};function oi(t,e){un.call(this),this.g=new CR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new dl(this)}cn(oi,un);oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Un(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=MR(t,null,t.Y),vp(t)};oi.prototype.close=function(){c_(this.g)};oi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=e_(t),t=n);e.j.push(new n4(e.fb++,t)),e.H==3&&vp(e)};oi.prototype.N=function(){this.g.h=null,delete this.j,c_(this.g),delete this.g,oi.$.N.call(this)};function UR(t){s_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}cn(UR,s_);function BR(){o_.call(this),this.status=1}cn(BR,o_);function dl(t){this.g=t}cn(dl,FR);dl.prototype.Ba=function(){_n(this.g,"a")};dl.prototype.Aa=function(t){_n(this.g,new UR(t))};dl.prototype.za=function(t){_n(this.g,new BR)};dl.prototype.ya=function(){_n(this.g,"b")};function p4(){this.blockSize=-1}function Pi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(Pi,p4);Pi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}Pi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)Yg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){Yg(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){Yg(this,r),s=0;break}}this.h=s,this.i+=e};Pi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function at(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var m4={};function f_(t){return-128<=t&&128>t?IV(t,function(e){return new at([e|0],0>e?-1:0)}):new at([t|0],0>t?-1:0)}function tr(t){if(isNaN(t)||!isFinite(t))return Na;if(0>t)return pn(tr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Nv;return new at(e,0)}function jR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pn(jR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=tr(Math.pow(e,8)),r=Na,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=tr(Math.pow(e,o)),r=r.R(o).add(tr(l))):(r=r.R(n),r=r.add(tr(l)))}return r}var Nv=4294967296,Na=f_(0),Dv=f_(1),RI=f_(16777216);Z=at.prototype;Z.ea=function(){if(ci(this))return-pn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Nv+r)*e,e*=Nv}return t};Z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wr(this))return"0";if(ci(this))return"-"+pn(this).toString(t);for(var e=tr(Math.pow(t,6)),n=this,r="";;){var s=gf(n,e).g;n=mf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,wr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function wr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ci(t){return t.h==-1}Z.X=function(t){return t=mf(this,t),ci(t)?-1:wr(t)?0:1};function pn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new at(n,~t.h).add(Dv)}Z.abs=function(){return ci(this)?pn(this):this};Z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new at(n,n[n.length-1]&-2147483648?-1:0)};function mf(t,e){return t.add(pn(e))}Z.R=function(t){if(wr(this)||wr(t))return Na;if(ci(this))return ci(t)?pn(this).R(pn(t)):pn(pn(this).R(t));if(ci(t))return pn(this.R(pn(t)));if(0>this.X(RI)&&0>t.X(RI))return tr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,l=this.D(r)&65535,c=t.D(s)>>>16,d=t.D(s)&65535;n[2*r+2*s]+=l*d,Ad(n,2*r+2*s),n[2*r+2*s+1]+=o*d,Ad(n,2*r+2*s+1),n[2*r+2*s+1]+=l*c,Ad(n,2*r+2*s+1),n[2*r+2*s+2]+=o*c,Ad(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new at(n,0)};function Ad(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ru(t,e){this.g=t,this.h=e}function gf(t,e){if(wr(e))throw Error("division by zero");if(wr(t))return new Ru(Na,Na);if(ci(t))return e=gf(pn(t),e),new Ru(pn(e.g),pn(e.h));if(ci(e))return e=gf(t,pn(e)),new Ru(pn(e.g),e.h);if(30<t.g.length){if(ci(t)||ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dv,r=e;0>=r.X(t);)n=CI(n),r=CI(r);var s=wa(n,1),o=wa(r,1);for(r=wa(r,2),n=wa(n,2);!wr(r);){var l=o.add(r);0>=l.X(t)&&(s=s.add(n),o=l),r=wa(r,1),n=wa(n,1)}return e=mf(t,s.R(e)),new Ru(s,e)}for(s=Na;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=tr(n),l=o.R(e);ci(l)||0<l.X(t);)n-=r,o=tr(n),l=o.R(e);wr(o)&&(o=Dv),s=s.add(o),t=mf(t,l)}return new Ru(s,t)}Z.gb=function(t){return gf(this,t).h};Z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new at(n,this.h&t.h)};Z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new at(n,this.h|t.h)};Z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new at(n,this.h^t.h)};function CI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new at(n,t.h)}function wa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new at(s,t.h)}pf.prototype.createWebChannel=pf.prototype.g;oi.prototype.send=oi.prototype.u;oi.prototype.open=oi.prototype.m;oi.prototype.close=oi.prototype.close;cp.NO_ERROR=0;cp.TIMEOUT=8;cp.HTTP_ERROR=6;sR.COMPLETE="complete";oR.EventType=$c;$c.OPEN="a";$c.CLOSE="b";$c.ERROR="c";$c.MESSAGE="d";un.prototype.listen=un.prototype.O;Pt.prototype.listenOnce=Pt.prototype.P;Pt.prototype.getLastError=Pt.prototype.Sa;Pt.prototype.getLastErrorCode=Pt.prototype.Ia;Pt.prototype.getStatus=Pt.prototype.da;Pt.prototype.getResponseJson=Pt.prototype.Wa;Pt.prototype.getResponseText=Pt.prototype.ja;Pt.prototype.send=Pt.prototype.ha;Pt.prototype.setWithCredentials=Pt.prototype.Oa;Pi.prototype.digest=Pi.prototype.l;Pi.prototype.reset=Pi.prototype.reset;Pi.prototype.update=Pi.prototype.j;at.prototype.add=at.prototype.add;at.prototype.multiply=at.prototype.R;at.prototype.modulo=at.prototype.gb;at.prototype.compare=at.prototype.X;at.prototype.toNumber=at.prototype.ea;at.prototype.toString=at.prototype.toString;at.prototype.getBits=at.prototype.D;at.fromNumber=tr;at.fromString=jR;var g4=function(){return new pf},v4=function(){return up()},Qg=cp,y4=sR,_4=ko,PI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},w4=Wc,Sd=oR,E4=Pt,b4=Pi,Da=at;const kI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Hf("@firebase/firestore");function Cu(){return yo.logLevel}function le(t,...e){if(yo.logLevel<=Be.DEBUG){const n=e.map(p_);yo.debug(`Firestore (${fl}): ${t}`,...n)}}function Pr(t,...e){if(yo.logLevel<=Be.ERROR){const n=e.map(p_);yo.error(`Firestore (${fl}): ${t}`,...n)}}function Wa(t,...e){if(yo.logLevel<=Be.WARN){const n=e.map(p_);yo.warn(`Firestore (${fl}): ${t}`,...n)}}function p_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+t;throw Pr(e),new Error(e)}function mt(t,e){t||Re()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class T4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A4{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new $R(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Tn(e)}}class S4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class R4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string"),this.R=n.token,new C4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=k4(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Ka(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Wt(0,0))}static max(){return new Pe(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ct extends _c{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ct(n)}static emptyPath(){return new ct([])}}const O4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends _c{construct(e,n,r){return new mn(e,n,r)}static isValidIdentifier(e){return O4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new X(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new X(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new X(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(o(),s++)}if(o(),l)throw new X(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(ct.fromString(e))}static fromName(e){return new me(ct.fromString(e).popFirst(5))}static empty(){return new me(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new ct(e.slice()))}}function N4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new vs(s,me.empty(),e)}function D4(t){return new vs(t.readTime,t.key,-1)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(Pe.min(),me.empty(),-1)}static max(){return new vs(Pe.max(),me.empty(),-1)}}function x4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==L4)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},d=>r(d))}),l=!0,o===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(m=>{l[f]=m,++c,c===o&&r(l)},m=>s(m))}})}static doWhile(e,n){return new B((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}m_._e=-1;function yp(t){return t==null}function vf(t){return t===0&&1/t==-1/0}function V4(t){return typeof t=="number"&&Number.isInteger(t)&&!vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??dn.RED,this.left=s??dn.EMPTY,this.right=o??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new dn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,s,o){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NI(this.data.getIterator())}getIteratorFrom(e){return new NI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class NI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new bi([])}unionWith(e){let n=new wn(mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WR("Invalid base64 string: "+o):o}}(e);return new On(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new On(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}On.EMPTY_BYTE_STRING=new On("");const F4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(mt(!!t),typeof t=="string"){let e=0;const n=F4.exec(t);if(mt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function g_(t){const e=t.mapValue.fields.__previous_value__;return _p(e)?g_(e):e}function wc(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,s,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_p(t)?4:B4(t)?9007199254740991:10:Re()}function ar(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=ys(s.timestampValue),c=ys(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return _o(s.bytesValue).isEqual(_o(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return jt(s.geoPointValue.latitude)===jt(o.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return jt(s.integerValue)===jt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=jt(s.doubleValue),c=jt(o.doubleValue);return l===c?vf(l)===vf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(OI(l)!==OI(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ar(l[d],c[d])))return!1;return!0}(t,e);default:return Re()}}function bc(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Ga(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=jt(o.integerValue||o.doubleValue),d=jt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return DI(t.timestampValue,e.timestampValue);case 4:return DI(wc(t),wc(e));case 5:return Xe(t.stringValue,e.stringValue);case 6:return function(o,l){const c=_o(o),d=_o(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=Xe(c[f],d[f]);if(m!==0)return m}return Xe(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=Xe(jt(o.latitude),jt(l.latitude));return c!==0?c:Xe(jt(o.longitude),jt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],d=l.values||[];for(let f=0;f<c.length&&f<d.length;++f){const m=Ga(c[f],d[f]);if(m)return m}return Xe(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Cd.mapValue&&l===Cd.mapValue)return 0;if(o===Cd.mapValue)return 1;if(l===Cd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const _=Xe(d[v],m[v]);if(_!==0)return _;const E=Ga(c[d[v]],f[m[v]]);if(E!==0)return E}return Xe(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Re()}}function DI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=ys(t),r=ys(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function za(t){return xv(t)}function xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=xv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${xv(n.fields[l])}`;return s+"}"}(t.mapValue):Re()}function yf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lv(t){return!!t&&"integerValue"in t}function v_(t){return!!t&&"arrayValue"in t}function xI(t){return!!t&&"nullValue"in t}function LI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=mn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=zu(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){pl(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new hi(zu(this.value))}}function KR(t){const e=[];return pl(t.fields,(n,r)=>{const s=new mn([n]);if(qd(r)){const o=KR(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r,s,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Sn(e,0,Pe.min(),Pe.min(),Pe.min(),hi.empty(),0)}static newFoundDocument(e,n,r,s){return new Sn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new Sn(e,2,n,Pe.min(),Pe.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new Sn(e,3,n,Pe.min(),Pe.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.position=e,this.inclusive=n}}function MI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?r=me.comparator(me.fromName(l.referenceValue),n.key):r=Ga(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function j4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{}class qt extends GR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new H4(e,n,r):n==="array-contains"?new K4(e,r):n==="in"?new G4(e,r):n==="not-in"?new z4(e,r):n==="array-contains-any"?new Y4(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q4(e,r):new W4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ga(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Ga(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends GR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ki(e,n)}matches(e){return zR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zR(t){return t.op==="and"}function YR(t){return $4(t)&&zR(t)}function $4(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function Mv(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+za(t.value);if(YR(t))return t.filters.map(e=>Mv(e)).join(",");{const e=t.filters.map(n=>Mv(n)).join(",");return`${t.op}(${e})`}}function QR(t,e){return t instanceof qt?function(r,s){return s instanceof qt&&r.op===s.op&&r.field.isEqual(s.field)&&ar(r.value,s.value)}(t,e):t instanceof ki?function(r,s){return s instanceof ki&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,l,c)=>o&&QR(l,s.filters[c]),!0):!1}(t,e):void Re()}function JR(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${za(n.value)}`}(t):t instanceof ki?function(n){return n.op.toString()+" {"+n.getFilters().map(JR).join(" ,")+"}"}(t):"Filter"}class H4 extends qt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class q4 extends qt{constructor(e,n){super(e,"in",n),this.keys=XR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W4 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=XR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class K4 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v_(n)&&bc(n.arrayValue,this.value)}}class G4 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class z4 extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bc(this.value.arrayValue,n)}}class Y4 extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n=null,r=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function FI(t,e=null,n=[],r=[],s=null,o=null,l=null){return new Q4(t,e,n,r,s,o,l)}function y_(t){const e=xe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>za(r)).join(",")),e.ce=n}return e.ce}function __(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VI(t.startAt,e.startAt)&&VI(t.endAt,e.endAt)}function Vv(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n=null,r=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function J4(t,e,n,r,s,o,l,c){return new Ss(t,e,n,r,s,o,l,c)}function wp(t){return new Ss(t)}function UI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w_(t){return t.collectionGroup!==null}function xa(t){const e=xe(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(mn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Ic(o,r))}),n.has(mn.keyField().canonicalString())||e.le.push(new Ic(mn.keyField(),r))}return e.le}function nr(t){const e=xe(t);return e.he||(e.he=X4(e,xa(t))),e.he}function X4(t,e){if(t.limitType==="F")return FI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Ic(s.field,o)});const n=t.endAt?new Ya(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ya(t.startAt.position,t.startAt.inclusive):null;return FI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e){const n=t.filters.concat([e]);return new Ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _f(t,e,n){return new Ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ep(t,e){return __(nr(t),nr(e))&&t.limitType===e.limitType}function ZR(t){return`${y_(nr(t))}|lt:${t.limitType}`}function Ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>JR(s)).join(", ")}]`),yp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>za(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>za(s)).join(",")),`Target(${r})`}(nr(t))}; limitType=${t.limitType})`}function bp(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of xa(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const f=MI(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,xa(r),s)||r.endAt&&!function(l,c,d){const f=MI(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,xa(r),s))}(t,e)}function Z4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eC(t){return(e,n)=>{let r=!1;for(const s of xa(t)){const o=eF(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function eF(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?Ga(d,f):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pl(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return qR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new bt(me.comparator);function kr(){return tF}const tC=new bt(me.comparator);function Uu(...t){let e=tC;for(const n of t)e=e.insert(n.key,n);return e}function nC(t){let e=tC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return Yu()}function iC(){return Yu()}function Yu(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const nF=new bt(me.comparator),iF=new wn(me.comparator);function je(...t){let e=iF;for(const n of t)e=e.add(n);return e}const rF=new wn(Xe);function sF(){return rF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function oF(t,e){return V4(e)?sC(e):rC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this._=void 0}}function aF(t,e,n){return t instanceof wf?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&_p(o)&&(o=g_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof Tc?aC(t,e):t instanceof Ac?lC(t,e):function(s,o){const l=oC(s,o),c=BI(l)+BI(s.Ie);return Lv(l)&&Lv(s.Ie)?sC(c):rC(s.serializer,c)}(t,e)}function lF(t,e,n){return t instanceof Tc?aC(t,e):t instanceof Ac?lC(t,e):n}function oC(t,e){return t instanceof Ef?function(r){return Lv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wf extends Ip{}class Tc extends Ip{constructor(e){super(),this.elements=e}}function aC(t,e){const n=uC(e);for(const r of t.elements)n.some(s=>ar(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ac extends Ip{constructor(e){super(),this.elements=e}}function lC(t,e){let n=uC(e);for(const r of t.elements)n=n.filter(s=>!ar(s,r));return{arrayValue:{values:n}}}class Ef extends Ip{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function BI(t){return jt(t.integerValue||t.doubleValue)}function uC(t){return v_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Tc&&s instanceof Tc||r instanceof Ac&&s instanceof Ac?Ka(r.elements,s.elements,ar):r instanceof Ef&&s instanceof Ef?ar(r.Ie,s.Ie):r instanceof wf&&s instanceof wf}(t.transform,e.transform)}class cF{constructor(e,n){this.version=e,this.transformResults=n}}class Ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tp{}function cC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new E_(t.key,Ti.none()):new Qc(t.key,t.data,Ti.none());{const n=t.data,r=hi.empty();let s=new wn(mn.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Oo(t.key,r,new bi(s.toArray()),Ti.none())}}function hF(t,e,n){t instanceof Qc?function(s,o,l){const c=s.value.clone(),d=$I(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(s,o,l){if(!Wd(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=$I(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(hC(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,r){return t instanceof Qc?function(o,l,c,d){if(!Wd(o.precondition,l))return c;const f=o.value.clone(),m=HI(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(o,l,c,d){if(!Wd(o.precondition,l))return c;const f=HI(o.fieldTransforms,d,l),m=l.data;return m.setAll(hC(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,l,c){return Wd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function dF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=oC(r.transform,s||null);o!=null&&(n===null&&(n=hi.empty()),n.set(r.field,o))}return n||null}function jI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ka(r,s,(o,l)=>uF(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qc extends Tp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends Tp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $I(t,e,n){const r=new Map;mt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);r.set(o.field,lF(l,c,n[s]))}return r}function HI(t,e,n){const r=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);r.set(s.field,aF(o,l,e))}return r}class E_ extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fF extends Tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&hF(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iC();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=cC(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,r)=>jI(n,r))&&Ka(this.baseMutations,e.baseMutations,(n,r)=>jI(n,r))}}class b_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){mt(e.mutations.length===r.length);let s=function(){return nF}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new b_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,qe;function vF(t){switch(t){default:return Re();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function dC(t){if(t===void 0)return Pr("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ut.OK:return D.OK;case Ut.CANCELLED:return D.CANCELLED;case Ut.UNKNOWN:return D.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return D.INTERNAL;case Ut.UNAVAILABLE:return D.UNAVAILABLE;case Ut.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ut.NOT_FOUND:return D.NOT_FOUND;case Ut.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ut.ABORTED:return D.ABORTED;case Ut.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ut.DATA_LOSS:return D.DATA_LOSS;default:return Re()}}(qe=Ut||(Ut={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new Da([4294967295,4294967295],0);function qI(t){const e=yF().encode(t),n=new b4;return n.update(e),new Uint8Array(n.digest())}function WI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Da([n,r],0),new Da([s,o],0)]}class I_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bu(`Invalid padding: ${n}`);if(r<0)throw new Bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Da.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Da.fromNumber(r)));return s.compare(_F)===1&&(s=new Da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=qI(e),[r,s]=WI(n);for(let o=0;o<this.hashCount;o++){const l=this.de(r,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new I_(o,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=qI(e),[r,s]=WI(n);for(let o=0;o<this.hashCount;o++){const l=this.de(r,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ap(Pe.min(),s,new bt(Xe),kr(),je())}}class Jc{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jc(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class fC{constructor(e,n){this.targetId=e,this.fe=n}}class pC{constructor(e,n,r=On.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class KI{constructor(){this.ge=0,this.pe=zI(),this.ye=On.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=je(),n=je(),r=je();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Re()}}),new Jc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=zI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class wF{constructor(e){this.Le=e,this.ke=new Map,this.qe=kr(),this.Qe=GI(),this.Ke=new bt(Xe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(Vv(o))if(r===0){const l=new me(o.path);this.We(n,l,Sn.newNoDocument(l,Pe.min()))}else mt(r===1);else{const l=this.Ze(n);if(l!==r){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=_o(r).toUint8Array()}catch(d){if(d instanceof WR)return Wa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new I_(l,s,o)}catch(d){return Wa(d instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Vv(c.target)){const d=new me(c.target.path);this.qe.get(d)!==null||this.st(l,d)||this.We(l,d,Sn.newNoDocument(d,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let r=je();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new Ap(e,n,this.Ke,this.qe,r);return this.qe=kr(),this.Qe=GI(),this.Ke=new bt(Xe),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new KI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new wn(Xe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new KI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function GI(){return new bt(me.comparator)}function zI(){return new bt(me.comparator)}const EF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),IF=(()=>({and:"AND",or:"OR"}))();class TF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uv(t,e){return t.useProto3Json||yp(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AF(t,e){return bf(t,e.toTimestamp())}function ir(t){return mt(!!t),Pe.fromTimestamp(function(n){const r=ys(n);return new Wt(r.seconds,r.nanos)}(t))}function T_(t,e){return function(r){return new ct(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function gC(t){const e=ct.fromString(t);return mt(wC(e)),e}function Bv(t,e){return T_(t.databaseId,e.path)}function Jg(t,e){const n=gC(e);if(n.get(1)!==t.databaseId.projectId)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(vC(n))}function jv(t,e){return T_(t.databaseId,e)}function SF(t){const e=gC(t);return e.length===4?ct.emptyPath():vC(e)}function $v(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vC(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YI(t,e,n){return{name:Bv(t,e),fields:n.value.mapValue.fields}}function RF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(mt(m===void 0||typeof m=="string"),On.fromBase64String(m||"")):(mt(m===void 0||m instanceof Uint8Array),On.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?D.UNKNOWN:dC(f.code);return new X(m,f.message||"")}(l);n=new pC(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jg(t,r.document.name),o=ir(r.document.updateTime),l=r.document.createTime?ir(r.document.createTime):Pe.min(),c=new hi({mapValue:{fields:r.document.fields}}),d=Sn.newFoundDocument(s,o,l,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Kd(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jg(t,r.document),o=r.readTime?ir(r.readTime):Pe.min(),l=Sn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new Kd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jg(t,r.document),o=r.removedTargetIds||[];n=new Kd([],o,s,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new gF(s,o),c=r.targetId;n=new fC(c,l)}}return n}function CF(t,e){let n;if(e instanceof Qc)n={update:YI(t,e.key,e.value)};else if(e instanceof E_)n={delete:Bv(t,e.key)};else if(e instanceof Oo)n={update:YI(t,e.key,e.data),updateMask:VF(e.fieldMask)};else{if(!(e instanceof fF))return Re();n={verify:Bv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof wf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Tc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ac)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ef)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:AF(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function PF(t,e){return t&&t.length>0?(mt(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?ir(s.updateTime):ir(o);return l.isEqual(Pe.min())&&(l=ir(o)),new cF(l,s.transformResults||[])}(n,e))):[]}function kF(t,e){return{documents:[jv(t,e.path)]}}function OF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(d){if(d.length!==0)return _C(ki.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(v){return{field:Ta(v.field),direction:xF(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Uv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function NF(t){let e=SF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){mt(r===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){const _=yC(v);return _ instanceof ki&&YR(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(_=>function(A){return new Ic(Aa(A.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(v){let _;return _=typeof v=="object"?v.value:v,yp(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(v){const _=!!v.before,E=v.values||[];return new Ya(E,_)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const _=!v.before,E=v.values||[];return new Ya(E,_)}(n.endAt)),J4(e,s,l,o,c,"F",d,f)}function DF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Aa(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Aa(n.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Aa(n.unaryFilter.field);return qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(n.unaryFilter.field);return qt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Aa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ki.create(n.compositeFilter.filters.map(r=>yC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function xF(t){return EF[t]}function LF(t){return bF[t]}function MF(t){return IF[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function Aa(t){return mn.fromServerFormat(t.fieldPath)}function _C(t){return t instanceof qt?function(n){if(n.op==="=="){if(LI(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(xI(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LI(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(xI(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:LF(n.op),value:n.value}}}(t):t instanceof ki?function(n){const r=n.getFilters().map(s=>_C(s));return r.length===1?r[0]:{compositeFilter:{op:MF(n.op),filters:r}}}(t):Re()}function VF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,o=Pe.min(),l=Pe.min(),c=On.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this.ut=e}}function UF(t){const e=NF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.on=new jF}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(vs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class jF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(ct.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Qa(0)}static Nn(){return new Qa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this.changes=new ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qu(r.mutation,s,bi.empty(),Wt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const s=ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let l=Uu();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let o=kr();const l=Yu(),c=function(){return Yu()}();return n.forEach((d,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof Oo)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Qu(m.mutation,f,m.mutation.getFieldMask(),Wt.now())):l.set(f.key,bi.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var v;return c.set(f,new HF(m,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Yu();let s=new bt((l,c)=>l-c),o=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||bi.empty();m=c.applyToLocalView(f,m),r.set(d,m);const v=(s.get(c.batchId)||je()).add(d);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,v=iC();m.forEach(_=>{if(!o.has(_)){const E=cC(n.get(_),r.get(_));E!==null&&v.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return B.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return me.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):B.resolve(ro());let c=-1,d=o;return l.next(f=>B.forEach(f,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?B.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,je())).next(m=>({batchId:c,changes:nC(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=Uu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let l=Uu();return this.indexManager.getCollectionParents(e,o).next(c=>B.forEach(c,d=>{const f=function(v,_){return new Ss(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(m=>{m.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Sn.newInvalidDocument(m)))});let c=Uu();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&Qu(m.mutation,f,bi.empty(),Wt.now()),bp(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:UF(s.bundledQuery),readTime:ir(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.overlays=new bt(me.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return B.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.lt(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=ro(),o=n.length+1,l=new me(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new bt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=ro(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=ro(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=s)););return B.resolve(c)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new mF(n,r));let o=this.lr.get(n);o===void 0&&(o=je(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.hr=new wn(on.Pr),this.Ir=new wn(on.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new on(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new on(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new me(new ct([])),r=new on(n,e),s=new on(n,e+1),o=[];return this.Ir.forEachInRange([r,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new me(new ct([])),r=new on(n,e),s=new on(n,e+1);let o=je();return this.Ir.forEachInRange([r,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new on(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return me.comparator(e.key,n.key)||Xe(e.gr,n.gr)}static Tr(e,n){return Xe(e.gr,n.gr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wn(on.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pF(o,n,r,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new on(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return B.resolve(l)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),o=s<0?0:s;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),s=new on(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,s],l=>{const c=this.wr(l.gr);o.push(c)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(Xe);return n.forEach(s=>{const o=new on(s,0),l=new on(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{r=r.add(c.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const l=new on(new me(o),0);let c=new wn(Xe);return this.yr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.gr)),!0)},l),B.resolve(this.br(c))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){mt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,s=>{const o=new on(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new on(n,0),s=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.Cr=e,this.docs=function(){return new bt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(n))}getEntries(e,n){let r=kr();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Sn.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=kr();const l=n.path,c=new me(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||x4(D4(m),r)<=0||(s.has(m.key)||bp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Re()}vr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YF(this)}getSize(e){return B.resolve(this.size)}}class YF extends $F{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.persistence=e,this.Fr=new ml(n=>y_(n),__),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new A_,this.targetCount=0,this.Nr=Qa.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),B.waitFor(o).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.Br={},this.overlays={},this.Lr=new m_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new QF(this),this.indexManager=new BF,this.remoteDocumentCache=function(s){return new zF(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new FF(n),this.Kr=new WF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new GF(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new XF(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class XF extends M4{constructor(e){super(),this.currentSequenceNumber=e}}class S_{constructor(e){this.persistence=e,this.Gr=new A_,this.zr=null}static jr(e){return new S_(e)}get Hr(){if(this.zr)return this.zr;throw Re()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const s=me.fromPath(r);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,Pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=je(),s=je();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new R_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new ZF;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Cu()<=Be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(Cu()<=Be.DEBUG&&le("QueryEngine","Query:",Ia(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Cu()<=Be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):B.resolve())}zi(e,n){if(UI(n))return B.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=_f(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=je(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.Yi(n,c);return this.Zi(n,f,l,d.readTime)?this.zi(e,_f(n,null,"F")):this.Xi(e,f,n,d)}))})))}ji(e,n,r,s){return UI(n)||s.isEqual(Pe.min())?B.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,r,s)?B.resolve(null):(Cu()<=Be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ia(n)),this.Xi(e,l,n,N4(s,-1)).next(c=>c))})}Yi(e,n){let r=new wn(eC(e));return n.forEach((s,o)=>{bp(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,r){return Cu()<=Be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ia(n)),this.Gi.getDocumentsMatchingQuery(e,n,vs.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new bt(Xe),this.ns=new ml(o=>y_(o),__),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qF(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function nU(t,e,n,r){return new tU(t,e,n,r)}async function EC(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=je();for(const f of s){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function iU(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const v=f.batch,_=v.keys();let E=B.resolve();return _.forEach(A=>{E=E.next(()=>m.getEntry(d,A)).next(y=>{const b=f.docVersions.get(A);mt(b!==null),y.version.compareTo(b)<0&&(v.applyToRemoteDocument(y,f),y.isValidDocument()&&(y.setReadTime(f.commitVersion),m.addEntry(y)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=je();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bC(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function rU(t,e){const n=xe(t),r=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((m,v)=>{const _=s.get(v);if(!_)return;c.push(n.qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,m.addedDocuments,v)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(On.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(v,E),function(y,b,R){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(_,E,m)&&c.push(n.qr.updateTargetData(o,E))});let d=kr(),f=je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(sU(o,l,e.documentUpdates).next(m=>{d=m.us,f=m.cs})),!r.isEqual(Pe.min())){const m=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return B.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ts=s,o))}function sU(t,e,n){let r=je(),s=je();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=kr();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{us:l,cs:s}})}function oU(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aU(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(o=>o?(s=o,B.resolve(s)):n.qr.allocateTargetId(r).next(l=>(s=new os(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Hv(t,e,n){const r=xe(t),s=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Yc(l))throw l;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.ts=r.ts.remove(e),r.ns.delete(s.target)}function QI(t,e,n){const r=xe(t);let s=Pe.min(),o=je();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const v=xe(d),_=v.ns.get(m);return _!==void 0?B.resolve(v.ts.get(_)):v.qr.getTargetData(f,m)}(r,l,nr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.es.getDocumentsMatchingQuery(l,e,n?s:Pe.min(),n?o:je())).next(c=>(lU(r,Z4(e),c),{documents:c,ls:o})))}function lU(t,e,n){let r=t.rs.get(e)||Pe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class JI{constructor(){this.activeTargetIds=sF()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uU{constructor(){this.eo=new JI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new JI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function Xg(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class fU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,r,s,o,l){const c=Xg(),d=this.So(n,r);le("RestConnection",`Sending RPC '${n}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,d,f,s).then(m=>(le("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw Wa("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",d,"request:",s),m})}Co(n,r,s,o,l,c){return this.wo(n,r,s,o,l)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,r){const s=hU[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const o=Xg();return new Promise((l,c)=>{const d=new E4;d.setWithCredentials(!0),d.listenOnce(y4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Qg.NO_ERROR:const m=d.getResponseJson();le(In,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Qg.TIMEOUT:le(In,`RPC '${e}' ${o} timed out`),c(new X(D.DEADLINE_EXCEEDED,"Request time out"));break;case Qg.HTTP_ERROR:const v=d.getStatus();if(le(In,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=function(b){const R=b.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(R)>=0?R:D.UNKNOWN}(E.status);c(new X(A,E.message))}else c(new X(D.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new X(D.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{le(In,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);le(In,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,r,15)})}vo(e,n,r){const s=Xg(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=g4(),c=v4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new w4({})),this.bo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");le(In,`Creating RPC '${e}' stream ${s}: ${m}`,d);const v=l.createWebChannel(m,d);let _=!1,E=!1;const A=new dU({co:b=>{E?le(In,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(_||(le(In,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),le(In,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},lo:()=>v.close()}),y=(b,R,P)=>{b.listen(R,F=>{try{P(F)}catch(x){setTimeout(()=>{throw x},0)}})};return y(v,Sd.EventType.OPEN,()=>{E||le(In,`RPC '${e}' stream ${s} transport opened.`)}),y(v,Sd.EventType.CLOSE,()=>{E||(E=!0,le(In,`RPC '${e}' stream ${s} transport closed`),A.Ro())}),y(v,Sd.EventType.ERROR,b=>{E||(E=!0,Wa(In,`RPC '${e}' stream ${s} transport errored:`,b),A.Ro(new X(D.UNAVAILABLE,"The operation could not be completed")))}),y(v,Sd.EventType.MESSAGE,b=>{var R;if(!E){const P=b.data[0];mt(!!P);const F=P,x=F.error||((R=F[0])===null||R===void 0?void 0:R.error);if(x){le(In,`RPC '${e}' stream ${s} received error:`,x);const Q=x.status;let re=function(he){const Ve=Ut[he];if(Ve!==void 0)return dC(Ve)}(Q),fe=x.message;re===void 0&&(re=D.INTERNAL,fe="Unknown error status: "+Q+" with message "+x.message),E=!0,A.Ro(new X(re,fe)),v.close()}else le(In,`RPC '${e}' stream ${s} received:`,P),A.Vo(P)}}),y(c,_4.STAT_EVENT,b=>{b.stat===PI.PROXY?le(In,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===PI.NOPROXY&&le(In,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.Ao()},0),A}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t){return new TF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,s,o,l,c,d){this.si=e,this.Ko=r,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new IC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new X(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pU extends TC{constructor(e,n,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=RF(this.serializer,e),r=function(o){if(!("targetChange"in o))return Pe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?ir(l.readTime):Pe.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=$v(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=Vv(d)?{documents:kF(o,d)}:{query:OF(o,d)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=mC(o,l.resumeToken);const f=Uv(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pe.min())>0){c.readTime=bf(o,l.snapshotVersion.toTimestamp());const f=Uv(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=DF(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=$v(this.serializer),n.removeTarget=e,this.e_(n)}}class mU extends TC{constructor(e,n,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=PF(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.I_(r,n)}return mt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=$v(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CF(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(D.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,r,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(D.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class vU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Pr(n),this.f_=!1):le("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{r.enqueueAndForget(async()=>{No(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=xe(d);f.C_.add(4),await Xc(f),f.M_.set("Unknown"),f.C_.delete(4),await Rp(f)}(this))})}),this.M_=new vU(r,s)}}async function Rp(t){if(No(t))for(const e of t.v_)await e(!0)}async function Xc(t){for(const e of t.v_)await e(!1)}function AC(t,e){const n=xe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),k_(n)?P_(n):gl(n).Ho()&&C_(n,e))}function SC(t,e){const n=xe(t),r=gl(n);n.D_.delete(e),r.Ho()&&RC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():No(n)&&n.M_.set("Unknown"))}function C_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).u_(e)}function RC(t,e){t.x_.Oe(e),gl(t).c_(e)}function P_(t){t.x_=new wF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.M_.g_()}function k_(t){return No(t)&&!gl(t).jo()&&t.D_.size>0}function No(t){return xe(t).C_.size===0}function CC(t){t.x_=void 0}async function _U(t){t.D_.forEach((e,n)=>{C_(t,e)})}async function wU(t,e){CC(t),k_(t)?(t.M_.w_(e),P_(t)):t.M_.set("Unknown")}async function EU(t,e,n){if(t.M_.set("Online"),e instanceof pC&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await If(t,r)}else if(e instanceof Kd?t.x_.$e(e):e instanceof fC?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Pe.min()))try{const r=await bC(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.D_.get(f);m&&o.D_.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=o.D_.get(d);if(!m)return;o.D_.set(d,m.withResumeToken(On.EMPTY_BYTE_STRING,m.snapshotVersion)),RC(o,d);const v=new os(m.target,d,f,m.sequenceNumber);C_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await If(t,r)}}async function If(t,e,n){if(!Yc(e))throw e;t.C_.add(1),await Xc(t),t.M_.set("Offline"),n||(n=()=>bC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Rp(t)})}function PC(t,e){return e().catch(n=>If(t,n,e))}async function Cp(t){const e=xe(t),n=_s(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;bU(e);)try{const s=await oU(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,IU(e,s)}catch(s){await If(e,s)}kC(e)&&OC(e)}function bU(t){return No(t)&&t.b_.length<10}function IU(t,e){t.b_.push(e);const n=_s(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function kC(t){return No(t)&&!_s(t).jo()&&t.b_.length>0}function OC(t){_s(t).start()}async function TU(t){_s(t).E_()}async function AU(t){const e=_s(t);for(const n of t.b_)e.P_(n.mutations)}async function SU(t,e,n){const r=t.b_.shift(),s=b_.from(r,e,n);await PC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cp(t)}async function RU(t,e){e&&_s(t).h_&&await async function(r,s){if(function(l){return vF(l)&&l!==D.ABORTED}(s.code)){const o=r.b_.shift();_s(r).Yo(),await PC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Cp(r)}}(t,e),kC(t)&&OC(t)}async function ZI(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=No(n);n.C_.add(3),await Xc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Rp(n)}async function CU(t,e){const n=xe(t);e?(n.C_.delete(2),await Rp(n)):e||(n.C_.add(2),await Xc(n),n.M_.set("Unknown"))}function gl(t){return t.O_||(t.O_=function(n,r,s){const o=xe(n);return o.A_(),new pU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:_U.bind(null,t),Io:wU.bind(null,t),a_:EU.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),k_(t)?P_(t):t.M_.set("Unknown")):(await t.O_.stop(),CC(t))})),t.O_}function _s(t){return t.N_||(t.N_=function(n,r,s){const o=xe(n);return o.A_(),new mU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:TU.bind(null,t),Io:RU.bind(null,t),T_:AU.bind(null,t),I_:SU.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Cp(t)):(await t.N_.stop(),t.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const l=Date.now()+r,c=new O_(e,n,l,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N_(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Yc(t))return new X(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Uu(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.B_=new bt(me.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Re():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ja{constructor(e,n,r,s,o,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Ja(e,n,La.emptySet(n),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.k_=void 0,this.listeners=[]}}class kU{constructor(){this.queries=new ml(e=>ZR(e),Ep),this.onlineState="Unknown",this.q_=new Set}}async function D_(t,e){const n=xe(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new PU),s)try{o.k_=await n.onListen(r)}catch(l){const c=N_(l,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&L_(n)}async function x_(t,e){const n=xe(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function OU(t,e){const n=xe(t);let r=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(r=!0);l.k_=s}}r&&L_(n)}function NU(t,e,n){const r=xe(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function L_(t){t.q_.forEach(e=>{e.next()})}class M_{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.key=e}}class DC{constructor(e){this.key=e}}class DU{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=je(),this.mutatedKeys=je(),this._a=eC(e),this.aa=new La(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new eT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,v)=>{const _=s.get(m),E=bp(this.query,v)?v:null,A=!!_&&this.mutatedKeys.has(_.key),y=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;_&&E?_.data.isEqual(E.data)?A!==y&&(r.track({type:3,doc:E}),b=!0):this.ha(_,E)||(r.track({type:2,doc:E}),b=!0,(d&&this._a(E,d)>0||f&&this._a(E,f)<0)&&(c=!0)):!_&&E?(r.track({type:0,doc:E}),b=!0):_&&!E&&(r.track({type:1,doc:_}),b=!0,(d||f)&&(c=!0)),b&&(E?(l=l.add(E),o=y?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{aa:l,la:r,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,m)=>function(_,E){const A=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return A(_)-A(E)}(f.type,m.type)||this._a(f.doc,m.doc)),this.Pa(r);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,d=c!==this.sa;return this.sa=c,o.length!==0||d?{snapshot:new Ja(this.query,e.aa,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new eT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=je(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new DC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new NC(r))}),n}da(e){this.ia=e.ls,this.oa=je();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Ja.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class xU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LU{constructor(e){this.key=e,this.Ra=!1}}class MU{constructor(e,n,r,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new ml(c=>ZR(c),Ep),this.fa=new Map,this.ga=new Set,this.pa=new bt(me.comparator),this.ya=new Map,this.wa=new A_,this.Sa={},this.ba=new Map,this.Da=Qa.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function VU(t,e){const n=GU(t);let r,s;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.Aa();else{const l=await aU(n.localStore,nr(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=await FU(n,e,r,c==="current",l.resumeToken),n.isPrimaryClient&&AC(n.remoteStore,l)}return s}async function FU(t,e,n,r,s){t.va=(v,_,E)=>async function(y,b,R,P){let F=b.view.ca(R);F.Zi&&(F=await QI(y.localStore,b.query,!1).then(({documents:re})=>b.view.ca(re,F)));const x=P&&P.targetChanges.get(b.targetId),Q=b.view.applyChanges(F,y.isPrimaryClient,x);return nT(y,b.targetId,Q.Ta),Q.snapshot}(t,v,_,E);const o=await QI(t.localStore,e,!0),l=new DU(e,o.ls),c=l.ca(o.documents),d=Jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,d);nT(t,n,f.Ta);const m=new xU(e,n,l);return t.ma.set(e,m),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function UU(t,e){const n=xe(t),r=n.ma.get(e),s=n.fa.get(r.targetId);if(s.length>1)return n.fa.set(r.targetId,s.filter(o=>!Ep(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),SC(n.remoteStore,r.targetId),qv(n,r.targetId)}).catch(zc)):(qv(n,r.targetId),await Hv(n.localStore,r.targetId,!0))}async function BU(t,e,n){const r=zU(t);try{const s=await function(l,c){const d=xe(l),f=Wt.now(),m=c.reduce((E,A)=>E.add(A.key),je());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=kr(),y=je();return d.ss.getEntries(E,m).next(b=>{A=b,A.forEach((R,P)=>{P.isValidDocument()||(y=y.add(R))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,A)).next(b=>{v=b;const R=[];for(const P of c){const F=dF(P,v.get(P.key).overlayedDocument);F!=null&&R.push(new Oo(P.key,F,KR(F.value.mapValue),Ti.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,R,c)}).next(b=>{_=b;const R=b.applyToLocalDocumentSet(v,y);return d.documentOverlayCache.saveOverlays(E,b.batchId,R)})}).then(()=>({batchId:_.batchId,changes:nC(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let f=l.Sa[l.currentUser.toKey()];f||(f=new bt(Xe)),f=f.insert(c,d),l.Sa[l.currentUser.toKey()]=f}(r,s.batchId,n),await Zc(r,s.changes),await Cp(r.remoteStore)}catch(s){const o=N_(s,"Failed to persist write");n.reject(o)}}async function xC(t,e){const n=xe(t);try{const r=await rU(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?mt(l.Ra):s.removedDocuments.size>0&&(mt(l.Ra),l.Ra=!1))}),await Zc(n,r,e)}catch(r){await zc(r)}}function tT(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=xe(l);d.onlineState=c;let f=!1;d.queries.forEach((m,v)=>{for(const _ of v.listeners)_.Q_(c)&&(f=!0)}),f&&L_(d)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jU(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ya.get(e),o=s&&s.key;if(o){let l=new bt(me.comparator);l=l.insert(o,Sn.newNoDocument(o,Pe.min()));const c=je().add(o),d=new Ap(Pe.min(),new Map,new bt(Xe),l,c);await xC(r,d),r.pa=r.pa.remove(o),r.ya.delete(e),V_(r)}else await Hv(r.localStore,e,!1).then(()=>qv(r,e,n)).catch(zc)}async function $U(t,e){const n=xe(t),r=e.batch.batchId;try{const s=await iU(n.localStore,e);MC(n,r,null),LC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zc(n,s)}catch(s){await zc(s)}}async function HU(t,e,n){const r=xe(t);try{const s=await function(l,c){const d=xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(v=>(mt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);MC(r,e,n),LC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zc(r,s)}catch(s){await zc(s)}}function LC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function MC(t,e,n){const r=xe(t);let s=r.Sa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}function qv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||VC(t,r)})}function VC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(SC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),V_(t))}function nT(t,e,n){for(const r of n)r instanceof NC?(t.wa.addReference(r.key,e),qU(t,r)):r instanceof DC?(le("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||VC(t,r.key)):Re()}function qU(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(le("SyncEngine","New document in limbo: "+n),t.ga.add(r),V_(t))}function V_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new me(ct.fromString(e)),r=t.Da.next();t.ya.set(r,new LU(n)),t.pa=t.pa.insert(n,r),AC(t.remoteStore,new os(nr(wp(n.path)),r,"TargetPurposeLimboResolution",m_._e))}}async function Zc(t,e,n){const r=xe(t),s=[],o=[],l=[];r.ma.isEmpty()||(r.ma.forEach((c,d)=>{l.push(r.va(d,e,n).then(f=>{if((f||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const m=R_.Qi(d.targetId,f);o.push(m)}}))}),await Promise.all(l),r.Va.a_(s),await async function(d,f){const m=xe(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>B.forEach(f,_=>B.forEach(_.ki,E=>m.persistence.referenceDelegate.addReference(v,_.targetId,E)).next(()=>B.forEach(_.qi,E=>m.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))}catch(v){if(!Yc(v))throw v;le("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const E=m.ts.get(_),A=E.snapshotVersion,y=E.withLastLimboFreeSnapshotVersion(A);m.ts=m.ts.insert(_,y)}}}(r.localStore,o))}async function WU(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await EC(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(d=>{d.reject(new X(D.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zc(n,r._s)}}function KU(t,e){const n=xe(t),r=n.ya.get(e);if(r&&r.Ra)return je().add(r.key);{let s=je();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function GU(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jU.bind(null,e),e.Va.a_=OU.bind(null,e.eventManager),e.Va.Fa=NU.bind(null,e.eventManager),e}function zU(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HU.bind(null,e),e}class iT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return nU(this.persistence,new eU,e.initialUser,this.serializer)}createPersistence(e){return new JF(S_.jr,this.serializer)}createSharedClientState(e){return new uU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WU.bind(null,this.syncEngine),await CU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kU}()}createDatastore(e){const n=Sp(e.databaseInfo.databaseId),r=function(o){return new fU(o)}(e.databaseInfo);return function(o,l,c,d){return new gU(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,l,c){return new yU(r,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>tT(this.syncEngine,n,0),function(){return XI.D()?new XI:new cU}())}createSyncEngine(e,n){return function(s,o,l,c,d,f,m){const v=new MU(s,o,l,c,d,f);return m&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=xe(n);le("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Xc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tn.UNAUTHENTICATED,this.clientId=HR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ev(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await EC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XU(t);le("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>ZI(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>ZI(e.remoteStore,o)),t._onlineComponents=e}function JU(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function XU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await ev(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!JU(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await ev(t,new iT)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await ev(t,new iT);return t._offlineComponents}async function FC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await rT(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await rT(t,new YU))),t._onlineComponents}function ZU(t){return FC(t).then(e=>e.syncEngine)}async function Tf(t){const e=await FC(t),n=e.eventManager;return n.onListen=VU.bind(null,e.syncEngine),n.onUnlisten=UU.bind(null,e.syncEngine),n}function e9(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new F_({next:_=>{l.enqueueAndForget(()=>x_(o,v));const E=_.docs.has(c);!E&&_.fromCache?f.reject(new X(D.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?f.reject(new X(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new M_(wp(c.path),m,{includeMetadataChanges:!0,J_:!0});return D_(o,v)}(await Tf(t),t.asyncQueue,e,n,r)),r.promise}function t9(t,e,n={}){const r=new Tr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new F_({next:_=>{l.enqueueAndForget(()=>x_(o,v)),_.fromCache&&d.source==="server"?f.reject(new X(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new M_(c,m,{includeMetadataChanges:!0,J_:!0});return D_(o,v)}(await Tf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e,n){if(!n)throw new X(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n9(t,e,n,r){if(e===!0&&r===!0)throw new X(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oT(t){if(!me.isDocumentKey(t))throw new X(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aT(t){if(me.isDocumentKey(t))throw new X(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function si(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(t);throw new X(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function i9(t,e){if(e<=0)throw new X(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I4;switch(r.type){case"firstParty":return new R4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sT.get(n);r&&(le("ComponentProvider","Removing Datastore"),sT.delete(n),r.terminate())}(this),Promise.resolve()}}function r9(t,e,n,r={}){var s;const o=(t=si(t,eh))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Tn.MOCK_USER;else{c=DA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new X(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Tn(f)}t._authCredentials=new T4(new $R(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class hs extends Li{constructor(e,n,r){super(e,n,wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new me(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function B_(t,e,...n){if(t=Te(t),U_("collection","path",e),t instanceof eh){const r=ct.fromString(e,...n);return aT(r),new hs(t,null,r)}{if(!(t instanceof jn||t instanceof hs))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return aT(r),new hs(t.firestore,null,r)}}function j_(t,e){if(t=si(t,eh),U_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(D.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Li(t,null,function(r){return new Ss(ct.emptyPath(),r)}(e))}function BC(t,e,...n){if(t=Te(t),arguments.length===1&&(e=HR.newId()),U_("doc","path",e),t instanceof eh){const r=ct.fromString(e,...n);return oT(r),new jn(t,null,new me(r))}{if(!(t instanceof jn||t instanceof hs))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return oT(r),new jn(t.firestore,t instanceof hs?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new IC(this,"async_queue_retry"),this.iu=()=>{const n=Zg();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Zg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Tr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Yc(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw Pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=O_.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&Re()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function uT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ws extends eh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new s9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jC(this),this._firestoreClient.terminate()}}function o9(t,e){const n=typeof t=="object"?t:Dc(),r=typeof t=="string"?t:e||"(default)",s=Co(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Ty("firestore");o&&r9(s,...o)}return s}function kp(t){return t._firestoreClient||jC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jC(t){var e,n,r;const s=t._freezeSettings(),o=function(c,d,f,m){return new U4(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,UC(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new QU(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(On.fromBase64String(e))}catch(n){throw new X(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xa(On.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=/^__.*__$/;class l9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qc(e,this.data,n,this.fieldTransforms)}}function HC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class q_{constructor(e,n,r,s,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new q_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Af(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(HC(this.Iu)&&a9.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class u9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sp(e)}pu(e,n,r,s=!1){return new q_({Iu:e,methodName:n,gu:r,path:mn.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Op(t){const e=t._freezeSettings(),n=Sp(t._databaseId);return new u9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qC(t,e,n,r,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);zC("Data must be an object, but it was:",l,r);const c=KC(r,l);let d,f;if(o.merge)d=new bi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const _=c9(e,v,n);if(!l.contains(_))throw new X(D.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);d9(m,_)||m.push(_)}d=new bi(m),f=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=l.fieldTransforms;return new l9(new hi(c),d,f)}function WC(t,e,n,r=!1){return W_(n,t.pu(r?4:3,e))}function W_(t,e){if(GC(t=Te(t)))return zC("Unsupported field value:",e,t),KC(t,e);if(t instanceof $C)return function(r,s){if(!HC(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const o=[];let l=0;for(const c of r){let d=W_(c,s.Vu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wt.fromDate(r);return{timestampValue:bf(s.serializer,o)}}if(r instanceof Wt){const o=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(s.serializer,o)}}if(r instanceof H_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xa)return{bytesValue:mC(s.serializer,r._byteString)};if(r instanceof jn){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:T_(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${Pp(r)}`)}(t,e)}function KC(t,e){const n={};return qR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pl(t,(r,s)=>{const o=W_(s,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof H_||t instanceof Xa||t instanceof jn||t instanceof $C)}function zC(t,e,n){if(!GC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Pp(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function c9(t,e,n){if((e=Te(e))instanceof $_)return e._internalPath;if(typeof e=="string")return YC(t,e);throw Af("Field path arguments must be of type string or ",t,!1,void 0,n)}const h9=new RegExp("[~\\*/\\[\\]]");function YC(t,e,n){if(e.search(h9)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $_(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Af(t,e,n,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new X(D.INVALID_ARGUMENT,c+t+d)}function d9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f9 extends K_{data(){return super.data()}}function Np(t,e){return typeof e=="string"?YC(t,e):e instanceof $_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G_{}class Dp extends G_{}function Za(t,e,...n){let r=[];e instanceof G_&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof z_).length,c=o.filter(d=>d instanceof xp).length;if(l>1||l>0&&c>0)throw new X(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xp extends Dp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xp(e,n,r)}_apply(e){const n=this._parse(e);return XC(e._query,n),new Li(e.firestore,e.converter,Fv(e._query,n))}_parse(e){const n=Op(e.firestore);return function(o,l,c,d,f,m,v){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new X(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){hT(v,m);const E=[];for(const A of v)E.push(cT(d,o,A));_={arrayValue:{values:E}}}else _=cT(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||hT(v,m),_=WC(c,l,v,m==="in"||m==="not-in");return qt.create(f,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function as(t,e,n){const r=e,s=Np("where",t);return xp._create(s,r,n)}class z_ extends G_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new z_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)XC(l,d),l=Fv(l,d)}(e._query,n),new Li(e.firestore,e.converter,Fv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y_ extends Dp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Y_(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(o,l)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new Ss(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Sf(t,e="asc"){const n=e,r=Np("orderBy",t);return Y_._create(r,n)}class Q_ extends Dp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Q_(e,n,r)}_apply(e){return new Li(e.firestore,e.converter,_f(e._query,this._limit,this._limitType))}}function Rf(t){return i9("limit",t),Q_._create("limit",t,"F")}class J_ extends Dp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new J_(e,n,r)}_apply(e){const n=p9(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,function(s,o){return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function JC(...t){return J_._create("startAfter",t,!1)}function p9(t,e,n,r){if(n[0]=Te(n[0]),n[0]instanceof K_)return function(o,l,c,d,f){if(!d)throw new X(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const v of xa(o))if(v.field.isKeyField())m.push(yf(l,d.key));else{const _=d.data.field(v.field);if(_p(_))throw new X(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=v.field.canonicalString();throw new X(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}m.push(_)}return new Ya(m,f)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=Op(t.firestore);return function(l,c,d,f,m,v){const _=l.explicitOrderBy;if(m.length>_.length)throw new X(D.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<m.length;A++){const y=m[A];if(_[A].field.isKeyField()){if(typeof y!="string")throw new X(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof y}`);if(!w_(l)&&y.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${y}' contains a slash.`);const b=l.path.child(ct.fromString(y));if(!me.isDocumentKey(b))throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const R=new me(b);E.push(yf(c,R))}else{const b=WC(d,f,y);E.push(b)}}return new Ya(E,v)}(t._query,t.firestore._databaseId,s,e,n,r)}}function cT(t,e,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w_(e)&&n.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!me.isDocumentKey(r))throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yf(t,new me(r))}if(n instanceof jn)return yf(t,n._key);throw new X(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pp(n)}.`)}function hT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XC(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class m9{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pl(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new H_(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=g_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);mt(wC(r));const s=new Ec(r.get(1),r.get(3)),o=new me(r.popFirst(5));return s.isEqual(n)||Pr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eP extends K_{constructor(e,n,r,s,o,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gd extends eP{data(e={}){return super.data(e)}}class tP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ju(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gd(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Gd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ju(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Gd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ju(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:g9(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function g9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){t=si(t,jn);const e=si(t.firestore,ws);return e9(kp(e),t._key).then(n=>nP(e,t,n))}class X_ extends m9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function el(t){t=si(t,Li);const e=si(t.firestore,ws),n=kp(e),r=new X_(e);return QC(t._query),t9(n,t._query).then(s=>new tP(e,r,t,s))}function P8(t,e,n){t=si(t,jn);const r=si(t.firestore,ws),s=ZC(t.converter,e,n);return Z_(r,[qC(Op(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ti.none())])}function k8(t){return Z_(si(t.firestore,ws),[new E_(t._key,Ti.none())])}function O8(t,e){const n=si(t.firestore,ws),r=BC(t),s=ZC(t.converter,e);return Z_(n,[qC(Op(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ti.exists(!1))]).then(()=>r)}function N8(t,...e){var n,r,s;t=Te(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||uT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(uT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,f,m;if(t instanceof jn)f=si(t.firestore,ws),m=wp(t._key.path),d={next:v=>{e[l]&&e[l](nP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=si(t,Li);f=si(v.firestore,ws),m=v._query;const _=new X_(f);d={next:E=>{e[l]&&e[l](new tP(f,_,v,E))},error:e[l+1],complete:e[l+2]},QC(t._query)}return function(_,E,A,y){const b=new F_(y),R=new M_(E,b,A);return _.asyncQueue.enqueueAndForget(async()=>D_(await Tf(_),R)),()=>{b.Na(),_.asyncQueue.enqueueAndForget(async()=>x_(await Tf(_),R))}}(kp(f),m,c,d)}function Z_(t,e){return function(r,s){const o=new Tr;return r.asyncQueue.enqueueAndForget(async()=>BU(await ZU(r),s,o)),o.promise}(kp(t),e)}function nP(t,e,n){const r=n.docs.get(e._key),s=new X_(t);return new eP(t,s,e._key,r,new ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){fl=s})(Or),sr(new Ri("firestore",(r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new ws(new A4(r.getProvider("auth-internal")),new P4(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new X(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(f.options.projectId,m)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Bn(kI,"4.3.2",e),Bn(kI,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="type.googleapis.com/google.protobuf.Int64Value",_9="type.googleapis.com/google.protobuf.UInt64Value";function iP(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Wv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Wv(e));if(typeof t=="function"||typeof t=="object")return iP(t,e=>Wv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Cf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case y9:case _9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Cf(e)):typeof t=="function"||typeof t=="object"?iP(t,e=>Cf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ma extends vn{constructor(e,n,r){super(`${e0}/${e}`,n||""),this.details=r}}function w9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function E9(t,e){let n=w9(t),r=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!dT[l])return new Ma("internal","internal");n=dT[l],r=l}const c=o.message;typeof c=="string"&&(r=c),s=o.details,s!==void 0&&(s=Cf(s))}}catch{}return n==="ok"?null:new Ma(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="us-central1";function I9(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ma("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class T9{constructor(e,n,r,s,o=Kv,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new b9(n,r,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=Kv}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function A9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function S9(t,e,n){return r=>C9(t,e,r,n||{})}async function R9(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function C9(t,e,n,r){const s=t._url(e);return P9(t,s,n,r)}async function P9(t,e,n,r){n=Wv(n);const s={data:n},o={},l=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=r.timeout||7e4,d=I9(c),f=await Promise.race([R9(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new Ma("cancelled","Firebase Functions instance was deleted.");const m=E9(f.status,f.json);if(m)throw m;if(!f.json)throw new Ma("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Ma("internal","Response is missing data field.");return{data:Cf(v)}}const fT="@firebase/functions",pT="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="auth-internal",O9="app-check-internal",N9="messaging-internal";function D9(t,e){const n=(r,{instanceIdentifier:s})=>{const o=r.getProvider("app").getImmediate(),l=r.getProvider(k9),c=r.getProvider(N9),d=r.getProvider(O9);return new T9(o,l,c,d,s,t)};sr(new Ri(e0,n,"PUBLIC").setMultipleInstances(!0)),Bn(fT,pT,e),Bn(fT,pT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t=Dc(),e=Kv){const r=Co(Te(t),e0).getImmediate({identifier:e}),s=Ty("functions");return s&&x9(r,...s),r}function x9(t,e,n){A9(Te(t),e,n)}function Do(t,e,n){return S9(Te(t),e,n)}D9(fetch.bind(self));const L9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebasestorage.googleapis.com",sP="storageBucket",M9=2*60*1e3,V9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends vn{constructor(e,n,r=0){super(tv(e),`Firebase Storage: ${n} (${tv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oi||(Oi={}));function tv(t){return"storage/"+t}function F9(){const t="An unknown error occurred, please check the error payload for server response.";return new Mi(Oi.UNKNOWN,t)}function U9(){return new Mi(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B9(){return new Mi(Oi.CANCELED,"User canceled the upload/download.")}function j9(t){return new Mi(Oi.INVALID_URL,"Invalid URL '"+t+"'.")}function $9(t){return new Mi(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H9(){return new Mi(Oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sP+"' property when initializing the app?")}function Gv(t){return new Mi(Oi.INVALID_ARGUMENT,t)}function oP(){return new Mi(Oi.APP_DELETED,"The Firebase app was deleted.")}function q9(t){return new Mi(Oi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=di.makeFromUrl(e,n)}catch{return new di(e,"")}if(r.path==="")return r;throw $9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${m}/b/${s}/o${_}`,"i"),A={bucket:1,path:3},y=n===rP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",R=new RegExp(`^https?://${y}/${s}/${b}`,"i"),F=[{regex:c,indices:d,postModify:o},{regex:E,indices:A,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<F.length;x++){const Q=F[x],re=Q.regex.exec(e);if(re){const fe=re[Q.indices.bucket];let ae=re[Q.indices.path];ae||(ae=""),r=new di(fe,ae),Q.postModify(r);break}}if(r==null)throw j9(e);return r}}class W9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t,e,n){let r=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function m(...b){f||(f=!0,e.apply(null,b))}function v(b){s=setTimeout(()=>{s=null,t(E,d())},b)}function _(){o&&clearTimeout(o)}function E(b,...R){if(f){_();return}if(b){_(),m.call(null,b,...R);return}if(d()||l){_(),m.call(null,b,...R);return}r<64&&(r*=2);let F;c===1?(c=2,F=0):F=(r+Math.random())*1e3,v(F)}let A=!1;function y(b){A||(A=!0,_(),!f&&(s!==null?(b||(c=2),clearTimeout(s),v(0)):b||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,y(!0)},n),y}function G9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(t){return t!==void 0}function mT(t,e,n,r){if(r<e)throw Gv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gv(`Invalid value for '${t}'. Expected ${n} or less.`)}function Y9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Pf||(Pf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n,r,s,o,l,c,d,f,m,v,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=v,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Pf.NO_ERROR,d=o.getStatus();if(!c||Q9(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Pf.ABORT;r(!1,new kd(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new kd(f,o))})},n=(r,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());z9(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=F9();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?oP():B9();l(d)}else{const d=U9();l(d)}};this.canceled_?n(!1,new kd(!1,null,!0)):this.backoffId_=K9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function X9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Z9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function e3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function t3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function n3(t,e,n,r,s,o,l=!0){const c=Y9(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return e3(f,e),X9(f,n),Z9(f,o),t3(f,r),new J9(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function r3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function s3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this._service=e,n instanceof di?this._location=n:this._location=di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eo(e,n)}get root(){const e=new di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return s3(this._location.path)}get storage(){return this._service}get parent(){const e=i3(this._location.path);if(e===null)return null;const n=new di(this._location.bucket,e);return new Eo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw q9(e)}}function o3(t,e){const n=r3(t._location.path,e),r=new di(t._location.bucket,n);return new Eo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return/^[A-Za-z]+:\/\//.test(t)}function l3(t,e){return new Eo(t,e)}function aP(t,e){if(t instanceof t0){const n=t;if(n._bucket==null)throw H9();const r=new Eo(n,n._bucket);return e!=null?aP(r,e):r}else return e!==void 0?o3(t,e):t}function u3(t,e){if(e&&a3(e)){if(t instanceof t0)return l3(t,e);throw Gv("To use ref(service, url), the first argument must be a Storage instance.")}else return aP(t,e)}function gT(t,e){const n=e==null?void 0:e[sP];return n==null?null:di.makeFromBucketSpec(n,t)}function c3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:DA(s,t.app.options.projectId))}class t0{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=rP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M9,this._maxUploadRetryTime=V9,this._requests=new Set,s!=null?this._bucket=di.makeFromBucketSpec(s,this._host):this._bucket=gT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=di.makeFromBucketSpec(this._url,e):this._bucket=gT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new W9(oP());{const l=n3(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const vT="@firebase/storage",yT="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="storage";function h3(t,e){return t=Te(t),u3(t,e)}function d3(t=Dc(),e){t=Te(t);const r=Co(t,lP).getImmediate({identifier:e}),s=Ty("storage");return s&&f3(r,...s),r}function f3(t,e,n,r={}){c3(t,e,n,r)}function p3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new t0(n,r,s,e,Or)}function m3(){sr(new Ri(lP,p3,"PUBLIC").setMultipleInstances(!0)),Bn(vT,yT,""),Bn(vT,yT,"esm2017")}m3();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this._delegate=e,this.firebase=n,rf(e,new Ri("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$A(this._delegate)))}_getService(e,n=ps){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=ps){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){rf(this._delegate,e)}_addOrOverwriteComponent(e){jA(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},_T=new Ro("app-compat","Firebase",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:Bn,setLogLevel:qA,onLog:HA,apps:null,SDK_VERSION:Or,INTERNAL:{registerComponent:c,removeApp:r,useAsService:d,modularAPIs:zD}};n.default=n,Object.defineProperty(n,"apps",{get:l});function r(f){delete e[f]}function s(f){if(f=f||ps,!q1(e,f))throw _T.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,m={}){const v=qf(f,m);if(q1(e,v.name))return e[v.name];const _=new t(v,n);return e[v.name]=_,_}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const m=f.name,v=m.replace("-compat","");if(sr(f)&&f.type==="PUBLIC"){const _=(E=s())=>{if(typeof E[v]!="function")throw _T.create("invalid-app-argument",{appName:m});return E[v]()};f.serviceProps!==void 0&&ef(_,f.serviceProps),n[v]=_,t.prototype[v]=function(...E){return this._getService.bind(this,m).apply(this,f.multipleInstances?E:[])}}return f.type==="PUBLIC"?n[v]:null}function d(f,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){const t=y3(g3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:uP,extendNamespace:e,createSubscribe:VA,ErrorFactory:Ro,deepExtend:ef});function e(n){ef(t,n)}return t}const _3=uP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Hf("@firebase/app-compat"),w3="@firebase/app-compat",E3="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){Bn(w3,E3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(NN()&&self.firebase!==void 0){wT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&wT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const pe=_3;b3();var I3="firebase",T3="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pe.registerVersion(I3,T3,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=2e3;async function S3(t,e,n){var r;const{BuildInfo:s}=bo();Ci(e.sessionId,"AuthEvent did not contain a session ID");const o=await O3(e.sessionId),l={};return ll()?l.ibi=s.packageName:Lc()?l.apn=s.packageName:ln(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,Ev(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function R3(t){const{BuildInfo:e}=bo(),n={};ll()?n.iosBundleId=e.packageName:Lc()?n.androidPackageName=e.packageName:ln(t,"operation-not-supported-in-this-environment"),await MS(t,n)}function C3(t){const{cordova:e}=bo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,_x()?"_blank":"_system","location=yes"),n(s)})})}async function P3(t,e,n){const{cordova:r}=bo();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function d(){var v;o();const _=(v=r.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(yn(t,"redirect-cancelled-by-user"))},A3))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Lc()&&document.addEventListener("visibilitychange",m,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),c&&window.clearTimeout(c)}})}finally{s()}}function k3(t){var e,n,r,s,o,l,c,d,f,m;const v=bo();W(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((o=(s=(r=v==null?void 0:v.cordova)===null||r===void 0?void 0:r.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((m=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function O3(t){const e=N3(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function N3(t){if(Ci(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=20;class x3 extends xS{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function L3(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:F3(),postBody:null,tenantId:t.tenantId,error:yn(t,"no-auth-event")}}function M3(t,e){return zv()._set(Yv(t),e)}async function ET(t){const e=await zv()._get(Yv(t));return e&&await zv()._remove(Yv(t)),e}function V3(t,e){var n,r;const s=B3(e);if(s.includes("/__/auth/callback")){const o=zd(s),l=o.firebaseError?U3(decodeURIComponent(o.firebaseError)):null,c=(r=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],d=c?yn(c):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function F3(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<D3;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function zv(){return ri(Xf)}function Yv(t){return uo("authEvent",t.config.apiKey,t.name)}function U3(t){try{return JSON.parse(t)}catch{return null}}function B3(t){const e=zd(t),n=e.link?decodeURIComponent(e.link):void 0,r=zd(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return zd(s).link||s||r||n||t}function zd(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Ra(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=500;class $3{constructor(){this._redirectPersistence=gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=np,this._overrideRedirectResult=qy}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new x3(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,s){k3(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),AM(),await this._originValidation(e);const l=L3(e,r,s);await M3(e,l);const c=await S3(e,l,n),d=await C3(c);return P3(e,o,d)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R3(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=bo(),l=setTimeout(async()=>{await ET(e),n.onEvent(bT())},j3),c=async m=>{clearTimeout(l);const v=await ET(e);let _=null;v&&(m!=null&&m.url)&&(_=V3(v,m.url)),n.onEvent(_||bT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const d=s,f=`${o.packageName.toLowerCase()}://`;bo().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&c({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}}}}const H3=$3;function bT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t,e){Ct(t)._logFramework(e)}var W3="@firebase/auth-compat",K3="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=1e3;function Ju(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function z3(){return Ju()==="http:"||Ju()==="https:"}function cP(t=Kt()){return!!((Ju()==="file:"||Ju()==="ionic:"||Ju()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Y3(){return Ay()||xA()}function Q3(){return MA()&&(document==null?void 0:document.documentMode)===11}function J3(t=Kt()){return/Edge\/\d+/.test(t)}function X3(t=Kt()){return Q3()||J3(t)}function hP(){try{const t=self.localStorage,e=Vc();if(t)return t.setItem(e,"1"),t.removeItem(e),X3()?tf():!0}catch{return n0()&&tf()}return!1}function n0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nv(){return(z3()||LA()||cP())&&!Y3()&&hP()&&!n0()}function dP(){return cP()&&typeof document<"u"}async function Z3(){return dP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},G3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function e6(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni={LOCAL:"local",NONE:"none",SESSION:"session"},Pu=W,fP="persistence";function t6(t,e){if(Pu(Object.values(ni).includes(e),t,"invalid-persistence-type"),Ay()){Pu(e!==ni.SESSION,t,"unsupported-persistence-type");return}if(xA()){Pu(e===ni.NONE,t,"unsupported-persistence-type");return}if(n0()){Pu(e===ni.NONE||e===ni.LOCAL&&tf(),t,"unsupported-persistence-type");return}Pu(e===ni.NONE||hP(),t,"unsupported-persistence-type")}async function Qv(t){await t._initializationPromise;const e=pP(),n=uo(fP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function n6(t,e){const n=pP();if(!n)return[];const r=uo(fP,t,e);switch(n.getItem(r)){case ni.NONE:return[ja];case ni.LOCAL:return[Ha,gs];case ni.SESSION:return[gs];default:return[]}}function pP(){var t;try{return((t=e6())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=W;class ls{constructor(){this.browserResolver=ri(VS),this.cordovaResolver=ri(H3),this.underlyingResolver=null,this._redirectPersistence=gs,this._completeRedirectFn=np,this._overrideRedirectResult=qy}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,s)}async _openRedirect(e,n,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return dP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return i6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Z3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){return t.unwrap()}function r6(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){return gP(t)}function o6(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new a6(t,OL(t,e))}else if(r){const s=gP(e),o=e;s&&(o.credential=s,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function gP(t){const{_tokenResponse:e}=t instanceof vn?t.customData:t;if(!e)return null;if(!(t instanceof vn)&&"temporaryProof"in e&&"phoneNumber"in e)return vo.credentialFromResult(t);const n=e.providerId;if(!n||n===Au.PASSWORD)return null;let r;switch(n){case Au.GOOGLE:r=zi;break;case Au.FACEBOOK:r=Gi;break;case Au.GITHUB:r=Yi;break;case Au.TWITTER:r=Qi;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:d}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?$a._create(n,c):or._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new ka(n).credential({idToken:s,accessToken:o,rawNonce:d})}return t instanceof vn?r.credentialFromError(t):r.credentialFromResult(t)}function Wn(t,e){return e.catch(n=>{throw n instanceof vn&&o6(t,n),n}).then(n=>{const r=n.operationType,s=n.user;return{operationType:r,credential:s6(n),additionalUserInfo:RL(n),user:Er.getOrCreate(s)}})}async function Jv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Wn(t,n.confirm(r))}}class a6{constructor(e,n){this.resolver=n,this.auth=r6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wn(mP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._delegate=e,this.multiFactor=LL(e)}static getOrCreate(e){return Er.USER_MAP.has(e)||Er.USER_MAP.set(e,new Er(e)),Er.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wn(this.auth,yS(this._delegate,e))}async linkWithPhoneNumber(e,n){return Jv(this.auth,dM(this._delegate,e,n))}async linkWithPopup(e){return Wn(this.auth,EM(this._delegate,e,ls))}async linkWithRedirect(e){return await Qv(Ct(this.auth)),kM(this._delegate,e,ls)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wn(this.auth,_S(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Jv(this.auth,fM(this._delegate,e,n))}reauthenticateWithPopup(e){return Wn(this.auth,wM(this._delegate,e,ls))}async reauthenticateWithRedirect(e){return await Qv(Ct(this.auth)),CM(this._delegate,e,ls)}sendEmailVerification(e){return gL(this._delegate,e)}async unlink(e){return await nL(this._delegate,e),this}updateEmail(e){return wL(this._delegate,e)}updatePassword(e){return EL(this._delegate,e)}updatePhoneNumber(e){return pM(this._delegate,e)}updateProfile(e){return _L(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return vL(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Er.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=W;class Xv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ku(r,"invalid-api-key",{appName:e.name}),ku(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?ls:void 0;this._delegate=n.initialize({options:{persistence:l6(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(QD),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){uS(this._delegate,e,n)}applyActionCode(e){return aL(this._delegate,e)}checkActionCode(e){return wS(this._delegate,e)}confirmPasswordReset(e,n){return oL(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Wn(this._delegate,uL(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return mL(this._delegate,e)}isSignInWithEmailLink(e){return dL(this._delegate,e)}async getRedirectResult(){ku(nv(),this._delegate,"operation-not-supported-in-this-environment");const e=await NM(this._delegate,ls);return e?Wn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){q3(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:s,error:o,complete:l}=IT(e,n,r);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,r){const{next:s,error:o,complete:l}=IT(e,n,r);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return hL(this._delegate,e,n)}sendPasswordResetEmail(e,n){return sL(this._delegate,e,n||void 0)}async setPersistence(e){t6(this._delegate,e);let n;switch(e){case ni.SESSION:n=gs;break;case ni.LOCAL:n=await ri(Ha)._isAvailable()?Ha:Xf;break;case ni.NONE:n=ja;break;default:return ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wn(this._delegate,tL(this._delegate))}signInWithCredential(e){return Wn(this._delegate,Qf(this._delegate,e))}signInWithCustomToken(e){return Wn(this._delegate,rL(this._delegate,e))}signInWithEmailAndPassword(e,n){return Wn(this._delegate,cL(this._delegate,e,n))}signInWithEmailLink(e,n){return Wn(this._delegate,fL(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Jv(this._delegate,hM(this._delegate,e,n))}async signInWithPopup(e){return ku(nv(),this._delegate,"operation-not-supported-in-this-environment"),Wn(this._delegate,_M(this._delegate,e,ls))}async signInWithRedirect(e){return ku(nv(),this._delegate,"operation-not-supported-in-this-environment"),await Qv(this._delegate),SM(this._delegate,e,ls)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return lL(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Xv.Persistence=ni;function IT(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const s=r;return{next:l=>s(l&&Er.getOrCreate(l)),error:e,complete:n}}function l6(t,e){const n=n6(t,e);if(typeof self<"u"&&!n.includes(Ha)&&n.push(Ha),typeof window<"u")for(const r of[Xf,gs])n.includes(r)||n.push(r);return n.includes(ja)||n.push(ja),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.providerId="phone",this._delegate=new vo(mP(pe.auth()))}static credential(e,n){return vo.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}i0.PHONE_SIGN_IN_METHOD=vo.PHONE_SIGN_IN_METHOD;i0.PROVIDER_ID=vo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=W;class c6{constructor(e,n,r=pe.app()){var s;u6((s=r.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new uM(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="auth-compat";function d6(t){t.INTERNAL.registerComponent(new Ri(h6,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Xv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_a.EMAIL_SIGNIN,PASSWORD_RESET:_a.PASSWORD_RESET,RECOVER_EMAIL:_a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_a.VERIFY_EMAIL}},EmailAuthProvider:Is,FacebookAuthProvider:Gi,GithubAuthProvider:Yi,GoogleAuthProvider:zi,OAuthProvider:ka,SAMLAuthProvider:of,PhoneAuthProvider:i0,PhoneMultiFactorGenerator:FS,RecaptchaVerifier:c6,TwitterAuthProvider:Qi,Auth:Xv,AuthCredential:ul,Error:vn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(W3,K3)}d6(pe);function f6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vP={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(b,R){R=R||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(b,!!R.bubbles,!!R.cancelable,R.detail||null),P},e.prototype=window.Event.prototype);function n(y){for(;y&&y!==document.body;){var b=window.getComputedStyle(y),R=function(P,F){return!(b[P]===void 0||b[P]===F)};if(b.opacity<1||R("zIndex","auto")||R("transform","none")||R("mixBlendMode","normal")||R("filter","none")||R("perspective","none")||b.isolation==="isolate"||b.position==="fixed"||b.webkitOverflowScrolling==="touch")return!0;y=y.parentElement}return!1}function r(y){for(;y;){if(y.localName==="dialog")return y;y=y.parentElement}return null}function s(y){y&&y.blur&&y!==document.body&&y.blur()}function o(y,b){for(var R=0;R<y.length;++R)if(y[R]===b)return!0;return!1}function l(y){return!y||!y.hasAttribute("method")?!1:y.getAttribute("method").toLowerCase()==="dialog"}function c(y){if(this.dialog_=y,this.replacedStyleTop_=!1,this.openAsModal_=!1,y.hasAttribute("role")||y.setAttribute("role","dialog"),y.show=this.show.bind(this),y.showModal=this.showModal.bind(this),y.close=this.close.bind(this),"returnValue"in y||(y.returnValue=""),"MutationObserver"in window){var b=new MutationObserver(this.maybeHideModal.bind(this));b.observe(y,{attributes:!0,attributeFilter:["open"]})}else{var R=!1,P=(function(){R?this.downgradeModal():this.maybeHideModal(),R=!1}).bind(this),F,x=function(Q){if(Q.target===y){var re="DOMNodeRemoved";R|=Q.type.substr(0,re.length)===re,window.clearTimeout(F),F=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Q){y.addEventListener(Q,x)})}Object.defineProperty(y,"open",{set:this.setOpen.bind(this),get:y.hasAttribute.bind(y,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(y){y?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(y){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var b=document.createElement("div");this.dialog_.insertBefore(b,this.dialog_.firstChild),b.tabIndex=-1,b.focus(),this.dialog_.removeChild(b)}var R=document.createEvent("MouseEvents");R.initMouseEvent(y.type,y.bubbles,y.cancelable,window,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget),this.dialog_.dispatchEvent(R),y.stopPropagation()},focus_:function(){var y=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!y&&this.dialog_.tabIndex>=0&&(y=this.dialog_),!y){var b=["button","input","keygen","select","textarea"],R=b.map(function(P){return P+":not([disabled])"});R.push('[tabindex]:not([disabled]):not([tabindex=""])'),y=this.dialog_.querySelector(R.join(", "))}s(document.activeElement),y&&y.focus()},updateZIndex:function(y,b){if(y<b)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=y,this.backdrop_.style.zIndex=b},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(y){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),y!==void 0&&(this.dialog_.returnValue=y);var b=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(b)}};var d={};if(d.reposition=function(y){var b=document.body.scrollTop||document.documentElement.scrollTop,R=b+(window.innerHeight-y.offsetHeight)/2;y.style.top=Math.max(b,R)+"px"},d.isInlinePositionSetByStylesheet=function(y){for(var b=0;b<document.styleSheets.length;++b){var R=document.styleSheets[b],P=null;try{P=R.cssRules}catch{}if(P)for(var F=0;F<P.length;++F){var x=P[F],Q=null;try{Q=document.querySelectorAll(x.selectorText)}catch{}if(!(!Q||!o(Q,y))){var re=x.style.getPropertyValue("top"),fe=x.style.getPropertyValue("bottom");if(re&&re!=="auto"||fe&&fe!=="auto")return!0}}}return!1},d.needsCentering=function(y){var b=window.getComputedStyle(y);return b.position!=="absolute"||y.style.top!=="auto"&&y.style.top!==""||y.style.bottom!=="auto"&&y.style.bottom!==""?!1:!d.isInlinePositionSetByStylesheet(y)},d.forceRegisterDialog=function(y){if((window.HTMLDialogElement||y.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",y),y.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(y)},d.registerDialog=function(y){y.showModal||d.forceRegisterDialog(y)},d.DialogManager=function(){this.pendingDialogStack=[];var y=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(b){this.forwardTab_=void 0,b.stopPropagation(),y([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(b){var R=[];b.forEach(function(P){for(var F=0,x;x=P.removedNodes[F];++F){if(x instanceof Element)x.localName==="dialog"&&R.push(x);else continue;R=R.concat(x.querySelectorAll("dialog"))}}),R.length&&y(R)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var y=this.zIndexHigh_,b=0,R;R=this.pendingDialogStack[b];++b)R.updateZIndex(--y,--y),b===0&&(this.overlay.style.zIndex=--y);var P=this.pendingDialogStack[0];if(P){var F=P.dialog.parentNode||document.body;F.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(y){for(;y=r(y);){for(var b=0,R;R=this.pendingDialogStack[b];++b)if(R.dialog===y)return b===0;y=y.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(y){if(!this.containedByTopDialog_(y.target)&&(y.preventDefault(),y.stopPropagation(),s(y.target),this.forwardTab_!==void 0)){var b=this.pendingDialogStack[0],R=b.dialog,P=R.compareDocumentPosition(y.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?b.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(y){if(this.forwardTab_=void 0,y.keyCode===27){y.preventDefault(),y.stopPropagation();var b=new e("cancel",{bubbles:!1,cancelable:!0}),R=this.pendingDialogStack[0];R&&R.dialog.dispatchEvent(b)&&R.dialog.close()}else y.keyCode===9&&(this.forwardTab_=!y.shiftKey)},d.DialogManager.prototype.checkDOM_=function(y){var b=this.pendingDialogStack.slice();b.forEach(function(R){y.indexOf(R.dialog)!==-1?R.downgradeModal():R.maybeHideModal()})},d.DialogManager.prototype.pushDialog=function(y){var b=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=b?!1:(this.pendingDialogStack.unshift(y)===1&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(y){var b=this.pendingDialogStack.indexOf(y);b!==-1&&(this.pendingDialogStack.splice(b,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var m=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(m){var v=m.get;m.get=function(){return l(this)?"dialog":v.call(this)};var _=m.set;m.set=function(y){return typeof y=="string"&&y.toLowerCase()==="dialog"?this.setAttribute("method",y):_.call(this,y)},Object.defineProperty(HTMLFormElement.prototype,"method",m)}}document.addEventListener("click",function(y){if(d.formSubmitter=null,d.useValue=null,!y.defaultPrevented){var b=y.target;if(!(!b||!l(b.form))){var R=b.type==="submit"&&["button","input"].indexOf(b.localName)>-1;if(!R){if(!(b.localName==="input"&&b.type==="image"))return;d.useValue=y.offsetX+","+y.offsetY}var P=r(b);P&&(d.formSubmitter=b)}}},!1);var E=HTMLFormElement.prototype.submit,A=function(){if(!l(this))return E.call(this);var y=r(this);y&&y.close()};HTMLFormElement.prototype.submit=A,document.addEventListener("submit",function(y){var b=y.target;if(l(b)){y.preventDefault();var R=r(b);if(R){var P=d.formSubmitter;P&&P.form===b?R.close(d.useValue||P.value):R.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,typeof t.exports=="object"?t.exports=d:window.dialogPolyfill=d})()})(vP);var p6=vP.exports;const m6=f6(p6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};wt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function r(y,b){for(var R=0;R<t.length;R++)if(t[R].className===y)return typeof b<"u"&&(t[R]=b),t[R];return!1}function s(y){var b=y.getAttribute("data-upgraded");return b===null?[""]:b.split(",")}function o(y,b){var R=s(y);return R.indexOf(b)!==-1}function l(y,b,R){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(y,{bubbles:b,cancelable:R});var P=document.createEvent("Events");return P.initEvent(y,b,R),P}function c(y,b){if(typeof y>"u"&&typeof b>"u")for(var R=0;R<t.length;R++)c(t[R].className,t[R].cssClass);else{var P=y;if(typeof b>"u"){var F=r(P);F&&(b=F.cssClass)}for(var x=document.querySelectorAll("."+b),Q=0;Q<x.length;Q++)d(x[Q],P)}}function d(y,b){if(!(typeof y=="object"&&y instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var R=l("mdl-componentupgrading",!0,!0);if(y.dispatchEvent(R),!R.defaultPrevented){var P=s(y),F=[];if(b)o(y,b)||F.push(r(b));else{var x=y.classList;t.forEach(function(Y){x.contains(Y.cssClass)&&F.indexOf(Y)===-1&&!o(y,Y.className)&&F.push(Y)})}for(var Q=0,re=F.length,fe;Q<re;Q++){if(fe=F[Q],fe){P.push(fe.className),y.setAttribute("data-upgraded",P.join(","));var ae=new fe.classConstructor(y);ae[n]=fe,e.push(ae);for(var he=0,Ve=fe.callbacks.length;he<Ve;he++)fe.callbacks[he](y);fe.widget&&(y[fe.className]=ae)}else throw new Error("Unable to find a registered component for the given class.");var j=l("mdl-componentupgraded",!0,!1);y.dispatchEvent(j)}}}function f(y){Array.isArray(y)||(y instanceof Element?y=[y]:y=Array.prototype.slice.call(y));for(var b=0,R=y.length,P;b<R;b++)P=y[b],P instanceof HTMLElement&&(d(P),P.children.length>0&&f(P.children))}function m(y){var b=typeof y.widget>"u"&&typeof y.widget>"u",R=!0;b||(R=y.widget||y.widget);var P={classConstructor:y.constructor||y.constructor,className:y.classAsString||y.classAsString,cssClass:y.cssClass||y.cssClass,widget:R,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===P.className)throw new Error("The provided className has already been registered")}),y.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var F=r(y.classAsString,P);F||t.push(P)}function v(y,b){var R=r(y);R&&R.callbacks.push(b)}function _(){for(var y=0;y<t.length;y++)c(t[y].className)}function E(y){if(y){var b=e.indexOf(y);e.splice(b,1);var R=y.element_.getAttribute("data-upgraded").split(","),P=R.indexOf(y[n].classAsString);R.splice(P,1),y.element_.setAttribute("data-upgraded",R.join(","));var F=l("mdl-componentdowngraded",!0,!1);y.element_.dispatchEvent(F)}}function A(y){var b=function(P){e.filter(function(F){return F.element_===P}).forEach(E)};if(y instanceof Array||y instanceof NodeList)for(var R=0;R<y.length;R++)b(y[R]);else if(y instanceof Node)b(y);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:_,registerUpgradedCallback:v,register:m,downgradeElements:A}}();wt.ComponentConfigPublic;wt.ComponentConfig;wt.Component;wt.upgradeDom=wt.upgradeDom;wt.upgradeElement=wt.upgradeElement;wt.upgradeElements=wt.upgradeElements;wt.upgradeAllRegistered=wt.upgradeAllRegistered;wt.registerUpgradedCallback=wt.registerUpgradedCallback;wt.register=wt.register;wt.downgradeElements=wt.downgradeElements;window.componentHandler=wt;window.componentHandler=wt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),wt.upgradeAllRegistered()):(wt.upgradeElement=function(){},wt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[r,s,o],c=0;c<l.length;c++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(d)}n.appendChild(r),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(i){function a(){}return a.prototype=i,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var r;e:{var s={xb:!0},o={};try{o.__proto__=s,r=o.xb;break e}catch{}r=!1}n=r?function(i,a){if(i.__proto__=a,i.__proto__!==a)throw new TypeError(i+" is not extensible");return i}:null}var l=n;function c(i,a){if(i.prototype=e(a.prototype),i.prototype.constructor=i,l)l(i,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(a,u);h&&Object.defineProperty(i,u,h)}else i[u]=a[u];i.K=a.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,u){i!=Array.prototype&&i!=Object.prototype&&(i[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(i,a){if(a){var u=f;i=i.split(".");for(var h=0;h<i.length-1;h++){var p=i[h];p in u||(u[p]={}),u=u[p]}i=i[i.length-1],h=u[i],a=a(h),a!=h&&a!=null&&d(u,i,{configurable:!0,writable:!0,value:a})}}m("Object.is",function(i){return i||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),m("Array.prototype.includes",function(i){return i||function(a,u){var h=this;h instanceof String&&(h=String(h));var p=h.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=h[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function _(i){return i!==void 0}function E(i){return typeof i=="string"}var A=/^[\w+/_-]+[=]{0,2}$/,y=null;function b(){}function R(i){i.W=void 0,i.Xa=function(){return i.W?i.W:i.W=new i}}function P(i){var a=typeof i;if(a=="object")if(i){if(i instanceof Array)return"array";if(i instanceof Object)return a;var u=Object.prototype.toString.call(i);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof i.length=="number"&&typeof i.splice<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof i.call<"u"&&typeof i.propertyIsEnumerable<"u"&&!i.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof i.call>"u")return"object";return a}function F(i){return P(i)=="array"}function x(i){var a=P(i);return a=="array"||a=="object"&&typeof i.length=="number"}function Q(i){return P(i)=="function"}function re(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}var fe="closure_uid_"+(1e9*Math.random()>>>0),ae=0;function he(i,a,u){return i.call.apply(i.bind,arguments)}function Ve(i,a,u){if(!i)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),i.apply(a,p)}}return function(){return i.apply(a,arguments)}}function j(i,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=he:j=Ve,j.apply(null,arguments)}function Y(i,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),i.apply(this,h)}}function ve(i,a){for(var u in a)i[u]=a[u]}var kt=Date.now||function(){return+new Date};function Ae(i,a){i=i.split(".");var u=v;i[0]in u||typeof u.execScript>"u"||u.execScript("var "+i[0]);for(var h;i.length&&(h=i.shift());)!i.length&&_(a)?u[h]=a:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function G(i,a){function u(){}u.prototype=a.prototype,i.K=a.prototype,i.prototype=new u,i.prototype.constructor=i,i.vc=function(h,p,g){for(var w=Array(arguments.length-2),I=2;I<arguments.length;I++)w[I-2]=arguments[I];return a.prototype[p].apply(h,w)}}function te(i){if(Error.captureStackTrace)Error.captureStackTrace(this,te);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}G(te,Error),te.prototype.name="CustomError";var ye;function dt(i,a){i=i.split("%s");for(var u="",h=i.length-1,p=0;p<h;p++)u+=i[p]+(p<a.length?a[p]:"%s");te.call(this,u+i[h])}G(dt,te),dt.prototype.name="AssertionError";function et(i,a){throw new dt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}var Xt=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(E(i))return E(a)&&a.length==1?i.indexOf(a,0):-1;for(var u=0;u<i.length;u++)if(u in i&&i[u]===a)return u;return-1},tt=Array.prototype.forEach?function(i,a,u){Array.prototype.forEach.call(i,a,u)}:function(i,a,u){for(var h=i.length,p=E(i)?i.split(""):i,g=0;g<h;g++)g in p&&a.call(u,p[g],g,i)};function Fi(i,a){for(var u=E(i)?i.split(""):i,h=i.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,i)}var Ui=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var u=i.length,h=[],p=0,g=E(i)?i.split(""):i,w=0;w<u;w++)if(w in g){var I=g[w];a.call(void 0,I,w,i)&&(h[p++]=I)}return h},xo=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var u=i.length,h=Array(u),p=E(i)?i.split(""):i,g=0;g<u;g++)g in p&&(h[g]=a.call(void 0,p[g],g,i));return h},Zt=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var u=i.length,h=E(i)?i.split(""):i,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,i))return!0;return!1};function N(i,a){return 0<=Xt(i,a)}function ne(i,a){a=Xt(i,a);var u;return(u=0<=a)&&z(i,a),u}function z(i,a){return Array.prototype.splice.call(i,a,1).length==1}function de(i,a){e:{for(var u=i.length,h=E(i)?i.split(""):i,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,i)){a=p;break e}a=-1}0<=a&&z(i,a)}function Qe(i,a){var u=0;Fi(i,function(h,p){a.call(void 0,h,p,i)&&z(i,p)&&u++})}function T(i){return Array.prototype.concat.apply([],arguments)}function S(i){var a=i.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=i[h];return u}return[]}function C(i,a,u){return 2>=arguments.length?Array.prototype.slice.call(i,a):Array.prototype.slice.call(i,a,u)}var O=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},M=/&/g,U=/</g,ee=/>/g,K=/"/g,J=/'/g,$=/\x00/g,ge=/[\x00&<>"']/;function se(i,a){return i<a?-1:i>a?1:0}function ce(i){return ge.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(M,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(U,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(ee,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(K,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(J,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace($,"&#0;"))),i}function Se(i,a,u){for(var h in i)a.call(u,i[h],h,i)}function Le(i){var a={},u;for(u in i)a[u]=i[u];return a}var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(i,a){for(var u,h,p=1;p<arguments.length;p++){h=arguments[p];for(u in h)i[u]=h[u];for(var g=0;g<rt.length;g++)u=rt[g],Object.prototype.hasOwnProperty.call(h,u)&&(i[u]=h[u])}}var lt="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Yt(){}Yt.prototype.next=function(){throw lt},Yt.prototype.ha=function(){return this};function cr(i){if(i instanceof Yt)return i;if(typeof i.ha=="function")return i.ha(!1);if(x(i)){var a=0,u=new Yt;return u.next=function(){for(;;){if(a>=i.length)throw lt;if(a in i)return i[a++];a++}},u}throw Error("Not implemented")}function ah(i,a){if(x(i))try{tt(i,a,void 0)}catch(u){if(u!==lt)throw u}else{i=cr(i);try{for(;;)a.call(void 0,i.next(),void 0,i)}catch(u){if(u!==lt)throw u}}}function Cs(i){if(x(i))return S(i);i=cr(i);var a=[];return ah(i,function(u){a.push(u)}),a}function Ps(i,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(i)if(i instanceof Ps)for(u=i.ja(),h=0;h<u.length;h++)this.set(u[h],i.get(u[h]));else for(h in i)this.set(h,i[h])}t=Ps.prototype,t.la=function(){en(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.g[this.a[a]]);return i},t.ja=function(){return en(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function en(i){if(i.h!=i.a.length){for(var a=0,u=0;a<i.a.length;){var h=i.a[a];tn(i.g,h)&&(i.a[u++]=h),a++}i.a.length=u}if(i.h!=i.a.length){var p={};for(u=a=0;a<i.a.length;)h=i.a[a],tn(p,h)||(i.a[u++]=h,p[h]=1),a++;i.a.length=u}}t.get=function(i,a){return tn(this.g,i)?this.g[i]:a},t.set=function(i,a){tn(this.g,i)||(this.h++,this.a.push(i),this.j++),this.g[i]=a},t.forEach=function(i,a){for(var u=this.ja(),h=0;h<u.length;h++){var p=u[h],g=this.get(p);i.call(a,g,p,this)}},t.ha=function(i){en(this);var a=0,u=this.j,h=this,p=new Yt;return p.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(a>=h.a.length)throw lt;var g=h.a[a++];return i?g:h.g[g]},p};function tn(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var lh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function X2(i,a){if(i){i=i.split("&");for(var u=0;u<i.length;u++){var h=i[u].indexOf("="),p=null;if(0<=h){var g=i[u].substring(0,h);p=i[u].substring(h+1)}else g=i[u];a(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function D0(i,a,u,h){for(var p=u.length;0<=(a=i.indexOf(u,a))&&a<h;){var g=i.charCodeAt(a-1);if((g==38||g==63)&&(g=i.charCodeAt(a+p),!g||g==61||g==38||g==35))return a;a+=p+1}return-1}var x0=/#|$/;function uh(i,a){var u=i.search(x0),h=D0(i,0,a,u);if(0>h)return null;var p=i.indexOf("&",h);return(0>p||p>u)&&(p=u),h+=a.length+1,decodeURIComponent(i.substr(h,p-h).replace(/\+/g," "))}var Z2=/[?&]($|#)/;function Lr(i,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;i instanceof Lr?(this.i=_(a)?a:i.i,nm(this,i.j),this.A=i.A,this.h=i.h,im(this,i.C),this.g=i.g,rm(this,V0(i.a)),this.s=i.s):i&&(u=String(i).match(lh))?(this.i=!!a,nm(this,u[1]||"",!0),this.A=El(u[2]||""),this.h=El(u[3]||"",!0),im(this,u[4]),this.g=El(u[5]||"",!0),rm(this,u[6]||"",!0),this.s=El(u[7]||"")):(this.i=!!a,this.a=new Il(null,this.i))}Lr.prototype.toString=function(){var i=[],a=this.j;a&&i.push(bl(a,L0,!0),":");var u=this.h;return(u||a=="file")&&(i.push("//"),(a=this.A)&&i.push(bl(a,L0,!0),"@"),i.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&i.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&i.push("/"),i.push(bl(u,u.charAt(0)=="/"?nk:tk,!0))),(u=this.a.toString())&&i.push("?",u),(u=this.s)&&i.push("#",bl(u,rk)),i.join("")};function nm(i,a,u){i.j=u?El(a,!0):a,i.j&&(i.j=i.j.replace(/:$/,""))}function im(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.C=a}else i.C=null}function rm(i,a,u){a instanceof Il?(i.a=a,sk(i.a,i.i)):(u||(a=bl(a,ik)),i.a=new Il(a,i.i))}function sm(i){return i instanceof Lr?new Lr(i):new Lr(i,void 0)}function El(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function bl(i,a,u){return E(i)?(i=encodeURI(i).replace(a,ek),u&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ek(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var L0=/[#\/\?@]/g,tk=/[#\?:]/g,nk=/[#\?]/g,ik=/[#\?@]/g,rk=/#/g;function Il(i,a){this.g=this.a=null,this.h=i||null,this.j=!!a}function Mr(i){i.a||(i.a=new Ps,i.g=0,i.h&&X2(i.h,function(a,u){i.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=Il.prototype,t.add=function(i,a){Mr(this),this.h=null,i=Lo(this,i);var u=this.a.get(i);return u||this.a.set(i,u=[]),u.push(a),this.g+=1,this};function ks(i,a){Mr(i),a=Lo(i,a),tn(i.a.g,a)&&(i.h=null,i.g-=i.a.get(a).length,i=i.a,tn(i.g,a)&&(delete i.g[a],i.h--,i.j++,i.a.length>2*i.h&&en(i)))}t.clear=function(){this.a=this.h=null,this.g=0};function M0(i,a){return Mr(i),a=Lo(i,a),tn(i.a.g,a)}t.forEach=function(i,a){Mr(this),this.a.forEach(function(u,h){tt(u,function(p){i.call(a,p,h,this)},this)},this)},t.ja=function(){Mr(this);for(var i=this.a.la(),a=this.a.ja(),u=[],h=0;h<a.length;h++)for(var p=i[h],g=0;g<p.length;g++)u.push(a[h]);return u},t.la=function(i){Mr(this);var a=[];if(E(i))M0(this,i)&&(a=T(a,this.a.get(Lo(this,i))));else{i=this.a.la();for(var u=0;u<i.length;u++)a=T(a,i[u])}return a},t.set=function(i,a){return Mr(this),this.h=null,i=Lo(this,i),M0(this,i)&&(this.g-=this.a.get(i).length),this.a.set(i,[a]),this.g+=1,this},t.get=function(i,a){return i?(i=this.la(i),0<i.length?String(i[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var i=[],a=this.a.ja(),u=0;u<a.length;u++){var h=a[u],p=encodeURIComponent(String(h));h=this.la(h);for(var g=0;g<h.length;g++){var w=p;h[g]!==""&&(w+="="+encodeURIComponent(String(h[g]))),i.push(w)}}return this.h=i.join("&")};function V0(i){var a=new Il;return a.h=i.h,i.a&&(a.a=new Ps(i.a),a.g=i.g),a}function Lo(i,a){return a=String(a),i.j&&(a=a.toLowerCase()),a}function sk(i,a){a&&!i.j&&(Mr(i),i.h=null,i.a.forEach(function(u,h){var p=h.toLowerCase();h!=p&&(ks(this,h),ks(this,p),0<u.length&&(this.h=null,this.a.set(Lo(this,p),S(u)),this.g+=u.length))},i)),i.j=a}function Os(i){this.a=sm(i)}function ok(i,a){a?i.a.a.set(Lt.Sa,a):ks(i.a.a,Lt.Sa)}function ak(i,a){a!==null?i.a.a.set(Lt.Qa,a?"1":"0"):ks(i.a.a,Lt.Qa)}function F0(i){return i.a.a.get(Lt.Pa)||null}function U0(i,a){a?i.a.a.set(Lt.PROVIDER_ID,a):ks(i.a.a,Lt.PROVIDER_ID)}Os.prototype.toString=function(){return this.a.toString()};var Lt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Mo;e:{var B0=v.navigator;if(B0){var j0=B0.userAgent;if(j0){Mo=j0;break e}}Mo=""}function Fe(i){return Mo.indexOf(i)!=-1}function $0(){return(Fe("Chrome")||Fe("CriOS"))&&!Fe("Edge")}function om(i){return om[" "](i),i}om[" "]=b;function lk(i,a){var u=hk;return Object.prototype.hasOwnProperty.call(u,i)?u[i]:u[i]=a(i)}var H0=Fe("Opera"),It=Fe("Trident")||Fe("MSIE"),Vr=Fe("Edge"),uk=Vr||It,mi=Fe("Gecko")&&!(Mo.toLowerCase().indexOf("webkit")!=-1&&!Fe("Edge"))&&!(Fe("Trident")||Fe("MSIE"))&&!Fe("Edge"),Nn=Mo.toLowerCase().indexOf("webkit")!=-1&&!Fe("Edge"),ck=Nn&&Fe("Mobile"),Fr=Fe("Macintosh");function q0(){var i=v.document;return i?i.documentMode:void 0}var ch;e:{var am="",lm=function(){var i=Mo;if(mi)return/rv:([^\);]+)(\)|;)/.exec(i);if(Vr)return/Edge\/([\d\.]+)/.exec(i);if(It)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(Nn)return/WebKit\/(\S+)/.exec(i);if(H0)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(lm&&(am=lm?lm[1]:""),It){var um=q0();if(um!=null&&um>parseFloat(am)){ch=String(um);break e}}ch=am}var hk={};function Ns(i){return lk(i,function(){for(var a=0,u=O(String(ch)).split("."),h=O(String(i)).split("."),p=Math.max(u.length,h.length),g=0;a==0&&g<p;g++){var w=u[g]||"",I=h[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;a=se(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||se(w[2].length==0,I[2].length==0)||se(w[2],I[2]),w=w[3],I=I[3]}while(a==0)}return 0<=a})}var Tl,W0=v.document;Tl=W0&&It?q0()||(W0.compatMode=="CSS1Compat"?parseInt(ch,10):5):void 0;function Vo(i,a){this.a=i===G0&&a||"",this.g=K0}Vo.prototype.ma=!0,Vo.prototype.ka=function(){return this.a},Vo.prototype.toString=function(){return"Const{"+this.a+"}"};var K0={},G0={};function Ds(){this.a="",this.h=Y0}Ds.prototype.ma=!0,Ds.prototype.ka=function(){return this.a.toString()},Ds.prototype.g=function(){return 1},Ds.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function z0(i){return i instanceof Ds&&i.constructor===Ds&&i.h===Y0?i.a:(et("expected object of type TrustedResourceUrl, got '"+i+"' of type "+P(i)),"type_error:TrustedResourceUrl")}function dk(){var i=iO;i instanceof Vo&&i.constructor===Vo&&i.g===K0?i=i.a:(et("expected object of type Const, got '"+i+"'"),i="type_error:Const");var a=new Ds;return a.a=i,a}var Y0={};function zn(){this.a="",this.h=X0}zn.prototype.ma=!0,zn.prototype.ka=function(){return this.a.toString()},zn.prototype.g=function(){return 1},zn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ur(i){return i instanceof zn&&i.constructor===zn&&i.h===X0?i.a:(et("expected object of type SafeUrl, got '"+i+"' of type "+P(i)),"type_error:SafeUrl")}var Q0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function hh(i){return i instanceof zn?i:(i=typeof i=="object"&&i.ma?i.ka():String(i),Q0.test(i)||(i="about:invalid#zClosurez"),cm(i))}function J0(i){return i instanceof zn?i:(i=typeof i=="object"&&i.ma?i.ka():String(i),Q0.test(i)||(i="about:invalid#zClosurez"),cm(i))}var X0={};function cm(i){var a=new zn;return a.a=i,a}cm("about:blank");function Fo(){this.a="",this.g=Z0}Fo.prototype.ma=!0;var Z0={};Fo.prototype.ka=function(){return this.a},Fo.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Br(){this.a="",this.j=ew,this.h=null}Br.prototype.g=function(){return this.h},Br.prototype.ma=!0,Br.prototype.ka=function(){return this.a.toString()},Br.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function dh(i){return i instanceof Br&&i.constructor===Br&&i.j===ew?i.a:(et("expected object of type SafeHtml, got '"+i+"' of type "+P(i)),"type_error:SafeHtml")}var ew={};function Al(i,a){var u=new Br;return u.a=i,u.h=a,u}Al("<!DOCTYPE html>",0);var fk=Al("",0);Al("<br>",0);var pk=function(i){var a=!1,u;return function(){return a||(u=i(),a=!0),u}}(function(){if(typeof document>"u")return!1;var i=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),i.appendChild(a),i.firstChild?(a=i.firstChild.firstChild,i.innerHTML=dh(fk),!a.parentElement):!1});function mk(i,a){if(i.src=z0(a),y===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&A.test(a)){y=a;break e}y=""}a=y,a&&i.setAttribute("nonce",a)}function Uo(i,a){a=a instanceof zn?a:J0(a),i.assign(Ur(a))}function jr(i,a){this.a=_(i)?i:0,this.g=_(a)?a:0}jr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},jr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},jr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},jr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function hm(i,a){this.width=i,this.height=a}t=hm.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function fh(i){return i?new mm(Sl(i)):ye||(ye=new mm)}function dm(i,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+i):tw(document,i,a)}function fm(i,a){var u=a||document;if(u.getElementsByClassName)i=u.getElementsByClassName(i)[0];else{u=document;var h=a||u;i=h.querySelectorAll&&h.querySelector&&i?h.querySelector(i?"."+i:""):tw(u,i,a)[0]||null}return i||null}function tw(i,a,u){var h;if(i=u||i,i.querySelectorAll&&i.querySelector&&a)return i.querySelectorAll(a?"."+a:"");if(a&&i.getElementsByClassName){var p=i.getElementsByClassName(a);return p}if(p=i.getElementsByTagName("*"),a){var g={};for(u=h=0;i=p[u];u++){var w=i.className;typeof w.split=="function"&&N(w.split(/\s+/),a)&&(g[h++]=i)}return g.length=h,g}return p}function gk(i,a){Se(a,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?i.style.cssText=u:h=="class"?i.className=u:h=="for"?i.htmlFor=u:nw.hasOwnProperty(h)?i.setAttribute(nw[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?i.setAttribute(h,u):i[h]=u})}var nw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ph(i){return i.scrollingElement?i.scrollingElement:(Nn||i.compatMode!="CSS1Compat")&&i.body||i.documentElement}function xs(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function Sl(i){return i.nodeType==9?i:i.ownerDocument||i.document}function pm(i,a){if("textContent"in i)i.textContent=a;else if(i.nodeType==3)i.data=String(a);else if(i.firstChild&&i.firstChild.nodeType==3){for(;i.lastChild!=i.firstChild;)i.removeChild(i.lastChild);i.firstChild.data=String(a)}else{for(var u;u=i.firstChild;)i.removeChild(u);i.appendChild(Sl(i).createTextNode(String(a)))}}function iw(i,a){return a?vk(i,function(u){return!a||E(u.className)&&N(u.className.split(/\s+/),a)}):null}function vk(i,a){for(var u=0;i;){if(a(i))return i;i=i.parentNode,u++}return null}function mm(i){this.a=i||v.document||document}mm.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var mh={Fc:!0},rw={Hc:!0},yk={Ec:!0},sw={Gc:!0};function $r(){throw Error("Do not instantiate directly")}$r.prototype.va=null,$r.prototype.toString=function(){return this.content};function Rl(i,a,u,h){if(i=i(a||Ek,void 0,u),h=(h||fh()).a.createElement("DIV"),i=_k(i),i.match(wk),i=Al(i,null),pk())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=dh(i),h.childNodes.length==1&&(i=h.firstChild,i.nodeType==1&&(h=i)),h}function _k(i){if(!re(i))return ce(String(i));if(i instanceof $r){if(i.fa===mh)return i.content;if(i.fa===sw)return ce(i.content)}return et("Soy template output is unsafe for use as HTML: "+i),"zSoyz"}var wk=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,Ek={};function bk(i){if(i!=null)switch(i.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function gh(){$r.call(this)}G(gh,$r),gh.prototype.fa=mh;function Ie(i){return i!=null&&i.fa===mh?i:i instanceof Br?ie(dh(i).toString(),i.g()):ie(ce(String(String(i))),bk(i))}function vh(){$r.call(this)}G(vh,$r),vh.prototype.fa=rw,vh.prototype.va=1;function yh(i,a){this.content=String(i),this.va=a??null}G(yh,$r),yh.prototype.fa=sw;function Ge(i){return new yh(i,void 0)}var ie=function(i){function a(u){this.content=u}return a.prototype=i.prototype,function(u,h){return u=new a(String(u)),h!==void 0&&(u.va=h),u}}(gh),Ik=function(i){function a(u){this.content=u}return a.prototype=i.prototype,function(u){return new a(String(u))}}(vh);function Tk(i){function a(){}var u={label:Tt("New password")};a.prototype=i,i=new a;for(var h in u)i[h]=u[h];return i}function Tt(i){return(i=String(i))?new yh(i,void 0):""}var ow=function(i){function a(u){this.content=u}return a.prototype=i.prototype,function(u,h){return u=String(u),u?(u=new a(u),h!==void 0&&(u.va=h),u):""}}(gh);function Dn(i){return i!=null&&i.fa===mh?String(String(i.content).replace(Ok,"").replace(Nk,"&lt;")).replace(Ck,Sk):ce(String(i))}function Ls(i){return i!=null&&i.fa===rw?i=String(i).replace(vm,gm):i instanceof zn?i=String(Ur(i).toString()).replace(vm,gm):(i=String(i),kk.test(i)?i=i.replace(vm,gm):(et("Bad value `%s` for |filterNormalizeUri",[i]),i="#zSoyz")),i}function aw(i){return i!=null&&i.fa===yk?i=i.content:i==null?i="":i instanceof Fo?i instanceof Fo&&i.constructor===Fo&&i.g===Z0?i=i.a:(et("expected object of type SafeStyle, got '"+i+"' of type "+P(i)),i="type_error:SafeStyle"):(i=String(i),Pk.test(i)||(et("Bad value `%s` for |filterCssValue",[i]),i="zSoyz")),i}var Ak={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Sk(i){return Ak[i]}var Rk={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function gm(i){return Rk[i]}var Ck=/[\x00\x22\x27\x3c\x3e]/g,vm=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Pk=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,kk=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Ok=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Nk=/</g;function ym(){return Ge("Enter a valid phone number")}function lw(){return Ge("Unable to send password reset code to specified email")}function uw(){return Ge("Something went wrong. Please try again.")}function cw(){return Ge("This email already exists without any means of sign-in. Please reset the password to recover.")}function hw(i){i=i||{};var a="";switch(i.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return Ge(a)}function dw(){return Ge("Please login again to perform this operation")}function Cl(i,a,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=Dk+i,!(i=a)){switch(i="",this.code){case"firebaseui/merge-conflict":i+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:i+=uw()}i=Ge(i).toString()}this.message=i||"",this.credential=u||null}c(Cl,Error),Cl.prototype.toJSON=function(){return{code:this.code,message:this.message}};var Dk="firebaseui/";function Ms(){this.T=this.T,this.C=this.C}var xk=0;Ms.prototype.T=!1,Ms.prototype.m=function(){!this.T&&(this.T=!0,this.o(),xk!=0)&&(this[fe]||(this[fe]=++ae))};function Pl(i,a){i.T?_(void 0)?a.call(void 0):a():(i.C||(i.C=[]),i.C.push(_(void 0)?j(a,void 0):a))}Ms.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function kl(i){i&&typeof i.m=="function"&&i.m()}var Lk=Object.freeze||function(i){return i},fw=!It||9<=Number(Tl),Mk=It&&!Ns("9"),Vk=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{v.addEventListener("test",b,a),v.removeEventListener("test",b,a)}catch{}return i}();function hr(i,a){this.type=i,this.g=this.target=a,this.h=!1,this.qb=!0}hr.prototype.stopPropagation=function(){this.h=!0},hr.prototype.preventDefault=function(){this.qb=!1};function xn(i,a){if(hr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var u=this.type=i.type,h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=a,a=i.relatedTarget){if(mi){e:{try{om(a.nodeName);var p=!0;break e}catch{}p=!1}p||(a=null)}}else u=="mouseover"?a=i.fromElement:u=="mouseout"&&(a=i.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.keyCode=i.keyCode||0,this.key=i.key||"",this.j=i.charCode||(u=="keypress"?i.keyCode:0),this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=E(i.pointerType)?i.pointerType:Fk[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}G(xn,hr);var Fk=Lk({2:"touch",3:"pen",4:"mouse"});xn.prototype.stopPropagation=function(){xn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},xn.prototype.preventDefault=function(){xn.K.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,Mk)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}};var Ol="closure_listenable_"+(1e6*Math.random()|0),Uk=0;function Bk(i,a,u,h,p){this.listener=i,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.La=p,this.key=++Uk,this.sa=this.Ia=!1}function _h(i){i.sa=!0,i.listener=null,i.proxy=null,i.src=null,i.La=null}function wh(i){this.src=i,this.a={},this.g=0}wh.prototype.add=function(i,a,u,h,p){var g=i.toString();i=this.a[g],i||(i=this.a[g]=[],this.g++);var w=wm(i,a,h,p);return-1<w?(a=i[w],u||(a.Ia=!1)):(a=new Bk(a,this.src,g,!!h,p),a.Ia=u,i.push(a)),a};function _m(i,a){var u=a.type;u in i.a&&ne(i.a[u],a)&&(_h(a),i.a[u].length==0&&(delete i.a[u],i.g--))}function wm(i,a,u,h){for(var p=0;p<i.length;++p){var g=i[p];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==h)return p}return-1}var Em="closure_lm_"+(1e6*Math.random()|0),bm={};function gi(i,a,u,h,p){if(h&&h.once)return Nl(i,a,u,h,p);if(F(a)){for(var g=0;g<a.length;g++)gi(i,a[g],u,h,p);return null}return u=Tm(u),i&&i[Ol]?i.J.add(String(a),u,!1,re(h)?!!h.capture:!!h,p):pw(i,a,u,!1,h,p)}function pw(i,a,u,h,p,g){if(!a)throw Error("Invalid event type");var w=re(p)?!!p.capture:!!p,I=Eh(i);if(I||(i[Em]=I=new wh(i)),u=I.add(a,u,h,w,g),u.proxy)return u;if(h=jk(),u.proxy=h,h.src=i,h.listener=u,i.addEventListener)Vk||(p=w),p===void 0&&(p=!1),i.addEventListener(a.toString(),h,p);else if(i.attachEvent)i.attachEvent(mw(a.toString()),h);else if(i.addListener&&i.removeListener)i.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function jk(){var i=$k,a=fw?function(u){return i.call(a.src,a.listener,u)}:function(u){if(u=i.call(a.src,a.listener,u),!u)return u};return a}function Nl(i,a,u,h,p){if(F(a)){for(var g=0;g<a.length;g++)Nl(i,a[g],u,h,p);return null}return u=Tm(u),i&&i[Ol]?i.J.add(String(a),u,!0,re(h)?!!h.capture:!!h,p):pw(i,a,u,!0,h,p)}function Vs(i,a,u,h,p){if(F(a))for(var g=0;g<a.length;g++)Vs(i,a[g],u,h,p);else h=re(h)?!!h.capture:!!h,u=Tm(u),i&&i[Ol]?(i=i.J,a=String(a).toString(),a in i.a&&(g=i.a[a],u=wm(g,u,h,p),-1<u&&(_h(g[u]),z(g,u),g.length==0&&(delete i.a[a],i.g--)))):i&&(i=Eh(i))&&(a=i.a[a.toString()],i=-1,a&&(i=wm(a,u,h,p)),(u=-1<i?a[i]:null)&&Hr(u))}function Hr(i){if(typeof i!="number"&&i&&!i.sa){var a=i.src;if(a&&a[Ol])_m(a.J,i);else{var u=i.type,h=i.proxy;a.removeEventListener?a.removeEventListener(u,h,i.capture):a.detachEvent?a.detachEvent(mw(u),h):a.addListener&&a.removeListener&&a.removeListener(h),(u=Eh(a))?(_m(u,i),u.g==0&&(u.src=null,a[Em]=null)):_h(i)}}}function mw(i){return i in bm?bm[i]:bm[i]="on"+i}function gw(i,a,u,h){var p=!0;if((i=Eh(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var g=a[i];g&&g.capture==u&&!g.sa&&(g=vw(g,h),p=p&&g!==!1)}return p}function vw(i,a){var u=i.listener,h=i.La||i.src;return i.Ia&&Hr(i),u.call(h,a)}function $k(i,a){if(i.sa)return!0;if(!fw){if(!a)e:{a=["window","event"];for(var u=v,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break e}a=u}if(h=a,a=new xn(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=a.g;p;p=p.parentNode)h.push(p);for(i=i.type,p=h.length-1;!a.h&&0<=p;p--){a.g=h[p];var g=gw(h[p],i,!0,a);u=u&&g}for(p=0;!a.h&&p<h.length;p++)a.g=h[p],g=gw(h[p],i,!1,a),u=u&&g}return u}return vw(i,new xn(a,this))}function Eh(i){return i=i[Em],i instanceof wh?i:null}var Im="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(i){return Q(i)?i:(i[Im]||(i[Im]=function(a){return i.handleEvent(a)}),i[Im])}function Mt(){Ms.call(this),this.J=new wh(this),this.wb=this,this.Ha=null}G(Mt,Ms),Mt.prototype[Ol]=!0,Mt.prototype.Za=function(i){this.Ha=i},Mt.prototype.removeEventListener=function(i,a,u,h){Vs(this,i,a,u,h)};function qr(i,a){var u,h=i.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(i=i.wb,h=a.type||a,E(a))a=new hr(a,i);else if(a instanceof hr)a.target=a.target||i;else{var p=a;a=new hr(h,i),Ke(a,p)}if(p=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];p=bh(w,h,!0,a)&&p}if(a.h||(w=a.g=i,p=bh(w,h,!0,a)&&p,a.h||(p=bh(w,h,!1,a)&&p)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],p=bh(w,h,!1,a)&&p;return p}Mt.prototype.o=function(){if(Mt.K.o.call(this),this.J){var i=this.J,a;for(a in i.a){for(var u=i.a[a],h=0;h<u.length;h++)_h(u[h]);delete i.a[a],i.g--}}this.Ha=null};function bh(i,a,u,h){if(a=i.J.a[String(a)],!a)return!0;a=a.concat();for(var p=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var I=w.listener,k=w.La||w.src;w.Ia&&_m(i.J,w),p=I.call(k,h)!==!1&&p}}return p&&h.qb!=0}var Yn={},yw=0;function _w(i,a){if(!i)throw Error("Event target element must be provided!");if(i=Am(i),Yn[i]&&Yn[i].length)for(var u=0;u<Yn[i].length;u++)qr(Yn[i][u],a)}function Hk(i){var a=Am(i.N());Yn[a]&&Yn[a].length&&(de(Yn[a],function(u){return u==i}),Yn[a].length||delete Yn[a])}function Am(i){return typeof i.a>"u"&&(i.a=yw,yw++),i.a}function Ih(i){if(!i)throw Error("Event target element must be provided!");Mt.call(this),this.a=i}c(Ih,Mt),Ih.prototype.N=function(){return this.a},Ih.prototype.register=function(){var i=Am(this.N());Yn[i]?N(Yn[i],this)||Yn[i].push(this):Yn[i]=[this]};function ww(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function Sm(i,a){this.h=i,this.j=a,this.g=0,this.a=null}Sm.prototype.get=function(){if(0<this.g){this.g--;var i=this.a;this.a=i.next,i.next=null}else i=this.h();return i};function Ew(i,a){i.j(a),100>i.g&&(i.g++,a.next=i.a,i.a=a)}function bw(){this.g=this.a=null}var Iw=new Sm(function(){return new Rm},function(i){i.reset()});bw.prototype.add=function(i,a){var u=Iw.get();u.set(i,a),this.g?this.g.next=u:this.a=u,this.g=u};function qk(){var i=Aw,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.g=null),a.next=null),a}function Rm(){this.next=this.g=this.a=null}Rm.prototype.set=function(i,a){this.a=i,this.g=a,this.next=null},Rm.prototype.reset=function(){this.next=this.g=this.a=null};function Tw(i){v.setTimeout(function(){throw i},0)}var Cm;function Wk(){var i=v.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Fe("Presto")&&(i=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var w="callImmediate"+Math.random(),I=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=j(function(k){(I=="*"||k.origin==I)&&k.data==w&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,I)}}}),typeof i<"u"&&!Fe("Trident")&&!Fe("MSIE")){var a=new i,u={},h=u;return a.port1.onmessage=function(){if(_(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){h.next={gb:p},h=h.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function Pm(i,a){Th||Kk(),km||(Th(),km=!0),Aw.add(i,a)}var Th;function Kk(){if(v.Promise&&v.Promise.resolve){var i=v.Promise.resolve(void 0);Th=function(){i.then(Sw)}}else Th=function(){var a=Sw;!Q(v.setImmediate)||v.Window&&v.Window.prototype&&!Fe("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(Cm||(Cm=Wk()),Cm(a)):v.setImmediate(a)}}var km=!1,Aw=new bw;function Sw(){for(var i;i=qk();){try{i.a.call(i.g)}catch(a){Tw(a)}Ew(Iw,i)}km=!1}function Vt(i){if(this.a=Fs,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,i!=b)try{var a=this;i.call(void 0,function(u){Us(a,Dl,u)},function(u){if(!(u instanceof jo))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}Us(a,dr,u)})}catch(u){Us(this,dr,u)}}var Fs=0,Dl=2,dr=3;function Rw(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Rw.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Cw=new Sm(function(){return new Rw},function(i){i.reset()});function Om(i,a,u){var h=Cw.get();return h.s=i,h.g=a,h.j=u,h}function At(i){if(i instanceof Vt)return i;var a=new Vt(b);return Us(a,Dl,i),a}function Bo(i){return new Vt(function(a,u){u(i)})}Vt.prototype.then=function(i,a,u){return kw(this,Q(i)?i:null,Q(a)?a:null,u)},Vt.prototype.$goog_Thenable=!0,t=Vt.prototype,t.fc=function(i,a){return i=Om(i,i,a),i.h=!0,Nm(this,i),this},t.Ca=function(i,a){return kw(this,null,i,a)},t.cancel=function(i){this.a==Fs&&Pm(function(){var a=new jo(i);Pw(this,a)},this)};function Pw(i,a){if(i.a==Fs)if(i.h){var u=i.h;if(u.g){for(var h=0,p=null,g=null,w=u.g;w&&(w.h||(h++,w.a==i&&(p=w),!(p&&1<h)));w=w.next)p||(g=w);p&&(u.a==Fs&&h==1?Pw(u,a):(g?(h=g,h.next==u.j&&(u.j=h),h.next=h.next.next):Nw(u),Dw(u,p,dr,a)))}i.h=null}else Us(i,dr,a)}function Nm(i,a){i.g||i.a!=Dl&&i.a!=dr||Ow(i),i.j?i.j.next=a:i.g=a,i.j=a}function kw(i,a,u,h){var p=Om(null,null,null);return p.a=new Vt(function(g,w){p.s=a?function(I){try{var k=a.call(h,I);g(k)}catch(H){w(H)}}:g,p.g=u?function(I){try{var k=u.call(h,I);!_(k)&&I instanceof jo?w(I):g(k)}catch(H){w(H)}}:w}),p.a.h=i,Nm(i,p),p.a}t.hc=function(i){this.a=Fs,Us(this,Dl,i)},t.ic=function(i){this.a=Fs,Us(this,dr,i)};function Us(i,a,u){if(i.a==Fs){i===u&&(a=dr,u=new TypeError("Promise cannot resolve to itself")),i.a=1;e:{var h=u,p=i.hc,g=i.ic;if(h instanceof Vt){Nm(h,Om(p||b,g||null,i));var w=!0}else if(ww(h))h.then(p,g,i),w=!0;else{if(re(h))try{var I=h.then;if(Q(I)){Gk(h,I,p,g,i),w=!0;break e}}catch(k){g.call(i,k),w=!0;break e}w=!1}}w||(i.A=u,i.a=a,i.h=null,Ow(i),a!=dr||u instanceof jo||zk(i,u))}}function Gk(i,a,u,h,p){function g(k){I||(I=!0,h.call(p,k))}function w(k){I||(I=!0,u.call(p,k))}var I=!1;try{a.call(i,w,g)}catch(k){g(k)}}function Ow(i){i.i||(i.i=!0,Pm(i.Hb,i))}function Nw(i){var a=null;return i.g&&(a=i.g,i.g=a.next,a.next=null),i.g||(i.j=null),a}t.Hb=function(){for(var i;i=Nw(this);)Dw(this,i,this.a,this.A);this.i=!1};function Dw(i,a,u,h){if(u==dr&&a.g&&!a.h)for(;i&&i.s;i=i.h)i.s=!1;if(a.a)a.a.h=null,xw(a,u,h);else try{a.h?a.s.call(a.j):xw(a,u,h)}catch(p){Lw.call(null,p)}Ew(Cw,a)}function xw(i,a,u){a==Dl?i.s.call(i.j,u):i.g&&i.g.call(i.j,u)}function zk(i,a){i.s=!0,Pm(function(){i.s&&Lw.call(null,a)})}var Lw=Tw;function jo(i){te.call(this,i)}G(jo,te),jo.prototype.name="cancel";function Mw(i,a,u){a||(a={}),u=u||window;var h=i instanceof zn?i:hh(typeof i.href<"u"?i.href:String(i));i=a.target||i.target;var p=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(a[g]?1:0))}var g=p.join(",");return(Fe("iPhone")&&!Fe("iPod")&&!Fe("iPad")||Fe("iPad")||Fe("iPod"))&&u.navigator&&u.navigator.standalone&&i&&i!="_self"?(g=u.document.createElement("A"),h=h instanceof zn?h:J0(h),g.href=Ur(h),g.setAttribute("target",i),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",i,g),a=Ur(h).toString(),u&&(uk&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Al('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ce(a)+'">',null),u.document.write(dh(a)),u.document.close())):(u=u.open(Ur(h).toString(),i,g))&&a.noopener&&(u.opener=null),u}function Vw(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function $o(i){Mw(i,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Ah(i,a){if(i=re(i)&&i.nodeType==1?i:document.querySelector(String(i)),i==null)throw Error(a||"Cannot find element.");return i}function fr(){return window.location.href}function Yk(){var i=null;return new Vt(function(a){v.document.readyState=="complete"?a():(i=function(){a()},Nl(window,"load",i))}).Ca(function(a){throw Vs(window,"load",i),a})}function Qk(){for(var i=32,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function Jk(i,a,u){return u=u===void 0?{}:u,Object.keys(i).filter(function(h){return a.includes(h)}).reduce(function(h,p){return h[p]=i[p],h},u)}function Wr(i){var a=eO;this.s=[],this.T=a,this.O=i||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Wr.prototype.cancel=function(i){if(this.a)this.h instanceof Wr&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,i?a.cancel(i):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(i=new Ll,Sh(this),xl(this,!1,i))}},Wr.prototype.L=function(i,a){this.A=!1,xl(this,i,a)};function xl(i,a,u){i.a=!0,i.h=u,i.j=!a,Bw(i)}function Sh(i){if(i.a){if(!i.J)throw new Rh;i.J=!1}}Wr.prototype.callback=function(i){Sh(this),xl(this,!0,i)};function Fw(i,a,u){i.s.push([a,u,void 0]),i.a&&Bw(i)}Wr.prototype.then=function(i,a,u){var h,p,g=new Vt(function(w,I){h=w,p=I});return Fw(this,h,function(w){w instanceof Ll?g.cancel():p(w)}),g.then(i,a,u)},Wr.prototype.$goog_Thenable=!0;function Uw(i){return Zt(i.s,function(a){return Q(a[1])})}function Bw(i){if(i.i&&i.a&&Uw(i)){var a=i.i,u=Ch[a];u&&(v.clearTimeout(u.a),delete Ch[a]),i.i=0}i.g&&(i.g.C--,delete i.g),a=i.h;for(var h=u=!1;i.s.length&&!i.A;){var p=i.s.shift(),g=p[0],w=p[1];if(p=p[2],g=i.j?w:g)try{var I=g.call(p||i.O,a);_(I)&&(i.j=i.j&&(I==a||I instanceof Error),i.h=a=I),(ww(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(h=!0,i.A=!0)}catch(k){a=k,i.j=!0,Uw(i)||(u=!0)}}i.h=a,h&&(I=j(i.L,i,!0),h=j(i.L,i,!1),a instanceof Wr?(Fw(a,I,h),a.l=!0):a.then(I,h)),u&&(a=new jw(a),Ch[a.a]=a,i.i=a.a)}function Rh(){te.call(this)}G(Rh,te),Rh.prototype.message="Deferred has already fired",Rh.prototype.name="AlreadyCalledError";function Ll(){te.call(this)}G(Ll,te),Ll.prototype.message="Deferred was canceled",Ll.prototype.name="CanceledError";function jw(i){this.a=v.setTimeout(j(this.h,this),0),this.g=i}jw.prototype.h=function(){throw delete Ch[this.a],this.g};var Ch={};function Xk(i){var a={},u=a.document||document,h=z0(i).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},w=new Wr(g),I=null,k=a.timeout!=null?a.timeout:5e3;return 0<k&&(I=window.setTimeout(function(){Ph(p,!0);var H=new Dm(nO,"Timeout reached for loading script "+h);Sh(w),xl(w,!1,H)},k),g.sb=I),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(Ph(p,a.xc||!1,I),w.callback(null))},p.onerror=function(){Ph(p,!0,I);var H=new Dm(tO,"Error while loading script "+h);Sh(w),xl(w,!1,H)},g=a.attributes||{},Ke(g,{type:"text/javascript",charset:"UTF-8"}),gk(p,g),mk(p,i),Zk(u).appendChild(p),w}function Zk(i){var a=(i||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:i.documentElement}function eO(){if(this&&this.rb){var i=this.rb;i&&i.tagName=="SCRIPT"&&Ph(i,!0,this.sb)}}function Ph(i,a,u){u!=null&&v.clearTimeout(u),i.onload=b,i.onerror=b,i.onreadystatechange=b,a&&window.setTimeout(function(){xs(i)},0)}var tO=0,nO=1;function Dm(i,a){var u="Jsloader error (code #"+i+")";a&&(u+=": "+a),te.call(this,u),this.code=i}G(Dm,te);function Ml(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function xm(i){this.a=i||Ml(),this.h=!1,this.g=null}xm.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function $w(i,a,u){if(i.a&&a)return function(){return i.h=!0,new Vt(function(p){i.g=p,i.a.initialize({client_id:a,callback:p,auto_select:!u}),i.a.prompt()})}();if(a){var h=Lm.Xa().load().then(function(){return i.a=Ml(),$w(i,a,u)}).Ca(function(){return null});return At(h)}return At(null)}R(xm);var iO=new Vo(G0,"https://accounts.google.com/gsi/client");function Lm(){this.a=null}Lm.prototype.load=function(){var i=this;if(this.a)return this.a;var a=dk();return Ml()?At():this.a=Yk().then(function(){if(!Ml())return new Vt(function(u,h){var p=setTimeout(function(){i.a=null,h(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},At(Xk(a)).then(function(){Ml()&&u()}).Ca(function(g){clearTimeout(p),i.a=null,h(g)})})})},R(Lm);function Mm(i,a){this.a=i,this.g=a||function(u){throw u}}Mm.prototype.confirm=function(i){return At(this.a.confirm(i)).Ca(this.g)};function Vm(i,a,u){this.reset(i,a,u,void 0,void 0)}Vm.prototype.a=null,Vm.prototype.reset=function(i,a,u,h,p){this.h=h||kt(),this.j=i,this.s=a,this.g=u,delete this.a};function Fm(i){this.s=i,this.a=this.h=this.j=this.g=null}function kh(i,a){this.name=i,this.value=a}kh.prototype.toString=function(){return this.name};var Hw=new kh("SEVERE",1e3),qw=new kh("WARNING",900),Ww=new kh("CONFIG",700);function Kw(i){return i.j?i.j:i.g?Kw(i.g):(et("Root logger has no level set."),null)}Fm.prototype.log=function(i,a,u){if(i.value>=Kw(this).value)for(Q(a)&&(a=a()),i=new Vm(i,String(a),this.s),u&&(i.a=u),u=this;u;){var h=u,p=i;if(h.a)for(var g=0;a=h.a[g];g++)a(p);u=u.g}};var Um={},Vl=null;function Gw(){Vl||(Vl=new Fm(""),Um[""]=Vl,Vl.j=Ww)}function zw(i){Gw();var a;if(!(a=Um[i])){a=new Fm(i);var u=i.lastIndexOf("."),h=i.substr(u+1);u=zw(i.substr(0,u)),u.h||(u.h={}),u.h[h]=a,a.g=u,Um[i]=a}return a}function Oh(){this.a=kt()}var Bm=null;Oh.prototype.set=function(i){this.a=i},Oh.prototype.reset=function(){this.set(kt())},Oh.prototype.get=function(){return this.a};function Fl(i){this.j=i||"",Bm||(Bm=new Oh),this.s=Bm}Fl.prototype.a=!0,Fl.prototype.g=!0,Fl.prototype.h=!1;function Bs(i){return 10>i?"0"+i:String(i)}function rO(i,a){i=(i.h-a)/1e3,a=i.toFixed(3);var u=0;if(1>i)u=2;else for(;100>i;)u++,i*=10;for(;0<u--;)a=" "+a;return a}function Yw(i){Fl.call(this,i)}G(Yw,Fl);function sO(i,a){var u=[];if(u.push(i.j," "),i.g){var h=new Date(a.h);u.push("[",Bs(h.getFullYear()-2e3)+Bs(h.getMonth()+1)+Bs(h.getDate())+" "+Bs(h.getHours())+":"+Bs(h.getMinutes())+":"+Bs(h.getSeconds())+"."+Bs(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",rO(a,i.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),i.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),i.a&&u.push(`
`),u.join("")}function Qw(){this.s=j(this.h,this),this.a=new Yw,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}Qw.prototype.h=function(i){function a(g){if(g){if(g.value>=Hw.value)return"error";if(g.value>=qw.value)return"warn";if(g.value>=Ww.value)return"log"}return"debug"}if(!this.j[i.g]){var u=sO(this.a,i),h=oO;if(h){var p=a(i.j);aO(h,p,u,i.a)}}};var oO=v.console;function aO(i,a,u,h){i[a]?i[a](u,h||""):i.log(u,h||"")}function Qn(i,a){var u=jm;u&&u.log(Hw,i,a)}var jm;jm=zw("firebaseui");var $m=new Qw;if($m.g!=1){var Nh;Gw(),Nh=Vl;var lO=$m.s;Nh.a||(Nh.a=[]),Nh.a.push(lO),$m.g=!0}function Kr(i){var a=jm;a&&a.log(qw,i,void 0)}function Jw(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=Jw.prototype,t.set=function(i,a,u,h,p,g){if(/[;=\s]/.test(i))throw Error('Invalid cookie name "'+i+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');_(u)||(u=-1),p=p?";domain="+p:"",h=h?";path="+h:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(kt()+1e3*u).toUTCString(),this.a.cookie=i+"="+a+p+h+u+g},t.get=function(i,a){for(var u=i+"=",h=(this.a.cookie||"").split(";"),p=0,g;p<h.length;p++){if(g=O(h[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==i)return""}return a},t.ja=function(){return Hm(this).keys},t.la=function(){return Hm(this).values},t.clear=function(){for(var i=Hm(this).keys,a=i.length-1;0<=a;a--){var u=i[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function Hm(i){i=(i.a.cookie||"").split(";");for(var a=[],u=[],h,p,g=0;g<i.length;g++)p=O(i[g]),h=p.indexOf("="),h==-1?(a.push(""),u.push(p)):(a.push(p.substring(0,h)),u.push(p.substring(h+1)));return{keys:a,values:u}}var Dh=new Jw;function Xw(){}function Ho(i,a,u,h){this.h=typeof i<"u"&&i!==null?i:-1,this.g=a||null,this.a=u||null,this.j=!!h}c(Ho,Xw),Ho.prototype.set=function(i,a){Dh.set(i,a,this.h,this.g,this.a,this.j)},Ho.prototype.get=function(i){return Dh.get(i)||null},Ho.prototype.ra=function(i){var a=this.g,u=this.a;Dh.get(i),Dh.set(i,"",0,a,u)};function qm(i,a){this.g=i,this.a=a||null}function Zw(i){return{email:i.g,credential:i.a&&i.a.toJSON()}}function eE(i){if(i&&i.email){var a=i.credential&&pe.auth.AuthCredential.fromJSON(i.credential);return new qm(i.email,a)}return null}function tE(i){this.a=i||null}function nE(i){for(var a=[],u=0,h=0;h<i.length;h++){var p=i.charCodeAt(h);255<p&&(a[u++]=p&255,p>>=8),a[u++]=p}return a}function uO(i){return xo(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function xh(i){for(this.i=i,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(qo*(this.j+1)),i=0;i<this.g;i++)this.a[i]=[this.i[4*i],this.i[4*i+1],this.i[4*i+2],this.i[4*i+3]];var a=Array(4);for(i=this.g;i<qo*(this.j+1);i++){if(a[0]=this.a[i-1][0],a[1]=this.a[i-1][1],a[2]=this.a[i-1][2],a[3]=this.a[i-1][3],i%this.g==0){var u=a,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,aE(a),a[0]^=Mh[i/this.g][0],a[1]^=Mh[i/this.g][1],a[2]^=Mh[i/this.g][2],a[3]^=Mh[i/this.g][3]}else 6<this.g&&i%this.g==4&&aE(a);this.a[i]=Array(4),this.a[i][0]=this.a[i-this.g][0]^a[0],this.a[i][1]=this.a[i-this.g][1]^a[1],this.a[i][2]=this.a[i-this.g][2]^a[2],this.a[i][3]=this.a[i-this.g][3]^a[3]}}xh.prototype.A=16;var qo=xh.prototype.A/4;function iE(i,a){for(var u,h=0;h<qo;h++)for(var p=0;4>p;p++)u=4*p+h,u=a[u],i.h[h][p]=u}function rE(i){for(var a=[],u=0;u<qo;u++)for(var h=0;4>h;h++)a[4*h+u]=i.h[u][h];return a}function Wo(i,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)i.h[u][h]^=i.a[4*a+h][u]}function Lh(i,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)i.h[u][h]=a[i.h[u][h]]}function sE(i){for(var a=1;4>a;a++)for(var u=0;4>u;u++)i.s[a][u]=i.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)i.h[a][u]=i.s[a][(u+a)%qo]}function oE(i){for(var a=1;4>a;a++)for(var u=0;4>u;u++)i.s[a][(u+a)%qo]=i.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)i.h[a][u]=i.s[a][u]}function aE(i){i[0]=Ko[i[0]],i[1]=Ko[i[1]],i[2]=Ko[i[2]],i[3]=Ko[i[3]]}var Ko=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],lE=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Mh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Vh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Fh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Uh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Bh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],jh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],$h=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function uE(i,a){i=new xh(hE(i)),a=nE(a);for(var u=a.splice(0,16),h="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=i,iE(p,u),Wo(p,0),u=1;u<p.j;++u){Lh(p,Ko),sE(p),g=p.h;for(var w=p.s[0],I=0;4>I;I++)w[0]=g[0][I],w[1]=g[1][I],w[2]=g[2][I],w[3]=g[3][I],g[0][I]=Vh[w[0]]^Fh[w[1]]^w[2]^w[3],g[1][I]=w[0]^Vh[w[1]]^Fh[w[2]]^w[3],g[2][I]=w[0]^w[1]^Vh[w[2]]^Fh[w[3]],g[3][I]=Fh[w[0]]^w[1]^w[2]^Vh[w[3]];Wo(p,u)}Lh(p,Ko),sE(p),Wo(p,p.j),h+=uO(rE(p)),u=a.splice(0,16)}return h}function cE(i,a){i=new xh(hE(i));for(var u=[],h=0;h<a.length;h+=2)u.push(parseInt(a.substring(h,h+2),16));var p=u.splice(0,16);for(a="";p.length;){for(h=i,iE(h,p),Wo(h,h.j),p=1;p<h.j;++p){oE(h),Lh(h,lE),Wo(h,h.j-p);for(var g=h.h,w=h.s[0],I=0;4>I;I++)w[0]=g[0][I],w[1]=g[1][I],w[2]=g[2][I],w[3]=g[3][I],g[0][I]=$h[w[0]]^Bh[w[1]]^jh[w[2]]^Uh[w[3]],g[1][I]=Uh[w[0]]^$h[w[1]]^Bh[w[2]]^jh[w[3]],g[2][I]=jh[w[0]]^Uh[w[1]]^$h[w[2]]^Bh[w[3]],g[3][I]=Bh[w[0]]^jh[w[1]]^Uh[w[2]]^$h[w[3]]}if(oE(h),Lh(h,lE),Wo(h,0),h=rE(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(p="",g=0;g<h.length;g+=8192)p+=String.fromCharCode.apply(null,C(h,g,g+8192));h=p}a+=h,p=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function hE(i){i=nE(i.substring(0,32));for(var a=32-i.length,u=0;u<a;u++)i.push(0);return i}function dE(i){var a=[];return Wm(new cO,i,a),a.join("")}function cO(){}function Wm(i,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(F(a)){var h=a;a=h.length,u.push("[");for(var p="",g=0;g<a;g++)u.push(p),Wm(i,h[g],u),p=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),p="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g=a[h],typeof g!="function"&&(u.push(p),pE(h,u),u.push(":"),Wm(i,g,u),p=","));u.push("}");return}}switch(typeof a){case"string":pE(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var fE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},hO=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function pE(i,a){a.push('"',i.replace(hO,function(u){var h=fE[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),fE[u]=h),h}),'"')}function Ul(i){this.a=i}Ul.prototype.set=function(i,a){_(a)?this.a.set(i,dE(a)):this.a.ra(i)},Ul.prototype.get=function(i){try{var a=this.a.get(i)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function Hh(){}G(Hh,Xw),Hh.prototype.clear=function(){var i=Cs(this.ha(!0)),a=this;tt(i,function(u){a.ra(u)})};function qh(i){this.a=i}G(qh,Hh);function Wh(i){if(!i.a)return!1;try{return i.a.setItem("__sak","1"),i.a.removeItem("__sak"),!0}catch{return!1}}t=qh.prototype,t.set=function(i,a){try{this.a.setItem(i,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(i){if(i=this.a.getItem(i),!E(i)&&i!==null)throw"Storage mechanism: Invalid value was encountered";return i},t.ra=function(i){this.a.removeItem(i)},t.ha=function(i){var a=0,u=this.a,h=new Yt;return h.next=function(){if(a>=u.length)throw lt;var p=u.key(a++);if(i)return p;if(p=u.getItem(p),!E(p))throw"Storage mechanism: Invalid value was encountered";return p},h},t.clear=function(){this.a.clear()},t.key=function(i){return this.a.key(i)};function Km(){var i=null;try{i=window.localStorage||null}catch{}this.a=i}G(Km,qh);function Gm(){var i=null;try{i=window.sessionStorage||null}catch{}this.a=i}G(Gm,qh);function Go(i,a){this.g=i,this.a=a+"::"}G(Go,Hh),Go.prototype.set=function(i,a){this.g.set(this.a+i,a)},Go.prototype.get=function(i){return this.g.get(this.a+i)},Go.prototype.ra=function(i){this.g.ra(this.a+i)},Go.prototype.ha=function(i){var a=this.g.ha(!0),u=this,h=new Yt;return h.next=function(){for(var p=a.next();p.substr(0,u.a.length)!=u.a;)p=a.next();return i?p.substr(u.a.length):u.g.get(p)},h},Wh(new Km);var mE,gE=new Gm;mE=Wh(gE)?new Go(gE,"firebaseui"):null;var zm=new Ul(mE),Ym={name:"pendingEmailCredential",storage:zm},js={name:"redirectStatus",storage:zm},Bl={name:"redirectUrl",storage:zm},zo={name:"emailForSignIn",storage:new Ul(new Ho(3600,"/"))},jl={name:"pendingEncryptedCredential",storage:new Ul(new Ho(3600,"/"))};function Yo(i,a){return i.storage.get(a?i.name+":"+a:i.name)}function $n(i,a){i.storage.a.ra(a?i.name+":"+a:i.name)}function Qo(i,a,u){i.storage.set(u?i.name+":"+u:i.name,a)}function vE(i){return Yo(Bl,i)||null}function Bi(i){return i=Yo(Ym,i)||null,eE(i)}function ji(i){$n(Ym,i)}function yE(i,a){Qo(Ym,Zw(i),a)}function Qm(i){return(i=Yo(js,i)||null)&&typeof i.tenantId<"u"?new tE(i.tenantId):null}function dO(i,a){Qo(js,{tenantId:i.a},a)}function fO(i,a){a=Yo(zo,a);var u=null;if(a)try{var h=cE(i,a),p=JSON.parse(h);u=p&&p.email||null}catch{}return u}function pO(i,a){a=Yo(jl,a);var u=null;if(a)try{var h=cE(i,a);u=JSON.parse(h)}catch{}return eE(u||null)}function mO(i,a,u){Qo(jl,uE(i,JSON.stringify(Zw(a))),u)}function Jm(){this.W={}}function Ot(i,a,u){if(a.toLowerCase()in i.W)throw Error("Configuration "+a+" has already been defined.");i.W[a.toLowerCase()]=u}function Xm(i,a,u){if(!(a.toLowerCase()in i.W))throw Error("Configuration "+a+" is not defined.");i.W[a.toLowerCase()]=u}Jm.prototype.get=function(i){if(!(i.toLowerCase()in this.W))throw Error("Configuration "+i+" is not defined.");return this.W[i.toLowerCase()]};function Zm(i,a){if(i=i.get(a),!i)throw Error("Configuration "+a+" is required.");return i}function eg(){this.g=void 0,this.a={}}t=eg.prototype,t.set=function(i,a){_E(this,i,a,!1)},t.add=function(i,a){_E(this,i,a,!0)};function _E(i,a,u,h){for(var p=0;p<a.length;p++){var g=a.charAt(p);i.a[g]||(i.a[g]=new eg),i=i.a[g]}if(h&&i.g!==void 0)throw Error('The collection already contains the key "'+a+'"');i.g=u}t.get=function(i){e:{for(var a=this,u=0;u<i.length;u++)if(a=a.a[i.charAt(u)],!a){i=void 0;break e}i=a}return i?i.g:void 0},t.la=function(){var i=[];return wE(this,i),i};function wE(i,a){i.g!==void 0&&a.push(i.g);for(var u in i.a)wE(i.a[u],a)}t.ja=function(){var i=[];return EE(this,"",i),i};function EE(i,a,u){i.g!==void 0&&u.push(a);for(var h in i.a)EE(i.a[h],a+h,u)}t.clear=function(){this.a={},this.g=void 0};function bE(i){for(this.a=i,this.g=new eg,i=0;i<this.a.length;i++){var a=this.g.get("+"+this.a[i].b);a?a.push(this.a[i]):this.g.add("+"+this.a[i].b,[this.a[i]])}}function Kh(i,a){i=i.g;var u={},h=0;for(i.g!==void 0&&(u[h]=i.g);h<a.length;h++){var p=a.charAt(h);if(!(p in i.a))break;i=i.a[p],i.g!==void 0&&(u[h]=i.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function $s(i){for(var a=0;a<Ln.length;a++)if(Ln[a].c===i)return Ln[a];return null}function IE(i){i=i.toUpperCase();for(var a=[],u=0;u<Ln.length;u++)Ln[u].f===i&&a.push(Ln[u]);return a}function TE(i){if(0<i.length&&i.charAt(0)=="+"){i=i.substring(1);for(var a=[],u=0;u<Ln.length;u++)Ln[u].b==i&&a.push(Ln[u]);i=a}else i=IE(i);return i}function AE(i){i.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Ln=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];AE(Ln);var $l=new bE(Ln);function SE(i,a){this.a=i,this.Aa=a}function RE(i){i=O(i);var a=Kh($l,i);return 0<a.length?new SE(a[0].b=="1"?"1-US-0":a[0].c,O(i.substr(a[0].b.length+1))):null}function tg(i){var a=$s(i.a);if(!a)throw Error("Country ID "+i.a+" not found.");return"+"+a.b+i.Aa}function CE(i,a){for(var u=0;u<i.length;u++)if(!N(PE,i[u])&&(Jo!==null&&i[u]in Jo||N(a,i[u])))return i[u];return null}var PE=["emailLink","password","phone"],Jo={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function gO(){this.a=new Jm,Ot(this.a,"autoUpgradeAnonymousUsers"),Ot(this.a,"callbacks"),Ot(this.a,"credentialHelper",Yh),Ot(this.a,"immediateFederatedRedirect",!1),Ot(this.a,"popupMode",!1),Ot(this.a,"privacyPolicyUrl"),Ot(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Ot(this.a,"queryParameterForWidgetMode","mode"),Ot(this.a,"signInFlow"),Ot(this.a,"signInOptions"),Ot(this.a,"signInSuccessUrl"),Ot(this.a,"siteName"),Ot(this.a,"tosUrl"),Ot(this.a,"widgetUrl"),Ot(this.a,"adminRestrictedOperation")}function Gh(i){var a=!!i.a.get("autoUpgradeAnonymousUsers");return a&&!UE(i)&&Qn('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function zh(i){i=i.a.get("signInOptions")||[];for(var a=[],u=0;u<i.length;u++){var h=i[u];h=re(h)?h:{provider:h},h.provider&&a.push(h)}return a}function Jn(i,a){i=zh(i);for(var u=0;u<i.length;u++)if(i[u].provider===a)return i[u];return null}function Xo(i){return zh(i).map(function(a){return a.provider})}function Hl(i,a){i=kE(i);for(var u=0;u<i.length;u++)if(i[u].providerId===a)return i[u];return null}function kE(i){return zh(i).map(function(a){if(Jo[a.provider]||N(SO,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Ur(hh(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Ur(hh(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function OE(i){var a=Jn(i,pe.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in i=i.a.get("credentialHelper"),og)if(og[h]===i){var h=og[h];break e}}h=Yh}u=h===sg}return u&&a.clientId||null}function NE(i){return i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID),!!(i&&i.disableSignUp&&i.disableSignUp.status)}function Hs(i){return i=i.a.get("adminRestrictedOperation")||null,!(!i||!i.status)}function vO(i){var a=null;if(zh(i).forEach(function(h){h.provider==pe.auth.PhoneAuthProvider.PROVIDER_ID&&re(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(a=Le(h.recaptchaParameters))}),a){var u=[];RO.forEach(function(h){typeof a[h]<"u"&&(u.push(h),delete a[h])}),u.length&&Kr('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function yO(i){return(i=i.a.get("adminRestrictedOperation"))&&i.adminEmail?i.adminEmail:null}function _O(i){if(i=i.a.get("adminRestrictedOperation")||null){var a=i.helpLink||null;if(a&&typeof a=="string")return function(){$o(a)}}return null}function wO(i){return(i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID))&&i.disableSignUp&&i.disableSignUp.adminEmail||null}function EO(i){if((i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID))&&i.disableSignUp){var a=i.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){$o(a)}}return null}function DE(i,a){return i=(i=Jn(i,a))&&i.scopes,Array.isArray(i)?i:[]}function xE(i,a){return i=(i=Jn(i,a))&&i.customParameters,re(i)?(i=Le(i),a===pe.auth.GoogleAuthProvider.PROVIDER_ID&&delete i.login_hint,a===pe.auth.GithubAuthProvider.PROVIDER_ID&&delete i.login,i):null}function bO(i){i=Jn(i,pe.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return i&&typeof i.loginHint=="string"&&(a=RE(i.loginHint)),i&&i.defaultNationalNumber||a&&a.Aa||null}function IO(i){var a=(i=Jn(i,pe.auth.PhoneAuthProvider.PROVIDER_ID))&&i.defaultCountry||null;a=a&&IE(a);var u=null;return i&&typeof i.loginHint=="string"&&(u=RE(i.loginHint)),a&&a[0]||u&&$s(u.a)||null}function ng(i){if(i=Jn(i,pe.auth.PhoneAuthProvider.PROVIDER_ID),!i)return null;var a=i.whitelistedCountries,u=i.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Ln;if(i=[],a){u={};for(var h=0;h<a.length;h++)for(var p=TE(a[h]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var w in u)u.hasOwnProperty(w)&&i.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(p=TE(u[a]),h=0;h<p.length;h++)w[p[h].c]=p[h];for(p=0;p<Ln.length;p++)w!==null&&Ln[p].c in w||i.push(Ln[p])}return i}function LE(i){return Zm(i.a,"queryParameterForWidgetMode")}function Nt(i){var a=i.a.get("tosUrl")||null;if(i=i.a.get("privacyPolicyUrl")||null,a&&!i&&Kr("Privacy Policy URL is missing, the link will not be displayed."),a&&i){if(typeof a=="function")return a;if(typeof a=="string")return function(){$o(a)}}return null}function Dt(i){var a=i.a.get("tosUrl")||null,u=i.a.get("privacyPolicyUrl")||null;if(u&&!a&&Kr("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){$o(u)}}return null}function ME(i){return(i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof i.requireDisplayName<"u"?!!i.requireDisplayName:!0}function Zo(i){return i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID),!(!i||i.signInMethod!==pe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function TO(i){return i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID),!(!i||!i.forceSameDevice)}function AO(i){if(Zo(i)){var a={url:fr(),handleCodeInApp:!0};(i=Jn(i,pe.auth.EmailAuthProvider.PROVIDER_ID))&&typeof i.emailLinkSignIn=="function"&&Ke(a,i.emailLinkSignIn()),i=a.url;var u=fr();u instanceof Lr||(u=sm(u)),i instanceof Lr||(i=sm(i));var h=u;u=new Lr(h);var p=!!i.j;p?nm(u,i.j):p=!!i.A,p?u.A=i.A:p=!!i.h,p?u.h=i.h:p=i.C!=null;var g=i.g;if(p)im(u,i.C);else if(p=!!i.g){if(g.charAt(0)!="/"&&(h.h&&!h.g?g="/"+g:(h=u.g.lastIndexOf("/"),h!=-1&&(g=u.g.substr(0,h+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],I=0;I<g.length;){var k=g[I++];k=="."?h&&I==g.length&&w.push(""):k==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),h&&I==g.length&&w.push("")):(w.push(k),h=!0)}g=w.join("/")}}return p?u.g=g:p=i.a.toString()!=="",p?rm(u,V0(i.a)):p=!!i.s,p&&(u.s=i.s),a.url=u.toString(),a}return null}function ig(i){var a=!!i.a.get("immediateFederatedRedirect"),u=Xo(i);return i=VE(i),a&&u.length==1&&!N(PE,u[0])&&i==Qh}function VE(i){i=i.a.get("signInFlow");for(var a in ag)if(ag[a]==i)return ag[a];return Qh}function rg(i){return ql(i).signInSuccess||null}function FE(i){return ql(i).signInSuccessWithAuthResult||null}function UE(i){return ql(i).signInFailure||null}function ql(i){return i.a.get("callbacks")||{}}var sg="googleyolo",Yh="none",og={nc:sg,NONE:Yh},Qh="redirect",ag={qc:"popup",rc:Qh},lg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},SO=["anonymous"],RO=["sitekey","tabindex","callback","expired-callback"],Wl,ea,ug,BE,Je={};function oe(i,a,u,h){Je[i].apply(null,Array.prototype.slice.call(arguments,1))}function jE(i){return i.classList?i.classList:(i=i.className,E(i)&&i.match(/\S+/g)||[])}function Kl(i,a){return i.classList?i.classList.contains(a):N(jE(i),a)}function $i(i,a){i.classList?i.classList.add(a):Kl(i,a)||(i.className+=0<i.className.length?" "+a:a)}function Hi(i,a){i.classList?i.classList.remove(a):Kl(i,a)&&(i.className=Ui(jE(i),function(u){return u!=a}).join(" "))}function nn(i){var a=i.type;switch(E(a)&&a.toLowerCase()){case"checkbox":case"radio":return i.checked?i.value:null;case"select-one":return a=i.selectedIndex,0<=a?i.options[a].value:null;case"select-multiple":a=[];for(var u,h=0;u=i.options[h];h++)u.selected&&a.push(u.value);return a.length?a:null;default:return i.value!=null?i.value:null}}function $E(i,a){var u=i.type;switch(E(u)&&u.toLowerCase()){case"checkbox":case"radio":i.checked=a;break;case"select-one":if(i.selectedIndex=-1,E(a)){for(var h=0;u=i.options[h];h++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(E(a)&&(a=[a]),h=0;u=i.options[h];h++)if(u.selected=!1,a)for(var p,g=0;p=a[g];g++)u.value==p&&(u.selected=!0);break;default:i.value=a??""}}function CO(i){if(i.altKey&&!i.ctrlKey||i.metaKey||112<=i.keyCode&&123>=i.keyCode)return!1;if(Gl(i.keyCode))return!0;switch(i.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!mi;default:return 166>i.keyCode||183<i.keyCode}}function HE(i,a,u,h,p,g){if(Nn&&!Ns("525"))return!0;if(Fr&&p)return Gl(i);if(p&&!h)return!1;if(!mi){typeof a=="number"&&(a=cg(a));var w=a==17||a==18||Fr&&a==91;if((!u||Fr)&&w||Fr&&a==16&&(h||g))return!1}if((Nn||Vr)&&h&&u)switch(i){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(It&&h&&a==i)return!1;switch(i){case 13:return mi?g||p?!1:!(u&&h):!0;case 27:return!(Nn||Vr||mi)}return mi&&(h||p||g)?!1:Gl(i)}function Gl(i){if(48<=i&&57>=i||96<=i&&106>=i||65<=i&&90>=i||(Nn||Vr)&&i==0)return!0;switch(i){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return mi;default:return!1}}function cg(i){if(mi)i=PO(i);else if(Fr&&Nn)switch(i){case 93:i=91}return i}function PO(i){switch(i){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return i}}function ta(i){Mt.call(this),this.a=i,gi(i,"keydown",this.g,!1,this),gi(i,"click",this.h,!1,this)}G(ta,Mt),ta.prototype.g=function(i){(i.keyCode==13||Nn&&i.keyCode==3)&&qE(this,i)},ta.prototype.h=function(i){qE(this,i)};function qE(i,a){var u=new KE(a);if(qr(i,u)){u=new WE(a);try{qr(i,u)}finally{a.stopPropagation()}}}ta.prototype.o=function(){ta.K.o.call(this),Vs(this.a,"keydown",this.g,!1,this),Vs(this.a,"click",this.h,!1,this),delete this.a};function WE(i){xn.call(this,i.a),this.type="action"}G(WE,xn);function KE(i){xn.call(this,i.a),this.type="beforeaction"}G(KE,xn);function na(i){Mt.call(this),this.a=i,i=It?"focusout":"blur",this.g=gi(this.a,It?"focusin":"focus",this,!It),this.h=gi(this.a,i,this,!It)}G(na,Mt),na.prototype.handleEvent=function(i){var a=new xn(i.a);a.type=i.type=="focusin"||i.type=="focus"?"focusin":"focusout",qr(this,a)},na.prototype.o=function(){na.K.o.call(this),Hr(this.g),Hr(this.h),delete this.a};function Jh(i,a){Mt.call(this),this.g=i||1,this.a=a||v,this.h=j(this.gc,this),this.j=kt()}G(Jh,Mt),t=Jh.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var i=kt()-this.j;0<i&&i<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-i):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),qr(this,"tick"),this.Ka&&(Xh(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=kt())};function Xh(i){i.Ka=!1,i.aa&&(i.a.clearTimeout(i.aa),i.aa=null)}t.o=function(){Jh.K.o.call(this),Xh(this),delete this.a};function kO(i,a){if(Q(i))a&&(i=j(i,a));else if(i&&typeof i.handleEvent=="function")i=j(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(i,0)}function ia(i){Ms.call(this),this.g=i,this.a={}}G(ia,Ms);var GE=[];function ra(i,a,u,h){F(u)||(u&&(GE[0]=u.toString()),u=GE);for(var p=0;p<u.length;p++){var g=gi(a,u[p],h||i.handleEvent,!1,i.g||i);if(!g)break;i.a[g.key]=g}}function zE(i){Se(i.a,function(a,u){this.a.hasOwnProperty(u)&&Hr(a)},i),i.a={}}ia.prototype.o=function(){ia.K.o.call(this),zE(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zl(i){Mt.call(this),this.a=null,this.g=i,i=It||Vr||Nn&&!Ns("531")&&i.tagName=="TEXTAREA",this.h=new ia(this),ra(this.h,this.g,i?["keydown","paste","cut","drop","input"]:"input",this)}G(zl,Mt),zl.prototype.handleEvent=function(i){if(i.type=="input")It&&Ns(10)&&i.keyCode==0&&i.j==0||(hg(this),qr(this,YE(i)));else if(i.type!="keydown"||CO(i)){var a=i.type=="keydown"?this.g.value:null;It&&i.keyCode==229&&(a=null);var u=YE(i);hg(this),this.a=kO(function(){this.a=null,this.g.value!=a&&qr(this,u)},this)}};function hg(i){i.a!=null&&(v.clearTimeout(i.a),i.a=null)}function YE(i){return i=new xn(i.a),i.type="input",i}zl.prototype.o=function(){zl.K.o.call(this),this.h.m(),hg(this),delete this.g};function Yl(i,a){Mt.call(this),i&&(this.Oa&&eb(this),this.qa=i,this.Na=gi(this.qa,"keypress",this,a),this.Ya=gi(this.qa,"keydown",this.Jb,a,this),this.Oa=gi(this.qa,"keyup",this.Kb,a,this))}G(Yl,Mt),t=Yl.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var QE={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},JE={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},XE=!Nn||Ns("525"),ZE=Fr&&mi;t=Yl.prototype,t.Jb=function(i){(Nn||Vr)&&(this.R==17&&!i.ctrlKey||this.R==18&&!i.altKey||Fr&&this.R==91&&!i.metaKey)&&(this.X=this.R=-1),this.R==-1&&(i.ctrlKey&&i.keyCode!=17?this.R=17:i.altKey&&i.keyCode!=18?this.R=18:i.metaKey&&i.keyCode!=91&&(this.R=91)),XE&&!HE(i.keyCode,this.R,i.shiftKey,i.ctrlKey,i.altKey,i.metaKey)?this.handleEvent(i):(this.X=cg(i.keyCode),ZE&&(this.Ua=i.altKey))},t.Kb=function(i){this.X=this.R=-1,this.Ua=i.altKey},t.handleEvent=function(i){var a=i.a,u=a.altKey;if(It&&i.type=="keypress")var h=this.X,p=h!=13&&h!=27?a.keyCode:0;else(Nn||Vr)&&i.type=="keypress"?(h=this.X,p=0<=a.charCode&&63232>a.charCode&&Gl(h)?a.charCode:0):H0&&!Nn?(h=this.X,p=Gl(h)?a.keyCode:0):(i.type=="keypress"?(ZE&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(h=a.keyCode,p=0):(h=this.X,p=a.charCode):(h=a.keyCode||this.X,p=a.charCode||0)):(h=a.keyCode||this.X,p=a.charCode||0),Fr&&p==63&&h==224&&(h=191));var g=h=cg(h);h?63232<=h&&h in QE?g=QE[h]:h==25&&i.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in JE&&(g=JE[a.keyIdentifier]),mi&&XE&&i.type=="keypress"&&!HE(g,this.R,i.shiftKey,i.ctrlKey,u,i.metaKey)||(i=g==this.R,this.R=g,a=new tb(g,p,i,a),a.altKey=u,qr(this,a))},t.N=function(){return this.qa};function eb(i){i.Na&&(Hr(i.Na),Hr(i.Ya),Hr(i.Oa),i.Na=null,i.Ya=null,i.Oa=null),i.qa=null,i.R=-1,i.X=-1}t.o=function(){Yl.K.o.call(this),eb(this)};function tb(i,a,u,h){xn.call(this,h),this.type="key",this.keyCode=i,this.j=a,this.repeat=u}G(tb,xn);function sa(i,a,u,h){this.top=i,this.right=a,this.bottom=u,this.left=h}sa.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},sa.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},sa.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},sa.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Zh(i,a){var u=Sl(i);return u.defaultView&&u.defaultView.getComputedStyle&&(i=u.defaultView.getComputedStyle(i,null))&&(i[a]||i.getPropertyValue(a))||""}function nb(i){try{var a=i.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return It&&i.ownerDocument.body&&(i=i.ownerDocument,a.left-=i.documentElement.clientLeft+i.body.clientLeft,a.top-=i.documentElement.clientTop+i.body.clientTop),a}function OO(i,a){a=a||ph(document);var u=a||ph(document),h=ib(i),p=ib(u);if(!It||9<=Number(Tl)){w=Zh(u,"borderLeftWidth");var g=Zh(u,"borderRightWidth");I=Zh(u,"borderTopWidth"),k=Zh(u,"borderBottomWidth"),g=new sa(parseFloat(I),parseFloat(g),parseFloat(k),parseFloat(w))}else{var w=ed(u,"borderLeft");g=ed(u,"borderRight");var I=ed(u,"borderTop"),k=ed(u,"borderBottom");g=new sa(I,g,k,w)}u==ph(document)?(w=h.a-u.scrollLeft,h=h.g-u.scrollTop,!It||10<=Number(Tl)||(w+=g.left,h+=g.top)):(w=h.a-p.a-g.left,h=h.g-p.g-g.top),p=i.offsetWidth,g=i.offsetHeight,I=Nn&&!p&&!g,_(p)&&!I||!i.getBoundingClientRect?i=new hm(p,g):(i=nb(i),i=new hm(i.right-i.left,i.bottom-i.top)),p=u.clientHeight-i.height,g=u.scrollLeft,I=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-i.width),0)),I+=Math.min(h,Math.max(h-p,0)),u=new jr(g,I),a.scrollLeft=u.a,a.scrollTop=u.g}function ib(i){var a=Sl(i),u=new jr(0,0),h=a?Sl(a):document;return h=!It||9<=Number(Tl)||fh(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,i==h||(i=nb(i),h=fh(a).a,a=ph(h),h=h.parentWindow||h.defaultView,a=It&&Ns("10")&&h.pageYOffset!=a.scrollTop?new jr(a.scrollLeft,a.scrollTop):new jr(h.pageXOffset||a.scrollLeft,h.pageYOffset||a.scrollTop),u.a=i.left+a.a,u.g=i.top+a.g),u}var rb={thin:2,medium:4,thick:6};function ed(i,a){if((i.currentStyle?i.currentStyle[a+"Style"]:null)=="none")return 0;var u=i.currentStyle?i.currentStyle[a+"Width"]:null;if(u in rb)i=rb[u];else if(/^\d+px?$/.test(u))i=parseInt(u,10);else{a=i.style.left;var h=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left,i.style.left=u,u=i.style.pixelLeft,i.style.left=a,i.runtimeStyle.left=h,i=+u}return i}function dg(){}R(dg),dg.prototype.a=0;function qs(i){Mt.call(this),this.s=i||fh(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}G(qs,Mt),t=qs.prototype,t.Lb=dg.Xa(),t.N=function(){return this.g};function $e(i,a){return i.g?fm(a,i.g||i.s.a):null}function Ql(i){return i.L||(i.L=new ia(i)),i.L}t.Za=function(i){if(this.Y&&this.Y!=i)throw Error("Method not supported");qs.K.Za.call(this,i)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(i){if(this.na)throw Error("Component already rendered");this.g||this.kb(),i?i.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,fg(this,function(i){!i.na&&i.N()&&i.v()})},t.ya=function(){fg(this,function(i){i.na&&i.ya()}),this.L&&zE(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),fg(this,function(i){i.m()}),this.g&&xs(this.g),this.Y=this.g=this.oa=this.Ea=null,qs.K.o.call(this)};function fg(i,a){i.Ea&&tt(i.Ea,a,void 0)}t.removeChild=function(i,a){if(i){var u=E(i)?i:i.cb||(i.cb=":"+(i.Lb.a++).toString(36));if(this.oa&&u?(i=this.oa,i=(i!==null&&u in i?i[u]:void 0)||null):i=null,u&&i){var h=this.oa;if(u in h&&delete h[u],ne(this.Ea,i),a&&(i.ya(),i.g&&xs(i.g)),a=i,a==null)throw Error("Unable to set parent component");a.Y=null,qs.K.Za.call(a,null)}}if(!i)throw Error("Child is not in parent component");return i};function St(i,a){var u=iw(i,"firebaseui-textfield");a?(Hi(i,"firebaseui-input-invalid"),$i(i,"firebaseui-input"),u&&Hi(u,"firebaseui-textfield-invalid")):(Hi(i,"firebaseui-input"),$i(i,"firebaseui-input-invalid"),u&&$i(u,"firebaseui-textfield-invalid"))}function oa(i,a,u){a=new zl(a),Pl(i,Y(kl,a)),ra(Ql(i),a,"input",u)}function Jl(i,a,u){a=new Yl(a),Pl(i,Y(kl,a)),ra(Ql(i),a,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function NO(i,a,u){a=new na(a),Pl(i,Y(kl,a)),ra(Ql(i),a,"focusin",u)}function DO(i,a,u){a=new na(a),Pl(i,Y(kl,a)),ra(Ql(i),a,"focusout",u)}function yt(i,a,u){a=new ta(a),Pl(i,Y(kl,a)),ra(Ql(i),a,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function Xn(i){$i(i,"firebaseui-hidden")}function rn(i,a){a&&pm(i,a),Hi(i,"firebaseui-hidden")}function aa(i){return!Kl(i,"firebaseui-hidden")&&i.style.display!="none"}function la(i){i=i||{};var a=i.email,u=i.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=i.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Dn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ie(h)}function Hn(i){i=i||{},i=i.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=i?a+Ie(i):a+"Next",ie(a+"</button>")}function pg(){var i=""+Hn({label:Tt("Sign In")});return ie(i)}function sb(){var i=""+Hn({label:Tt("Save")});return ie(i)}function vi(){var i=""+Hn({label:Tt("Continue")});return ie(i)}function ob(i){i=i||{},i=i.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=i?a+Ie(i):a+"Choose password",ie(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function ab(){var i={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=i.current?a+"Current password":a+"Password",ie(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function lb(){return ie('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Zn(i){i=i||{},i=i.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=i?a+Ie(i):a+"Cancel",ie(a+"</button>")}function hn(i){var a="";return i.F&&i.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ie(a)}function ua(i){var a="";return i.F&&i.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ie(a)}function ub(i){return i='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Ie(i.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ie(i)}ub.a="firebaseui.auth.soy2.element.infoBar";function cb(i){var a=i.content;return i=i.Ab,ie('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(i?" "+Dn(i):"")+'">'+Ie(a)+"</dialog>")}function hb(i){var a=i.message;return ie(cb({content:ow('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Dn(i.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Ie(a)+"</div>")}))}hb.a="firebaseui.auth.soy2.element.progressDialog";function db(i){var a='<div class="firebaseui-list-box-actions">';i=i.items;for(var u=i.length,h=0;h<u;h++){var p=i[h];a+='<button type="button" data-listboxid="'+Dn(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Dn(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Ie(p.label)+"</div></button>"}return a=""+cb({Ab:Tt("firebaseui-list-box-dialog"),content:ow(a+"</div>")}),ie(a)}db.a="firebaseui.auth.soy2.element.listBoxDialog";function td(i){return i=i||{},ie(i.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}td.a="firebaseui.auth.soy2.element.busyIndicator";function Gr(i,a){return i=i||{},i=i.ga,Ge(i.S?i.S:a.hb[i.providerId]?""+a.hb[i.providerId]:i.providerId&&i.providerId.indexOf("saml.")==0||i.providerId&&i.providerId.indexOf("oidc.")==0?i.providerId.substring(5):""+i.providerId)}function mg(i){fb(i,"upgradeElement")}function gg(i){fb(i,"downgradeElements")}var xO=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function fb(i,a){i&&window.componentHandler&&window.componentHandler[a]&&xO.forEach(function(u){Kl(i,u)&&window.componentHandler[a](i),tt(dm(u,i),function(h){window.componentHandler[a](h)})})}function pb(i,a,u){if(nd.call(this),document.body.appendChild(i),i.showModal||window.dialogPolyfill.registerDialog(i),i.showModal(),mg(i),a&&yt(this,i,function(g){var w=i.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&nd.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var p=this;this.da=function(){if(i.open){var g=i.getBoundingClientRect().height,w=h.getBoundingClientRect().height,I=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,k=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,H=i.getBoundingClientRect().width,ue=h.getBoundingClientRect().width;i.style.top=(I+(w-g)/2).toString()+"px",g=k+(ue-H)/2,i.style.left=g.toString()+"px",i.style.right=(document.body.getBoundingClientRect().width-g-H).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function nd(){var i=vg.call(this);i&&(gg(i),i.open&&i.close(),xs(i),this.da&&window.removeEventListener("resize",this.da))}function vg(){return fm("firebaseui-id-dialog")}function mb(){xs(gb.call(this))}function gb(){return $e(this,"firebaseui-id-info-bar")}function vb(){return $e(this,"firebaseui-id-dismiss-info-bar")}var LO={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function yg(i,a,u){hr.call(this,i,a);for(var h in u)this[h]=u[h]}G(yg,hr);function L(i,a,u,h,p){qs.call(this,u),this.fb=i,this.eb=a,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=Le(LO),Ke(this.Z,p||{})}G(L,qs),t=L.prototype,t.kb=function(){var i=Rl(this.fb,this.eb,this.Z,this.s);mg(i),this.g=i},t.v=function(){if(L.K.v.call(this),_w(vt(this),new yg("pageEnter",vt(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var i=this.Z.F;yt(this,this.bb(),function(){i()})}if(this.ab()&&this.Z.D){var a=this.Z.D;yt(this,this.ab(),function(){a()})}},t.ya=function(){_w(vt(this),new yg("pageExit",vt(this),{pageId:this.Ga})),L.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,gg(this.N()),L.K.o.call(this)};function MO(i){i.Fa=!0;var a=Kl(i.N(),"firebaseui-use-spinner");i.ca=window.setTimeout(function(){i.N()&&i.A===null&&(i.A=Rl(td,{tb:a},null,i.s),i.N().appendChild(i.A),mg(i.A))},500)}t.I=function(i,a,u,h){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(gg(g.A),xs(g.A),g.A=null)}var g=this;return g.Fa?null:(MO(g),i.apply(null,a).then(u,h).then(p,p))};function vt(i){return i.N().parentElement||i.N().parentNode}function Xl(i,a,u){Jl(i,a,function(){u.focus()})}function ca(i,a,u){Jl(i,a,function(){u()})}ve(L.prototype,{a:function(i){mb.call(this);var a=Rl(ub,{message:i},null,this.s);this.N().appendChild(a),yt(this,vb.call(this),function(){xs(a)})},yc:mb,Ac:gb,zc:vb,$:function(i,a){i=Rl(hb,{Ma:i,message:a},null,this.s),pb.call(this,i)},h:nd,Cb:vg,Cc:function(){return $e(this,"firebaseui-tos")},bb:function(){return $e(this,"firebaseui-tos-link")},ab:function(){return $e(this,"firebaseui-pp-link")},Dc:function(){return $e(this,"firebaseui-tos-list")}});function yb(i,a,u){i=i||{},a=i.Va;var h=i.ia;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+la(i)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?Zn(null):"")+Hn(null)+'</div></div><div class="firebaseui-card-footer">'+(h?ua(u):hn(u))+"</div></form></div>",ie(i)}yb.a="firebaseui.auth.soy2.page.signIn";function _b(i,a,u){return i=i||{},a=i.ia,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+la(i)+ab()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+lb()+'</div><div class="firebaseui-form-actions">'+pg()+'</div></div><div class="firebaseui-card-footer">'+(a?ua(u):hn(u))+"</div></form></div>",ie(i)}_b.a="firebaseui.auth.soy2.page.passwordSignIn";function wb(i,a,u){i=i||{};var h=i.Tb;a=i.Ta;var p=i.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+la(i);return h?(i=i||{},i=i.name,i='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Dn(i??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',i=ie(i)):i="",u=g+i+ob(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?Zn(null):"")+sb()+'</div></div><div class="firebaseui-card-footer">'+(p?ua(u):hn(u))+"</div></form></div>",ie(u)}wb.a="firebaseui.auth.soy2.page.passwordSignUp";function Eb(i,a,u){return i=i||{},a=i.Ta,i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+la(i)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?Zn(null):"")+Hn({label:Tt("Send")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(i)}Eb.a="firebaseui.auth.soy2.page.passwordRecovery";function bb(i,a,u){a=i.G;var h="";return i="Follow the instructions sent to <strong>"+(Ie(i.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions">',a&&(h+='<div class="firebaseui-form-actions">'+Hn({label:Tt("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+hn(u)+"</div></div>",ie(h)}bb.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function Ib(i,a,u){return ie('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+td(null)+"</div></div>")}Ib.a="firebaseui.auth.soy2.page.callback";function Tb(i,a,u){return ie('<div class="firebaseui-container firebaseui-id-page-spinner">'+td({tb:!0})+"</div>")}Tb.a="firebaseui.auth.soy2.page.spinner";function Ab(){return ie('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}Ab.a="firebaseui.auth.soy2.page.blank";function Sb(i,a,u){a="",i="A sign-in email with additional instructions was sent to <strong>"+(Ie(i.email)+"</strong>. Check your email to complete sign-in.");var h=ie('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+Zn({label:Tt("Back")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Sb.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function Rb(i,a,u){return i=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ie('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Zn({label:Tt("Back")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(i)}Rb.a="firebaseui.auth.soy2.page.emailNotReceived";function Cb(i,a,u){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+la(i)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Zn(null)+Hn(null)+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(i)}Cb.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function Pb(){var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Zn({label:Tt("Dismiss")})+"</div></div></div>";return ie(i)}Pb.a="firebaseui.auth.soy2.page.differentDeviceError";function kb(){var i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Zn({label:Tt("Dismiss")})+"</div></div></div>";return ie(i)}kb.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function Ob(i,a,u){return a="",i="Youve already used <strong>"+(Ie(i.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+i+"</p>"+ab()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+lb()+'</div><div class="firebaseui-form-actions">'+pg()+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Ob.a="firebaseui.auth.soy2.page.passwordLinking";function Nb(i,a,u){var h=i.email;return a="",i=""+Gr(i,u),i=Tt(i),h="Youve already used <strong>"+(Ie(h)+("</strong>. You can connect your <strong>"+(Ie(i)+("</strong> account with <strong>"+(Ie(h)+"</strong> by signing in with email link below."))))),i="For this flow to successfully connect your "+(Ie(i)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+pg()+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Nb.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function Db(i,a,u){a="";var h=""+Gr(i,u);return h=Tt(h),i="You originally intended to connect <strong>"+(Ie(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(Ie(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+i+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+vi()+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Db.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function xb(i,a,u){var h=i.email;return a="",i=""+Gr(i,u),i=Tt(i),h="Youve already used <strong>"+(Ie(h)+("</strong>. Sign in with "+(Ie(i)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Hn({label:Tt("Sign in with "+i)})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}xb.a="firebaseui.auth.soy2.page.federatedLinking";function Lb(i,a,u){i=i||{};var h=i.kc;a=i.yb,i=i.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(Ie(h)+"</strong> is not authorized to view the requested page."),p+=h):p+="User is not authorized to view the requested page.",p+="</p>",a&&(a="Please contact <strong>"+(Ie(a)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',i&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+Zn({label:Tt("Back")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(p)}Lb.a="firebaseui.auth.soy2.page.unauthorizedUser";function Mb(i,a,u){return a="",i="To continue sign in with <strong>"+(Ie(i.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Zn(null)+Hn({label:Tt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Mb.a="firebaseui.auth.soy2.page.unsupportedProvider";function Vb(i){var a="",u='<p class="firebaseui-text">for <strong>'+(Ie(i.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+ob(Tk(i))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+sb()+"</div></div></form></div>",ie(a)}Vb.a="firebaseui.auth.soy2.page.passwordReset";function Fb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}Fb.a="firebaseui.auth.soy2.page.passwordResetSuccess";function Ub(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}Ub.a="firebaseui.auth.soy2.page.passwordResetFailure";function Bb(i){var a=i.G,u="";return i="Your sign-in email address has been changed back to <strong>"+(Ie(i.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></form></div>",ie(u)}Bb.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function jb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}jb.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function $b(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}$b.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function Hb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}Hb.a="firebaseui.auth.soy2.page.emailVerificationFailure";function qb(i){var a=i.G,u="";return i="You can now sign in with your new email <strong>"+(Ie(i.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(u)}qb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function Wb(i){return i=i||{},i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}Wb.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function Kb(i){var a=i.factorId,u=i.phoneNumber;i=i.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Ie(a)+(" "+(Ie(u)+"</strong> was removed as a second authentication step."))),h+=a;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(i?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></form></div>",ie(h)}Kb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function Gb(i){return i=i||{},i=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(i.G?'<div class="firebaseui-form-actions">'+vi()+"</div>":"")+"</div></div>",ie(i)}Gb.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function zb(i){var a=i.zb;return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ie(i.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(i+=Hn({label:Tt("Retry")})),ie(i+"</div></div></div>")}zb.a="firebaseui.auth.soy2.page.recoverableError";function Yb(i){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ie(i.errorMessage)+"</p></div></div>",ie(i)}Yb.a="firebaseui.auth.soy2.page.unrecoverableError";function Qb(i,a,u){var h=i.Qb;return a="",i="Continue with "+(Ie(i.jc)+"?"),h="You originally wanted to sign in with "+Ie(h),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+i+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Zn(null)+Hn({label:Tt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form></div>",ie(a)}Qb.a="firebaseui.auth.soy2.page.emailMismatch";function Jb(i,a,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';i=i.Sb,a=i.length;for(var p=0;p<a;p++){var g={ga:i[p]},w=u;g=g||{};var I=g.ga,k=g;k=k||{};var H="";switch(k.ga.providerId){case"google.com":H+="firebaseui-idp-google";break;case"github.com":H+="firebaseui-idp-github";break;case"facebook.com":H+="firebaseui-idp-facebook";break;case"twitter.com":H+="firebaseui-idp-twitter";break;case"phone":H+="firebaseui-idp-phone";break;case"anonymous":H+="firebaseui-idp-anonymous";break;case"password":H+="firebaseui-idp-password";break;default:H+="firebaseui-idp-generic"}k='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Dn(Ge(H))+' firebaseui-id-idp-button" data-provider-id="'+Dn(I.providerId)+'" style="background-color:',H=(H=g)||{},H=H.ga,k=k+Dn(aw(Ge(H.ta?H.ta:w.wa[H.providerId]?""+w.wa[H.providerId]:H.providerId.indexOf("saml.")==0?""+w.wa.saml:H.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ue=g;H=w,ue=ue||{},ue=ue.ga,H=Ik(ue.za?Ls(ue.za):H.xa[ue.providerId]?Ls(H.xa[ue.providerId]):ue.providerId.indexOf("saml.")==0?Ls(H.xa.saml):ue.providerId.indexOf("oidc.")==0?Ls(H.xa.oidc):Ls(H.xa.password)),k=k+Dn(Ls(H))+'"></span>',I.providerId=="password"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Ie(I.V):I.S?(g="Sign in with "+Ie(Gr(g,w)),k+=g):k+="Sign in with email",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+Ie(I.S):k+"Email",k+="</span>"):I.providerId=="phone"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Ie(I.V):I.S?(g="Sign in with "+Ie(Gr(g,w)),k+=g):k+="Sign in with phone",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+Ie(I.S):k+"Phone",k+="</span>"):I.providerId=="anonymous"?(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Ie(I.V):I.S?(g="Sign in with "+Ie(Gr(g,w)),k+=g):k+="Continue as guest",k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',k=I.S?k+Ie(I.S):k+"Guest",k+="</span>"):(k+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',I.V?k+=Ie(I.V):(H="Sign in with "+Ie(Gr(g,w)),k+=H),k+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(I.S?Ie(I.S):Ie(Gr(g,w)))+"</span>"),I=ie(k+"</button>"),h+='<li class="firebaseui-list-item">'+I+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ua(u)+"</div></div>",ie(h)}Jb.a="firebaseui.auth.soy2.page.providerSignIn";function Xb(i,a,u){i=i||{};var h=i.Gb,p=i.Va;a=i.ia,i=i||{},i=i.Aa,i='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Dn(i??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ie(i);var g;return h?g=ie('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=i+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?Zn(null):"")+Hn({label:Tt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ie(a+"</p>")):u=ie('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+hn(u),ie(g+u+"</div></form></div>")}Xb.a="firebaseui.auth.soy2.page.phoneSignInStart";function Zb(i,a,u){i=i||{},a=i.phoneNumber;var h="";return i='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Ie(a)+"</a>"),Ie(a),a=h,h=ie('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+i+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Zn(null)+Hn({label:Tt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+hn(u)+"</div></form>",i=ie('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ie(a+(u+i+"</div>"))}Zb.a="firebaseui.auth.soy2.page.phoneSignInFinish";function e1(){return ie('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}e1.a="firebaseui.auth.soy2.page.signOut";function t1(i,a,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';i=i.ec,a=i.length;for(var p=0;p<a;p++){var g=i[p],w="",I=Ie(g.displayName),k=g.tenantId?g.tenantId:"top-level-project";k=Tt(k),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Dn(k)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Dn(g.tenantId)+'"':"")+'style="background-color:'+Dn(aw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Dn(Ls(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=Ie(g.V):(g="Sign in to "+Ie(g.displayName),w+=g),w=ie(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+I+"</span></button>")),h+='<li class="firebaseui-list-item">'+w+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ua(u)+"</div></div>",ie(h)}t1.a="firebaseui.auth.soy2.page.selectTenant";function n1(i,a,u){return i='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+la(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Hn(null)+'</div></div><div class="firebaseui-card-footer">'+ua(u)+"</div></form></div>",ie(i)}n1.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Qt(){return $e(this,"firebaseui-id-submit")}function Ft(){return $e(this,"firebaseui-id-secondary-link")}function sn(i,a){yt(this,Qt.call(this),function(h){i(h)});var u=Ft.call(this);u&&a&&yt(this,u,function(h){a(h)})}function id(){return $e(this,"firebaseui-id-password")}function rd(){return $e(this,"firebaseui-id-password-error")}function i1(){var i=id.call(this),a=rd.call(this);oa(this,i,function(){aa(a)&&(St(i,!0),Xn(a))})}function r1(){var i=id.call(this),a=rd.call(this);return nn(i)?(St(i,!0),Xn(a),a=!0):(St(i,!1),rn(a,Ge("Enter your password").toString()),a=!1),a?nn(i):null}function ha(i,a,u,h,p,g){L.call(this,Ob,{email:i},g,"passwordLinking",{F:h,D:p}),this.w=a,this.H=u}c(ha,L),ha.prototype.v=function(){this.P(),this.M(this.w,this.H),ca(this,this.i(),this.w),this.i().focus(),L.prototype.v.call(this)},ha.prototype.o=function(){this.w=null,L.prototype.o.call(this)},ha.prototype.j=function(){return nn($e(this,"firebaseui-id-email"))},ve(ha.prototype,{i:id,B:rd,P:i1,u:r1,ea:Qt,ba:Ft,M:sn});var VO=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function pr(){return $e(this,"firebaseui-id-email")}function zr(){return $e(this,"firebaseui-id-email-error")}function da(i){var a=pr.call(this),u=zr.call(this);oa(this,a,function(){aa(u)&&(St(a,!0),Xn(u))}),i&&Jl(this,a,function(){i()})}function fa(){return O(nn(pr.call(this))||"")}function pa(){var i=pr.call(this),a=zr.call(this),u=nn(i)||"";return u?VO.test(u)?(St(i,!0),Xn(a),a=!0):(St(i,!1),rn(a,Ge("That email address isn't correct").toString()),a=!1):(St(i,!1),rn(a,Ge("Enter your email address to continue").toString()),a=!1),a?O(nn(i)):null}function Zl(i,a,u,h,p,g,w){L.call(this,_b,{email:u,ia:!!g},w,"passwordSignIn",{F:h,D:p}),this.w=i,this.H=a}c(Zl,L),Zl.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Xl(this,this.l(),this.i()),ca(this,this.i(),this.w),nn(this.l())?this.i().focus():this.l().focus(),L.prototype.v.call(this)},Zl.prototype.o=function(){this.H=this.w=null,L.prototype.o.call(this)},ve(Zl.prototype,{l:pr,U:zr,P:da,M:fa,j:pa,i:id,B:rd,ea:i1,u:r1,ua:Qt,pa:Ft,ba:sn});function nt(i,a,u,h,p,g){L.call(this,i,a,h,p||"notice",g),this.i=u||null}G(nt,L),nt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),nt.K.v.call(this)},nt.prototype.o=function(){this.i=null,nt.K.o.call(this)},ve(nt.prototype,{l:Qt,w:Ft,u:sn});function sd(i,a,u,h,p){nt.call(this,bb,{email:i,G:!!a},a,p,"passwordRecoveryEmailSent",{F:u,D:h})}G(sd,nt);function s1(i,a){nt.call(this,$b,{G:!!i},i,a,"emailVerificationSuccess")}G(s1,nt);function o1(i,a){nt.call(this,Hb,{G:!!i},i,a,"emailVerificationFailure")}G(o1,nt);function a1(i,a,u){nt.call(this,qb,{email:i,G:!!a},a,u,"verifyAndChangeEmailSuccess")}G(a1,nt);function l1(i,a){nt.call(this,Wb,{G:!!i},i,a,"verifyAndChangeEmailFailure")}G(l1,nt);function u1(i,a){nt.call(this,Gb,{G:!!i},i,a,"revertSecondFactorAdditionFailure")}G(u1,nt);function c1(i){nt.call(this,e1,void 0,void 0,i,"signOut")}G(c1,nt);function h1(i,a){nt.call(this,Fb,{G:!!i},i,a,"passwordResetSuccess")}G(h1,nt);function d1(i,a){nt.call(this,Ub,{G:!!i},i,a,"passwordResetFailure")}G(d1,nt);function f1(i,a){nt.call(this,jb,{G:!!i},i,a,"emailChangeRevokeFailure")}G(f1,nt);function p1(i,a,u){nt.call(this,zb,{errorMessage:i,zb:!!a},a,u,"recoverableError")}G(p1,nt);function m1(i,a){nt.call(this,Yb,{errorMessage:i},void 0,a,"unrecoverableError")}G(m1,nt);function eu(i){if(i.code==="auth/invalid-credential"&&i.message&&i.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(i.message&&i.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(i.message.substring(i.message.indexOf("{"),i.message.lastIndexOf("}")+1));return{code:i.code,message:a&&a.error&&a.error.message||i.message}}return i}function mr(i,a,u,h){function p(w){if(!w.name||w.name!="cancel"){e:{var I=w.message;try{var k=((JSON.parse(I).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(k&&k.length){var H=!0;break e}}catch{}H=!1}if(H)w=vt(a),a.m(),ut(i,w,void 0,Ge("Your sign-in session has expired. Please try again.").toString());else{if(H=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;H=st(w)}a.a(H)}}}if(V1(i),h)return g1(i,u),At();if(!u.credential)throw Error("No credential found!");if(!Ue(i).currentUser&&!u.user)throw Error("User not logged in.");try{var g=mN(i,u)}catch(w){return Qn(w.code||w.message,w),a.a(w.code||w.message),At()}return u=g.then(function(w){g1(i,w)},p).then(void 0,p),Oe(i,g),At(u)}function g1(i,a){if(!a.user)throw Error("No user found");var u=FE(V(i));if(rg(V(i))&&u&&Kr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=FE(V(i));var h=vE(be(i))||void 0;$n(Bl,be(i));var p=!1;Vw()?((!u||u(a,h))&&(p=!0,Uo(window.opener.location,od(i,h))),u||window.close()):(!u||u(a,h))&&(p=!0,Uo(window.location,od(i,h))),p||i.reset()}else{u=a.user,a=a.credential,h=rg(V(i)),p=vE(be(i))||void 0,$n(Bl,be(i));var g=!1;Vw()?((!h||h(u,a,p))&&(g=!0,Uo(window.opener.location,od(i,p))),h||window.close()):(!h||h(u,a,p))&&(g=!0,Uo(window.location,od(i,p))),g||i.reset()}}function od(i,a){if(i=a||V(i).a.get("signInSuccessUrl"),!i)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return i}function st(i){var a={code:i.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=dw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=dw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=ym();break;case"auth/invalid-verification-code":u+=Ge("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=Ge(u).toString())return a;try{return JSON.parse(i.message),Qn("Internal error: "+i.message,void 0),uw().toString()}catch{return i.message}}function FO(i,a,u){var h=Jo[a]&&pe.auth[Jo[a]]?new pe.auth[Jo[a]]:a.indexOf("saml.")==0?new pe.auth.SAMLAuthProvider(a):new pe.auth.OAuthProvider(a);if(!h)throw Error("Invalid Firebase Auth provider!");var p=DE(V(i),a);if(h.addScope)for(var g=0;g<p.length;g++)h.addScope(p[g]);return p=xE(V(i),a)||{},u&&(a==pe.auth.GoogleAuthProvider.PROVIDER_ID?i="login_hint":a==pe.auth.GithubAuthProvider.PROVIDER_ID?i="login":i=(i=Hl(V(i),a))&&i.Ob,i&&(p[i]=u)),h.setCustomParameters&&h.setCustomParameters(p),h}function tu(i,a,u,h){function p(){dO(new tE(i.h.tenantId||null),be(i)),Oe(i,a.I(j(i.dc,i),[k],function(){if((window.location&&window.location.protocol)==="file:")return Oe(i,N1(i).then(function(H){a.m(),$n(js,be(i)),oe("callback",i,I,At(H))},g))},w))}function g(H){if($n(js,be(i)),!H.name||H.name!="cancel")switch(H=eu(H),H.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(st(H));break;case"auth/admin-restricted-operation":a.m(),Hs(V(i))?oe("handleUnauthorizedUser",i,I,null,u):oe("callback",i,I,Bo(H));break;default:a.m(),oe("callback",i,I,Bo(H))}}function w(H){$n(js,be(i)),H.name&&H.name=="cancel"||(Qn("signInWithRedirect: "+H.code,void 0),H=st(H),a.Ga=="blank"&&ig(V(i))?(a.m(),oe("providerSignIn",i,I,H)):a.a(H))}var I=vt(a),k=FO(i,u,h);VE(V(i))==Qh?p():Oe(i,pN(i,k).then(function(H){a.m(),oe("callback",i,I,At(H))},g))}function UO(i,a){Oe(i,a.I(j(i.$b,i),[],function(u){return a.m(),mr(i,a,u,!0)},function(u){u.name&&u.name=="cancel"||(Qn("ContinueAsGuest: "+u.code,void 0),u=st(u),a.a(u))}))}function BO(i,a,u){function h(g){var w=!1;return g=a.I(j(i.ac,i),[g],function(I){var k=vt(a);a.m(),oe("callback",i,k,At(I)),w=!0},function(I){if((!I.name||I.name!="cancel")&&(!I||I.code!="auth/credential-already-in-use"))if(I&&I.code=="auth/email-already-in-use"&&I.email&&I.credential){var k=vt(a);a.m(),oe("callback",i,k,Bo(I))}else I&&I.code=="auth/admin-restricted-operation"&&Hs(V(i))?(I=vt(a),a.m(),oe("handleUnauthorizedUser",i,I,null,pe.auth.GoogleAuthProvider.PROVIDER_ID)):(I=st(I),a.a(I))}),Oe(i,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===OE(V(i))){if(DE(V(i),pe.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return tu(i,a,pe.auth.GoogleAuthProvider.PROVIDER_ID,p),At(!0)}return h(pe.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(Ge("The selected credential for the authentication provider is not supported!").toString()),At(!1)}function jO(i,a){var u=a.j(),h=a.u();if(u)if(h){var p=pe.auth.EmailAuthProvider.credential(u,h);Oe(i,a.I(j(i.bc,i),[u,h],function(g){return mr(i,a,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":St(a.l(),!1),rn(a.U(),st(g));break;case"auth/too-many-requests":case"auth/wrong-password":St(a.i(),!1),rn(a.B(),st(g));break;default:Qn("verifyPassword: "+g.message,void 0),a.a(st(g))}}))}else a.i().focus();else a.l().focus()}function ad(i){return i=Xo(V(i)),i.length==1&&i[0]==pe.auth.EmailAuthProvider.PROVIDER_ID}function v1(i){return i=Xo(V(i)),i.length==1&&i[0]==pe.auth.PhoneAuthProvider.PROVIDER_ID}function ut(i,a,u,h){ad(i)?h?oe("signIn",i,a,u,h):wg(i,a,u):i&&v1(i)&&!h?oe("phoneSignInStart",i,a):i&&ig(V(i))&&!h?oe("federatedRedirect",i,a,u):oe("providerSignIn",i,a,h,u)}function y1(i,a,u,h){var p=vt(a);Oe(i,a.I(j(Ue(i).fetchSignInMethodsForEmail,Ue(i)),[u],function(g){a.m(),_1(i,p,g,u,h)},function(g){g=st(g),a.a(g)}))}function _1(i,a,u,h,p,g){u.length||Zo(V(i))&&!Zo(V(i))?N(u,pe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?oe("passwordSignIn",i,a,h,g):u.length==1&&u[0]===pe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Zo(V(i))?oe("sendEmailLinkForSignIn",i,a,h,function(){oe("signIn",i,a)}):oe("unsupportedProvider",i,a,h):(u=CE(u,Xo(V(i))))?(yE(new qm(h),be(i)),oe("federatedSignIn",i,a,h,u,p)):oe("unsupportedProvider",i,a,h):NE(V(i))?oe("handleUnauthorizedUser",i,a,h,pe.auth.EmailAuthProvider.PROVIDER_ID):Zo(V(i))?oe("sendEmailLinkForSignIn",i,a,h,function(){oe("signIn",i,a)}):oe("passwordSignUp",i,a,h,void 0,void 0,g)}function _g(i,a,u,h,p,g){var w=vt(a);Oe(i,a.I(j(i.Ib,i),[u,g],function(){a.m(),oe("emailLinkSignInSent",i,w,u,h,g)},p))}function wg(i,a,u){u?oe("prefilledEmailSignIn",i,a,u):oe("signIn",i,a)}function nu(){return uh(fr(),"oobCode")}function Eg(){var i=uh(fr(),"continueUrl");return i?function(){Uo(window.location,i)}:null}function iu(i,a){L.call(this,kb,void 0,a,"anonymousUserMismatch"),this.i=i}c(iu,L),iu.prototype.v=function(){var i=this;yt(this,this.l(),function(){i.i()}),this.l().focus(),L.prototype.v.call(this)},iu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(iu.prototype,{l:Ft}),Je.anonymousUserMismatch=function(i,a){var u=new iu(function(){u.m(),ut(i,a)});u.render(a),Me(i,u)};function ld(i){L.call(this,Ib,void 0,i,"callback")}c(ld,L),ld.prototype.I=function(i,a,u,h){return i.apply(null,a).then(u,h)};function w1(i,a,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=Bi(be(i)),g=p&&p.g;if(g&&!HO(u.user,g))$O(i,a,h);else{var w=p&&p.a;w?Oe(i,u.user.linkWithCredential(w).then(function(I){h={user:I.user,credential:w,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo},E1(i,a,h)},function(I){ud(i,a,I)})):E1(i,a,h)}}else u=vt(a),a.m(),ji(be(i)),ut(i,u)}function E1(i,a,u){ji(be(i)),mr(i,a,u)}function ud(i,a,u){var h=vt(a);ji(be(i)),u=st(u),a.m(),ut(i,h,void 0,u)}function b1(i,a,u,h){var p=vt(a);Oe(i,Ue(i).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?N(g,pe.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?oe("passwordLinking",i,p,u):g.length==1&&g[0]===pe.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?oe("emailLinkSignInLinking",i,p,u):(g=CE(g,Xo(V(i))))?oe("federatedLinking",i,p,u,g,h):(ji(be(i)),oe("unsupportedProvider",i,p,u)):(ji(be(i)),oe("passwordRecovery",i,p,u,!1,cw().toString()))},function(g){ud(i,a,g)}))}function $O(i,a,u){var h=vt(a);Oe(i,Yr(i).then(function(){a.m(),oe("emailMismatch",i,h,u)},function(p){p.name&&p.name=="cancel"||(p=st(p.code),a.a(p))}))}function HO(i,a){if(a==i.email)return!0;if(i.providerData){for(var u=0;u<i.providerData.length;u++)if(a==i.providerData[u].email)return!0}return!1}Je.callback=function(i,a,u){var h=new ld;h.render(a),Me(i,h),u=u||N1(i),Oe(i,u.then(function(p){w1(i,h,p)},function(p){if((p=eu(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)yE(new qm(p.email,p.credential),be(i)),b1(i,h,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=Bi(be(i)),w=st(p);g&&g.a?b1(i,h,g.g,w):g?y1(i,h,g.g,w):ud(i,h,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&ad(i)?w1(i,h,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&Hs(V(i))?(h.m(),ji(be(i)),oe("handleUnauthorizedUser",i,a,null,null)):ud(i,h,p))}))};function ru(i,a){L.call(this,Pb,void 0,a,"differentDeviceError"),this.i=i}c(ru,L),ru.prototype.v=function(){var i=this;yt(this,this.l(),function(){i.i()}),this.l().focus(),L.prototype.v.call(this)},ru.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(ru.prototype,{l:Ft}),Je.differentDeviceError=function(i,a){var u=new ru(function(){u.m(),ut(i,a)});u.render(a),Me(i,u)};function su(i,a,u,h){L.call(this,Bb,{email:i,G:!!u},h,"emailChangeRevoke"),this.l=a,this.i=u||null}c(su,L),su.prototype.v=function(){var i=this;yt(this,$e(this,"firebaseui-id-reset-password-link"),function(){i.l()}),this.i&&(this.w(this.i),this.u().focus()),L.prototype.v.call(this)},su.prototype.o=function(){this.l=this.i=null,L.prototype.o.call(this)},ve(su.prototype,{u:Qt,B:Ft,w:sn});function ou(){return $e(this,"firebaseui-id-new-password")}function cd(){return $e(this,"firebaseui-id-password-toggle")}function qO(){this.Ra=!this.Ra;var i=cd.call(this),a=ou.call(this);this.Ra?(a.type="text",$i(i,"firebaseui-input-toggle-off"),Hi(i,"firebaseui-input-toggle-on")):(a.type="password",$i(i,"firebaseui-input-toggle-on"),Hi(i,"firebaseui-input-toggle-off")),a.focus()}function hd(){return $e(this,"firebaseui-id-new-password-error")}function I1(){this.Ra=!1;var i=ou.call(this);i.type="password";var a=hd.call(this);oa(this,i,function(){aa(a)&&(St(i,!0),Xn(a))});var u=cd.call(this);$i(u,"firebaseui-input-toggle-on"),Hi(u,"firebaseui-input-toggle-off"),NO(this,i,function(){$i(u,"firebaseui-input-toggle-focus"),Hi(u,"firebaseui-input-toggle-blur")}),DO(this,i,function(){$i(u,"firebaseui-input-toggle-blur"),Hi(u,"firebaseui-input-toggle-focus")}),yt(this,u,j(qO,this))}function T1(){var i=ou.call(this),a=hd.call(this);return nn(i)?(St(i,!0),Xn(a),a=!0):(St(i,!1),rn(a,Ge("Enter your password").toString()),a=!1),a?nn(i):null}function au(i,a,u){L.call(this,Vb,{email:i},u,"passwordReset"),this.l=a}c(au,L),au.prototype.v=function(){this.H(),this.B(this.l),ca(this,this.i(),this.l),this.i().focus(),L.prototype.v.call(this)},au.prototype.o=function(){this.l=null,L.prototype.o.call(this)},ve(au.prototype,{i:ou,w:hd,M:cd,H:I1,u:T1,U:Qt,P:Ft,B:sn});function lu(i,a,u,h,p){L.call(this,Kb,{factorId:i,phoneNumber:u||null,G:!!h},p,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=h||null}c(lu,L),lu.prototype.v=function(){var i=this;yt(this,$e(this,"firebaseui-id-reset-password-link"),function(){i.l()}),this.i&&(this.w(this.i),this.u().focus()),L.prototype.v.call(this)},lu.prototype.o=function(){this.l=this.i=null,L.prototype.o.call(this)},ve(lu.prototype,{u:Qt,B:Ft,w:sn});function WO(i,a,u,h,p){var g=u.u();g&&Oe(i,u.I(j(Ue(i).confirmPasswordReset,Ue(i)),[h,g],function(){u.m();var w=new h1(p);w.render(a),Me(i,w)},function(w){A1(i,a,u,w)}))}function A1(i,a,u,h){(h&&h.code)=="auth/weak-password"?(i=st(h),St(u.i(),!1),rn(u.w(),i),u.i().focus()):(u&&u.m(),u=new d1,u.render(a),Me(i,u))}function KO(i,a,u){var h=new su(u,function(){Oe(i,h.I(j(Ue(i).sendPasswordResetEmail,Ue(i)),[u],function(){h.m(),h=new sd(u,void 0,Nt(V(i)),Dt(V(i))),h.render(a),Me(i,h)},function(){h.a(lw().toString())}))});h.render(a),Me(i,h)}function GO(i,a,u,h){var p=new lu(h.factorId,function(){p.I(j(Ue(i).sendPasswordResetEmail,Ue(i)),[u],function(){p.m(),p=new sd(u,void 0,Nt(V(i)),Dt(V(i))),p.render(a),Me(i,p)},function(){p.a(lw().toString())})},h.phoneNumber);p.render(a),Me(i,p)}Je.passwordReset=function(i,a,u,h){Oe(i,Ue(i).verifyPasswordResetCode(u).then(function(p){var g=new au(p,function(){WO(i,a,g,u,h)});g.render(a),Me(i,g)},function(){A1(i,a)}))},Je.emailChangeRevocation=function(i,a,u){var h=null;Oe(i,Ue(i).checkActionCode(u).then(function(p){return h=p.data.email,Ue(i).applyActionCode(u)}).then(function(){KO(i,a,h)},function(){var p=new f1;p.render(a),Me(i,p)}))},Je.emailVerification=function(i,a,u,h){Oe(i,Ue(i).applyActionCode(u).then(function(){var p=new s1(h);p.render(a),Me(i,p)},function(){var p=new o1;p.render(a),Me(i,p)}))},Je.revertSecondFactorAddition=function(i,a,u){var h=null,p=null;Oe(i,Ue(i).checkActionCode(u).then(function(g){return h=g.data.email,p=g.data.multiFactorInfo,Ue(i).applyActionCode(u)}).then(function(){GO(i,a,h,p)},function(){var g=new u1;g.render(a),Me(i,g)}))},Je.verifyAndChangeEmail=function(i,a,u,h){var p=null;Oe(i,Ue(i).checkActionCode(u).then(function(g){return p=g.data.email,Ue(i).applyActionCode(u)}).then(function(){var g=new a1(p,h);g.render(a),Me(i,g)},function(){var g=new l1;g.render(a),Me(i,g)}))};function dd(i,a){try{var u=typeof i.selectionStart=="number"}catch{u=!1}u?(i.selectionStart=a,i.selectionEnd=a):It&&!Ns("9")&&(i.type=="textarea"&&(a=i.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),i=i.createTextRange(),i.collapse(!0),i.move("character",a),i.select())}function uu(i,a,u,h,p,g){L.call(this,Cb,{email:u},g,"emailLinkSignInConfirmation",{F:h,D:p}),this.l=i,this.u=a}c(uu,L),uu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),dd(this.i(),(this.i().value||"").length),L.prototype.v.call(this)},uu.prototype.o=function(){this.u=this.l=null,L.prototype.o.call(this)},ve(uu.prototype,{i:pr,M:zr,w:da,H:fa,j:pa,U:Qt,P:Ft,B:sn}),Je.emailLinkConfirmation=function(i,a,u,h,p,g){var w=new uu(function(){var I=w.j();I?(w.m(),h(i,a,I,u)):w.i().focus()},function(){w.m(),ut(i,a,p||void 0)},p||void 0,Nt(V(i)),Dt(V(i)));w.render(a),Me(i,w),g&&w.a(g)};function cu(i,a,u,h,p){L.call(this,Db,{ga:i},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=a}c(cu,L),cu.prototype.v=function(){this.u(this.i),this.l().focus(),L.prototype.v.call(this)},cu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(cu.prototype,{l:Qt,u:sn}),Je.emailLinkNewDeviceLinking=function(i,a,u,h){var p=new Os(u);if(u=p.a.a.get(Lt.PROVIDER_ID)||null,U0(p,null),u){var g=new cu(Hl(V(i),u),function(){g.m(),h(i,a,p.toString())},Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g)}else ut(i,a)};function fd(i){L.call(this,Ab,void 0,i,"blank")}c(fd,L);function bg(i,a,u,h,p){var g=new fd,w=new Os(u),I=w.a.a.get(Lt.$a)||"",k=w.a.a.get(Lt.Sa)||"",H=w.a.a.get(Lt.Qa)==="1",ue=F0(w),it=w.a.a.get(Lt.PROVIDER_ID)||null;w=w.a.a.get(Lt.vb)||null,F1(i,w);var wi=!Yo(zo,be(i)),H1=h||fO(k,be(i)),Iu=(h=pO(k,be(i)))&&h.a;it&&Iu&&Iu.providerId!==it&&(Iu=null),g.render(a),Me(i,g),Oe(i,g.I(function(){var li=At(null);li=ue&&wi||wi&&H?Bo(Error("anonymous-user-not-found")):hN(i,u).then(function(Dg){if(it&&!Iu)throw Error("pending-credential-not-found");return Dg});var Tu=null;return li.then(function(Dg){return Tu=Dg,p?null:Ue(i).checkActionCode(I)}).then(function(){return Tu})},[],function(li){H1?YO(i,g,H1,u,Iu,li):H?(g.m(),oe("differentDeviceError",i,a)):(g.m(),oe("emailLinkConfirmation",i,a,u,S1))},function(li){var Tu=void 0;if(!li||!li.name||li.name!="cancel")switch(g.m(),li&&li.message){case"anonymous-user-not-found":oe("differentDeviceError",i,a);break;case"anonymous-user-mismatch":oe("anonymousUserMismatch",i,a);break;case"pending-credential-not-found":oe("emailLinkNewDeviceLinking",i,a,u,zO);break;default:li&&(Tu=st(li)),ut(i,a,void 0,Tu)}}))}function S1(i,a,u,h){bg(i,a,h,u,!0)}function zO(i,a,u){bg(i,a,u)}function YO(i,a,u,h,p,g){var w=vt(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ge("Signing in...").toString());var I=null;p=(g?dN(i,g,u,h,p):fN(i,u,h,p)).then(function(k){$n(jl,be(i)),$n(zo,be(i)),a.h(),a.$("firebaseui-icon-done",Ge("Signed in!").toString()),I=setTimeout(function(){a.h(),mr(i,a,k,!0)},1e3),Oe(i,function(){a&&(a.h(),a.m()),clearTimeout(I)})},function(k){if(a.h(),a.m(),!k.name||k.name!="cancel"){k=eu(k);var H=st(k);k.code=="auth/email-already-in-use"||k.code=="auth/credential-already-in-use"?($n(jl,be(i)),$n(zo,be(i))):k.code=="auth/invalid-email"?(H=Ge("The email provided does not match the current sign-in session.").toString(),oe("emailLinkConfirmation",i,w,h,S1,null,H)):ut(i,w,u,H)}}),Oe(i,p)}Je.emailLinkSignInCallback=bg;function hu(i,a,u,h,p,g){L.call(this,Nb,{email:i,ga:a},g,"emailLinkSignInLinking",{F:h,D:p}),this.i=u}c(hu,L),hu.prototype.v=function(){this.u(this.i),this.l().focus(),L.prototype.v.call(this)},hu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(hu.prototype,{l:Qt,u:sn});function QO(i,a,u,h){var p=vt(a);_g(i,a,u,function(){ut(i,p,u)},function(g){if(!g.name||g.name!="cancel"){var w=st(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),ut(i,p,u,w))}},h)}Je.emailLinkSignInLinking=function(i,a,u){var h=Bi(be(i));if(ji(be(i)),h){var p=h.a.providerId,g=new hu(u,Hl(V(i),p),function(){QO(i,g,u,h)},Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g)}else ut(i,a)};function du(i,a,u,h,p,g){L.call(this,Sb,{email:i},g,"emailLinkSignInSent",{F:h,D:p}),this.u=a,this.i=u}c(du,L),du.prototype.v=function(){var i=this;yt(this,this.l(),function(){i.i()}),yt(this,$e(this,"firebaseui-id-trouble-getting-email-link"),function(){i.u()}),this.l().focus(),L.prototype.v.call(this)},du.prototype.o=function(){this.i=this.u=null,L.prototype.o.call(this)},ve(du.prototype,{l:Ft}),Je.emailLinkSignInSent=function(i,a,u,h,p){var g=new du(u,function(){g.m(),oe("emailNotReceived",i,a,u,h,p)},function(){g.m(),h()},Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g)};function fu(i,a,u,h,p,g,w){L.call(this,Qb,{jc:i,Qb:a},w,"emailMismatch",{F:p,D:g}),this.l=u,this.i=h}c(fu,L),fu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),L.prototype.v.call(this)},fu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(fu.prototype,{u:Qt,B:Ft,w:sn}),Je.emailMismatch=function(i,a,u){var h=Bi(be(i));if(h){var p=new fu(u.user.email,h.g,function(){var g=p;ji(be(i)),mr(i,g,u)},function(){var g=u.credential.providerId,w=vt(p);p.m(),h.a?oe("federatedLinking",i,w,h.g,g):oe("federatedSignIn",i,w,h.g,g)},Nt(V(i)),Dt(V(i)));p.render(a),Me(i,p)}else ut(i,a)};function ma(i,a,u,h,p){L.call(this,Rb,void 0,p,"emailNotReceived",{F:u,D:h}),this.l=i,this.i=a}c(ma,L),ma.prototype.v=function(){var i=this;yt(this,this.u(),function(){i.i()}),yt(this,this.Da(),function(){i.l()}),this.u().focus(),L.prototype.v.call(this)},ma.prototype.Da=function(){return $e(this,"firebaseui-id-resend-email-link")},ma.prototype.o=function(){this.i=this.l=null,L.prototype.o.call(this)},ve(ma.prototype,{u:Ft}),Je.emailNotReceived=function(i,a,u,h,p){var g=new ma(function(){_g(i,g,u,h,function(w){w=st(w),g.a(w)},p)},function(){g.m(),ut(i,a,u)},Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g)};function ga(i,a,u,h,p,g){L.call(this,xb,{email:i,ga:a},g,"federatedLinking",{F:h,D:p}),this.i=u}c(ga,L),ga.prototype.v=function(){this.u(this.i),this.l().focus(),L.prototype.v.call(this)},ga.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(ga.prototype,{l:Qt,u:sn}),Je.federatedLinking=function(i,a,u,h,p){var g=Bi(be(i));if(g&&g.a){var w=new ga(u,Hl(V(i),h),function(){tu(i,w,h,u)},Nt(V(i)),Dt(V(i)));w.render(a),Me(i,w),p&&w.a(p)}else ut(i,a)},Je.federatedRedirect=function(i,a,u){var h=new fd;h.render(a),Me(i,h),a=Xo(V(i))[0],tu(i,h,a,u)},Je.federatedSignIn=function(i,a,u,h,p){var g=new ga(u,Hl(V(i),h),function(){tu(i,g,h,u)},Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g),p&&g.a(p)};function JO(i,a,u,h){var p=a.u();p?Oe(i,a.I(j(i.Xb,i),[u,p],function(g){return g=g.user.linkWithCredential(h).then(function(w){return mr(i,a,{user:w.user,credential:h,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Oe(i,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":St(a.i(),!1),rn(a.B(),st(g));break;case"auth/too-many-requests":a.a(st(g));break;default:Qn("signInWithEmailAndPassword: "+g.message,void 0),a.a(st(g))}})):a.i().focus()}Je.passwordLinking=function(i,a,u){var h=Bi(be(i));ji(be(i));var p=h&&h.a;if(p){var g=new ha(u,function(){JO(i,g,u,p)},function(){g.m(),oe("passwordRecovery",i,a,u)},Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g)}else ut(i,a)};function pu(i,a,u,h,p,g){L.call(this,Eb,{email:u,Ta:!!a},g,"passwordRecovery",{F:h,D:p}),this.l=i,this.u=a}c(pu,L),pu.prototype.v=function(){this.B(),this.H(this.l,this.u),nn(this.i())||this.i().focus(),ca(this,this.i(),this.l),L.prototype.v.call(this)},pu.prototype.o=function(){this.u=this.l=null,L.prototype.o.call(this)},ve(pu.prototype,{i:pr,w:zr,B:da,M:fa,j:pa,U:Qt,P:Ft,H:sn});function XO(i,a){var u=a.j();if(u){var h=vt(a);Oe(i,a.I(j(Ue(i).sendPasswordResetEmail,Ue(i)),[u],function(){a.m();var p=new sd(u,function(){p.m(),ut(i,h)},Nt(V(i)),Dt(V(i)));p.render(h),Me(i,p)},function(p){St(a.i(),!1),rn(a.w(),st(p))}))}else a.i().focus()}Je.passwordRecovery=function(i,a,u,h,p){var g=new pu(function(){XO(i,g)},h?void 0:function(){g.m(),ut(i,a)},u,Nt(V(i)),Dt(V(i)));g.render(a),Me(i,g),p&&g.a(p)},Je.passwordSignIn=function(i,a,u,h){var p=new Zl(function(){jO(i,p)},function(){var g=p.M();p.m(),oe("passwordRecovery",i,a,g)},u,Nt(V(i)),Dt(V(i)),h);p.render(a),Me(i,p)};function Ig(){return $e(this,"firebaseui-id-name")}function Tg(){return $e(this,"firebaseui-id-name-error")}function mu(i,a,u,h,p,g,w,I,k){L.call(this,wb,{email:h,Tb:i,name:p,Ta:!!u,ia:!!I},k,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=i}c(mu,L),mu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Xl(this,this.i(),this.u()),Xl(this,this.u(),this.l())):Xl(this,this.i(),this.l()),this.w&&ca(this,this.l(),this.w),nn(this.i())?this.B&&!nn(this.u())?this.u().focus():this.l().focus():this.i().focus(),L.prototype.v.call(this)},mu.prototype.o=function(){this.H=this.w=null,L.prototype.o.call(this)},ve(mu.prototype,{i:pr,U:zr,ea:da,jb:fa,j:pa,u:Ig,Bc:Tg,Ja:function(){var i=Ig.call(this),a=Tg.call(this);oa(this,i,function(){aa(a)&&(St(i,!0),Xn(a))})},M:function(){var i=Ig.call(this),a=Tg.call(this),u=nn(i);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),St(i,u),u?(Xn(a),a=!0):(rn(a,Ge("Enter your account name").toString()),a=!1),a?O(nn(i)):null},l:ou,ba:hd,lb:cd,ua:I1,P:T1,Nb:Qt,Mb:Ft,pa:sn});function ZO(i,a){var u=ME(V(i)),h=a.j(),p=null;u&&(p=a.M());var g=a.P();if(h){if(u)if(p)p=ce(p);else{a.u().focus();return}if(g){var w=pe.auth.EmailAuthProvider.credential(h,g);Oe(i,a.I(j(i.Yb,i),[h,g],function(I){var k={user:I.user,credential:w,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo};return u?(I=I.user.updateProfile({displayName:p}).then(function(){return mr(i,a,k)}),Oe(i,I),I):mr(i,a,k)},function(I){if(!I.name||I.name!="cancel"){var k=eu(I);switch(I=st(k),k.code){case"auth/email-already-in-use":return eN(i,a,h,k);case"auth/too-many-requests":I=Ge("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":St(a.l(),!1),rn(a.ba(),I);break;case"auth/admin-restricted-operation":Hs(V(i))?(I=vt(a),a.m(),oe("handleUnauthorizedUser",i,I,h,pe.auth.EmailAuthProvider.PROVIDER_ID)):a.a(I);break;default:k="setAccountInfo: "+dE(k),Qn(k,void 0),a.a(I)}}}))}else a.l().focus()}else a.i().focus()}function eN(i,a,u,h){function p(){var w=st(h);St(a.i(),!1),rn(a.U(),w),a.i().focus()}var g=Ue(i).fetchSignInMethodsForEmail(u).then(function(w){w.length?p():(w=vt(a),a.m(),oe("passwordRecovery",i,w,u,!1,cw().toString()))},function(){p()});return Oe(i,g),g}Je.passwordSignUp=function(i,a,u,h,p,g){function w(){I.m(),ut(i,a)}var I=new mu(ME(V(i)),function(){ZO(i,I)},p?void 0:w,u,h,Nt(V(i)),Dt(V(i)),g);I.render(a),Me(i,I)};function Ag(){return $e(this,"firebaseui-id-phone-confirmation-code")}function R1(){return $e(this,"firebaseui-id-phone-confirmation-code-error")}function C1(){return $e(this,"firebaseui-id-resend-countdown")}function va(i,a,u,h,p,g,w,I,k){L.call(this,Zb,{phoneNumber:p},k,"phoneSignInFinish",{F:w,D:I}),this.jb=g,this.i=new Jh(1e3),this.B=g,this.P=i,this.l=a,this.H=u,this.M=h}c(va,L),va.prototype.v=function(){var i=this;this.U(this.jb),gi(this.i,"tick",this.w,!1,this),this.i.start(),yt(this,$e(this,"firebaseui-id-change-phone-number-link"),function(){i.P()}),yt(this,this.Da(),function(){i.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),L.prototype.v.call(this)},va.prototype.o=function(){this.M=this.H=this.l=this.P=null,Xh(this.i),Vs(this.i,"tick",this.w),this.i=null,L.prototype.o.call(this)},va.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Xh(this.i),Vs(this.i,"tick",this.w),this.ua(),this.lb())},ve(va.prototype,{u:Ag,pa:R1,Ja:function(i){var a=Ag.call(this),u=R1.call(this);oa(this,a,function(){aa(u)&&(St(a,!0),Xn(u))}),i&&Jl(this,a,function(){i()})},ba:function(){var i=O(nn(Ag.call(this))||"");return/^\d{6}$/.test(i)?i:null},Fb:C1,U:function(i){pm(C1.call(this),Ge("Resend code in "+((9<i?"0:":"0:0")+i)).toString())},ua:function(){Xn(this.Fb())},Da:function(){return $e(this,"firebaseui-id-resend-link")},lb:function(){rn(this.Da())},Nb:Qt,Mb:Ft,ea:sn});function tN(i,a,u,h){function p(w){a.u().focus(),St(a.u(),!1),rn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ge("Verifying...").toString()),Oe(i,a.I(j(h.confirm,h),[g],function(w){a.h(),a.$("firebaseui-icon-done",Ge("Verified!").toString());var I=setTimeout(function(){a.h(),a.m();var k={user:yi(i).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};mr(i,a,k,!0)},1e3);Oe(i,function(){a&&a.h(),clearTimeout(I)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var I=eu(w);switch(w=st(I),I.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":I=vt(a),a.h(),a.m(),oe("phoneSignInStart",i,I,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),p(w);break;default:a.h(),a.a(w)}}}))):p(Ge("Wrong code. Try again.").toString())}Je.phoneSignInFinish=function(i,a,u,h,p,g){var w=new va(function(){w.m(),oe("phoneSignInStart",i,a,u)},function(){tN(i,w,u,p)},function(){w.m(),ut(i,a)},function(){w.m(),oe("phoneSignInStart",i,a,u)},tg(u),h,Nt(V(i)),Dt(V(i)));w.render(a),Me(i,w),g&&w.a(g)};var nN=!It&&!(Fe("Safari")&&!($0()||Fe("Coast")||Fe("Opera")||Fe("Edge")||Fe("Firefox")||Fe("FxiOS")||Fe("Silk")||Fe("Android")));function pd(i,a){return/-[a-z]/.test(a)?null:nN&&i.dataset?!Fe("Android")||$0()||Fe("Firefox")||Fe("FxiOS")||Fe("Opera")||Fe("Silk")||a in i.dataset?(i=i.dataset[a],i===void 0?null:i):null:i.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function iN(i,a,u){var h=this;i=Rl(db,{items:i},null,this.s),pb.call(this,i,!0,!0),u&&(u=rN(i,u))&&(u.focus(),OO(u,i)),yt(this,i,function(p){(p=(p=iw(p.target,"firebaseui-id-list-box-dialog-button"))&&pd(p,"listboxid"))&&(nd.call(h),a(p))})}function rN(i,a){i=(i||document).getElementsByTagName("BUTTON");for(var u=0;u<i.length;u++)if(pd(i[u],"listboxid")===a)return i[u];return null}function Ws(){return $e(this,"firebaseui-id-phone-number")}function P1(){return $e(this,"firebaseui-id-country-selector")}function Sg(){return $e(this,"firebaseui-id-phone-number-error")}function sN(i,a){var u=i.a,h=Rg("1-US-0",u),p=null;if(a&&Rg(a,u)?p=a:h?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");md.call(this,p,i)}function Rg(i,a){return i=$s(i),!(!i||!N(a,i))}function oN(i){return i.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+Cg(a),label:a.name+" "+("+"+a.b)}})}function Cg(i){return"firebaseui-flag-"+i.f}function aN(i){var a=this;iN.call(this,oN(i.a),function(u){md.call(a,u,i,!0),a.O().focus()},this.Ba)}function md(i,a,u){var h=$s(i);h&&(u&&(u=O(nn(Ws.call(this))||""),a=Kh(a,u),a.length&&a[0].b!=h.b&&(u="+"+h.b+u.substr(a[0].b.length+1),$E(Ws.call(this),u))),a=$s(this.Ba),this.Ba=i,i=$e(this,"firebaseui-id-country-selector-flag"),a&&Hi(i,Cg(a)),$i(i,Cg(h)),pm($e(this,"firebaseui-id-country-selector-code"),"+"+h.b))}function gu(i,a,u,h,p,g,w,I,k,H){L.call(this,Xb,{Gb:a,Aa:k||null,Va:!!u,ia:!!g},H,"phoneSignInStart",{F:h,D:p}),this.H=I||null,this.M=a,this.l=i,this.w=u||null,this.pa=w||null}c(gu,L),gu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Xl(this,this.O(),this.i()),ca(this,this.i(),this.l),this.O().focus(),dd(this.O(),(this.O().value||"").length),L.prototype.v.call(this)},gu.prototype.o=function(){this.w=this.l=null,L.prototype.o.call(this)},ve(gu.prototype,{Cb:vg,O:Ws,B:Sg,ea:function(i,a,u){var h=this,p=Ws.call(this),g=P1.call(this),w=Sg.call(this),I=i||$l,k=I.a;if(k.length==0)throw Error("No available countries provided.");sN.call(h,I,a),yt(this,g,function(){aN.call(h,I)}),oa(this,p,function(){aa(w)&&(St(p,!0),Xn(w));var H=O(nn(p)||""),ue=$s(this.Ba),it=Kh(I,H);H=Rg("1-US-0",k),it.length&&it[0].b!=ue.b&&(ue=it[0],md.call(h,ue.b=="1"&&H?"1-US-0":ue.c,I))}),u&&Jl(this,p,function(){u()})},U:function(i){var a=O(nn(Ws.call(this))||"");i=i||$l;var u=i.a,h=Kh($l,a);if(h.length&&!N(u,h[0]))throw $E(Ws.call(this)),Ws.call(this).focus(),rn(Sg.call(this),Ge("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=$s(this.Ba),h.length&&h[0].b!=u.b&&md.call(this,h[0].c,i),h.length&&(a=a.substr(h[0].b.length+1)),a?new SE(this.Ba,a):null},Ja:P1,ba:function(){return $e(this,"firebaseui-recaptcha-container")},u:function(){return $e(this,"firebaseui-id-recaptcha-error")},i:Qt,ua:Ft,P:sn});function k1(i,a,u,h){try{var p=a.U(ug)}catch{return}p?Wl?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ge("Verifying...").toString()),Oe(i,a.I(j(i.cc,i),[tg(p),u],function(g){var w=vt(a);a.$("firebaseui-icon-done",Ge("Code sent!").toString());var I=setTimeout(function(){a.h(),a.m(),oe("phoneSignInFinish",i,w,p,15,g)},1e3);Oe(i,function(){a&&a.h(),clearTimeout(I)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(BE),Wl=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=Ge("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),rn(a.B(),ym().toString());return;case"auth/admin-restricted-operation":if(Hs(V(i))){g=vt(a),a.m(),oe("handleUnauthorizedUser",i,g,tg(p),pe.auth.PhoneAuthProvider.PROVIDER_ID);return}w=st(g);break;default:w=st(g)}a.a(w)}}))):ea?rn(a.u(),Ge("Solve the reCAPTCHA").toString()):!ea&&h&&a.i().click():(a.O().focus(),rn(a.B(),ym().toString()))}Je.phoneSignInStart=function(i,a,u,h){var p=vO(V(i))||{};Wl=null,ea=!(p&&p.size==="invisible");var g=v1(i),w=IO(V(i)),I=g?bO(V(i)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||I,(I=ng(V(i)))&&AE(I),ug=I?new bE(ng(V(i))):$l;var k=new gu(function(ue){k1(i,k,H,!(!ue||!ue.keyCode))},ea,g?null:function(){H.clear(),k.m(),ut(i,a)},Nt(V(i)),Dt(V(i)),g,ug,w,u);k.render(a),Me(i,k),h&&k.a(h),p.callback=function(ue){k.u()&&Xn(k.u()),Wl=ue,ea||k1(i,k,H)},p["expired-callback"]=function(){Wl=null};var H=new pe.auth.RecaptchaVerifier(ea?k.ba():k.i(),p,yi(i).app);Oe(i,k.I(j(H.render,H),[],function(ue){BE=ue},function(ue){ue.name&&ue.name=="cancel"||(ue=st(ue),k.m(),ut(i,a,void 0,ue))}))},Je.prefilledEmailSignIn=function(i,a,u){var h=new fd;h.render(a),Me(i,h),Oe(i,h.I(j(Ue(i).fetchSignInMethodsForEmail,Ue(i)),[u],function(p){h.m();var g=!(!ad(i)||!D1(i));_1(i,a,p,u,void 0,g)},function(p){p=st(p),h.m(),oe("signIn",i,a,u,p)}))};function vu(i,a,u,h,p){L.call(this,Jb,{Sb:a},p,"providerSignIn",{F:u,D:h}),this.i=i}c(vu,L),vu.prototype.v=function(){this.l(this.i),L.prototype.v.call(this)},vu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(vu.prototype,{l:function(i){function a(w){i(w)}for(var u=this.g?dm("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var p=u[h],g=pd(p,"providerId");yt(this,p,Y(a,g))}}}),Je.providerSignIn=function(i,a,u,h){var p=new vu(function(g){g==pe.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),wg(i,a,h)):g==pe.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),oe("phoneSignInStart",i,a)):g=="anonymous"?UO(i,p):tu(i,p,g,h),He(i),i.l.cancel()},kE(V(i)),Nt(V(i)),Dt(V(i)));p.render(a),Me(i,p),u&&p.a(u),cN(i)},Je.sendEmailLinkForSignIn=function(i,a,u,h){var p=new ld;p.render(a),Me(i,p),_g(i,p,u,h,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&Hs(V(i))?oe("handleUnauthorizedUser",i,a,u,pe.auth.EmailAuthProvider.PROVIDER_ID):(g=st(g),oe("signIn",i,a,u,g))})};function yu(i,a,u,h,p,g,w){L.call(this,yb,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:h,D:p}),this.i=i,this.u=a}c(yu,L),yu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),dd(this.l(),(this.l().value||"").length),L.prototype.v.call(this)},yu.prototype.o=function(){this.u=this.i=null,L.prototype.o.call(this)},ve(yu.prototype,{l:pr,M:zr,w:da,H:fa,j:pa,U:Qt,P:Ft,B:sn}),Je.signIn=function(i,a,u,h){var p=ad(i),g=new yu(function(){var w=g,I=w.j()||"";I&&y1(i,w,I)},p?null:function(){g.m(),ut(i,a,u)},u,Nt(V(i)),Dt(V(i)),p);g.render(a),Me(i,g),h&&g.a(h)};function _u(i,a,u,h,p,g,w){L.call(this,Lb,{kc:i,yb:u,Eb:!!h},w,"unauthorizedUser",{F:p,D:g}),this.l=a,this.i=h}c(_u,L),_u.prototype.v=function(){var i=this,a=$e(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&yt(this,a,function(){i.i()}),yt(this,this.u(),function(){i.l()}),this.u().focus(),L.prototype.v.call(this)},_u.prototype.o=function(){this.i=this.l=null,L.prototype.o.call(this)},ve(_u.prototype,{u:Ft}),Je.handleUnauthorizedUser=function(i,a,u,h){function p(){ut(i,a)}h===pe.auth.EmailAuthProvider.PROVIDER_ID?p=function(){wg(i,a)}:h===pe.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){oe("phoneSignInStart",i,a)});var g=null,w=null;h===pe.auth.EmailAuthProvider.PROVIDER_ID&&NE(V(i))?(g=wO(V(i)),w=EO(V(i))):Hs(V(i))&&(g=yO(V(i)),w=_O(V(i)));var I=new _u(u,function(){I.m(),p()},g,w,Nt(V(i)),Dt(V(i)));I.render(a),Me(i,I)};function wu(i,a,u,h,p,g){L.call(this,Mb,{email:i},g,"unsupportedProvider",{F:h,D:p}),this.l=a,this.i=u}c(wu,L),wu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),L.prototype.v.call(this)},wu.prototype.o=function(){this.i=this.l=null,L.prototype.o.call(this)},ve(wu.prototype,{u:Qt,B:Ft,w:sn}),Je.unsupportedProvider=function(i,a,u){var h=new wu(u,function(){h.m(),oe("passwordRecovery",i,a,u)},function(){h.m(),ut(i,a,u)},Nt(V(i)),Dt(V(i)));h.render(a),Me(i,h)};function qi(i,a){this.$=!1;var u=Pg(a);if(Eu[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Eu[u]=this,this.a=i,this.u=null,this.Y=!1,O1(this.a),this.h=pe.initializeApp({apiKey:i.app.options.apiKey,authDomain:i.app.options.authDomain},i.app.name+"-firebaseui-temp").auth(),(i=i.emulatorConfig)&&(u=i.port,this.h.useEmulator(i.protocol+"://"+i.host+(u===null?"":":"+u),i.options)),O1(this.h),this.h.setPersistence&&this.h.setPersistence(pe.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new gO,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=xm.Xa(),this.j=this.C=null,this.da=this.A=!1}function O1(i){i&&i.INTERNAL&&i.INTERNAL.logFramework&&i.INTERNAL.logFramework("FirebaseUI-web")}var Eu={};function Pg(i){return i||"[DEFAULT]"}function N1(i){return He(i),i.i||(i.i=gr(i,function(a){return a&&!Bi(be(i))?At(yi(i).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return Qr(i,u)})):At(Ue(i).getRedirectResult().then(function(u){return Gh(V(i))&&!u.user&&i.j&&!i.j.isAnonymous?yi(i).getRedirectResult():u}))})),i.i}function Me(i,a){He(i),i.g=a}var ya=null;function Ue(i){return He(i),i.h}function yi(i){return He(i),i.a}function be(i){return He(i),i.oa}function D1(i){return He(i),i.O?i.O.emailHint:void 0}t=qi.prototype,t.nb=function(){return He(this),!!Qm(be(this))||x1(fr())};function x1(i){return i=new Os(i),(i.a.a.get(Lt.ub)||null)==="signIn"&&!!i.a.a.get(Lt.$a)}t.start=function(i,a){L1(this,i,a)};function L1(i,a,u,h){He(i),typeof i.a.languageCode<"u"&&(i.u=i.a.languageCode);var p="en".replace(/_/g,"-");i.a.languageCode=p,i.h.languageCode=p,i.Y=!0,typeof i.a.tenantId<"u"&&(i.h.tenantId=i.a.tenantId),i.ib(u),i.O=h||null;var g=v.document;i.C?i.C.then(function(){g.readyState=="complete"?gd(i,a):Nl(window,"load",function(){gd(i,a)})}):g.readyState=="complete"?gd(i,a):Nl(window,"load",function(){gd(i,a)})}function gd(i,a){var u=Ah(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),ya){var h=ya;He(h),Bi(be(h))&&Kr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),ya.reset()}if(ya=i,i.T=u,uN(i,u),Wh(new Km)&&Wh(new Gm)){a=Ah(a,"Could not find the FirebaseUI widget element on the page."),u=fr(),h=Zm(V(i).a,"queryParameterForSignInSuccessUrl"),u=(u=uh(u,h))?Ur(hh(u)).toString():null;e:{h=fr();var p=LE(V(i));h=uh(h,p)||"";for(g in lg)if(lg[g].toLowerCase()==h.toLowerCase()){var g=lg[g];break e}g="callback"}switch(g){case"callback":u&&(g=be(i),Qo(Bl,u,g)),i.nb()?oe("callback",i,a):ut(i,a,D1(i));break;case"resetPassword":oe("passwordReset",i,a,nu(),Eg());break;case"recoverEmail":oe("emailChangeRevocation",i,a,nu());break;case"revertSecondFactorAddition":oe("revertSecondFactorAddition",i,a,nu());break;case"verifyEmail":oe("emailVerification",i,a,nu(),Eg());break;case"verifyAndChangeEmail":oe("verifyAndChangeEmail",i,a,nu(),Eg());break;case"signIn":oe("emailLinkSignInCallback",i,a,fr()),U1();break;case"select":u&&(g=be(i),Qo(Bl,u,g)),ut(i,a);break;default:throw Error("Unhandled widget operation.")}a=V(i),(a=ql(a).uiShown||null)&&a()}else a=Ah(a,"Could not find the FirebaseUI widget element on the page."),g=new m1(Ge("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),Me(i,g);a=i.g&&i.g.Ga=="blank"&&ig(V(i)),Qm(be(i))&&!a&&(a=Qm(be(i)),F1(i,a.a),$n(js,be(i)))}function gr(i,a){if(i.A)return a(M1(i));if(Oe(i,function(){i.A=!1}),Gh(V(i))){var u=new Vt(function(h){Oe(i,i.a.onAuthStateChanged(function(p){i.j=p,i.A||(i.A=!0,h(a(M1(i))))}))});return Oe(i,u),u}return i.A=!0,a(null)}function M1(i){return He(i),Gh(V(i))&&i.j&&i.j.isAnonymous?i.j:null}function Oe(i,a){if(He(i),a){i.s.push(a);var u=function(){Qe(i.s,function(h){return h==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){He(this),this.Z=!0};function lN(i){He(i);var a;return(a=i.Z)||(i=V(i),i=xE(i,pe.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!i||i.prompt!=="select_account")),a}function V1(i){typeof i.a.languageCode<"u"&&i.Y&&(i.Y=!1,i.a.languageCode=i.u)}function F1(i,a){i.a.tenantId=a,i.h.tenantId=a}t.reset=function(){He(this);var i=this;this.T&&this.T.removeAttribute("lang"),this.J&&Hk(this.J),V1(this),this.O=null,U1(),$n(js,be(this)),He(this),this.l.cancel(),this.i=At({user:null,credential:null}),ya==this&&(ya=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],ji(be(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Yr(this).then(function(){i.C=null},function(){i.C=null}))};function uN(i,a){i.L=null,i.J=new Ih(a),i.J.register(),gi(i.J,"pageEnter",function(u){if(u=u&&u.pageId,i.L!=u){var h=V(i);(h=ql(h).uiChanged||null)&&h(i.L,u),i.L=u}})}t.ib=function(i){He(this);var a=this.ca,u;for(u in i)try{Xm(a.a,u,i[u])}catch{Qn('Invalid config: "'+u+'"',void 0)}ck&&Xm(a.a,"popupMode",!1),ng(a),!this.da&&rg(V(this))&&(Kr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function V(i){return He(i),i.ca}t.Wb=function(){He(this);var i=V(this),a=Zm(i.a,"widgetUrl");i=LE(i);for(var u=a.search(x0),h=0,p,g=[];0<=(p=D0(a,h,i,u));)g.push(a.substring(h,p)),h=Math.min(a.indexOf("&",p)+1||u,u);g.push(a.substr(h)),a=g.join("").replace(Z2,"$1"),u="="+encodeURIComponent("select"),(i+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),h=a.indexOf("?"),0>h||h>u?(h=u,p=""):p=a.substring(h+1,u),a=[a.substr(0,h),p,a.substr(u)],u=a[1],a[1]=i?u?u+"&"+i:i:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,V(this).a.get("popupMode")?(i=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",i={width:500,height:600,top:0<i?i:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},i.target=i.target||u.target||"google_popup",i.width=i.width||690,i.height=i.height||500,(i=Mw(u,i))&&i.focus()):Uo(window.location,u)};function He(i){if(i.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var i=this;return He(this),this.h.app.delete().then(function(){var a=Pg(be(i));delete Eu[a],i.reset(),i.$=!0})};function cN(i){He(i);try{$w(i.l,OE(V(i)),lN(i)).then(function(a){return i.g?BO(i,i.g,a):!1})}catch{}}t.Ib=function(i,a){He(this);var u=this,h=Qk();if(!Zo(V(this)))return Bo(Error("Email link sign-in should be enabled to trigger email sending."));var p=AO(V(this)),g=new Os(p.url);return ok(g,h),a&&a.a&&(mO(h,a,be(this)),U0(g,a.a.providerId)),ak(g,TO(V(this))),gr(this,function(w){return w&&((w=w.uid)?g.a.a.set(Lt.Pa,w):ks(g.a.a,Lt.Pa)),p.url=g.toString(),Ue(u).sendSignInLinkToEmail(i,p)}).then(function(){var w=be(u),I={};I.email=i,Qo(zo,uE(h,JSON.stringify(I)),w)},function(w){throw $n(jl,be(u)),$n(zo,be(u)),w})};function hN(i,a){var u=F0(new Os(a));return u?(a=new Vt(function(h,p){var g=yi(i).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?h(w):w&&w.isAnonymous&&w.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});Oe(i,g)}),Oe(i,a),a):At(null)}function dN(i,a,u,h,p){He(i);var g=p||null,w=pe.auth.EmailAuthProvider.credentialWithLink(u,h);return u=g?Ue(i).signInWithEmailLink(u,h).then(function(I){return I.user.linkWithCredential(g)}).then(function(){return Yr(i)}).then(function(){return Qr(i,{code:"auth/email-already-in-use"},g)}):Ue(i).fetchSignInMethodsForEmail(u).then(function(I){return I.length?Qr(i,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Oe(i,u),u}function fN(i,a,u,h){He(i);var p=h||null,g;return a=Ue(i).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},p)return w.user.linkWithCredential(p).then(function(I){g={user:I.user,credential:p,operationType:g.operationType,additionalUserInfo:I.additionalUserInfo}})}).then(function(){Yr(i)}).then(function(){return yi(i).updateCurrentUser(g.user)}).then(function(){return g.user=yi(i).currentUser,g}),Oe(i,a),a}function U1(){var i=fr();if(x1(i)){i=new Os(i);for(var a in Lt)Lt.hasOwnProperty(a)&&ks(i.a.a,Lt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,i.toString())}}t.bc=function(i,a){He(this);var u=this;return Ue(this).signInWithEmailAndPassword(i,a).then(function(h){return gr(u,function(p){return p?Yr(u).then(function(){return Qr(u,{code:"auth/email-already-in-use"},pe.auth.EmailAuthProvider.credential(i,a))}):h})})},t.Yb=function(i,a){He(this);var u=this;return gr(this,function(h){if(h){var p=pe.auth.EmailAuthProvider.credential(i,a);return h.linkWithCredential(p)}return Ue(u).createUserWithEmailAndPassword(i,a)})},t.ac=function(i){He(this);var a=this;return gr(this,function(u){return u?u.linkWithCredential(i).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Qr(a,h,i)}):Ue(a).signInWithCredential(i)})};function pN(i,a){return He(i),gr(i,function(u){return u&&!Bi(be(i))?u.linkWithPopup(a).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Qr(i,h)}):Ue(i).signInWithPopup(a)})}t.dc=function(i){He(this);var a=this,u=this.i;return this.i=null,gr(this,function(h){return h&&!Bi(be(a))?h.linkWithRedirect(i):Ue(a).signInWithRedirect(i)}).then(function(){},function(h){throw a.i=u,h})},t.cc=function(i,a){He(this);var u=this;return gr(this,function(h){return h?h.linkWithPhoneNumber(i,a).then(function(p){return new Mm(p,function(g){if(g.code=="auth/credential-already-in-use")return Qr(u,g);throw g})}):yi(u).signInWithPhoneNumber(i,a).then(function(p){return new Mm(p)})})},t.$b=function(){return He(this),yi(this).signInAnonymously()};function mN(i,a){return He(i),gr(i,function(u){if(i.j&&!i.j.isAnonymous&&Gh(V(i))&&!Ue(i).currentUser)return Yr(i).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return Yr(i).then(function(){return u.linkWithCredential(a.credential)}).then(function(h){return a.user=h.user,a.credential=h.credential,a.operationType=h.operationType,a.additionalUserInfo=h.additionalUserInfo,a},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Qr(i,h,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Yr(i).then(function(){return yi(i).updateCurrentUser(a.user)}).then(function(){return a.user=yi(i).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(i,a){return He(this),Ue(this).signInWithEmailAndPassword(i,a)};function Yr(i){return He(i),Ue(i).signOut()}function Qr(i,a,u){if(He(i),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var h=UE(V(i));return At().then(function(){return h(new Cl("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw i.g&&(i.g.m(),i.g=null),a})}return Bo(a)}function bu(i,a,u,h){L.call(this,n1,void 0,h,"providerMatchByEmail",{F:a,D:u}),this.i=i}c(bu,L),bu.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),dd(this.l(),(this.l().value||"").length),L.prototype.v.call(this)},bu.prototype.o=function(){this.i=null,L.prototype.o.call(this)},ve(bu.prototype,{l:pr,H:zr,u:da,B:fa,j:pa,M:Qt,w:sn});function vd(i,a,u,h,p){L.call(this,t1,{ec:a},p,"selectTenant",{F:u,D:h}),this.i=i}c(vd,L),vd.prototype.v=function(){gN(this,this.i),L.prototype.v.call(this)},vd.prototype.o=function(){this.i=null,L.prototype.o.call(this)};function gN(i,a){function u(I){a(I)}for(var h=i.g?dm("firebaseui-id-tenant-selection-button",i.g||i.s.a):[],p=0;p<h.length;p++){var g=h[p],w=pd(g,"tenantId");yt(i,g,Y(u,w))}}function kg(i){L.call(this,Tb,void 0,i,"spinner")}c(kg,L);function vN(i){this.a=new Jm,Ot(this.a,"authDomain"),Ot(this.a,"displayMode",_d),Ot(this.a,"tenants"),Ot(this.a,"callbacks"),Ot(this.a,"tosUrl"),Ot(this.a,"privacyPolicyUrl");for(var a in i)if(i.hasOwnProperty(a))try{Xm(this.a,a,i[a])}catch{Qn('Invalid config: "'+a+'"',void 0)}}function yN(i){i=i.a.get("displayMode");for(var a in Ng)if(Ng[a]===i)return Ng[a];return _d}function yd(i){return i.a.get("callbacks")||{}}function B1(i){var a=i.a.get("tosUrl")||null;if(i=i.a.get("privacyPolicyUrl")||null,a&&!i&&Kr("Privacy Policy URL is missing, the link will not be displayed."),a&&i){if(typeof a=="function")return a;if(typeof a=="string")return function(){$o(a)}}return null}function j1(i){var a=i.a.get("tosUrl")||null,u=i.a.get("privacyPolicyUrl")||null;if(u&&!a&&Kr("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){$o(u)}}return null}function Og(i,a){if(i=i.a.get("tenants"),!i||!i.hasOwnProperty(a)&&!i.hasOwnProperty(wd))throw Error("Invalid tenant configuration!")}function $1(i,a,u){if(i=i.a.get("tenants"),!i)throw Error("Invalid tenant configuration!");var h=[];if(i=i[a]||i[wd],!i)return Qn("Invalid tenant configuration: "+(a+" is not configured!"),void 0),h;if(a=i.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(p){if(typeof p=="string")h.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&h.push(p.provider):h.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),Qn(p,void 0)}),h}function _N(i,a,u){return i=wN(i,a),(a=i.signInOptions)&&u&&(a=a.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),i.signInOptions=a),i}function wN(i,a){var u=EN,h=h===void 0?{}:h;return Og(i,a),i=i.a.get("tenants"),Jk(i[a]||i[wd],u,h)}var EN=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],_d="optionFirst",Ng={pc:_d,oc:"identifierFirst"},wd="*";function _i(i,a){var u=this;this.s=Ah(i),this.a={},Object.keys(a).forEach(function(h){u.a[h]=new vN(a[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=_i.prototype,t.Ub=function(i,a){var u=this;Jr(this);var h=i.apiKey;return new Vt(function(p,g){if(u.a.hasOwnProperty(h)){var w=yd(u.a[h]).selectTenantUiHidden||null;if(yN(u.a[h])===_d){var I=[];a.forEach(function(ue){ue=ue||"_";var it=u.a[h].a.get("tenants");if(!it)throw Error("Invalid tenant configuration!");(it=it[ue]||it[wd])?ue={tenantId:ue!=="_"?ue:null,V:it.fullLabel||null,displayName:it.displayName,za:it.iconUrl,ta:it.buttonColor}:(Qn("Invalid tenant configuration: "+(ue+" is not configured!"),void 0),ue=null),ue&&I.push(ue)});var k=function(ue){ue={tenantId:ue,providerIds:$1(u.a[h],ue||"_")},p(ue)};if(I.length===1){k(I[0].tenantId);return}u.g=new vd(function(ue){Jr(u),w&&w(),k(ue)},I,B1(u.a[h]),j1(u.a[h]))}else u.g=new bu(function(){var ue=u.g.j();if(ue){for(var it=0;it<a.length;it++){var wi=$1(u.a[h],a[it]||"_",ue);if(wi.length!==0){ue={tenantId:a[it],providerIds:wi,email:ue},Jr(u),w&&w(),p(ue);return}}u.g.a(hw({code:"no-matching-tenant-for-email"}).toString())}},B1(u.a[h]),j1(u.a[h]));u.g.render(u.s),(g=yd(u.a[h]).selectTenantUiShown||null)&&g()}else{var H=Error("Invalid project configuration: API key is invalid!");H.code="invalid-configuration",u.pb(H),g(H)}})},t.Pb=function(i,a){if(!this.a.hasOwnProperty(i))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;Og(this.a[i],a||"_");try{this.i=pe.app(u).auth()}catch{var h=this.a[i].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");i=pe.initializeApp({apiKey:i,authDomain:h},u),i.auth().tenantId=a,this.i=i.auth()}return this.i},t.Zb=function(i,a){var u=this;return new Vt(function(h,p){function g(it,wi){u.j=new qi(i),L1(u.j,u.s,it,wi)}var w=i.app.options.apiKey;u.a.hasOwnProperty(w)||p(Error("Invalid project configuration: API key is invalid!"));var I=_N(u.a[w],i.tenantId||"_",a&&a.providerIds);Jr(u),p={signInSuccessWithAuthResult:function(it){return h(it),!1}};var k=yd(u.a[w]).signInUiShown||null,H=!1;p.uiChanged=function(it,wi){it===null&&wi==="callback"?((it=fm("firebaseui-id-page-callback",u.s))&&Xn(it),u.h=new kg,u.h.render(u.s)):H||it===null&&wi==="spinner"||wi==="blank"||(u.h&&(u.h.m(),u.h=null),H=!0,k&&k(i.tenantId))},I.callbacks=p,I.credentialHelper="none";var ue;a&&a.email&&(ue={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(I,ue)}):g(I,ue)})},t.reset=function(){var i=this;return At().then(function(){i.j&&i.j.Wa()}).then(function(){i.j=null,Jr(i)})},t.Vb=function(){var i=this;this.h||this.A||(this.A=window.setTimeout(function(){Jr(i),i.h=new kg,i.g=i.h,i.h.render(i.s),i.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Jr(this),this.g=new c1,this.g.render(this.s),At()};function Jr(i){i.j&&i.j.reset(),i.mb(),i.g&&i.g.m()}t.pb=function(i){var a=this,u=hw({code:i.code}).toString()||i.message;Jr(this);var h;i.retry&&typeof i.retry=="function"&&(h=function(){a.reset(),i.retry()}),this.g=new p1(u,h),this.g.render(this.s)},t.Rb=function(i){var a=this;return At().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(Og(a.a[u],i.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==i.uid)throw Error("The user being processed does not match the signed in user!");return(u=yd(a.a[u]).beforeSignInSuccess||null)?u(i):i}).then(function(u){if(u.uid!==i.uid)throw Error("User with mismatching UID returned.");return u})},Ae("firebaseui.auth.FirebaseUiHandler",_i),Ae("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",_i.prototype.Ub),Ae("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",_i.prototype.Pb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",_i.prototype.Zb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.reset",_i.prototype.reset),Ae("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",_i.prototype.Vb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",_i.prototype.mb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",_i.prototype.Bb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.handleError",_i.prototype.pb),Ae("firebaseui.auth.FirebaseUiHandler.prototype.processUser",_i.prototype.Rb),Ae("firebaseui.auth.AuthUI",qi),Ae("firebaseui.auth.AuthUI.getInstance",function(i){return i=Pg(i),Eu[i]?Eu[i]:null}),Ae("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",qi.prototype.Db),Ae("firebaseui.auth.AuthUI.prototype.start",qi.prototype.start),Ae("firebaseui.auth.AuthUI.prototype.setConfig",qi.prototype.ib),Ae("firebaseui.auth.AuthUI.prototype.signIn",qi.prototype.Wb),Ae("firebaseui.auth.AuthUI.prototype.reset",qi.prototype.reset),Ae("firebaseui.auth.AuthUI.prototype.delete",qi.prototype.Wa),Ae("firebaseui.auth.AuthUI.prototype.isPendingRedirect",qi.prototype.nb),Ae("firebaseui.auth.AuthUIError",Cl),Ae("firebaseui.auth.AuthUIError.prototype.toJSON",Cl.prototype.toJSON),Ae("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",sg),Ae("firebaseui.auth.CredentialHelper.NONE",Yh),Ae("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Vt.prototype.catch=Vt.prototype.Ca,Vt.prototype.finally=Vt.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=m6);var g6=firebaseui.auth;const Lp=qf(L9),Io=o9(Lp);Rs(Lp,"northamerica-northeast1");const yP=US(Lp),D8=new g6.AuthUI(yP),v6=d3(Lp);h3(v6);const th=t=>{console.error(`Error fetching documents with conditions: ${t}`)},x8=async(t,e,n,r)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,r);const s=Za(B_(Io,t),as(e,n,r));return(await el(s)).docs.map(c=>c.data())}catch(s){return th(s),[]}},L8=async(t,e,n,r,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,r,s,o,l);try{if(l){const c=Za(B_(Io,t),as(e,n,r),Sf(e),JC(l),Rf(o)),d=await el(c),f=d.docs.map(v=>({id:v.id,...v.data()})),m=d.docs[d.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,m),{lastVisible:m,docs:f}}else{const c=Za(j_(Io,t),as(e,n,r),Sf(...s),Rf(o)),d=await el(c),f=d.docs.map(v=>({id:v.id,...v.data()})),m=d.docs[d.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,m),{lastVisible:m,docs:f}}}catch(c){return th(c),{lastVisible:{},docs:[]}}},M8=async(t,e,n,r,s,o,l,c,d,f)=>{try{if(f){const m=Za(B_(Io,t),as(e,n,r),as(s,o,l),Sf(e),JC(f),Rf(d)),v=await el(m),_=v.docs.map(A=>({id:A.id,...A.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:_}}else{const m=Za(j_(Io,t),as(e,n,r),as(s,o,l),Sf(...c),Rf(d)),v=await el(m),_=v.docs.map(A=>({id:A.id,...A.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:_}}}catch(m){return th(m),{lastVisible:{},docs:[]}}},Zv=async(t,e)=>{try{console.log("getDocument",t,e);const n=BC(Io,t,e),r=await v9(n);return console.log("getDocument data",r.data()),r.data()}catch(n){return th(n),[]}},V8=async(t,e)=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const n=Za(j_(Io,t),as("id","==",e)),r=await el(n);if(r.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const s=r.docs[0];return console.log("queryForCollectionGroupDocumentById",s.data()),{id:s.id,...s.data()}}catch(n){return th(n),null}},F8=t=>t instanceof Wt,U8=t=>t.toDate();function r0(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const ft={},Va=[],Ai=()=>{},y6=()=>!1,_6=/^on[^a-z]/,Mp=t=>_6.test(t),s0=t=>t.startsWith("onUpdate:"),En=Object.assign,o0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},w6=Object.prototype.hasOwnProperty,ze=(t,e)=>w6.call(t,e),we=Array.isArray,Fa=t=>nh(t)==="[object Map]",Vp=t=>nh(t)==="[object Set]",TT=t=>nh(t)==="[object Date]",ke=t=>typeof t=="function",Gt=t=>typeof t=="string",tl=t=>typeof t=="symbol",ht=t=>t!==null&&typeof t=="object",_P=t=>(ht(t)||ke(t))&&ke(t.then)&&ke(t.catch),wP=Object.prototype.toString,nh=t=>wP.call(t),E6=t=>nh(t).slice(8,-1),EP=t=>nh(t)==="[object Object]",a0=t=>Gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yd=r0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},b6=/-(\w)/g,lr=Fp(t=>t.replace(b6,(e,n)=>n?n.toUpperCase():"")),I6=/\B([A-Z])/g,vl=Fp(t=>t.replace(I6,"-$1").toLowerCase()),Up=Fp(t=>t.charAt(0).toUpperCase()+t.slice(1)),iv=Fp(t=>t?`on${Up(t)}`:""),To=(t,e)=>!Object.is(t,e),Qd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},kf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Of=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let AT;const ey=()=>AT||(AT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function l0(t){if(we(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Gt(r)?R6(r):l0(r);if(s)for(const o in s)e[o]=s[o]}return e}else if(Gt(t)||ht(t))return t}const T6=/;(?![^(]*\))/g,A6=/:([^]+)/,S6=/\/\*[^]*?\*\//g;function R6(t){const e={};return t.replace(S6,"").split(T6).forEach(n=>{if(n){const r=n.split(A6);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ui(t){let e="";if(Gt(t))e=t;else if(we(t))for(let n=0;n<t.length;n++){const r=ui(t[n]);r&&(e+=r+" ")}else if(ht(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const C6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",P6=r0(C6);function bP(t){return!!t||t===""}function k6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Bp(t[r],e[r]);return n}function Bp(t,e){if(t===e)return!0;let n=TT(t),r=TT(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=tl(t),r=tl(e),n||r)return t===e;if(n=we(t),r=we(e),n||r)return n&&r?k6(t,e):!1;if(n=ht(t),r=ht(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(c&&!d||!c&&d||!Bp(t[l],e[l]))return!1}}return String(t)===String(e)}function O6(t,e){return t.findIndex(n=>Bp(n,e))}const B8=t=>Gt(t)?t:t==null?"":we(t)||ht(t)&&(t.toString===wP||!ke(t.toString))?JSON.stringify(t,IP,2):String(t),IP=(t,e)=>e&&e.__v_isRef?IP(t,e.value):Fa(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Vp(e)?{[`Set(${e.size})`]:[...e.values()]}:ht(e)&&!we(e)&&!EP(e)?String(e):e;let ei;class TP{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ei,!e&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ei;try{return ei=this,e()}finally{ei=n}}}on(){ei=this}off(){ei=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function AP(t){return new TP(t)}function N6(t,e=ei){e&&e.active&&e.effects.push(t)}function SP(){return ei}function D6(t){ei&&ei.cleanups.push(t)}const u0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},RP=t=>(t.w&Es)>0,CP=t=>(t.n&Es)>0,x6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Es},L6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];RP(s)&&!CP(s)?s.delete(t):e[n++]=s,s.w&=~Es,s.n&=~Es}e.length=n}},Nf=new WeakMap;let $u=0,Es=1;const ty=30;let Ei;const fo=Symbol(""),ny=Symbol("");class c0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,N6(this,r)}run(){if(!this.active)return this.fn();let e=Ei,n=ds;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ei,Ei=this,ds=!0,Es=1<<++$u,$u<=ty?x6(this):ST(this),this.fn()}finally{$u<=ty&&L6(this),Es=1<<--$u,Ei=this.parent,ds=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ei===this?this.deferStop=!0:this.active&&(ST(this),this.onStop&&this.onStop(),this.active=!1)}}function ST(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ds=!0;const PP=[];function yl(){PP.push(ds),ds=!1}function _l(){const t=PP.pop();ds=t===void 0?!0:t}function Gn(t,e,n){if(ds&&Ei){let r=Nf.get(t);r||Nf.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=u0()),kP(s)}}function kP(t,e){let n=!1;$u<=ty?CP(t)||(t.n|=Es,n=!RP(t)):n=!t.has(Ei),n&&(t.add(Ei),Ei.deps.push(t))}function Ar(t,e,n,r,s,o){const l=Nf.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&we(t)){const d=Number(r);l.forEach((f,m)=>{(m==="length"||!tl(m)&&m>=d)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":we(t)?a0(n)&&c.push(l.get("length")):(c.push(l.get(fo)),Fa(t)&&c.push(l.get(ny)));break;case"delete":we(t)||(c.push(l.get(fo)),Fa(t)&&c.push(l.get(ny)));break;case"set":Fa(t)&&c.push(l.get(fo));break}if(c.length===1)c[0]&&iy(c[0]);else{const d=[];for(const f of c)f&&d.push(...f);iy(u0(d))}}function iy(t,e){const n=we(t)?t:[...t];for(const r of n)r.computed&&RT(r);for(const r of n)r.computed||RT(r)}function RT(t,e){(t!==Ei||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function M6(t,e){var n;return(n=Nf.get(t))==null?void 0:n.get(e)}const V6=r0("__proto__,__v_isRef,__isVue"),OP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(tl)),CT=F6();function F6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=We(this);for(let o=0,l=this.length;o<l;o++)Gn(r,"get",o+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(We)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){yl();const r=We(this)[e].apply(this,n);return _l(),r}}),t}function U6(t){const e=We(this);return Gn(e,"has",t),e.hasOwnProperty(t)}class NP{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&r===(s?o?X6:MP:o?LP:xP).get(e))return e;const l=we(e);if(!s){if(l&&ze(CT,n))return Reflect.get(CT,n,r);if(n==="hasOwnProperty")return U6}const c=Reflect.get(e,n,r);return(tl(n)?OP.has(n):V6(n))||(s||Gn(e,"get",n),o)?c:_t(c)?l&&a0(n)?c:c.value:ht(c)?s?FP(c):pi(c):c}}class DP extends NP{constructor(e=!1){super(!1,e)}set(e,n,r,s){let o=e[n];if(nl(o)&&_t(o)&&!_t(r))return!1;if(!this._shallow&&(!Df(r)&&!nl(r)&&(o=We(o),r=We(r)),!we(e)&&_t(o)&&!_t(r)))return o.value=r,!0;const l=we(e)&&a0(n)?Number(n)<e.length:ze(e,n),c=Reflect.set(e,n,r,s);return e===We(s)&&(l?To(r,o)&&Ar(e,"set",n,r):Ar(e,"add",n,r)),c}deleteProperty(e,n){const r=ze(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Ar(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!tl(n)||!OP.has(n))&&Gn(e,"has",n),r}ownKeys(e){return Gn(e,"iterate",we(e)?"length":fo),Reflect.ownKeys(e)}}class B6 extends NP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const j6=new DP,$6=new B6,H6=new DP(!0),h0=t=>t,jp=t=>Reflect.getPrototypeOf(t);function Od(t,e,n=!1,r=!1){t=t.__v_raw;const s=We(t),o=We(e);n||(To(e,o)&&Gn(s,"get",e),Gn(s,"get",o));const{has:l}=jp(s),c=r?h0:n?p0:Sc;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function Nd(t,e=!1){const n=this.__v_raw,r=We(n),s=We(t);return e||(To(t,s)&&Gn(r,"has",t),Gn(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Dd(t,e=!1){return t=t.__v_raw,!e&&Gn(We(t),"iterate",fo),Reflect.get(t,"size",t)}function PT(t){t=We(t);const e=We(this);return jp(e).has.call(e,t)||(e.add(t),Ar(e,"add",t,t)),this}function kT(t,e){e=We(e);const n=We(this),{has:r,get:s}=jp(n);let o=r.call(n,t);o||(t=We(t),o=r.call(n,t));const l=s.call(n,t);return n.set(t,e),o?To(e,l)&&Ar(n,"set",t,e):Ar(n,"add",t,e),this}function OT(t){const e=We(this),{has:n,get:r}=jp(e);let s=n.call(e,t);s||(t=We(t),s=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return s&&Ar(e,"delete",t,void 0),o}function NT(){const t=We(this),e=t.size!==0,n=t.clear();return e&&Ar(t,"clear",void 0,void 0),n}function xd(t,e){return function(r,s){const o=this,l=o.__v_raw,c=We(l),d=e?h0:t?p0:Sc;return!t&&Gn(c,"iterate",fo),l.forEach((f,m)=>r.call(s,d(f),d(m),o))}}function Ld(t,e,n){return function(...r){const s=this.__v_raw,o=We(s),l=Fa(o),c=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,f=s[t](...r),m=n?h0:e?p0:Sc;return!e&&Gn(o,"iterate",d?ny:fo),{next(){const{value:v,done:_}=f.next();return _?{value:v,done:_}:{value:c?[m(v[0]),m(v[1])]:m(v),done:_}},[Symbol.iterator](){return this}}}}function Zr(t){return function(...e){return t==="delete"?!1:this}}function q6(){const t={get(o){return Od(this,o)},get size(){return Dd(this)},has:Nd,add:PT,set:kT,delete:OT,clear:NT,forEach:xd(!1,!1)},e={get(o){return Od(this,o,!1,!0)},get size(){return Dd(this)},has:Nd,add:PT,set:kT,delete:OT,clear:NT,forEach:xd(!1,!0)},n={get(o){return Od(this,o,!0)},get size(){return Dd(this,!0)},has(o){return Nd.call(this,o,!0)},add:Zr("add"),set:Zr("set"),delete:Zr("delete"),clear:Zr("clear"),forEach:xd(!0,!1)},r={get(o){return Od(this,o,!0,!0)},get size(){return Dd(this,!0)},has(o){return Nd.call(this,o,!0)},add:Zr("add"),set:Zr("set"),delete:Zr("delete"),clear:Zr("clear"),forEach:xd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ld(o,!1,!1),n[o]=Ld(o,!0,!1),e[o]=Ld(o,!1,!0),r[o]=Ld(o,!0,!0)}),[t,n,e,r]}const[W6,K6,G6,z6]=q6();function d0(t,e){const n=e?t?z6:G6:t?K6:W6;return(r,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ze(n,s)&&s in r?n:r,s,o)}const Y6={get:d0(!1,!1)},Q6={get:d0(!1,!0)},J6={get:d0(!0,!1)},xP=new WeakMap,LP=new WeakMap,MP=new WeakMap,X6=new WeakMap;function Z6(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function e5(t){return t.__v_skip||!Object.isExtensible(t)?0:Z6(E6(t))}function pi(t){return nl(t)?t:f0(t,!1,j6,Y6,xP)}function VP(t){return f0(t,!1,H6,Q6,LP)}function FP(t){return f0(t,!0,$6,J6,MP)}function f0(t,e,n,r,s){if(!ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=e5(t);if(l===0)return t;const c=new Proxy(t,l===2?r:n);return s.set(t,c),c}function Sr(t){return nl(t)?Sr(t.__v_raw):!!(t&&t.__v_isReactive)}function nl(t){return!!(t&&t.__v_isReadonly)}function Df(t){return!!(t&&t.__v_isShallow)}function UP(t){return Sr(t)||nl(t)}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function $p(t){return kf(t,"__v_skip",!0),t}const Sc=t=>ht(t)?pi(t):t,p0=t=>ht(t)?FP(t):t;function BP(t){ds&&Ei&&(t=We(t),kP(t.dep||(t.dep=u0())))}function jP(t,e){t=We(t);const n=t.dep;n&&iy(n)}function _t(t){return!!(t&&t.__v_isRef===!0)}function Ee(t){return HP(t,!1)}function $P(t){return HP(t,!0)}function HP(t,e){return _t(t)?t:new t5(t,e)}class t5{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:We(e),this._value=n?e:Sc(e)}get value(){return BP(this),this._value}set value(e){const n=this.__v_isShallow||Df(e)||nl(e);e=n?e:We(e),To(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Sc(e),jP(this))}}function _e(t){return _t(t)?t.value:t}const n5={get:(t,e,n)=>_e(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return _t(s)&&!_t(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function qP(t){return Sr(t)?t:new Proxy(t,n5)}function i5(t){const e=we(t)?new Array(t.length):{};for(const n in t)e[n]=WP(t,n);return e}class r5{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return M6(We(this._object),this._key)}}class s5{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function o5(t,e,n){return _t(t)?t:ke(t)?new s5(t):ht(t)&&arguments.length>1?WP(t,e,n):Ee(t)}function WP(t,e,n){const r=t[e];return _t(r)?r:new r5(t,e,n)}class a5{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new c0(e,()=>{this._dirty||(this._dirty=!0,jP(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=We(this);return BP(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function l5(t,e,n=!1){let r,s;const o=ke(t);return o?(r=t,s=Ai):(r=t.get,s=t.set),new a5(r,s,o||!s,n)}function fs(t,e,n,r){let s;try{s=r?t(...r):t()}catch(o){Hp(o,e,n)}return s}function Si(t,e,n,r){if(ke(t)){const o=fs(t,e,n,r);return o&&_P(o)&&o.catch(l=>{Hp(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(Si(t[o],e,n,r));return s}function Hp(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](t,l,c)===!1)return}o=o.parent}const d=e.appContext.config.errorHandler;if(d){fs(d,null,10,[t,l,c]);return}}u5(t,n,s,r)}function u5(t,e,n,r=!0){console.error(t)}let Rc=!1,ry=!1;const Rn=[];let Xi=0;const Ua=[];let yr=null,Js=0;const KP=Promise.resolve();let m0=null;function qp(t){const e=m0||KP;return t?e.then(this?t.bind(this):t):e}function c5(t){let e=Xi+1,n=Rn.length;for(;e<n;){const r=e+n>>>1,s=Rn[r],o=Cc(s);o<t||o===t&&s.pre?e=r+1:n=r}return e}function g0(t){(!Rn.length||!Rn.includes(t,Rc&&t.allowRecurse?Xi+1:Xi))&&(t.id==null?Rn.push(t):Rn.splice(c5(t.id),0,t),GP())}function GP(){!Rc&&!ry&&(ry=!0,m0=KP.then(YP))}function h5(t){const e=Rn.indexOf(t);e>Xi&&Rn.splice(e,1)}function d5(t){we(t)?Ua.push(...t):(!yr||!yr.includes(t,t.allowRecurse?Js+1:Js))&&Ua.push(t),GP()}function DT(t,e=Rc?Xi+1:0){for(;e<Rn.length;e++){const n=Rn[e];n&&n.pre&&(Rn.splice(e,1),e--,n())}}function zP(t){if(Ua.length){const e=[...new Set(Ua)];if(Ua.length=0,yr){yr.push(...e);return}for(yr=e,yr.sort((n,r)=>Cc(n)-Cc(r)),Js=0;Js<yr.length;Js++)yr[Js]();yr=null,Js=0}}const Cc=t=>t.id==null?1/0:t.id,f5=(t,e)=>{const n=Cc(t)-Cc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function YP(t){ry=!1,Rc=!0,Rn.sort(f5);const e=Ai;try{for(Xi=0;Xi<Rn.length;Xi++){const n=Rn[Xi];n&&n.active!==!1&&fs(n,null,14)}}finally{Xi=0,Rn.length=0,zP(),Rc=!1,m0=null,(Rn.length||Ua.length)&&YP()}}function p5(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ft;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in r){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:_}=r[m]||ft;_&&(s=n.map(E=>Gt(E)?E.trim():E)),v&&(s=n.map(Of))}let c,d=r[c=iv(e)]||r[c=iv(lr(e))];!d&&o&&(d=r[c=iv(vl(e))]),d&&Si(d,t,6,s);const f=r[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Si(f,t,6,s)}}function QP(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!ke(t)){const d=f=>{const m=QP(f,e,!0);m&&(c=!0,En(l,m))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!o&&!c?(ht(t)&&r.set(t,null),null):(we(o)?o.forEach(d=>l[d]=null):En(l,o),ht(t)&&r.set(t,l),l)}function Wp(t,e){return!t||!Mp(e)?!1:(e=e.slice(2).replace(/Once$/,""),ze(t,e[0].toLowerCase()+e.slice(1))||ze(t,vl(e))||ze(t,e))}let gn=null,JP=null;function xf(t){const e=gn;return gn=t,JP=t&&t.type.__scopeId||null,e}function Ye(t,e=gn,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&WT(-1);const o=xf(e);let l;try{l=t(...s)}finally{xf(o),r._d&&WT(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function rv(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:d,emit:f,render:m,renderCache:v,data:_,setupState:E,ctx:A,inheritAttrs:y}=t;let b,R;const P=xf(t);try{if(n.shapeFlag&4){const x=s||r;b=Ki(m.call(x,x,v,o,E,_,A)),R=d}else{const x=e;b=Ki(x.length>1?x(o,{attrs:d,slots:c,emit:f}):x(o,null)),R=e.props?d:m5(d)}}catch(x){tc.length=0,Hp(x,t,1),b=De(bs)}let F=b;if(R&&y!==!1){const x=Object.keys(R),{shapeFlag:Q}=F;x.length&&Q&7&&(l&&x.some(s0)&&(R=g5(R,l)),F=Ao(F,R))}return n.dirs&&(F=Ao(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),b=F,xf(P),b}const m5=t=>{let e;for(const n in t)(n==="class"||n==="style"||Mp(n))&&((e||(e={}))[n]=t[n]);return e},g5=(t,e)=>{const n={};for(const r in t)(!s0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function v5(t,e,n){const{props:r,children:s,component:o}=t,{props:l,children:c,patchFlag:d}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return r?xT(r,l,f):!!l;if(d&8){const m=e.dynamicProps;for(let v=0;v<m.length;v++){const _=m[v];if(l[_]!==r[_]&&!Wp(f,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?xT(r,l,f):!0:!!l;return!1}function xT(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(e[o]!==t[o]&&!Wp(n,o))return!0}return!1}function y5({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const _5=t=>t.__isSuspense;function w5(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):d5(t)}function Ni(t,e){return v0(t,null,e)}const Md={};function rr(t,e,n){return v0(t,e,n)}function v0(t,e,{immediate:n,deep:r,flush:s,onTrack:o,onTrigger:l}=ft){var c;const d=SP()===((c=an)==null?void 0:c.scope)?an:null;let f,m=!1,v=!1;if(_t(t)?(f=()=>t.value,m=Df(t)):Sr(t)?(f=()=>t,r=!0):we(t)?(v=!0,m=t.some(x=>Sr(x)||Df(x)),f=()=>t.map(x=>{if(_t(x))return x.value;if(Sr(x))return so(x);if(ke(x))return fs(x,d,2)})):ke(t)?e?f=()=>fs(t,d,2):f=()=>{if(!(d&&d.isUnmounted))return _&&_(),Si(t,d,3,[E])}:f=Ai,e&&r){const x=f;f=()=>so(x())}let _,E=x=>{_=P.onStop=()=>{fs(x,d,4)}},A;if(Oc)if(E=Ai,e?n&&Si(e,d,3,[f(),v?[]:void 0,E]):f(),s==="sync"){const x=yB();A=x.__watcherHandles||(x.__watcherHandles=[])}else return Ai;let y=v?new Array(t.length).fill(Md):Md;const b=()=>{if(P.active)if(e){const x=P.run();(r||m||(v?x.some((Q,re)=>To(Q,y[re])):To(x,y)))&&(_&&_(),Si(e,d,3,[x,y===Md?void 0:v&&y[0]===Md?[]:y,E]),y=x)}else P.run()};b.allowRecurse=!!e;let R;s==="sync"?R=b:s==="post"?R=()=>qn(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),R=()=>g0(b));const P=new c0(f,R);e?n?b():y=P.run():s==="post"?qn(P.run.bind(P),d&&d.suspense):P.run();const F=()=>{P.stop(),d&&d.scope&&o0(d.scope.effects,P)};return A&&A.push(F),F}function E5(t,e,n){const r=this.proxy,s=Gt(t)?t.includes(".")?XP(r,t):()=>r[t]:t.bind(r,r);let o;ke(e)?o=e:(o=e.handler,n=e);const l=an;il(this);const c=v0(s,o.bind(r),n);return l?il(l):po(),c}function XP(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function so(t,e){if(!ht(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),_t(t))so(t.value,e);else if(we(t))for(let n=0;n<t.length;n++)so(t[n],e);else if(Vp(t)||Fa(t))t.forEach(n=>{so(n,e)});else if(EP(t))for(const n in t)so(t[n],e);return t}function $t(t,e){const n=gn;if(n===null)return t;const r=Yp(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,d,f=ft]=e[o];l&&(ke(l)&&(l={mounted:l,updated:l}),l.deep&&so(c),s.push({dir:l,instance:r,value:c,oldValue:void 0,arg:d,modifiers:f}))}return t}function Ks(t,e,n,r){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let d=c.dir[r];d&&(yl(),Si(d,n,8,[t.el,c,t,e]),_l())}}/*! #__NO_SIDE_EFFECTS__ */function gt(t,e){return ke(t)?(()=>En({name:t.name},e,{setup:t}))():t}const Xu=t=>!!t.type.__asyncLoader,ZP=t=>t.type.__isKeepAlive;function b5(t,e){e2(t,"a",e)}function I5(t,e){e2(t,"da",e)}function e2(t,e,n=an){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Kp(e,r,n),n){let s=n.parent;for(;s&&s.parent;)ZP(s.parent.vnode)&&T5(r,e,n,s),s=s.parent}}function T5(t,e,n,r){const s=Kp(e,t,r,!0);ai(()=>{o0(r[e],s)},n)}function Kp(t,e,n=an,r=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;yl(),il(n);const c=Si(e,n,t,l);return po(),_l(),c});return r?s.unshift(o):s.push(o),o}}const xr=t=>(e,n=an)=>(!Oc||t==="sp")&&Kp(t,(...r)=>e(...r),n),A5=xr("bm"),kn=xr("m"),S5=xr("bu"),R5=xr("u"),C5=xr("bum"),ai=xr("um"),P5=xr("sp"),k5=xr("rtg"),O5=xr("rtc");function N5(t,e=an){Kp("ec",t,e)}const t2="components";function j8(t,e){return x5(t2,t,!0,e)||t}const D5=Symbol.for("v-ndc");function x5(t,e,n=!0,r=!1){const s=gn||an;if(s){const o=s.type;if(t===t2){const c=mB(o,!1);if(c&&(c===e||c===lr(e)||c===Up(lr(e))))return o}const l=LT(s[t]||o[t],e)||LT(s.appContext[t],e);return!l&&r?o:l}}function LT(t,e){return t&&(t[e]||t[lr(e)]||t[Up(lr(e))])}function sy(t,e,n,r){let s;const o=n&&n[r];if(we(t)||Gt(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(ht(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[r]=s),s}function L5(t,e,n={},r,s){if(gn.isCE||gn.parent&&Xu(gn.parent)&&gn.parent.isCE)return e!=="default"&&(n.name=e),De("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),Ze();const l=o&&n2(o(n)),c=An(Rt,{key:n.key||l&&l.key||`_${e}`},l||(r?r():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function n2(t){return t.some(e=>Mf(e)?!(e.type===bs||e.type===Rt&&!n2(e.children)):!0)?t:null}const oy=t=>t?f2(t)?Yp(t)||t.proxy:oy(t.parent):null,Zu=En(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>oy(t.parent),$root:t=>oy(t.root),$emit:t=>t.emit,$options:t=>y0(t),$forceUpdate:t=>t.f||(t.f=()=>g0(t.update)),$nextTick:t=>t.n||(t.n=qp.bind(t.proxy)),$watch:t=>E5.bind(t)}),sv=(t,e)=>t!==ft&&!t.__isScriptSetup&&ze(t,e),M5={get({_:t},e){const{ctx:n,setupState:r,data:s,props:o,accessCache:l,type:c,appContext:d}=t;let f;if(e[0]!=="$"){const E=l[e];if(E!==void 0)switch(E){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(sv(r,e))return l[e]=1,r[e];if(s!==ft&&ze(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&ze(f,e))return l[e]=3,o[e];if(n!==ft&&ze(n,e))return l[e]=4,n[e];ay&&(l[e]=0)}}const m=Zu[e];let v,_;if(m)return e==="$attrs"&&Gn(t,"get",e),m(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==ft&&ze(n,e))return l[e]=4,n[e];if(_=d.config.globalProperties,ze(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:o}=t;return sv(s,e)?(s[e]=n,!0):r!==ft&&ze(r,e)?(r[e]=n,!0):ze(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==ft&&ze(t,l)||sv(e,l)||(c=o[0])&&ze(c,l)||ze(r,l)||ze(Zu,l)||ze(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ze(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function MT(t){return we(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ay=!0;function V5(t){const e=y0(t),n=t.proxy,r=t.ctx;ay=!1,e.beforeCreate&&VT(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:d,inject:f,created:m,beforeMount:v,mounted:_,beforeUpdate:E,updated:A,activated:y,deactivated:b,beforeDestroy:R,beforeUnmount:P,destroyed:F,unmounted:x,render:Q,renderTracked:re,renderTriggered:fe,errorCaptured:ae,serverPrefetch:he,expose:Ve,inheritAttrs:j,components:Y,directives:ve,filters:kt}=e;if(f&&F5(f,r,null),l)for(const te in l){const ye=l[te];ke(ye)&&(r[te]=ye.bind(n))}if(s){const te=s.call(n,n);ht(te)&&(t.data=pi(te))}if(ay=!0,o)for(const te in o){const ye=o[te],dt=ke(ye)?ye.bind(n,n):ke(ye.get)?ye.get.bind(n,n):Ai,et=!ke(ye)&&ke(ye.set)?ye.set.bind(n):Ai,Xt=Ne({get:dt,set:et});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Xt.value,set:tt=>Xt.value=tt})}if(c)for(const te in c)i2(c[te],r,n,te);if(d){const te=ke(d)?d.call(n):d;Reflect.ownKeys(te).forEach(ye=>{Kn(ye,te[ye])})}m&&VT(m,t,"c");function G(te,ye){we(ye)?ye.forEach(dt=>te(dt.bind(n))):ye&&te(ye.bind(n))}if(G(A5,v),G(kn,_),G(S5,E),G(R5,A),G(b5,y),G(I5,b),G(N5,ae),G(O5,re),G(k5,fe),G(C5,P),G(ai,x),G(P5,he),we(Ve))if(Ve.length){const te=t.exposed||(t.exposed={});Ve.forEach(ye=>{Object.defineProperty(te,ye,{get:()=>n[ye],set:dt=>n[ye]=dt})})}else t.exposed||(t.exposed={});Q&&t.render===Ai&&(t.render=Q),j!=null&&(t.inheritAttrs=j),Y&&(t.components=Y),ve&&(t.directives=ve)}function F5(t,e,n=Ai){we(t)&&(t=ly(t));for(const r in t){const s=t[r];let o;ht(s)?"default"in s?o=Et(s.from||r,s.default,!0):o=Et(s.from||r):o=Et(s),_t(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[r]=o}}function VT(t,e,n){Si(we(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function i2(t,e,n,r){const s=r.includes(".")?XP(n,r):()=>n[r];if(Gt(t)){const o=e[t];ke(o)&&rr(s,o)}else if(ke(t))rr(s,t.bind(n));else if(ht(t))if(we(t))t.forEach(o=>i2(o,e,n,r));else{const o=ke(t.handler)?t.handler.bind(n):e[t.handler];ke(o)&&rr(s,o,t)}}function y0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let d;return c?d=c:!s.length&&!n&&!r?d=e:(d={},s.length&&s.forEach(f=>Lf(d,f,l,!0)),Lf(d,e,l)),ht(e)&&o.set(e,d),d}function Lf(t,e,n,r=!1){const{mixins:s,extends:o}=e;o&&Lf(t,o,n,!0),s&&s.forEach(l=>Lf(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const c=U5[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const U5={data:FT,props:UT,emits:UT,methods:Hu,computed:Hu,beforeCreate:Mn,created:Mn,beforeMount:Mn,mounted:Mn,beforeUpdate:Mn,updated:Mn,beforeDestroy:Mn,beforeUnmount:Mn,destroyed:Mn,unmounted:Mn,activated:Mn,deactivated:Mn,errorCaptured:Mn,serverPrefetch:Mn,components:Hu,directives:Hu,watch:j5,provide:FT,inject:B5};function FT(t,e){return e?t?function(){return En(ke(t)?t.call(this,this):t,ke(e)?e.call(this,this):e)}:e:t}function B5(t,e){return Hu(ly(t),ly(e))}function ly(t){if(we(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Mn(t,e){return t?[...new Set([].concat(t,e))]:e}function Hu(t,e){return t?En(Object.create(null),t,e):e}function UT(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:En(Object.create(null),MT(t),MT(e??{})):e}function j5(t,e){if(!t)return e;if(!e)return t;const n=En(Object.create(null),t);for(const r in e)n[r]=Mn(t[r],e[r]);return n}function r2(){return{app:null,config:{isNativeTag:y6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $5=0;function H5(t,e){return function(r,s=null){ke(r)||(r=En({},r)),s!=null&&!ht(s)&&(s=null);const o=r2(),l=new WeakSet;let c=!1;const d=o.app={_uid:$5++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:_B,get config(){return o.config},set config(f){},use(f,...m){return l.has(f)||(f&&ke(f.install)?(l.add(f),f.install(d,...m)):ke(f)&&(l.add(f),f(d,...m))),d},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),d},component(f,m){return m?(o.components[f]=m,d):o.components[f]},directive(f,m){return m?(o.directives[f]=m,d):o.directives[f]},mount(f,m,v){if(!c){const _=De(r,s);return _.appContext=o,m&&e?e(_,f):t(_,f,v),c=!0,d._container=f,f.__vue_app__=d,Yp(_.component)||_.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(f,m){return o.provides[f]=m,d},runWithContext(f){Pc=d;try{return f()}finally{Pc=null}}};return d}}let Pc=null;function Kn(t,e){if(an){let n=an.provides;const r=an.parent&&an.parent.provides;r===n&&(n=an.provides=Object.create(r)),n[t]=e}}function Et(t,e,n=!1){const r=an||gn;if(r||Pc){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Pc._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ke(e)?e.call(r&&r.proxy):e}}function q5(){return!!(an||gn||Pc)}function W5(t,e,n,r=!1){const s={},o={};kf(o,zp,1),t.propsDefaults=Object.create(null),s2(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=r?s:VP(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function K5(t,e,n,r){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=We(s),[d]=t.propsOptions;let f=!1;if((r||l>0)&&!(l&16)){if(l&8){const m=t.vnode.dynamicProps;for(let v=0;v<m.length;v++){let _=m[v];if(Wp(t.emitsOptions,_))continue;const E=e[_];if(d)if(ze(o,_))E!==o[_]&&(o[_]=E,f=!0);else{const A=lr(_);s[A]=uy(d,c,A,E,t,!1)}else E!==o[_]&&(o[_]=E,f=!0)}}}else{s2(t,e,s,o)&&(f=!0);let m;for(const v in c)(!e||!ze(e,v)&&((m=vl(v))===v||!ze(e,m)))&&(d?n&&(n[v]!==void 0||n[m]!==void 0)&&(s[v]=uy(d,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!ze(e,v))&&(delete o[v],f=!0)}f&&Ar(t,"set","$attrs")}function s2(t,e,n,r){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let d in e){if(Yd(d))continue;const f=e[d];let m;s&&ze(s,m=lr(d))?!o||!o.includes(m)?n[m]=f:(c||(c={}))[m]=f:Wp(t.emitsOptions,d)||(!(d in r)||f!==r[d])&&(r[d]=f,l=!0)}if(o){const d=We(n),f=c||ft;for(let m=0;m<o.length;m++){const v=o[m];n[v]=uy(s,d,v,f[v],t,!ze(f,v))}}return l}function uy(t,e,n,r,s,o){const l=t[n];if(l!=null){const c=ze(l,"default");if(c&&r===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&ke(d)){const{propsDefaults:f}=s;n in f?r=f[n]:(il(s),r=f[n]=d.call(null,e),po())}else r=d}l[0]&&(o&&!c?r=!1:l[1]&&(r===""||r===vl(n))&&(r=!0))}return r}function o2(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const o=t.props,l={},c=[];let d=!1;if(!ke(t)){const m=v=>{d=!0;const[_,E]=o2(v,e,!0);En(l,_),E&&c.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!o&&!d)return ht(t)&&r.set(t,Va),Va;if(we(o))for(let m=0;m<o.length;m++){const v=lr(o[m]);BT(v)&&(l[v]=ft)}else if(o)for(const m in o){const v=lr(m);if(BT(v)){const _=o[m],E=l[v]=we(_)||ke(_)?{type:_}:En({},_);if(E){const A=HT(Boolean,E.type),y=HT(String,E.type);E[0]=A>-1,E[1]=y<0||A<y,(A>-1||ze(E,"default"))&&c.push(v)}}}const f=[l,c];return ht(t)&&r.set(t,f),f}function BT(t){return t[0]!=="$"}function jT(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function $T(t,e){return jT(t)===jT(e)}function HT(t,e){return we(e)?e.findIndex(n=>$T(n,t)):ke(e)&&$T(e,t)?0:-1}const a2=t=>t[0]==="_"||t==="$stable",_0=t=>we(t)?t.map(Ki):[Ki(t)],G5=(t,e,n)=>{if(e._n)return e;const r=Ye((...s)=>_0(e(...s)),n);return r._c=!1,r},l2=(t,e,n)=>{const r=t._ctx;for(const s in t){if(a2(s))continue;const o=t[s];if(ke(o))e[s]=G5(s,o,r);else if(o!=null){const l=_0(o);e[s]=()=>l}}},u2=(t,e)=>{const n=_0(e);t.slots.default=()=>n},z5=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=We(e),kf(e,"_",n)):l2(e,t.slots={})}else t.slots={},e&&u2(t,e);kf(t.slots,zp,1)},Y5=(t,e,n)=>{const{vnode:r,slots:s}=t;let o=!0,l=ft;if(r.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(En(s,e),!n&&c===1&&delete s._):(o=!e.$stable,l2(e,s)),l=e}else e&&(u2(t,e),l={default:1});if(o)for(const c in s)!a2(c)&&l[c]==null&&delete s[c]};function cy(t,e,n,r,s=!1){if(we(t)){t.forEach((_,E)=>cy(_,e&&(we(e)?e[E]:e),n,r,s));return}if(Xu(r)&&!s)return;const o=r.shapeFlag&4?Yp(r.component)||r.component.proxy:r.el,l=s?null:o,{i:c,r:d}=t,f=e&&e.r,m=c.refs===ft?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==d&&(Gt(f)?(m[f]=null,ze(v,f)&&(v[f]=null)):_t(f)&&(f.value=null)),ke(d))fs(d,c,12,[l,m]);else{const _=Gt(d),E=_t(d);if(_||E){const A=()=>{if(t.f){const y=_?ze(v,d)?v[d]:m[d]:d.value;s?we(y)&&o0(y,o):we(y)?y.includes(o)||y.push(o):_?(m[d]=[o],ze(v,d)&&(v[d]=m[d])):(d.value=[o],t.k&&(m[t.k]=d.value))}else _?(m[d]=l,ze(v,d)&&(v[d]=l)):E&&(d.value=l,t.k&&(m[t.k]=l))};l?(A.id=-1,qn(A,n)):A()}}}const qn=w5;function Q5(t){return J5(t)}function J5(t,e){const n=ey();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:l,createText:c,createComment:d,setText:f,setElementText:m,parentNode:v,nextSibling:_,setScopeId:E=Ai,insertStaticContent:A}=t,y=(T,S,C,O=null,M=null,U=null,ee=!1,K=null,J=!!S.dynamicChildren)=>{if(T===S)return;T&&!Ou(T,S)&&(O=N(T),tt(T,M,U,!0),T=null),S.patchFlag===-2&&(J=!1,S.dynamicChildren=null);const{type:$,ref:ge,shapeFlag:se}=S;switch($){case Gp:b(T,S,C,O);break;case bs:R(T,S,C,O);break;case ov:T==null&&P(S,C,O,ee);break;case Rt:Y(T,S,C,O,M,U,ee,K,J);break;default:se&1?Q(T,S,C,O,M,U,ee,K,J):se&6?ve(T,S,C,O,M,U,ee,K,J):(se&64||se&128)&&$.process(T,S,C,O,M,U,ee,K,J,z)}ge!=null&&M&&cy(ge,T&&T.ref,U,S||T,!S)},b=(T,S,C,O)=>{if(T==null)r(S.el=c(S.children),C,O);else{const M=S.el=T.el;S.children!==T.children&&f(M,S.children)}},R=(T,S,C,O)=>{T==null?r(S.el=d(S.children||""),C,O):S.el=T.el},P=(T,S,C,O)=>{[T.el,T.anchor]=A(T.children,S,C,O,T.el,T.anchor)},F=({el:T,anchor:S},C,O)=>{let M;for(;T&&T!==S;)M=_(T),r(T,C,O),T=M;r(S,C,O)},x=({el:T,anchor:S})=>{let C;for(;T&&T!==S;)C=_(T),s(T),T=C;s(S)},Q=(T,S,C,O,M,U,ee,K,J)=>{ee=ee||S.type==="svg",T==null?re(S,C,O,M,U,ee,K,J):he(T,S,M,U,ee,K,J)},re=(T,S,C,O,M,U,ee,K)=>{let J,$;const{type:ge,props:se,shapeFlag:ce,transition:Se,dirs:Le}=T;if(J=T.el=l(T.type,U,se&&se.is,se),ce&8?m(J,T.children):ce&16&&ae(T.children,J,null,O,M,U&&ge!=="foreignObject",ee,K),Le&&Ks(T,null,O,"created"),fe(J,T,T.scopeId,ee,O),se){for(const Ke in se)Ke!=="value"&&!Yd(Ke)&&o(J,Ke,null,se[Ke],U,T.children,O,M,Zt);"value"in se&&o(J,"value",null,se.value),($=se.onVnodeBeforeMount)&&Wi($,O,T)}Le&&Ks(T,null,O,"beforeMount");const rt=X5(M,Se);rt&&Se.beforeEnter(J),r(J,S,C),(($=se&&se.onVnodeMounted)||rt||Le)&&qn(()=>{$&&Wi($,O,T),rt&&Se.enter(J),Le&&Ks(T,null,O,"mounted")},M)},fe=(T,S,C,O,M)=>{if(C&&E(T,C),O)for(let U=0;U<O.length;U++)E(T,O[U]);if(M){let U=M.subTree;if(S===U){const ee=M.vnode;fe(T,ee,ee.scopeId,ee.slotScopeIds,M.parent)}}},ae=(T,S,C,O,M,U,ee,K,J=0)=>{for(let $=J;$<T.length;$++){const ge=T[$]=K?is(T[$]):Ki(T[$]);y(null,ge,S,C,O,M,U,ee,K)}},he=(T,S,C,O,M,U,ee)=>{const K=S.el=T.el;let{patchFlag:J,dynamicChildren:$,dirs:ge}=S;J|=T.patchFlag&16;const se=T.props||ft,ce=S.props||ft;let Se;C&&Gs(C,!1),(Se=ce.onVnodeBeforeUpdate)&&Wi(Se,C,S,T),ge&&Ks(S,T,C,"beforeUpdate"),C&&Gs(C,!0);const Le=M&&S.type!=="foreignObject";if($?Ve(T.dynamicChildren,$,K,C,O,Le,U):ee||ye(T,S,K,null,C,O,Le,U,!1),J>0){if(J&16)j(K,S,se,ce,C,O,M);else if(J&2&&se.class!==ce.class&&o(K,"class",null,ce.class,M),J&4&&o(K,"style",se.style,ce.style,M),J&8){const rt=S.dynamicProps;for(let Ke=0;Ke<rt.length;Ke++){const lt=rt[Ke],Yt=se[lt],cr=ce[lt];(cr!==Yt||lt==="value")&&o(K,lt,Yt,cr,M,T.children,C,O,Zt)}}J&1&&T.children!==S.children&&m(K,S.children)}else!ee&&$==null&&j(K,S,se,ce,C,O,M);((Se=ce.onVnodeUpdated)||ge)&&qn(()=>{Se&&Wi(Se,C,S,T),ge&&Ks(S,T,C,"updated")},O)},Ve=(T,S,C,O,M,U,ee)=>{for(let K=0;K<S.length;K++){const J=T[K],$=S[K],ge=J.el&&(J.type===Rt||!Ou(J,$)||J.shapeFlag&70)?v(J.el):C;y(J,$,ge,null,O,M,U,ee,!0)}},j=(T,S,C,O,M,U,ee)=>{if(C!==O){if(C!==ft)for(const K in C)!Yd(K)&&!(K in O)&&o(T,K,C[K],null,ee,S.children,M,U,Zt);for(const K in O){if(Yd(K))continue;const J=O[K],$=C[K];J!==$&&K!=="value"&&o(T,K,$,J,ee,S.children,M,U,Zt)}"value"in O&&o(T,"value",C.value,O.value)}},Y=(T,S,C,O,M,U,ee,K,J)=>{const $=S.el=T?T.el:c(""),ge=S.anchor=T?T.anchor:c("");let{patchFlag:se,dynamicChildren:ce,slotScopeIds:Se}=S;Se&&(K=K?K.concat(Se):Se),T==null?(r($,C,O),r(ge,C,O),ae(S.children,C,ge,M,U,ee,K,J)):se>0&&se&64&&ce&&T.dynamicChildren?(Ve(T.dynamicChildren,ce,C,M,U,ee,K),(S.key!=null||M&&S===M.subTree)&&w0(T,S,!0)):ye(T,S,C,ge,M,U,ee,K,J)},ve=(T,S,C,O,M,U,ee,K,J)=>{S.slotScopeIds=K,T==null?S.shapeFlag&512?M.ctx.activate(S,C,O,ee,J):kt(S,C,O,M,U,ee,J):Ae(T,S,J)},kt=(T,S,C,O,M,U,ee)=>{const K=T.component=cB(T,O,M);if(ZP(T)&&(K.ctx.renderer=z),hB(K),K.asyncDep){if(M&&M.registerDep(K,G),!T.el){const J=K.subTree=De(bs);R(null,J,S,C)}return}G(K,T,S,C,M,U,ee)},Ae=(T,S,C)=>{const O=S.component=T.component;if(v5(T,S,C))if(O.asyncDep&&!O.asyncResolved){te(O,S,C);return}else O.next=S,h5(O.update),O.update();else S.el=T.el,O.vnode=S},G=(T,S,C,O,M,U,ee)=>{const K=()=>{if(T.isMounted){let{next:ge,bu:se,u:ce,parent:Se,vnode:Le}=T,rt=ge,Ke;Gs(T,!1),ge?(ge.el=Le.el,te(T,ge,ee)):ge=Le,se&&Qd(se),(Ke=ge.props&&ge.props.onVnodeBeforeUpdate)&&Wi(Ke,Se,ge,Le),Gs(T,!0);const lt=rv(T),Yt=T.subTree;T.subTree=lt,y(Yt,lt,v(Yt.el),N(Yt),T,M,U),ge.el=lt.el,rt===null&&y5(T,lt.el),ce&&qn(ce,M),(Ke=ge.props&&ge.props.onVnodeUpdated)&&qn(()=>Wi(Ke,Se,ge,Le),M)}else{let ge;const{el:se,props:ce}=S,{bm:Se,m:Le,parent:rt}=T,Ke=Xu(S);if(Gs(T,!1),Se&&Qd(Se),!Ke&&(ge=ce&&ce.onVnodeBeforeMount)&&Wi(ge,rt,S),Gs(T,!0),se&&Qe){const lt=()=>{T.subTree=rv(T),Qe(se,T.subTree,T,M,null)};Ke?S.type.__asyncLoader().then(()=>!T.isUnmounted&&lt()):lt()}else{const lt=T.subTree=rv(T);y(null,lt,C,O,T,M,U),S.el=lt.el}if(Le&&qn(Le,M),!Ke&&(ge=ce&&ce.onVnodeMounted)){const lt=S;qn(()=>Wi(ge,rt,lt),M)}(S.shapeFlag&256||rt&&Xu(rt.vnode)&&rt.vnode.shapeFlag&256)&&T.a&&qn(T.a,M),T.isMounted=!0,S=C=O=null}},J=T.effect=new c0(K,()=>g0($),T.scope),$=T.update=()=>J.run();$.id=T.uid,Gs(T,!0),$()},te=(T,S,C)=>{S.component=T;const O=T.vnode.props;T.vnode=S,T.next=null,K5(T,S.props,O,C),Y5(T,S.children,C),yl(),DT(),_l()},ye=(T,S,C,O,M,U,ee,K,J=!1)=>{const $=T&&T.children,ge=T?T.shapeFlag:0,se=S.children,{patchFlag:ce,shapeFlag:Se}=S;if(ce>0){if(ce&128){et($,se,C,O,M,U,ee,K,J);return}else if(ce&256){dt($,se,C,O,M,U,ee,K,J);return}}Se&8?(ge&16&&Zt($,M,U),se!==$&&m(C,se)):ge&16?Se&16?et($,se,C,O,M,U,ee,K,J):Zt($,M,U,!0):(ge&8&&m(C,""),Se&16&&ae(se,C,O,M,U,ee,K,J))},dt=(T,S,C,O,M,U,ee,K,J)=>{T=T||Va,S=S||Va;const $=T.length,ge=S.length,se=Math.min($,ge);let ce;for(ce=0;ce<se;ce++){const Se=S[ce]=J?is(S[ce]):Ki(S[ce]);y(T[ce],Se,C,null,M,U,ee,K,J)}$>ge?Zt(T,M,U,!0,!1,se):ae(S,C,O,M,U,ee,K,J,se)},et=(T,S,C,O,M,U,ee,K,J)=>{let $=0;const ge=S.length;let se=T.length-1,ce=ge-1;for(;$<=se&&$<=ce;){const Se=T[$],Le=S[$]=J?is(S[$]):Ki(S[$]);if(Ou(Se,Le))y(Se,Le,C,null,M,U,ee,K,J);else break;$++}for(;$<=se&&$<=ce;){const Se=T[se],Le=S[ce]=J?is(S[ce]):Ki(S[ce]);if(Ou(Se,Le))y(Se,Le,C,null,M,U,ee,K,J);else break;se--,ce--}if($>se){if($<=ce){const Se=ce+1,Le=Se<ge?S[Se].el:O;for(;$<=ce;)y(null,S[$]=J?is(S[$]):Ki(S[$]),C,Le,M,U,ee,K,J),$++}}else if($>ce)for(;$<=se;)tt(T[$],M,U,!0),$++;else{const Se=$,Le=$,rt=new Map;for($=Le;$<=ce;$++){const en=S[$]=J?is(S[$]):Ki(S[$]);en.key!=null&&rt.set(en.key,$)}let Ke,lt=0;const Yt=ce-Le+1;let cr=!1,ah=0;const Cs=new Array(Yt);for($=0;$<Yt;$++)Cs[$]=0;for($=Se;$<=se;$++){const en=T[$];if(lt>=Yt){tt(en,M,U,!0);continue}let tn;if(en.key!=null)tn=rt.get(en.key);else for(Ke=Le;Ke<=ce;Ke++)if(Cs[Ke-Le]===0&&Ou(en,S[Ke])){tn=Ke;break}tn===void 0?tt(en,M,U,!0):(Cs[tn-Le]=$+1,tn>=ah?ah=tn:cr=!0,y(en,S[tn],C,null,M,U,ee,K,J),lt++)}const Ps=cr?Z5(Cs):Va;for(Ke=Ps.length-1,$=Yt-1;$>=0;$--){const en=Le+$,tn=S[en],lh=en+1<ge?S[en+1].el:O;Cs[$]===0?y(null,tn,C,lh,M,U,ee,K,J):cr&&(Ke<0||$!==Ps[Ke]?Xt(tn,C,lh,2):Ke--)}}},Xt=(T,S,C,O,M=null)=>{const{el:U,type:ee,transition:K,children:J,shapeFlag:$}=T;if($&6){Xt(T.component.subTree,S,C,O);return}if($&128){T.suspense.move(S,C,O);return}if($&64){ee.move(T,S,C,z);return}if(ee===Rt){r(U,S,C);for(let se=0;se<J.length;se++)Xt(J[se],S,C,O);r(T.anchor,S,C);return}if(ee===ov){F(T,S,C);return}if(O!==2&&$&1&&K)if(O===0)K.beforeEnter(U),r(U,S,C),qn(()=>K.enter(U),M);else{const{leave:se,delayLeave:ce,afterLeave:Se}=K,Le=()=>r(U,S,C),rt=()=>{se(U,()=>{Le(),Se&&Se()})};ce?ce(U,Le,rt):rt()}else r(U,S,C)},tt=(T,S,C,O=!1,M=!1)=>{const{type:U,props:ee,ref:K,children:J,dynamicChildren:$,shapeFlag:ge,patchFlag:se,dirs:ce}=T;if(K!=null&&cy(K,null,C,T,!0),ge&256){S.ctx.deactivate(T);return}const Se=ge&1&&ce,Le=!Xu(T);let rt;if(Le&&(rt=ee&&ee.onVnodeBeforeUnmount)&&Wi(rt,S,T),ge&6)xo(T.component,C,O);else{if(ge&128){T.suspense.unmount(C,O);return}Se&&Ks(T,null,S,"beforeUnmount"),ge&64?T.type.remove(T,S,C,M,z,O):$&&(U!==Rt||se>0&&se&64)?Zt($,S,C,!1,!0):(U===Rt&&se&384||!M&&ge&16)&&Zt(J,S,C),O&&Fi(T)}(Le&&(rt=ee&&ee.onVnodeUnmounted)||Se)&&qn(()=>{rt&&Wi(rt,S,T),Se&&Ks(T,null,S,"unmounted")},C)},Fi=T=>{const{type:S,el:C,anchor:O,transition:M}=T;if(S===Rt){Ui(C,O);return}if(S===ov){x(T);return}const U=()=>{s(C),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(T.shapeFlag&1&&M&&!M.persisted){const{leave:ee,delayLeave:K}=M,J=()=>ee(C,U);K?K(T.el,U,J):J()}else U()},Ui=(T,S)=>{let C;for(;T!==S;)C=_(T),s(T),T=C;s(S)},xo=(T,S,C)=>{const{bum:O,scope:M,update:U,subTree:ee,um:K}=T;O&&Qd(O),M.stop(),U&&(U.active=!1,tt(ee,T,S,C)),K&&qn(K,S),qn(()=>{T.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Zt=(T,S,C,O=!1,M=!1,U=0)=>{for(let ee=U;ee<T.length;ee++)tt(T[ee],S,C,O,M)},N=T=>T.shapeFlag&6?N(T.component.subTree):T.shapeFlag&128?T.suspense.next():_(T.anchor||T.el),ne=(T,S,C)=>{T==null?S._vnode&&tt(S._vnode,null,null,!0):y(S._vnode||null,T,S,null,null,null,C),DT(),zP(),S._vnode=T},z={p:y,um:tt,m:Xt,r:Fi,mt:kt,mc:ae,pc:ye,pbc:Ve,n:N,o:t};let de,Qe;return e&&([de,Qe]=e(z)),{render:ne,hydrate:de,createApp:H5(ne,de)}}function Gs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function X5(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function w0(t,e,n=!1){const r=t.children,s=e.children;if(we(r)&&we(s))for(let o=0;o<r.length;o++){const l=r[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=is(s[o]),c.el=l.el),n||w0(l,c)),c.type===Gp&&(c.el=l.el)}}function Z5(t){const e=t.slice(),n=[0];let r,s,o,l,c;const d=t.length;for(r=0;r<d;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const eB=t=>t.__isTeleport,ec=t=>t&&(t.disabled||t.disabled===""),qT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,hy=(t,e)=>{const n=t&&t.to;return Gt(n)?e?e(n):null:n},tB={__isTeleport:!0,process(t,e,n,r,s,o,l,c,d,f){const{mc:m,pc:v,pbc:_,o:{insert:E,querySelector:A,createText:y,createComment:b}}=f,R=ec(e.props);let{shapeFlag:P,children:F,dynamicChildren:x}=e;if(t==null){const Q=e.el=y(""),re=e.anchor=y("");E(Q,n,r),E(re,n,r);const fe=e.target=hy(e.props,A),ae=e.targetAnchor=y("");fe&&(E(ae,fe),l=l||qT(fe));const he=(Ve,j)=>{P&16&&m(F,Ve,j,s,o,l,c,d)};R?he(n,re):fe&&he(fe,ae)}else{e.el=t.el;const Q=e.anchor=t.anchor,re=e.target=t.target,fe=e.targetAnchor=t.targetAnchor,ae=ec(t.props),he=ae?n:re,Ve=ae?Q:fe;if(l=l||qT(re),x?(_(t.dynamicChildren,x,he,s,o,l,c),w0(t,e,!0)):d||v(t,e,he,Ve,s,o,l,c,!1),R)ae?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Vd(e,n,Q,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=hy(e.props,A);j&&Vd(e,j,null,f,0)}else ae&&Vd(e,re,fe,f,1)}c2(e)},remove(t,e,n,r,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:d,anchor:f,targetAnchor:m,target:v,props:_}=t;if(v&&o(m),l&&o(f),c&16){const E=l||!ec(_);for(let A=0;A<d.length;A++){const y=d[A];s(y,e,n,E,!!y.dynamicChildren)}}},move:Vd,hydrate:nB};function Vd(t,e,n,{o:{insert:r},m:s},o=2){o===0&&r(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:d,children:f,props:m}=t,v=o===2;if(v&&r(l,e,n),(!v||ec(m))&&d&16)for(let _=0;_<f.length;_++)s(f[_],e,n,2);v&&r(c,e,n)}function nB(t,e,n,r,s,o,{o:{nextSibling:l,parentNode:c,querySelector:d}},f){const m=e.target=hy(e.props,d);if(m){const v=m._lpa||m.firstChild;if(e.shapeFlag&16)if(ec(e.props))e.anchor=f(l(t),e,c(t),n,r,s,o),e.targetAnchor=v;else{e.anchor=l(t);let _=v;for(;_;)if(_=l(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,m._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,m,n,r,s,o)}c2(e)}return e.anchor&&l(e.anchor)}const iB=tB;function c2(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Rt=Symbol.for("v-fgt"),Gp=Symbol.for("v-txt"),bs=Symbol.for("v-cmt"),ov=Symbol.for("v-stc"),tc=[];let Ii=null;function Ze(t=!1){tc.push(Ii=t?null:[])}function rB(){tc.pop(),Ii=tc[tc.length-1]||null}let kc=1;function WT(t){kc+=t}function h2(t){return t.dynamicChildren=kc>0?Ii||Va:null,rB(),kc>0&&Ii&&Ii.push(t),t}function Fn(t,e,n,r,s,o){return h2(q(t,e,n,r,s,o,!0))}function An(t,e,n,r,s){return h2(De(t,e,n,r,s,!0))}function Mf(t){return t?t.__v_isVNode===!0:!1}function Ou(t,e){return t.type===e.type&&t.key===e.key}const zp="__vInternal",d2=({key:t})=>t??null,Jd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Gt(t)||_t(t)||ke(t)?{i:gn,r:t,k:e,f:!!n}:t:null);function q(t,e=null,n=null,r=0,s=null,o=t===Rt?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&d2(e),ref:e&&Jd(e),scopeId:JP,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:gn};return c?(E0(d,n),o&128&&t.normalize(d)):n&&(d.shapeFlag|=Gt(n)?8:16),kc>0&&!l&&Ii&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Ii.push(d),d}const De=sB;function sB(t,e=null,n=null,r=0,s=null,o=!1){if((!t||t===D5)&&(t=bs),Mf(t)){const c=Ao(t,e,!0);return n&&E0(c,n),kc>0&&!o&&Ii&&(c.shapeFlag&6?Ii[Ii.indexOf(t)]=c:Ii.push(c)),c.patchFlag|=-2,c}if(gB(t)&&(t=t.__vccOpts),e){e=oB(e);let{class:c,style:d}=e;c&&!Gt(c)&&(e.class=ui(c)),ht(d)&&(UP(d)&&!we(d)&&(d=En({},d)),e.style=l0(d))}const l=Gt(t)?1:_5(t)?128:eB(t)?64:ht(t)?4:ke(t)?2:0;return q(t,e,n,r,s,l,o,!0)}function oB(t){return t?UP(t)||zp in t?En({},t):t:null}function Ao(t,e,n=!1){const{props:r,ref:s,patchFlag:o,children:l}=t,c=e?aB(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&d2(c),ref:e&&e.ref?n&&s?we(s)?s.concat(Jd(e)):[s,Jd(e)]:Jd(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Rt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ao(t.ssContent),ssFallback:t.ssFallback&&Ao(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Vn(t=" ",e=0){return De(Gp,null,t,e)}function ti(t="",e=!1){return e?(Ze(),An(bs,null,t)):De(bs,null,t)}function Ki(t){return t==null||typeof t=="boolean"?De(bs):we(t)?De(Rt,null,t.slice()):typeof t=="object"?is(t):De(Gp,null,String(t))}function is(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ao(t)}function E0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(we(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),E0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(zp in e)?e._ctx=gn:s===3&&gn&&(gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ke(e)?(e={default:e,_ctx:gn},n=32):(e=String(e),r&64?(n=16,e=[Vn(e)]):n=8);t.children=e,t.shapeFlag|=n}function aB(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ui([e.class,r.class]));else if(s==="style")e.style=l0([e.style,r.style]);else if(Mp(s)){const o=e[s],l=r[s];l&&o!==l&&!(we(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=r[s])}return e}function Wi(t,e,n,r=null){Si(t,e,7,[n,r])}const lB=r2();let uB=0;function cB(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||lB,o={uid:uB++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new TP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:o2(r,s),emitsOptions:QP(r,s),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:r.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=p5.bind(null,o),t.ce&&t.ce(o),o}let an=null,b0,Ea,KT="__VUE_INSTANCE_SETTERS__";(Ea=ey()[KT])||(Ea=ey()[KT]=[]),Ea.push(t=>an=t),b0=t=>{Ea.length>1?Ea.forEach(e=>e(t)):Ea[0](t)};const il=t=>{b0(t),t.scope.on()},po=()=>{an&&an.scope.off(),b0(null)};function f2(t){return t.vnode.shapeFlag&4}let Oc=!1;function hB(t,e=!1){Oc=e;const{props:n,children:r}=t.vnode,s=f2(t);W5(t,n,s,e),z5(t,r);const o=s?dB(t,e):void 0;return Oc=!1,o}function dB(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=$p(new Proxy(t.ctx,M5));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?pB(t):null;il(t),yl();const o=fs(r,t,0,[t.props,s]);if(_l(),po(),_P(o)){if(o.then(po,po),e)return o.then(l=>{GT(t,l,e)}).catch(l=>{Hp(l,t,0)});t.asyncDep=o}else GT(t,o,e)}else p2(t,e)}function GT(t,e,n){ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ht(e)&&(t.setupState=qP(e)),p2(t,n)}let zT;function p2(t,e,n){const r=t.type;if(!t.render){if(!e&&zT&&!r.render){const s=r.template||y0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:d}=r,f=En(En({isCustomElement:o,delimiters:c},l),d);r.render=zT(s,f)}}t.render=r.render||Ai}{il(t),yl();try{V5(t)}finally{_l(),po()}}}function fB(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Gn(t,"get","$attrs"),e[n]}}))}function pB(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return fB(t)},slots:t.slots,emit:t.emit,expose:e}}function Yp(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(qP($p(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zu)return Zu[n](t)},has(e,n){return n in e||n in Zu}}))}function mB(t,e=!0){return ke(t)?t.displayName||t.name:t.name||e&&t.__name}function gB(t){return ke(t)&&"__vccOpts"in t}const Ne=(t,e)=>l5(t,e,Oc);function fn(t,e,n){const r=arguments.length;return r===2?ht(e)&&!we(e)?Mf(e)?De(t,null,[e]):De(t,e):De(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mf(n)&&(n=[n]),De(t,e,n))}const vB=Symbol.for("v-scx"),yB=()=>Et(vB),_B="3.3.7",wB="http://www.w3.org/2000/svg",Xs=typeof document<"u"?document:null,YT=Xs&&Xs.createElement("template"),EB={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?Xs.createElementNS(wB,t):Xs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Xs.createTextNode(t),createComment:t=>Xs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Xs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{YT.innerHTML=r?`<svg>${t}</svg>`:t;const c=YT.content;if(r){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},bB=Symbol("_vtc");function IB(t,e,n){const r=t[bB];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const TB=Symbol("_vod");function AB(t,e,n){const r=t.style,s=Gt(n);if(n&&!s){if(e&&!Gt(e))for(const o in e)n[o]==null&&dy(r,o,"");for(const o in n)dy(r,o,n[o])}else{const o=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),TB in t&&(r.display=o)}}const QT=/\s*!important$/;function dy(t,e,n){if(we(n))n.forEach(r=>dy(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=SB(t,e);QT.test(n)?t.setProperty(vl(r),n.replace(QT,""),"important"):t[r]=n}}const JT=["Webkit","Moz","ms"],av={};function SB(t,e){const n=av[e];if(n)return n;let r=lr(e);if(r!=="filter"&&r in t)return av[e]=r;r=Up(r);for(let s=0;s<JT.length;s++){const o=JT[s]+r;if(o in t)return av[e]=o}return e}const XT="http://www.w3.org/1999/xlink";function RB(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(XT,e.slice(6,e.length)):t.setAttributeNS(XT,e,n);else{const o=P6(e);n==null||o&&!bP(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function CB(t,e,n,r,s,o,l){if(e==="innerHTML"||e==="textContent"){r&&l(r,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,m=n??"";f!==m&&(t.value=m),n==null&&t.removeAttribute(e);return}let d=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=bP(n):n==null&&f==="string"?(n="",d=!0):f==="number"&&(n=0,d=!0)}try{t[e]=n}catch{}d&&t.removeAttribute(e)}function Zs(t,e,n,r){t.addEventListener(e,n,r)}function PB(t,e,n,r){t.removeEventListener(e,n,r)}const ZT=Symbol("_vei");function kB(t,e,n,r,s=null){const o=t[ZT]||(t[ZT]={}),l=o[e];if(r&&l)l.value=r;else{const[c,d]=OB(e);if(r){const f=o[e]=xB(r,s);Zs(t,c,f,d)}else l&&(PB(t,c,l,d),o[e]=void 0)}}const eA=/(?:Once|Passive|Capture)$/;function OB(t){let e;if(eA.test(t)){e={};let r;for(;r=t.match(eA);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vl(t.slice(2)),e]}let lv=0;const NB=Promise.resolve(),DB=()=>lv||(NB.then(()=>lv=0),lv=Date.now());function xB(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Si(LB(r,n.value),e,5,[r])};return n.value=t,n.attached=DB(),n}function LB(t,e){if(we(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const tA=/^on[a-z]/,MB=(t,e,n,r,s=!1,o,l,c,d)=>{e==="class"?IB(t,r,s):e==="style"?AB(t,n,r):Mp(e)?s0(e)||kB(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):VB(t,e,r,s))?CB(t,e,r,o,l,c,d):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),RB(t,e,r,s))};function VB(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&tA.test(e)&&ke(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||tA.test(e)&&Gt(n)?!1:e in t}const Vf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?n=>Qd(e,n):e};function FB(t){t.target.composing=!0}function nA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ba=Symbol("_assign"),Ht={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Ba]=Vf(s);const o=r||s.props&&s.props.type==="number";Zs(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=Of(c)),t[Ba](c)}),n&&Zs(t,"change",()=>{t.value=t.value.trim()}),e||(Zs(t,"compositionstart",FB),Zs(t,"compositionend",nA),Zs(t,"change",nA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},o){if(t[Ba]=Vf(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&Of(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},$8={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Vp(e);Zs(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?Of(Ff(l)):Ff(l));t[Ba](t.multiple?s?new Set(o):o:o[0])}),t[Ba]=Vf(r)},mounted(t,{value:e}){iA(t,e)},beforeUpdate(t,e,n){t[Ba]=Vf(n)},updated(t,{value:e}){iA(t,e)}};function iA(t,e){const n=t.multiple;if(!(n&&!we(e)&&!Vp(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],l=Ff(o);if(n)we(e)?o.selected=O6(e,l)>-1:o.selected=e.has(l);else if(Bp(Ff(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ff(t){return"_value"in t?t._value:t.value}const UB=En({patchProp:MB},EB);let rA;function BB(){return rA||(rA=Q5(UB))}const jB=(...t)=>{const e=BB().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=$B(r);if(!s)return;const o=e._component;!ke(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function $B(t){return Gt(t)?document.querySelector(t):t}var HB=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let m2;const Qp=t=>m2=t,g2=Symbol();function fy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var nc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(nc||(nc={}));function qB(){const t=AP(!0),e=t.run(()=>Ee({}));let n=[],r=[];const s=$p({install(o){Qp(s),s._a=o,o.provide(g2,s),o.config.globalProperties.$pinia=s,r.forEach(l=>n.push(l)),r=[]},use(o){return!this._a&&!HB?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const v2=()=>{};function sA(t,e,n,r=v2){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&SP()&&D6(s),s}function ba(t,...e){t.slice().forEach(n=>{n(...e)})}const WB=t=>t();function py(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];fy(s)&&fy(r)&&t.hasOwnProperty(n)&&!_t(r)&&!Sr(r)?t[n]=py(s,r):t[n]=r}return t}const KB=Symbol();function GB(t){return!fy(t)||!t.hasOwnProperty(KB)}const{assign:ns}=Object;function zB(t){return!!(_t(t)&&t.effect)}function YB(t,e,n,r){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let d;function f(){c||(n.state.value[t]=s?s():{});const m=i5(n.state.value[t]);return ns(m,o,Object.keys(l||{}).reduce((v,_)=>(v[_]=$p(Ne(()=>{Qp(n);const E=n._s.get(t);return l[_].call(E,E)})),v),{}))}return d=y2(t,f,e,n,r,!0),d}function y2(t,e,n={},r,s,o){let l;const c=ns({actions:{}},n),d={deep:!0};let f,m,v=[],_=[],E;const A=r.state.value[t];!o&&!A&&(r.state.value[t]={}),Ee({});let y;function b(ae){let he;f=m=!1,typeof ae=="function"?(ae(r.state.value[t]),he={type:nc.patchFunction,storeId:t,events:E}):(py(r.state.value[t],ae),he={type:nc.patchObject,payload:ae,storeId:t,events:E});const Ve=y=Symbol();qp().then(()=>{y===Ve&&(f=!0)}),m=!0,ba(v,he,r.state.value[t])}const R=o?function(){const{state:he}=n,Ve=he?he():{};this.$patch(j=>{ns(j,Ve)})}:v2;function P(){l.stop(),v=[],_=[],r._s.delete(t)}function F(ae,he){return function(){Qp(r);const Ve=Array.from(arguments),j=[],Y=[];function ve(G){j.push(G)}function kt(G){Y.push(G)}ba(_,{args:Ve,name:ae,store:Q,after:ve,onError:kt});let Ae;try{Ae=he.apply(this&&this.$id===t?this:Q,Ve)}catch(G){throw ba(Y,G),G}return Ae instanceof Promise?Ae.then(G=>(ba(j,G),G)).catch(G=>(ba(Y,G),Promise.reject(G))):(ba(j,Ae),Ae)}}const x={_p:r,$id:t,$onAction:sA.bind(null,_),$patch:b,$reset:R,$subscribe(ae,he={}){const Ve=sA(v,ae,he.detached,()=>j()),j=l.run(()=>rr(()=>r.state.value[t],Y=>{(he.flush==="sync"?m:f)&&ae({storeId:t,type:nc.direct,events:E},Y)},ns({},d,he)));return Ve},$dispose:P},Q=pi(x);r._s.set(t,Q);const fe=(r._a&&r._a.runWithContext||WB)(()=>r._e.run(()=>(l=AP()).run(e)));for(const ae in fe){const he=fe[ae];if(_t(he)&&!zB(he)||Sr(he))o||(A&&GB(he)&&(_t(he)?he.value=A[ae]:py(he,A[ae])),r.state.value[t][ae]=he);else if(typeof he=="function"){const Ve=F(ae,he);fe[ae]=Ve,c.actions[ae]=he}}return ns(Q,fe),ns(We(Q),fe),Object.defineProperty(Q,"$state",{get:()=>r.state.value[t],set:ae=>{b(he=>{ns(he,ae)})}}),r._p.forEach(ae=>{ns(Q,l.run(()=>ae({store:Q,app:r._a,pinia:r,options:c})))}),A&&o&&n.hydrate&&n.hydrate(Q.$state,A),f=!0,m=!0,Q}function _2(t,e,n){let r,s;const o=typeof e=="function";typeof t=="string"?(r=t,s=o?n:e):(s=t,r=t.id);function l(c,d){const f=q5();return c=c||(f?Et(g2,null):null),c&&Qp(c),c=m2,c._s.has(r)||(o?y2(r,e,s,c):YB(r,s,c)),c._s.get(r)}return l.$id=r,l}function Di(t){{t=We(t);const e={};for(const n in t){const r=t[n];(_t(r)||Sr(r))&&(e[n]=o5(t,n))}return e}}function QB(){return console.log("createUserProfileCallable"),Do(Rs(void 0,"northamerica-northeast1"),"createUserProfile")}function JB(){return console.log("createAdCallable"),Do(Rs(void 0,"northamerica-northeast1"),"createAd")}function XB(){return console.log("removeAdCallable"),Do(Rs(void 0,"northamerica-northeast1"),"removeAd")}function ZB(){return console.log("editAdCallable"),Do(Rs(void 0,"northamerica-northeast1"),"editAd")}function ej(){return console.log("postAdCallable"),Do(Rs(void 0,"northamerica-northeast1"),"postAd")}function tj(){return console.log("placeBidCallable"),Do(Rs(void 0,"northamerica-northeast1"),"placeBid")}function nj(){return console.log("cancelBidCallable"),Do(Rs(void 0,"northamerica-northeast1"),"cancelBid")}const bn=_2("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},r={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=Ee(null),o=Ee(!1),l=Ee(null),c=j=>{s.value=j},d=j=>{console.log("setNewUser",j),o.value=j},f=async j=>{let Y=null;if(o.value)console.log("Profile setup mounted for new user"),Y=await v(j),_(j);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(Y=await Zv("users",s.value.uid),_(j),!Y)throw new Error("continueSignup No profile")}_(Y)},m=QB(),v=async j=>{try{console.log("createUser start",j),console.log("createUserProfile",m);const Y=await m({...j});return console.log("createUser res",Y),Y}catch(Y){throw console.log("createUser error",Y),new Error(Y)}},_=j=>{if(console.log("setProfile",j),!j)throw new Error("No profile");l.value=j},E=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const j=await Zv("users",s.value.uid);l.value=j},A=JB(),y=async j=>{try{console.log("createUserAd start",j),console.log("createAd",A);const Y=await A({...j});return console.log("createUserAd res",Y),Y}catch(Y){throw console.log("createUserAd error",Y),new Error(Y)}},b=ej(),R=async j=>{try{console.log("postAd start",j),console.log("createAd",A);const Y=await b({adId:j});return console.log("postAd res",Y),Y}catch(Y){throw console.log("postAd error",Y),new Error(Y)}},P=XB(),F=async j=>{try{console.log("removeUserAd start",j),console.log("createAd",A);const Y=await P({adId:j});return console.log("removeUserAd res",Y),Y}catch(Y){throw console.log("removeUserAd error",Y),new Error(Y)}},x=ZB(),Q=async j=>{try{console.log("editUserAd start",j),console.log("editUserAd",x);const Y=await x({...j});return console.log("editUserAd res",Y),Y}catch(Y){throw console.log("editUserAd error",Y),new Error(Y)}},re=async()=>{const j=US();console.log("signout"),await j.signOut(),c(null),_(null)},fe=tj(),ae=async j=>{console.log("placeBid",j);try{console.log("placeBid start",j),console.log("placeBid",fe);const Y=await fe(j);return console.log("placeBid res",Y),Y}catch(Y){throw console.log("placeBid error",Y),new Error(Y)}},he=nj();return{user:s,setUser:c,createUser:v,getProfile:E,setProfile:_,setNewUser:d,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:y,postNewAd:R,signout:re,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:ae,cancelUserBid:async j=>{try{console.log("cancelBid start",j),console.log("cancelBid",he);const Y=await he({bidId:j});return console.log("cancelBid res",Y),Y}catch(Y){throw console.log("cancelBid error",Y),new Error(Y)}},removeUserAd:F,editUserAd:Q,CLAUSE_STATUSES:r}}),ij="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Sa=typeof window<"u";function rj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ot=Object.assign;function uv(t,e){const n={};for(const r in e){const s=e[r];n[r]=xi(s)?s.map(t):t(s)}return n}const ic=()=>{},xi=Array.isArray,sj=/\/$/,oj=t=>t.replace(sj,"");function cv(t,e,n="/"){let r,s={},o="",l="";const c=e.indexOf("#");let d=e.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(r=e.slice(0,d),o=e.slice(d+1,c>-1?c:e.length),s=t(o)),c>-1&&(r=r||e.slice(0,c),l=e.slice(c,e.length)),r=cj(r??e,n),{fullPath:r+(o&&"?")+o+l,path:r,query:s,hash:l}}function aj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function oA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lj(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&rl(e.matched[r],n.matched[s])&&w2(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function rl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function w2(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!uj(t[n],e[n]))return!1;return!0}function uj(t,e){return xi(t)?aA(t,e):xi(e)?aA(e,t):t===e}function aA(t,e){return xi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function cj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,l,c;for(l=0;l<r.length;l++)if(c=r[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(l-(l===r.length?1:0)).join("/")}var Nc;(function(t){t.pop="pop",t.push="push"})(Nc||(Nc={}));var rc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rc||(rc={}));function hj(t){if(!t)if(Sa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),oj(t)}const dj=/^[^#]+#/;function fj(t,e){return t.replace(dj,"#")+e}function pj(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Jp=()=>({left:window.pageXOffset,top:window.pageYOffset});function mj(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=pj(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function lA(t,e){return(history.state?history.state.position-e:-1)+t}const my=new Map;function gj(t,e){my.set(t,e)}function vj(t){const e=my.get(t);return my.delete(t),e}let yj=()=>location.protocol+"//"+location.host;function E2(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,d=s.slice(c);return d[0]!=="/"&&(d="/"+d),oA(d,"")}return oA(n,t)+r+s}function _j(t,e,n,r){let s=[],o=[],l=null;const c=({state:_})=>{const E=E2(t,location),A=n.value,y=e.value;let b=0;if(_){if(n.value=E,e.value=_,l&&l===A){l=null;return}b=y?_.position-y.position:0}else r(E);s.forEach(R=>{R(n.value,A,{delta:b,type:Nc.pop,direction:b?b>0?rc.forward:rc.back:rc.unknown})})};function d(){l=n.value}function f(_){s.push(_);const E=()=>{const A=s.indexOf(_);A>-1&&s.splice(A,1)};return o.push(E),E}function m(){const{history:_}=window;_.state&&_.replaceState(ot({},_.state,{scroll:Jp()}),"")}function v(){for(const _ of o)_();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:d,listen:f,destroy:v}}function uA(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Jp():null}}function wj(t){const{history:e,location:n}=window,r={value:E2(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(d,f,m){const v=t.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+d:yj()+t+d;try{e[m?"replaceState":"pushState"](f,"",_),s.value=f}catch(E){console.error(E),n[m?"replace":"assign"](_)}}function l(d,f){const m=ot({},e.state,uA(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});o(d,m,!0),r.value=d}function c(d,f){const m=ot({},s.value,e.state,{forward:d,scroll:Jp()});o(m.current,m,!0);const v=ot({},uA(r.value,d,null),{position:m.position+1},f);o(d,v,!1),r.value=d}return{location:r,state:s,push:c,replace:l}}function Ej(t){t=hj(t);const e=wj(t),n=_j(t,e.state,e.location,e.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=ot({location:"",base:t,go:r,createHref:fj.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function bj(t){return typeof t=="string"||t&&typeof t=="object"}function b2(t){return typeof t=="string"||typeof t=="symbol"}const es={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},I2=Symbol("");var cA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(cA||(cA={}));function sl(t,e){return ot(new Error,{type:t,[I2]:!0},e)}function vr(t,e){return t instanceof Error&&I2 in t&&(e==null||!!(t.type&e))}const hA="[^/]+?",Ij={sensitive:!1,strict:!1,start:!0,end:!0},Tj=/[.+*?^${}()[\]/\\]/g;function Aj(t,e){const n=ot({},Ij,e),r=[];let s=n.start?"^":"";const o=[];for(const f of t){const m=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const _=f[v];let E=40+(n.sensitive?.25:0);if(_.type===0)v||(s+="/"),s+=_.value.replace(Tj,"\\$&"),E+=40;else if(_.type===1){const{value:A,repeatable:y,optional:b,regexp:R}=_;o.push({name:A,repeatable:y,optional:b});const P=R||hA;if(P!==hA){E+=10;try{new RegExp(`(${P})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${A}" (${P}): `+x.message)}}let F=y?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(F=b&&f.length<2?`(?:/${F})`:"/"+F),b&&(F+="?"),s+=F,E+=20,b&&(E+=-8),y&&(E+=-20),P===".*"&&(E+=-50)}m.push(E)}r.push(m)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const m=f.match(l),v={};if(!m)return null;for(let _=1;_<m.length;_++){const E=m[_]||"",A=o[_-1];v[A.name]=E&&A.repeatable?E.split("/"):E}return v}function d(f){let m="",v=!1;for(const _ of t){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const E of _)if(E.type===0)m+=E.value;else if(E.type===1){const{value:A,repeatable:y,optional:b}=E,R=A in f?f[A]:"";if(xi(R)&&!y)throw new Error(`Provided param "${A}" is an array but it is not repeatable (* or + modifiers)`);const P=xi(R)?R.join("/"):R;if(!P)if(b)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${A}"`);m+=P}}return m||"/"}return{re:l,score:r,keys:o,parse:c,stringify:d}}function Sj(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Rj(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=Sj(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(dA(r))return 1;if(dA(s))return-1}return s.length-r.length}function dA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Cj={type:0,value:""},Pj=/[a-zA-Z0-9_]/;function kj(t){if(!t)return[[]];if(t==="/")return[[Cj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${f}": ${E}`)}let n=0,r=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,d,f="",m="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),l()):d===":"?(v(),n=1):_();break;case 4:_(),n=r;break;case 1:d==="("?n=2:Pj.test(d)?_():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:n=3:m+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,m="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function Oj(t,e,n){const r=Aj(kj(t.path),n),s=ot(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Nj(t,e){const n=[],r=new Map;e=mA({strict:!1,end:!0,sensitive:!1},e);function s(m){return r.get(m)}function o(m,v,_){const E=!_,A=Dj(m);A.aliasOf=_&&_.record;const y=mA(e,m),b=[A];if("alias"in m){const F=typeof m.alias=="string"?[m.alias]:m.alias;for(const x of F)b.push(ot({},A,{components:_?_.record.components:A.components,path:x,aliasOf:_?_.record:A}))}let R,P;for(const F of b){const{path:x}=F;if(v&&x[0]!=="/"){const Q=v.record.path,re=Q[Q.length-1]==="/"?"":"/";F.path=v.record.path+(x&&re+x)}if(R=Oj(F,v,y),_?_.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),E&&m.name&&!pA(R)&&l(m.name)),A.children){const Q=A.children;for(let re=0;re<Q.length;re++)o(Q[re],R,_&&_.children[re])}_=_||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&d(R)}return P?()=>{l(P)}:ic}function l(m){if(b2(m)){const v=r.get(m);v&&(r.delete(m),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(m);v>-1&&(n.splice(v,1),m.record.name&&r.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function c(){return n}function d(m){let v=0;for(;v<n.length&&Rj(m,n[v])>=0&&(m.record.path!==n[v].record.path||!T2(m,n[v]));)v++;n.splice(v,0,m),m.record.name&&!pA(m)&&r.set(m.record.name,m)}function f(m,v){let _,E={},A,y;if("name"in m&&m.name){if(_=r.get(m.name),!_)throw sl(1,{location:m});y=_.record.name,E=ot(fA(v.params,_.keys.filter(P=>!P.optional).map(P=>P.name)),m.params&&fA(m.params,_.keys.map(P=>P.name))),A=_.stringify(E)}else if("path"in m)A=m.path,_=n.find(P=>P.re.test(A)),_&&(E=_.parse(A),y=_.record.name);else{if(_=v.name?r.get(v.name):n.find(P=>P.re.test(v.path)),!_)throw sl(1,{location:m,currentLocation:v});y=_.record.name,E=ot({},v.params,m.params),A=_.stringify(E)}const b=[];let R=_;for(;R;)b.unshift(R.record),R=R.parent;return{name:y,path:A,params:E,matched:b,meta:Lj(b)}}return t.forEach(m=>o(m)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function fA(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Dj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:xj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function xj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function pA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Lj(t){return t.reduce((e,n)=>ot(e,n.meta),{})}function mA(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function T2(t,e){return e.children.some(n=>n===t||T2(t,n))}const A2=/#/g,Mj=/&/g,Vj=/\//g,Fj=/=/g,Uj=/\?/g,S2=/\+/g,Bj=/%5B/g,jj=/%5D/g,R2=/%5E/g,$j=/%60/g,C2=/%7B/g,Hj=/%7C/g,P2=/%7D/g,qj=/%20/g;function I0(t){return encodeURI(""+t).replace(Hj,"|").replace(Bj,"[").replace(jj,"]")}function Wj(t){return I0(t).replace(C2,"{").replace(P2,"}").replace(R2,"^")}function gy(t){return I0(t).replace(S2,"%2B").replace(qj,"+").replace(A2,"%23").replace(Mj,"%26").replace($j,"`").replace(C2,"{").replace(P2,"}").replace(R2,"^")}function Kj(t){return gy(t).replace(Fj,"%3D")}function Gj(t){return I0(t).replace(A2,"%23").replace(Uj,"%3F")}function zj(t){return t==null?"":Gj(t).replace(Vj,"%2F")}function Uf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Yj(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(S2," "),l=o.indexOf("="),c=Uf(l<0?o:o.slice(0,l)),d=l<0?null:Uf(o.slice(l+1));if(c in e){let f=e[c];xi(f)||(f=e[c]=[f]),f.push(d)}else e[c]=d}return e}function gA(t){let e="";for(let n in t){const r=t[n];if(n=Kj(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xi(r)?r.map(o=>o&&gy(o)):[r&&gy(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Qj(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xi(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const Jj=Symbol(""),vA=Symbol(""),Xp=Symbol(""),k2=Symbol(""),vy=Symbol("");function Nu(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function rs(t,e,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const d=v=>{v===!1?c(sl(4,{from:n,to:e})):v instanceof Error?c(v):bj(v)?c(sl(2,{from:e,to:v})):(o&&r.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(r&&r.instances[s],e,n,d);let m=Promise.resolve(f);t.length<3&&(m=m.then(d)),m.catch(v=>c(v))})}function hv(t,e,n,r){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Xj(c)){const f=(c.__vccOpts||c)[e];f&&s.push(rs(f,n,r,o,l))}else{let d=c();s.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const m=rj(f)?f.default:f;o.components[l]=m;const _=(m.__vccOpts||m)[e];return _&&rs(_,n,r,o,l)()}))}}return s}function Xj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yA(t){const e=Et(Xp),n=Et(k2),r=Ne(()=>e.resolve(_e(t.to))),s=Ne(()=>{const{matched:d}=r.value,{length:f}=d,m=d[f-1],v=n.matched;if(!m||!v.length)return-1;const _=v.findIndex(rl.bind(null,m));if(_>-1)return _;const E=_A(d[f-2]);return f>1&&_A(m)===E&&v[v.length-1].path!==E?v.findIndex(rl.bind(null,d[f-2])):_}),o=Ne(()=>s.value>-1&&t7(n.params,r.value.params)),l=Ne(()=>s.value>-1&&s.value===n.matched.length-1&&w2(n.params,r.value.params));function c(d={}){return e7(d)?e[_e(t.replace)?"replace":"push"](_e(t.to)).catch(ic):Promise.resolve()}return{route:r,href:Ne(()=>r.value.href),isActive:o,isExactActive:l,navigate:c}}const Zj=gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yA,setup(t,{slots:e}){const n=pi(yA(t)),{options:r}=Et(Xp),s=Ne(()=>({[wA(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[wA(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:fn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Qs=Zj;function e7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function t7(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!xi(s)||s.length!==r.length||r.some((o,l)=>o!==s[l]))return!1}return!0}function _A(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wA=(t,e,n)=>t??e??n,n7=gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Et(vy),s=Ne(()=>t.route||r.value),o=Et(vA,0),l=Ne(()=>{let f=_e(o);const{matched:m}=s.value;let v;for(;(v=m[f])&&!v.components;)f++;return f}),c=Ne(()=>s.value.matched[l.value]);Kn(vA,Ne(()=>l.value+1)),Kn(Jj,c),Kn(vy,s);const d=Ee();return rr(()=>[d.value,c.value,t.name],([f,m,v],[_,E,A])=>{m&&(m.instances[v]=f,E&&E!==m&&f&&f===_&&(m.leaveGuards.size||(m.leaveGuards=E.leaveGuards),m.updateGuards.size||(m.updateGuards=E.updateGuards))),f&&m&&(!E||!rl(m,E)||!_)&&(m.enterCallbacks[v]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=s.value,m=t.name,v=c.value,_=v&&v.components[m];if(!_)return EA(n.default,{Component:_,route:f});const E=v.props[m],A=E?E===!0?f.params:typeof E=="function"?E(f):E:null,b=fn(_,ot({},A,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(v.instances[m]=null)},ref:d}));return EA(n.default,{Component:b,route:f})||b}}});function EA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const O2=n7;function i7(t){const e=Nj(t.routes,t),n=t.parseQuery||Yj,r=t.stringifyQuery||gA,s=t.history,o=Nu(),l=Nu(),c=Nu(),d=$P(es);let f=es;Sa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=uv.bind(null,N=>""+N),v=uv.bind(null,zj),_=uv.bind(null,Uf);function E(N,ne){let z,de;return b2(N)?(z=e.getRecordMatcher(N),de=ne):de=N,e.addRoute(de,z)}function A(N){const ne=e.getRecordMatcher(N);ne&&e.removeRoute(ne)}function y(){return e.getRoutes().map(N=>N.record)}function b(N){return!!e.getRecordMatcher(N)}function R(N,ne){if(ne=ot({},ne||d.value),typeof N=="string"){const C=cv(n,N,ne.path),O=e.resolve({path:C.path},ne),M=s.createHref(C.fullPath);return ot(C,O,{params:_(O.params),hash:Uf(C.hash),redirectedFrom:void 0,href:M})}let z;if("path"in N)z=ot({},N,{path:cv(n,N.path,ne.path).path});else{const C=ot({},N.params);for(const O in C)C[O]==null&&delete C[O];z=ot({},N,{params:v(C)}),ne.params=v(ne.params)}const de=e.resolve(z,ne),Qe=N.hash||"";de.params=m(_(de.params));const T=aj(r,ot({},N,{hash:Wj(Qe),path:de.path})),S=s.createHref(T);return ot({fullPath:T,hash:Qe,query:r===gA?Qj(N.query):N.query||{}},de,{redirectedFrom:void 0,href:S})}function P(N){return typeof N=="string"?cv(n,N,d.value.path):ot({},N)}function F(N,ne){if(f!==N)return sl(8,{from:ne,to:N})}function x(N){return fe(N)}function Q(N){return x(ot(P(N),{replace:!0}))}function re(N){const ne=N.matched[N.matched.length-1];if(ne&&ne.redirect){const{redirect:z}=ne;let de=typeof z=="function"?z(N):z;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=P(de):{path:de},de.params={}),ot({query:N.query,hash:N.hash,params:"path"in de?{}:N.params},de)}}function fe(N,ne){const z=f=R(N),de=d.value,Qe=N.state,T=N.force,S=N.replace===!0,C=re(z);if(C)return fe(ot(P(C),{state:typeof C=="object"?ot({},Qe,C.state):Qe,force:T,replace:S}),ne||z);const O=z;O.redirectedFrom=ne;let M;return!T&&lj(r,de,z)&&(M=sl(16,{to:O,from:de}),Xt(de,de,!0,!1)),(M?Promise.resolve(M):Ve(O,de)).catch(U=>vr(U)?vr(U,2)?U:et(U):ye(U,O,de)).then(U=>{if(U){if(vr(U,2))return fe(ot({replace:S},P(U.to),{state:typeof U.to=="object"?ot({},Qe,U.to.state):Qe,force:T}),ne||O)}else U=Y(O,de,!0,S,Qe);return j(O,de,U),U})}function ae(N,ne){const z=F(N,ne);return z?Promise.reject(z):Promise.resolve()}function he(N){const ne=Ui.values().next().value;return ne&&typeof ne.runWithContext=="function"?ne.runWithContext(N):N()}function Ve(N,ne){let z;const[de,Qe,T]=r7(N,ne);z=hv(de.reverse(),"beforeRouteLeave",N,ne);for(const C of de)C.leaveGuards.forEach(O=>{z.push(rs(O,N,ne))});const S=ae.bind(null,N,ne);return z.push(S),Zt(z).then(()=>{z=[];for(const C of o.list())z.push(rs(C,N,ne));return z.push(S),Zt(z)}).then(()=>{z=hv(Qe,"beforeRouteUpdate",N,ne);for(const C of Qe)C.updateGuards.forEach(O=>{z.push(rs(O,N,ne))});return z.push(S),Zt(z)}).then(()=>{z=[];for(const C of T)if(C.beforeEnter)if(xi(C.beforeEnter))for(const O of C.beforeEnter)z.push(rs(O,N,ne));else z.push(rs(C.beforeEnter,N,ne));return z.push(S),Zt(z)}).then(()=>(N.matched.forEach(C=>C.enterCallbacks={}),z=hv(T,"beforeRouteEnter",N,ne),z.push(S),Zt(z))).then(()=>{z=[];for(const C of l.list())z.push(rs(C,N,ne));return z.push(S),Zt(z)}).catch(C=>vr(C,8)?C:Promise.reject(C))}function j(N,ne,z){c.list().forEach(de=>he(()=>de(N,ne,z)))}function Y(N,ne,z,de,Qe){const T=F(N,ne);if(T)return T;const S=ne===es,C=Sa?history.state:{};z&&(de||S?s.replace(N.fullPath,ot({scroll:S&&C&&C.scroll},Qe)):s.push(N.fullPath,Qe)),d.value=N,Xt(N,ne,z,S),et()}let ve;function kt(){ve||(ve=s.listen((N,ne,z)=>{if(!xo.listening)return;const de=R(N),Qe=re(de);if(Qe){fe(ot(Qe,{replace:!0}),de).catch(ic);return}f=de;const T=d.value;Sa&&gj(lA(T.fullPath,z.delta),Jp()),Ve(de,T).catch(S=>vr(S,12)?S:vr(S,2)?(fe(S.to,de).then(C=>{vr(C,20)&&!z.delta&&z.type===Nc.pop&&s.go(-1,!1)}).catch(ic),Promise.reject()):(z.delta&&s.go(-z.delta,!1),ye(S,de,T))).then(S=>{S=S||Y(de,T,!1),S&&(z.delta&&!vr(S,8)?s.go(-z.delta,!1):z.type===Nc.pop&&vr(S,20)&&s.go(-1,!1)),j(de,T,S)}).catch(ic)}))}let Ae=Nu(),G=Nu(),te;function ye(N,ne,z){et(N);const de=G.list();return de.length?de.forEach(Qe=>Qe(N,ne,z)):console.error(N),Promise.reject(N)}function dt(){return te&&d.value!==es?Promise.resolve():new Promise((N,ne)=>{Ae.add([N,ne])})}function et(N){return te||(te=!N,kt(),Ae.list().forEach(([ne,z])=>N?z(N):ne()),Ae.reset()),N}function Xt(N,ne,z,de){const{scrollBehavior:Qe}=t;if(!Sa||!Qe)return Promise.resolve();const T=!z&&vj(lA(N.fullPath,0))||(de||!z)&&history.state&&history.state.scroll||null;return qp().then(()=>Qe(N,ne,T)).then(S=>S&&mj(S)).catch(S=>ye(S,N,ne))}const tt=N=>s.go(N);let Fi;const Ui=new Set,xo={currentRoute:d,listening:!0,addRoute:E,removeRoute:A,hasRoute:b,getRoutes:y,resolve:R,options:t,push:x,replace:Q,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:G.add,isReady:dt,install(N){const ne=this;N.component("RouterLink",Qs),N.component("RouterView",O2),N.config.globalProperties.$router=ne,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(d)}),Sa&&!Fi&&d.value===es&&(Fi=!0,x(s.location).catch(Qe=>{}));const z={};for(const Qe in es)Object.defineProperty(z,Qe,{get:()=>d.value[Qe],enumerable:!0});N.provide(Xp,ne),N.provide(k2,VP(z)),N.provide(vy,d);const de=N.unmount;Ui.add(N),N.unmount=function(){Ui.delete(N),Ui.size<1&&(f=es,ve&&ve(),ve=null,d.value=es,Fi=!1,te=!1),de()}}};function Zt(N){return N.reduce((ne,z)=>ne.then(()=>he(z)),Promise.resolve())}return xo}function r7(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>rl(f,c))?r.push(c):n.push(c));const d=t.matched[l];d&&(e.matched.find(f=>rl(f,d))||s.push(d))}return[n,r,s]}function N2(){return Et(Xp)}const Zp=_2("ModalStore",()=>({modals:pi({addad:!1,addbid:!1,editad:!1,context:{}})})),s7={key:0},o7=gt({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(Ze(),Fn("div",s7,[q("div",{class:ui(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):ti("",!0)}});const D2=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},a7=D2(o7,[["__scopeId","data-v-634cf170"]]),ih=gt({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,r=()=>{n("click")};return(s,o)=>(Ze(),Fn("button",{class:ui(t.classes),onClick:r,style:{"max-height":"50px",display:"flex","align-items":"center","justify-content":"center"}},[De(a7,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?ti("",!0):L5(s.$slots,"default",{key:0})],2))}}),l7={class:"space-y-4 mb-4"},u7=q("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),c7={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},h7=["src"],d7=["onClick"],f7=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),p7=q("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),m7=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),g7=q("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),v7=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),y7=q("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),_7={class:"flex justify-end space-x-2 mt-4"},w7=5*1024*1024,E7=gt({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:r}=Di(bn()),s=Ee([]),o=Ee(null),l=()=>{const E=o.value.files;for(let A=0;A<E.length;A++){const y=E[A];if(y.size>w7){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=R=>{s.value.push({file:y,url:R.target.result})},b.readAsDataURL(y)}},c=E=>{s.value.splice(E,1)},d=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=pi({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:d,price:0,biddingEndTime:d}),m=Ee(!1),v=async()=>{if(m.value=!0,_()&&r.value){const E=s.value.map(y=>y.url.split(",")[1]),A=JSON.parse(JSON.stringify(f));A.biddingEndTime=new Date(A.biddingEndTime).toISOString(),A.expectedHarvestDate=new Date(A.expectedHarvestDate).toISOString(),await bn().createUserAd({images:E,...A,adType:r.value.accountType}),m.value=!1,n("close")}else m.value=!1},_=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime);return(E,A)=>(Ze(),Fn(Rt,null,[q("div",l7,[u7,q("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),q("div",c7,[(Ze(!0),Fn(Rt,null,sy(s.value,(y,b)=>(Ze(),Fn("div",{key:b,class:"mr-2 relative"},[q("img",{src:y.url,class:"w-16 h-16 object-cover"},null,8,h7),q("button",{onClick:R=>c(b)},"Remove",8,d7)]))),128))]),f7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":A[0]||(A[0]=y=>f.type=y)},null,512),[[Ht,f.type]]),p7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":A[1]||(A[1]=y=>f.variety=y)},null,512),[[Ht,f.variety]]),m7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":A[2]||(A[2]=y=>f.yieldTonnage=y)},null,512),[[Ht,f.yieldTonnage]]),g7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":A[3]||(A[3]=y=>f.expectedHarvestDate=y)},null,512),[[Ht,f.expectedHarvestDate]]),v7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":A[4]||(A[4]=y=>f.price=y)},null,512),[[Ht,f.price]]),y7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":A[5]||(A[5]=y=>f.biddingEndTime=y)},null,512),[[Ht,f.biddingEndTime]])]),q("div",_7,[q("button",{onClick:A[6]||(A[6]=y=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(ih,{onClick:v,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:m.value},{default:Ye(()=>[Vn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),b7={class:"space-y-4 mb-4"},I7=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),T7=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),A7=q("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),S7=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),R7={class:"flex justify-end space-x-2 mt-4"},C7=gt({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:r}=Di(bn());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=pi({type:"",yieldTonnage:0,requestDate:s,price:0}),l=Ee(!1),c=async()=>{if(l.value=!0,d()&&r.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await bn().createUserAd({...f,adType:r.value.accountType}),l.value=!1,n("close")}else l.value=!1},d=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,m)=>(Ze(),Fn(Rt,null,[q("div",b7,[I7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":m[0]||(m[0]=v=>o.type=v)},null,512),[[Ht,o.type]]),T7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":m[1]||(m[1]=v=>o.yieldTonnage=v)},null,512),[[Ht,o.yieldTonnage]]),A7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":m[2]||(m[2]=v=>o.requestDate=v)},null,512),[[Ht,o.requestDate]]),S7,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":m[3]||(m[3]=v=>o.price=v)},null,512),[[Ht,o.price]])]),q("div",R7,[q("button",{onClick:m[4]||(m[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(ih,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Ye(()=>[Vn(" Confirm ")]),_:1},8,["isLoading"])])],64))}});function ur(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ur),r}var Bf=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Bf||{}),us=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(us||{});function Vi({visible:t=!0,features:e=0,ourProps:n,theirProps:r,...s}){var o;let l=L2(r,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return dv(c);if(e&1){let d=(o=l.unmount)==null||o?0:1;return ur(d,{0(){return null},1(){return dv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return dv(c)}function dv({props:t,attrs:e,slots:n,slot:r,name:s}){var o,l;let{as:c,...d}=M2(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,r),m={};if(r){let v=!1,_=[];for(let[E,A]of Object.entries(r))typeof A=="boolean"&&(v=!0),A===!0&&_.push(E);v&&(m["data-headlessui-state"]=_.join(" "))}if(c==="template"){if(f=x2(f??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[v,..._]=f??[];if(!P7(v)||_.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(y=>y.trim()).filter((y,b,R)=>R.indexOf(y)===b).sort((y,b)=>y.localeCompare(b)).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let E=L2((l=v.props)!=null?l:{},d),A=Ao(v,E);for(let y in E)y.startsWith("on")&&(A.props||(A.props={}),A.props[y]=E[y]);return A}return Array.isArray(f)&&f.length===1?f[0]:f}return fn(c,Object.assign({},d,m),{default:()=>f})}function x2(t){return t.flatMap(e=>e.type===Rt?x2(e.children):[e])}function L2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...o){let l=n[r];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function M2(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function P7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let k7=0;function O7(){return++k7}function rh(){return O7()}var V2=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(V2||{});function Jt(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let F2=Symbol("Context");var ii=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ii||{});function N7(){return T0()!==null}function T0(){return Et(F2,null)}function D7(t){Kn(F2,t)}var x7=Object.defineProperty,L7=(t,e,n)=>e in t?x7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bA=(t,e,n)=>(L7(t,typeof e!="symbol"?e+"":e,n),n);class M7{constructor(){bA(this,"current",this.detect()),bA(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let sh=new M7;function wl(t){if(sh.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Jt(t);if(e)return e.ownerDocument}return document}let yy=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ss=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ss||{}),U2=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(U2||{}),V7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(V7||{});function F7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(yy)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var B2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(B2||{});function U7(t,e=0){var n;return t===((n=wl(t))==null?void 0:n.body)?!1:ur(e,{0(){return t.matches(yy)},1(){let r=t;for(;r!==null;){if(r.matches(yy))return!0;r=r.parentElement}return!1}})}var B7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(B7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function mo(t){t==null||t.focus({preventScroll:!0})}let j7=["textarea","input"].join(",");function $7(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,j7))!=null?n:!1}function H7(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),o=e(r);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xd(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?H7(t):t:F7(t);s.length>0&&c.length>1&&(c=c.filter(A=>!s.includes(A))),r=r??l.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(r))-1;if(e&4)return Math.max(0,c.indexOf(r))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},v=0,_=c.length,E;do{if(v>=_||v+_<=0)return 0;let A=f+v;if(e&16)A=(A+_)%_;else{if(A<0)return 3;if(A>=_)return 1}E=c[A],E==null||E.focus(m),v+=d}while(E!==l.activeElement);return e&6&&$7(E)&&E.select(),2}function Fd(t,e,n){sh.isServer||Ni(r=>{document.addEventListener(t,e,n),r(()=>document.removeEventListener(t,e,n))})}function j2(t,e,n){sh.isServer||Ni(r=>{window.addEventListener(t,e,n),r(()=>window.removeEventListener(t,e,n))})}function q7(t,e,n=Ne(()=>!0)){function r(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let d=function f(m){return typeof m=="function"?f(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let f of d){if(f===null)continue;let m=f instanceof HTMLElement?f:Jt(f);if(m!=null&&m.contains(c)||o.composed&&o.composedPath().includes(m))return}return!U7(c,B2.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=Ee(null);Fd("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Fd("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Fd("click",o=>{s.value&&(r(o,()=>s.value),s.value=null)},!0),Fd("touchend",o=>r(o,()=>o.target instanceof HTMLElement?o.target:null),!0),j2("blur",o=>r(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var jf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(jf||{});let _y=gt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:r,...s}=t,o={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Vi({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function W7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function A0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function oh(){let t=[],e={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),e.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return A0(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=oh();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var qu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(qu||{});function K7(){let t=Ee(0);return j2("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function $2(t,e,n,r){sh.isServer||Ni(s=>{t=t??window,t.addEventListener(e,n,r),s(()=>t.removeEventListener(e,n,r))})}function G7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function H2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let r=Jt(n);r instanceof HTMLElement&&e.add(r)}return e}var q2=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(q2||{});let Du=Object.assign(gt({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:Ee(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:r}){let s=Ee(null);r({el:s,$el:s});let o=Ne(()=>wl(s)),l=Ee(!1);kn(()=>l.value=!0),ai(()=>l.value=!1),Y7({ownerDocument:o},Ne(()=>l.value&&!!(t.features&16)));let c=Q7({ownerDocument:o,container:s,initialFocus:Ne(()=>t.initialFocus)},Ne(()=>l.value&&!!(t.features&2)));J7({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},Ne(()=>l.value&&!!(t.features&8)));let d=K7();function f(E){let A=Jt(s);A&&(y=>y())(()=>{ur(d.value,{[qu.Forwards]:()=>{Xd(A,ss.First,{skipElements:[E.relatedTarget]})},[qu.Backwards]:()=>{Xd(A,ss.Last,{skipElements:[E.relatedTarget]})}})})}let m=Ee(!1);function v(E){E.key==="Tab"&&(m.value=!0,requestAnimationFrame(()=>{m.value=!1}))}function _(E){if(!l.value)return;let A=H2(t.containers);Jt(s)instanceof HTMLElement&&A.add(Jt(s));let y=E.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(W2(A,y)||(m.value?Xd(Jt(s),ur(d.value,{[qu.Forwards]:()=>ss.Next,[qu.Backwards]:()=>ss.Previous})|ss.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&mo(E.target)))}return()=>{let E={},A={ref:s,onKeydown:v,onFocusout:_},{features:y,initialFocus:b,containers:R,...P}=t;return fn(Rt,[!!(y&4)&&fn(_y,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:jf.Focusable}),Vi({ourProps:A,theirProps:{...e,...P},slot:E,attrs:e,slots:n,name:"FocusTrap"}),!!(y&4)&&fn(_y,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:jf.Focusable})])}}}),{features:q2}),eo=[];G7(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&eo[0]!==e.target&&(eo.unshift(e.target),eo=eo.filter(n=>n!=null&&n.isConnected),eo.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function z7(t){let e=Ee(eo.slice());return rr([t],([n],[r])=>{r===!0&&n===!1?A0(()=>{e.value.splice(0)}):r===!1&&n===!0&&(e.value=eo.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function Y7({ownerDocument:t},e){let n=z7(e);kn(()=>{Ni(()=>{var r,s;e.value||((r=t.value)==null?void 0:r.activeElement)===((s=t.value)==null?void 0:s.body)&&mo(n())},{flush:"post"})}),ai(()=>{e.value&&mo(n())})}function Q7({ownerDocument:t,container:e,initialFocus:n},r){let s=Ee(null),o=Ee(!1);return kn(()=>o.value=!0),ai(()=>o.value=!1),kn(()=>{rr([e,n,r],(l,c)=>{if(l.every((f,m)=>(c==null?void 0:c[m])===f)||!r.value)return;let d=Jt(e);d&&A0(()=>{var f,m;if(!o.value)return;let v=Jt(n),_=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===_){s.value=_;return}}else if(d.contains(_)){s.value=_;return}v?mo(v):Xd(d,ss.First|ss.NoScroll)===U2.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(m=t.value)==null?void 0:m.activeElement})},{immediate:!0,flush:"post"})}),s}function J7({ownerDocument:t,container:e,containers:n,previousActiveElement:r},s){var o;$2((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=H2(n);Jt(e)instanceof HTMLElement&&c.add(Jt(e));let d=r.value;if(!d)return;let f=l.target;f&&f instanceof HTMLElement?W2(c,f)?(r.value=f,mo(f)):(l.preventDefault(),l.stopPropagation(),mo(d)):mo(r.value)},!0)}function W2(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let fv=new Map,xu=new Map;function IA(t,e=Ee(!0)){Ni(n=>{var r;if(!e.value)return;let s=Jt(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=xu.get(s))!=null?l:1;if(c===1?xu.delete(s):xu.set(s,c-1),c!==1)return;let d=fv.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,fv.delete(s))});let o=(r=xu.get(s))!=null?r:0;xu.set(s,o+1),o===0&&(fv.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let K2=Symbol("ForcePortalRootContext");function X7(){return Et(K2,!1)}let TA=gt({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Kn(K2,t.force),()=>{let{force:r,...s}=t;return Vi({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function Z7(t){let e=wl(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let r=e.createElement("div");return r.setAttribute("id","headlessui-portal-root"),e.body.appendChild(r)}let e$=gt({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let r=Ee(null),s=Ne(()=>wl(r)),o=X7(),l=Et(G2,null),c=Ee(o===!0||l==null?Z7(r.value):l.resolveTarget());Ni(()=>{o||l!=null&&(c.value=l.resolveTarget())});let d=Et(wy,null);return kn(()=>{let f=Jt(r);f&&d&&ai(d.register(f))}),ai(()=>{var f,m;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((m=c.value.parentElement)==null||m.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:r,"data-headlessui-portal":""};return fn(iB,{to:c.value},Vi({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),wy=Symbol("PortalParentContext");function t$(){let t=Et(wy,null),e=Ee([]);function n(o){return e.value.push(o),t&&t.register(o),()=>r(o)}function r(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:r,portals:e};return[e,gt({name:"PortalWrapper",setup(o,{slots:l}){return Kn(wy,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let G2=Symbol("PortalGroupContext"),n$=gt({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let r=pi({resolveTarget(){return t.target}});return Kn(G2,r),()=>{let{target:s,...o}=t;return Vi({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),z2=Symbol("StackContext");var Ey=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Ey||{});function i$(){return Et(z2,()=>{})}function r$({type:t,enabled:e,element:n,onUpdate:r}){let s=i$();function o(...l){r==null||r(...l),s(...l)}kn(()=>{rr(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),ai(()=>{e.value&&o(1,t,n)}),Kn(z2,o)}let Y2=Symbol("DescriptionContext");function s$(){let t=Et(Y2,null);if(t===null)throw new Error("Missing parent");return t}function o$({slot:t=Ee({}),name:e="Description",props:n={}}={}){let r=Ee([]);function s(o){return r.value.push(o),()=>{let l=r.value.indexOf(o);l!==-1&&r.value.splice(l,1)}}return Kn(Y2,{register:s,slot:t,name:e,props:n}),Ne(()=>r.value.length>0?r.value.join(" "):void 0)}let a$=gt({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${rh()}`}},setup(t,{attrs:e,slots:n}){let r=s$();return kn(()=>ai(r.register(t.id))),()=>{let{name:s="Description",slot:o=Ee({}),props:l={}}=r,{id:c,...d}=t,f={...Object.entries(l).reduce((m,[v,_])=>Object.assign(m,{[v]:_e(_)}),{}),id:c};return Vi({ourProps:f,theirProps:d,slot:o.value,attrs:e,slots:n,name:s})}}});function l$(t){let e=$P(t.getSnapshot());return ai(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function u$(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,r.forEach(c=>c()))}}}function c$(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,s=r.clientWidth-r.offsetWidth,o=t-s;n.style(r,"paddingRight",`${o}px`)}}}function h$(){if(!W7())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:r}){function s(l){return r.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=oh();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function d$(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function f$(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let oo=u$(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:oh(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:f$(n)},s=[h$(),c$(),d$()];s.forEach(({before:o})=>o==null?void 0:o(r)),s.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});oo.subscribe(()=>{let t=oo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&oo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&oo.dispatch("TEARDOWN",n)}});function p$(t,e,n){let r=l$(oo),s=Ne(()=>{let o=t.value?r.value.get(t.value):void 0;return o?o.count>0:!1});return rr([t,e],([o,l],[c],d)=>{if(!o||!l)return;oo.dispatch("PUSH",o,n);let f=!1;d(()=>{f||(oo.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function m$({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let r=Ee(null),s=wl(r);function o(){var l;let c=[];for(let d of t)d!==null&&(d instanceof HTMLElement?c.push(d):"value"in d&&d.value instanceof HTMLElement&&c.push(d.value));if(e!=null&&e.value)for(let d of e.value)c.push(d);for(let d of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(Jt(r))||c.some(f=>d.contains(f))||c.push(d));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:fn(_y,{features:jf.Hidden,ref:r})}}}var g$=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(g$||{});let by=Symbol("DialogContext");function S0(t){let e=Et(by,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,S0),n}return e}let Ud="DC8F892D-2EBD-447C-A4C8-A03058436FF4",R0=gt({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ud},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${rh()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:r,expose:s}){var o;let l=Ee(!1);kn(()=>{l.value=!0});let c=Ee(0),d=T0(),f=Ne(()=>t.open===Ud&&d!==null?(d.value&ii.Open)===ii.Open:t.open),m=Ee(null),v=Ne(()=>wl(m));if(s({el:m,$el:m}),!(t.open!==Ud||d!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===Ud?void 0:t.open}`);let _=Ne(()=>l.value&&f.value?0:1),E=Ne(()=>_.value===0),A=Ne(()=>c.value>1),y=Et(by,null)!==null,[b,R]=t$(),{resolveContainers:P,mainTreeNodeRef:F,MainTreeNode:x}=m$({portals:b,defaultContainers:[Ne(()=>{var te;return(te=ve.panelRef.value)!=null?te:m.value})]}),Q=Ne(()=>A.value?"parent":"leaf"),re=Ne(()=>d!==null?(d.value&ii.Closing)===ii.Closing:!1),fe=Ne(()=>y||re.value?!1:E.value),ae=Ne(()=>{var te,ye,dt;return(dt=Array.from((ye=(te=v.value)==null?void 0:te.querySelectorAll("body > *"))!=null?ye:[]).find(et=>et.id==="headlessui-portal-root"?!1:et.contains(Jt(F))&&et instanceof HTMLElement))!=null?dt:null});IA(ae,fe);let he=Ne(()=>A.value?!0:E.value),Ve=Ne(()=>{var te,ye,dt;return(dt=Array.from((ye=(te=v.value)==null?void 0:te.querySelectorAll("[data-headlessui-portal]"))!=null?ye:[]).find(et=>et.contains(Jt(F))&&et instanceof HTMLElement))!=null?dt:null});IA(Ve,he),r$({type:"Dialog",enabled:Ne(()=>_.value===0),element:m,onUpdate:(te,ye)=>{if(ye==="Dialog")return ur(te,{[Ey.Add]:()=>c.value+=1,[Ey.Remove]:()=>c.value-=1})}});let j=o$({name:"DialogDescription",slot:Ne(()=>({open:f.value}))}),Y=Ee(null),ve={titleId:Y,panelRef:Ee(null),dialogState:_,setTitleId(te){Y.value!==te&&(Y.value=te)},close(){e("close",!1)}};Kn(by,ve);let kt=Ne(()=>!(!E.value||A.value));q7(P,(te,ye)=>{ve.close(),qp(()=>ye==null?void 0:ye.focus())},kt);let Ae=Ne(()=>!(A.value||_.value!==0));$2((o=v.value)==null?void 0:o.defaultView,"keydown",te=>{Ae.value&&(te.defaultPrevented||te.key===V2.Escape&&(te.preventDefault(),te.stopPropagation(),ve.close()))});let G=Ne(()=>!(re.value||_.value!==0||y));return p$(v,G,te=>{var ye;return{containers:[...(ye=te.containers)!=null?ye:[],P]}}),Ni(te=>{if(_.value!==0)return;let ye=Jt(m);if(!ye)return;let dt=new ResizeObserver(et=>{for(let Xt of et){let tt=Xt.target.getBoundingClientRect();tt.x===0&&tt.y===0&&tt.width===0&&tt.height===0&&ve.close()}});dt.observe(ye),te(()=>dt.disconnect())}),()=>{let{id:te,open:ye,initialFocus:dt,...et}=t,Xt={...n,ref:m,id:te,role:"dialog","aria-modal":_.value===0?!0:void 0,"aria-labelledby":Y.value,"aria-describedby":j.value},tt={open:_.value===0};return fn(TA,{force:!0},()=>[fn(e$,()=>fn(n$,{target:m.value},()=>fn(TA,{force:!1},()=>fn(Du,{initialFocus:dt,containers:P,features:E.value?ur(Q.value,{parent:Du.features.RestoreFocus,leaf:Du.features.All&~Du.features.FocusLock}):Du.features.None},()=>fn(R,{},()=>Vi({ourProps:Xt,theirProps:{...et,...n},slot:tt,attrs:n,slots:r,visible:_.value===0,features:Bf.RenderStrategy|Bf.Static,name:"Dialog"})))))),fn(x)])}}}),C0=gt({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${rh()}`}},setup(t,{attrs:e,slots:n,expose:r}){let s=S0("DialogPanel");r({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,d={id:l,ref:s.panelRef,onClick:o};return Vi({ourProps:d,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),P0=gt({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${rh()}`}},setup(t,{attrs:e,slots:n}){let r=S0("DialogTitle");return kn(()=>{r.setTitleId(t.id),ai(()=>r.setTitleId(null))}),()=>{let{id:s,...o}=t;return Vi({ourProps:{id:s},theirProps:o,slot:{open:r.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),k0=a$;function v$(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function pv(t,...e){t&&e.length>0&&t.classList.add(...e)}function Bd(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Iy=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Iy||{});function y$(t,e){let n=oh();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:s}=getComputedStyle(t),[o,l]=[r,s].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,m)=>m-f);return d});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function AA(t,e,n,r,s,o){let l=oh(),c=o!==void 0?v$(o):()=>{};return Bd(t,...s),pv(t,...e,...n),l.nextFrame(()=>{Bd(t,...n),pv(t,...r),l.add(y$(t,d=>(Bd(t,...r,...e),pv(t,...s),c(d))))}),l.add(()=>Bd(t,...e,...n,...r,...s)),l.add(()=>c("cancelled")),l.dispose}function zs(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let O0=Symbol("TransitionContext");var _$=(t=>(t.Visible="visible",t.Hidden="hidden",t))(_$||{});function w$(){return Et(O0,null)!==null}function E$(){let t=Et(O0,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function b$(){let t=Et(N0,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let N0=Symbol("NestingContext");function em(t){return"children"in t?em(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function Q2(t){let e=Ee([]),n=Ee(!1);kn(()=>n.value=!0),ai(()=>n.value=!1);function r(o,l=us.Hidden){let c=e.value.findIndex(({id:d})=>d===o);c!==-1&&(ur(l,{[us.Unmount](){e.value.splice(c,1)},[us.Hidden](){e.value[c].state="hidden"}}),!em(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>r(o,us.Unmount)}return{children:e,register:s,unregister:r}}let J2=Bf.RenderStrategy,So=gt({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:r,expose:s}){let o=Ee(0);function l(){o.value|=ii.Opening,e("beforeEnter")}function c(){o.value&=~ii.Opening,e("afterEnter")}function d(){o.value|=ii.Closing,e("beforeLeave")}function f(){o.value&=~ii.Closing,e("afterLeave")}if(!w$()&&N7())return()=>fn(tm,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:d,onAfterLeave:f},r);let m=Ee(null),v=Ne(()=>t.unmount?us.Unmount:us.Hidden);s({el:m,$el:m});let{show:_,appear:E}=E$(),{register:A,unregister:y}=b$(),b=Ee(_.value?"visible":"hidden"),R={value:!0},P=rh(),F={value:!1},x=Q2(()=>{!F.value&&b.value!=="hidden"&&(b.value="hidden",y(P),f())});kn(()=>{let ve=A(P);ai(ve)}),Ni(()=>{if(v.value===us.Hidden&&P){if(_.value&&b.value!=="visible"){b.value="visible";return}ur(b.value,{hidden:()=>y(P),visible:()=>A(P)})}});let Q=zs(t.enter),re=zs(t.enterFrom),fe=zs(t.enterTo),ae=zs(t.entered),he=zs(t.leave),Ve=zs(t.leaveFrom),j=zs(t.leaveTo);kn(()=>{Ni(()=>{if(b.value==="visible"){let ve=Jt(m);if(ve instanceof Comment&&ve.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function Y(ve){let kt=R.value&&!E.value,Ae=Jt(m);!Ae||!(Ae instanceof HTMLElement)||kt||(F.value=!0,_.value&&l(),_.value||d(),ve(_.value?AA(Ae,Q,re,fe,ae,G=>{F.value=!1,G===Iy.Finished&&c()}):AA(Ae,he,Ve,j,ae,G=>{F.value=!1,G===Iy.Finished&&(em(x)||(b.value="hidden",y(P),f()))})))}return kn(()=>{rr([_],(ve,kt,Ae)=>{Y(Ae),R.value=!1},{immediate:!0})}),Kn(N0,x),D7(Ne(()=>ur(b.value,{visible:ii.Open,hidden:ii.Closed})|o.value)),()=>{let{appear:ve,show:kt,enter:Ae,enterFrom:G,enterTo:te,entered:ye,leave:dt,leaveFrom:et,leaveTo:Xt,...tt}=t,Fi={ref:m},Ui={...tt,...E.value&&_.value&&sh.isServer?{class:ui([n.class,tt.class,...Q,...re])}:{}};return Vi({theirProps:Ui,ourProps:Fi,slot:{},slots:r,attrs:n,features:J2,visible:b.value==="visible",name:"TransitionChild"})}}}),I$=So,tm=gt({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:r}){let s=T0(),o=Ne(()=>t.show===null&&s!==null?(s.value&ii.Open)===ii.Open:t.show);Ni(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=Ee(o.value?"visible":"hidden"),c=Q2(()=>{l.value="hidden"}),d=Ee(!0),f={show:o,appear:Ne(()=>t.appear||!d.value)};return kn(()=>{Ni(()=>{d.value=!1,o.value?l.value="visible":em(c)||(l.value="hidden")})}),Kn(N0,c),Kn(O0,f),()=>{let m=M2(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return Vi({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[fn(I$,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...m},r.default)]},attrs:{},features:J2,visible:l.value==="visible",name:"Transition"})}}});const T$=q("div",{class:"fixed inset-0 bg-black/25"},null,-1),A$={class:"fixed inset-0 overflow-y-auto"},S$={class:"flex min-h-full items-center justify-center p-4 text-center"},R$=q("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),C$=gt({__name:"AddAdModal",setup(t){const{modals:e}=Di(Zp()),{profile:n}=Di(bn()),r=bn().ACCOUNT_TYPES,s=Ee(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(Ze(),An(_e(tm),{appear:"",show:s.value,as:"template"},{default:Ye(()=>[De(_e(R0),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Ye(()=>[De(_e(So),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ye(()=>[T$]),_:1}),q("div",A$,[q("div",S$,[De(_e(So),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ye(()=>[De(_e(C0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ye(()=>{var d,f;return[De(_e(P0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ye(()=>[Vn(" New Ad ")]),_:1}),De(_e(k0),{class:"mt-2 mb-4"},{default:Ye(()=>[R$]),_:1}),((d=_e(n))==null?void 0:d.accountType)===_e(r).SELLER?(Ze(),An(E7,{key:0,onClose:c[0]||(c[0]=m=>o(!1))})):ti("",!0),((f=_e(n))==null?void 0:f.accountType)===_e(r).BUYER?(Ze(),An(C7,{key:1,onClose:c[1]||(c[1]=m=>o(!1))})):ti("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),P$={class:"space-y-4 mb-4"},k$=q("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),O$={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},N$=["src"],D$=["onClick"],x$=["src"],L$=["onClick"],M$=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),V$=q("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),F$=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),U$=q("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),B$=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),j$={class:"flex justify-end space-x-2 mt-4"},$$=5*1024*1024,H$=gt({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=e;Di(bn());const s=Ee([]),o=Ee(null),l=()=>{const E=o.value.files;for(let A=0;A<E.length;A++){const y=E[A];if(y.size>$$){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=R=>{s.value.push({file:y,url:R.target.result})},b.readAsDataURL(y)}},c=E=>{s.value.splice(E,1)},d=E=>{m.resizedImages.splice(E,1)},f=JSON.parse(JSON.stringify(n.ad)),m=pi({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=Ee(!1),_=async()=>{v.value=!0;const E=Object.keys(m).reduce((A,y)=>(m[y]!==n.ad[y]&&(A[y]=m[y]),A),{});if(o.value.files.length>0){const A=s.value.map(y=>y.url.split(",")[1]);E.newImages=A}await bn().editUserAd({changes:E,adId:n.ad.id}),v.value=!1,r("close")};return(E,A)=>(Ze(),Fn(Rt,null,[q("div",P$,[k$,q("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),q("div",O$,[(Ze(!0),Fn(Rt,null,sy(s.value,(y,b)=>(Ze(),Fn("div",{key:b,class:"mr-2 relative"},[q("img",{src:y.url,class:"w-16 h-16 object-cover"},null,8,N$),q("button",{onClick:R=>c(b)},"Remove",8,D$)]))),128)),(Ze(!0),Fn(Rt,null,sy(m.resizedImages,(y,b)=>(Ze(),Fn("div",{key:b,class:"mr-2 relative"},[q("img",{src:y,class:"w-16 h-16 object-cover"},null,8,x$),q("button",{onClick:R=>d(b)},"Remove",8,L$)]))),128))]),M$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":A[0]||(A[0]=y=>m.type=y)},null,512),[[Ht,m.type]]),V$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":A[1]||(A[1]=y=>m.variety=y)},null,512),[[Ht,m.variety]]),F$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":A[2]||(A[2]=y=>m.yieldTonnage=y)},null,512),[[Ht,m.yieldTonnage]]),U$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":A[3]||(A[3]=y=>m.expectedHarvestDate=y)},null,512),[[Ht,m.expectedHarvestDate]]),B$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":A[4]||(A[4]=y=>m.price=y)},null,512),[[Ht,m.price]])]),q("div",j$,[q("button",{onClick:A[5]||(A[5]=y=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(ih,{onClick:_,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:v.value},{default:Ye(()=>[Vn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),q$={class:"space-y-4 mb-4"},W$=q("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),K$=q("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),G$=q("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),z$=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),Y$={class:"flex justify-end space-x-2 mt-4"},Q$=gt({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,r=e;Di(bn());const s=JSON.parse(JSON.stringify(n.ad)),o=pi({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=Ee(!1),c=async()=>{l.value=!0;const d=Object.keys(o).reduce((f,m)=>(o[m]!==n.ad[m]&&(f[m]=o[m]),f),{});await bn().editUserAd({changes:d,adId:n.ad.id}),l.value=!1,r("close")};return(d,f)=>(Ze(),Fn(Rt,null,[q("div",q$,[W$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=m=>o.type=m)},null,512),[[Ht,o.type]]),K$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=m=>o.yieldTonnage=m)},null,512),[[Ht,o.yieldTonnage]]),G$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=m=>o.requestDate=m)},null,512),[[Ht,o.requestDate]]),z$,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=m=>o.price=m)},null,512),[[Ht,o.price]])]),q("div",Y$,[q("button",{onClick:f[4]||(f[4]=m=>d.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(ih,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Ye(()=>[Vn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),J$=q("div",{class:"fixed inset-0 bg-black/25"},null,-1),X$={class:"fixed inset-0 overflow-y-auto"},Z$={class:"flex min-h-full items-center justify-center p-4 text-center"},e8=q("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),t8=gt({__name:"EditAdModal",setup(t){const{modals:e}=Di(Zp()),{profile:n}=Di(bn()),r=bn().ACCOUNT_TYPES,s=Ee(!0);function o(l){s.value=l,e.value.editad=l}return(l,c)=>(Ze(),An(_e(tm),{appear:"",show:s.value,as:"template"},{default:Ye(()=>[De(_e(R0),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Ye(()=>[De(_e(So),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ye(()=>[J$]),_:1}),q("div",X$,[q("div",Z$,[De(_e(So),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ye(()=>[De(_e(C0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ye(()=>{var d,f;return[De(_e(P0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ye(()=>[Vn(" Edit Ad ")]),_:1}),De(_e(k0),{class:"mt-2 mb-4"},{default:Ye(()=>[e8]),_:1}),((d=_e(n))==null?void 0:d.accountType)===_e(r).SELLER?(Ze(),An(H$,{key:0,onClose:c[0]||(c[0]=m=>o(!1)),ad:_e(e).context},null,8,["ad"])):ti("",!0),((f=_e(n))==null?void 0:f.accountType)===_e(r).BUYER?(Ze(),An(Q$,{key:1,onClose:c[1]||(c[1]=m=>o(!1)),ad:_e(e).context},null,8,["ad"])):ti("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),n8={class:"space-y-4 mb-4"},i8=q("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),r8={class:"flex justify-end space-x-2 mt-4"},s8=gt({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=pi({adId:t.adId,price:0}),o=Ee(!1),l=async()=>{o.value=!0,c()?(await bn().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(d,f)=>(Ze(),Fn(Rt,null,[q("div",n8,[i8,$t(q("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=m=>s.price=m)},null,512),[[Ht,s.price]])]),q("div",r8,[q("button",{onClick:f[1]||(f[1]=m=>d.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),De(ih,{onClick:l,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:o.value},{default:Ye(()=>[Vn(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),o8=q("div",{class:"fixed inset-0 bg-black/25"},null,-1),a8={class:"fixed inset-0 overflow-y-auto"},l8={class:"flex min-h-full items-center justify-center p-4 text-center"},u8=q("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),c8=gt({__name:"AddBidModal",setup(t){const{modals:e}=Di(Zp()),n=Ee(!0);function r(l){n.value=l,e.value.addad=l}const s=N2(),o=Ee("");return kn(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(Ze(),An(_e(tm),{appear:"",show:n.value,as:"template"},{default:Ye(()=>[De(_e(R0),{as:"div",onClose:c[1]||(c[1]=d=>r(!1)),class:"relative z-10"},{default:Ye(()=>[De(_e(So),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ye(()=>[o8]),_:1}),q("div",a8,[q("div",l8,[De(_e(So),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ye(()=>[De(_e(C0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ye(()=>[De(_e(P0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ye(()=>[Vn(" Place bid ")]),_:1}),De(_e(k0),{class:"mt-2 mb-4"},{default:Ye(()=>[u8]),_:1}),De(s8,{onClose:c[0]||(c[0]=d=>r(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),h8={class:"bg-blue-900 text-white p-4"},d8={class:"container mx-auto flex justify-between items-center"},f8=q("div",{class:"flex items-center"},[q("img",{src:ij,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),q("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),p8={class:"space-x-4"},m8={class:"w-full"},g8=gt({__name:"App",setup(t){const{profile:e}=Di(bn()),{modals:n}=Di(Zp()),r=Ee(0),s=N2();s.beforeEach((l,c,d)=>{l.matched.some(m=>m.meta.requiresAuth)&&!e.value?d("/signup"):d()});const o=async()=>{await bn().signout(),s.push("/signup")};return(l,c)=>(Ze(),Fn(Rt,null,[q("header",h8,[q("div",d8,[f8,q("nav",p8,[De(_e(Qs),{class:ui(["hover:underline",{"bg-blue-700 text-white":r.value==0}]),to:"/",onClick:c[0]||(c[0]=d=>r.value=0)},{default:Ye(()=>[Vn("Home")]),_:1},8,["class"]),_e(e)?(Ze(),An(_e(Qs),{key:0,class:ui(["hover:underline",{"bg-blue-700 text-white":r.value==1}]),to:"/userboard",onClick:c[1]||(c[1]=d=>r.value=1)},{default:Ye(()=>[Vn("Dashboard")]),_:1},8,["class"])):ti("",!0),_e(e)?ti("",!0):(Ze(),An(_e(Qs),{key:1,class:ui(["hover:underline",{"bg-blue-700 text-white":r.value==2}]),to:"/signup",onClick:c[2]||(c[2]=d=>r.value=2)},{default:Ye(()=>[Vn("Signin")]),_:1},8,["class"])),_e(e)?(Ze(),An(_e(Qs),{key:2,class:ui(["hover:underline",{"bg-blue-700 text-white":r.value==3}]),to:"/profile",onClick:c[3]||(c[3]=d=>r.value=3)},{default:Ye(()=>[Vn("Profile")]),_:1},8,["class"])):ti("",!0),_e(e)?(Ze(),An(_e(Qs),{key:3,class:ui(["hover:underline",{"bg-blue-700 text-white":r.value==4}]),to:"/feed",onClick:c[4]||(c[4]=d=>r.value=4)},{default:Ye(()=>[Vn("Feed")]),_:1},8,["class"])):ti("",!0),De(_e(Qs),{class:ui(["hover:underline",{"bg-blue-700 text-white":r.value==5}]),to:"/about",onClick:c[5]||(c[5]=d=>r.value=5)},{default:Ye(()=>[Vn("About")]),_:1},8,["class"]),q("a",{class:"hover:underline",onClick:o},"Signout")])])]),_e(n).addad?(Ze(),An(C$,{key:0})):ti("",!0),_e(n).editad?(Ze(),An(t8,{key:1})):ti("",!0),_e(n).addbid?(Ze(),An(c8,{key:2})):ti("",!0),q("div",m8,[De(_e(O2))])],64))}}),v8="modulepreload",y8=function(t){return"/"+t},SA={},ts=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=y8(o),o in SA)return;SA[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const v=s[m];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":v8,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},_8={};function w8(t,e){return Ze(),Fn("h1",null,"HomeView")}const E8=D2(_8,[["render",w8]]),b8=i7({history:Ej("/"),routes:[{path:"/",name:"home",component:E8},{path:"/signup",name:"signup",component:()=>ts(()=>import("./SignupView-b0d26477.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>ts(()=>import("./ProfileSetupView-28e134b6.js"),[])},{path:"/profile",name:"profile",component:()=>ts(()=>import("./UserProfileView-87080ff8.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>ts(()=>import("./AboutView-401cf282.js"),[])},{path:"/feed",name:"feed",component:()=>ts(()=>import("./FeedView-24063ac5.js"),["assets/FeedView-24063ac5.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-3f2d8771.js","assets/SellerAdCard-12820f94.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-50f0529e.js"])},{path:"/ad/:adId",name:"ad",component:()=>ts(()=>import("./AdView-56a07bf3.js"),["assets/AdView-56a07bf3.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-3f2d8771.js","assets/SellerAdCard-12820f94.css"]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>ts(()=>import("./UserBoardView-69366105.js"),["assets/UserBoardView-69366105.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-3f2d8771.js","assets/SellerAdCard-12820f94.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-50f0529e.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>ts(()=>import("./MessagingView-5dcf57f4.js"),[]),meta:{requiresAuth:!0},props:!0}]});let ao,mv;kL(yP,async t=>{if(t){try{mv=await Zv("users",t.uid),mv&&(ao||gv(),bn().setProfile(mv))}catch(e){console.log("Error getting profile",e)}ao||gv(),console.log("User is signed in"),bn().setUser(t)}else ao||gv(),console.log("User is signed out")});const gv=()=>{ao=jB(g8),ao.use(qB()),ao.use(b8),ao.mount("#app")};export{Et as $,U8 as A,Zp as B,ih as C,V8 as D,Is as E,Rt as F,N8 as G,Za as H,Sf as I,as as J,j_ as K,a7 as L,Io as M,Ni as N,Jt as O,fn as P,jf as Q,_y as R,Ne as S,H7 as T,Kn as U,rr as V,Vi as W,M2 as X,rh as Y,ai as Z,D2 as _,bn as a,Bf as a0,ur as a1,V2 as a2,U2 as a3,A0 as a4,wl as a5,Xd as a6,ss as a7,L8 as a8,ui as a9,l0 as aa,L5 as ab,x8 as ac,B_ as ad,O8 as ae,k8 as af,BC as ag,P8 as ah,D8 as b,C5 as c,gt as d,Ze as e,Fn as f,q as g,Ee as h,Vn as i,$8 as j,sy as k,_e as l,M8 as m,j8 as n,kn as o,De as p,Ye as q,pi as r,Di as s,B8 as t,N2 as u,Ht as v,$t as w,ti as x,An as y,F8 as z};

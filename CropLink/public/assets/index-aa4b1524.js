(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},oS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,m=o>>2,v=(o&3)<<4|c>>4;let _=(c&15)<<2|f>>6,E=f&63;d||(E=64,l||(_=64)),i.push(n[m],n[v],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||f==null||v==null)throw new cD;const _=o<<2|c>>4;if(i.push(_),f!==64){const E=c<<4&240|f>>2;if(i.push(E),v!==64){const I=f<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hD=function(t){const e=sS(t);return oS.encodeByteArray(e,!0)},mf=function(t){return hD(t).replace(/\./g,"")},aS=function(t){try{return oS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dD(n)||(t[n]=gf(t[n],e[n]));return t}function dD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=()=>fD().__FIREBASE_DEFAULTS__,mD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aS(t[1]);return e&&JSON.parse(e)},ip=()=>{try{return pD()||mD()||gD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lS=t=>{var e,n;return(n=(e=ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yy=t=>{const e=lS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},uS=()=>{var t;return(t=ip())===null||t===void 0?void 0:t.config},cS=t=>{var e;return(e=ip())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[mf(JSON.stringify(n)),mf(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function dS(){var t;const e=(t=ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _D(){return typeof self=="object"&&self.self===self}function fS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pS(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vf(){try{return typeof indexedDB=="object"}catch{return!1}}function wD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="FirebaseError";class bn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ED,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?bD(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new bn(s,c,i)}}function bD(t,e){return t.replace(ID,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const ID=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function TD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(mI(o)&&mI(l)){if(!yf(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function mI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Va(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mS(t,e){const n=new AD(t,e);return n.subscribe.bind(n)}class AD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");SD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Zg),s.error===void 0&&(s.error=Zg),s.complete===void 0&&(s.complete=Zg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new vD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PD(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RD(t){return t===so?void 0:t}function PD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=[];var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const gS={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},ND=$e.INFO,OD={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},DD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=OD[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=ND,this._logHandler=DD,this._userLogHandler=null,Jy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}function xD(t){Jy.forEach(e=>{e.setLogLevel(t)})}function LD(t,e){for(const n of Jy){let i=null;e&&e.level&&(i=gS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,o,...l)=>{const c=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??s.logLevel)&&t({level:$e[o].toLowerCase(),message:c,args:l,type:s.name})}}}const MD=(t,e)=>e.some(n=>t instanceof n);let gI,vI;function VD(){return gI||(gI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return vI||(vI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,Fv=new WeakMap,yS=new WeakMap,ev=new WeakMap,Xy=new WeakMap;function UD(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ws(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&vS.set(n,t)}).catch(()=>{}),Xy.set(e,t),e}function BD(t){if(Fv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Fv.set(t,e)}let Uv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Uv=t(Uv)}function $D(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(tv(this),e,...n);return yS.set(i,e.sort?e.sort():[e]),ws(i)}:FD().includes(t)?function(...e){return t.apply(tv(this),e),ws(vS.get(this))}:function(...e){return ws(t.apply(tv(this),e))}}function HD(t){return typeof t=="function"?$D(t):(t instanceof IDBTransaction&&BD(t),MD(t,VD())?new Proxy(t,Uv):t)}function ws(t){if(t instanceof IDBRequest)return UD(t);if(ev.has(t))return ev.get(t);const e=HD(t);return e!==t&&(ev.set(t,e),Xy.set(e,t)),e}const tv=t=>Xy.get(t);function qD(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=ws(l);return i&&l.addEventListener("upgradeneeded",d=>{i(ws(l.result),d.oldVersion,d.newVersion,ws(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const WD=["get","getKey","getAll","getAllKeys","count"],KD=["put","add","delete","clear"],nv=new Map;function yI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nv.get(e))return nv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=KD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||WD.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return nv.set(e,o),o}jD(t=>({...t,get:(e,n,i)=>yI(e,n)||t.get(e,n,i),has:(e,n)=>!!yI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bv="@firebase/app",_I="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new rp("@firebase/app"),YD="@firebase/app-compat",QD="@firebase/analytics-compat",JD="@firebase/analytics",XD="@firebase/app-check-compat",ZD="@firebase/app-check",ex="@firebase/auth",tx="@firebase/auth-compat",nx="@firebase/database",ix="@firebase/database-compat",rx="@firebase/functions",sx="@firebase/functions-compat",ox="@firebase/installations",ax="@firebase/installations-compat",lx="@firebase/messaging",ux="@firebase/messaging-compat",cx="@firebase/performance",hx="@firebase/performance-compat",dx="@firebase/remote-config",fx="@firebase/remote-config-compat",px="@firebase/storage",mx="@firebase/storage-compat",gx="@firebase/firestore",vx="@firebase/firestore-compat",yx="firebase",_x="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]",wx={[Bv]:"fire-core",[YD]:"fire-core-compat",[JD]:"fire-analytics",[QD]:"fire-analytics-compat",[ZD]:"fire-app-check",[XD]:"fire-app-check-compat",[ex]:"fire-auth",[tx]:"fire-auth-compat",[nx]:"fire-rtdb",[ix]:"fire-rtdb-compat",[rx]:"fire-fn",[sx]:"fire-fn-compat",[ox]:"fire-iid",[ax]:"fire-iid-compat",[lx]:"fire-fcm",[ux]:"fire-fcm-compat",[cx]:"fire-perf",[hx]:"fire-perf-compat",[dx]:"fire-rc",[fx]:"fire-rc-compat",[px]:"fire-gcs",[mx]:"fire-gcs-compat",[gx]:"fire-fst",[vx]:"fire-fst-compat","fire-js":"fire-js",[yx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Map,vc=new Map;function _f(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _S(t,e){t.container.addOrOverwriteComponent(e)}function ur(t){const e=t.name;if(vc.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;vc.set(e,t);for(const n of As.values())_f(n,t);return!0}function Fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ex(t,e,n=Ts){Fo(t,e).clearInstance(n)}function bx(){vc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Rr=new Vo("app","Firebase",Ix);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tx=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=_x;function sp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ts,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Rr.create("bad-app-name",{appName:String(s)});if(n||(n=uS()),!n)throw Rr.create("no-options");const o=As.get(s);if(o){if(yf(n,o.options)&&yf(i,o.config))return o;throw Rr.create("duplicate-app",{appName:s})}const l=new kD(s);for(const d of vc.values())l.addComponent(d);const c=new Tx(n,i,l);return As.set(s,c),c}function qc(t=Ts){const e=As.get(t);if(!e&&t===Ts&&uS())return sp();if(!e)throw Rr.create("no-app",{appName:t});return e}function Ax(){return Array.from(As.values())}async function wS(t){const e=t.name;As.has(e)&&(As.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function $n(t,e,n){var i;let s=(i=wx[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(c.join(" "));return}ur(new Oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function ES(t,e){if(t!==null&&typeof t!="function")throw Rr.create("invalid-log-argument");LD(t,e)}function bS(t){xD(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebase-heartbeat-database",Cx=1,yc="firebase-heartbeat-store";let iv=null;function IS(){return iv||(iv=qD(Sx,Cx,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yc)}}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),iv}async function Rx(t){try{return await(await IS()).transaction(yc).objectStore(yc).get(TS(t))}catch(e){if(e instanceof bn)Co.warn(e.message);else{const n=Rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function wI(t,e){try{const i=(await IS()).transaction(yc,"readwrite");await i.objectStore(yc).put(e,TS(t)),await i.done}catch(n){if(n instanceof bn)Co.warn(n.message);else{const i=Rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(i.message)}}}function TS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=1024,kx=30*24*60*60*1e3;class Nx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=EI();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=kx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EI(),{heartbeatsToSend:n,unsentEntries:i}=Ox(this._heartbeatsCache.heartbeats),s=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function EI(){return new Date().toISOString().substring(0,10)}function Ox(t,e=Px){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),bI(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bI(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vf()?wD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Rx(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return wI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function bI(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){ur(new Oi("platform-logger",e=>new GD(e),"PRIVATE")),ur(new Oi("heartbeat",e=>new Nx(e),"PRIVATE")),$n(Bv,_I,t),$n(Bv,_I,"esm2017"),$n("fire-js","")}xx("");const Lx=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:bn,SDK_VERSION:Ur,_DEFAULT_ENTRY_NAME:Ts,_addComponent:_f,_addOrOverwriteComponent:_S,_apps:As,_clearComponents:bx,_components:vc,_getProvider:Fo,_registerComponent:ur,_removeServiceInstance:Ex,deleteApp:wS,getApp:qc,getApps:Ax,initializeApp:sp,onLog:ES,registerVersion:$n,setLogLevel:bS},Symbol.toStringTag,{value:"Module"}));function Zy(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}const Mu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Pa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function AS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vx=Mx,Fx=AS,SS=new Vo("auth","Firebase",AS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new rp("@firebase/auth");function Ux(t,...e){wf.logLevel<=$e.WARN&&wf.warn(`Auth (${Ur}): ${t}`,...e)}function nf(t,...e){wf.logLevel<=$e.ERROR&&wf.error(`Auth (${Ur}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,...e){throw e_(t,...e)}function In(t,...e){return e_(t,...e)}function CS(t,e,n){const i=Object.assign(Object.assign({},Fx()),{[e]:n});return new Vo("auth","Firebase",i).create(e,{appName:t.name})}function _l(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&mn(t,"argument-error"),CS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return SS.create(t,...e)}function z(t,e,...n){if(!t)throw e_(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nf(e),new Error(e)}function Di(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t_(){return II()==="http:"||II()==="https:"}function II(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t_()||fS()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=yD()||Qy()}get(){return Bx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Wc(3e4,6e4);function Ut(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jt(t,e,n,i,s={}){return PS(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=yl(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),RS.fetch()(kS(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function PS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},$x),e);try{const s=new Wx(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw zu(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw zu(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw zu(t,"user-disabled",l);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw CS(t,m,f);mn(t,m)}}catch(s){if(s instanceof bn)throw s;mn(t,"network-request-failed",{message:String(s)})}}async function Br(t,e,n,i,s={}){const o=await Jt(t,e,n,i,s);return"mfaPendingCredential"in o&&mn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function kS(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?n_(t.config,s):`${t.config.apiScheme}://${s}`}function qx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(In(this.auth,"network-request-failed")),Hx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=In(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){return t!==void 0&&t.getResponse!==void 0}function AI(t){return t!==void 0&&t.enterprise!==void 0}class Kx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t){return(await Jt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function zx(t,e){return Jt(t,"GET","/v2/recaptchaConfig",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t,e){return Jt(t,"POST","/v1/accounts:delete",e)}async function Qx(t,e){return Jt(t,"POST","/v1/accounts:update",e)}async function Jx(t,e){return Jt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xx(t,e=!1){const n=Ae(t),i=await n.getIdToken(e),s=op(i);z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:ic(rv(s.auth_time)),issuedAtTime:ic(rv(s.iat)),expirationTime:ic(rv(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rv(t){return Number(t)*1e3}function op(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return nf("JWT malformed, contained fewer than 3 sections"),null;try{const s=aS(n);return s?JSON.parse(s):(nf("Failed to decode base64 JWT payload"),null)}catch(s){return nf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Zx(t){const e=op(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof bn&&eL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function eL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Dr(t,Jx(n,{idToken:i}));z(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rL(o.providerUserInfo):[],c=iL(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new NS(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function nL(t){const e=Ae(t);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function rL(t){return t.map(e=>{var{providerId:n}=e,i=Zy(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e){const n=await PS(t,{},async()=>{const i=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=kS(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",RS.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await sL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Ec;return i&&(z(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(z(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(z(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wo{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=Zy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new NS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Dr(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Xx(this,e)}reload(){return nL(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Dr(this,Yx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,d,f,m;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=n.photoURL)!==null&&l!==void 0?l:void 0,y=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:x,isAnonymous:Y,providerData:oe,stsTokenManager:de}=n;z(M&&de,e,"internal-error");const q=Ec.fromJSON(this.name,de);z(typeof M=="string",e,"internal-error"),os(v,e.name),os(_,e.name),z(typeof x=="boolean",e,"internal-error"),z(typeof Y=="boolean",e,"internal-error"),os(E,e.name),os(I,e.name),os(y,e.name),os(b,e.name),os(C,e.name),os(P,e.name);const ee=new wo({uid:M,auth:e,email:_,emailVerified:x,displayName:v,isAnonymous:Y,photoURL:I,phoneNumber:E,tenantId:y,stsTokenManager:q,createdAt:C,lastLoginAt:P});return oe&&Array.isArray(oe)&&(ee.providerData=oe.map(ge=>Object.assign({},ge))),b&&(ee._redirectEventId=b),ee}static async _fromIdTokenResponse(e,n,i=!1){const s=new Ec;s.updateFromServerResponse(n);const o=new wo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await wc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;function ui(t){Di(t instanceof Function,"Expected a class definition");let e=SI.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OS.type="NONE";const Ja=OS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Eo(this.userKey,s.apiKey,o),this.fullPersistenceKey=Eo("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ua(ui(Ja),e,i);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ui(Ja);const l=Eo(i,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(l);if(m){const v=wo._fromJSON(e,m);f!==o&&(c=v),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ua(o,e,i):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ua(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MS(e))return"Blackberry";if(VS(e))return"Webos";if(i_(e))return"Safari";if((e.includes("chrome/")||xS(e))&&!e.includes("edge/"))return"Chrome";if(Kc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function DS(t=Qt()){return/firefox\//i.test(t)}function i_(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xS(t=Qt()){return/crios\//i.test(t)}function LS(t=Qt()){return/iemobile/i.test(t)}function Kc(t=Qt()){return/android/i.test(t)}function MS(t=Qt()){return/blackberry/i.test(t)}function VS(t=Qt()){return/webos/i.test(t)}function wl(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oL(t=Qt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function aL(t=Qt()){var e;return wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lL(){return pS()&&document.documentMode===10}function FS(t=Qt()){return wl(t)||Kc(t)||VS(t)||MS(t)||/windows phone/i.test(t)||LS(t)}function uL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e=[]){let n;switch(t){case"Browser":n=CI(Qt());break;case"Worker":n=`${CI(Qt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ur}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return Jt(t,"GET","/v2/passwordPolicy",Ut(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=6;class fL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:dL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new cL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ae(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hL(this),n=new fL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ux(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dt(t){return Ae(t)}class RI{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function r_(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=In("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",mL().appendChild(i)})}function BS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const gL="https://www.google.com/recaptcha/enterprise.js?render=",vL="recaptcha-enterprise",yL="NO_RECAPTCHA";class _L{constructor(e){this.type=vL,this.auth=Dt(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{zx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new Kx(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;AI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(yL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(c=>{if(!n&&AI(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}r_(gL+c).then(()=>{s(c,o,l)}).catch(d=>{l(d)})}}).catch(c=>{l(c)})})}}async function PI(t,e,n,i=!1){const s=new _L(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ap(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await PI(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await PI(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){const n=Fo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(yf(o,e??{}))return s;mn(s,"already-initialized")}return n.initialize({options:e})}function EL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function jS(t,e,n){const i=Dt(t);z(i._canInitEmulator,i,"emulator-config-failed"),z(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=$S(e),{host:l,port:c}=bL(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||IL()}function $S(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bL(t){const e=$S(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:kI(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:kI(l)}}}function kI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e){return Jt(t,"POST","/v1/accounts:resetPassword",Ut(t,e))}async function qS(t,e){return Jt(t,"POST","/v1/accounts:update",e)}async function TL(t,e){return Jt(t,"POST","/v1/accounts:update",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){return Br(t,"POST","/v1/accounts:signInWithPassword",Ut(t,e))}async function lp(t,e){return Jt(t,"POST","/v1/accounts:sendOobCode",Ut(t,e))}async function SL(t,e){return lp(t,e)}async function CL(t,e){return lp(t,e)}async function RL(t,e){return lp(t,e)}async function PL(t,e){return lp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return Br(t,"POST","/v1/accounts:signInWithEmailLink",Ut(t,e))}async function NL(t,e){return Br(t,"POST","/v1/accounts:signInWithEmailLink",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends El{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new bc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,n,"signInWithPassword",AL);case"emailLink":return kL(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return qS(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return NL(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pr(t,e){return Br(t,"POST","/v1/accounts:signInWithIdp",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="http://localhost";class cr extends El{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,o=Zy(n,["providerId","signInMethod"]);if(!i||!s)return null;const l=new cr(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Pr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Pr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pr(e,n)}buildRequest(){const e={requestUri:OL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e){return Jt(t,"POST","/v1/accounts:sendVerificationCode",Ut(t,e))}async function xL(t,e){return Br(t,"POST","/v1/accounts:signInWithPhoneNumber",Ut(t,e))}async function LL(t,e){const n=await Br(t,"POST","/v1/accounts:signInWithPhoneNumber",Ut(t,e));if(n.temporaryProof)throw zu(t,"account-exists-with-different-credential",n);return n}const ML={USER_NOT_FOUND:"user-not-found"};async function VL(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Br(t,"POST","/v1/accounts:signInWithPhoneNumber",Ut(t,n),ML)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends El{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new bo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new bo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return xL(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return LL(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return VL(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!n&&!s&&!o?null:new bo({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UL(t){const e=Va(Gu(t)).link,n=e?Va(Gu(e)).deep_link_id:null,i=Va(Gu(t)).deep_link_id;return(i?Va(Gu(i)).link:null)||i||n||e||t}class up{constructor(e){var n,i,s,o,l,c;const d=Va(Gu(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(i=d.oobCode)!==null&&i!==void 0?i:null,v=FL((s=d.mode)!==null&&s!==void 0?s:null);z(f&&m&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=UL(e);try{return new up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=up.parseLink(n);return z(i,"argument-error"),bc._fromEmailAndCode(e,i.code,i.tenantId)}}Ns.PROVIDER_ID="password";Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ba extends bl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return z("providerId"in n&&"signInMethod"in n,"argument-error"),cr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return z(e.idToken||e.accessToken,"argument-error"),cr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ba.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ba.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:l,providerId:c}=e;if(!i&&!s&&!n&&!o||!c)return null;try{return new Ba(c)._credential({idToken:n,accessToken:i,nonce:l,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends bl{constructor(){super("facebook.com")}static credential(e){return cr._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Zi.credential(n,i)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends bl{constructor(){super("github.com")}static credential(e){return cr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.GITHUB_SIGN_IN_METHOD="github.com";er.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="http://localhost";class Xa extends El{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Pr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Pr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new Xa(i,o)}static _create(e,n){return new Xa(e,n)}buildRequest(){return{requestUri:BL,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="saml.";class Ef extends jr{constructor(e){z(e.startsWith(jL),"argument-error"),super(e)}static credentialFromResult(e){return Ef.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ef.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Xa.fromJSON(e);return z(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return Xa._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends bl{constructor(){super("twitter.com")}static credential(e,n){return cr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return tr.credential(n,i)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(t,e){return Br(t,"POST","/v1/accounts:signUp",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await wo._fromIdTokenResponse(e,i,s),l=NI(i);return new wi({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=NI(i);return new wi({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function NI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t){var e;const n=Dt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new wi({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await WS(n,{returnSecureToken:!0}),s=await wi._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends bn{constructor(e,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new bf(e,n,i,s)}}function KS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(t,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){const n=Ae(t);await cp(!0,n,e);const{providerUserInfo:i}=await Qx(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=GS(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function s_(t,e,n=!1){const i=await Dr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wi._forOperation(t,"link",i)}async function cp(t,e,n){await wc(e);const i=GS(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";z(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const o=await Dr(t,KS(i,s,e,t),n);z(o.idToken,i,"internal-error");const l=op(o.idToken);z(l,i,"internal-error");const{sub:c}=l;return z(t.uid===c,i,"user-mismatch"),wi._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&mn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e,n=!1){const i="signIn",s=await KS(t,i,e),o=await wi._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function hp(t,e){return YS(Dt(t),e)}async function QS(t,e){const n=Ae(t);return await cp(!1,n,e.providerId),s_(n,e)}async function JS(t,e){return zS(Ae(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e){return Br(t,"POST","/v1/accounts:signInWithCustomToken",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e){const n=Dt(t),i=await qL(n,{token:e,returnSecureToken:!0}),s=await wi._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?o_._fromServerResponse(e,n):"totpInfo"in n?a_._fromServerResponse(e,n):mn(e,"internal-error")}}class o_ extends Gc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new o_(n)}}class a_ extends Gc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new a_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t,e,n){var i;z(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),z(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(z(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(z(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l_(t){const e=Dt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KL(t,e,n){const i=Dt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&dp(i,s,n),await ap(i,s,"getOobCode",CL)}async function GL(t,e,n){await HS(Ae(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&l_(t),i})}async function zL(t,e){await TL(Ae(t),{oobCode:e})}async function XS(t,e){const n=Ae(t),i=await HS(n,{oobCode:e}),s=i.requestType;switch(z(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(i.mfaInfo,n,"internal-error");default:z(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=Gc._fromServerResponse(Dt(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function YL(t,e){const{data:n}=await XS(Ae(t),e);return n.email}async function QL(t,e,n){const i=Dt(t),l=await ap(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WS).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&l_(t),d}),c=await wi._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function JL(t,e,n){return hp(Ae(t),Ns.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&l_(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e,n){const i=Dt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(l,c){z(c.handleCodeInApp,i,"argument-error"),c&&dp(i,l,c)}o(s,n),await ap(i,s,"getOobCode",RL)}function ZL(t,e){const n=up.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function eM(t,e,n){const i=Ae(t),s=Ns.credentialWithLink(e,n||_c());return z(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),hp(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){return Jt(t,"POST","/v1/accounts:createAuthUri",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){const n=t_()?_c():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await tM(Ae(t),i);return s||[]}async function iM(t,e){const n=Ae(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&dp(n.auth,s,e);const{email:o}=await SL(n.auth,s);o!==t.email&&await t.reload()}async function rM(t,e,n){const i=Ae(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&dp(i.auth,o,n);const{email:l}=await PL(i.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){return Jt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Ae(t),o={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Dr(i,sM(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function aM(t,e){return ZS(Ae(t),e,null)}function lM(t,e){return ZS(Ae(t),null,e)}async function ZS(t,e,n){const{auth:i}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const l=await Dr(t,qS(i,o));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const l=(n=(e=op(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(l){const c=l!=="anonymous"&&l!=="custom"?l:null;return new ja(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new cM(o,s);case"github.com":return new hM(o,s);case"google.com":return new dM(o,s);case"twitter.com":return new fM(o,s,t.screenName||null);case"custom":case"anonymous":return new ja(o,null);default:return new ja(o,i,s)}}class ja{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class eC extends ja{constructor(e,n,i,s){super(e,n,i),this.username=s}}class cM extends ja{constructor(e,n){super(e,"facebook.com",n)}}class hM extends eC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class dM extends ja{constructor(e,n){super(e,"google.com",n)}}class fM extends eC{constructor(e,n,i){super(e,"twitter.com",n,i)}}function pM(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:uM(n)}function mM(t,e,n,i){return Ae(t).onIdTokenChanged(e,n,i)}function gM(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function vM(t,e,n,i){return Ae(t).onAuthStateChanged(e,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new fo("enroll",e,n)}static _fromMfaPendingCredential(e){return new fo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return fo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return fo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=Dt(e),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>Gc._fromServerResponse(i,c));z(s.mfaPendingCredential,i,"internal-error");const l=fo._fromMfaPendingCredential(s.mfaPendingCredential);return new u_(l,o,async c=>{const d=await c._process(i,l);delete s.mfaInfo,delete s.mfaPendingCredential;const f=Object.assign(Object.assign({},s),{idToken:d.idToken,refreshToken:d.refreshToken});switch(n.operationType){case"signIn":const m=await wi._fromIdTokenResponse(i,n.operationType,f);return await i._updateCurrentUser(m.user),m;case"reauthenticate":return z(n.user,i,"internal-error"),wi._forOperation(n.user,n.operationType,f);default:mn(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function yM(t,e){var n;const i=Ae(t),s=e;return z(e.customData.operationType,i,"argument-error"),z((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),u_._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:start",Ut(t,e))}function wM(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(t,e))}function EM(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(t,e))}class c_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Gc._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new c_(e)}async getSession(){return fo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),o=await Dr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Dr(this.user,EM(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const sv=new WeakMap;function bM(t){const e=Ae(t);return sv.has(e)||sv.set(e,c_._fromUser(e)),sv.get(e)}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){const t=Qt();return i_(t)||wl(t)}const TM=1e3,AM=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=IM()&&uL(),this.fallbackToPolling=FS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);lL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,AM):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},TM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const fp=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iC.type="SESSION";const Ss=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new pp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await SM(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=zc("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return window}function RM(t){Wt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){return typeof Wt().WorkerGlobalScope<"u"&&typeof Wt().importScripts=="function"}async function PM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function NM(){return h_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebaseLocalStorageDb",OM=1,Tf="firebaseLocalStorage",sC="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mp(t,e){return t.transaction([Tf],e?"readwrite":"readonly").objectStore(Tf)}function DM(){const t=indexedDB.deleteDatabase(rC);return new Yc(t).toPromise()}function jv(){const t=indexedDB.open(rC,OM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Tf,{keyPath:sC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Tf)?e(i):(i.close(),await DM(),e(await jv()))})})}async function OI(t,e,n){const i=mp(t,!0).put({[sC]:e,value:n});return new Yc(i).toPromise()}async function xM(t,e){const n=mp(t,!1).get(e),i=await new Yc(n).toPromise();return i===void 0?null:i.value}function DI(t,e){const n=mp(t,!0).delete(e);return new Yc(n).toPromise()}const LM=800,MM=3;class oC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>MM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pp._getInstance(NM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PM(),!this.activeServiceWorker)return;this.sender=new CM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jv();return await OI(e,If,"1"),await DI(e,If),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>OI(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>xM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=mp(s,!1).getAll();return new Yc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oC.type="LOCAL";const Za=oC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){return Jt(t,"POST","/v2/accounts/mfaSignIn:start",Ut(t,e))}function FM(t,e){return Jt(t,"POST","/v2/accounts/mfaSignIn:finalize",Ut(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=500,BM=6e4,xd=1e12;class jM{constructor(e){this.auth=e,this.counter=xd,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new $M(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||xd;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||xd;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||xd;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class $M{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;z(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=HM(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},BM)},UM))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function HM(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=BS("rcb"),qM=new Wc(3e4,6e4),WM="https://www.google.com/recaptcha/api.js?";class KM{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Wt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return z(GM(n),e,"argument-error"),this.shouldResolveImmediately(n)&&TI(Wt().grecaptcha)?Promise.resolve(Wt().grecaptcha):new Promise((i,s)=>{const o=Wt().setTimeout(()=>{s(In(e,"network-request-failed"))},qM.get());Wt()[ov]=()=>{Wt().clearTimeout(o),delete Wt()[ov];const c=Wt().grecaptcha;if(!c||!TI(c)){s(In(e,"internal-error"));return}const d=c.render;c.render=(f,m)=>{const v=d(f,m);return this.counter++,v},this.hostLanguage=n,i(c)};const l=`${WM}?${yl({onload:ov,render:"explicit",hl:n})}`;r_(l).catch(()=>{clearTimeout(o),s(In(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Wt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function GM(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class zM{async load(e){return new jM(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="recaptcha",YM={theme:"light",type:"image"};let QM=class{constructor(e,n,i=Object.assign({},YM)){this.parameters=i,this.type=aC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(e),this.isInvisible=this.parameters.size==="invisible",z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;z(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zM:new KM,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const o=l=>{l&&(this.tokenChangeListeners.delete(o),s(l))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=Wt()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){z(t_()&&!h_(),this.auth,"internal-error"),await JM(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Gx(this.auth);z(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function JM(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=bo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function XM(t,e,n){const i=Dt(t),s=await gp(i,e,Ae(n));return new d_(s,o=>hp(i,o))}async function ZM(t,e,n){const i=Ae(t);await cp(!1,i,"phone");const s=await gp(i.auth,e,Ae(n));return new d_(s,o=>QS(i,o))}async function eV(t,e,n){const i=Ae(t),s=await gp(i.auth,e,Ae(n));return new d_(s,o=>JS(i,o))}async function gp(t,e,n){var i;const s=await n.verify();try{z(typeof s=="string",t,"argument-error"),z(n.type===aC,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const l=o.session;if("phoneNumber"in o)return z(l.type==="enroll",t,"internal-error"),(await _M(t,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{z(l.type==="signin",t,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return z(c,t,"missing-multi-factor-info"),(await VM(t,{mfaPendingCredential:l.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:l}=await DL(t,{phoneNumber:o.phoneNumber,recaptchaToken:s});return l}}finally{n._reset()}}async function tV(t,e){await s_(Ae(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=class rf{constructor(e){this.providerId=rf.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,n){return gp(this.auth,e,Ae(n))}static credential(e,n){return bo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return rf.credentialFromTaggedObject(n)}static credentialFromError(e){return rf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?bo._fromTokenResponse(n,i):null}};Ro.PROVIDER_ID="phone";Ro.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){return e?ui(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends El{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nV(t){return YS(t.auth,new f_(t),t.bypassAuthState)}function iV(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),zS(n,new f_(t),t.bypassAuthState)}async function rV(t){const{auth:e,user:n}=t;return z(n,e,"internal-error"),s_(n,new f_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return rV;case"reauthViaPopup":case"reauthViaRedirect":return iV;default:mn(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Wc(2e3,1e4);async function oV(t,e,n){const i=Dt(t);_l(t,e,jr);const s=Uo(i,n);return new Ar(i,"signInViaPopup",e,s).executeNotNull()}async function aV(t,e,n){const i=Ae(t);_l(i.auth,e,jr);const s=Uo(i.auth,n);return new Ar(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function lV(t,e,n){const i=Ae(t);_l(i.auth,e,jr);const s=Uo(i.auth,n);return new Ar(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class Ar extends lC{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Ar.currentPopupAction&&Ar.currentPopupAction.cancel(),Ar.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return z(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=zc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ar.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sV.get())};e()}}Ar.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="pendingRedirect",rc=new Map;class cV extends lC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const i=await hV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(t,e){const n=cC(e),i=uC(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function p_(t,e){return uC(t)._set(cC(e),"true")}function dV(){rc.clear()}function m_(t,e){rc.set(t._key(),e)}function uC(t){return ui(t._redirectPersistence)}function cC(t){return Eo(uV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e,n){return pV(t,e,n)}async function pV(t,e,n){const i=Dt(t);_l(t,e,jr),await i._initializationPromise;const s=Uo(i,n);return await p_(s,i),s._openRedirect(i,e,"signInViaRedirect")}function mV(t,e,n){return gV(t,e,n)}async function gV(t,e,n){const i=Ae(t);_l(i.auth,e,jr),await i.auth._initializationPromise;const s=Uo(i.auth,n);await p_(s,i.auth);const o=await hC(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function vV(t,e,n){return yV(t,e,n)}async function yV(t,e,n){const i=Ae(t);_l(i.auth,e,jr),await i.auth._initializationPromise;const s=Uo(i.auth,n);await cp(!1,i,e.providerId),await p_(s,i.auth);const o=await hC(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function _V(t,e){return await Dt(t)._initializationPromise,vp(t,e,!1)}async function vp(t,e,n=!1){const i=Dt(t),s=Uo(i,e),l=await new cV(i,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}async function hC(t){const e=zc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=10*60*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!fC(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(In(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wV&&this.cachedEventUids.clear(),this.cachedEventUids.has(xI(e))}saveEventToCache(e){this.cachedEventUids.add(xI(e)),this.lastProcessedEventTime=Date.now()}}function xI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(t,e={}){return Jt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IV=/^https?/;async function TV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pC(t);for(const n of e)try{if(AV(n))return}catch{}mn(t,"unauthorized-domain")}function AV(t){const e=_c(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!IV.test(n))return!1;if(bV.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Wc(3e4,6e4);function LI(){const t=Wt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CV(t){return new Promise((e,n)=>{var i,s,o;function l(){LI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LI(),n(In(t,"network-request-failed"))},timeout:SV.get()})}if(!((s=(i=Wt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Wt().gapi)===null||o===void 0)&&o.load)l();else{const c=BS("iframefcb");return Wt()[c]=()=>{gapi.load?l():n(In(t,"network-request-failed"))},r_(`https://apis.google.com/js/api.js?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw sf=null,e})}let sf=null;function RV(t){return sf=sf||CV(t),sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new Wc(5e3,15e3),kV="__/auth/iframe",NV="emulator/auth/iframe",OV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xV(t){const e=t.config;z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n_(e,NV):`https://${t.config.authDomain}/${kV}`,i={apiKey:e.apiKey,appName:t.name,v:Ur},s=DV.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${yl(i).slice(1)}`}async function LV(t){const e=await RV(t),n=Wt().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:xV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OV,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=In(t,"network-request-failed"),c=Wt().setTimeout(()=>{o(l)},PV.get());function d(){Wt().clearTimeout(c),s(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,FV=600,UV="_blank",BV="http://localhost";class MI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jV(t,e,n,i=VV,s=FV){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d=Object.assign(Object.assign({},MV),{width:i.toString(),height:s.toString(),top:o,left:l}),f=Qt().toLowerCase();n&&(c=xS(f)?UV:n),DS(f)&&(e=e||BV,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[E,I])=>`${_}${E}=${I},`,"");if(aL(f)&&c!=="_self")return $V(e||"",c),new MI(null);const v=window.open(e||"",c,m);z(v,t,"popup-blocked");try{v.focus()}catch{}return new MI(v)}function $V(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="__/auth/handler",qV="emulator/auth/handler",WV=encodeURIComponent("fac");async function $v(t,e,n,i,s,o){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ur,eventId:s};if(e instanceof jr){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",TD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries(o||{}))l[m]=v}if(e instanceof bl){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${WV}=${encodeURIComponent(d)}`:"";return`${KV(t)}?${yl(c).slice(1)}${f}`}function KV({config:t}){return t.emulator?n_(t,qV):`https://${t.authDomain}/${HV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="webStorageSupport";class GV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ss,this._completeRedirectFn=vp,this._overrideRedirectResult=m_}async _openPopup(e,n,i,s){var o;Di((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await $v(e,n,i,_c(),s);return jV(e,l,zc())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await $v(e,n,i,_c(),s);return RM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Di(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await LV(e),i=new dC(e);return n.register("authEvent",s=>(z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(av,{type:av},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[av];l!==void 0&&n(!!l),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FS()||i_()||wl()}}const mC=GV;class zV{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return rr("unexpected MultiFactorSessionType")}}}class g_ extends zV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new g_(e)}_finalizeEnroll(e,n,i){return wM(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return FM(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class gC{constructor(){}static assertion(e){return g_._fromCredential(e)}}gC.FACTOR_ID="phone";var VI="@firebase/auth",FI="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function JV(t){ur(new Oi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;z(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(t)},f=new pL(i,s,o,d);return EL(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ur(new Oi("auth-internal",e=>{const n=Dt(e.getProvider("auth").getImmediate());return(i=>new YV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(VI,FI,QV(t)),$n(VI,FI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=5*60,ZV=cS("authIdTokenMaxAge")||XV;let UI=null;const e4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ZV)return;const s=n==null?void 0:n.token;UI!==s&&(UI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vC(t=qc()){const e=Fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wL(t,{popupRedirectResolver:mC,persistence:[Za,fp,Ss]}),i=cS("authTokenSyncURL");if(i){const o=e4(i);gM(n,o,()=>o(n.currentUser)),mM(n,l=>o(l))}const s=lS("auth");return s&&jS(n,`http://${s}`),n}JV("Browser");var t4="firebase",n4="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(t4,n4,"app");var i4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne,v_=v_||{},Ne=i4||self;function yp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function r4(t){return Object.prototype.hasOwnProperty.call(t,lv)&&t[lv]||(t[lv]=++s4)}var lv="closure_uid_"+(1e9*Math.random()>>>0),s4=0;function o4(t,e,n){return t.call.apply(t.bind,arguments)}function a4(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function On(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?On=o4:On=a4,On.apply(null,arguments)}function Ld(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function vn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,o){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return e.prototype[s].apply(i,l)}}function Os(){this.s=this.s,this.o=this.o}var l4=0;Os.prototype.s=!1;Os.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),l4!=0)&&r4(this)};Os.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function y_(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function BI(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(yp(i)){const s=t.length||0,o=i.length||0;t.length=s+o;for(let l=0;l<o;l++)t[s+l]=i[l]}else t.push(i)}}function Dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dn.prototype.h=function(){this.defaultPrevented=!0};var u4=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ne.addEventListener("test",()=>{},e),Ne.removeEventListener("test",()=>{},e)}catch{}return t}();function Ic(t){return/^[\s\xa0]*$/.test(t)}function _p(){var t=Ne.navigator;return t&&(t=t.userAgent)?t:""}function nr(t){return _p().indexOf(t)!=-1}function __(t){return __[" "](t),t}__[" "]=function(){};function c4(t,e){var n=nF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var h4=nr("Opera"),el=nr("Trident")||nr("MSIE"),_C=nr("Edge"),Hv=_C||el,wC=nr("Gecko")&&!(_p().toLowerCase().indexOf("webkit")!=-1&&!nr("Edge"))&&!(nr("Trident")||nr("MSIE"))&&!nr("Edge"),d4=_p().toLowerCase().indexOf("webkit")!=-1&&!nr("Edge");function EC(){var t=Ne.document;return t?t.documentMode:void 0}var qv;e:{var uv="",cv=function(){var t=_p();if(wC)return/rv:([^\);]+)(\)|;)/.exec(t);if(_C)return/Edge\/([\d\.]+)/.exec(t);if(el)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(d4)return/WebKit\/(\S+)/.exec(t);if(h4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(cv&&(uv=cv?cv[1]:""),el){var hv=EC();if(hv!=null&&hv>parseFloat(uv)){qv=String(hv);break e}}qv=uv}var Wv;if(Ne.document&&el){var jI=EC();Wv=jI||parseInt(qv,10)||void 0}else Wv=void 0;var f4=Wv;function Tc(t,e){if(Dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wC){e:{try{__(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:p4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Tc.$.h.call(this)}}vn(Tc,Dn);var p4={2:"touch",3:"pen",4:"mouse"};Tc.prototype.h=function(){Tc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jc="closure_listenable_"+(1e6*Math.random()|0),m4=0;function g4(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++m4,this.fa=this.ia=!1}function wp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function w_(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function v4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function bC(t){const e={};for(const n in t)e[n]=t[n];return e}const $I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IC(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let o=0;o<$I.length;o++)n=$I[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ep(t){this.src=t,this.g={},this.h=0}Ep.prototype.add=function(t,e,n,i,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var l=Gv(t,e,i,s);return-1<l?(e=t[l],n||(e.ia=!1)):(e=new g4(e,this.src,o,!!i,s),e.ia=n,t.push(e)),e};function Kv(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=yC(i,e),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(wp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Gv(t,e,n,i){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return s}return-1}var E_="closure_lm_"+(1e6*Math.random()|0),dv={};function TC(t,e,n,i,s){if(i&&i.once)return SC(t,e,n,i,s);if(Array.isArray(e)){for(var o=0;o<e.length;o++)TC(t,e[o],n,i,s);return null}return n=T_(n),t&&t[Jc]?t.O(e,n,Qc(i)?!!i.capture:!!i,s):AC(t,e,n,!1,i,s)}function AC(t,e,n,i,s,o){if(!e)throw Error("Invalid event type");var l=Qc(s)?!!s.capture:!!s,c=I_(t);if(c||(t[E_]=c=new Ep(t)),n=c.add(e,n,i,l,o),n.proxy)return n;if(i=y4(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)u4||(s=l),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(RC(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function y4(){function t(n){return e.call(t.src,t.listener,n)}const e=_4;return t}function SC(t,e,n,i,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)SC(t,e[o],n,i,s);return null}return n=T_(n),t&&t[Jc]?t.P(e,n,Qc(i)?!!i.capture:!!i,s):AC(t,e,n,!0,i,s)}function CC(t,e,n,i,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)CC(t,e[o],n,i,s);else i=Qc(i)?!!i.capture:!!i,n=T_(n),t&&t[Jc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Gv(o,n,i,s),-1<n&&(wp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=I_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Gv(e,n,i,s)),(n=-1<t?e[t]:null)&&b_(n))}function b_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jc])Kv(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(RC(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=I_(e))?(Kv(n,t),n.h==0&&(n.src=null,e[E_]=null)):wp(t)}}}function RC(t){return t in dv?dv[t]:dv[t]="on"+t}function _4(t,e){if(t.fa)t=!0;else{e=new Tc(e,this);var n=t.listener,i=t.la||t.src;t.ia&&b_(t),t=n.call(i,e)}return t}function I_(t){return t=t[E_],t instanceof Ep?t:null}var fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function T_(t){return typeof t=="function"?t:(t[fv]||(t[fv]=function(e){return t.handleEvent(e)}),t[fv])}function gn(){Os.call(this),this.i=new Ep(this),this.S=this,this.J=null}vn(gn,Os);gn.prototype[Jc]=!0;gn.prototype.removeEventListener=function(t,e,n,i){CC(this,t,e,n,i)};function Tn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Dn(e,t);else if(e instanceof Dn)e.target=e.target||t;else{var s=e;e=new Dn(i,t),IC(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var l=e.g=n[o];s=Md(l,i,!0,e)&&s}if(l=e.g=t,s=Md(l,i,!0,e)&&s,s=Md(l,i,!1,e)&&s,n)for(o=0;o<n.length;o++)l=e.g=n[o],s=Md(l,i,!1,e)&&s}gn.prototype.N=function(){if(gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)wp(n[i]);delete t.g[e],t.h--}}this.J=null};gn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};gn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Md(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==n){var c=l.listener,d=l.la||l.src;l.ia&&Kv(t.i,l),s=c.call(d,i)!==!1&&s}}return s&&!i.defaultPrevented}var A_=Ne.JSON.stringify;class w4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function E4(){var t=S_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class b4{constructor(){this.h=this.g=null}add(e,n){const i=PC.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var PC=new w4(()=>new I4,t=>t.reset());class I4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function T4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function A4(t){Ne.setTimeout(()=>{throw t},0)}let Ac,Sc=!1,S_=new b4,kC=()=>{const t=Ne.Promise.resolve(void 0);Ac=()=>{t.then(S4)}};var S4=()=>{for(var t;t=E4();){try{t.h.call(t.g)}catch(n){A4(n)}var e=PC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sc=!1};function bp(t,e){gn.call(this),this.h=t||1,this.g=e||Ne,this.j=On(this.qb,this),this.l=Date.now()}vn(bp,gn);ne=bp.prototype;ne.ga=!1;ne.T=null;ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tn(this,"tick"),this.ga&&(C_(this),this.start()))}};ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function C_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ne.N=function(){bp.$.N.call(this),C_(this),delete this.g};function R_(t,e,n){if(typeof t=="function")n&&(t=On(t,n));else if(t&&typeof t.handleEvent=="function")t=On(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function NC(t){t.g=R_(()=>{t.g=null,t.i&&(t.i=!1,NC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class C4 extends Os{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NC(this)}N(){super.N(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cc(t){Os.call(this),this.h=t,this.g={}}vn(Cc,Os);var HI=[];function OC(t,e,n,i){Array.isArray(n)||(n&&(HI[0]=n.toString()),n=HI);for(var s=0;s<n.length;s++){var o=TC(e,n[s],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function DC(t){w_(t.g,function(e,n){this.g.hasOwnProperty(n)&&b_(e)},t),t.g={}}Cc.prototype.N=function(){Cc.$.N.call(this),DC(this)};Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ip(){this.g=!0}Ip.prototype.Ea=function(){this.g=!1};function R4(t,e,n,i,s,o){t.info(function(){if(t.g)if(o)for(var l="",c=o.split("&"),d=0;d<c.length;d++){var f=c[d].split("=");if(1<f.length){var m=f[0];f=f[1];var v=m.split("_");l=2<=v.length&&v[1]=="type"?l+(m+"="+f+"&"):l+(m+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+l})}function P4(t,e,n,i,s,o,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+l})}function Fa(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+N4(t,n)+(i?" "+i:"")})}function k4(t,e){t.info(function(){return"TIMEOUT: "+e})}Ip.prototype.info=function(){};function N4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var l=1;l<s.length;l++)s[l]=""}}}}return A_(n)}catch{return e}}var Bo={},qI=null;function Tp(){return qI=qI||new gn}Bo.Ta="serverreachability";function xC(t){Dn.call(this,Bo.Ta,t)}vn(xC,Dn);function Rc(t){const e=Tp();Tn(e,new xC(e))}Bo.STAT_EVENT="statevent";function LC(t,e){Dn.call(this,Bo.STAT_EVENT,t),this.stat=e}vn(LC,Dn);function jn(t){const e=Tp();Tn(e,new LC(e,t))}Bo.Ua="timingevent";function MC(t,e){Dn.call(this,Bo.Ua,t),this.size=e}vn(MC,Dn);function Xc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var Ap={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function P_(){}P_.prototype.h=null;function WI(t){return t.h||(t.h=t.i())}function FC(){}var Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function k_(){Dn.call(this,"d")}vn(k_,Dn);function N_(){Dn.call(this,"c")}vn(N_,Dn);var zv;function Sp(){}vn(Sp,P_);Sp.prototype.g=function(){return new XMLHttpRequest};Sp.prototype.i=function(){return{}};zv=new Sp;function eh(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new Cc(this),this.P=O4,t=Hv?125:void 0,this.V=new bp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UC}function UC(){this.i=null,this.g="",this.h=!1}var O4=45e3,Yv={},Af={};ne=eh.prototype;ne.setTimeout=function(t){this.P=t};function Qv(t,e,n){t.L=1,t.v=Rp(xr(e)),t.s=n,t.S=!0,BC(t,null)}function BC(t,e){t.G=Date.now(),th(t),t.A=xr(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),zC(n.i,"t",i),t.C=0,n=t.l.J,t.h=new UC,t.g=mR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new C4(On(t.Pa,t,t.g),t.O)),OC(t.U,t.g,"readystatechange",t.nb),e=t.I?bC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Rc(),R4(t.j,t.u,t.A,t.m,t.W,t.s)}ne.nb=function(t){t=t.target;const e=this.M;e&&sr(t)==3?e.l():this.Pa(t)};ne.Pa=function(t){try{if(t==this.g)e:{const m=sr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>m)&&(m!=3||Hv||this.g&&(this.h.h||this.g.ja()||YI(this.g)))){this.J||m!=4||e==7||(e==8||0>=v?Rc(3):Rc(2)),Cp(this);var n=this.g.da();this.ca=n;t:if(jC(this)){var i=YI(this.g);t="";var s=i.length,o=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),sc(this);var l="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,P4(this.j,this.u,this.A,this.m,this.W,m,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,d=this.g;if((c=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ic(c)){var f=c;break t}}f=null}if(n=f)Fa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jv(this,n);else{this.i=!1,this.o=3,jn(12),po(this),sc(this);break e}}this.S?($C(this,m,l),Hv&&this.i&&m==3&&(OC(this.U,this.V,"tick",this.mb),this.V.start())):(Fa(this.j,this.m,l,null),Jv(this,l)),m==4&&po(this),this.i&&!this.J&&(m==4?hR(this.l,this):(this.i=!1,th(this)))}else Z4(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),po(this),sc(this)}}}catch{}finally{}};function jC(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function $C(t,e,n){let i=!0,s;for(;!t.J&&t.C<n.length;)if(s=D4(t,n),s==Af){e==4&&(t.o=4,jn(14),i=!1),Fa(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Yv){t.o=4,jn(15),Fa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Fa(t.j,t.m,s,null),Jv(t,s);jC(t)&&s!=Af&&s!=Yv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),V_(e),e.M=!0,jn(11))):(Fa(t.j,t.m,n,"[Invalid Chunked Response]"),po(t),sc(t))}ne.mb=function(){if(this.g){var t=sr(this.g),e=this.g.ja();this.C<e.length&&(Cp(this),$C(this,t,e),this.i&&t!=4&&th(this))}};function D4(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Af:(n=Number(e.substring(n,i)),isNaN(n)?Yv:(i+=1,i+n>e.length?Af:(e=e.slice(i,i+n),t.C=i+n,e)))}ne.cancel=function(){this.J=!0,po(this)};function th(t){t.Y=Date.now()+t.P,HC(t,t.P)}function HC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Xc(On(t.lb,t),e)}function Cp(t){t.B&&(Ne.clearTimeout(t.B),t.B=null)}ne.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(k4(this.j,this.A),this.L!=2&&(Rc(),jn(17)),po(this),this.o=2,sc(this)):HC(this,this.Y-t)};function sc(t){t.l.H==0||t.J||hR(t.l,t)}function po(t){Cp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,C_(t.V),DC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Xv(n.i,t))){if(!t.K&&Xv(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Rf(n),Np(n);else break e;M_(n),jn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xc(On(n.ib,n),6e3));if(1>=JC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mo(n,11)}else if((t.K||n.g==t)&&Rf(n),!Ic(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let f=s[e];if(n.V=f[0],f=f[1],n.H==2)if(f[0]=="c"){n.K=f[1],n.pa=f[2];const m=f[3];m!=null&&(n.ra=m,n.l.info("VER="+n.ra));const v=f[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const _=f[5];_!=null&&typeof _=="number"&&0<_&&(i=1.5*_,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const E=t.g;if(E){const I=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var o=i.i;o.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(O_(o,o.h),o.h=null))}if(i.F){const y=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.Da=y,_t(i.I,i.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=t;if(i.wa=pR(i,i.J?i.pa:null,i.Y),l.K){XC(i.i,l);var c=l,d=i.L;d&&c.setTimeout(d),c.B&&(Cp(c),th(c)),i.g=l}else uR(i);0<n.j.length&&Op(n)}else f[0]!="stop"&&f[0]!="close"||mo(n,7);else n.H==3&&(f[0]=="stop"||f[0]=="close"?f[0]=="stop"?mo(n,7):L_(n):f[0]!="noop"&&n.h&&n.h.Aa(f),n.A=0)}}Rc(4)}catch{}}function x4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yp(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function L4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function qC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=L4(t),i=x4(t),s=i.length,o=0;o<s;o++)e.call(void 0,i[o],n&&n[o],t)}var WC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var o=t[n].substring(0,i);s=t[n].substring(i+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Io(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Io){this.h=t.h,Sf(this,t.j),this.s=t.s,this.g=t.g,Cf(this,t.m),this.l=t.l;var e=t.i,n=new Pc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KI(this,n),this.o=t.o}else t&&(e=String(t).match(WC))?(this.h=!1,Sf(this,e[1]||"",!0),this.s=Yu(e[2]||""),this.g=Yu(e[3]||"",!0),Cf(this,e[4]),this.l=Yu(e[5]||"",!0),KI(this,e[6]||"",!0),this.o=Yu(e[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}Io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qu(e,GI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qu(e,GI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Qu(n,n.charAt(0)=="/"?U4:F4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qu(n,j4)),t.join("")};function xr(t){return new Io(t)}function Sf(t,e,n){t.j=n?Yu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KI(t,e,n){e instanceof Pc?(t.i=e,$4(t.i,t.h)):(n||(e=Qu(e,B4)),t.i=new Pc(e,t.h))}function _t(t,e,n){t.i.set(e,n)}function Rp(t){return _t(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Yu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,V4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function V4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var GI=/[#\/\?@]/g,F4=/[#\?:]/g,U4=/[#\?]/g,B4=/[#\?@]/g,j4=/#/g;function Pc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ds(t){t.g||(t.g=new Map,t.h=0,t.i&&M4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ne=Pc.prototype;ne.add=function(t,e){Ds(this),this.i=null,t=Il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function KC(t,e){Ds(t),e=Il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GC(t,e){return Ds(t),e=Il(t,e),t.g.has(e)}ne.forEach=function(t,e){Ds(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};ne.ta=function(){Ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let o=0;o<s.length;o++)n.push(e[i])}return n};ne.Z=function(t){Ds(this);let e=[];if(typeof t=="string")GC(this,t)&&(e=e.concat(this.g.get(Il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ne.set=function(t,e){return Ds(this),this.i=null,t=Il(this,t),GC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function zC(t,e,n){KC(t,e),0<n.length&&(t.i=null,t.g.set(Il(t,e),y_(n)),t.h+=n.length)}ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var s=o;l[i]!==""&&(s+="="+encodeURIComponent(String(l[i]))),t.push(s)}}return this.i=t.join("&")};function Il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $4(t,e){e&&!t.j&&(Ds(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(KC(this,i),zC(this,s,n))},t)),t.j=e}var H4=class{constructor(t,e){this.g=t,this.map=e}};function YC(t){this.l=t||q4,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.g&&Ne.g.Ka&&Ne.g.Ka()&&Ne.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var q4=10;function QC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function JC(t){return t.h?1:t.g?t.g.size:0}function Xv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function O_(t,e){t.g?t.g.add(e):t.h=e}function XC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}YC.prototype.cancel=function(){if(this.i=ZC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return y_(t.i)}var W4=class{stringify(t){return Ne.JSON.stringify(t,void 0)}parse(t){return Ne.JSON.parse(t,void 0)}};function K4(){this.g=new W4}function G4(t,e,n){const i=n||"";try{qC(t,function(s,o){let l=s;Qc(s)&&(l=A_(s)),e.push(i+o+"="+encodeURIComponent(l))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function z4(t,e){const n=new Ip;if(Ne.Image){const i=new Image;i.onload=Ld(Vd,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ld(Vd,n,i,"TestLoadImage: error",!1,e),i.onabort=Ld(Vd,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ld(Vd,n,i,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Vd(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function nh(t){this.l=t.ec||null,this.j=t.ob||!1}vn(nh,P_);nh.prototype.g=function(){return new Pp(this.l,this.j)};nh.prototype.i=function(t){return function(){return t}}({});function Pp(t,e){gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=D_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn(Pp,gn);var D_=0;ne=Pp.prototype;ne.open=function(t,e){if(this.readyState!=D_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kc(this)};ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ih(this)),this.readyState=D_};ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eR(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function eR(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ih(this):kc(this),this.readyState==3&&eR(this)}};ne.Za=function(t){this.g&&(this.response=this.responseText=t,ih(this))};ne.Ya=function(t){this.g&&(this.response=t,ih(this))};ne.ka=function(){this.g&&ih(this)};function ih(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kc(t)}ne.setRequestHeader=function(t,e){this.v.append(t,e)};ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Y4=Ne.JSON.parse;function xt(t){gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tR,this.L=this.M=!1}vn(xt,gn);var tR="",Q4=/^https?$/i,J4=["POST","PUT"];ne=xt.prototype;ne.Oa=function(t){this.M=t};ne.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zv.g(),this.C=this.u?WI(this.u):WI(zv),this.g.onreadystatechange=On(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){zI(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=Ne.FormData&&t instanceof Ne.FormData,!(0<=yC(J4,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of n)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rR(this),0<this.B&&((this.L=X4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=On(this.ua,this)):this.A=R_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){zI(this,o)}};function X4(t){return el&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ne.ua=function(){typeof v_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function zI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nR(t),kp(t)}function nR(t){t.F||(t.F=!0,Tn(t,"complete"),Tn(t,"error"))}ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tn(this,"complete"),Tn(this,"abort"),kp(this))};ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kp(this,!0)),xt.$.N.call(this)};ne.La=function(){this.s||(this.G||this.v||this.l?iR(this):this.kb())};ne.kb=function(){iR(this)};function iR(t){if(t.h&&typeof v_<"u"&&(!t.C[1]||sr(t)!=4||t.da()!=2)){if(t.v&&sr(t)==4)R_(t.La,0,t);else if(Tn(t,"readystatechange"),sr(t)==4){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=l===0){var s=String(t.I).match(WC)[1]||null;!s&&Ne.self&&Ne.self.location&&(s=Ne.self.location.protocol.slice(0,-1)),i=!Q4.test(s?s.toLowerCase():"")}n=i}if(n)Tn(t,"complete"),Tn(t,"success");else{t.m=6;try{var o=2<sr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",nR(t)}}finally{kp(t)}}}}function kp(t,e){if(t.g){rR(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tn(t,"ready");try{n.onreadystatechange=i}catch{}}}function rR(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ne.clearTimeout(t.A),t.A=null)}ne.isActive=function(){return!!this.g};function sr(t){return t.g?t.g.readyState:0}ne.da=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}};ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Y4(e)}};function YI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tR:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Z4(t){const e={};t=(t.g&&2<=sr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(Ic(t[i]))continue;var n=T4(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}v4(e,function(i){return i.join(", ")})}ne.Ia=function(){return this.m};ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sR(t){let e="";return w_(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function x_(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=sR(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):_t(t,e,n))}function Vu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oR(t){this.Ga=0,this.j=[],this.l=new Ip,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vu("baseRetryDelayMs",5e3,t),this.hb=Vu("retryDelaySeedMs",1e4,t),this.eb=Vu("forwardChannelMaxRetries",2,t),this.xa=Vu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new YC(t&&t.concurrentRequestLimit),this.Ja=new K4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ne=oR.prototype;ne.ra=8;ne.H=1;function L_(t){if(aR(t),t.H==3){var e=t.W++,n=xr(t.I);if(_t(n,"SID",t.K),_t(n,"RID",e),_t(n,"TYPE","terminate"),rh(t,n),e=new eh(t,t.l,e),e.L=2,e.v=Rp(xr(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon)try{n=Ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=mR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),th(e)}fR(t)}function Np(t){t.g&&(V_(t),t.g.cancel(),t.g=null)}function aR(t){Np(t),t.u&&(Ne.clearTimeout(t.u),t.u=null),Rf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ne.clearTimeout(t.m),t.m=null)}function Op(t){if(!QC(t.i)&&!t.m){t.m=!0;var e=t.Na;Ac||kC(),Sc||(Ac(),Sc=!0),S_.add(e,t),t.C=0}}function eF(t,e){return JC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Xc(On(t.Na,t,e),dR(t,t.C)),t.C++,!0)}ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new eh(this,this.l,t);let o=this.s;if(this.U&&(o?(o=bC(o),IC(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lR(this,s,e),n=xr(this.I),_t(n,"RID",t),_t(n,"CVER",22),this.F&&_t(n,"X-HTTP-Session-Id",this.F),rh(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(sR(o)))+"&"+e:this.o&&x_(n,this.o,o)),O_(this.i,s),this.bb&&_t(n,"TYPE","init"),this.P?(_t(n,"$req",e),_t(n,"SID","null"),s.aa=!0,Qv(s,n,null)):Qv(s,n,e),this.H=2}}else this.H==3&&(t?QI(this,t):this.j.length==0||QC(this.i)||QI(this))};function QI(t,e){var n;e?n=e.m:n=t.W++;const i=xr(t.I);_t(i,"SID",t.K),_t(i,"RID",n),_t(i,"AID",t.V),rh(t,i),t.o&&t.s&&x_(i,t.o,t.s),n=new eh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lR(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),O_(t.i,n),Qv(n,i,e)}function rh(t,e){t.na&&w_(t.na,function(n,i){_t(e,i,n)}),t.h&&qC({},function(n,i){_t(e,i,n)})}function lR(t,e,n){n=Math.min(t.j.length,n);var i=t.h?On(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const l=["count="+n];o==-1?0<n?(o=s[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let c=!0;for(let d=0;d<n;d++){let f=s[d].g;const m=s[d].map;if(f-=o,0>f)o=Math.max(0,s[d].g-100),c=!1;else try{G4(m,l,"req"+f+"_")}catch{i&&i(m)}}if(c){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function uR(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ac||kC(),Sc||(Ac(),Sc=!0),S_.add(e,t),t.A=0}}function M_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Xc(On(t.Ma,t),dR(t,t.A)),t.A++,!0)}ne.Ma=function(){if(this.u=null,cR(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xc(On(this.jb,this),t)}};ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),Np(this),cR(this))};function V_(t){t.B!=null&&(Ne.clearTimeout(t.B),t.B=null)}function cR(t){t.g=new eh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=xr(t.wa);_t(e,"RID","rpc"),_t(e,"SID",t.K),_t(e,"AID",t.V),_t(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&_t(e,"TO",t.qa),_t(e,"TYPE","xmlhttp"),rh(t,e),t.o&&t.s&&x_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Rp(xr(e)),n.s=null,n.S=!0,BC(n,t)}ne.ib=function(){this.v!=null&&(this.v=null,Np(this),M_(this),jn(19))};function Rf(t){t.v!=null&&(Ne.clearTimeout(t.v),t.v=null)}function hR(t,e){var n=null;if(t.g==e){Rf(t),V_(t),t.g=null;var i=2}else if(Xv(t.i,e))n=e.F,XC(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;i=Tp(),Tn(i,new MC(i,n)),Op(t)}else uR(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(i==1&&eF(t,e)||i==2&&M_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:mo(t,5);break;case 4:mo(t,10);break;case 3:mo(t,6);break;default:mo(t,2)}}}function dR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function mo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=On(t.pb,t);n||(n=new Io("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||Sf(n,"https"),Rp(n)),z4(n.toString(),i)}else jn(2);t.H=0,t.h&&t.h.za(e),fR(t),aR(t)}ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))};function fR(t){if(t.H=0,t.ma=[],t.h){const e=ZC(t.i);(e.length!=0||t.j.length!=0)&&(BI(t.ma,e),BI(t.ma,t.j),t.i.i.length=0,y_(t.j),t.j.length=0),t.h.ya()}}function pR(t,e,n){var i=n instanceof Io?xr(n):new Io(n);if(i.g!="")e&&(i.g=e+"."+i.g),Cf(i,i.m);else{var s=Ne.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Io(null);i&&Sf(o,i),e&&(o.g=e),s&&Cf(o,s),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&_t(i,n,e),_t(i,"VER",t.ra),rh(t,i),i}function mR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new xt(new nh({ob:!0})):new xt(t.va),e.Oa(t.J),e}ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function gR(){}ne=gR.prototype;ne.Ba=function(){};ne.Aa=function(){};ne.za=function(){};ne.ya=function(){};ne.isActive=function(){return!0};ne.Va=function(){};function Pf(){if(el&&!(10<=Number(f4)))throw Error("Environmental error: no available transport.")}Pf.prototype.g=function(t,e){return new hi(t,e)};function hi(t,e){gn.call(this),this.g=new oR(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ic(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ic(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Tl(this)}vn(hi,gn);hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pR(t,null,t.Y),Op(t)};hi.prototype.close=function(){L_(this.g)};hi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=A_(t),t=n);e.j.push(new H4(e.fb++,t)),e.H==3&&Op(e)};hi.prototype.N=function(){this.g.h=null,delete this.j,L_(this.g),delete this.g,hi.$.N.call(this)};function vR(t){k_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vn(vR,k_);function yR(){N_.call(this),this.status=1}vn(yR,N_);function Tl(t){this.g=t}vn(Tl,gR);Tl.prototype.Ba=function(){Tn(this.g,"a")};Tl.prototype.Aa=function(t){Tn(this.g,new vR(t))};Tl.prototype.za=function(t){Tn(this.g,new yR)};Tl.prototype.ya=function(){Tn(this.g,"b")};function tF(){this.blockSize=-1}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vn(xi,tF);xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pv(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],l=e+(o^n&(s^o))+i[0]+3614090360&4294967295;e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[1]+3905402710&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[2]+606105819&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[3]+3250441966&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[4]+4118548399&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[5]+1200080426&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[6]+2821735955&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[7]+4249261313&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[8]+1770035416&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[9]+2336552879&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[10]+4294925233&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[11]+2304563134&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(o^n&(s^o))+i[12]+1804603682&4294967295,e=n+(l<<7&4294967295|l>>>25),l=o+(s^e&(n^s))+i[13]+4254626195&4294967295,o=e+(l<<12&4294967295|l>>>20),l=s+(n^o&(e^n))+i[14]+2792965006&4294967295,s=o+(l<<17&4294967295|l>>>15),l=n+(e^s&(o^e))+i[15]+1236535329&4294967295,n=s+(l<<22&4294967295|l>>>10),l=e+(s^o&(n^s))+i[1]+4129170786&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[6]+3225465664&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[11]+643717713&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[0]+3921069994&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[5]+3593408605&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[10]+38016083&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[15]+3634488961&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[4]+3889429448&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[9]+568446438&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[14]+3275163606&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[3]+4107603335&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[8]+1163531501&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(s^o&(n^s))+i[13]+2850285829&4294967295,e=n+(l<<5&4294967295|l>>>27),l=o+(n^s&(e^n))+i[2]+4243563512&4294967295,o=e+(l<<9&4294967295|l>>>23),l=s+(e^n&(o^e))+i[7]+1735328473&4294967295,s=o+(l<<14&4294967295|l>>>18),l=n+(o^e&(s^o))+i[12]+2368359562&4294967295,n=s+(l<<20&4294967295|l>>>12),l=e+(n^s^o)+i[5]+4294588738&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[8]+2272392833&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[11]+1839030562&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[14]+4259657740&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[1]+2763975236&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[4]+1272893353&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[7]+4139469664&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[10]+3200236656&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[13]+681279174&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[0]+3936430074&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[3]+3572445317&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[6]+76029189&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(n^s^o)+i[9]+3654602809&4294967295,e=n+(l<<4&4294967295|l>>>28),l=o+(e^n^s)+i[12]+3873151461&4294967295,o=e+(l<<11&4294967295|l>>>21),l=s+(o^e^n)+i[15]+530742520&4294967295,s=o+(l<<16&4294967295|l>>>16),l=n+(s^o^e)+i[2]+3299628645&4294967295,n=s+(l<<23&4294967295|l>>>9),l=e+(s^(n|~o))+i[0]+4096336452&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[7]+1126891415&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[14]+2878612391&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[5]+4237533241&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[12]+1700485571&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[3]+2399980690&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[10]+4293915773&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[1]+2240044497&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[8]+1873313359&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[15]+4264355552&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[6]+2734768916&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[13]+1309151649&4294967295,n=s+(l<<21&4294967295|l>>>11),l=e+(s^(n|~o))+i[4]+4149444226&4294967295,e=n+(l<<6&4294967295|l>>>26),l=o+(n^(e|~s))+i[11]+3174756917&4294967295,o=e+(l<<10&4294967295|l>>>22),l=s+(e^(o|~n))+i[2]+718787259&4294967295,s=o+(l<<15&4294967295|l>>>17),l=n+(o^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}xi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)pv(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){pv(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){pv(this,i),s=0;break}}this.h=s,this.i+=e};xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function lt(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;i&&o==e||(n[s]=o,i=!1)}this.g=n}var nF={};function F_(t){return-128<=t&&128>t?c4(t,function(e){return new lt([e|0],0>e?-1:0)}):new lt([t|0],0>t?-1:0)}function or(t){if(isNaN(t)||!isFinite(t))return $a;if(0>t)return wn(or(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Zv;return new lt(e,0)}function _R(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wn(_R(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=or(Math.pow(e,8)),i=$a,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),e);8>o?(o=or(Math.pow(e,o)),i=i.R(o).add(or(l))):(i=i.R(n),i=i.add(or(l)))}return i}var Zv=4294967296,$a=F_(0),ey=F_(1),JI=F_(16777216);ne=lt.prototype;ne.ea=function(){if(mi(this))return-wn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Zv+i)*e,e*=Zv}return t};ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Sr(this))return"0";if(mi(this))return"-"+wn(this).toString(t);for(var e=or(Math.pow(t,6)),n=this,i="";;){var s=Nf(n,e).g;n=kf(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Sr(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function mi(t){return t.h==-1}ne.X=function(t){return t=kf(this,t),mi(t)?-1:Sr(t)?0:1};function wn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new lt(n,~t.h).add(ey)}ne.abs=function(){return mi(this)?wn(this):this};ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(this.D(s)&65535)+(t.D(s)&65535),l=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=l>>>16,o&=65535,l&=65535,n[s]=l<<16|o}return new lt(n,n[n.length-1]&-2147483648?-1:0)};function kf(t,e){return t.add(wn(e))}ne.R=function(t){if(Sr(this)||Sr(t))return $a;if(mi(this))return mi(t)?wn(this).R(wn(t)):wn(wn(this).R(t));if(mi(t))return wn(this.R(wn(t)));if(0>this.X(JI)&&0>t.X(JI))return or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var o=this.D(i)>>>16,l=this.D(i)&65535,c=t.D(s)>>>16,d=t.D(s)&65535;n[2*i+2*s]+=l*d,Fd(n,2*i+2*s),n[2*i+2*s+1]+=o*d,Fd(n,2*i+2*s+1),n[2*i+2*s+1]+=l*c,Fd(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,Fd(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new lt(n,0)};function Fd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Fu(t,e){this.g=t,this.h=e}function Nf(t,e){if(Sr(e))throw Error("division by zero");if(Sr(t))return new Fu($a,$a);if(mi(t))return e=Nf(wn(t),e),new Fu(wn(e.g),wn(e.h));if(mi(e))return e=Nf(t,wn(e)),new Fu(wn(e.g),e.h);if(30<t.g.length){if(mi(t)||mi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ey,i=e;0>=i.X(t);)n=XI(n),i=XI(i);var s=ka(n,1),o=ka(i,1);for(i=ka(i,2),n=ka(n,2);!Sr(i);){var l=o.add(i);0>=l.X(t)&&(s=s.add(n),o=l),i=ka(i,1),n=ka(n,1)}return e=kf(t,s.R(e)),new Fu(s,e)}for(s=$a;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=or(n),l=o.R(e);mi(l)||0<l.X(t);)n-=i,o=or(n),l=o.R(e);Sr(o)&&(o=ey),s=s.add(o),t=kf(t,l)}return new Fu(s,t)}ne.gb=function(t){return Nf(this,t).h};ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new lt(n,this.h&t.h)};ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new lt(n,this.h|t.h)};ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new lt(n,this.h^t.h)};function XI(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new lt(n,t.h)}function ka(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new lt(s,t.h)}Pf.prototype.createWebChannel=Pf.prototype.g;hi.prototype.send=hi.prototype.u;hi.prototype.open=hi.prototype.m;hi.prototype.close=hi.prototype.close;Ap.NO_ERROR=0;Ap.TIMEOUT=8;Ap.HTTP_ERROR=6;VC.COMPLETE="complete";FC.EventType=Zc;Zc.OPEN="a";Zc.CLOSE="b";Zc.ERROR="c";Zc.MESSAGE="d";gn.prototype.listen=gn.prototype.O;xt.prototype.listenOnce=xt.prototype.P;xt.prototype.getLastError=xt.prototype.Sa;xt.prototype.getLastErrorCode=xt.prototype.Ia;xt.prototype.getStatus=xt.prototype.da;xt.prototype.getResponseJson=xt.prototype.Wa;xt.prototype.getResponseText=xt.prototype.ja;xt.prototype.send=xt.prototype.ha;xt.prototype.setWithCredentials=xt.prototype.Oa;xi.prototype.digest=xi.prototype.l;xi.prototype.reset=xi.prototype.reset;xi.prototype.update=xi.prototype.j;lt.prototype.add=lt.prototype.add;lt.prototype.multiply=lt.prototype.R;lt.prototype.modulo=lt.prototype.gb;lt.prototype.compare=lt.prototype.X;lt.prototype.toNumber=lt.prototype.ea;lt.prototype.toString=lt.prototype.toString;lt.prototype.getBits=lt.prototype.D;lt.fromNumber=or;lt.fromString=_R;var iF=function(){return new Pf},rF=function(){return Tp()},mv=Ap,sF=VC,oF=Bo,ZI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aF=nh,Ud=FC,lF=xt,uF=xi,Ha=lt;const eT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new rp("@firebase/firestore");function Uu(){return Po.logLevel}function fe(t,...e){if(Po.logLevel<=$e.DEBUG){const n=e.map(U_);Po.debug(`Firestore (${Al}): ${t}`,...n)}}function Lr(t,...e){if(Po.logLevel<=$e.ERROR){const n=e.map(U_);Po.error(`Firestore (${Al}): ${t}`,...n)}}function tl(t,...e){if(Po.logLevel<=$e.WARN){const n=e.map(U_);Po.warn(`Firestore (${Al}): ${t}`,...n)}}function U_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: `+t;throw Lr(e),new Error(e)}function wt(t,e){t||ke()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class hF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dF{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new kr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new kr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wt(typeof i.accessToken=="string"),new wR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new Pn(e)}}class fF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new fF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=o=>{o.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string"),this.R=n.token,new mF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=vF(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%e.length))}return i}}function et(t,e){return t<e?-1:t>e?1:0}function nl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Yt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Yt(0,0))}static max(){return new De(new Yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(),i===void 0?i=e.length-n:i>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nc?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=e.get(s),l=n.get(s);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends Nc{construct(e,n,i){return new pt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new te(L.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const yF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends Nc{construct(e,n,i){return new En(e,n,i)}static isValidIdentifier(e){return yF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new te(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new te(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new te(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(o(),s++)}if(o(),l)throw new te(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(n)}static emptyPath(){return new En([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(pt.fromString(e))}static fromName(e){return new _e(pt.fromString(e).popFirst(5))}static empty(){return new _e(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new pt(e.slice()))}}function _F(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(i===1e9?new Yt(n+1,0):new Yt(n,i));return new Cs(s,_e.empty(),e)}function wF(t){return new Cs(t.readTime,t.key,-1)}class Cs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Cs(De.min(),_e.empty(),-1)}static max(){return new Cs(De.max(),_e.empty(),-1)}}function EF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==bF)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,i)=>{n(e)})}static reject(e){return new j((n,i)=>{i(e)})}static waitFor(e){return new j((n,i)=>{let s=0,o=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++o,l&&o===s&&n()},d=>i(d))}),l=!0,o===s&&n()})}static or(e){let n=j.resolve(!1);for(const i of e)n=n.next(s=>s?j.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new j((i,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(m=>{l[f]=m,++c,c===o&&i(l)},m=>s(m))}})}static doWhile(e,n){return new j((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function oh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}B_._e=-1;function Dp(t){return t==null}function Of(t){return t===0&&1/t==-1/0}function TF(t){return typeof t=="number"&&Number.isInteger(t)&&!Of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new _n(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,i,s,o){return this}insert(e,n,i){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof An)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new An(this.comparator);return n.data=e,n}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new ci([])}unionWith(e){let n=new An(En.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IR("Invalid base64 string: "+o):o}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const AF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(t){if(wt(!!t),typeof t=="string"){let e=0;const n=AF.exec(t);if(wt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function j_(t){const e=t.mapValue.fields.__previous_value__;return xp(e)?j_(e):e}function Oc(t){const e=Rs(t.mapValue.fields.__local_write_time__.timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,i,s,o,l,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class Dc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xp(t)?4:CF(t)?9007199254740991:10:ke()}function hr(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Rs(s.timestampValue),c=Rs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return ko(s.bytesValue).isEqual(ko(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Kt(s.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Kt(s.integerValue)===Kt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Kt(s.doubleValue),c=Kt(o.doubleValue);return l===c?Of(l)===Of(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:return function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(tT(l)!==tT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!hr(l[d],c[d])))return!1;return!0}(t,e);default:return ke()}}function xc(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function il(t,e){if(t===e)return 0;const n=No(t),i=No(e);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Kt(o.integerValue||o.doubleValue),d=Kt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(Oc(t),Oc(e));case 5:return et(t.stringValue,e.stringValue);case 6:return function(o,l){const c=ko(o),d=ko(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=et(c[f],d[f]);if(m!==0)return m}return et(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=et(Kt(o.latitude),Kt(l.latitude));return c!==0?c:et(Kt(o.longitude),Kt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,l){const c=o.values||[],d=l.values||[];for(let f=0;f<c.length&&f<d.length;++f){const m=il(c[f],d[f]);if(m)return m}return et(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===jd.mapValue&&l===jd.mapValue)return 0;if(o===jd.mapValue)return 1;if(l===jd.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const _=et(d[v],m[v]);if(_!==0)return _;const E=il(c[d[v]],f[m[v]]);if(E!==0)return E}return et(d.length,m.length)}(t.mapValue,e.mapValue);default:throw ke()}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Rs(t),i=Rs(e),s=et(n.seconds,i.seconds);return s!==0?s:et(n.nanos,i.nanos)}function rl(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Rs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ko(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=ty(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${ty(n.fields[l])}`;return s+"}"}(t.mapValue):ke()}function Df(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function $_(t){return!!t&&"arrayValue"in t}function rT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=oc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=En.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=c.popLast()}l?i[c.lastSegment()]=oc(l):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];of(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){jo(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Yn(oc(this.value))}}function TR(t){const e=[];return jo(t.fields,(n,i)=>{const s=new En([n]);if(of(i)){const o=TR(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,i,s,o,l,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new kn(e,0,De.min(),De.min(),De.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,s){return new kn(e,1,n,De.min(),i,s,0)}static newNoDocument(e,n){return new kn(e,2,n,De.min(),De.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,De.min(),De.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.position=e,this.inclusive=n}}function oT(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=_e.comparator(_e.fromName(l.referenceValue),n.key):i=il(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function RF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class zt extends AR{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new kF(e,n,i):n==="array-contains"?new DF(e,i):n==="in"?new xF(e,i):n==="not-in"?new LF(e,i):n==="array-contains-any"?new MF(e,i):new zt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new NF(e,i):new OF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(il(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends AR{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Li(e,n)}matches(e){return SR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function SR(t){return t.op==="and"}function CR(t){return PF(t)&&SR(t)}function PF(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function iy(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(CR(t))return t.filters.map(e=>iy(e)).join(",");{const e=t.filters.map(n=>iy(n)).join(",");return`${t.op}(${e})`}}function RR(t,e){return t instanceof zt?function(i,s){return s instanceof zt&&i.op===s.op&&i.field.isEqual(s.field)&&hr(i.value,s.value)}(t,e):t instanceof Li?function(i,s){return s instanceof Li&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,c)=>o&&RR(l,s.filters[c]),!0):!1}(t,e):void ke()}function PR(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Li?function(n){return n.op.toString()+" {"+n.getFilters().map(PR).join(" ,")+"}"}(t):"Filter"}class kF extends zt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class NF extends zt{constructor(e,n){super(e,"in",n),this.keys=kR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OF extends zt{constructor(e,n){super(e,"not-in",n),this.keys=kR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>_e.fromName(i.referenceValue))}class DF extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $_(n)&&xc(n.arrayValue,this.value)}}class xF extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xc(this.value.arrayValue,n)}}class LF extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xc(this.value.arrayValue,n)}}class MF extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n=null,i=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.ce=null}}function lT(t,e=null,n=[],i=[],s=null,o=null,l=null){return new VF(t,e,n,i,s,o,l)}function H_(t){const e=Me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>iy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>rl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>rl(i)).join(",")),e.ce=n}return e.ce}function q_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function ry(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n=null,i=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function FF(t,e,n,i,s,o,l,c){return new xs(t,e,n,i,s,o,l,c)}function Lp(t){return new xs(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function W_(t){return t.collectionGroup!==null}function qa(t){const e=Me(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new An(En.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Lc(o,i))}),n.has(En.keyField().canonicalString())||e.le.push(new Lc(En.keyField(),i))}return e.le}function ar(t){const e=Me(t);return e.he||(e.he=UF(e,qa(t))),e.he}function UF(t,e){if(t.limitType==="F")return lT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Lc(s.field,o)});const n=t.endAt?new sl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new sl(t.startAt.position,t.startAt.inclusive):null;return lT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function sy(t,e){const n=t.filters.concat([e]);return new xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new xs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mp(t,e){return q_(ar(t),ar(e))&&t.limitType===e.limitType}function NR(t){return`${H_(ar(t))}|lt:${t.limitType}`}function Da(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>PR(s)).join(", ")}]`),Dp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>rl(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>rl(s)).join(",")),`Target(${i})`}(ar(t))}; limitType=${t.limitType})`}function Vp(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_e.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of qa(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,c,d){const f=oT(l,c,d);return l.inclusive?f<=0:f<0}(i.startAt,qa(i),s)||i.endAt&&!function(l,c,d){const f=oT(l,c,d);return l.inclusive?f>=0:f>0}(i.endAt,qa(i),s))}(t,e)}function BF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OR(t){return(e,n)=>{let i=!1;for(const s of qa(t)){const o=jF(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function jF(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?il(d,f):ke()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return bR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new Ct(_e.comparator);function Mr(){return $F}const DR=new Ct(_e.comparator);function Ju(...t){let e=DR;for(const n of t)e=e.insert(n.key,n);return e}function xR(t){let e=DR;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function go(){return ac()}function LR(){return ac()}function ac(){return new Sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const HF=new Ct(_e.comparator),qF=new An(_e.comparator);function He(...t){let e=qF;for(const n of t)e=e.add(n);return e}const WF=new An(et);function KF(){return WF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function VR(t){return{integerValue:""+t}}function GF(t,e){return TF(e)?VR(e):MR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this._=void 0}}function zF(t,e,n){return t instanceof Lf?function(s,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&xp(o)&&(o=j_(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof ol?UR(t,e):t instanceof al?BR(t,e):function(s,o){const l=FR(s,o),c=cT(l)+cT(s.Ie);return ny(l)&&ny(s.Ie)?VR(c):MR(s.serializer,c)}(t,e)}function YF(t,e,n){return t instanceof ol?UR(t,e):t instanceof al?BR(t,e):n}function FR(t,e){return t instanceof Mf?function(i){return ny(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Lf extends Fp{}class ol extends Fp{constructor(e){super(),this.elements=e}}function UR(t,e){const n=jR(e);for(const i of t.elements)n.some(s=>hr(s,i))||n.push(i);return{arrayValue:{values:n}}}class al extends Fp{constructor(e){super(),this.elements=e}}function BR(t,e){let n=jR(e);for(const i of t.elements)n=n.filter(s=>!hr(s,i));return{arrayValue:{values:n}}}class Mf extends Fp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function cT(t){return Kt(t.integerValue||t.doubleValue)}function jR(t){return $_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.field=e,this.transform=n}}function QF(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof ol&&s instanceof ol||i instanceof al&&s instanceof al?nl(i.elements,s.elements,hr):i instanceof Mf&&s instanceof Mf?hr(i.Ie,s.Ie):i instanceof Lf&&s instanceof Lf}(t.transform,e.transform)}class JF{constructor(e,n){this.version=e,this.transformResults=n}}class vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Up{}function HR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new K_(t.key,vi.none()):new ah(t.key,t.data,vi.none());{const n=t.data,i=Yn.empty();let s=new An(En.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Ls(t.key,i,new ci(s.toArray()),vi.none())}}function XF(t,e,n){t instanceof ah?function(s,o,l){const c=s.value.clone(),d=dT(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(s,o,l){if(!af(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=dT(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(qR(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,i){return t instanceof ah?function(o,l,c,d){if(!af(o.precondition,l))return c;const f=o.value.clone(),m=fT(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ls?function(o,l,c,d){if(!af(o.precondition,l))return c;const f=fT(o.fieldTransforms,d,l),m=l.data;return m.setAll(qR(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,l,c){return af(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function ZF(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=FR(i.transform,s||null);o!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,o))}return n||null}function hT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&nl(i,s,(o,l)=>QF(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ah extends Up{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ls extends Up{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function dT(t,e,n){const i=new Map;wt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,c=e.data.field(o.field);i.set(o.field,YF(l,c,n[s]))}return i}function fT(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,zF(o,l,e))}return i}class K_ extends Up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eU extends Up{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&XF(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=lc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=LR();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(s.key)?null:c;const d=HR(l,c);d!==null&&i.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(De.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,i)=>hT(n,i))&&nl(this.baseMutations,e.baseMutations,(n,i)=>hT(n,i))}}class G_{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){wt(e.mutations.length===i.length);let s=function(){return HF}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new G_(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Ge;function rU(t){switch(t){default:return ke();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function WR(t){if(t===void 0)return Lr("GRPC error has no .code"),L.UNKNOWN;switch(t){case qt.OK:return L.OK;case qt.CANCELLED:return L.CANCELLED;case qt.UNKNOWN:return L.UNKNOWN;case qt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case qt.INTERNAL:return L.INTERNAL;case qt.UNAVAILABLE:return L.UNAVAILABLE;case qt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case qt.NOT_FOUND:return L.NOT_FOUND;case qt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case qt.ABORTED:return L.ABORTED;case qt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case qt.DATA_LOSS:return L.DATA_LOSS;default:return ke()}}(Ge=qt||(qt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new Ha([4294967295,4294967295],0);function pT(t){const e=sU().encode(t),n=new uF;return n.update(e),new Uint8Array(n.digest())}function mT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ha([n,i],0),new Ha([s,o],0)]}class z_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(i<0)throw new Xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ha.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(Ha.fromNumber(i)));return s.compare(oU)===1&&(s=new Ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=pT(e),[i,s]=mT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);if(!this.Ae(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new z_(o,s,n);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const n=pT(e),[i,s]=mT(n);for(let o=0;o<this.hashCount;o++){const l=this.de(i,s,o);this.Re(l)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,lh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Bp(De.min(),s,new Ct(et),Mr(),He())}}class lh{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new lh(i,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class KR{constructor(e,n){this.targetId=e,this.fe=n}}class GR{constructor(e,n,i=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class gT{constructor(){this.ge=0,this.pe=yT(),this.ye=Ln.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=He(),n=He(),i=He();return this.pe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ke()}}),new lh(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=yT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class aU{constructor(e){this.Le=e,this.ke=new Map,this.qe=Mr(),this.Qe=vT(),this.Ke=new Ct(et)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const o=s.target;if(ry(o))if(i===0){const l=new _e(o.path);this.We(n,l,kn.newNoDocument(l,De.min()))}else wt(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(e),d=c?this.et(c,e,l):1;if(d!==0){this.He(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,c;try{l=ko(i).toUint8Array()}catch(d){if(d instanceof IR)return tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new z_(l,s,o)}catch(d){return tl(d instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(n,o,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&ry(c.target)){const d=new _e(c.target.path);this.qe.get(d)!==null||this.st(l,d)||this.We(l,d,kn.newNoDocument(d,e))}o.De&&(n.set(l,o.ve()),o.Fe())}});let i=He();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.Ye(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,l)=>l.setReadTime(e));const s=new Bp(e,n,this.Ke,this.qe,i);return this.qe=Mr(),this.Qe=vT(),this.Ke=new Ct(et),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new gT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new An(et),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new gT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vT(){return new Ct(_e.comparator)}function yT(){return new Ct(_e.comparator)}const lU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cU=(()=>({and:"AND",or:"OR"}))();class hU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||Dp(e)?e:{value:e}}function Vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dU(t,e){return Vf(t,e.toTimestamp())}function lr(t){return wt(!!t),De.fromTimestamp(function(n){const i=Rs(n);return new Yt(i.seconds,i.nanos)}(t))}function Y_(t,e){return function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function YR(t){const e=pt.fromString(t);return wt(ZR(e)),e}function ay(t,e){return Y_(t.databaseId,e.path)}function gv(t,e){const n=YR(e);if(n.get(1)!==t.databaseId.projectId)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(QR(n))}function ly(t,e){return Y_(t.databaseId,e)}function fU(t){const e=YR(t);return e.length===4?pt.emptyPath():QR(e)}function uy(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QR(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _T(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function pU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(wt(m===void 0||typeof m=="string"),Ln.fromBase64String(m||"")):(wt(m===void 0||m instanceof Uint8Array),Ln.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const m=f.code===void 0?L.UNKNOWN:WR(f.code);return new te(m,f.message||"")}(l);n=new GR(i,s,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=gv(t,i.document.name),o=lr(i.document.updateTime),l=i.document.createTime?lr(i.document.createTime):De.min(),c=new Yn({mapValue:{fields:i.document.fields}}),d=kn.newFoundDocument(s,o,l,c),f=i.targetIds||[],m=i.removedTargetIds||[];n=new lf(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=gv(t,i.document),o=i.readTime?lr(i.readTime):De.min(),l=kn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new lf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=gv(t,i.document),o=i.removedTargetIds||[];n=new lf([],o,s,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new iU(s,o),c=i.targetId;n=new KR(c,l)}}return n}function mU(t,e){let n;if(e instanceof ah)n={update:_T(t,e.key,e.value)};else if(e instanceof K_)n={delete:ay(t,e.key)};else if(e instanceof Ls)n={update:_T(t,e.key,e.data),updateMask:TU(e.fieldMask)};else{if(!(e instanceof eU))return ke();n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Lf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ol)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof al)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Mf)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw ke()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:dU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke()}(t,e.precondition)),n}function gU(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(n=>function(s,o){let l=s.updateTime?lr(s.updateTime):lr(o);return l.isEqual(De.min())&&(l=lr(o)),new JF(l,s.transformResults||[])}(n,e))):[]}function vU(t,e){return{documents:[ly(t,e.path)]}}function yU(t,e){const n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=ly(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ly(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(d){if(d.length!==0)return XR(Li.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(v){return{field:xa(v.field),direction:EU(v.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=oy(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),n}function _U(t){let e=fU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){wt(i===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){const _=JR(v);return _ instanceof Li&&CR(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(v){return v.map(_=>function(I){return new Lc(La(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(v){let _;return _=typeof v=="object"?v.value:v,Dp(_)?null:_}(n.limit));let d=null;n.startAt&&(d=function(v){const _=!!v.before,E=v.values||[];return new sl(E,_)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const _=!v.before,E=v.values||[];return new sl(E,_)}(n.endAt)),FF(e,s,l,o,c,"F",d,f)}function wU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=La(n.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=La(n.unaryFilter.field);return zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=La(n.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=La(n.unaryFilter.field);return zt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(n){return zt.create(La(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Li.create(n.compositeFilter.filters.map(i=>JR(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(n.compositeFilter.op))}(t):ke()}function EU(t){return lU[t]}function bU(t){return uU[t]}function IU(t){return cU[t]}function xa(t){return{fieldPath:t.canonicalString()}}function La(t){return En.fromServerFormat(t.fieldPath)}function XR(t){return t instanceof zt?function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(rT(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(rT(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:bU(n.op),value:n.value}}}(t):t instanceof Li?function(n){const i=n.getFilters().map(s=>XR(s));return i.length===1?i[0]:{compositeFilter:{op:IU(n.op),filters:i}}}(t):ke()}function TU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n,i,s,o=De.min(),l=De.min(),c=Ln.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.ut=e}}function SU(t){const e=_U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.on=new RU}addToCollectionParentIndex(e,n){return this.on.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Cs.min())}updateCollectionGroup(e,n,i){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class RU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new An(pt.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new An(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ll(0)}static Nn(){return new ll(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.changes=new Sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&lc(i.mutation,s,ci.empty(),Yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,He()).next(()=>i))}getLocalViewOfDocuments(e,n,i=He()){const s=go();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=Ju();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,He()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,i,s){let o=Mr();const l=ac(),c=function(){return ac()}();return n.forEach((d,f)=>{const m=i.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof Ls)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),lc(m.mutation,f,m.mutation.getFieldMask(),Yt.now())):l.set(f.key,ci.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var v;return c.set(f,new kU(m,(v=l.get(f))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,n){const i=ac();let s=new Ct((l,c)=>l-c),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let m=i.get(d)||ci.empty();m=c.applyToLocalView(f,m),i.set(d,m);const v=(s.get(c.batchId)||He()).add(d);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,v=LR();m.forEach(_=>{if(!o.has(_)){const E=HR(n.get(_),i.get(_));E!==null&&v.set(_,E),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return j.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):W_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):j.resolve(go());let c=-1,d=o;return l.next(f=>j.forEach(f,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(m)?j.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,He())).next(m=>({batchId:c,changes:xR(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let s=Ju();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=Ju();return this.indexManager.getCollectionParents(e,o).next(c=>j.forEach(c,d=>{const f=function(v,_){return new xs(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(m=>{m.forEach((v,_)=>{l=l.insert(v,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,kn.newInvalidDocument(m)))});let c=Ju();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&lc(m.mutation,f,ci.empty(),Yt.now()),Vp(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return j.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:lr(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:SU(s.bundledQuery),readTime:lr(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.overlays=new Ct(_e.comparator),this.lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const i=go();return j.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.lt(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),j.resolve()}getOverlaysForCollection(e,n,i){const s=go(),o=n.length+1,l=new _e(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Ct((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=go(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=go(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=s)););return j.resolve(c)}lt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.lr.get(s.largestBatchId).delete(i.key);this.lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new nU(n,i));let o=this.lr.get(n);o===void 0&&(o=He(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.hr=new An(dn.Pr),this.Ir=new An(dn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const i=new dn(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new dn(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){const n=new _e(new pt([])),i=new dn(n,e),s=new dn(n,e+1),o=[];return this.Ir.forEachInRange([i,s],l=>{this.dr(l),o.push(l.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new _e(new pt([])),i=new dn(n,e),s=new dn(n,e+1);let o=He();return this.Ir.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new dn(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dn{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return _e.comparator(e.key,n.key)||et(e.gr,n.gr)}static Tr(e,n){return et(e.gr,n.gr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new An(dn.Pr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new tU(o,n,i,s);this.mutationQueue.push(l);for(const c of s)this.yr=this.yr.add(new dn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(l)}lookupMutationBatch(e,n){return j.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Sr(i),o=s<0?0:s;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,s],l=>{const c=this.wr(l.gr);o.push(c)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new An(et);return n.forEach(s=>{const o=new dn(s,0),l=new dn(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,l],c=>{i=i.add(c.gr)})}),j.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;_e.isDocumentKey(o)||(o=o.child(""));const l=new dn(new _e(o),0);let c=new An(et);return this.yr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.gr)),!0)},l),j.resolve(this.br(c))}br(e){const n=[];return e.forEach(i=>{const s=this.wr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return j.forEach(n.mutations,s=>{const o=new dn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){const i=new dn(n,0),s=this.yr.firstAfterOrEqual(i);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.Cr=e,this.docs=function(){return new Ct(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let i=Mr();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():kn.newInvalidDocument(s))}),j.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Mr();const l=n.path,c=new _e(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||EF(wF(m),i)<=0||(s.has(m.key)||Vp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,i,s){ke()}vr(e,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new MU(this)}getSize(e){return j.resolve(this.size)}}class MU extends PU{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(i)}),j.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.persistence=e,this.Fr=new Sl(n=>H_(n),q_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Q_,this.targetCount=0,this.Nr=ll.On()}forEachTarget(e,n){return this.Fr.forEach((i,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),j.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ll(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.kn(n),j.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),j.waitFor(o).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const i=this.Fr.get(n)||null;return j.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),j.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Or.mr(n);return j.resolve(i)}containsKey(e,n){return j.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n){this.Br={},this.overlays={},this.Lr=new B_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new VU(this),this.indexManager=new CU,this.remoteDocumentCache=function(s){return new LU(s)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new AU(n),this.Kr=new OU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new xU(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const s=new UU(this.Lr.next());return this.referenceDelegate.$r(),i(s).next(o=>this.referenceDelegate.Ur(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Wr(e,n){return j.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class UU extends IF{constructor(e){super(),this.currentSequenceNumber=e}}class J_{constructor(e){this.persistence=e,this.Gr=new Q_,this.zr=null}static jr(e){return new J_(e)}get Hr(){if(this.zr)return this.zr;throw ke()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),j.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Hr,i=>{const s=_e.fromPath(i);return this.Jr(e,s).next(o=>{o||n.removeEntry(s,De.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return j.or([()=>j.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=s}static Qi(e,n){let i=He(),s=He();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new X_(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.zi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ji(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new BU;return this.Hi(e,n,l).next(c=>{if(o.result=c,this.$i)return this.Ji(e,n,l,c.size)})}).next(()=>o.result)}Ji(e,n,i,s){return i.documentReadCount<this.Ui?(Uu()<=$e.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Da(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),j.resolve()):(Uu()<=$e.DEBUG&&fe("QueryEngine","Query:",Da(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Wi*s?(Uu()<=$e.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Da(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):j.resolve())}zi(e,n){if(uT(n))return j.resolve(null);let i=ar(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xf(n,null,"F"),i=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=He(...o);return this.Gi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const f=this.Yi(n,c);return this.Zi(n,f,l,d.readTime)?this.zi(e,xf(n,null,"F")):this.Xi(e,f,n,d)}))})))}ji(e,n,i,s){return uT(n)||s.isEqual(De.min())?j.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const l=this.Yi(n,o);return this.Zi(n,l,i,s)?j.resolve(null):(Uu()<=$e.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Da(n)),this.Xi(e,l,n,_F(s,-1)).next(c=>c))})}Yi(e,n){let i=new An(OR(e));return n.forEach((s,o)=>{Vp(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Hi(e,n,i){return Uu()<=$e.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Da(n)),this.Gi.getDocumentsMatchingQuery(e,n,Cs.min(),i)}Xi(e,n,i,s){return this.Gi.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,i,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ct(et),this.ns=new Sl(o=>H_(o),q_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function HU(t,e,n,i){return new $U(t,e,n,i)}async function eP(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let d=He();for(const f of s){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(i,d).next(f=>({_s:f,removedBatchIds:l,addedBatchIds:c}))})})}function qU(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const v=f.batch,_=v.keys();let E=j.resolve();return _.forEach(I=>{E=E.next(()=>m.getEntry(d,I)).next(y=>{const b=f.docVersions.get(I);wt(b!==null),y.version.compareTo(b)<0&&(v.applyToRemoteDocument(y,f),y.isValidDocument()&&(y.setReadTime(f.commitVersion),m.addEntry(y)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=He();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function tP(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function WU(t,e){const n=Me(t),i=e.snapshotVersion;let s=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});s=n.ts;const c=[];e.targetChanges.forEach((m,v)=>{const _=s.get(v);if(!_)return;c.push(n.qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.qr.addMatchingKeys(o,m.addedDocuments,v)));let E=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Ln.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),s=s.insert(v,E),function(y,b,C){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(_,E,m)&&c.push(n.qr.updateTargetData(o,E))});let d=Mr(),f=He();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(KU(o,l,e.documentUpdates).next(m=>{d=m.us,f=m.cs})),!i.isEqual(De.min())){const m=n.qr.getLastRemoteSnapshotVersion(o).next(v=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(m)}return j.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.ts=s,o))}function KU(t,e,n){let i=He(),s=He();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Mr();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{us:l,cs:s}})}function GU(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zU(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.qr.getTargetData(i,e).next(o=>o?(s=o,j.resolve(s)):n.qr.allocateTargetId(i).next(l=>(s=new gs(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}async function cy(t,e,n){const i=Me(t),s=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!oh(l))throw l;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.ts=i.ts.remove(e),i.ns.delete(s.target)}function wT(t,e,n){const i=Me(t);let s=De.min(),o=He();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const v=Me(d),_=v.ns.get(m);return _!==void 0?j.resolve(v.ts.get(_)):v.qr.getTargetData(f,m)}(i,l,ar(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>i.es.getDocumentsMatchingQuery(l,e,n?s:De.min(),n?o:He())).next(c=>(YU(i,BF(e),c),{documents:c,ls:o})))}function YU(t,e,n){let i=t.rs.get(e)||De.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}class ET{constructor(){this.activeTargetIds=KF()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QU{constructor(){this.eo=new ET,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ET,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d=null;function vv(){return $d===null?$d=function(){return 268435456+Math.round(2147483648*Math.random())}():$d++,"0x"+$d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class e3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${s}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get yo(){return!1}wo(n,i,s,o,l){const c=vv(),d=this.So(n,i);fe("RestConnection",`Sending RPC '${n}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(f,o,l),this.Do(n,d,f,s).then(m=>(fe("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw tl("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",d,"request:",s),m})}Co(n,i,s,o,l,c){return this.wo(n,i,s,o,l)}bo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>n[l]=o),s&&s.headers.forEach((o,l)=>n[l]=o)}So(n,i){const s=XU[n];return`${this.mo}/v1/${i}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,s){const o=vv();return new Promise((l,c)=>{const d=new lF;d.setWithCredentials(!0),d.listenOnce(sF.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case mv.NO_ERROR:const m=d.getResponseJson();fe(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case mv.TIMEOUT:fe(Rn,`RPC '${e}' ${o} timed out`),c(new te(L.DEADLINE_EXCEEDED,"Request time out"));break;case mv.HTTP_ERROR:const v=d.getStatus();if(fe(Rn,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const I=function(b){const C=b.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(C)>=0?C:L.UNKNOWN}(E.status);c(new te(I,E.message))}else c(new te(L.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new te(L.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{fe(Rn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);fe(Rn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",f,i,15)})}vo(e,n,i){const s=vv(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iF(),c=rF(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.xmlHttpFactory=new aF({})),this.bo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const m=o.join("");fe(Rn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const v=l.createWebChannel(m,d);let _=!1,E=!1;const I=new ZU({co:b=>{E?fe(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(_||(fe(Rn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),fe(Rn,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},lo:()=>v.close()}),y=(b,C,P)=>{b.listen(C,M=>{try{P(M)}catch(x){setTimeout(()=>{throw x},0)}})};return y(v,Ud.EventType.OPEN,()=>{E||fe(Rn,`RPC '${e}' stream ${s} transport opened.`)}),y(v,Ud.EventType.CLOSE,()=>{E||(E=!0,fe(Rn,`RPC '${e}' stream ${s} transport closed`),I.Ro())}),y(v,Ud.EventType.ERROR,b=>{E||(E=!0,tl(Rn,`RPC '${e}' stream ${s} transport errored:`,b),I.Ro(new te(L.UNAVAILABLE,"The operation could not be completed")))}),y(v,Ud.EventType.MESSAGE,b=>{var C;if(!E){const P=b.data[0];wt(!!P);const M=P,x=M.error||((C=M[0])===null||C===void 0?void 0:C.error);if(x){fe(Rn,`RPC '${e}' stream ${s} received error:`,x);const Y=x.status;let oe=function(ee){const ge=qt[ee];if(ge!==void 0)return WR(ge)}(Y),de=x.message;oe===void 0&&(oe=L.INTERNAL,de="Unknown error status: "+Y+" with message "+x.message),E=!0,I.Ro(new te(oe,de)),v.close()}else fe(Rn,`RPC '${e}' stream ${s} received:`,P),I.Vo(P)}}),y(c,oF.STAT_EVENT,b=>{b.stat===ZI.PROXY?fe(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===ZI.NOPROXY&&fe(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.Ao()},0),I}}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t){return new hU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n,i=1e3,s=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=s,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,i,s,o,l,c,d){this.si=e,this.Ko=i,this.$o=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new nP(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Uo===n&&this.s_(i,s)},i=>{e(()=>{const s=new te(L.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(s)})})}s_(e,n){const i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{i(()=>this.o_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t3 extends iP{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=pU(this.serializer,e),i=function(o){if(!("targetChange"in o))return De.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?lr(l.readTime):De.min()}(e);return this.listener.a_(n,i)}u_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=ry(d)?{documents:vU(o,d)}:{query:yU(o,d)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=zR(o,l.resumeToken);const f=oy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=Vf(o,l.snapshotVersion.toTimestamp());const f=oy(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=wU(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.e_(n)}}class n3 extends iP{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=gU(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.I_(i,n)}return wt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=uy(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>mU(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3 extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.wo(e,n,i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(L.UNKNOWN,s.toString())})}Co(e,n,i,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,n,i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(L.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class r3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Lr(n),this.f_=!1):fe("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(l=>{i.enqueueAndForget(async()=>{$o(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=Me(d);f.C_.add(4),await uh(f),f.M_.set("Unknown"),f.C_.delete(4),await $p(f)}(this))})}),this.M_=new r3(i,s)}}async function $p(t){if($o(t))for(const e of t.v_)await e(!0)}async function uh(t){for(const e of t.v_)await e(!1)}function rP(t,e){const n=Me(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),t0(n)?e0(n):Cl(n).Ho()&&Z_(n,e))}function sP(t,e){const n=Me(t),i=Cl(n);n.D_.delete(e),i.Ho()&&oP(n,e),n.D_.size===0&&(i.Ho()?i.Zo():$o(n)&&n.M_.set("Unknown"))}function Z_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).u_(e)}function oP(t,e){t.x_.Oe(e),Cl(t).c_(e)}function e0(t){t.x_=new aU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.M_.g_()}function t0(t){return $o(t)&&!Cl(t).jo()&&t.D_.size>0}function $o(t){return Me(t).C_.size===0}function aP(t){t.x_=void 0}async function o3(t){t.D_.forEach((e,n)=>{Z_(t,e)})}async function a3(t,e){aP(t),t0(t)?(t.M_.w_(e),e0(t)):t.M_.set("Unknown")}async function l3(t,e,n){if(t.M_.set("Online"),e instanceof GR&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.D_.delete(c),s.x_.removeTarget(c))}(t,e)}catch(i){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ff(t,i)}else if(e instanceof lf?t.x_.$e(e):e instanceof KR?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(De.min()))try{const i=await tP(t.localStore);n.compareTo(i)>=0&&await function(o,l){const c=o.x_.it(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.D_.get(f);m&&o.D_.set(f,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const m=o.D_.get(d);if(!m)return;o.D_.set(d,m.withResumeToken(Ln.EMPTY_BYTE_STRING,m.snapshotVersion)),oP(o,d);const v=new gs(m.target,d,f,m.sequenceNumber);Z_(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){fe("RemoteStore","Failed to raise snapshot:",i),await Ff(t,i)}}async function Ff(t,e,n){if(!oh(e))throw e;t.C_.add(1),await uh(t),t.M_.set("Offline"),n||(n=()=>tP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await $p(t)})}function lP(t,e){return e().catch(n=>Ff(t,n,e))}async function Hp(t){const e=Me(t),n=Ps(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;u3(e);)try{const s=await GU(e.localStore,i);if(s===null){e.b_.length===0&&n.Zo();break}i=s.batchId,c3(e,s)}catch(s){await Ff(e,s)}uP(e)&&cP(e)}function u3(t){return $o(t)&&t.b_.length<10}function c3(t,e){t.b_.push(e);const n=Ps(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function uP(t){return $o(t)&&!Ps(t).jo()&&t.b_.length>0}function cP(t){Ps(t).start()}async function h3(t){Ps(t).E_()}async function d3(t){const e=Ps(t);for(const n of t.b_)e.P_(n.mutations)}async function f3(t,e,n){const i=t.b_.shift(),s=G_.from(i,e,n);await lP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Hp(t)}async function p3(t,e){e&&Ps(t).h_&&await async function(i,s){if(function(l){return rU(l)&&l!==L.ABORTED}(s.code)){const o=i.b_.shift();Ps(i).Yo(),await lP(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Hp(i)}}(t,e),uP(t)&&cP(t)}async function IT(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const i=$o(n);n.C_.add(3),await uh(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await $p(n)}async function m3(t,e){const n=Me(t);e?(n.C_.delete(2),await $p(n)):e||(n.C_.add(2),await uh(n),n.M_.set("Unknown"))}function Cl(t){return t.O_||(t.O_=function(n,i,s){const o=Me(n);return o.A_(),new t3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:o3.bind(null,t),Io:a3.bind(null,t),a_:l3.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),t0(t)?e0(t):t.M_.set("Unknown")):(await t.O_.stop(),aP(t))})),t.O_}function Ps(t){return t.N_||(t.N_=function(n,i,s){const o=Me(n);return o.A_(),new n3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{ho:h3.bind(null,t),Io:p3.bind(null,t),T_:d3.bind(null,t),I_:f3.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Hp(t)):(await t.N_.stop(),t.b_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,c=new n0(e,n,l,s,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i0(t,e){if(Lr("AsyncQueue",`${e}: ${t}`),oh(t))return new te(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=Ju(),this.sortedSet=new Ct(this.comparator)}static emptySet(e){return new Wa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.B_=new Ct(_e.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ke():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class ul{constructor(e,n,i,s,o,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new ul(e,n,Wa.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.k_=void 0,this.listeners=[]}}class v3{constructor(){this.queries=new Sl(e=>NR(e),Mp),this.onlineState="Unknown",this.q_=new Set}}async function r0(t,e){const n=Me(t),i=e.query;let s=!1,o=n.queries.get(i);if(o||(s=!0,o=new g3),s)try{o.k_=await n.onListen(i)}catch(l){const c=i0(l,`Initialization of query '${Da(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&o0(n)}async function s0(t,e){const n=Me(t),i=e.query;let s=!1;const o=n.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),s=o.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function y3(t,e){const n=Me(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const c of l.listeners)c.K_(s)&&(i=!0);l.k_=s}}i&&o0(n)}function _3(t,e,n){const i=Me(t),s=i.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);i.queries.delete(e)}function o0(t){t.q_.forEach(e=>{e.next()})}class a0{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ul(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.key=e}}class dP{constructor(e){this.key=e}}class w3{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=He(),this.mutatedKeys=He(),this._a=OR(e),this.aa=new Wa(this._a)}get ua(){return this.ia}ca(e,n){const i=n?n.la:new TT,s=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,v)=>{const _=s.get(m),E=Vp(this.query,v)?v:null,I=!!_&&this.mutatedKeys.has(_.key),y=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let b=!1;_&&E?_.data.isEqual(E.data)?I!==y&&(i.track({type:3,doc:E}),b=!0):this.ha(_,E)||(i.track({type:2,doc:E}),b=!0,(d&&this._a(E,d)>0||f&&this._a(E,f)<0)&&(c=!0)):!_&&E?(i.track({type:0,doc:E}),b=!0):_&&!E&&(i.track({type:1,doc:_}),b=!0,(d||f)&&(c=!0)),b&&(E?(l=l.add(E),o=y?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{aa:l,la:i,Zi:c,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((f,m)=>function(_,E){const I=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return I(_)-I(E)}(f.type,m.type)||this._a(f.doc,m.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,d=c!==this.sa;return this.sa=c,o.length!==0||d?{snapshot:new ul(this.query,e.aa,s,o,e.mutatedKeys,c===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new TT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=He(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new dP(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new hP(i))}),n}da(e){this.ia=e.ls,this.oa=He();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return ul.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class E3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class b3{constructor(e){this.key=e,this.Ra=!1}}class I3{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new Sl(c=>NR(c),Mp),this.fa=new Map,this.ga=new Set,this.pa=new Ct(_e.comparator),this.ya=new Map,this.wa=new Q_,this.Sa={},this.ba=new Map,this.Da=ll.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function T3(t,e){const n=x3(t);let i,s;const o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),s=o.view.Aa();else{const l=await zU(n.localStore,ar(e)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,s=await A3(n,e,i,c==="current",l.resumeToken),n.isPrimaryClient&&rP(n.remoteStore,l)}return s}async function A3(t,e,n,i,s){t.va=(v,_,E)=>async function(y,b,C,P){let M=b.view.ca(C);M.Zi&&(M=await wT(y.localStore,b.query,!1).then(({documents:oe})=>b.view.ca(oe,M)));const x=P&&P.targetChanges.get(b.targetId),Y=b.view.applyChanges(M,y.isPrimaryClient,x);return ST(y,b.targetId,Y.Ta),Y.snapshot}(t,v,_,E);const o=await wT(t.localStore,e,!0),l=new w3(e,o.ls),c=l.ca(o.documents),d=lh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),f=l.applyChanges(c,t.isPrimaryClient,d);ST(t,n,f.Ta);const m=new E3(e,n,l);return t.ma.set(e,m),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),f.snapshot}async function S3(t,e){const n=Me(t),i=n.ma.get(e),s=n.fa.get(i.targetId);if(s.length>1)return n.fa.set(i.targetId,s.filter(o=>!Mp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),sP(n.remoteStore,i.targetId),hy(n,i.targetId)}).catch(sh)):(hy(n,i.targetId),await cy(n.localStore,i.targetId,!0))}async function C3(t,e,n){const i=L3(t);try{const s=await function(l,c){const d=Me(l),f=Yt.now(),m=c.reduce((E,I)=>E.add(I.key),He());let v,_;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let I=Mr(),y=He();return d.ss.getEntries(E,m).next(b=>{I=b,I.forEach((C,P)=>{P.isValidDocument()||(y=y.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,I)).next(b=>{v=b;const C=[];for(const P of c){const M=ZF(P,v.get(P.key).overlayedDocument);M!=null&&C.push(new Ls(P.key,M,TR(M.value.mapValue),vi.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,C,c)}).next(b=>{_=b;const C=b.applyToLocalDocumentSet(v,y);return d.documentOverlayCache.saveOverlays(E,b.batchId,C)})}).then(()=>({batchId:_.batchId,changes:xR(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let f=l.Sa[l.currentUser.toKey()];f||(f=new Ct(et)),f=f.insert(c,d),l.Sa[l.currentUser.toKey()]=f}(i,s.batchId,n),await ch(i,s.changes),await Hp(i.remoteStore)}catch(s){const o=i0(s,"Failed to persist write");n.reject(o)}}async function fP(t,e){const n=Me(t);try{const i=await WU(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.ya.get(o);l&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ra=!0:s.modifiedDocuments.size>0?wt(l.Ra):s.removedDocuments.size>0&&(wt(l.Ra),l.Ra=!1))}),await ch(n,i,e)}catch(i){await sh(i)}}function AT(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.ma.forEach((o,l)=>{const c=l.view.Q_(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=Me(l);d.onlineState=c;let f=!1;d.queries.forEach((m,v)=>{for(const _ of v.listeners)_.Q_(c)&&(f=!0)}),f&&o0(d)}(i.eventManager,e),s.length&&i.Va.a_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function R3(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.ya.get(e),o=s&&s.key;if(o){let l=new Ct(_e.comparator);l=l.insert(o,kn.newNoDocument(o,De.min()));const c=He().add(o),d=new Bp(De.min(),new Map,new Ct(et),l,c);await fP(i,d),i.pa=i.pa.remove(o),i.ya.delete(e),l0(i)}else await cy(i.localStore,e,!1).then(()=>hy(i,e,n)).catch(sh)}async function P3(t,e){const n=Me(t),i=e.batch.batchId;try{const s=await qU(n.localStore,e);mP(n,i,null),pP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ch(n,s)}catch(s){await sh(s)}}async function k3(t,e,n){const i=Me(t);try{const s=await function(l,c){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(v=>(wt(v!==null),m=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(i.localStore,e);mP(i,e,n),pP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ch(i,s)}catch(s){await sh(s)}}function pP(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function mP(t,e,n){const i=Me(t);let s=i.Sa[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Sa[i.currentUser.toKey()]=s}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||gP(t,i)})}function gP(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(sP(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),l0(t))}function ST(t,e,n){for(const i of n)i instanceof hP?(t.wa.addReference(i.key,e),N3(t,i)):i instanceof dP?(fe("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||gP(t,i.key)):ke()}function N3(t,e){const n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(fe("SyncEngine","New document in limbo: "+n),t.ga.add(i),l0(t))}function l0(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new _e(pt.fromString(e)),i=t.Da.next();t.ya.set(i,new b3(n)),t.pa=t.pa.insert(n,i),rP(t.remoteStore,new gs(ar(Lp(n.path)),i,"TargetPurposeLimboResolution",B_._e))}}async function ch(t,e,n){const i=Me(t),s=[],o=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,d)=>{l.push(i.va(d,e,n).then(f=>{if((f||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f!=null&&f.fromCache?"not-current":"current"),f){s.push(f);const m=X_.Qi(d.targetId,f);o.push(m)}}))}),await Promise.all(l),i.Va.a_(s),await async function(d,f){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>j.forEach(f,_=>j.forEach(_.ki,E=>m.persistence.referenceDelegate.addReference(v,_.targetId,E)).next(()=>j.forEach(_.qi,E=>m.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))}catch(v){if(!oh(v))throw v;fe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const _=v.targetId;if(!v.fromCache){const E=m.ts.get(_),I=E.snapshotVersion,y=E.withLastLimboFreeSnapshotVersion(I);m.ts=m.ts.insert(_,y)}}}(i.localStore,o))}async function O3(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const i=await eP(n.localStore,e);n.currentUser=e,function(o,l){o.ba.forEach(c=>{c.forEach(d=>{d.reject(new te(L.CANCELLED,l))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ch(n,i._s)}}function D3(t,e){const n=Me(t),i=n.ya.get(e);if(i&&i.Ra)return He().add(i.key);{let s=He();const o=n.fa.get(e);if(!o)return s;for(const l of o){const c=n.ma.get(l);s=s.unionWith(c.view.ua)}return s}}function x3(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R3.bind(null,e),e.Va.a_=y3.bind(null,e.eventManager),e.Va.Fa=_3.bind(null,e.eventManager),e}function L3(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k3.bind(null,e),e}class CT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HU(this.persistence,new jU,e.initialUser,this.serializer)}createPersistence(e){return new FU(J_.jr,this.serializer)}createSharedClientState(e){return new QU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class M3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=O3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v3}()}createDatastore(e){const n=jp(e.databaseInfo.databaseId),i=function(o){return new e3(o)}(e.databaseInfo);return function(o,l,c,d){return new i3(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,c){return new s3(i,s,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>AT(this.syncEngine,n,0),function(){return bT.D()?new bT:new JU}())}createSyncEngine(e,n){return function(s,o,l,c,d,f,m){const v=new I3(s,o,l,c,d,f);return m&&(v.Ca=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=Me(n);fe("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await uh(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=ER.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=i0(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function _v(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await eP(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U3(t);fe("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener(s=>IT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>IT(e.remoteStore,o)),t._onlineComponents=e}function F3(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function U3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await _v(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!F3(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await _v(t,new CT)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await _v(t,new CT);return t._offlineComponents}async function vP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await RT(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await RT(t,new M3))),t._onlineComponents}function B3(t){return vP(t).then(e=>e.syncEngine)}async function Uf(t){const e=await vP(t),n=e.eventManager;return n.onListen=T3.bind(null,e.syncEngine),n.onUnlisten=S3.bind(null,e.syncEngine),n}function j3(t,e,n={}){const i=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new u0({next:_=>{l.enqueueAndForget(()=>s0(o,v));const E=_.docs.has(c);!E&&_.fromCache?f.reject(new te(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?f.reject(new te(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new a0(Lp(c.path),m,{includeMetadataChanges:!0,J_:!0});return r0(o,v)}(await Uf(t),t.asyncQueue,e,n,i)),i.promise}function $3(t,e,n={}){const i=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const m=new u0({next:_=>{l.enqueueAndForget(()=>s0(o,v)),_.fromCache&&d.source==="server"?f.reject(new te(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),v=new a0(c,m,{includeMetadataChanges:!0,J_:!0});return r0(o,v)}(await Uf(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e,n){if(!n)throw new te(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H3(t,e,n,i){if(e===!0&&i===!0)throw new te(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kT(t){if(!_e.isDocumentKey(t))throw new te(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NT(t){if(_e.isDocumentKey(t))throw new te(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(t);throw new te(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function q3(t,e){if(e<=0)throw new te(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new te(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new cF;switch(i.type){case"firstParty":return new pF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new te(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=PT.get(n);i&&(fe("ComponentProvider","Removing Datastore"),PT.delete(n),i.terminate())}(this),Promise.resolve()}}function W3(t,e,n,i={}){var s;const o=(t=Hn(t,hh))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=Pn.MOCK_USER;else{c=hS(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new te(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Pn(f)}t._authCredentials=new hF(new wR(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ui(this.firestore,e,this._query)}}class xn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Es extends Ui{constructor(e,n,i){super(e,n,Lp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new _e(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function h0(t,e,...n){if(t=Ae(t),c0("collection","path",e),t instanceof hh){const i=pt.fromString(e,...n);return NT(i),new Es(t,null,i)}{if(!(t instanceof xn||t instanceof Es))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pt.fromString(e,...n));return NT(i),new Es(t.firestore,null,i)}}function d0(t,e){if(t=Hn(t,hh),c0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new te(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ui(t,null,function(i){return new xs(pt.emptyPath(),i)}(e))}function _P(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=ER.newId()),c0("doc","path",e),t instanceof hh){const i=pt.fromString(e,...n);return kT(i),new xn(t,null,new _e(i))}{if(!(t instanceof xn||t instanceof Es))throw new te(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(pt.fromString(e,...n));return kT(i),new xn(t.firestore,t instanceof Es?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new nP(this,"async_queue_retry"),this.iu=()=>{const n=yv();n&&fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=yv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=yv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new kr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!oh(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw Lr("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=n0.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(s),s}su(){this.eu&&ke()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function DT(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Vr extends hh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new K3}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wP(this),this._firestoreClient.terminate()}}function G3(t,e){const n=typeof t=="object"?t:qc(),i=typeof t=="string"?t:e||"(default)",s=Fo(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Yy("firestore");o&&W3(s,...o)}return s}function Wp(t){return t._firestoreClient||wP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wP(t){var e,n,i;const s=t._freezeSettings(),o=function(c,d,f,m){return new SF(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yP(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new V3(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cl(Ln.fromBase64String(e))}catch(n){throw new te(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cl(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=/^__.*__$/;class Y3{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new ah(e,this.data,n,this.fieldTransforms)}}class EP{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Gp{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Au(e),s}Ru(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:i,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Bf(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(bP(this.Iu)&&z3.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Q3{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||jp(e)}pu(e,n,i,s=!1){return new Gp({Iu:e,methodName:n,gu:i,path:En.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fh(t){const e=t._freezeSettings(),n=jp(t._databaseId);return new Q3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IP(t,e,n,i,s,o={}){const l=t.pu(o.merge||o.mergeFields?2:0,e,n,s);p0("Data must be an object, but it was:",l,i);const c=SP(i,l);let d,f;if(o.merge)d=new ci(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const _=dy(e,v,n);if(!l.contains(_))throw new te(L.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);RP(m,_)||m.push(_)}d=new ci(m),f=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=l.fieldTransforms;return new Y3(new Yn(c),d,f)}class zp extends dh{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function TP(t,e,n){return new Gp({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class J3 extends dh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=TP(this,e,!0),i=this.yu.map(o=>Ho(o,n)),s=new ol(i);return new $R(e.path,s)}isEqual(e){return this===e}}class X3 extends dh{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=TP(this,e,!0),i=this.yu.map(o=>Ho(o,n)),s=new al(i);return new $R(e.path,s)}isEqual(e){return this===e}}function Z3(t,e,n,i){const s=t.pu(1,e,n);p0("Data must be an object, but it was:",s,i);const o=[],l=Yn.empty();jo(i,(d,f)=>{const m=m0(e,d,n);f=Ae(f);const v=s.Ru(m);if(f instanceof zp)o.push(m);else{const _=Ho(f,v);_!=null&&(o.push(m),l.set(m,_))}});const c=new ci(o);return new EP(l,c,s.fieldTransforms)}function e9(t,e,n,i,s,o){const l=t.pu(1,e,n),c=[dy(e,i,n)],d=[s];if(o.length%2!=0)throw new te(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(dy(e,o[_])),d.push(o[_+1]);const f=[],m=Yn.empty();for(let _=c.length-1;_>=0;--_)if(!RP(f,c[_])){const E=c[_];let I=d[_];I=Ae(I);const y=l.Ru(E);if(I instanceof zp)f.push(E);else{const b=Ho(I,y);b!=null&&(f.push(E),m.set(E,b))}}const v=new ci(f);return new EP(m,v,l.fieldTransforms)}function AP(t,e,n,i=!1){return Ho(n,t.pu(i?4:3,e))}function Ho(t,e){if(CP(t=Ae(t)))return p0("Unsupported field value:",e,t),SP(t,e);if(t instanceof dh)return function(i,s){if(!bP(s.Iu))throw s.mu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const c of i){let d=Ho(c,s.Vu(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=Ae(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return GF(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Yt.fromDate(i);return{timestampValue:Vf(s.serializer,o)}}if(i instanceof Yt){const o=new Yt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vf(s.serializer,o)}}if(i instanceof f0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cl)return{bytesValue:zR(s.serializer,i._byteString)};if(i instanceof xn){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Y_(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.mu(`Unsupported field value: ${qp(i)}`)}(t,e)}function SP(t,e){const n={};return bR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(i,s)=>{const o=Ho(s,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function CP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof f0||t instanceof cl||t instanceof xn||t instanceof dh)}function p0(t,e,n){if(!CP(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=qp(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function dy(t,e,n){if((e=Ae(e))instanceof Kp)return e._internalPath;if(typeof e=="string")return m0(t,e);throw Bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const t9=new RegExp("[~\\*/\\[\\]]");function m0(t,e,n){if(e.search(t9)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kp(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bf(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${s}`),d+=")"),new te(L.INVALID_ARGUMENT,c+t+d)}function RP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n9 extends g0{data(){return super.data()}}function Yp(t,e){return typeof e=="string"?m0(t,e):e instanceof Kp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class Qp extends v0{}function hl(t,e,...n){let i=[];e instanceof v0&&i.push(e),i=i.concat(n),function(o){const l=o.filter(d=>d instanceof y0).length,c=o.filter(d=>d instanceof Jp).length;if(l>1||l>0&&c>0)throw new te(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Jp extends Qp{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Jp(e,n,i)}_apply(e){const n=this._parse(e);return NP(e._query,n),new Ui(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=fh(e.firestore);return function(o,l,c,d,f,m,v){let _;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new te(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){LT(v,m);const E=[];for(const I of v)E.push(xT(d,o,I));_={arrayValue:{values:E}}}else _=xT(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||LT(v,m),_=AP(c,l,v,m==="in"||m==="not-in");return zt.create(f,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vs(t,e,n){const i=e,s=Yp("where",t);return Jp._create(s,i,n)}class y0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y0(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)NP(l,d),l=sy(l,d)}(e._query,n),new Ui(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends Qp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _0(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new te(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(o,l)}(e._query,this._field,this._direction);return new Ui(e.firestore,e.converter,function(s,o){const l=s.explicitOrderBy.concat([o]);return new xs(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function jf(t,e="asc"){const n=e,i=Yp("orderBy",t);return _0._create(i,n)}class w0 extends Qp{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new w0(e,n,i)}_apply(e){return new Ui(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function $f(t){return q3("limit",t),w0._create("limit",t,"F")}class E0 extends Qp{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new E0(e,n,i)}_apply(e){const n=i9(e,this.type,this._docOrFields,this._inclusive);return new Ui(e.firestore,e.converter,function(s,o){return new xs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)}(e._query,n))}}function kP(...t){return E0._create("startAfter",t,!1)}function i9(t,e,n,i){if(n[0]=Ae(n[0]),n[0]instanceof g0)return function(o,l,c,d,f){if(!d)throw new te(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const v of qa(o))if(v.field.isKeyField())m.push(Df(l,d.key));else{const _=d.data.field(v.field);if(xp(_))throw new te(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const E=v.field.canonicalString();throw new te(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}m.push(_)}return new sl(m,f)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const s=fh(t.firestore);return function(l,c,d,f,m,v){const _=l.explicitOrderBy;if(m.length>_.length)throw new te(L.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let I=0;I<m.length;I++){const y=m[I];if(_[I].field.isKeyField()){if(typeof y!="string")throw new te(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof y}`);if(!W_(l)&&y.indexOf("/")!==-1)throw new te(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${y}' contains a slash.`);const b=l.path.child(pt.fromString(y));if(!_e.isDocumentKey(b))throw new te(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const C=new _e(b);E.push(Df(c,C))}else{const b=AP(d,f,y);E.push(b)}}return new sl(E,v)}(t._query,t.firestore._databaseId,s,e,n,i)}}function xT(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new te(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W_(e)&&n.indexOf("/")!==-1)throw new te(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(pt.fromString(n));if(!_e.isDocumentKey(i))throw new te(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Df(t,new _e(i))}if(n instanceof xn)return Df(t,n._key);throw new te(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(n)}.`)}function LT(t,e){if(!Array.isArray(t)||t.length===0)throw new te(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NP(t,e){const n=function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r9{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return jo(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new f0(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=j_(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=pt.fromString(e);wt(ZR(i));const s=new Dc(i.get(1),i.get(3)),o=new _e(i.popFirst(5));return s.isEqual(n)||Lr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DP extends g0{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Yp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class uf extends DP{data(e={}){return super.data(e)}}class xP{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new uf(this._firestore,this._userDataWriter,i.key,i,new Zu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new uf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new uf(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:s9(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(t){t=Hn(t,xn);const e=Hn(t.firestore,Vr);return j3(Wp(e),t._key).then(n=>LP(e,t,n))}class b0 extends r9{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function dl(t){t=Hn(t,Ui);const e=Hn(t.firestore,Vr),n=Wp(e),i=new b0(e);return PP(t._query),$3(n,t._query).then(s=>new xP(e,i,t,s))}function OH(t,e,n){t=Hn(t,xn);const i=Hn(t.firestore,Vr),s=OP(t.converter,e,n);return Xp(i,[IP(fh(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vi.none())])}function DH(t,e,n,...i){t=Hn(t,xn);const s=Hn(t.firestore,Vr),o=fh(s);let l;return l=typeof(e=Ae(e))=="string"||e instanceof Kp?e9(o,"updateDoc",t._key,e,n,i):Z3(o,"updateDoc",t._key,e),Xp(s,[l.toMutation(t._key,vi.exists(!0))])}function xH(t){return Xp(Hn(t.firestore,Vr),[new K_(t._key,vi.none())])}function LH(t,e){const n=Hn(t.firestore,Vr),i=_P(t),s=OP(t.converter,e);return Xp(n,[IP(fh(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,vi.exists(!1))]).then(()=>i)}function MH(t,...e){var n,i,s;t=Ae(t);let o={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||DT(e[l])||(o=e[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(DT(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let d,f,m;if(t instanceof xn)f=Hn(t.firestore,Vr),m=Lp(t._key.path),d={next:v=>{e[l]&&e[l](LP(f,t,v))},error:e[l+1],complete:e[l+2]};else{const v=Hn(t,Ui);f=Hn(v.firestore,Vr),m=v._query;const _=new b0(f);d={next:E=>{e[l]&&e[l](new xP(f,_,v,E))},error:e[l+1],complete:e[l+2]},PP(t._query)}return function(_,E,I,y){const b=new u0(y),C=new a0(E,b,I);return _.asyncQueue.enqueueAndForget(async()=>r0(await Uf(_),C)),()=>{b.Na(),_.asyncQueue.enqueueAndForget(async()=>s0(await Uf(_),C))}}(Wp(f),m,c,d)}function Xp(t,e){return function(i,s){const o=new kr;return i.asyncQueue.enqueueAndForget(async()=>C3(await B3(i),s,o)),o.promise}(Wp(t),e)}function LP(t,e,n){const i=n.docs.get(e._key),s=new b0(t);return new DP(t,s,e._key,i,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}function VH(...t){return new J3("arrayUnion",t)}function FH(...t){return new X3("arrayRemove",t)}(function(e,n=!0){(function(s){Al=s})(Ur),ur(new Oi("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Vr(new dF(i.getProvider("auth-internal")),new gF(i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new te(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(f.options.projectId,m)}(l,s),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$n(eT,"4.3.2",e),$n(eT,"4.3.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="type.googleapis.com/google.protobuf.Int64Value",l9="type.googleapis.com/google.protobuf.UInt64Value";function MP(t,e){const n={};for(const i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}function fy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>fy(e));if(typeof t=="function"||typeof t=="object")return MP(t,e=>fy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Hf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case a9:case l9:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Hf(e)):typeof t=="function"||typeof t=="object"?MP(t,e=>Hf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ka extends bn{constructor(e,n,i){super(`${I0}/${e}`,n||""),this.details=i}}function u9(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function c9(t,e){let n=u9(t),i=n,s;try{const o=e&&e.error;if(o){const l=o.status;if(typeof l=="string"){if(!MT[l])return new Ka("internal","internal");n=MT[l],i=l}const c=o.message;typeof c=="string"&&(i=c),s=o.details,s!==void 0&&(s=Hf(s))}}catch{}return n==="ok"?null:new Ka(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="us-central1";function d9(t){let e=null;return{promise:new Promise((n,i)=>{e=setTimeout(()=>{i(new Ka("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class f9{constructor(e,n,i,s,o=py,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new h9(n,i,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin,this.region=py}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function p9(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function m9(t,e,n){return i=>v9(t,e,i,n||{})}async function g9(t,e,n,i){n["Content-Type"]="application/json";let s;try{s=await i(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}function v9(t,e,n,i){const s=t._url(e);return y9(t,s,n,i)}async function y9(t,e,n,i){n=fy(n);const s={data:n},o={},l=await t.contextProvider.getContext(i.limitedUseAppCheckTokens);l.authToken&&(o.Authorization="Bearer "+l.authToken),l.messagingToken&&(o["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(o["X-Firebase-AppCheck"]=l.appCheckToken);const c=i.timeout||7e4,d=d9(c),f=await Promise.race([g9(e,s,o,t.fetchImpl),d.promise,t.cancelAllRequests]);if(d.cancel(),!f)throw new Ka("cancelled","Firebase Functions instance was deleted.");const m=c9(f.status,f.json);if(m)throw m;if(!f.json)throw new Ka("internal","Response is not valid JSON object.");let v=f.json.data;if(typeof v>"u"&&(v=f.json.result),typeof v>"u")throw new Ka("internal","Response is missing data field.");return{data:Hf(v)}}const VT="@firebase/functions",FT="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="auth-internal",w9="app-check-internal",E9="messaging-internal";function b9(t,e){const n=(i,{instanceIdentifier:s})=>{const o=i.getProvider("app").getImmediate(),l=i.getProvider(_9),c=i.getProvider(E9),d=i.getProvider(w9);return new f9(o,l,c,d,s,t)};ur(new Oi(I0,n,"PUBLIC").setMultipleInstances(!0)),$n(VT,FT,e),$n(VT,FT,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t=qc(),e=py){const i=Fo(Ae(t),I0).getImmediate({identifier:e}),s=Yy("functions");return s&&I9(i,...s),i}function I9(t,e,n){p9(Ae(t),e,n)}function pr(t,e,n){return m9(Ae(t),e,n)}b9(fetch.bind(self));const T9={apiKey:"AIzaSyAns9BWcC3bmgEXxLBOrTy57wqnbKqGPLQ",authDomain:"croplink-30e3c.firebaseapp.com",projectId:"croplink-30e3c",storageBucket:"croplink-30e3c.appspot.com",messagingSenderId:"25315620274",appId:"1:25315620274:web:12e23c7db1827527b4a0ab",measurementId:"G-2RDY6XGWPC"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="firebasestorage.googleapis.com",FP="storageBucket",A9=2*60*1e3,S9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends bn{constructor(e,n,i=0){super(wv(e),`Firebase Storage: ${n} (${wv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Mi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Mi||(Mi={}));function wv(t){return"storage/"+t}function C9(){const t="An unknown error occurred, please check the error payload for server response.";return new ji(Mi.UNKNOWN,t)}function R9(){return new ji(Mi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P9(){return new ji(Mi.CANCELED,"User canceled the upload/download.")}function k9(t){return new ji(Mi.INVALID_URL,"Invalid URL '"+t+"'.")}function N9(t){return new ji(Mi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function O9(){return new ji(Mi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FP+"' property when initializing the app?")}function my(t){return new ji(Mi.INVALID_ARGUMENT,t)}function UP(){return new ji(Mi.APP_DELETED,"The Firebase app was deleted.")}function D9(t){return new ji(Mi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=gi.makeFromUrl(e,n)}catch{return new gi(e,"")}if(i.path==="")return i;throw N9(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const m="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${m}/b/${s}/o${_}`,"i"),I={bucket:1,path:3},y=n===VP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",C=new RegExp(`^https?://${y}/${s}/${b}`,"i"),M=[{regex:c,indices:d,postModify:o},{regex:E,indices:I,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<M.length;x++){const Y=M[x],oe=Y.regex.exec(e);if(oe){const de=oe[Y.indices.bucket];let q=oe[Y.indices.path];q||(q=""),i=new gi(de,q),Y.postModify(i);break}}if(i==null)throw k9(e);return i}}class x9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function m(...b){f||(f=!0,e.apply(null,b))}function v(b){s=setTimeout(()=>{s=null,t(E,d())},b)}function _(){o&&clearTimeout(o)}function E(b,...C){if(f){_();return}if(b){_(),m.call(null,b,...C);return}if(d()||l){_(),m.call(null,b,...C);return}i<64&&(i*=2);let M;c===1?(c=2,M=0):M=(i+Math.random())*1e3,v(M)}let I=!1;function y(b){I||(I=!0,_(),!f&&(s!==null?(b||(c=2),clearTimeout(s),v(0)):b||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,y(!0)},n),y}function M9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t){return t!==void 0}function UT(t,e,n,i){if(i<e)throw my(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw my(`Invalid value for '${t}'. Expected ${n} or less.`)}function F9(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qf||(qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,i,s,o,l,c,d,f,m,v,_=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=v,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,I)=>{this.resolve_=E,this.reject_=I,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Hd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===qf.NO_ERROR,d=o.getStatus();if(!c||U9(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===qf.ABORT;i(!1,new Hd(!1,null,m));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new Hd(f,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());V9(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=C9();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?UP():P9();l(d)}else{const d=R9();l(d)}};this.canceled_?n(!1,new Hd(!1,null,!0)):this.backoffId_=L9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&M9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function j9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function H9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function q9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function W9(t,e,n,i,s,o,l=!0){const c=F9(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return H9(f,e),j9(f,n),$9(f,o),q9(f,i),new B9(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G9(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function z9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this._service=e,n instanceof gi?this._location=n:this._location=gi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Oo(e,n)}get root(){const e=new gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z9(this._location.path)}get storage(){return this._service}get parent(){const e=K9(this._location.path);if(e===null)return null;const n=new gi(this._location.bucket,e);return new Oo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw D9(e)}}function Y9(t,e){const n=G9(t._location.path,e),i=new gi(t._location.bucket,n);return new Oo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){return/^[A-Za-z]+:\/\//.test(t)}function J9(t,e){return new Oo(t,e)}function BP(t,e){if(t instanceof T0){const n=t;if(n._bucket==null)throw O9();const i=new Oo(n,n._bucket);return e!=null?BP(i,e):i}else return e!==void 0?Y9(t,e):t}function X9(t,e){if(e&&Q9(e)){if(t instanceof T0)return J9(t,e);throw my("To use ref(service, url), the first argument must be a Storage instance.")}else return BP(t,e)}function BT(t,e){const n=e==null?void 0:e[FP];return n==null?null:gi.makeFromBucketSpec(n,t)}function Z9(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:hS(s,t.app.options.projectId))}class T0{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=VP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=A9,this._maxUploadRetryTime=S9,this._requests=new Set,s!=null?this._bucket=gi.makeFromBucketSpec(s,this._host):this._bucket=BT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,e):this._bucket=BT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oo(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new x9(UP());{const l=W9(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const jT="@firebase/storage",$T="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="storage";function e5(t,e){return t=Ae(t),X9(t,e)}function t5(t=qc(),e){t=Ae(t);const i=Fo(t,jP).getImmediate({identifier:e}),s=Yy("storage");return s&&n5(i,...s),i}function n5(t,e,n,i={}){Z9(t,e,n,i)}function i5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new T0(n,i,s,e,Ur)}function r5(){ur(new Oi(jP,i5,"PUBLIC").setMultipleInstances(!0)),$n(jT,$T,""),$n(jT,$T,"esm2017")}r5();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n){this._delegate=e,this.firebase=n,_f(e,new Oi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),wS(this._delegate)))}_getService(e,n=Ts){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ts){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){_f(this._delegate,e)}_addOrOverwriteComponent(e){_S(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},HT=new Vo("app-compat","Firebase",o5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){const e={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:$n,setLogLevel:bS,onLog:ES,apps:null,SDK_VERSION:Ur,INTERNAL:{registerComponent:c,removeApp:i,useAsService:d,modularAPIs:Lx}};n.default=n,Object.defineProperty(n,"apps",{get:l});function i(f){delete e[f]}function s(f){if(f=f||Ts,!pI(e,f))throw HT.create("no-app",{appName:f});return e[f]}s.App=t;function o(f,m={}){const v=sp(f,m);if(pI(e,v.name))return e[v.name];const _=new t(v,n);return e[v.name]=_,_}function l(){return Object.keys(e).map(f=>e[f])}function c(f){const m=f.name,v=m.replace("-compat","");if(ur(f)&&f.type==="PUBLIC"){const _=(E=s())=>{if(typeof E[v]!="function")throw HT.create("invalid-app-argument",{appName:m});return E[v]()};f.serviceProps!==void 0&&gf(_,f.serviceProps),n[v]=_,t.prototype[v]=function(...E){return this._getService.bind(this,m).apply(this,f.multipleInstances?E:[])}}return f.type==="PUBLIC"?n[v]:null}function d(f,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){const t=a5(s5);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:$P,extendNamespace:e,createSubscribe:mS,ErrorFactory:Vo,deepExtend:gf});function e(n){gf(t,n)}return t}const l5=$P();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new rp("@firebase/app-compat"),u5="@firebase/app-compat",c5="0.2.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){$n(u5,c5,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(_D()&&self.firebase!==void 0){qT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&qT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ye=l5;h5();var d5="firebase",f5="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ye.registerVersion(d5,f5,"app-compat");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=2e3;async function m5(t,e,n){var i;const{BuildInfo:s}=Do();Di(e.sessionId,"AuthEvent did not contain a session ID");const o=await w5(e.sessionId),l={};return wl()?l.ibi=s.packageName:Kc()?l.apn=s.packageName:mn(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=o,$v(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,l)}async function g5(t){const{BuildInfo:e}=Do(),n={};wl()?n.iosBundleId=e.packageName:Kc()?n.androidPackageName=e.packageName:mn(t,"operation-not-supported-in-this-environment"),await pC(t,n)}function v5(t){const{cordova:e}=Do();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,oL()?"_blank":"_system","location=yes"),n(s)})})}async function y5(t,e,n){const{cordova:i}=Do();let s=()=>{};try{await new Promise((o,l)=>{let c=null;function d(){var v;o();const _=(v=i.plugins.browsertab)===null||v===void 0?void 0:v.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function f(){c||(c=window.setTimeout(()=>{l(In(t,"redirect-cancelled-by-user"))},p5))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Kc()&&document.addEventListener("visibilitychange",m,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",m,!1),c&&window.clearTimeout(c)}})}finally{s()}}function _5(t){var e,n,i,s,o,l,c,d,f,m;const v=Do();z(typeof((e=v==null?void 0:v.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof((n=v==null?void 0:v.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z(typeof((o=(s=(i=v==null?void 0:v.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z(typeof((d=(c=(l=v==null?void 0:v.cordova)===null||l===void 0?void 0:l.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z(typeof((m=(f=v==null?void 0:v.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function w5(t){const e=E5(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function E5(t){if(Di(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=20;class I5 extends dC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function T5(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:C5(),postBody:null,tenantId:t.tenantId,error:In(t,"no-auth-event")}}function A5(t,e){return gy()._set(vy(t),e)}async function WT(t){const e=await gy()._get(vy(t));return e&&await gy()._remove(vy(t)),e}function S5(t,e){var n,i;const s=P5(e);if(s.includes("/__/auth/callback")){const o=cf(s),l=o.firebaseError?R5(decodeURIComponent(o.firebaseError)):null,c=(i=(n=l==null?void 0:l.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],d=c?In(c):null;return d?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function C5(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<b5;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function gy(){return ui(fp)}function vy(t){return Eo("authEvent",t.config.apiKey,t.name)}function R5(t){try{return JSON.parse(t)}catch{return null}}function P5(t){const e=cf(t),n=e.link?decodeURIComponent(e.link):void 0,i=cf(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return cf(s).link||s||i||n||t}function cf(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Va(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=500;class N5{constructor(){this._redirectPersistence=Ss,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vp,this._overrideRedirectResult=m_}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new I5(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){mn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){_5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),dV(),await this._originValidation(e);const l=T5(e,i,s);await A5(e,l);const c=await m5(e,l,n),d=await v5(c);return y5(e,o,d)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g5(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=Do(),l=setTimeout(async()=>{await WT(e),n.onEvent(KT())},k5),c=async m=>{clearTimeout(l);const v=await WT(e);let _=null;v&&(m!=null&&m.url)&&(_=S5(v,m.url)),n.onEvent(_||KT())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const d=s,f=`${o.packageName.toLowerCase()}://`;Do().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(f)&&c({url:m}),typeof d=="function")try{d(m)}catch(v){console.error(v)}}}}const O5=N5;function KT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:In("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e){Dt(t)._logFramework(e)}var x5="@firebase/auth-compat",L5="0.4.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=1e3;function uc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function V5(){return uc()==="http:"||uc()==="https:"}function HP(t=Qt()){return!!((uc()==="file:"||uc()==="ionic:"||uc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function F5(){return Qy()||dS()}function U5(){return pS()&&(document==null?void 0:document.documentMode)===11}function B5(t=Qt()){return/Edge\/\d+/.test(t)}function j5(t=Qt()){return U5()||B5(t)}function qP(){try{const t=self.localStorage,e=zc();if(t)return t.setItem(e,"1"),t.removeItem(e),j5()?vf():!0}catch{return A0()&&vf()}return!1}function A0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ev(){return(V5()||fS()||HP())&&!F5()&&qP()&&!A0()}function WP(){return HP()&&typeof document<"u"}async function $5(){return WP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},M5);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function H5(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={LOCAL:"local",NONE:"none",SESSION:"session"},Bu=z,KP="persistence";function q5(t,e){if(Bu(Object.values(ai).includes(e),t,"invalid-persistence-type"),Qy()){Bu(e!==ai.SESSION,t,"unsupported-persistence-type");return}if(dS()){Bu(e===ai.NONE,t,"unsupported-persistence-type");return}if(A0()){Bu(e===ai.NONE||e===ai.LOCAL&&vf(),t,"unsupported-persistence-type");return}Bu(e===ai.NONE||qP(),t,"unsupported-persistence-type")}async function yy(t){await t._initializationPromise;const e=GP(),n=Eo(KP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function W5(t,e){const n=GP();if(!n)return[];const i=Eo(KP,t,e);switch(n.getItem(i)){case ai.NONE:return[Ja];case ai.LOCAL:return[Za,Ss];case ai.SESSION:return[Ss];default:return[]}}function GP(){var t;try{return((t=H5())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=z;class ys{constructor(){this.browserResolver=ui(mC),this.cordovaResolver=ui(O5),this.underlyingResolver=null,this._redirectPersistence=Ss,this._completeRedirectFn=vp,this._overrideRedirectResult=m_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return WP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return K5(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await $5();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){return t.unwrap()}function G5(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){return YP(t)}function Y5(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new Q5(t,yM(t,e))}else if(i){const s=YP(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function YP(t){const{_tokenResponse:e}=t instanceof bn?t.customData:t;if(!e)return null;if(!(t instanceof bn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ro.credentialFromResult(t);const n=e.providerId;if(!n||n===Mu.PASSWORD)return null;let i;switch(n){case Mu.GOOGLE:i=Zi;break;case Mu.FACEBOOK:i=Xi;break;case Mu.GITHUB:i=er;break;case Mu.TWITTER:i=tr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:l,pendingToken:c,nonce:d}=e;return!o&&!l&&!s&&!c?null:c?n.startsWith("saml.")?Xa._create(n,c):cr._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new Ba(n).credential({idToken:s,accessToken:o,rawNonce:d})}return t instanceof bn?i.credentialFromError(t):i.credentialFromResult(t)}function Gn(t,e){return e.catch(n=>{throw n instanceof bn&&Y5(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:z5(n),additionalUserInfo:pM(n),user:Cr.getOrCreate(s)}})}async function _y(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>Gn(t,n.confirm(i))}}class Q5{constructor(e,n){this.resolver=n,this.auth=G5(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Gn(zP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._delegate=e,this.multiFactor=bM(e)}static getOrCreate(e){return Cr.USER_MAP.has(e)||Cr.USER_MAP.set(e,new Cr(e)),Cr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Gn(this.auth,QS(this._delegate,e))}async linkWithPhoneNumber(e,n){return _y(this.auth,ZM(this._delegate,e,n))}async linkWithPopup(e){return Gn(this.auth,lV(this._delegate,e,ys))}async linkWithRedirect(e){return await yy(Dt(this.auth)),vV(this._delegate,e,ys)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Gn(this.auth,JS(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return _y(this.auth,eV(this._delegate,e,n))}reauthenticateWithPopup(e){return Gn(this.auth,aV(this._delegate,e,ys))}async reauthenticateWithRedirect(e){return await yy(Dt(this.auth)),mV(this._delegate,e,ys)}sendEmailVerification(e){return iM(this._delegate,e)}async unlink(e){return await HL(this._delegate,e),this}updateEmail(e){return aM(this._delegate,e)}updatePassword(e){return lM(this._delegate,e)}updatePhoneNumber(e){return tV(this._delegate,e)}updateProfile(e){return oM(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return rM(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=z;class wy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;ju(i,"invalid-api-key",{appName:e.name}),ju(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?ys:void 0;this._delegate=n.initialize({options:{persistence:J5(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(Vx),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){jS(this._delegate,e,n)}applyActionCode(e){return zL(this._delegate,e)}checkActionCode(e){return XS(this._delegate,e)}confirmPasswordReset(e,n){return GL(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Gn(this._delegate,QL(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return nM(this._delegate,e)}isSignInWithEmailLink(e){return ZL(this._delegate,e)}async getRedirectResult(){ju(Ev(),this._delegate,"operation-not-supported-in-this-environment");const e=await _V(this._delegate,ys);return e?Gn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){D5(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:o,complete:l}=GT(e,n,i);return this._delegate.onAuthStateChanged(s,o,l)}onIdTokenChanged(e,n,i){const{next:s,error:o,complete:l}=GT(e,n,i);return this._delegate.onIdTokenChanged(s,o,l)}sendSignInLinkToEmail(e,n){return XL(this._delegate,e,n)}sendPasswordResetEmail(e,n){return KL(this._delegate,e,n||void 0)}async setPersistence(e){q5(this._delegate,e);let n;switch(e){case ai.SESSION:n=Ss;break;case ai.LOCAL:n=await ui(Za)._isAvailable()?Za:fp;break;case ai.NONE:n=Ja;break;default:return mn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Gn(this._delegate,$L(this._delegate))}signInWithCredential(e){return Gn(this._delegate,hp(this._delegate,e))}signInWithCustomToken(e){return Gn(this._delegate,WL(this._delegate,e))}signInWithEmailAndPassword(e,n){return Gn(this._delegate,JL(this._delegate,e,n))}signInWithEmailLink(e,n){return Gn(this._delegate,eM(this._delegate,e,n))}signInWithPhoneNumber(e,n){return _y(this._delegate,XM(this._delegate,e,n))}async signInWithPopup(e){return ju(Ev(),this._delegate,"operation-not-supported-in-this-environment"),Gn(this._delegate,oV(this._delegate,e,ys))}async signInWithRedirect(e){return ju(Ev(),this._delegate,"operation-not-supported-in-this-environment"),await yy(this._delegate),fV(this._delegate,e,ys)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return YL(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}wy.Persistence=ai;function GT(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:l=>s(l&&Cr.getOrCreate(l)),error:e,complete:n}}function J5(t,e){const n=W5(t,e);if(typeof self<"u"&&!n.includes(Za)&&n.push(Za),typeof window<"u")for(const i of[fp,Ss])n.includes(i)||n.push(i);return n.includes(Ja)||n.push(Ja),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.providerId="phone",this._delegate=new Ro(zP(ye.auth()))}static credential(e,n){return Ro.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}S0.PHONE_SIGN_IN_METHOD=Ro.PHONE_SIGN_IN_METHOD;S0.PROVIDER_ID=Ro.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=z;class Z5{constructor(e,n,i=ye.app()){var s;X5((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new QM(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="auth-compat";function t6(t){t.INTERNAL.registerComponent(new Oi(e6,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new wy(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Pa.EMAIL_SIGNIN,PASSWORD_RESET:Pa.PASSWORD_RESET,RECOVER_EMAIL:Pa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Pa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Pa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Pa.VERIFY_EMAIL}},EmailAuthProvider:Ns,FacebookAuthProvider:Xi,GithubAuthProvider:er,GoogleAuthProvider:Zi,OAuthProvider:Ba,SAMLAuthProvider:Ef,PhoneAuthProvider:S0,PhoneMultiFactorGenerator:gC,RecaptchaVerifier:Z5,TwitterAuthProvider:tr,Auth:wy,AuthCredential:El,Error:bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(x5,L5)}t6(ye);function n6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QP={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(b,C){C=C||{};var P=document.createEvent("CustomEvent");return P.initCustomEvent(b,!!C.bubbles,!!C.cancelable,C.detail||null),P},e.prototype=window.Event.prototype);function n(y){for(;y&&y!==document.body;){var b=window.getComputedStyle(y),C=function(P,M){return!(b[P]===void 0||b[P]===M)};if(b.opacity<1||C("zIndex","auto")||C("transform","none")||C("mixBlendMode","normal")||C("filter","none")||C("perspective","none")||b.isolation==="isolate"||b.position==="fixed"||b.webkitOverflowScrolling==="touch")return!0;y=y.parentElement}return!1}function i(y){for(;y;){if(y.localName==="dialog")return y;y=y.parentElement}return null}function s(y){y&&y.blur&&y!==document.body&&y.blur()}function o(y,b){for(var C=0;C<y.length;++C)if(y[C]===b)return!0;return!1}function l(y){return!y||!y.hasAttribute("method")?!1:y.getAttribute("method").toLowerCase()==="dialog"}function c(y){if(this.dialog_=y,this.replacedStyleTop_=!1,this.openAsModal_=!1,y.hasAttribute("role")||y.setAttribute("role","dialog"),y.show=this.show.bind(this),y.showModal=this.showModal.bind(this),y.close=this.close.bind(this),"returnValue"in y||(y.returnValue=""),"MutationObserver"in window){var b=new MutationObserver(this.maybeHideModal.bind(this));b.observe(y,{attributes:!0,attributeFilter:["open"]})}else{var C=!1,P=(function(){C?this.downgradeModal():this.maybeHideModal(),C=!1}).bind(this),M,x=function(Y){if(Y.target===y){var oe="DOMNodeRemoved";C|=Y.type.substr(0,oe.length)===oe,window.clearTimeout(M),M=window.setTimeout(P,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Y){y.addEventListener(Y,x)})}Object.defineProperty(y,"open",{set:this.setOpen.bind(this),get:y.hasAttribute.bind(y,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(y){y?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(y){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var b=document.createElement("div");this.dialog_.insertBefore(b,this.dialog_.firstChild),b.tabIndex=-1,b.focus(),this.dialog_.removeChild(b)}var C=document.createEvent("MouseEvents");C.initMouseEvent(y.type,y.bubbles,y.cancelable,window,y.detail,y.screenX,y.screenY,y.clientX,y.clientY,y.ctrlKey,y.altKey,y.shiftKey,y.metaKey,y.button,y.relatedTarget),this.dialog_.dispatchEvent(C),y.stopPropagation()},focus_:function(){var y=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!y&&this.dialog_.tabIndex>=0&&(y=this.dialog_),!y){var b=["button","input","keygen","select","textarea"],C=b.map(function(P){return P+":not([disabled])"});C.push('[tabindex]:not([disabled]):not([tabindex=""])'),y=this.dialog_.querySelector(C.join(", "))}s(document.activeElement),y&&y.focus()},updateZIndex:function(y,b){if(y<b)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=y,this.backdrop_.style.zIndex=b},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(y){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),y!==void 0&&(this.dialog_.returnValue=y);var b=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(b)}};var d={};if(d.reposition=function(y){var b=document.body.scrollTop||document.documentElement.scrollTop,C=b+(window.innerHeight-y.offsetHeight)/2;y.style.top=Math.max(b,C)+"px"},d.isInlinePositionSetByStylesheet=function(y){for(var b=0;b<document.styleSheets.length;++b){var C=document.styleSheets[b],P=null;try{P=C.cssRules}catch{}if(P)for(var M=0;M<P.length;++M){var x=P[M],Y=null;try{Y=document.querySelectorAll(x.selectorText)}catch{}if(!(!Y||!o(Y,y))){var oe=x.style.getPropertyValue("top"),de=x.style.getPropertyValue("bottom");if(oe&&oe!=="auto"||de&&de!=="auto")return!0}}}return!1},d.needsCentering=function(y){var b=window.getComputedStyle(y);return b.position!=="absolute"||y.style.top!=="auto"&&y.style.top!==""||y.style.bottom!=="auto"&&y.style.bottom!==""?!1:!d.isInlinePositionSetByStylesheet(y)},d.forceRegisterDialog=function(y){if((window.HTMLDialogElement||y.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",y),y.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(y)},d.registerDialog=function(y){y.showModal||d.forceRegisterDialog(y)},d.DialogManager=function(){this.pendingDialogStack=[];var y=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(b){this.forwardTab_=void 0,b.stopPropagation(),y([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=1e5+150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(b){var C=[];b.forEach(function(P){for(var M=0,x;x=P.removedNodes[M];++M){if(x instanceof Element)x.localName==="dialog"&&C.push(x);else continue;C=C.concat(x.querySelectorAll("dialog"))}}),C.length&&y(C)}))},d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var y=this.zIndexHigh_,b=0,C;C=this.pendingDialogStack[b];++b)C.updateZIndex(--y,--y),b===0&&(this.overlay.style.zIndex=--y);var P=this.pendingDialogStack[0];if(P){var M=P.dialog.parentNode||document.body;M.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(y){for(;y=i(y);){for(var b=0,C;C=this.pendingDialogStack[b];++b)if(C.dialog===y)return b===0;y=y.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(y){if(!this.containedByTopDialog_(y.target)&&(y.preventDefault(),y.stopPropagation(),s(y.target),this.forwardTab_!==void 0)){var b=this.pendingDialogStack[0],C=b.dialog,P=C.compareDocumentPosition(y.target);return P&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?b.focus_():document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(y){if(this.forwardTab_=void 0,y.keyCode===27){y.preventDefault(),y.stopPropagation();var b=new e("cancel",{bubbles:!1,cancelable:!0}),C=this.pendingDialogStack[0];C&&C.dialog.dispatchEvent(b)&&C.dialog.close()}else y.keyCode===9&&(this.forwardTab_=!y.shiftKey)},d.DialogManager.prototype.checkDOM_=function(y){var b=this.pendingDialogStack.slice();b.forEach(function(C){y.indexOf(C.dialog)!==-1?C.downgradeModal():C.maybeHideModal()})},d.DialogManager.prototype.pushDialog=function(y){var b=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=b?!1:(this.pendingDialogStack.unshift(y)===1&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(y){var b=this.pendingDialogStack.indexOf(y);b!==-1&&(this.pendingDialogStack.splice(b,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,window.HTMLDialogElement===void 0){var f=document.createElement("form");if(f.setAttribute("method","dialog"),f.method!=="dialog"){var m=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(m){var v=m.get;m.get=function(){return l(this)?"dialog":v.call(this)};var _=m.set;m.set=function(y){return typeof y=="string"&&y.toLowerCase()==="dialog"?this.setAttribute("method",y):_.call(this,y)},Object.defineProperty(HTMLFormElement.prototype,"method",m)}}document.addEventListener("click",function(y){if(d.formSubmitter=null,d.useValue=null,!y.defaultPrevented){var b=y.target;if(!(!b||!l(b.form))){var C=b.type==="submit"&&["button","input"].indexOf(b.localName)>-1;if(!C){if(!(b.localName==="input"&&b.type==="image"))return;d.useValue=y.offsetX+","+y.offsetY}var P=i(b);P&&(d.formSubmitter=b)}}},!1);var E=HTMLFormElement.prototype.submit,I=function(){if(!l(this))return E.call(this);var y=i(this);y&&y.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(y){var b=y.target;if(l(b)){y.preventDefault();var C=i(b);if(C){var P=d.formSubmitter;P&&P.form===b?C.close(d.useValue||P.value):C.close(),d.formSubmitter=null}}},!0)}d.forceRegisterDialog=d.forceRegisterDialog,d.registerDialog=d.registerDialog,typeof t.exports=="object"?t.exports=d:window.dialogPolyfill=d})()})(QP);var i6=QP.exports;const r6=n6(i6);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};At=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(y,b){for(var C=0;C<t.length;C++)if(t[C].className===y)return typeof b<"u"&&(t[C]=b),t[C];return!1}function s(y){var b=y.getAttribute("data-upgraded");return b===null?[""]:b.split(",")}function o(y,b){var C=s(y);return C.indexOf(b)!==-1}function l(y,b,C){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(y,{bubbles:b,cancelable:C});var P=document.createEvent("Events");return P.initEvent(y,b,C),P}function c(y,b){if(typeof y>"u"&&typeof b>"u")for(var C=0;C<t.length;C++)c(t[C].className,t[C].cssClass);else{var P=y;if(typeof b>"u"){var M=i(P);M&&(b=M.cssClass)}for(var x=document.querySelectorAll("."+b),Y=0;Y<x.length;Y++)d(x[Y],P)}}function d(y,b){if(!(typeof y=="object"&&y instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var C=l("mdl-componentupgrading",!0,!0);if(y.dispatchEvent(C),!C.defaultPrevented){var P=s(y),M=[];if(b)o(y,b)||M.push(i(b));else{var x=y.classList;t.forEach(function(J){x.contains(J.cssClass)&&M.indexOf(J)===-1&&!o(y,J.className)&&M.push(J)})}for(var Y=0,oe=M.length,de;Y<oe;Y++){if(de=M[Y],de){P.push(de.className),y.setAttribute("data-upgraded",P.join(","));var q=new de.classConstructor(y);q[n]=de,e.push(q);for(var ee=0,ge=de.callbacks.length;ee<ge;ee++)de.callbacks[ee](y);de.widget&&(y[de.className]=q)}else throw new Error("Unable to find a registered component for the given class.");var re=l("mdl-componentupgraded",!0,!1);y.dispatchEvent(re)}}}function f(y){Array.isArray(y)||(y instanceof Element?y=[y]:y=Array.prototype.slice.call(y));for(var b=0,C=y.length,P;b<C;b++)P=y[b],P instanceof HTMLElement&&(d(P),P.children.length>0&&f(P.children))}function m(y){var b=typeof y.widget>"u"&&typeof y.widget>"u",C=!0;b||(C=y.widget||y.widget);var P={classConstructor:y.constructor||y.constructor,className:y.classAsString||y.classAsString,cssClass:y.cssClass||y.cssClass,widget:C,callbacks:[]};if(t.forEach(function(x){if(x.cssClass===P.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===P.className)throw new Error("The provided className has already been registered")}),y.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var M=i(y.classAsString,P);M||t.push(P)}function v(y,b){var C=i(y);C&&C.callbacks.push(b)}function _(){for(var y=0;y<t.length;y++)c(t[y].className)}function E(y){if(y){var b=e.indexOf(y);e.splice(b,1);var C=y.element_.getAttribute("data-upgraded").split(","),P=C.indexOf(y[n].classAsString);C.splice(P,1),y.element_.setAttribute("data-upgraded",C.join(","));var M=l("mdl-componentdowngraded",!0,!1);y.element_.dispatchEvent(M)}}function I(y){var b=function(P){e.filter(function(M){return M.element_===P}).forEach(E)};if(y instanceof Array||y instanceof NodeList)for(var C=0;C<y.length;C++)b(y[C]);else if(y instanceof Node)b(y);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:d,upgradeElements:f,upgradeAllRegistered:_,registerUpgradedCallback:v,register:m,downgradeElements:I}}();At.ComponentConfigPublic;At.ComponentConfig;At.Component;At.upgradeDom=At.upgradeDom;At.upgradeElement=At.upgradeElement;At.upgradeElements=At.upgradeElements;At.upgradeAllRegistered=At.upgradeAllRegistered;At.registerUpgradedCallback=At.registerUpgradedCallback;At.register=At.register;At.downgradeElements=At.downgradeElements;window.componentHandler=At;window.componentHandler=At;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),At.upgradeAllRegistered()):(At.upgradeElement=function(){},At.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var l=[i,s,o],c=0;c<l.length;c++){var d=document.createElement("div");d.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),l[c].appendChild(d)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(r){function a(){}return a.prototype=r,new a},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break e}catch{}i=!1}n=i?function(r,a){if(r.__proto__=a,r.__proto__!==a)throw new TypeError(r+" is not extensible");return r}:null}var l=n;function c(r,a){if(r.prototype=e(a.prototype),r.prototype.constructor=r,l)l(r,a);else for(var u in a)if(u!="prototype")if(Object.defineProperties){var h=Object.getOwnPropertyDescriptor(a,u);h&&Object.defineProperty(r,u,h)}else r[u]=a[u];r.K=a.prototype}var d=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,u){r!=Array.prototype&&r!=Object.prototype&&(r[a]=u.value)},f=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function m(r,a){if(a){var u=f;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in u||(u[p]={}),u=u[p]}r=r[r.length-1],h=u[r],a=a(h),a!=h&&a!=null&&d(u,r,{configurable:!0,writable:!0,value:a})}}m("Object.is",function(r){return r||function(a,u){return a===u?a!==0||1/a===1/u:a!==a&&u!==u}}),m("Array.prototype.includes",function(r){return r||function(a,u){var h=this;h instanceof String&&(h=String(h));var p=h.length;for(u=u||0,0>u&&(u=Math.max(u+p,0));u<p;u++){var g=h[u];if(g===a||Object.is(g,a))return!0}return!1}});var v=this;function _(r){return r!==void 0}function E(r){return typeof r=="string"}var I=/^[\w+/_-]+[=]{0,2}$/,y=null;function b(){}function C(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function P(r){var a=typeof r;if(a=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return a;var u=Object.prototype.toString.call(r);if(u=="[object Window]")return"object";if(u=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(u=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(a=="function"&&typeof r.call>"u")return"object";return a}function M(r){return P(r)=="array"}function x(r){var a=P(r);return a=="array"||a=="object"&&typeof r.length=="number"}function Y(r){return P(r)=="function"}function oe(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}var de="closure_uid_"+(1e9*Math.random()>>>0),q=0;function ee(r,a,u){return r.call.apply(r.bind,arguments)}function ge(r,a,u){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(a,p)}}return function(){return r.apply(a,arguments)}}function re(r,a,u){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?re=ee:re=ge,re.apply(null,arguments)}function J(r,a){var u=Array.prototype.slice.call(arguments,1);return function(){var h=u.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function ie(r,a){for(var u in a)r[u]=a[u]}var Je=Date.now||function(){return+new Date};function W(r,a){r=r.split(".");var u=v;r[0]in u||typeof u.execScript>"u"||u.execScript("var "+r[0]);for(var h;r.length&&(h=r.shift());)!r.length&&_(a)?u[h]=a:u[h]&&u[h]!==Object.prototype[h]?u=u[h]:u=u[h]={}}function k(r,a){function u(){}u.prototype=a.prototype,r.K=a.prototype,r.prototype=new u,r.prototype.constructor=r,r.vc=function(h,p,g){for(var w=Array(arguments.length-2),T=2;T<arguments.length;T++)w[T-2]=arguments[T];return a.prototype[p].apply(h,w)}}function ae(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ae);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}k(ae,Error),ae.prototype.name="CustomError";var be;function vt(r,a){r=r.split("%s");for(var u="",h=r.length-1,p=0;p<h;p++)u+=r[p]+(p<a.length?a[p]:"%s");ae.call(this,u+r[h])}k(vt,ae),vt.prototype.name="AssertionError";function tt(r,a){throw new vt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var sn=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(E(r))return E(a)&&a.length==1?r.indexOf(a,0):-1;for(var u=0;u<r.length;u++)if(u in r&&r[u]===a)return u;return-1},nt=Array.prototype.forEach?function(r,a,u){Array.prototype.forEach.call(r,a,u)}:function(r,a,u){for(var h=r.length,p=E(r)?r.split(""):r,g=0;g<h;g++)g in p&&a.call(u,p[g],g,r)};function Hi(r,a){for(var u=E(r)?r.split(""):r,h=r.length-1;0<=h;--h)h in u&&a.call(void 0,u[h],h,r)}var qi=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=[],p=0,g=E(r)?r.split(""):r,w=0;w<u;w++)if(w in g){var T=g[w];a.call(void 0,T,w,r)&&(h[p++]=T)}return h},qo=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=Array(u),p=E(r)?r.split(""):r,g=0;g<u;g++)g in p&&(h[g]=a.call(void 0,p[g],g,r));return h},on=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var u=r.length,h=E(r)?r.split(""):r,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,r))return!0;return!1};function D(r,a){return 0<=sn(r,a)}function le(r,a){a=sn(r,a);var u;return(u=0<=a)&&X(r,a),u}function X(r,a){return Array.prototype.splice.call(r,a,1).length==1}function ve(r,a){e:{for(var u=r.length,h=E(r)?r.split(""):r,p=0;p<u;p++)if(p in h&&a.call(void 0,h[p],p,r)){a=p;break e}a=-1}0<=a&&X(r,a)}function Xe(r,a){var u=0;Hi(r,function(h,p){a.call(void 0,h,p,r)&&X(r,p)&&u++})}function A(r){return Array.prototype.concat.apply([],arguments)}function S(r){var a=r.length;if(0<a){for(var u=Array(a),h=0;h<a;h++)u[h]=r[h];return u}return[]}function R(r,a,u){return 2>=arguments.length?Array.prototype.slice.call(r,a):Array.prototype.slice.call(r,a,u)}var O=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},F=/&/g,B=/</g,se=/>/g,Q=/"/g,Z=/'/g,H=/\x00/g,we=/[\x00&<>"']/;function ce(r,a){return r<a?-1:r>a?1:0}function me(r){return we.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(F,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(B,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(se,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(Q,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(Z,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(H,"&#0;"))),r}function Pe(r,a,u){for(var h in r)a.call(u,r[h],h,r)}function Ve(r){var a={},u;for(u in r)a[u]=r[u];return a}var st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ze(r,a){for(var u,h,p=1;p<arguments.length;p++){h=arguments[p];for(u in h)r[u]=h[u];for(var g=0;g<st.length;g++)u=st[g],Object.prototype.hasOwnProperty.call(h,u)&&(r[u]=h[u])}}var ht="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function Xt(){}Xt.prototype.next=function(){throw ht},Xt.prototype.ha=function(){return this};function mr(r){if(r instanceof Xt)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var a=0,u=new Xt;return u.next=function(){for(;;){if(a>=r.length)throw ht;if(a in r)return r[a++];a++}},u}throw Error("Not implemented")}function wh(r,a){if(x(r))try{nt(r,a,void 0)}catch(u){if(u!==ht)throw u}else{r=mr(r);try{for(;;)a.call(void 0,r.next(),void 0,r)}catch(u){if(u!==ht)throw u}}}function Ms(r){if(x(r))return S(r);r=mr(r);var a=[];return wh(r,function(u){a.push(u)}),a}function Vs(r,a){this.g={},this.a=[],this.j=this.h=0;var u=arguments.length;if(1<u){if(u%2)throw Error("Uneven number of arguments");for(var h=0;h<u;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof Vs)for(u=r.ja(),h=0;h<u.length;h++)this.set(u[h],r.get(u[h]));else for(h in r)this.set(h,r[h])}t=Vs.prototype,t.la=function(){an(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.g[this.a[a]]);return r},t.ja=function(){return an(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function an(r){if(r.h!=r.a.length){for(var a=0,u=0;a<r.a.length;){var h=r.a[a];ln(r.g,h)&&(r.a[u++]=h),a++}r.a.length=u}if(r.h!=r.a.length){var p={};for(u=a=0;a<r.a.length;)h=r.a[a],ln(p,h)||(r.a[u++]=h,p[h]=1),a++;r.a.length=u}}t.get=function(r,a){return ln(this.g,r)?this.g[r]:a},t.set=function(r,a){ln(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=a},t.forEach=function(r,a){for(var u=this.ja(),h=0;h<u.length;h++){var p=u[h],g=this.get(p);r.call(a,g,p,this)}},t.ha=function(r){an(this);var a=0,u=this.j,h=this,p=new Xt;return p.next=function(){if(u!=h.j)throw Error("The map has changed since the iterator was created");if(a>=h.a.length)throw ht;var g=h.a[a++];return r?g:h.g[g]},p};function ln(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var Eh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Uk(r,a){if(r){r=r.split("&");for(var u=0;u<r.length;u++){var h=r[u].indexOf("="),p=null;if(0<=h){var g=r[u].substring(0,h);p=r[u].substring(h+1)}else g=r[u];a(g,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function iw(r,a,u,h){for(var p=u.length;0<=(a=r.indexOf(u,a))&&a<h;){var g=r.charCodeAt(a-1);if((g==38||g==63)&&(g=r.charCodeAt(a+p),!g||g==61||g==38||g==35))return a;a+=p+1}return-1}var rw=/#|$/;function bh(r,a){var u=r.search(rw),h=iw(r,0,a,u);if(0>h)return null;var p=r.indexOf("&",h);return(0>p||p>u)&&(p=u),h+=a.length+1,decodeURIComponent(r.substr(h,p-h).replace(/\+/g," "))}var Bk=/[?&]($|#)/;function Hr(r,a){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var u;r instanceof Hr?(this.i=_(a)?a:r.i,Em(this,r.j),this.A=r.A,this.h=r.h,bm(this,r.C),this.g=r.g,Im(this,aw(r.a)),this.s=r.s):r&&(u=String(r).match(Eh))?(this.i=!!a,Em(this,u[1]||"",!0),this.A=Ol(u[2]||""),this.h=Ol(u[3]||"",!0),bm(this,u[4]),this.g=Ol(u[5]||"",!0),Im(this,u[6]||"",!0),this.s=Ol(u[7]||"")):(this.i=!!a,this.a=new xl(null,this.i))}Hr.prototype.toString=function(){var r=[],a=this.j;a&&r.push(Dl(a,sw,!0),":");var u=this.h;return(u||a=="file")&&(r.push("//"),(a=this.A)&&r.push(Dl(a,sw,!0),"@"),r.push(encodeURIComponent(String(u)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u=this.C,u!=null&&r.push(":",String(u))),(u=this.g)&&(this.h&&u.charAt(0)!="/"&&r.push("/"),r.push(Dl(u,u.charAt(0)=="/"?Hk:$k,!0))),(u=this.a.toString())&&r.push("?",u),(u=this.s)&&r.push("#",Dl(u,Wk)),r.join("")};function Em(r,a,u){r.j=u?Ol(a,!0):a,r.j&&(r.j=r.j.replace(/:$/,""))}function bm(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.C=a}else r.C=null}function Im(r,a,u){a instanceof xl?(r.a=a,Kk(r.a,r.i)):(u||(a=Dl(a,qk)),r.a=new xl(a,r.i))}function Tm(r){return r instanceof Hr?new Hr(r):new Hr(r,void 0)}function Ol(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Dl(r,a,u){return E(r)?(r=encodeURI(r).replace(a,jk),u&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function jk(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var sw=/[#\/\?@]/g,$k=/[#\?:]/g,Hk=/[#\?]/g,qk=/[#\?@]/g,Wk=/#/g;function xl(r,a){this.g=this.a=null,this.h=r||null,this.j=!!a}function qr(r){r.a||(r.a=new Vs,r.g=0,r.h&&Uk(r.h,function(a,u){r.add(decodeURIComponent(a.replace(/\+/g," ")),u)}))}t=xl.prototype,t.add=function(r,a){qr(this),this.h=null,r=Wo(this,r);var u=this.a.get(r);return u||this.a.set(r,u=[]),u.push(a),this.g+=1,this};function Fs(r,a){qr(r),a=Wo(r,a),ln(r.a.g,a)&&(r.h=null,r.g-=r.a.get(a).length,r=r.a,ln(r.g,a)&&(delete r.g[a],r.h--,r.j++,r.a.length>2*r.h&&an(r)))}t.clear=function(){this.a=this.h=null,this.g=0};function ow(r,a){return qr(r),a=Wo(r,a),ln(r.a.g,a)}t.forEach=function(r,a){qr(this),this.a.forEach(function(u,h){nt(u,function(p){r.call(a,p,h,this)},this)},this)},t.ja=function(){qr(this);for(var r=this.a.la(),a=this.a.ja(),u=[],h=0;h<a.length;h++)for(var p=r[h],g=0;g<p.length;g++)u.push(a[h]);return u},t.la=function(r){qr(this);var a=[];if(E(r))ow(this,r)&&(a=A(a,this.a.get(Wo(this,r))));else{r=this.a.la();for(var u=0;u<r.length;u++)a=A(a,r[u])}return a},t.set=function(r,a){return qr(this),this.h=null,r=Wo(this,r),ow(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[a]),this.g+=1,this},t.get=function(r,a){return r?(r=this.la(r),0<r.length?String(r[0]):a):a},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],a=this.a.ja(),u=0;u<a.length;u++){var h=a[u],p=encodeURIComponent(String(h));h=this.la(h);for(var g=0;g<h.length;g++){var w=p;h[g]!==""&&(w+="="+encodeURIComponent(String(h[g]))),r.push(w)}}return this.h=r.join("&")};function aw(r){var a=new xl;return a.h=r.h,r.a&&(a.a=new Vs(r.a),a.g=r.g),a}function Wo(r,a){return a=String(a),r.j&&(a=a.toLowerCase()),a}function Kk(r,a){a&&!r.j&&(qr(r),r.h=null,r.a.forEach(function(u,h){var p=h.toLowerCase();h!=p&&(Fs(this,h),Fs(this,p),0<u.length&&(this.h=null,this.a.set(Wo(this,p),S(u)),this.g+=u.length))},r)),r.j=a}function Us(r){this.a=Tm(r)}function Gk(r,a){a?r.a.a.set(Bt.Sa,a):Fs(r.a.a,Bt.Sa)}function zk(r,a){a!==null?r.a.a.set(Bt.Qa,a?"1":"0"):Fs(r.a.a,Bt.Qa)}function lw(r){return r.a.a.get(Bt.Pa)||null}function uw(r,a){a?r.a.a.set(Bt.PROVIDER_ID,a):Fs(r.a.a,Bt.PROVIDER_ID)}Us.prototype.toString=function(){return this.a.toString()};var Bt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Ko;e:{var cw=v.navigator;if(cw){var hw=cw.userAgent;if(hw){Ko=hw;break e}}Ko=""}function Be(r){return Ko.indexOf(r)!=-1}function dw(){return(Be("Chrome")||Be("CriOS"))&&!Be("Edge")}function Am(r){return Am[" "](r),r}Am[" "]=b;function Yk(r,a){var u=Xk;return Object.prototype.hasOwnProperty.call(u,r)?u[r]:u[r]=a(r)}var fw=Be("Opera"),Rt=Be("Trident")||Be("MSIE"),Wr=Be("Edge"),Qk=Wr||Rt,Ei=Be("Gecko")&&!(Ko.toLowerCase().indexOf("webkit")!=-1&&!Be("Edge"))&&!(Be("Trident")||Be("MSIE"))&&!Be("Edge"),Mn=Ko.toLowerCase().indexOf("webkit")!=-1&&!Be("Edge"),Jk=Mn&&Be("Mobile"),Kr=Be("Macintosh");function pw(){var r=v.document;return r?r.documentMode:void 0}var Ih;e:{var Sm="",Cm=function(){var r=Ko;if(Ei)return/rv:([^\);]+)(\)|;)/.exec(r);if(Wr)return/Edge\/([\d\.]+)/.exec(r);if(Rt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Mn)return/WebKit\/(\S+)/.exec(r);if(fw)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Cm&&(Sm=Cm?Cm[1]:""),Rt){var Rm=pw();if(Rm!=null&&Rm>parseFloat(Sm)){Ih=String(Rm);break e}}Ih=Sm}var Xk={};function Bs(r){return Yk(r,function(){for(var a=0,u=O(String(Ih)).split("."),h=O(String(r)).split("."),p=Math.max(u.length,h.length),g=0;a==0&&g<p;g++){var w=u[g]||"",T=h[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],w[0].length==0&&T[0].length==0)break;a=ce(w[1].length==0?0:parseInt(w[1],10),T[1].length==0?0:parseInt(T[1],10))||ce(w[2].length==0,T[2].length==0)||ce(w[2],T[2]),w=w[3],T=T[3]}while(a==0)}return 0<=a})}var Ll,mw=v.document;Ll=mw&&Rt?pw()||(mw.compatMode=="CSS1Compat"?parseInt(Ih,10):5):void 0;function Go(r,a){this.a=r===vw&&a||"",this.g=gw}Go.prototype.ma=!0,Go.prototype.ka=function(){return this.a},Go.prototype.toString=function(){return"Const{"+this.a+"}"};var gw={},vw={};function js(){this.a="",this.h=_w}js.prototype.ma=!0,js.prototype.ka=function(){return this.a.toString()},js.prototype.g=function(){return 1},js.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function yw(r){return r instanceof js&&r.constructor===js&&r.h===_w?r.a:(tt("expected object of type TrustedResourceUrl, got '"+r+"' of type "+P(r)),"type_error:TrustedResourceUrl")}function Zk(){var r=qN;r instanceof Go&&r.constructor===Go&&r.g===gw?r=r.a:(tt("expected object of type Const, got '"+r+"'"),r="type_error:Const");var a=new js;return a.a=r,a}var _w={};function ei(){this.a="",this.h=bw}ei.prototype.ma=!0,ei.prototype.ka=function(){return this.a.toString()},ei.prototype.g=function(){return 1},ei.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Gr(r){return r instanceof ei&&r.constructor===ei&&r.h===bw?r.a:(tt("expected object of type SafeUrl, got '"+r+"' of type "+P(r)),"type_error:SafeUrl")}var ww=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Th(r){return r instanceof ei?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),ww.test(r)||(r="about:invalid#zClosurez"),Pm(r))}function Ew(r){return r instanceof ei?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),ww.test(r)||(r="about:invalid#zClosurez"),Pm(r))}var bw={};function Pm(r){var a=new ei;return a.a=r,a}Pm("about:blank");function zo(){this.a="",this.g=Iw}zo.prototype.ma=!0;var Iw={};zo.prototype.ka=function(){return this.a},zo.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function zr(){this.a="",this.j=Tw,this.h=null}zr.prototype.g=function(){return this.h},zr.prototype.ma=!0,zr.prototype.ka=function(){return this.a.toString()},zr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Ah(r){return r instanceof zr&&r.constructor===zr&&r.j===Tw?r.a:(tt("expected object of type SafeHtml, got '"+r+"' of type "+P(r)),"type_error:SafeHtml")}var Tw={};function Ml(r,a){var u=new zr;return u.a=r,u.h=a,u}Ml("<!DOCTYPE html>",0);var eN=Ml("",0);Ml("<br>",0);var tN=function(r){var a=!1,u;return function(){return a||(u=r(),a=!0),u}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),a=document.createElement("div");return a.appendChild(document.createElement("div")),r.appendChild(a),r.firstChild?(a=r.firstChild.firstChild,r.innerHTML=Ah(eN),!a.parentElement):!1});function nN(r,a){if(r.src=yw(a),y===null)e:{if(a=v.document,(a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&I.test(a)){y=a;break e}y=""}a=y,a&&r.setAttribute("nonce",a)}function Yo(r,a){a=a instanceof ei?a:Ew(a),r.assign(Gr(a))}function Yr(r,a){this.a=_(r)?r:0,this.g=_(a)?a:0}Yr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Yr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Yr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Yr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function km(r,a){this.width=r,this.height=a}t=km.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Sh(r){return r?new xm(Vl(r)):be||(be=new xm)}function Nm(r,a){var u=a||document;return u.querySelectorAll&&u.querySelector?u.querySelectorAll("."+r):Aw(document,r,a)}function Om(r,a){var u=a||document;if(u.getElementsByClassName)r=u.getElementsByClassName(r)[0];else{u=document;var h=a||u;r=h.querySelectorAll&&h.querySelector&&r?h.querySelector(r?"."+r:""):Aw(u,r,a)[0]||null}return r||null}function Aw(r,a,u){var h;if(r=u||r,r.querySelectorAll&&r.querySelector&&a)return r.querySelectorAll(a?"."+a:"");if(a&&r.getElementsByClassName){var p=r.getElementsByClassName(a);return p}if(p=r.getElementsByTagName("*"),a){var g={};for(u=h=0;r=p[u];u++){var w=r.className;typeof w.split=="function"&&D(w.split(/\s+/),a)&&(g[h++]=r)}return g.length=h,g}return p}function iN(r,a){Pe(a,function(u,h){u&&typeof u=="object"&&u.ma&&(u=u.ka()),h=="style"?r.style.cssText=u:h=="class"?r.className=u:h=="for"?r.htmlFor=u:Sw.hasOwnProperty(h)?r.setAttribute(Sw[h],u):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,u):r[h]=u})}var Sw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ch(r){return r.scrollingElement?r.scrollingElement:(Mn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function $s(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Vl(r){return r.nodeType==9?r:r.ownerDocument||r.document}function Dm(r,a){if("textContent"in r)r.textContent=a;else if(r.nodeType==3)r.data=String(a);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(a)}else{for(var u;u=r.firstChild;)r.removeChild(u);r.appendChild(Vl(r).createTextNode(String(a)))}}function Cw(r,a){return a?rN(r,function(u){return!a||E(u.className)&&D(u.className.split(/\s+/),a)}):null}function rN(r,a){for(var u=0;r;){if(a(r))return r;r=r.parentNode,u++}return null}function xm(r){this.a=r||v.document||document}xm.prototype.N=function(){return E(void 0)?this.a.getElementById(void 0):void 0};var Rh={Fc:!0},Rw={Hc:!0},sN={Ec:!0},Pw={Gc:!0};function Qr(){throw Error("Do not instantiate directly")}Qr.prototype.va=null,Qr.prototype.toString=function(){return this.content};function Fl(r,a,u,h){if(r=r(a||lN,void 0,u),h=(h||Sh()).a.createElement("DIV"),r=oN(r),r.match(aN),r=Ml(r,null),tN())for(;h.lastChild;)h.removeChild(h.lastChild);return h.innerHTML=Ah(r),h.childNodes.length==1&&(r=h.firstChild,r.nodeType==1&&(h=r)),h}function oN(r){if(!oe(r))return me(String(r));if(r instanceof Qr){if(r.fa===Rh)return r.content;if(r.fa===Pw)return me(r.content)}return tt("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var aN=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,lN={};function uN(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Ph(){Qr.call(this)}k(Ph,Qr),Ph.prototype.fa=Rh;function Re(r){return r!=null&&r.fa===Rh?r:r instanceof zr?ue(Ah(r).toString(),r.g()):ue(me(String(String(r))),uN(r))}function kh(){Qr.call(this)}k(kh,Qr),kh.prototype.fa=Rw,kh.prototype.va=1;function Nh(r,a){this.content=String(r),this.va=a??null}k(Nh,Qr),Nh.prototype.fa=Pw;function Ye(r){return new Nh(r,void 0)}var ue=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,h){return u=new a(String(u)),h!==void 0&&(u.va=h),u}}(Ph),cN=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u){return new a(String(u))}}(kh);function hN(r){function a(){}var u={label:Pt("New password")};a.prototype=r,r=new a;for(var h in u)r[h]=u[h];return r}function Pt(r){return(r=String(r))?new Nh(r,void 0):""}var kw=function(r){function a(u){this.content=u}return a.prototype=r.prototype,function(u,h){return u=String(u),u?(u=new a(u),h!==void 0&&(u.va=h),u):""}}(Ph);function Vn(r){return r!=null&&r.fa===Rh?String(String(r.content).replace(yN,"").replace(_N,"&lt;")).replace(mN,fN):me(String(r))}function Hs(r){return r!=null&&r.fa===Rw?r=String(r).replace(Mm,Lm):r instanceof ei?r=String(Gr(r).toString()).replace(Mm,Lm):(r=String(r),vN.test(r)?r=r.replace(Mm,Lm):(tt("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function Nw(r){return r!=null&&r.fa===sN?r=r.content:r==null?r="":r instanceof zo?r instanceof zo&&r.constructor===zo&&r.g===Iw?r=r.a:(tt("expected object of type SafeStyle, got '"+r+"' of type "+P(r)),r="type_error:SafeStyle"):(r=String(r),gN.test(r)||(tt("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var dN={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function fN(r){return dN[r]}var pN={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function Lm(r){return pN[r]}var mN=/[\x00\x22\x27\x3c\x3e]/g,Mm=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,gN=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,vN=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,yN=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,_N=/</g;function Vm(){return Ye("Enter a valid phone number")}function Ow(){return Ye("Unable to send password reset code to specified email")}function Dw(){return Ye("Something went wrong. Please try again.")}function xw(){return Ye("This email already exists without any means of sign-in. Please reset the password to recover.")}function Lw(r){r=r||{};var a="";switch(r.code){case"invalid-argument":a+="Client specified an invalid argument.";break;case"invalid-configuration":a+="Client specified an invalid project configuration.";break;case"failed-precondition":a+="Request can not be executed in the current system state.";break;case"out-of-range":a+="Client specified an invalid range.";break;case"unauthenticated":a+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":a+="Client does not have sufficient permission.";break;case"not-found":a+="Specified resource is not found.";break;case"aborted":a+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":a+="The resource that a client tried to create already exists.";break;case"resource-exhausted":a+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":a+="Request cancelled by the client.";break;case"data-loss":a+="Unrecoverable data loss or data corruption.";break;case"unknown":a+="Unknown server error.";break;case"internal":a+="Internal server error.";break;case"not-implemented":a+="API method not implemented by the server.";break;case"unavailable":a+="Service unavailable.";break;case"deadline-exceeded":a+="Request deadline exceeded.";break;case"auth/user-disabled":a+="The user account has been disabled by an administrator.";break;case"auth/timeout":a+="The operation has timed out.";break;case"auth/too-many-requests":a+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":a+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":a+="A network error has occurred. Try again later.";break;case"restart-process":a+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":a+="No sign-in provider is available for the given email, please try with a different email."}return Ye(a)}function Mw(){return Ye("Please login again to perform this operation")}function Ul(r,a,u){var h=Error.call(this);if(this.message=h.message,"stack"in h&&(this.stack=h.stack),this.code=wN+r,!(r=a)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=Dw()}r=Ye(r).toString()}this.message=r||"",this.credential=u||null}c(Ul,Error),Ul.prototype.toJSON=function(){return{code:this.code,message:this.message}};var wN="firebaseui/";function qs(){this.T=this.T,this.C=this.C}var EN=0;qs.prototype.T=!1,qs.prototype.m=function(){!this.T&&(this.T=!0,this.o(),EN!=0)&&(this[de]||(this[de]=++q))};function Bl(r,a){r.T?_(void 0)?a.call(void 0):a():(r.C||(r.C=[]),r.C.push(_(void 0)?re(a,void 0):a))}qs.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function jl(r){r&&typeof r.m=="function"&&r.m()}var bN=Object.freeze||function(r){return r},Vw=!Rt||9<=Number(Ll),IN=Rt&&!Bs("9"),TN=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{v.addEventListener("test",b,a),v.removeEventListener("test",b,a)}catch{}return r}();function gr(r,a){this.type=r,this.g=this.target=a,this.h=!1,this.qb=!0}gr.prototype.stopPropagation=function(){this.h=!0},gr.prototype.preventDefault=function(){this.qb=!1};function Fn(r,a){if(gr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var u=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=a,a=r.relatedTarget){if(Ei){e:{try{Am(a.nodeName);var p=!0;break e}catch{}p=!1}p||(a=null)}}else u=="mouseover"?a=r.fromElement:u=="mouseout"&&(a=r.toElement);this.relatedTarget=a,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(u=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=E(r.pointerType)?r.pointerType:AN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}k(Fn,gr);var AN=bN({2:"touch",3:"pen",4:"mouse"});Fn.prototype.stopPropagation=function(){Fn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Fn.prototype.preventDefault=function(){Fn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,IN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var $l="closure_listenable_"+(1e6*Math.random()|0),SN=0;function CN(r,a,u,h,p){this.listener=r,this.proxy=null,this.src=a,this.type=u,this.capture=!!h,this.La=p,this.key=++SN,this.sa=this.Ia=!1}function Oh(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function Dh(r){this.src=r,this.a={},this.g=0}Dh.prototype.add=function(r,a,u,h,p){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.g++);var w=Um(r,a,h,p);return-1<w?(a=r[w],u||(a.Ia=!1)):(a=new CN(a,this.src,g,!!h,p),a.Ia=u,r.push(a)),a};function Fm(r,a){var u=a.type;u in r.a&&le(r.a[u],a)&&(Oh(a),r.a[u].length==0&&(delete r.a[u],r.g--))}function Um(r,a,u,h){for(var p=0;p<r.length;++p){var g=r[p];if(!g.sa&&g.listener==a&&g.capture==!!u&&g.La==h)return p}return-1}var Bm="closure_lm_"+(1e6*Math.random()|0),jm={};function bi(r,a,u,h,p){if(h&&h.once)return Hl(r,a,u,h,p);if(M(a)){for(var g=0;g<a.length;g++)bi(r,a[g],u,h,p);return null}return u=Hm(u),r&&r[$l]?r.J.add(String(a),u,!1,oe(h)?!!h.capture:!!h,p):Fw(r,a,u,!1,h,p)}function Fw(r,a,u,h,p,g){if(!a)throw Error("Invalid event type");var w=oe(p)?!!p.capture:!!p,T=xh(r);if(T||(r[Bm]=T=new Dh(r)),u=T.add(a,u,h,w,g),u.proxy)return u;if(h=RN(),u.proxy=h,h.src=r,h.listener=u,r.addEventListener)TN||(p=w),p===void 0&&(p=!1),r.addEventListener(a.toString(),h,p);else if(r.attachEvent)r.attachEvent(Uw(a.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return u}function RN(){var r=PN,a=Vw?function(u){return r.call(a.src,a.listener,u)}:function(u){if(u=r.call(a.src,a.listener,u),!u)return u};return a}function Hl(r,a,u,h,p){if(M(a)){for(var g=0;g<a.length;g++)Hl(r,a[g],u,h,p);return null}return u=Hm(u),r&&r[$l]?r.J.add(String(a),u,!0,oe(h)?!!h.capture:!!h,p):Fw(r,a,u,!0,h,p)}function Ws(r,a,u,h,p){if(M(a))for(var g=0;g<a.length;g++)Ws(r,a[g],u,h,p);else h=oe(h)?!!h.capture:!!h,u=Hm(u),r&&r[$l]?(r=r.J,a=String(a).toString(),a in r.a&&(g=r.a[a],u=Um(g,u,h,p),-1<u&&(Oh(g[u]),X(g,u),g.length==0&&(delete r.a[a],r.g--)))):r&&(r=xh(r))&&(a=r.a[a.toString()],r=-1,a&&(r=Um(a,u,h,p)),(u=-1<r?a[r]:null)&&Jr(u))}function Jr(r){if(typeof r!="number"&&r&&!r.sa){var a=r.src;if(a&&a[$l])Fm(a.J,r);else{var u=r.type,h=r.proxy;a.removeEventListener?a.removeEventListener(u,h,r.capture):a.detachEvent?a.detachEvent(Uw(u),h):a.addListener&&a.removeListener&&a.removeListener(h),(u=xh(a))?(Fm(u,r),u.g==0&&(u.src=null,a[Bm]=null)):Oh(r)}}}function Uw(r){return r in jm?jm[r]:jm[r]="on"+r}function Bw(r,a,u,h){var p=!0;if((r=xh(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var g=a[r];g&&g.capture==u&&!g.sa&&(g=jw(g,h),p=p&&g!==!1)}return p}function jw(r,a){var u=r.listener,h=r.La||r.src;return r.Ia&&Jr(r),u.call(h,a)}function PN(r,a){if(r.sa)return!0;if(!Vw){if(!a)e:{a=["window","event"];for(var u=v,h=0;h<a.length;h++)if(u=u[a[h]],u==null){a=null;break e}a=u}if(h=a,a=new Fn(h,this),u=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=a.g;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;!a.h&&0<=p;p--){a.g=h[p];var g=Bw(h[p],r,!0,a);u=u&&g}for(p=0;!a.h&&p<h.length;p++)a.g=h[p],g=Bw(h[p],r,!1,a),u=u&&g}return u}return jw(r,new Fn(a,this))}function xh(r){return r=r[Bm],r instanceof Dh?r:null}var $m="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(r){return Y(r)?r:(r[$m]||(r[$m]=function(a){return r.handleEvent(a)}),r[$m])}function jt(){qs.call(this),this.J=new Dh(this),this.wb=this,this.Ha=null}k(jt,qs),jt.prototype[$l]=!0,jt.prototype.Za=function(r){this.Ha=r},jt.prototype.removeEventListener=function(r,a,u,h){Ws(this,r,a,u,h)};function Xr(r,a){var u,h=r.Ha;if(h)for(u=[];h;h=h.Ha)u.push(h);if(r=r.wb,h=a.type||a,E(a))a=new gr(a,r);else if(a instanceof gr)a.target=a.target||r;else{var p=a;a=new gr(h,r),ze(a,p)}if(p=!0,u)for(var g=u.length-1;!a.h&&0<=g;g--){var w=a.g=u[g];p=Lh(w,h,!0,a)&&p}if(a.h||(w=a.g=r,p=Lh(w,h,!0,a)&&p,a.h||(p=Lh(w,h,!1,a)&&p)),u)for(g=0;!a.h&&g<u.length;g++)w=a.g=u[g],p=Lh(w,h,!1,a)&&p;return p}jt.prototype.o=function(){if(jt.K.o.call(this),this.J){var r=this.J,a;for(a in r.a){for(var u=r.a[a],h=0;h<u.length;h++)Oh(u[h]);delete r.a[a],r.g--}}this.Ha=null};function Lh(r,a,u,h){if(a=r.J.a[String(a)],!a)return!0;a=a.concat();for(var p=!0,g=0;g<a.length;++g){var w=a[g];if(w&&!w.sa&&w.capture==u){var T=w.listener,N=w.La||w.src;w.Ia&&Fm(r.J,w),p=T.call(N,h)!==!1&&p}}return p&&h.qb!=0}var ti={},$w=0;function Hw(r,a){if(!r)throw Error("Event target element must be provided!");if(r=qm(r),ti[r]&&ti[r].length)for(var u=0;u<ti[r].length;u++)Xr(ti[r][u],a)}function kN(r){var a=qm(r.N());ti[a]&&ti[a].length&&(ve(ti[a],function(u){return u==r}),ti[a].length||delete ti[a])}function qm(r){return typeof r.a>"u"&&(r.a=$w,$w++),r.a}function Mh(r){if(!r)throw Error("Event target element must be provided!");jt.call(this),this.a=r}c(Mh,jt),Mh.prototype.N=function(){return this.a},Mh.prototype.register=function(){var r=qm(this.N());ti[r]?D(ti[r],this)||ti[r].push(this):ti[r]=[this]};function qw(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function Wm(r,a){this.h=r,this.j=a,this.g=0,this.a=null}Wm.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function Ww(r,a){r.j(a),100>r.g&&(r.g++,a.next=r.a,r.a=a)}function Kw(){this.g=this.a=null}var Gw=new Wm(function(){return new Km},function(r){r.reset()});Kw.prototype.add=function(r,a){var u=Gw.get();u.set(r,a),this.g?this.g.next=u:this.a=u,this.g=u};function NN(){var r=Yw,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.g=null),a.next=null),a}function Km(){this.next=this.g=this.a=null}Km.prototype.set=function(r,a){this.a=r,this.g=a,this.next=null},Km.prototype.reset=function(){this.next=this.g=this.a=null};function zw(r){v.setTimeout(function(){throw r},0)}var Gm;function ON(){var r=v.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Be("Presto")&&(r=function(){var p=document.createElement("IFRAME");p.style.display="none",p.src="",document.documentElement.appendChild(p);var g=p.contentWindow;p=g.document,p.open(),p.write(""),p.close();var w="callImmediate"+Math.random(),T=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;p=re(function(N){(T=="*"||N.origin==T)&&N.data==w&&this.port1.onmessage()},this),g.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,T)}}}),typeof r<"u"&&!Be("Trident")&&!Be("MSIE")){var a=new r,u={},h=u;return a.port1.onmessage=function(){if(_(u.next)){u=u.next;var p=u.gb;u.gb=null,p()}},function(p){h.next={gb:p},h=h.next,a.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(p){var g=document.createElement("SCRIPT");g.onreadystatechange=function(){g.onreadystatechange=null,g.parentNode.removeChild(g),g=null,p(),p=null},document.documentElement.appendChild(g)}:function(p){v.setTimeout(p,0)}}function zm(r,a){Vh||DN(),Ym||(Vh(),Ym=!0),Yw.add(r,a)}var Vh;function DN(){if(v.Promise&&v.Promise.resolve){var r=v.Promise.resolve(void 0);Vh=function(){r.then(Qw)}}else Vh=function(){var a=Qw;!Y(v.setImmediate)||v.Window&&v.Window.prototype&&!Be("Edge")&&v.Window.prototype.setImmediate==v.setImmediate?(Gm||(Gm=ON()),Gm(a)):v.setImmediate(a)}}var Ym=!1,Yw=new Kw;function Qw(){for(var r;r=NN();){try{r.a.call(r.g)}catch(a){zw(a)}Ww(Gw,r)}Ym=!1}function $t(r){if(this.a=Ks,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=b)try{var a=this;r.call(void 0,function(u){Gs(a,ql,u)},function(u){if(!(u instanceof Jo))try{throw u instanceof Error?u:Error("Promise rejected.")}catch{}Gs(a,vr,u)})}catch(u){Gs(this,vr,u)}}var Ks=0,ql=2,vr=3;function Jw(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}Jw.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var Xw=new Wm(function(){return new Jw},function(r){r.reset()});function Qm(r,a,u){var h=Xw.get();return h.s=r,h.g=a,h.j=u,h}function kt(r){if(r instanceof $t)return r;var a=new $t(b);return Gs(a,ql,r),a}function Qo(r){return new $t(function(a,u){u(r)})}$t.prototype.then=function(r,a,u){return eE(this,Y(r)?r:null,Y(a)?a:null,u)},$t.prototype.$goog_Thenable=!0,t=$t.prototype,t.fc=function(r,a){return r=Qm(r,r,a),r.h=!0,Jm(this,r),this},t.Ca=function(r,a){return eE(this,null,r,a)},t.cancel=function(r){this.a==Ks&&zm(function(){var a=new Jo(r);Zw(this,a)},this)};function Zw(r,a){if(r.a==Ks)if(r.h){var u=r.h;if(u.g){for(var h=0,p=null,g=null,w=u.g;w&&(w.h||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(g=w);p&&(u.a==Ks&&h==1?Zw(u,a):(g?(h=g,h.next==u.j&&(u.j=h),h.next=h.next.next):nE(u),iE(u,p,vr,a)))}r.h=null}else Gs(r,vr,a)}function Jm(r,a){r.g||r.a!=ql&&r.a!=vr||tE(r),r.j?r.j.next=a:r.g=a,r.j=a}function eE(r,a,u,h){var p=Qm(null,null,null);return p.a=new $t(function(g,w){p.s=a?function(T){try{var N=a.call(h,T);g(N)}catch(K){w(K)}}:g,p.g=u?function(T){try{var N=u.call(h,T);!_(N)&&T instanceof Jo?w(T):g(N)}catch(K){w(K)}}:w}),p.a.h=r,Jm(r,p),p.a}t.hc=function(r){this.a=Ks,Gs(this,ql,r)},t.ic=function(r){this.a=Ks,Gs(this,vr,r)};function Gs(r,a,u){if(r.a==Ks){r===u&&(a=vr,u=new TypeError("Promise cannot resolve to itself")),r.a=1;e:{var h=u,p=r.hc,g=r.ic;if(h instanceof $t){Jm(h,Qm(p||b,g||null,r));var w=!0}else if(qw(h))h.then(p,g,r),w=!0;else{if(oe(h))try{var T=h.then;if(Y(T)){xN(h,T,p,g,r),w=!0;break e}}catch(N){g.call(r,N),w=!0;break e}w=!1}}w||(r.A=u,r.a=a,r.h=null,tE(r),a!=vr||u instanceof Jo||LN(r,u))}}function xN(r,a,u,h,p){function g(N){T||(T=!0,h.call(p,N))}function w(N){T||(T=!0,u.call(p,N))}var T=!1;try{a.call(r,w,g)}catch(N){g(N)}}function tE(r){r.i||(r.i=!0,zm(r.Hb,r))}function nE(r){var a=null;return r.g&&(a=r.g,r.g=a.next,a.next=null),r.g||(r.j=null),a}t.Hb=function(){for(var r;r=nE(this);)iE(this,r,this.a,this.A);this.i=!1};function iE(r,a,u,h){if(u==vr&&a.g&&!a.h)for(;r&&r.s;r=r.h)r.s=!1;if(a.a)a.a.h=null,rE(a,u,h);else try{a.h?a.s.call(a.j):rE(a,u,h)}catch(p){sE.call(null,p)}Ww(Xw,a)}function rE(r,a,u){a==ql?r.s.call(r.j,u):r.g&&r.g.call(r.j,u)}function LN(r,a){r.s=!0,zm(function(){r.s&&sE.call(null,a)})}var sE=zw;function Jo(r){ae.call(this,r)}k(Jo,ae),Jo.prototype.name="cancel";function oE(r,a,u){a||(a={}),u=u||window;var h=r instanceof ei?r:Th(typeof r.href<"u"?r.href:String(r));r=a.target||r.target;var p=[];for(g in a)switch(g){case"width":case"height":case"top":case"left":p.push(g+"="+a[g]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(g+"="+(a[g]?1:0))}var g=p.join(",");return(Be("iPhone")&&!Be("iPod")&&!Be("iPad")||Be("iPad")||Be("iPod"))&&u.navigator&&u.navigator.standalone&&r&&r!="_self"?(g=u.document.createElement("A"),h=h instanceof ei?h:Ew(h),g.href=Gr(h),g.setAttribute("target",r),a.noreferrer&&g.setAttribute("rel","noreferrer"),a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,u,1),g.dispatchEvent(a),u={}):a.noreferrer?(u=u.open("",r,g),a=Gr(h).toString(),u&&(Qk&&a.indexOf(";")!=-1&&(a="'"+a.replace(/'/g,"%27")+"'"),u.opener=null,a=Ml('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+me(a)+'">',null),u.document.write(Ah(a)),u.document.close())):(u=u.open(Gr(h).toString(),r,g))&&a.noopener&&(u.opener=null),u}function aE(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Xo(r){oE(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Fh(r,a){if(r=oe(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(a||"Cannot find element.");return r}function yr(){return window.location.href}function MN(){var r=null;return new $t(function(a){v.document.readyState=="complete"?a():(r=function(){a()},Hl(window,"load",r))}).Ca(function(a){throw Ws(window,"load",r),a})}function VN(){for(var r=32,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function FN(r,a,u){return u=u===void 0?{}:u,Object.keys(r).filter(function(h){return a.includes(h)}).reduce(function(h,p){return h[p]=r[p],h},u)}function Zr(r){var a=jN;this.s=[],this.T=a,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Zr.prototype.cancel=function(r){if(this.a)this.h instanceof Zr&&this.h.cancel();else{if(this.g){var a=this.g;delete this.g,r?a.cancel(r):(a.C--,0>=a.C&&a.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new Kl,Uh(this),Wl(this,!1,r))}},Zr.prototype.L=function(r,a){this.A=!1,Wl(this,r,a)};function Wl(r,a,u){r.a=!0,r.h=u,r.j=!a,cE(r)}function Uh(r){if(r.a){if(!r.J)throw new Bh;r.J=!1}}Zr.prototype.callback=function(r){Uh(this),Wl(this,!0,r)};function lE(r,a,u){r.s.push([a,u,void 0]),r.a&&cE(r)}Zr.prototype.then=function(r,a,u){var h,p,g=new $t(function(w,T){h=w,p=T});return lE(this,h,function(w){w instanceof Kl?g.cancel():p(w)}),g.then(r,a,u)},Zr.prototype.$goog_Thenable=!0;function uE(r){return on(r.s,function(a){return Y(a[1])})}function cE(r){if(r.i&&r.a&&uE(r)){var a=r.i,u=jh[a];u&&(v.clearTimeout(u.a),delete jh[a]),r.i=0}r.g&&(r.g.C--,delete r.g),a=r.h;for(var h=u=!1;r.s.length&&!r.A;){var p=r.s.shift(),g=p[0],w=p[1];if(p=p[2],g=r.j?w:g)try{var T=g.call(p||r.O,a);_(T)&&(r.j=r.j&&(T==a||T instanceof Error),r.h=a=T),(qw(a)||typeof v.Promise=="function"&&a instanceof v.Promise)&&(h=!0,r.A=!0)}catch(N){a=N,r.j=!0,uE(r)||(u=!0)}}r.h=a,h&&(T=re(r.L,r,!0),h=re(r.L,r,!1),a instanceof Zr?(lE(a,T,h),a.l=!0):a.then(T,h)),u&&(a=new hE(a),jh[a.a]=a,r.i=a.a)}function Bh(){ae.call(this)}k(Bh,ae),Bh.prototype.message="Deferred has already fired",Bh.prototype.name="AlreadyCalledError";function Kl(){ae.call(this)}k(Kl,ae),Kl.prototype.message="Deferred was canceled",Kl.prototype.name="CanceledError";function hE(r){this.a=v.setTimeout(re(this.h,this),0),this.g=r}hE.prototype.h=function(){throw delete jh[this.a],this.g};var jh={};function UN(r){var a={},u=a.document||document,h=yw(r).toString(),p=document.createElement("SCRIPT"),g={rb:p,sb:void 0},w=new Zr(g),T=null,N=a.timeout!=null?a.timeout:5e3;return 0<N&&(T=window.setTimeout(function(){$h(p,!0);var K=new Xm(HN,"Timeout reached for loading script "+h);Uh(w),Wl(w,!1,K)},N),g.sb=T),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||($h(p,a.xc||!1,T),w.callback(null))},p.onerror=function(){$h(p,!0,T);var K=new Xm($N,"Error while loading script "+h);Uh(w),Wl(w,!1,K)},g=a.attributes||{},ze(g,{type:"text/javascript",charset:"UTF-8"}),iN(p,g),nN(p,r),BN(u).appendChild(p),w}function BN(r){var a=(r||document).getElementsByTagName("HEAD");return a&&a.length!=0?a[0]:r.documentElement}function jN(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&$h(r,!0,this.sb)}}function $h(r,a,u){u!=null&&v.clearTimeout(u),r.onload=b,r.onerror=b,r.onreadystatechange=b,a&&window.setTimeout(function(){$s(r)},0)}var $N=0,HN=1;function Xm(r,a){var u="Jsloader error (code #"+r+")";a&&(u+=": "+a),ae.call(this,u),this.code=r}k(Xm,ae);function Gl(){return v.google&&v.google.accounts&&v.google.accounts.id||null}function Zm(r){this.a=r||Gl(),this.h=!1,this.g=null}Zm.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function dE(r,a,u){if(r.a&&a)return function(){return r.h=!0,new $t(function(p){r.g=p,r.a.initialize({client_id:a,callback:p,auto_select:!u}),r.a.prompt()})}();if(a){var h=eg.Xa().load().then(function(){return r.a=Gl(),dE(r,a,u)}).Ca(function(){return null});return kt(h)}return kt(null)}C(Zm);var qN=new Go(vw,"https://accounts.google.com/gsi/client");function eg(){this.a=null}eg.prototype.load=function(){var r=this;if(this.a)return this.a;var a=Zk();return Gl()?kt():this.a=MN().then(function(){if(!Gl())return new $t(function(u,h){var p=setTimeout(function(){r.a=null,h(Error("Network error!"))},1e4);v.onGoogleLibraryLoad=function(){clearTimeout(p),u()},kt(UN(a)).then(function(){Gl()&&u()}).Ca(function(g){clearTimeout(p),r.a=null,h(g)})})})},C(eg);function tg(r,a){this.a=r,this.g=a||function(u){throw u}}tg.prototype.confirm=function(r){return kt(this.a.confirm(r)).Ca(this.g)};function ng(r,a,u){this.reset(r,a,u,void 0,void 0)}ng.prototype.a=null,ng.prototype.reset=function(r,a,u,h,p){this.h=h||Je(),this.j=r,this.s=a,this.g=u,delete this.a};function ig(r){this.s=r,this.a=this.h=this.j=this.g=null}function Hh(r,a){this.name=r,this.value=a}Hh.prototype.toString=function(){return this.name};var fE=new Hh("SEVERE",1e3),pE=new Hh("WARNING",900),mE=new Hh("CONFIG",700);function gE(r){return r.j?r.j:r.g?gE(r.g):(tt("Root logger has no level set."),null)}ig.prototype.log=function(r,a,u){if(r.value>=gE(this).value)for(Y(a)&&(a=a()),r=new ng(r,String(a),this.s),u&&(r.a=u),u=this;u;){var h=u,p=r;if(h.a)for(var g=0;a=h.a[g];g++)a(p);u=u.g}};var rg={},zl=null;function vE(){zl||(zl=new ig(""),rg[""]=zl,zl.j=mE)}function yE(r){vE();var a;if(!(a=rg[r])){a=new ig(r);var u=r.lastIndexOf("."),h=r.substr(u+1);u=yE(r.substr(0,u)),u.h||(u.h={}),u.h[h]=a,a.g=u,rg[r]=a}return a}function qh(){this.a=Je()}var sg=null;qh.prototype.set=function(r){this.a=r},qh.prototype.reset=function(){this.set(Je())},qh.prototype.get=function(){return this.a};function Yl(r){this.j=r||"",sg||(sg=new qh),this.s=sg}Yl.prototype.a=!0,Yl.prototype.g=!0,Yl.prototype.h=!1;function zs(r){return 10>r?"0"+r:String(r)}function WN(r,a){r=(r.h-a)/1e3,a=r.toFixed(3);var u=0;if(1>r)u=2;else for(;100>r;)u++,r*=10;for(;0<u--;)a=" "+a;return a}function _E(r){Yl.call(this,r)}k(_E,Yl);function KN(r,a){var u=[];if(u.push(r.j," "),r.g){var h=new Date(a.h);u.push("[",zs(h.getFullYear()-2e3)+zs(h.getMonth()+1)+zs(h.getDate())+" "+zs(h.getHours())+":"+zs(h.getMinutes())+":"+zs(h.getSeconds())+"."+zs(Math.floor(h.getMilliseconds()/10)),"] ")}return u.push("[",WN(a,r.s.get()),"s] "),u.push("[",a.g,"] "),u.push(a.s),r.h&&(a=a.a)&&u.push(`
`,a instanceof Error?a.message:a.toString()),r.a&&u.push(`
`),u.join("")}function wE(){this.s=re(this.h,this),this.a=new _E,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}wE.prototype.h=function(r){function a(g){if(g){if(g.value>=fE.value)return"error";if(g.value>=pE.value)return"warn";if(g.value>=mE.value)return"log"}return"debug"}if(!this.j[r.g]){var u=KN(this.a,r),h=GN;if(h){var p=a(r.j);zN(h,p,u,r.a)}}};var GN=v.console;function zN(r,a,u,h){r[a]?r[a](u,h||""):r.log(u,h||"")}function ni(r,a){var u=og;u&&u.log(fE,r,a)}var og;og=yE("firebaseui");var ag=new wE;if(ag.g!=1){var Wh;vE(),Wh=zl;var YN=ag.s;Wh.a||(Wh.a=[]),Wh.a.push(YN),ag.g=!0}function es(r){var a=og;a&&a.log(pE,r,void 0)}function EE(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=EE.prototype,t.set=function(r,a,u,h,p,g){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(a))throw Error('Invalid cookie value "'+a+'"');_(u)||(u=-1),p=p?";domain="+p:"",h=h?";path="+h:"",g=g?";secure":"",u=0>u?"":u==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Je()+1e3*u).toUTCString(),this.a.cookie=r+"="+a+p+h+u+g},t.get=function(r,a){for(var u=r+"=",h=(this.a.cookie||"").split(";"),p=0,g;p<h.length;p++){if(g=O(h[p]),g.lastIndexOf(u,0)==0)return g.substr(u.length);if(g==r)return""}return a},t.ja=function(){return lg(this).keys},t.la=function(){return lg(this).values},t.clear=function(){for(var r=lg(this).keys,a=r.length-1;0<=a;a--){var u=r[a];this.get(u),this.set(u,"",0,void 0,void 0)}};function lg(r){r=(r.a.cookie||"").split(";");for(var a=[],u=[],h,p,g=0;g<r.length;g++)p=O(r[g]),h=p.indexOf("="),h==-1?(a.push(""),u.push(p)):(a.push(p.substring(0,h)),u.push(p.substring(h+1)));return{keys:a,values:u}}var Kh=new EE;function bE(){}function Zo(r,a,u,h){this.h=typeof r<"u"&&r!==null?r:-1,this.g=a||null,this.a=u||null,this.j=!!h}c(Zo,bE),Zo.prototype.set=function(r,a){Kh.set(r,a,this.h,this.g,this.a,this.j)},Zo.prototype.get=function(r){return Kh.get(r)||null},Zo.prototype.ra=function(r){var a=this.g,u=this.a;Kh.get(r),Kh.set(r,"",0,a,u)};function ug(r,a){this.g=r,this.a=a||null}function IE(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function TE(r){if(r&&r.email){var a=r.credential&&ye.auth.AuthCredential.fromJSON(r.credential);return new ug(r.email,a)}return null}function AE(r){this.a=r||null}function SE(r){for(var a=[],u=0,h=0;h<r.length;h++){var p=r.charCodeAt(h);255<p&&(a[u++]=p&255,p>>=8),a[u++]=p}return a}function QN(r){return qo(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}function Gh(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(ea*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var a=Array(4);for(r=this.g;r<ea*(this.j+1);r++){if(a[0]=this.a[r-1][0],a[1]=this.a[r-1][1],a[2]=this.a[r-1][2],a[3]=this.a[r-1][3],r%this.g==0){var u=a,h=u[0];u[0]=u[1],u[1]=u[2],u[2]=u[3],u[3]=h,NE(a),a[0]^=Yh[r/this.g][0],a[1]^=Yh[r/this.g][1],a[2]^=Yh[r/this.g][2],a[3]^=Yh[r/this.g][3]}else 6<this.g&&r%this.g==4&&NE(a);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^a[0],this.a[r][1]=this.a[r-this.g][1]^a[1],this.a[r][2]=this.a[r-this.g][2]^a[2],this.a[r][3]=this.a[r-this.g][3]^a[3]}}Gh.prototype.A=16;var ea=Gh.prototype.A/4;function CE(r,a){for(var u,h=0;h<ea;h++)for(var p=0;4>p;p++)u=4*p+h,u=a[u],r.h[h][p]=u}function RE(r){for(var a=[],u=0;u<ea;u++)for(var h=0;4>h;h++)a[4*h+u]=r.h[u][h];return a}function ta(r,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)r.h[u][h]^=r.a[4*a+h][u]}function zh(r,a){for(var u=0;4>u;u++)for(var h=0;4>h;h++)r.h[u][h]=a[r.h[u][h]]}function PE(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][u]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][(u+a)%ea]}function kE(r){for(var a=1;4>a;a++)for(var u=0;4>u;u++)r.s[a][(u+a)%ea]=r.h[a][u];for(a=1;4>a;a++)for(u=0;4>u;u++)r.h[a][u]=r.s[a][u]}function NE(r){r[0]=na[r[0]],r[1]=na[r[1]],r[2]=na[r[2]],r[3]=na[r[3]]}var na=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],OE=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Yh=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Qh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Jh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Xh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Zh=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],ed=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],td=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function DE(r,a){r=new Gh(LE(r)),a=SE(a);for(var u=a.splice(0,16),h="",p;u.length;){p=16-u.length;for(var g=0;g<p;g++)u.push(0);for(p=r,CE(p,u),ta(p,0),u=1;u<p.j;++u){zh(p,na),PE(p),g=p.h;for(var w=p.s[0],T=0;4>T;T++)w[0]=g[0][T],w[1]=g[1][T],w[2]=g[2][T],w[3]=g[3][T],g[0][T]=Qh[w[0]]^Jh[w[1]]^w[2]^w[3],g[1][T]=w[0]^Qh[w[1]]^Jh[w[2]]^w[3],g[2][T]=w[0]^w[1]^Qh[w[2]]^Jh[w[3]],g[3][T]=Jh[w[0]]^w[1]^w[2]^Qh[w[3]];ta(p,u)}zh(p,na),PE(p),ta(p,p.j),h+=QN(RE(p)),u=a.splice(0,16)}return h}function xE(r,a){r=new Gh(LE(r));for(var u=[],h=0;h<a.length;h+=2)u.push(parseInt(a.substring(h,h+2),16));var p=u.splice(0,16);for(a="";p.length;){for(h=r,CE(h,p),ta(h,h.j),p=1;p<h.j;++p){kE(h),zh(h,OE),ta(h,h.j-p);for(var g=h.h,w=h.s[0],T=0;4>T;T++)w[0]=g[0][T],w[1]=g[1][T],w[2]=g[2][T],w[3]=g[3][T],g[0][T]=td[w[0]]^Zh[w[1]]^ed[w[2]]^Xh[w[3]],g[1][T]=Xh[w[0]]^td[w[1]]^Zh[w[2]]^ed[w[3]],g[2][T]=ed[w[0]]^Xh[w[1]]^td[w[2]]^Zh[w[3]],g[3][T]=Zh[w[0]]^ed[w[1]]^Xh[w[2]]^td[w[3]]}if(kE(h),zh(h,OE),ta(h,0),h=RE(h),8192>=h.length)h=String.fromCharCode.apply(null,h);else{for(p="",g=0;g<h.length;g+=8192)p+=String.fromCharCode.apply(null,R(h,g,g+8192));h=p}a+=h,p=u.splice(0,16)}return a.replace(/(\x00)+$/,"")}function LE(r){r=SE(r.substring(0,32));for(var a=32-r.length,u=0;u<a;u++)r.push(0);return r}function ME(r){var a=[];return cg(new JN,r,a),a.join("")}function JN(){}function cg(r,a,u){if(a==null)u.push("null");else{if(typeof a=="object"){if(M(a)){var h=a;a=h.length,u.push("[");for(var p="",g=0;g<a;g++)u.push(p),cg(r,h[g],u),p=",";u.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{u.push("{"),p="";for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(g=a[h],typeof g!="function"&&(u.push(p),FE(h,u),u.push(":"),cg(r,g,u),p=","));u.push("}");return}}switch(typeof a){case"string":FE(a,u);break;case"number":u.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":u.push(String(a));break;case"function":u.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var VE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},XN=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function FE(r,a){a.push('"',r.replace(XN,function(u){var h=VE[u];return h||(h="\\u"+(u.charCodeAt(0)|65536).toString(16).substr(1),VE[u]=h),h}),'"')}function Ql(r){this.a=r}Ql.prototype.set=function(r,a){_(a)?this.a.set(r,ME(a)):this.a.ra(r)},Ql.prototype.get=function(r){try{var a=this.a.get(r)}catch{return}if(a!==null)try{return JSON.parse(a)}catch{throw"Storage: Invalid value was encountered"}};function nd(){}k(nd,bE),nd.prototype.clear=function(){var r=Ms(this.ha(!0)),a=this;nt(r,function(u){a.ra(u)})};function id(r){this.a=r}k(id,nd);function rd(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}t=id.prototype,t.set=function(r,a){try{this.a.setItem(r,a)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(r){if(r=this.a.getItem(r),!E(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},t.ra=function(r){this.a.removeItem(r)},t.ha=function(r){var a=0,u=this.a,h=new Xt;return h.next=function(){if(a>=u.length)throw ht;var p=u.key(a++);if(r)return p;if(p=u.getItem(p),!E(p))throw"Storage mechanism: Invalid value was encountered";return p},h},t.clear=function(){this.a.clear()},t.key=function(r){return this.a.key(r)};function hg(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}k(hg,id);function dg(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}k(dg,id);function ia(r,a){this.g=r,this.a=a+"::"}k(ia,nd),ia.prototype.set=function(r,a){this.g.set(this.a+r,a)},ia.prototype.get=function(r){return this.g.get(this.a+r)},ia.prototype.ra=function(r){this.g.ra(this.a+r)},ia.prototype.ha=function(r){var a=this.g.ha(!0),u=this,h=new Xt;return h.next=function(){for(var p=a.next();p.substr(0,u.a.length)!=u.a;)p=a.next();return r?p.substr(u.a.length):u.g.get(p)},h},rd(new hg);var UE,BE=new dg;UE=rd(BE)?new ia(BE,"firebaseui"):null;var fg=new Ql(UE),pg={name:"pendingEmailCredential",storage:fg},Ys={name:"redirectStatus",storage:fg},Jl={name:"redirectUrl",storage:fg},ra={name:"emailForSignIn",storage:new Ql(new Zo(3600,"/"))},Xl={name:"pendingEncryptedCredential",storage:new Ql(new Zo(3600,"/"))};function sa(r,a){return r.storage.get(a?r.name+":"+a:r.name)}function qn(r,a){r.storage.a.ra(a?r.name+":"+a:r.name)}function oa(r,a,u){r.storage.set(u?r.name+":"+u:r.name,a)}function jE(r){return sa(Jl,r)||null}function Wi(r){return r=sa(pg,r)||null,TE(r)}function Ki(r){qn(pg,r)}function $E(r,a){oa(pg,IE(r),a)}function mg(r){return(r=sa(Ys,r)||null)&&typeof r.tenantId<"u"?new AE(r.tenantId):null}function ZN(r,a){oa(Ys,{tenantId:r.a},a)}function eO(r,a){a=sa(ra,a);var u=null;if(a)try{var h=xE(r,a),p=JSON.parse(h);u=p&&p.email||null}catch{}return u}function tO(r,a){a=sa(Xl,a);var u=null;if(a)try{var h=xE(r,a);u=JSON.parse(h)}catch{}return TE(u||null)}function nO(r,a,u){oa(Xl,DE(r,JSON.stringify(IE(a))),u)}function gg(){this.W={}}function Lt(r,a,u){if(a.toLowerCase()in r.W)throw Error("Configuration "+a+" has already been defined.");r.W[a.toLowerCase()]=u}function vg(r,a,u){if(!(a.toLowerCase()in r.W))throw Error("Configuration "+a+" is not defined.");r.W[a.toLowerCase()]=u}gg.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function yg(r,a){if(r=r.get(a),!r)throw Error("Configuration "+a+" is required.");return r}function _g(){this.g=void 0,this.a={}}t=_g.prototype,t.set=function(r,a){HE(this,r,a,!1)},t.add=function(r,a){HE(this,r,a,!0)};function HE(r,a,u,h){for(var p=0;p<a.length;p++){var g=a.charAt(p);r.a[g]||(r.a[g]=new _g),r=r.a[g]}if(h&&r.g!==void 0)throw Error('The collection already contains the key "'+a+'"');r.g=u}t.get=function(r){e:{for(var a=this,u=0;u<r.length;u++)if(a=a.a[r.charAt(u)],!a){r=void 0;break e}r=a}return r?r.g:void 0},t.la=function(){var r=[];return qE(this,r),r};function qE(r,a){r.g!==void 0&&a.push(r.g);for(var u in r.a)qE(r.a[u],a)}t.ja=function(){var r=[];return WE(this,"",r),r};function WE(r,a,u){r.g!==void 0&&u.push(a);for(var h in r.a)WE(r.a[h],a+h,u)}t.clear=function(){this.a={},this.g=void 0};function KE(r){for(this.a=r,this.g=new _g,r=0;r<this.a.length;r++){var a=this.g.get("+"+this.a[r].b);a?a.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function sd(r,a){r=r.g;var u={},h=0;for(r.g!==void 0&&(u[h]=r.g);h<a.length;h++){var p=a.charAt(h);if(!(p in r.a))break;r=r.a[p],r.g!==void 0&&(u[h]=r.g)}for(var g in u)if(u.hasOwnProperty(g))return u[g];return[]}function Qs(r){for(var a=0;a<Un.length;a++)if(Un[a].c===r)return Un[a];return null}function GE(r){r=r.toUpperCase();for(var a=[],u=0;u<Un.length;u++)Un[u].f===r&&a.push(Un[u]);return a}function zE(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var a=[],u=0;u<Un.length;u++)Un[u].b==r&&a.push(Un[u]);r=a}else r=GE(r);return r}function YE(r){r.sort(function(a,u){return a.name.localeCompare(u.name,"en")})}var Un=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];YE(Un);var Zl=new KE(Un);function QE(r,a){this.a=r,this.Aa=a}function JE(r){r=O(r);var a=sd(Zl,r);return 0<a.length?new QE(a[0].b=="1"?"1-US-0":a[0].c,O(r.substr(a[0].b.length+1))):null}function wg(r){var a=Qs(r.a);if(!a)throw Error("Country ID "+r.a+" not found.");return"+"+a.b+r.Aa}function XE(r,a){for(var u=0;u<r.length;u++)if(!D(ZE,r[u])&&(aa!==null&&r[u]in aa||D(a,r[u])))return r[u];return null}var ZE=["emailLink","password","phone"],aa={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function iO(){this.a=new gg,Lt(this.a,"autoUpgradeAnonymousUsers"),Lt(this.a,"callbacks"),Lt(this.a,"credentialHelper",ld),Lt(this.a,"immediateFederatedRedirect",!1),Lt(this.a,"popupMode",!1),Lt(this.a,"privacyPolicyUrl"),Lt(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Lt(this.a,"queryParameterForWidgetMode","mode"),Lt(this.a,"signInFlow"),Lt(this.a,"signInOptions"),Lt(this.a,"signInSuccessUrl"),Lt(this.a,"siteName"),Lt(this.a,"tosUrl"),Lt(this.a,"widgetUrl"),Lt(this.a,"adminRestrictedOperation")}function od(r){var a=!!r.a.get("autoUpgradeAnonymousUsers");return a&&!ub(r)&&ni('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),a}function ad(r){r=r.a.get("signInOptions")||[];for(var a=[],u=0;u<r.length;u++){var h=r[u];h=oe(h)?h:{provider:h},h.provider&&a.push(h)}return a}function ii(r,a){r=ad(r);for(var u=0;u<r.length;u++)if(r[u].provider===a)return r[u];return null}function la(r){return ad(r).map(function(a){return a.provider})}function eu(r,a){r=eb(r);for(var u=0;u<r.length;u++)if(r[u].providerId===a)return r[u];return null}function eb(r){return ad(r).map(function(a){if(aa[a.provider]||D(fO,a.provider)){a={providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Gr(Th(a.iconUrl)).toString():null};for(var u in a)a[u]===null&&delete a[u];return a}return{providerId:a.provider,S:a.providerName||null,V:a.fullLabel||null,ta:a.buttonColor||null,za:a.iconUrl?Gr(Th(a.iconUrl)).toString():null,Ob:a.loginHintKey||null}})}function tb(r){var a=ii(r,ye.auth.GoogleAuthProvider.PROVIDER_ID),u;if(u=a&&a.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(h in r=r.a.get("credentialHelper"),Ag)if(Ag[h]===r){var h=Ag[h];break e}}h=ld}u=h===Tg}return u&&a.clientId||null}function nb(r){return r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function Js(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function rO(r){var a=null;if(ad(r).forEach(function(h){h.provider==ye.auth.PhoneAuthProvider.PROVIDER_ID&&oe(h.recaptchaParameters)&&!Array.isArray(h.recaptchaParameters)&&(a=Ve(h.recaptchaParameters))}),a){var u=[];pO.forEach(function(h){typeof a[h]<"u"&&(u.push(h),delete a[h])}),u.length&&es('The following provided "recaptchaParameters" keys are not allowed: '+u.join(", "))}return a}function sO(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function oO(r){if(r=r.a.get("adminRestrictedOperation")||null){var a=r.helpLink||null;if(a&&typeof a=="string")return function(){Xo(a)}}return null}function aO(r){return(r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function lO(r){if((r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var a=r.disableSignUp.helpLink||null;if(a&&typeof a=="string")return function(){Xo(a)}}return null}function ib(r,a){return r=(r=ii(r,a))&&r.scopes,Array.isArray(r)?r:[]}function rb(r,a){return r=(r=ii(r,a))&&r.customParameters,oe(r)?(r=Ve(r),a===ye.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,a===ye.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function uO(r){r=ii(r,ye.auth.PhoneAuthProvider.PROVIDER_ID);var a=null;return r&&typeof r.loginHint=="string"&&(a=JE(r.loginHint)),r&&r.defaultNationalNumber||a&&a.Aa||null}function cO(r){var a=(r=ii(r,ye.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;a=a&&GE(a);var u=null;return r&&typeof r.loginHint=="string"&&(u=JE(r.loginHint)),a&&a[0]||u&&Qs(u.a)||null}function Eg(r){if(r=ii(r,ye.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var a=r.whitelistedCountries,u=r.blacklistedCountries;if(typeof a<"u"&&(!Array.isArray(a)||a.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof u<"u"&&!Array.isArray(u))throw Error("BlacklistedCountries must be an array.");if(a&&u)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!a&&!u)return Un;if(r=[],a){u={};for(var h=0;h<a.length;h++)for(var p=zE(a[h]),g=0;g<p.length;g++)u[p[g].c]=p[g];for(var w in u)u.hasOwnProperty(w)&&r.push(u[w])}else{for(w={},a=0;a<u.length;a++)for(p=zE(u[a]),h=0;h<p.length;h++)w[p[h].c]=p[h];for(p=0;p<Un.length;p++)w!==null&&Un[p].c in w||r.push(Un[p])}return r}function sb(r){return yg(r.a,"queryParameterForWidgetMode")}function Mt(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&es("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){Xo(a)}}return null}function Vt(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&es("Term of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Xo(u)}}return null}function ob(r){return(r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function ua(r){return r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==ye.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function hO(r){return r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function dO(r){if(ua(r)){var a={url:yr(),handleCodeInApp:!0};(r=ii(r,ye.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&ze(a,r.emailLinkSignIn()),r=a.url;var u=yr();u instanceof Hr||(u=Tm(u)),r instanceof Hr||(r=Tm(r));var h=u;u=new Hr(h);var p=!!r.j;p?Em(u,r.j):p=!!r.A,p?u.A=r.A:p=!!r.h,p?u.h=r.h:p=r.C!=null;var g=r.g;if(p)bm(u,r.C);else if(p=!!r.g){if(g.charAt(0)!="/"&&(h.h&&!h.g?g="/"+g:(h=u.g.lastIndexOf("/"),h!=-1&&(g=u.g.substr(0,h+1)+g))),g==".."||g==".")g="";else if(g.indexOf("./")!=-1||g.indexOf("/.")!=-1){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],T=0;T<g.length;){var N=g[T++];N=="."?h&&T==g.length&&w.push(""):N==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),h&&T==g.length&&w.push("")):(w.push(N),h=!0)}g=w.join("/")}}return p?u.g=g:p=r.a.toString()!=="",p?Im(u,aw(r.a)):p=!!r.s,p&&(u.s=r.s),a.url=u.toString(),a}return null}function bg(r){var a=!!r.a.get("immediateFederatedRedirect"),u=la(r);return r=ab(r),a&&u.length==1&&!D(ZE,u[0])&&r==ud}function ab(r){r=r.a.get("signInFlow");for(var a in Sg)if(Sg[a]==r)return Sg[a];return ud}function Ig(r){return tu(r).signInSuccess||null}function lb(r){return tu(r).signInSuccessWithAuthResult||null}function ub(r){return tu(r).signInFailure||null}function tu(r){return r.a.get("callbacks")||{}}var Tg="googleyolo",ld="none",Ag={nc:Tg,NONE:ld},ud="redirect",Sg={qc:"popup",rc:ud},Cg={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},fO=["anonymous"],pO=["sitekey","tabindex","callback","expired-callback"],nu,ca,Rg,cb,Ze={};function he(r,a,u,h){Ze[r].apply(null,Array.prototype.slice.call(arguments,1))}function hb(r){return r.classList?r.classList:(r=r.className,E(r)&&r.match(/\S+/g)||[])}function iu(r,a){return r.classList?r.classList.contains(a):D(hb(r),a)}function Gi(r,a){r.classList?r.classList.add(a):iu(r,a)||(r.className+=0<r.className.length?" "+a:a)}function zi(r,a){r.classList?r.classList.remove(a):iu(r,a)&&(r.className=qi(hb(r),function(u){return u!=a}).join(" "))}function un(r){var a=r.type;switch(E(a)&&a.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return a=r.selectedIndex,0<=a?r.options[a].value:null;case"select-multiple":a=[];for(var u,h=0;u=r.options[h];h++)u.selected&&a.push(u.value);return a.length?a:null;default:return r.value!=null?r.value:null}}function db(r,a){var u=r.type;switch(E(u)&&u.toLowerCase()){case"checkbox":case"radio":r.checked=a;break;case"select-one":if(r.selectedIndex=-1,E(a)){for(var h=0;u=r.options[h];h++)if(u.value==a){u.selected=!0;break}}break;case"select-multiple":for(E(a)&&(a=[a]),h=0;u=r.options[h];h++)if(u.selected=!1,a)for(var p,g=0;p=a[g];g++)u.value==p&&(u.selected=!0);break;default:r.value=a??""}}function mO(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(ru(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Ei;default:return 166>r.keyCode||183<r.keyCode}}function fb(r,a,u,h,p,g){if(Mn&&!Bs("525"))return!0;if(Kr&&p)return ru(r);if(p&&!h)return!1;if(!Ei){typeof a=="number"&&(a=Pg(a));var w=a==17||a==18||Kr&&a==91;if((!u||Kr)&&w||Kr&&a==16&&(h||g))return!1}if((Mn||Wr)&&h&&u)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Rt&&h&&a==r)return!1;switch(r){case 13:return Ei?g||p?!1:!(u&&h):!0;case 27:return!(Mn||Wr||Ei)}return Ei&&(h||p||g)?!1:ru(r)}function ru(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Mn||Wr)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Ei;default:return!1}}function Pg(r){if(Ei)r=gO(r);else if(Kr&&Mn)switch(r){case 93:r=91}return r}function gO(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function ha(r){jt.call(this),this.a=r,bi(r,"keydown",this.g,!1,this),bi(r,"click",this.h,!1,this)}k(ha,jt),ha.prototype.g=function(r){(r.keyCode==13||Mn&&r.keyCode==3)&&pb(this,r)},ha.prototype.h=function(r){pb(this,r)};function pb(r,a){var u=new gb(a);if(Xr(r,u)){u=new mb(a);try{Xr(r,u)}finally{a.stopPropagation()}}}ha.prototype.o=function(){ha.K.o.call(this),Ws(this.a,"keydown",this.g,!1,this),Ws(this.a,"click",this.h,!1,this),delete this.a};function mb(r){Fn.call(this,r.a),this.type="action"}k(mb,Fn);function gb(r){Fn.call(this,r.a),this.type="beforeaction"}k(gb,Fn);function da(r){jt.call(this),this.a=r,r=Rt?"focusout":"blur",this.g=bi(this.a,Rt?"focusin":"focus",this,!Rt),this.h=bi(this.a,r,this,!Rt)}k(da,jt),da.prototype.handleEvent=function(r){var a=new Fn(r.a);a.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",Xr(this,a)},da.prototype.o=function(){da.K.o.call(this),Jr(this.g),Jr(this.h),delete this.a};function cd(r,a){jt.call(this),this.g=r||1,this.a=a||v,this.h=re(this.gc,this),this.j=Je()}k(cd,jt),t=cd.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var r=Je()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Xr(this,"tick"),this.Ka&&(hd(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Je())};function hd(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}t.o=function(){cd.K.o.call(this),hd(this),delete this.a};function vO(r,a){if(Y(r))a&&(r=re(r,a));else if(r&&typeof r.handleEvent=="function")r=re(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<0?-1:v.setTimeout(r,0)}function fa(r){qs.call(this),this.g=r,this.a={}}k(fa,qs);var vb=[];function pa(r,a,u,h){M(u)||(u&&(vb[0]=u.toString()),u=vb);for(var p=0;p<u.length;p++){var g=bi(a,u[p],h||r.handleEvent,!1,r.g||r);if(!g)break;r.a[g.key]=g}}function yb(r){Pe(r.a,function(a,u){this.a.hasOwnProperty(u)&&Jr(a)},r),r.a={}}fa.prototype.o=function(){fa.K.o.call(this),yb(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function su(r){jt.call(this),this.a=null,this.g=r,r=Rt||Wr||Mn&&!Bs("531")&&r.tagName=="TEXTAREA",this.h=new fa(this),pa(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}k(su,jt),su.prototype.handleEvent=function(r){if(r.type=="input")Rt&&Bs(10)&&r.keyCode==0&&r.j==0||(kg(this),Xr(this,_b(r)));else if(r.type!="keydown"||mO(r)){var a=r.type=="keydown"?this.g.value:null;Rt&&r.keyCode==229&&(a=null);var u=_b(r);kg(this),this.a=vO(function(){this.a=null,this.g.value!=a&&Xr(this,u)},this)}};function kg(r){r.a!=null&&(v.clearTimeout(r.a),r.a=null)}function _b(r){return r=new Fn(r.a),r.type="input",r}su.prototype.o=function(){su.K.o.call(this),this.h.m(),kg(this),delete this.g};function ou(r,a){jt.call(this),r&&(this.Oa&&Tb(this),this.qa=r,this.Na=bi(this.qa,"keypress",this,a),this.Ya=bi(this.qa,"keydown",this.Jb,a,this),this.Oa=bi(this.qa,"keyup",this.Kb,a,this))}k(ou,jt),t=ou.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var wb={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Eb={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},bb=!Mn||Bs("525"),Ib=Kr&&Ei;t=ou.prototype,t.Jb=function(r){(Mn||Wr)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||Kr&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),bb&&!fb(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=Pg(r.keyCode),Ib&&(this.Ua=r.altKey))},t.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},t.handleEvent=function(r){var a=r.a,u=a.altKey;if(Rt&&r.type=="keypress")var h=this.X,p=h!=13&&h!=27?a.keyCode:0;else(Mn||Wr)&&r.type=="keypress"?(h=this.X,p=0<=a.charCode&&63232>a.charCode&&ru(h)?a.charCode:0):fw&&!Mn?(h=this.X,p=ru(h)?a.keyCode:0):(r.type=="keypress"?(Ib&&(u=this.Ua),a.keyCode==a.charCode?32>a.keyCode?(h=a.keyCode,p=0):(h=this.X,p=a.charCode):(h=a.keyCode||this.X,p=a.charCode||0)):(h=a.keyCode||this.X,p=a.charCode||0),Kr&&p==63&&h==224&&(h=191));var g=h=Pg(h);h?63232<=h&&h in wb?g=wb[h]:h==25&&r.shiftKey&&(g=9):a.keyIdentifier&&a.keyIdentifier in Eb&&(g=Eb[a.keyIdentifier]),Ei&&bb&&r.type=="keypress"&&!fb(g,this.R,r.shiftKey,r.ctrlKey,u,r.metaKey)||(r=g==this.R,this.R=g,a=new Ab(g,p,r,a),a.altKey=u,Xr(this,a))},t.N=function(){return this.qa};function Tb(r){r.Na&&(Jr(r.Na),Jr(r.Ya),Jr(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}t.o=function(){ou.K.o.call(this),Tb(this)};function Ab(r,a,u,h){Fn.call(this,h),this.type="key",this.keyCode=r,this.j=a,this.repeat=u}k(Ab,Fn);function ma(r,a,u,h){this.top=r,this.right=a,this.bottom=u,this.left=h}ma.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},ma.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},ma.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},ma.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function dd(r,a){var u=Vl(r);return u.defaultView&&u.defaultView.getComputedStyle&&(r=u.defaultView.getComputedStyle(r,null))&&(r[a]||r.getPropertyValue(a))||""}function Sb(r){try{var a=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Rt&&r.ownerDocument.body&&(r=r.ownerDocument,a.left-=r.documentElement.clientLeft+r.body.clientLeft,a.top-=r.documentElement.clientTop+r.body.clientTop),a}function yO(r,a){a=a||Ch(document);var u=a||Ch(document),h=Cb(r),p=Cb(u);if(!Rt||9<=Number(Ll)){w=dd(u,"borderLeftWidth");var g=dd(u,"borderRightWidth");T=dd(u,"borderTopWidth"),N=dd(u,"borderBottomWidth"),g=new ma(parseFloat(T),parseFloat(g),parseFloat(N),parseFloat(w))}else{var w=fd(u,"borderLeft");g=fd(u,"borderRight");var T=fd(u,"borderTop"),N=fd(u,"borderBottom");g=new ma(T,g,N,w)}u==Ch(document)?(w=h.a-u.scrollLeft,h=h.g-u.scrollTop,!Rt||10<=Number(Ll)||(w+=g.left,h+=g.top)):(w=h.a-p.a-g.left,h=h.g-p.g-g.top),p=r.offsetWidth,g=r.offsetHeight,T=Mn&&!p&&!g,_(p)&&!T||!r.getBoundingClientRect?r=new km(p,g):(r=Sb(r),r=new km(r.right-r.left,r.bottom-r.top)),p=u.clientHeight-r.height,g=u.scrollLeft,T=u.scrollTop,g+=Math.min(w,Math.max(w-(u.clientWidth-r.width),0)),T+=Math.min(h,Math.max(h-p,0)),u=new Yr(g,T),a.scrollLeft=u.a,a.scrollTop=u.g}function Cb(r){var a=Vl(r),u=new Yr(0,0),h=a?Vl(a):document;return h=!Rt||9<=Number(Ll)||Sh(h).a.compatMode=="CSS1Compat"?h.documentElement:h.body,r==h||(r=Sb(r),h=Sh(a).a,a=Ch(h),h=h.parentWindow||h.defaultView,a=Rt&&Bs("10")&&h.pageYOffset!=a.scrollTop?new Yr(a.scrollLeft,a.scrollTop):new Yr(h.pageXOffset||a.scrollLeft,h.pageYOffset||a.scrollTop),u.a=r.left+a.a,u.g=r.top+a.g),u}var Rb={thin:2,medium:4,thick:6};function fd(r,a){if((r.currentStyle?r.currentStyle[a+"Style"]:null)=="none")return 0;var u=r.currentStyle?r.currentStyle[a+"Width"]:null;if(u in Rb)r=Rb[u];else if(/^\d+px?$/.test(u))r=parseInt(u,10);else{a=r.style.left;var h=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=u,u=r.style.pixelLeft,r.style.left=a,r.runtimeStyle.left=h,r=+u}return r}function Ng(){}C(Ng),Ng.prototype.a=0;function Xs(r){jt.call(this),this.s=r||Sh(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}k(Xs,jt),t=Xs.prototype,t.Lb=Ng.Xa(),t.N=function(){return this.g};function qe(r,a){return r.g?Om(a,r.g||r.s.a):null}function au(r){return r.L||(r.L=new fa(r)),r.L}t.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");Xs.K.Za.call(this,r)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,Og(this,function(r){!r.na&&r.N()&&r.v()})},t.ya=function(){Og(this,function(r){r.na&&r.ya()}),this.L&&yb(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),Og(this,function(r){r.m()}),this.g&&$s(this.g),this.Y=this.g=this.oa=this.Ea=null,Xs.K.o.call(this)};function Og(r,a){r.Ea&&nt(r.Ea,a,void 0)}t.removeChild=function(r,a){if(r){var u=E(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&u?(r=this.oa,r=(r!==null&&u in r?r[u]:void 0)||null):r=null,u&&r){var h=this.oa;if(u in h&&delete h[u],le(this.Ea,r),a&&(r.ya(),r.g&&$s(r.g)),a=r,a==null)throw Error("Unable to set parent component");a.Y=null,Xs.K.Za.call(a,null)}}if(!r)throw Error("Child is not in parent component");return r};function Nt(r,a){var u=Cw(r,"firebaseui-textfield");a?(zi(r,"firebaseui-input-invalid"),Gi(r,"firebaseui-input"),u&&zi(u,"firebaseui-textfield-invalid")):(zi(r,"firebaseui-input"),Gi(r,"firebaseui-input-invalid"),u&&Gi(u,"firebaseui-textfield-invalid"))}function ga(r,a,u){a=new su(a),Bl(r,J(jl,a)),pa(au(r),a,"input",u)}function lu(r,a,u){a=new ou(a),Bl(r,J(jl,a)),pa(au(r),a,"key",function(h){h.keyCode==13&&(h.stopPropagation(),h.preventDefault(),u(h))})}function _O(r,a,u){a=new da(a),Bl(r,J(jl,a)),pa(au(r),a,"focusin",u)}function wO(r,a,u){a=new da(a),Bl(r,J(jl,a)),pa(au(r),a,"focusout",u)}function It(r,a,u){a=new ha(a),Bl(r,J(jl,a)),pa(au(r),a,"action",function(h){h.stopPropagation(),h.preventDefault(),u(h)})}function ri(r){Gi(r,"firebaseui-hidden")}function cn(r,a){a&&Dm(r,a),zi(r,"firebaseui-hidden")}function va(r){return!iu(r,"firebaseui-hidden")&&r.style.display!="none"}function ya(r){r=r||{};var a=r.email,u=r.disabled,h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return h=r.wc?h+"Enter new email address":h+"Email",h+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Vn(a??"")+'"'+(u?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ue(h)}function Wn(r){r=r||{},r=r.label;var a='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return a=r?a+Re(r):a+"Next",ue(a+"</button>")}function Dg(){var r=""+Wn({label:Pt("Sign In")});return ue(r)}function Pb(){var r=""+Wn({label:Pt("Save")});return ue(r)}function Ii(){var r=""+Wn({label:Pt("Continue")});return ue(r)}function kb(r){r=r||{},r=r.label;var a='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return a=r?a+Re(r):a+"Choose password",ue(a+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Nb(){var r={},a='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return a=r.current?a+"Current password":a+"Password",ue(a+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Ob(){return ue('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function si(r){r=r||{},r=r.label;var a='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return a=r?a+Re(r):a+"Cancel",ue(a+"</button>")}function yn(r){var a="";return r.F&&r.D&&(a+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ue(a)}function _a(r){var a="";return r.F&&r.D&&(a+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ue(a)}function Db(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Re(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ue(r)}Db.a="firebaseui.auth.soy2.element.infoBar";function xb(r){var a=r.content;return r=r.Ab,ue('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Vn(r):"")+'">'+Re(a)+"</dialog>")}function Lb(r){var a=r.message;return ue(xb({content:kw('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Vn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Re(a)+"</div>")}))}Lb.a="firebaseui.auth.soy2.element.progressDialog";function Mb(r){var a='<div class="firebaseui-list-box-actions">';r=r.items;for(var u=r.length,h=0;h<u;h++){var p=r[h];a+='<button type="button" data-listboxid="'+Vn(p.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(p.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Vn(p.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Re(p.label)+"</div></button>"}return a=""+xb({Ab:Pt("firebaseui-list-box-dialog"),content:kw(a+"</div>")}),ue(a)}Mb.a="firebaseui.auth.soy2.element.listBoxDialog";function pd(r){return r=r||{},ue(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}pd.a="firebaseui.auth.soy2.element.busyIndicator";function ts(r,a){return r=r||{},r=r.ga,Ye(r.S?r.S:a.hb[r.providerId]?""+a.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function xg(r){Vb(r,"upgradeElement")}function Lg(r){Vb(r,"downgradeElements")}var EO=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Vb(r,a){r&&window.componentHandler&&window.componentHandler[a]&&EO.forEach(function(u){iu(r,u)&&window.componentHandler[a](r),nt(Nm(u,r),function(h){window.componentHandler[a](h)})})}function Fb(r,a,u){if(md.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),xg(r),a&&It(this,r,function(g){var w=r.getBoundingClientRect();(g.clientX<w.left||w.left+w.width<g.clientX||g.clientY<w.top||w.top+w.height<g.clientY)&&md.call(this)}),!u){var h=this.N().parentElement||this.N().parentNode;if(h){var p=this;this.da=function(){if(r.open){var g=r.getBoundingClientRect().height,w=h.getBoundingClientRect().height,T=h.getBoundingClientRect().top-document.body.getBoundingClientRect().top,N=h.getBoundingClientRect().left-document.body.getBoundingClientRect().left,K=r.getBoundingClientRect().width,pe=h.getBoundingClientRect().width;r.style.top=(T+(w-g)/2).toString()+"px",g=N+(pe-K)/2,r.style.left=g.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-g-K).toString()+"px"}else window.removeEventListener("resize",p.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function md(){var r=Mg.call(this);r&&(Lg(r),r.open&&r.close(),$s(r),this.da&&window.removeEventListener("resize",this.da))}function Mg(){return Om("firebaseui-id-dialog")}function Ub(){$s(Bb.call(this))}function Bb(){return qe(this,"firebaseui-id-info-bar")}function jb(){return qe(this,"firebaseui-id-dismiss-info-bar")}var bO={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Vg(r,a,u){gr.call(this,r,a);for(var h in u)this[h]=u[h]}k(Vg,gr);function V(r,a,u,h,p){Xs.call(this,u),this.fb=r,this.eb=a,this.Fa=!1,this.Ga=h||null,this.A=this.ca=null,this.Z=Ve(bO),ze(this.Z,p||{})}k(V,Xs),t=V.prototype,t.kb=function(){var r=Fl(this.fb,this.eb,this.Z,this.s);xg(r),this.g=r},t.v=function(){if(V.K.v.call(this),Hw(Et(this),new Vg("pageEnter",Et(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;It(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var a=this.Z.D;It(this,this.ab(),function(){a()})}},t.ya=function(){Hw(Et(this),new Vg("pageExit",Et(this),{pageId:this.Ga})),V.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Lg(this.N()),V.K.o.call(this)};function IO(r){r.Fa=!0;var a=iu(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=Fl(pd,{tb:a},null,r.s),r.N().appendChild(r.A),xg(r.A))},500)}t.I=function(r,a,u,h){function p(){if(g.T)return null;g.Fa=!1,window.clearTimeout(g.ca),g.ca=null,g.A&&(Lg(g.A),$s(g.A),g.A=null)}var g=this;return g.Fa?null:(IO(g),r.apply(null,a).then(u,h).then(p,p))};function Et(r){return r.N().parentElement||r.N().parentNode}function uu(r,a,u){lu(r,a,function(){u.focus()})}function wa(r,a,u){lu(r,a,function(){u()})}ie(V.prototype,{a:function(r){Ub.call(this);var a=Fl(Db,{message:r},null,this.s);this.N().appendChild(a),It(this,jb.call(this),function(){$s(a)})},yc:Ub,Ac:Bb,zc:jb,$:function(r,a){r=Fl(Lb,{Ma:r,message:a},null,this.s),Fb.call(this,r)},h:md,Cb:Mg,Cc:function(){return qe(this,"firebaseui-tos")},bb:function(){return qe(this,"firebaseui-tos-link")},ab:function(){return qe(this,"firebaseui-pp-link")},Dc:function(){return qe(this,"firebaseui-tos-list")}});function $b(r,a,u){r=r||{},a=r.Va;var h=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ya(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?si(null):"")+Wn(null)+'</div></div><div class="firebaseui-card-footer">'+(h?_a(u):yn(u))+"</div></form></div>",ue(r)}$b.a="firebaseui.auth.soy2.page.signIn";function Hb(r,a,u){return r=r||{},a=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ya(r)+Nb()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Ob()+'</div><div class="firebaseui-form-actions">'+Dg()+'</div></div><div class="firebaseui-card-footer">'+(a?_a(u):yn(u))+"</div></form></div>",ue(r)}Hb.a="firebaseui.auth.soy2.page.passwordSignIn";function qb(r,a,u){r=r||{};var h=r.Tb;a=r.Ta;var p=r.ia,g='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ya(r);return h?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Vn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=ue(r)):r="",u=g+r+kb(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?si(null):"")+Pb()+'</div></div><div class="firebaseui-card-footer">'+(p?_a(u):yn(u))+"</div></form></div>",ue(u)}qb.a="firebaseui.auth.soy2.page.passwordSignUp";function Wb(r,a,u){return r=r||{},a=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ya(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(a?si(null):"")+Wn({label:Pt("Send")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(r)}Wb.a="firebaseui.auth.soy2.page.passwordRecovery";function Kb(r,a,u){a=r.G;var h="";return r="Follow the instructions sent to <strong>"+(Re(r.email)+"</strong> to recover your password"),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',a&&(h+='<div class="firebaseui-form-actions">'+Wn({label:Pt("Done")})+"</div>"),h+='</div><div class="firebaseui-card-footer">'+yn(u)+"</div></div>",ue(h)}Kb.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function Gb(r,a,u){return ue('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+pd(null)+"</div></div>")}Gb.a="firebaseui.auth.soy2.page.callback";function zb(r,a,u){return ue('<div class="firebaseui-container firebaseui-id-page-spinner">'+pd({tb:!0})+"</div>")}zb.a="firebaseui.auth.soy2.page.spinner";function Yb(){return ue('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}Yb.a="firebaseui.auth.soy2.page.blank";function Qb(r,a,u){a="",r="A sign-in email with additional instructions was sent to <strong>"+(Re(r.email)+"</strong>. Check your email to complete sign-in.");var h=ue('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+h+'</div><div class="firebaseui-form-actions">'+si({label:Pt("Back")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}Qb.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function Jb(r,a,u){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ue('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+si({label:Pt("Back")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(r)}Jb.a="firebaseui.auth.soy2.page.emailNotReceived";function Xb(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ya(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si(null)+Wn(null)+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(r)}Xb.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function Zb(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si({label:Pt("Dismiss")})+"</div></div></div>";return ue(r)}Zb.a="firebaseui.auth.soy2.page.differentDeviceError";function e1(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si({label:Pt("Dismiss")})+"</div></div></div>";return ue(r)}e1.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function t1(r,a,u){return a="",r="You’ve already used <strong>"+(Re(r.email)+"</strong> to sign in. Enter your password for that account."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+Nb()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Ob()+'</div><div class="firebaseui-form-actions">'+Dg()+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}t1.a="firebaseui.auth.soy2.page.passwordLinking";function n1(r,a,u){var h=r.email;return a="",r=""+ts(r,u),r=Pt(r),h="You’ve already used <strong>"+(Re(h)+("</strong>. You can connect your <strong>"+(Re(r)+("</strong> account with <strong>"+(Re(h)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Re(r)+" account with this email, you have to open the link on the same device or browser."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+h+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Dg()+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}n1.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function i1(r,a,u){a="";var h=""+ts(r,u);return h=Pt(h),r="You originally intended to connect <strong>"+(Re(h)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),h="If you still want to connect your <strong>"+(Re(h)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ii()+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}i1.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function r1(r,a,u){var h=r.email;return a="",r=""+ts(r,u),r=Pt(r),h="You’ve already used <strong>"+(Re(h)+("</strong>. Sign in with "+(Re(r)+" to continue."))),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Wn({label:Pt("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}r1.a="firebaseui.auth.soy2.page.federatedLinking";function s1(r,a,u){r=r||{};var h=r.kc;a=r.yb,r=r.Eb;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return h?(h="<strong>"+(Re(h)+"</strong> is not authorized to view the requested page."),p+=h):p+="User is not authorized to view the requested page.",p+="</p>",a&&(a="Please contact <strong>"+(Re(a)+"</strong> for authorization."),p+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+a+"</p>"),p+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(p+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),p+='</div><div class="firebaseui-form-actions">'+si({label:Pt("Back")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(p)}s1.a="firebaseui.auth.soy2.page.unauthorizedUser";function o1(r,a,u){return a="",r="To continue sign in with <strong>"+(Re(r.email)+"</strong> on this device, you have to recover the password."),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si(null)+Wn({label:Pt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}o1.a="firebaseui.auth.soy2.page.unsupportedProvider";function a1(r){var a="",u='<p class="firebaseui-text">for <strong>'+(Re(r.email)+"</strong></p>");return a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+u+kb(hN(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Pb()+"</div></div></form></div>",ue(a)}a1.a="firebaseui.auth.soy2.page.passwordReset";function l1(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}l1.a="firebaseui.auth.soy2.page.passwordResetSuccess";function u1(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}u1.a="firebaseui.auth.soy2.page.passwordResetFailure";function c1(r){var a=r.G,u="";return r="Your sign-in email address has been changed back to <strong>"+(Re(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></form></div>",ue(u)}c1.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function h1(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}h1.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function d1(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}d1.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function f1(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}f1.a="firebaseui.auth.soy2.page.emailVerificationFailure";function p1(r){var a=r.G,u="";return r="You can now sign in with your new email <strong>"+(Re(r.email)+"</strong>."),u+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(a?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(u)}p1.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function m1(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}m1.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function g1(r){var a=r.factorId,u=r.phoneNumber;r=r.G;var h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(a){case"phone":a="The <strong>"+(Re(a)+(" "+(Re(u)+"</strong> was removed as a second authentication step."))),h+=a;break;default:h+="The device or app was removed as a second authentication step."}return h+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></form></div>",ue(h)}g1.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function v1(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Ii()+"</div>":"")+"</div></div>",ue(r)}v1.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function y1(r){var a=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Re(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',a&&(r+=Wn({label:Pt("Retry")})),ue(r+"</div></div></div>")}y1.a="firebaseui.auth.soy2.page.recoverableError";function _1(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Re(r.errorMessage)+"</p></div></div>",ue(r)}_1.a="firebaseui.auth.soy2.page.unrecoverableError";function w1(r,a,u){var h=r.Qb;return a="",r="Continue with "+(Re(r.jc)+"?"),h="You originally wanted to sign in with "+Re(h),a+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+h+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si(null)+Wn({label:Pt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form></div>",ue(a)}w1.a="firebaseui.auth.soy2.page.emailMismatch";function E1(r,a,u){var h='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,a=r.length;for(var p=0;p<a;p++){var g={ga:r[p]},w=u;g=g||{};var T=g.ga,N=g;N=N||{};var K="";switch(N.ga.providerId){case"google.com":K+="firebaseui-idp-google";break;case"github.com":K+="firebaseui-idp-github";break;case"facebook.com":K+="firebaseui-idp-facebook";break;case"twitter.com":K+="firebaseui-idp-twitter";break;case"phone":K+="firebaseui-idp-phone";break;case"anonymous":K+="firebaseui-idp-anonymous";break;case"password":K+="firebaseui-idp-password";break;default:K+="firebaseui-idp-generic"}N='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Vn(Ye(K))+' firebaseui-id-idp-button" data-provider-id="'+Vn(T.providerId)+'" style="background-color:',K=(K=g)||{},K=K.ga,N=N+Vn(Nw(Ye(K.ta?K.ta:w.wa[K.providerId]?""+w.wa[K.providerId]:K.providerId.indexOf("saml.")==0?""+w.wa.saml:K.providerId.indexOf("oidc.")==0?""+w.wa.oidc:""+w.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var pe=g;K=w,pe=pe||{},pe=pe.ga,K=cN(pe.za?Hs(pe.za):K.xa[pe.providerId]?Hs(K.xa[pe.providerId]):pe.providerId.indexOf("saml.")==0?Hs(K.xa.saml):pe.providerId.indexOf("oidc.")==0?Hs(K.xa.oidc):Hs(K.xa.password)),N=N+Vn(Hs(K))+'"></span>',T.providerId=="password"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Re(T.V):T.S?(g="Sign in with "+Re(ts(g,w)),N+=g):N+="Sign in with email",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=T.S?N+Re(T.S):N+"Email",N+="</span>"):T.providerId=="phone"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Re(T.V):T.S?(g="Sign in with "+Re(ts(g,w)),N+=g):N+="Sign in with phone",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=T.S?N+Re(T.S):N+"Phone",N+="</span>"):T.providerId=="anonymous"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Re(T.V):T.S?(g="Sign in with "+Re(ts(g,w)),N+=g):N+="Continue as guest",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=T.S?N+Re(T.S):N+"Guest",N+="</span>"):(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',T.V?N+=Re(T.V):(K="Sign in with "+Re(ts(g,w)),N+=K),N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(T.S?Re(T.S):Re(ts(g,w)))+"</span>"),T=ue(N+"</button>"),h+='<li class="firebaseui-list-item">'+T+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+_a(u)+"</div></div>",ue(h)}E1.a="firebaseui.auth.soy2.page.providerSignIn";function b1(r,a,u){r=r||{};var h=r.Gb,p=r.Va;a=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Vn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ue(r);var g;return h?g=ue('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):g="",g=r+g+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(p?si(null):"")+Wn({label:Pt("Verify")})+'</div></div><div class="firebaseui-card-footer">',a?(a='<p class="firebaseui-tos firebaseui-phone-tos">',a=u.F&&u.D?a+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':a+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",u=ue(a+"</p>")):u=ue('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+yn(u),ue(g+u+"</div></form></div>")}b1.a="firebaseui.auth.soy2.page.phoneSignInStart";function I1(r,a,u){r=r||{},a=r.phoneNumber;var h="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Re(a)+"</a>"),Re(a),a=h,h=ue('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),u='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+h+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+si(null)+Wn({label:Pt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+yn(u)+"</div></form>",r=ue('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ue(a+(u+r+"</div>"))}I1.a="firebaseui.auth.soy2.page.phoneSignInFinish";function T1(){return ue('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}T1.a="firebaseui.auth.soy2.page.signOut";function A1(r,a,u){var h='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,a=r.length;for(var p=0;p<a;p++){var g=r[p],w="",T=Re(g.displayName),N=g.tenantId?g.tenantId:"top-level-project";N=Pt(N),w+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Vn(N)+' firebaseui-id-tenant-selection-button"'+(g.tenantId?'data-tenant-id="'+Vn(g.tenantId)+'"':"")+'style="background-color:'+Vn(Nw(g.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Vn(Hs(g.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',g.V?w+=Re(g.V):(g="Sign in to "+Re(g.displayName),w+=g),w=ue(w+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+T+"</span></button>")),h+='<li class="firebaseui-list-item">'+w+"</li>"}return h+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+_a(u)+"</div></div>",ue(h)}A1.a="firebaseui.auth.soy2.page.selectTenant";function S1(r,a,u){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ya(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Wn(null)+'</div></div><div class="firebaseui-card-footer">'+_a(u)+"</div></form></div>",ue(r)}S1.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Zt(){return qe(this,"firebaseui-id-submit")}function Ht(){return qe(this,"firebaseui-id-secondary-link")}function hn(r,a){It(this,Zt.call(this),function(h){r(h)});var u=Ht.call(this);u&&a&&It(this,u,function(h){a(h)})}function gd(){return qe(this,"firebaseui-id-password")}function vd(){return qe(this,"firebaseui-id-password-error")}function C1(){var r=gd.call(this),a=vd.call(this);ga(this,r,function(){va(a)&&(Nt(r,!0),ri(a))})}function R1(){var r=gd.call(this),a=vd.call(this);return un(r)?(Nt(r,!0),ri(a),a=!0):(Nt(r,!1),cn(a,Ye("Enter your password").toString()),a=!1),a?un(r):null}function Ea(r,a,u,h,p,g){V.call(this,t1,{email:r},g,"passwordLinking",{F:h,D:p}),this.w=a,this.H=u}c(Ea,V),Ea.prototype.v=function(){this.P(),this.M(this.w,this.H),wa(this,this.i(),this.w),this.i().focus(),V.prototype.v.call(this)},Ea.prototype.o=function(){this.w=null,V.prototype.o.call(this)},Ea.prototype.j=function(){return un(qe(this,"firebaseui-id-email"))},ie(Ea.prototype,{i:gd,B:vd,P:C1,u:R1,ea:Zt,ba:Ht,M:hn});var TO=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function _r(){return qe(this,"firebaseui-id-email")}function ns(){return qe(this,"firebaseui-id-email-error")}function ba(r){var a=_r.call(this),u=ns.call(this);ga(this,a,function(){va(u)&&(Nt(a,!0),ri(u))}),r&&lu(this,a,function(){r()})}function Ia(){return O(un(_r.call(this))||"")}function Ta(){var r=_r.call(this),a=ns.call(this),u=un(r)||"";return u?TO.test(u)?(Nt(r,!0),ri(a),a=!0):(Nt(r,!1),cn(a,Ye("That email address isn't correct").toString()),a=!1):(Nt(r,!1),cn(a,Ye("Enter your email address to continue").toString()),a=!1),a?O(un(r)):null}function cu(r,a,u,h,p,g,w){V.call(this,Hb,{email:u,ia:!!g},w,"passwordSignIn",{F:h,D:p}),this.w=r,this.H=a}c(cu,V),cu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),uu(this,this.l(),this.i()),wa(this,this.i(),this.w),un(this.l())?this.i().focus():this.l().focus(),V.prototype.v.call(this)},cu.prototype.o=function(){this.H=this.w=null,V.prototype.o.call(this)},ie(cu.prototype,{l:_r,U:ns,P:ba,M:Ia,j:Ta,i:gd,B:vd,ea:C1,u:R1,ua:Zt,pa:Ht,ba:hn});function it(r,a,u,h,p,g){V.call(this,r,a,h,p||"notice",g),this.i=u||null}k(it,V),it.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),it.K.v.call(this)},it.prototype.o=function(){this.i=null,it.K.o.call(this)},ie(it.prototype,{l:Zt,w:Ht,u:hn});function yd(r,a,u,h,p){it.call(this,Kb,{email:r,G:!!a},a,p,"passwordRecoveryEmailSent",{F:u,D:h})}k(yd,it);function P1(r,a){it.call(this,d1,{G:!!r},r,a,"emailVerificationSuccess")}k(P1,it);function k1(r,a){it.call(this,f1,{G:!!r},r,a,"emailVerificationFailure")}k(k1,it);function N1(r,a,u){it.call(this,p1,{email:r,G:!!a},a,u,"verifyAndChangeEmailSuccess")}k(N1,it);function O1(r,a){it.call(this,m1,{G:!!r},r,a,"verifyAndChangeEmailFailure")}k(O1,it);function D1(r,a){it.call(this,v1,{G:!!r},r,a,"revertSecondFactorAdditionFailure")}k(D1,it);function x1(r){it.call(this,T1,void 0,void 0,r,"signOut")}k(x1,it);function L1(r,a){it.call(this,l1,{G:!!r},r,a,"passwordResetSuccess")}k(L1,it);function M1(r,a){it.call(this,u1,{G:!!r},r,a,"passwordResetFailure")}k(M1,it);function V1(r,a){it.call(this,h1,{G:!!r},r,a,"emailChangeRevokeFailure")}k(V1,it);function F1(r,a,u){it.call(this,y1,{errorMessage:r,zb:!!a},a,u,"recoverableError")}k(F1,it);function U1(r,a){it.call(this,_1,{errorMessage:r},void 0,a,"unrecoverableError")}k(U1,it);function hu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var a=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:a&&a.error&&a.error.message||r.message}}return r}function wr(r,a,u,h){function p(w){if(!w.name||w.name!="cancel"){e:{var T=w.message;try{var N=((JSON.parse(T).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(N&&N.length){var K=!0;break e}}catch{}K=!1}if(K)w=Et(a),a.m(),dt(r,w,void 0,Ye("Your sign-in session has expired. Please try again.").toString());else{if(K=w&&w.message||"",w.code){if(w.code=="auth/email-already-in-use"||w.code=="auth/credential-already-in-use")return;K=ot(w)}a.a(K)}}}if(aI(r),h)return B1(r,u),kt();if(!u.credential)throw Error("No credential found!");if(!je(r).currentUser&&!u.user)throw Error("User not logged in.");try{var g=nD(r,u)}catch(w){return ni(w.code||w.message,w),a.a(w.code||w.message),kt()}return u=g.then(function(w){B1(r,w)},p).then(void 0,p),Le(r,g),kt(u)}function B1(r,a){if(!a.user)throw Error("No user found");var u=lb(U(r));if(Ig(U(r))&&u&&es("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),u){u=lb(U(r));var h=jE(Se(r))||void 0;qn(Jl,Se(r));var p=!1;aE()?((!u||u(a,h))&&(p=!0,Yo(window.opener.location,_d(r,h))),u||window.close()):(!u||u(a,h))&&(p=!0,Yo(window.location,_d(r,h))),p||r.reset()}else{u=a.user,a=a.credential,h=Ig(U(r)),p=jE(Se(r))||void 0,qn(Jl,Se(r));var g=!1;aE()?((!h||h(u,a,p))&&(g=!0,Yo(window.opener.location,_d(r,p))),h||window.close()):(!h||h(u,a,p))&&(g=!0,Yo(window.location,_d(r,p))),g||r.reset()}}function _d(r,a){if(r=a||U(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function ot(r){var a={code:r.code};a=a||{};var u="";switch(a.code){case"auth/email-already-in-use":u+="The email address is already used by another account";break;case"auth/requires-recent-login":u+=Mw();break;case"auth/too-many-requests":u+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":u+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":u+="That email address doesn't match an existing account";break;case"auth/user-token-expired":u+=Mw();break;case"auth/weak-password":u+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":u+="The email and password you entered don't match";break;case"auth/network-request-failed":u+="A network error has occurred";break;case"auth/invalid-phone-number":u+=Vm();break;case"auth/invalid-verification-code":u+=Ye("Wrong code. Try again.");break;case"auth/code-expired":u+="This code is no longer valid";break;case"auth/expired-action-code":u+="This code has expired.";break;case"auth/invalid-action-code":u+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(a=Ye(u).toString())return a;try{return JSON.parse(r.message),ni("Internal error: "+r.message,void 0),Dw().toString()}catch{return r.message}}function AO(r,a,u){var h=aa[a]&&ye.auth[aa[a]]?new ye.auth[aa[a]]:a.indexOf("saml.")==0?new ye.auth.SAMLAuthProvider(a):new ye.auth.OAuthProvider(a);if(!h)throw Error("Invalid Firebase Auth provider!");var p=ib(U(r),a);if(h.addScope)for(var g=0;g<p.length;g++)h.addScope(p[g]);return p=rb(U(r),a)||{},u&&(a==ye.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":a==ye.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=eu(U(r),a))&&r.Ob,r&&(p[r]=u)),h.setCustomParameters&&h.setCustomParameters(p),h}function du(r,a,u,h){function p(){ZN(new AE(r.h.tenantId||null),Se(r)),Le(r,a.I(re(r.dc,r),[N],function(){if((window.location&&window.location.protocol)==="file:")return Le(r,nI(r).then(function(K){a.m(),qn(Ys,Se(r)),he("callback",r,T,kt(K))},g))},w))}function g(K){if(qn(Ys,Se(r)),!K.name||K.name!="cancel")switch(K=hu(K),K.code){case"auth/popup-blocked":p();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":a.a(ot(K));break;case"auth/admin-restricted-operation":a.m(),Js(U(r))?he("handleUnauthorizedUser",r,T,null,u):he("callback",r,T,Qo(K));break;default:a.m(),he("callback",r,T,Qo(K))}}function w(K){qn(Ys,Se(r)),K.name&&K.name=="cancel"||(ni("signInWithRedirect: "+K.code,void 0),K=ot(K),a.Ga=="blank"&&bg(U(r))?(a.m(),he("providerSignIn",r,T,K)):a.a(K))}var T=Et(a),N=AO(r,u,h);ab(U(r))==ud?p():Le(r,tD(r,N).then(function(K){a.m(),he("callback",r,T,kt(K))},g))}function SO(r,a){Le(r,a.I(re(r.$b,r),[],function(u){return a.m(),wr(r,a,u,!0)},function(u){u.name&&u.name=="cancel"||(ni("ContinueAsGuest: "+u.code,void 0),u=ot(u),a.a(u))}))}function CO(r,a,u){function h(g){var w=!1;return g=a.I(re(r.ac,r),[g],function(T){var N=Et(a);a.m(),he("callback",r,N,kt(T)),w=!0},function(T){if((!T.name||T.name!="cancel")&&(!T||T.code!="auth/credential-already-in-use"))if(T&&T.code=="auth/email-already-in-use"&&T.email&&T.credential){var N=Et(a);a.m(),he("callback",r,N,Qo(T))}else T&&T.code=="auth/admin-restricted-operation"&&Js(U(r))?(T=Et(a),a.m(),he("handleUnauthorizedUser",r,T,null,ye.auth.GoogleAuthProvider.PROVIDER_ID)):(T=ot(T),a.a(T))}),Le(r,g),g.then(function(){return w},function(){return!1})}if(u&&u.credential&&u.clientId===tb(U(r))){if(ib(U(r),ye.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var p=JSON.parse(atob(u.credential.split(".")[1])).email}catch{}return du(r,a,ye.auth.GoogleAuthProvider.PROVIDER_ID,p),kt(!0)}return h(ye.auth.GoogleAuthProvider.credential(u.credential))}return u&&a.a(Ye("The selected credential for the authentication provider is not supported!").toString()),kt(!1)}function RO(r,a){var u=a.j(),h=a.u();if(u)if(h){var p=ye.auth.EmailAuthProvider.credential(u,h);Le(r,a.I(re(r.bc,r),[u,h],function(g){return wr(r,a,{user:g.user,credential:p,operationType:g.operationType,additionalUserInfo:g.additionalUserInfo})},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/email-already-in-use":break;case"auth/email-exists":Nt(a.l(),!1),cn(a.U(),ot(g));break;case"auth/too-many-requests":case"auth/wrong-password":Nt(a.i(),!1),cn(a.B(),ot(g));break;default:ni("verifyPassword: "+g.message,void 0),a.a(ot(g))}}))}else a.i().focus();else a.l().focus()}function wd(r){return r=la(U(r)),r.length==1&&r[0]==ye.auth.EmailAuthProvider.PROVIDER_ID}function j1(r){return r=la(U(r)),r.length==1&&r[0]==ye.auth.PhoneAuthProvider.PROVIDER_ID}function dt(r,a,u,h){wd(r)?h?he("signIn",r,a,u,h):Ug(r,a,u):r&&j1(r)&&!h?he("phoneSignInStart",r,a):r&&bg(U(r))&&!h?he("federatedRedirect",r,a,u):he("providerSignIn",r,a,h,u)}function $1(r,a,u,h){var p=Et(a);Le(r,a.I(re(je(r).fetchSignInMethodsForEmail,je(r)),[u],function(g){a.m(),H1(r,p,g,u,h)},function(g){g=ot(g),a.a(g)}))}function H1(r,a,u,h,p,g){u.length||ua(U(r))&&!ua(U(r))?D(u,ye.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?he("passwordSignIn",r,a,h,g):u.length==1&&u[0]===ye.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ua(U(r))?he("sendEmailLinkForSignIn",r,a,h,function(){he("signIn",r,a)}):he("unsupportedProvider",r,a,h):(u=XE(u,la(U(r))))?($E(new ug(h),Se(r)),he("federatedSignIn",r,a,h,u,p)):he("unsupportedProvider",r,a,h):nb(U(r))?he("handleUnauthorizedUser",r,a,h,ye.auth.EmailAuthProvider.PROVIDER_ID):ua(U(r))?he("sendEmailLinkForSignIn",r,a,h,function(){he("signIn",r,a)}):he("passwordSignUp",r,a,h,void 0,void 0,g)}function Fg(r,a,u,h,p,g){var w=Et(a);Le(r,a.I(re(r.Ib,r),[u,g],function(){a.m(),he("emailLinkSignInSent",r,w,u,h,g)},p))}function Ug(r,a,u){u?he("prefilledEmailSignIn",r,a,u):he("signIn",r,a)}function fu(){return bh(yr(),"oobCode")}function Bg(){var r=bh(yr(),"continueUrl");return r?function(){Yo(window.location,r)}:null}function pu(r,a){V.call(this,e1,void 0,a,"anonymousUserMismatch"),this.i=r}c(pu,V),pu.prototype.v=function(){var r=this;It(this,this.l(),function(){r.i()}),this.l().focus(),V.prototype.v.call(this)},pu.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(pu.prototype,{l:Ht}),Ze.anonymousUserMismatch=function(r,a){var u=new pu(function(){u.m(),dt(r,a)});u.render(a),Fe(r,u)};function Ed(r){V.call(this,Gb,void 0,r,"callback")}c(Ed,V),Ed.prototype.I=function(r,a,u,h){return r.apply(null,a).then(u,h)};function q1(r,a,u){if(u.user){var h={user:u.user,credential:u.credential,operationType:u.operationType,additionalUserInfo:u.additionalUserInfo},p=Wi(Se(r)),g=p&&p.g;if(g&&!kO(u.user,g))PO(r,a,h);else{var w=p&&p.a;w?Le(r,u.user.linkWithCredential(w).then(function(T){h={user:T.user,credential:w,operationType:T.operationType,additionalUserInfo:T.additionalUserInfo},W1(r,a,h)},function(T){bd(r,a,T)})):W1(r,a,h)}}else u=Et(a),a.m(),Ki(Se(r)),dt(r,u)}function W1(r,a,u){Ki(Se(r)),wr(r,a,u)}function bd(r,a,u){var h=Et(a);Ki(Se(r)),u=ot(u),a.m(),dt(r,h,void 0,u)}function K1(r,a,u,h){var p=Et(a);Le(r,je(r).fetchSignInMethodsForEmail(u).then(function(g){a.m(),g.length?D(g,ye.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?he("passwordLinking",r,p,u):g.length==1&&g[0]===ye.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?he("emailLinkSignInLinking",r,p,u):(g=XE(g,la(U(r))))?he("federatedLinking",r,p,u,g,h):(Ki(Se(r)),he("unsupportedProvider",r,p,u)):(Ki(Se(r)),he("passwordRecovery",r,p,u,!1,xw().toString()))},function(g){bd(r,a,g)}))}function PO(r,a,u){var h=Et(a);Le(r,is(r).then(function(){a.m(),he("emailMismatch",r,h,u)},function(p){p.name&&p.name=="cancel"||(p=ot(p.code),a.a(p))}))}function kO(r,a){if(a==r.email)return!0;if(r.providerData){for(var u=0;u<r.providerData.length;u++)if(a==r.providerData[u].email)return!0}return!1}Ze.callback=function(r,a,u){var h=new Ed;h.render(a),Fe(r,h),u=u||nI(r),Le(r,u.then(function(p){q1(r,h,p)},function(p){if((p=hu(p))&&(p.code=="auth/account-exists-with-different-credential"||p.code=="auth/email-already-in-use")&&p.email&&p.credential)$E(new ug(p.email,p.credential),Se(r)),K1(r,h,p.email);else if(p&&p.code=="auth/user-cancelled"){var g=Wi(Se(r)),w=ot(p);g&&g.a?K1(r,h,g.g,w):g?$1(r,h,g.g,w):bd(r,h,p)}else p&&p.code=="auth/credential-already-in-use"||(p&&p.code=="auth/operation-not-supported-in-this-environment"&&wd(r)?q1(r,h,{user:null,credential:null}):p&&p.code=="auth/admin-restricted-operation"&&Js(U(r))?(h.m(),Ki(Se(r)),he("handleUnauthorizedUser",r,a,null,null)):bd(r,h,p))}))};function mu(r,a){V.call(this,Zb,void 0,a,"differentDeviceError"),this.i=r}c(mu,V),mu.prototype.v=function(){var r=this;It(this,this.l(),function(){r.i()}),this.l().focus(),V.prototype.v.call(this)},mu.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(mu.prototype,{l:Ht}),Ze.differentDeviceError=function(r,a){var u=new mu(function(){u.m(),dt(r,a)});u.render(a),Fe(r,u)};function gu(r,a,u,h){V.call(this,c1,{email:r,G:!!u},h,"emailChangeRevoke"),this.l=a,this.i=u||null}c(gu,V),gu.prototype.v=function(){var r=this;It(this,qe(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),V.prototype.v.call(this)},gu.prototype.o=function(){this.l=this.i=null,V.prototype.o.call(this)},ie(gu.prototype,{u:Zt,B:Ht,w:hn});function vu(){return qe(this,"firebaseui-id-new-password")}function Id(){return qe(this,"firebaseui-id-password-toggle")}function NO(){this.Ra=!this.Ra;var r=Id.call(this),a=vu.call(this);this.Ra?(a.type="text",Gi(r,"firebaseui-input-toggle-off"),zi(r,"firebaseui-input-toggle-on")):(a.type="password",Gi(r,"firebaseui-input-toggle-on"),zi(r,"firebaseui-input-toggle-off")),a.focus()}function Td(){return qe(this,"firebaseui-id-new-password-error")}function G1(){this.Ra=!1;var r=vu.call(this);r.type="password";var a=Td.call(this);ga(this,r,function(){va(a)&&(Nt(r,!0),ri(a))});var u=Id.call(this);Gi(u,"firebaseui-input-toggle-on"),zi(u,"firebaseui-input-toggle-off"),_O(this,r,function(){Gi(u,"firebaseui-input-toggle-focus"),zi(u,"firebaseui-input-toggle-blur")}),wO(this,r,function(){Gi(u,"firebaseui-input-toggle-blur"),zi(u,"firebaseui-input-toggle-focus")}),It(this,u,re(NO,this))}function z1(){var r=vu.call(this),a=Td.call(this);return un(r)?(Nt(r,!0),ri(a),a=!0):(Nt(r,!1),cn(a,Ye("Enter your password").toString()),a=!1),a?un(r):null}function yu(r,a,u){V.call(this,a1,{email:r},u,"passwordReset"),this.l=a}c(yu,V),yu.prototype.v=function(){this.H(),this.B(this.l),wa(this,this.i(),this.l),this.i().focus(),V.prototype.v.call(this)},yu.prototype.o=function(){this.l=null,V.prototype.o.call(this)},ie(yu.prototype,{i:vu,w:Td,M:Id,H:G1,u:z1,U:Zt,P:Ht,B:hn});function _u(r,a,u,h,p){V.call(this,g1,{factorId:r,phoneNumber:u||null,G:!!h},p,"revertSecondFactorAdditionSuccess"),this.l=a,this.i=h||null}c(_u,V),_u.prototype.v=function(){var r=this;It(this,qe(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),V.prototype.v.call(this)},_u.prototype.o=function(){this.l=this.i=null,V.prototype.o.call(this)},ie(_u.prototype,{u:Zt,B:Ht,w:hn});function OO(r,a,u,h,p){var g=u.u();g&&Le(r,u.I(re(je(r).confirmPasswordReset,je(r)),[h,g],function(){u.m();var w=new L1(p);w.render(a),Fe(r,w)},function(w){Y1(r,a,u,w)}))}function Y1(r,a,u,h){(h&&h.code)=="auth/weak-password"?(r=ot(h),Nt(u.i(),!1),cn(u.w(),r),u.i().focus()):(u&&u.m(),u=new M1,u.render(a),Fe(r,u))}function DO(r,a,u){var h=new gu(u,function(){Le(r,h.I(re(je(r).sendPasswordResetEmail,je(r)),[u],function(){h.m(),h=new yd(u,void 0,Mt(U(r)),Vt(U(r))),h.render(a),Fe(r,h)},function(){h.a(Ow().toString())}))});h.render(a),Fe(r,h)}function xO(r,a,u,h){var p=new _u(h.factorId,function(){p.I(re(je(r).sendPasswordResetEmail,je(r)),[u],function(){p.m(),p=new yd(u,void 0,Mt(U(r)),Vt(U(r))),p.render(a),Fe(r,p)},function(){p.a(Ow().toString())})},h.phoneNumber);p.render(a),Fe(r,p)}Ze.passwordReset=function(r,a,u,h){Le(r,je(r).verifyPasswordResetCode(u).then(function(p){var g=new yu(p,function(){OO(r,a,g,u,h)});g.render(a),Fe(r,g)},function(){Y1(r,a)}))},Ze.emailChangeRevocation=function(r,a,u){var h=null;Le(r,je(r).checkActionCode(u).then(function(p){return h=p.data.email,je(r).applyActionCode(u)}).then(function(){DO(r,a,h)},function(){var p=new V1;p.render(a),Fe(r,p)}))},Ze.emailVerification=function(r,a,u,h){Le(r,je(r).applyActionCode(u).then(function(){var p=new P1(h);p.render(a),Fe(r,p)},function(){var p=new k1;p.render(a),Fe(r,p)}))},Ze.revertSecondFactorAddition=function(r,a,u){var h=null,p=null;Le(r,je(r).checkActionCode(u).then(function(g){return h=g.data.email,p=g.data.multiFactorInfo,je(r).applyActionCode(u)}).then(function(){xO(r,a,h,p)},function(){var g=new D1;g.render(a),Fe(r,g)}))},Ze.verifyAndChangeEmail=function(r,a,u,h){var p=null;Le(r,je(r).checkActionCode(u).then(function(g){return p=g.data.email,je(r).applyActionCode(u)}).then(function(){var g=new N1(p,h);g.render(a),Fe(r,g)},function(){var g=new O1;g.render(a),Fe(r,g)}))};function Ad(r,a){try{var u=typeof r.selectionStart=="number"}catch{u=!1}u?(r.selectionStart=a,r.selectionEnd=a):Rt&&!Bs("9")&&(r.type=="textarea"&&(a=r.value.substring(0,a).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",a),r.select())}function wu(r,a,u,h,p,g){V.call(this,Xb,{email:u},g,"emailLinkSignInConfirmation",{F:h,D:p}),this.l=r,this.u=a}c(wu,V),wu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Ad(this.i(),(this.i().value||"").length),V.prototype.v.call(this)},wu.prototype.o=function(){this.u=this.l=null,V.prototype.o.call(this)},ie(wu.prototype,{i:_r,M:ns,w:ba,H:Ia,j:Ta,U:Zt,P:Ht,B:hn}),Ze.emailLinkConfirmation=function(r,a,u,h,p,g){var w=new wu(function(){var T=w.j();T?(w.m(),h(r,a,T,u)):w.i().focus()},function(){w.m(),dt(r,a,p||void 0)},p||void 0,Mt(U(r)),Vt(U(r)));w.render(a),Fe(r,w),g&&w.a(g)};function Eu(r,a,u,h,p){V.call(this,i1,{ga:r},p,"emailLinkSignInLinkingDifferentDevice",{F:u,D:h}),this.i=a}c(Eu,V),Eu.prototype.v=function(){this.u(this.i),this.l().focus(),V.prototype.v.call(this)},Eu.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(Eu.prototype,{l:Zt,u:hn}),Ze.emailLinkNewDeviceLinking=function(r,a,u,h){var p=new Us(u);if(u=p.a.a.get(Bt.PROVIDER_ID)||null,uw(p,null),u){var g=new Eu(eu(U(r),u),function(){g.m(),h(r,a,p.toString())},Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g)}else dt(r,a)};function Sd(r){V.call(this,Yb,void 0,r,"blank")}c(Sd,V);function jg(r,a,u,h,p){var g=new Sd,w=new Us(u),T=w.a.a.get(Bt.$a)||"",N=w.a.a.get(Bt.Sa)||"",K=w.a.a.get(Bt.Qa)==="1",pe=lw(w),rt=w.a.a.get(Bt.PROVIDER_ID)||null;w=w.a.a.get(Bt.vb)||null,lI(r,w);var Si=!sa(ra,Se(r)),fI=h||eO(N,Se(r)),xu=(h=tO(N,Se(r)))&&h.a;rt&&xu&&xu.providerId!==rt&&(xu=null),g.render(a),Fe(r,g),Le(r,g.I(function(){var fi=kt(null);fi=pe&&Si||Si&&K?Qo(Error("anonymous-user-not-found")):XO(r,u).then(function(Xg){if(rt&&!xu)throw Error("pending-credential-not-found");return Xg});var Lu=null;return fi.then(function(Xg){return Lu=Xg,p?null:je(r).checkActionCode(T)}).then(function(){return Lu})},[],function(fi){fI?MO(r,g,fI,u,xu,fi):K?(g.m(),he("differentDeviceError",r,a)):(g.m(),he("emailLinkConfirmation",r,a,u,Q1))},function(fi){var Lu=void 0;if(!fi||!fi.name||fi.name!="cancel")switch(g.m(),fi&&fi.message){case"anonymous-user-not-found":he("differentDeviceError",r,a);break;case"anonymous-user-mismatch":he("anonymousUserMismatch",r,a);break;case"pending-credential-not-found":he("emailLinkNewDeviceLinking",r,a,u,LO);break;default:fi&&(Lu=ot(fi)),dt(r,a,void 0,Lu)}}))}function Q1(r,a,u,h){jg(r,a,h,u,!0)}function LO(r,a,u){jg(r,a,u)}function MO(r,a,u,h,p,g){var w=Et(a);a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ye("Signing in...").toString());var T=null;p=(g?ZO(r,g,u,h,p):eD(r,u,h,p)).then(function(N){qn(Xl,Se(r)),qn(ra,Se(r)),a.h(),a.$("firebaseui-icon-done",Ye("Signed in!").toString()),T=setTimeout(function(){a.h(),wr(r,a,N,!0)},1e3),Le(r,function(){a&&(a.h(),a.m()),clearTimeout(T)})},function(N){if(a.h(),a.m(),!N.name||N.name!="cancel"){N=hu(N);var K=ot(N);N.code=="auth/email-already-in-use"||N.code=="auth/credential-already-in-use"?(qn(Xl,Se(r)),qn(ra,Se(r))):N.code=="auth/invalid-email"?(K=Ye("The email provided does not match the current sign-in session.").toString(),he("emailLinkConfirmation",r,w,h,Q1,null,K)):dt(r,w,u,K)}}),Le(r,p)}Ze.emailLinkSignInCallback=jg;function bu(r,a,u,h,p,g){V.call(this,n1,{email:r,ga:a},g,"emailLinkSignInLinking",{F:h,D:p}),this.i=u}c(bu,V),bu.prototype.v=function(){this.u(this.i),this.l().focus(),V.prototype.v.call(this)},bu.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(bu.prototype,{l:Zt,u:hn});function VO(r,a,u,h){var p=Et(a);Fg(r,a,u,function(){dt(r,p,u)},function(g){if(!g.name||g.name!="cancel"){var w=ot(g);g&&g.code=="auth/network-request-failed"?a.a(w):(a.m(),dt(r,p,u,w))}},h)}Ze.emailLinkSignInLinking=function(r,a,u){var h=Wi(Se(r));if(Ki(Se(r)),h){var p=h.a.providerId,g=new bu(u,eu(U(r),p),function(){VO(r,g,u,h)},Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g)}else dt(r,a)};function Iu(r,a,u,h,p,g){V.call(this,Qb,{email:r},g,"emailLinkSignInSent",{F:h,D:p}),this.u=a,this.i=u}c(Iu,V),Iu.prototype.v=function(){var r=this;It(this,this.l(),function(){r.i()}),It(this,qe(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),V.prototype.v.call(this)},Iu.prototype.o=function(){this.i=this.u=null,V.prototype.o.call(this)},ie(Iu.prototype,{l:Ht}),Ze.emailLinkSignInSent=function(r,a,u,h,p){var g=new Iu(u,function(){g.m(),he("emailNotReceived",r,a,u,h,p)},function(){g.m(),h()},Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g)};function Tu(r,a,u,h,p,g,w){V.call(this,w1,{jc:r,Qb:a},w,"emailMismatch",{F:p,D:g}),this.l=u,this.i=h}c(Tu,V),Tu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),V.prototype.v.call(this)},Tu.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(Tu.prototype,{u:Zt,B:Ht,w:hn}),Ze.emailMismatch=function(r,a,u){var h=Wi(Se(r));if(h){var p=new Tu(u.user.email,h.g,function(){var g=p;Ki(Se(r)),wr(r,g,u)},function(){var g=u.credential.providerId,w=Et(p);p.m(),h.a?he("federatedLinking",r,w,h.g,g):he("federatedSignIn",r,w,h.g,g)},Mt(U(r)),Vt(U(r)));p.render(a),Fe(r,p)}else dt(r,a)};function Aa(r,a,u,h,p){V.call(this,Jb,void 0,p,"emailNotReceived",{F:u,D:h}),this.l=r,this.i=a}c(Aa,V),Aa.prototype.v=function(){var r=this;It(this,this.u(),function(){r.i()}),It(this,this.Da(),function(){r.l()}),this.u().focus(),V.prototype.v.call(this)},Aa.prototype.Da=function(){return qe(this,"firebaseui-id-resend-email-link")},Aa.prototype.o=function(){this.i=this.l=null,V.prototype.o.call(this)},ie(Aa.prototype,{u:Ht}),Ze.emailNotReceived=function(r,a,u,h,p){var g=new Aa(function(){Fg(r,g,u,h,function(w){w=ot(w),g.a(w)},p)},function(){g.m(),dt(r,a,u)},Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g)};function Sa(r,a,u,h,p,g){V.call(this,r1,{email:r,ga:a},g,"federatedLinking",{F:h,D:p}),this.i=u}c(Sa,V),Sa.prototype.v=function(){this.u(this.i),this.l().focus(),V.prototype.v.call(this)},Sa.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(Sa.prototype,{l:Zt,u:hn}),Ze.federatedLinking=function(r,a,u,h,p){var g=Wi(Se(r));if(g&&g.a){var w=new Sa(u,eu(U(r),h),function(){du(r,w,h,u)},Mt(U(r)),Vt(U(r)));w.render(a),Fe(r,w),p&&w.a(p)}else dt(r,a)},Ze.federatedRedirect=function(r,a,u){var h=new Sd;h.render(a),Fe(r,h),a=la(U(r))[0],du(r,h,a,u)},Ze.federatedSignIn=function(r,a,u,h,p){var g=new Sa(u,eu(U(r),h),function(){du(r,g,h,u)},Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g),p&&g.a(p)};function FO(r,a,u,h){var p=a.u();p?Le(r,a.I(re(r.Xb,r),[u,p],function(g){return g=g.user.linkWithCredential(h).then(function(w){return wr(r,a,{user:w.user,credential:h,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo})}),Le(r,g),g},function(g){if(!g.name||g.name!="cancel")switch(g.code){case"auth/wrong-password":Nt(a.i(),!1),cn(a.B(),ot(g));break;case"auth/too-many-requests":a.a(ot(g));break;default:ni("signInWithEmailAndPassword: "+g.message,void 0),a.a(ot(g))}})):a.i().focus()}Ze.passwordLinking=function(r,a,u){var h=Wi(Se(r));Ki(Se(r));var p=h&&h.a;if(p){var g=new Ea(u,function(){FO(r,g,u,p)},function(){g.m(),he("passwordRecovery",r,a,u)},Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g)}else dt(r,a)};function Au(r,a,u,h,p,g){V.call(this,Wb,{email:u,Ta:!!a},g,"passwordRecovery",{F:h,D:p}),this.l=r,this.u=a}c(Au,V),Au.prototype.v=function(){this.B(),this.H(this.l,this.u),un(this.i())||this.i().focus(),wa(this,this.i(),this.l),V.prototype.v.call(this)},Au.prototype.o=function(){this.u=this.l=null,V.prototype.o.call(this)},ie(Au.prototype,{i:_r,w:ns,B:ba,M:Ia,j:Ta,U:Zt,P:Ht,H:hn});function UO(r,a){var u=a.j();if(u){var h=Et(a);Le(r,a.I(re(je(r).sendPasswordResetEmail,je(r)),[u],function(){a.m();var p=new yd(u,function(){p.m(),dt(r,h)},Mt(U(r)),Vt(U(r)));p.render(h),Fe(r,p)},function(p){Nt(a.i(),!1),cn(a.w(),ot(p))}))}else a.i().focus()}Ze.passwordRecovery=function(r,a,u,h,p){var g=new Au(function(){UO(r,g)},h?void 0:function(){g.m(),dt(r,a)},u,Mt(U(r)),Vt(U(r)));g.render(a),Fe(r,g),p&&g.a(p)},Ze.passwordSignIn=function(r,a,u,h){var p=new cu(function(){RO(r,p)},function(){var g=p.M();p.m(),he("passwordRecovery",r,a,g)},u,Mt(U(r)),Vt(U(r)),h);p.render(a),Fe(r,p)};function $g(){return qe(this,"firebaseui-id-name")}function Hg(){return qe(this,"firebaseui-id-name-error")}function Su(r,a,u,h,p,g,w,T,N){V.call(this,qb,{email:h,Tb:r,name:p,Ta:!!u,ia:!!T},N,"passwordSignUp",{F:g,D:w}),this.w=a,this.H=u,this.B=r}c(Su,V),Su.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(uu(this,this.i(),this.u()),uu(this,this.u(),this.l())):uu(this,this.i(),this.l()),this.w&&wa(this,this.l(),this.w),un(this.i())?this.B&&!un(this.u())?this.u().focus():this.l().focus():this.i().focus(),V.prototype.v.call(this)},Su.prototype.o=function(){this.H=this.w=null,V.prototype.o.call(this)},ie(Su.prototype,{i:_r,U:ns,ea:ba,jb:Ia,j:Ta,u:$g,Bc:Hg,Ja:function(){var r=$g.call(this),a=Hg.call(this);ga(this,r,function(){va(a)&&(Nt(r,!0),ri(a))})},M:function(){var r=$g.call(this),a=Hg.call(this),u=un(r);return u=!/^[\s\xa0]*$/.test(u==null?"":String(u)),Nt(r,u),u?(ri(a),a=!0):(cn(a,Ye("Enter your account name").toString()),a=!1),a?O(un(r)):null},l:vu,ba:Td,lb:Id,ua:G1,P:z1,Nb:Zt,Mb:Ht,pa:hn});function BO(r,a){var u=ob(U(r)),h=a.j(),p=null;u&&(p=a.M());var g=a.P();if(h){if(u)if(p)p=me(p);else{a.u().focus();return}if(g){var w=ye.auth.EmailAuthProvider.credential(h,g);Le(r,a.I(re(r.Yb,r),[h,g],function(T){var N={user:T.user,credential:w,operationType:T.operationType,additionalUserInfo:T.additionalUserInfo};return u?(T=T.user.updateProfile({displayName:p}).then(function(){return wr(r,a,N)}),Le(r,T),T):wr(r,a,N)},function(T){if(!T.name||T.name!="cancel"){var N=hu(T);switch(T=ot(N),N.code){case"auth/email-already-in-use":return jO(r,a,h,N);case"auth/too-many-requests":T=Ye("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Nt(a.l(),!1),cn(a.ba(),T);break;case"auth/admin-restricted-operation":Js(U(r))?(T=Et(a),a.m(),he("handleUnauthorizedUser",r,T,h,ye.auth.EmailAuthProvider.PROVIDER_ID)):a.a(T);break;default:N="setAccountInfo: "+ME(N),ni(N,void 0),a.a(T)}}}))}else a.l().focus()}else a.i().focus()}function jO(r,a,u,h){function p(){var w=ot(h);Nt(a.i(),!1),cn(a.U(),w),a.i().focus()}var g=je(r).fetchSignInMethodsForEmail(u).then(function(w){w.length?p():(w=Et(a),a.m(),he("passwordRecovery",r,w,u,!1,xw().toString()))},function(){p()});return Le(r,g),g}Ze.passwordSignUp=function(r,a,u,h,p,g){function w(){T.m(),dt(r,a)}var T=new Su(ob(U(r)),function(){BO(r,T)},p?void 0:w,u,h,Mt(U(r)),Vt(U(r)),g);T.render(a),Fe(r,T)};function qg(){return qe(this,"firebaseui-id-phone-confirmation-code")}function J1(){return qe(this,"firebaseui-id-phone-confirmation-code-error")}function X1(){return qe(this,"firebaseui-id-resend-countdown")}function Ca(r,a,u,h,p,g,w,T,N){V.call(this,I1,{phoneNumber:p},N,"phoneSignInFinish",{F:w,D:T}),this.jb=g,this.i=new cd(1e3),this.B=g,this.P=r,this.l=a,this.H=u,this.M=h}c(Ca,V),Ca.prototype.v=function(){var r=this;this.U(this.jb),bi(this.i,"tick",this.w,!1,this),this.i.start(),It(this,qe(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),It(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),V.prototype.v.call(this)},Ca.prototype.o=function(){this.M=this.H=this.l=this.P=null,hd(this.i),Ws(this.i,"tick",this.w),this.i=null,V.prototype.o.call(this)},Ca.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(hd(this.i),Ws(this.i,"tick",this.w),this.ua(),this.lb())},ie(Ca.prototype,{u:qg,pa:J1,Ja:function(r){var a=qg.call(this),u=J1.call(this);ga(this,a,function(){va(u)&&(Nt(a,!0),ri(u))}),r&&lu(this,a,function(){r()})},ba:function(){var r=O(un(qg.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:X1,U:function(r){Dm(X1.call(this),Ye("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){ri(this.Fb())},Da:function(){return qe(this,"firebaseui-id-resend-link")},lb:function(){cn(this.Da())},Nb:Zt,Mb:Ht,ea:hn});function $O(r,a,u,h){function p(w){a.u().focus(),Nt(a.u(),!1),cn(a.pa(),w)}var g=a.ba();g?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ye("Verifying...").toString()),Le(r,a.I(re(h.confirm,h),[g],function(w){a.h(),a.$("firebaseui-icon-done",Ye("Verified!").toString());var T=setTimeout(function(){a.h(),a.m();var N={user:Ti(r).currentUser,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo};wr(r,a,N,!0)},1e3);Le(r,function(){a&&a.h(),clearTimeout(T)})},function(w){if(w.name&&w.name=="cancel")a.h();else{var T=hu(w);switch(w=ot(T),T.code){case"auth/credential-already-in-use":a.h();break;case"auth/code-expired":T=Et(a),a.h(),a.m(),he("phoneSignInStart",r,T,u,w);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":a.h(),p(w);break;default:a.h(),a.a(w)}}}))):p(Ye("Wrong code. Try again.").toString())}Ze.phoneSignInFinish=function(r,a,u,h,p,g){var w=new Ca(function(){w.m(),he("phoneSignInStart",r,a,u)},function(){$O(r,w,u,p)},function(){w.m(),dt(r,a)},function(){w.m(),he("phoneSignInStart",r,a,u)},wg(u),h,Mt(U(r)),Vt(U(r)));w.render(a),Fe(r,w),g&&w.a(g)};var HO=!Rt&&!(Be("Safari")&&!(dw()||Be("Coast")||Be("Opera")||Be("Edge")||Be("Firefox")||Be("FxiOS")||Be("Silk")||Be("Android")));function Cd(r,a){return/-[a-z]/.test(a)?null:HO&&r.dataset?!Be("Android")||dw()||Be("Firefox")||Be("FxiOS")||Be("Opera")||Be("Silk")||a in r.dataset?(r=r.dataset[a],r===void 0?null:r):null:r.getAttribute("data-"+String(a).replace(/([A-Z])/g,"-$1").toLowerCase())}function qO(r,a,u){var h=this;r=Fl(Mb,{items:r},null,this.s),Fb.call(this,r,!0,!0),u&&(u=WO(r,u))&&(u.focus(),yO(u,r)),It(this,r,function(p){(p=(p=Cw(p.target,"firebaseui-id-list-box-dialog-button"))&&Cd(p,"listboxid"))&&(md.call(h),a(p))})}function WO(r,a){r=(r||document).getElementsByTagName("BUTTON");for(var u=0;u<r.length;u++)if(Cd(r[u],"listboxid")===a)return r[u];return null}function Zs(){return qe(this,"firebaseui-id-phone-number")}function Z1(){return qe(this,"firebaseui-id-country-selector")}function Wg(){return qe(this,"firebaseui-id-phone-number-error")}function KO(r,a){var u=r.a,h=Kg("1-US-0",u),p=null;if(a&&Kg(a,u)?p=a:h?p="1-US-0":p=0<u.length?u[0].c:null,!p)throw Error("No available default country");Rd.call(this,p,r)}function Kg(r,a){return r=Qs(r),!(!r||!D(a,r))}function GO(r){return r.map(function(a){return{id:a.c,Ma:"firebaseui-flag "+Gg(a),label:a.name+" "+("‎+"+a.b)}})}function Gg(r){return"firebaseui-flag-"+r.f}function zO(r){var a=this;qO.call(this,GO(r.a),function(u){Rd.call(a,u,r,!0),a.O().focus()},this.Ba)}function Rd(r,a,u){var h=Qs(r);h&&(u&&(u=O(un(Zs.call(this))||""),a=sd(a,u),a.length&&a[0].b!=h.b&&(u="+"+h.b+u.substr(a[0].b.length+1),db(Zs.call(this),u))),a=Qs(this.Ba),this.Ba=r,r=qe(this,"firebaseui-id-country-selector-flag"),a&&zi(r,Gg(a)),Gi(r,Gg(h)),Dm(qe(this,"firebaseui-id-country-selector-code"),"‎+"+h.b))}function Cu(r,a,u,h,p,g,w,T,N,K){V.call(this,b1,{Gb:a,Aa:N||null,Va:!!u,ia:!!g},K,"phoneSignInStart",{F:h,D:p}),this.H=T||null,this.M=a,this.l=r,this.w=u||null,this.pa=w||null}c(Cu,V),Cu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||uu(this,this.O(),this.i()),wa(this,this.i(),this.l),this.O().focus(),Ad(this.O(),(this.O().value||"").length),V.prototype.v.call(this)},Cu.prototype.o=function(){this.w=this.l=null,V.prototype.o.call(this)},ie(Cu.prototype,{Cb:Mg,O:Zs,B:Wg,ea:function(r,a,u){var h=this,p=Zs.call(this),g=Z1.call(this),w=Wg.call(this),T=r||Zl,N=T.a;if(N.length==0)throw Error("No available countries provided.");KO.call(h,T,a),It(this,g,function(){zO.call(h,T)}),ga(this,p,function(){va(w)&&(Nt(p,!0),ri(w));var K=O(un(p)||""),pe=Qs(this.Ba),rt=sd(T,K);K=Kg("1-US-0",N),rt.length&&rt[0].b!=pe.b&&(pe=rt[0],Rd.call(h,pe.b=="1"&&K?"1-US-0":pe.c,T))}),u&&lu(this,p,function(){u()})},U:function(r){var a=O(un(Zs.call(this))||"");r=r||Zl;var u=r.a,h=sd(Zl,a);if(h.length&&!D(u,h[0]))throw db(Zs.call(this)),Zs.call(this).focus(),cn(Wg.call(this),Ye("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return u=Qs(this.Ba),h.length&&h[0].b!=u.b&&Rd.call(this,h[0].c,r),h.length&&(a=a.substr(h[0].b.length+1)),a?new QE(this.Ba,a):null},Ja:Z1,ba:function(){return qe(this,"firebaseui-recaptcha-container")},u:function(){return qe(this,"firebaseui-id-recaptcha-error")},i:Zt,ua:Ht,P:hn});function eI(r,a,u,h){try{var p=a.U(Rg)}catch{return}p?nu?(a.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Ye("Verifying...").toString()),Le(r,a.I(re(r.cc,r),[wg(p),u],function(g){var w=Et(a);a.$("firebaseui-icon-done",Ye("Code sent!").toString());var T=setTimeout(function(){a.h(),a.m(),he("phoneSignInFinish",r,w,p,15,g)},1e3);Le(r,function(){a&&a.h(),clearTimeout(T)})},function(g){if(a.h(),!g.name||g.name!="cancel"){grecaptcha.reset(cb),nu=null;var w=g&&g.message||"";if(g.code)switch(g.code){case"auth/too-many-requests":w=Ye("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":a.O().focus(),cn(a.B(),Vm().toString());return;case"auth/admin-restricted-operation":if(Js(U(r))){g=Et(a),a.m(),he("handleUnauthorizedUser",r,g,wg(p),ye.auth.PhoneAuthProvider.PROVIDER_ID);return}w=ot(g);break;default:w=ot(g)}a.a(w)}}))):ca?cn(a.u(),Ye("Solve the reCAPTCHA").toString()):!ca&&h&&a.i().click():(a.O().focus(),cn(a.B(),Vm().toString()))}Ze.phoneSignInStart=function(r,a,u,h){var p=rO(U(r))||{};nu=null,ca=!(p&&p.size==="invisible");var g=j1(r),w=cO(U(r)),T=g?uO(U(r)):null;w=u&&u.a||w&&w.c||null,u=u&&u.Aa||T,(T=Eg(U(r)))&&YE(T),Rg=T?new KE(Eg(U(r))):Zl;var N=new Cu(function(pe){eI(r,N,K,!(!pe||!pe.keyCode))},ca,g?null:function(){K.clear(),N.m(),dt(r,a)},Mt(U(r)),Vt(U(r)),g,Rg,w,u);N.render(a),Fe(r,N),h&&N.a(h),p.callback=function(pe){N.u()&&ri(N.u()),nu=pe,ca||eI(r,N,K)},p["expired-callback"]=function(){nu=null};var K=new ye.auth.RecaptchaVerifier(ca?N.ba():N.i(),p,Ti(r).app);Le(r,N.I(re(K.render,K),[],function(pe){cb=pe},function(pe){pe.name&&pe.name=="cancel"||(pe=ot(pe),N.m(),dt(r,a,void 0,pe))}))},Ze.prefilledEmailSignIn=function(r,a,u){var h=new Sd;h.render(a),Fe(r,h),Le(r,h.I(re(je(r).fetchSignInMethodsForEmail,je(r)),[u],function(p){h.m();var g=!(!wd(r)||!iI(r));H1(r,a,p,u,void 0,g)},function(p){p=ot(p),h.m(),he("signIn",r,a,u,p)}))};function Ru(r,a,u,h,p){V.call(this,E1,{Sb:a},p,"providerSignIn",{F:u,D:h}),this.i=r}c(Ru,V),Ru.prototype.v=function(){this.l(this.i),V.prototype.v.call(this)},Ru.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(Ru.prototype,{l:function(r){function a(w){r(w)}for(var u=this.g?Nm("firebaseui-id-idp-button",this.g||this.s.a):[],h=0;h<u.length;h++){var p=u[h],g=Cd(p,"providerId");It(this,p,J(a,g))}}}),Ze.providerSignIn=function(r,a,u,h){var p=new Ru(function(g){g==ye.auth.EmailAuthProvider.PROVIDER_ID?(p.m(),Ug(r,a,h)):g==ye.auth.PhoneAuthProvider.PROVIDER_ID?(p.m(),he("phoneSignInStart",r,a)):g=="anonymous"?SO(r,p):du(r,p,g,h),We(r),r.l.cancel()},eb(U(r)),Mt(U(r)),Vt(U(r)));p.render(a),Fe(r,p),u&&p.a(u),JO(r)},Ze.sendEmailLinkForSignIn=function(r,a,u,h){var p=new Ed;p.render(a),Fe(r,p),Fg(r,p,u,h,function(g){p.m(),g&&g.code=="auth/admin-restricted-operation"&&Js(U(r))?he("handleUnauthorizedUser",r,a,u,ye.auth.EmailAuthProvider.PROVIDER_ID):(g=ot(g),he("signIn",r,a,u,g))})};function Pu(r,a,u,h,p,g,w){V.call(this,$b,{email:u,Va:!!a,ia:!!g},w,"signIn",{F:h,D:p}),this.i=r,this.u=a}c(Pu,V),Pu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Ad(this.l(),(this.l().value||"").length),V.prototype.v.call(this)},Pu.prototype.o=function(){this.u=this.i=null,V.prototype.o.call(this)},ie(Pu.prototype,{l:_r,M:ns,w:ba,H:Ia,j:Ta,U:Zt,P:Ht,B:hn}),Ze.signIn=function(r,a,u,h){var p=wd(r),g=new Pu(function(){var w=g,T=w.j()||"";T&&$1(r,w,T)},p?null:function(){g.m(),dt(r,a,u)},u,Mt(U(r)),Vt(U(r)),p);g.render(a),Fe(r,g),h&&g.a(h)};function ku(r,a,u,h,p,g,w){V.call(this,s1,{kc:r,yb:u,Eb:!!h},w,"unauthorizedUser",{F:p,D:g}),this.l=a,this.i=h}c(ku,V),ku.prototype.v=function(){var r=this,a=qe(this,"firebaseui-id-unauthorized-user-help-link");this.i&&a&&It(this,a,function(){r.i()}),It(this,this.u(),function(){r.l()}),this.u().focus(),V.prototype.v.call(this)},ku.prototype.o=function(){this.i=this.l=null,V.prototype.o.call(this)},ie(ku.prototype,{u:Ht}),Ze.handleUnauthorizedUser=function(r,a,u,h){function p(){dt(r,a)}h===ye.auth.EmailAuthProvider.PROVIDER_ID?p=function(){Ug(r,a)}:h===ye.auth.PhoneAuthProvider.PROVIDER_ID&&(p=function(){he("phoneSignInStart",r,a)});var g=null,w=null;h===ye.auth.EmailAuthProvider.PROVIDER_ID&&nb(U(r))?(g=aO(U(r)),w=lO(U(r))):Js(U(r))&&(g=sO(U(r)),w=oO(U(r)));var T=new ku(u,function(){T.m(),p()},g,w,Mt(U(r)),Vt(U(r)));T.render(a),Fe(r,T)};function Nu(r,a,u,h,p,g){V.call(this,o1,{email:r},g,"unsupportedProvider",{F:h,D:p}),this.l=a,this.i=u}c(Nu,V),Nu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),V.prototype.v.call(this)},Nu.prototype.o=function(){this.i=this.l=null,V.prototype.o.call(this)},ie(Nu.prototype,{u:Zt,B:Ht,w:hn}),Ze.unsupportedProvider=function(r,a,u){var h=new Nu(u,function(){h.m(),he("passwordRecovery",r,a,u)},function(){h.m(),dt(r,a,u)},Mt(U(r)),Vt(U(r)));h.render(a),Fe(r,h)};function Yi(r,a){this.$=!1;var u=zg(a);if(Ou[u])throw Error('An AuthUI instance already exists for the key "'+u+'"');Ou[u]=this,this.a=r,this.u=null,this.Y=!1,tI(this.a),this.h=ye.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(u=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(u===null?"":":"+u),r.options)),tI(this.h),this.h.setPersistence&&this.h.setPersistence(ye.auth.Auth.Persistence.SESSION),this.oa=a,this.ca=new iO,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Zm.Xa(),this.j=this.C=null,this.da=this.A=!1}function tI(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Ou={};function zg(r){return r||"[DEFAULT]"}function nI(r){return We(r),r.i||(r.i=Er(r,function(a){return a&&!Wi(Se(r))?kt(Ti(r).getRedirectResult().then(function(u){return u},function(u){if(u&&u.code=="auth/email-already-in-use"&&u.email&&u.credential)throw u;return rs(r,u)})):kt(je(r).getRedirectResult().then(function(u){return od(U(r))&&!u.user&&r.j&&!r.j.isAnonymous?Ti(r).getRedirectResult():u}))})),r.i}function Fe(r,a){We(r),r.g=a}var Ra=null;function je(r){return We(r),r.h}function Ti(r){return We(r),r.a}function Se(r){return We(r),r.oa}function iI(r){return We(r),r.O?r.O.emailHint:void 0}t=Yi.prototype,t.nb=function(){return We(this),!!mg(Se(this))||rI(yr())};function rI(r){return r=new Us(r),(r.a.a.get(Bt.ub)||null)==="signIn"&&!!r.a.a.get(Bt.$a)}t.start=function(r,a){sI(this,r,a)};function sI(r,a,u,h){We(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var p="en".replace(/_/g,"-");r.a.languageCode=p,r.h.languageCode=p,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(u),r.O=h||null;var g=v.document;r.C?r.C.then(function(){g.readyState=="complete"?Pd(r,a):Hl(window,"load",function(){Pd(r,a)})}):g.readyState=="complete"?Pd(r,a):Hl(window,"load",function(){Pd(r,a)})}function Pd(r,a){var u=Fh(a,"Could not find the FirebaseUI widget element on the page.");if(u.setAttribute("lang","en".replace(/_/g,"-")),Ra){var h=Ra;We(h),Wi(Se(h))&&es("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Ra.reset()}if(Ra=r,r.T=u,QO(r,u),rd(new hg)&&rd(new dg)){a=Fh(a,"Could not find the FirebaseUI widget element on the page."),u=yr(),h=yg(U(r).a,"queryParameterForSignInSuccessUrl"),u=(u=bh(u,h))?Gr(Th(u)).toString():null;e:{h=yr();var p=sb(U(r));h=bh(h,p)||"";for(g in Cg)if(Cg[g].toLowerCase()==h.toLowerCase()){var g=Cg[g];break e}g="callback"}switch(g){case"callback":u&&(g=Se(r),oa(Jl,u,g)),r.nb()?he("callback",r,a):dt(r,a,iI(r));break;case"resetPassword":he("passwordReset",r,a,fu(),Bg());break;case"recoverEmail":he("emailChangeRevocation",r,a,fu());break;case"revertSecondFactorAddition":he("revertSecondFactorAddition",r,a,fu());break;case"verifyEmail":he("emailVerification",r,a,fu(),Bg());break;case"verifyAndChangeEmail":he("verifyAndChangeEmail",r,a,fu(),Bg());break;case"signIn":he("emailLinkSignInCallback",r,a,yr()),uI();break;case"select":u&&(g=Se(r),oa(Jl,u,g)),dt(r,a);break;default:throw Error("Unhandled widget operation.")}a=U(r),(a=tu(a).uiShown||null)&&a()}else a=Fh(a,"Could not find the FirebaseUI widget element on the page."),g=new U1(Ye("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),g.render(a),Fe(r,g);a=r.g&&r.g.Ga=="blank"&&bg(U(r)),mg(Se(r))&&!a&&(a=mg(Se(r)),lI(r,a.a),qn(Ys,Se(r)))}function Er(r,a){if(r.A)return a(oI(r));if(Le(r,function(){r.A=!1}),od(U(r))){var u=new $t(function(h){Le(r,r.a.onAuthStateChanged(function(p){r.j=p,r.A||(r.A=!0,h(a(oI(r))))}))});return Le(r,u),u}return r.A=!0,a(null)}function oI(r){return We(r),od(U(r))&&r.j&&r.j.isAnonymous?r.j:null}function Le(r,a){if(We(r),a){r.s.push(a);var u=function(){Xe(r.s,function(h){return h==a})};typeof a!="function"&&a.then(u,u)}}t.Db=function(){We(this),this.Z=!0};function YO(r){We(r);var a;return(a=r.Z)||(r=U(r),r=rb(r,ye.auth.GoogleAuthProvider.PROVIDER_ID),a=!(!r||r.prompt!=="select_account")),a}function aI(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function lI(r,a){r.a.tenantId=a,r.h.tenantId=a}t.reset=function(){We(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&kN(this.J),aI(this),this.O=null,uI(),qn(Ys,Se(this)),We(this),this.l.cancel(),this.i=kt({user:null,credential:null}),Ra==this&&(Ra=null),this.T=null;for(var a=0;a<this.s.length;a++)typeof this.s[a]=="function"?this.s[a]():this.s[a].cancel&&this.s[a].cancel();this.s=[],Ki(Se(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=is(this).then(function(){r.C=null},function(){r.C=null}))};function QO(r,a){r.L=null,r.J=new Mh(a),r.J.register(),bi(r.J,"pageEnter",function(u){if(u=u&&u.pageId,r.L!=u){var h=U(r);(h=tu(h).uiChanged||null)&&h(r.L,u),r.L=u}})}t.ib=function(r){We(this);var a=this.ca,u;for(u in r)try{vg(a.a,u,r[u])}catch{ni('Invalid config: "'+u+'"',void 0)}Jk&&vg(a.a,"popupMode",!1),Eg(a),!this.da&&Ig(U(this))&&(es("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function U(r){return We(r),r.ca}t.Wb=function(){We(this);var r=U(this),a=yg(r.a,"widgetUrl");r=sb(r);for(var u=a.search(rw),h=0,p,g=[];0<=(p=iw(a,h,r,u));)g.push(a.substring(h,p)),h=Math.min(a.indexOf("&",p)+1||u,u);g.push(a.substr(h)),a=g.join("").replace(Bk,"$1"),u="="+encodeURIComponent("select"),(r+=u)?(u=a.indexOf("#"),0>u&&(u=a.length),h=a.indexOf("?"),0>h||h>u?(h=u,p=""):p=a.substring(h+1,u),a=[a.substr(0,h),p,a.substr(u)],u=a[1],a[1]=r?u?u+"&"+r:r:u,u=a[0]+(a[1]?"?"+a[1]:"")+a[2]):u=a,U(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,a=(window.screen.availWidth-500)/2,u=u||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<a?a:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||u.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=oE(u,r))&&r.focus()):Yo(window.location,u)};function We(r){if(r.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var r=this;return We(this),this.h.app.delete().then(function(){var a=zg(Se(r));delete Ou[a],r.reset(),r.$=!0})};function JO(r){We(r);try{dE(r.l,tb(U(r)),YO(r)).then(function(a){return r.g?CO(r,r.g,a):!1})}catch{}}t.Ib=function(r,a){We(this);var u=this,h=VN();if(!ua(U(this)))return Qo(Error("Email link sign-in should be enabled to trigger email sending."));var p=dO(U(this)),g=new Us(p.url);return Gk(g,h),a&&a.a&&(nO(h,a,Se(this)),uw(g,a.a.providerId)),zk(g,hO(U(this))),Er(this,function(w){return w&&((w=w.uid)?g.a.a.set(Bt.Pa,w):Fs(g.a.a,Bt.Pa)),p.url=g.toString(),je(u).sendSignInLinkToEmail(r,p)}).then(function(){var w=Se(u),T={};T.email=r,oa(ra,DE(h,JSON.stringify(T)),w)},function(w){throw qn(Xl,Se(u)),qn(ra,Se(u)),w})};function XO(r,a){var u=lw(new Us(a));return u?(a=new $t(function(h,p){var g=Ti(r).onAuthStateChanged(function(w){g(),w&&w.isAnonymous&&w.uid===u?h(w):w&&w.isAnonymous&&w.uid!==u?p(Error("anonymous-user-mismatch")):p(Error("anonymous-user-not-found"))});Le(r,g)}),Le(r,a),a):kt(null)}function ZO(r,a,u,h,p){We(r);var g=p||null,w=ye.auth.EmailAuthProvider.credentialWithLink(u,h);return u=g?je(r).signInWithEmailLink(u,h).then(function(T){return T.user.linkWithCredential(g)}).then(function(){return is(r)}).then(function(){return rs(r,{code:"auth/email-already-in-use"},g)}):je(r).fetchSignInMethodsForEmail(u).then(function(T){return T.length?rs(r,{code:"auth/email-already-in-use"},w):a.linkWithCredential(w)}),Le(r,u),u}function eD(r,a,u,h){We(r);var p=h||null,g;return a=je(r).signInWithEmailLink(a,u).then(function(w){if(g={user:w.user,credential:null,operationType:w.operationType,additionalUserInfo:w.additionalUserInfo},p)return w.user.linkWithCredential(p).then(function(T){g={user:T.user,credential:p,operationType:g.operationType,additionalUserInfo:T.additionalUserInfo}})}).then(function(){is(r)}).then(function(){return Ti(r).updateCurrentUser(g.user)}).then(function(){return g.user=Ti(r).currentUser,g}),Le(r,a),a}function uI(){var r=yr();if(rI(r)){r=new Us(r);for(var a in Bt)Bt.hasOwnProperty(a)&&Fs(r.a.a,Bt[a]);a={state:"signIn",mode:"emailLink",operation:"clear"};var u=v.document.title;v.history&&v.history.replaceState&&v.history.replaceState(a,u,r.toString())}}t.bc=function(r,a){We(this);var u=this;return je(this).signInWithEmailAndPassword(r,a).then(function(h){return Er(u,function(p){return p?is(u).then(function(){return rs(u,{code:"auth/email-already-in-use"},ye.auth.EmailAuthProvider.credential(r,a))}):h})})},t.Yb=function(r,a){We(this);var u=this;return Er(this,function(h){if(h){var p=ye.auth.EmailAuthProvider.credential(r,a);return h.linkWithCredential(p)}return je(u).createUserWithEmailAndPassword(r,a)})},t.ac=function(r){We(this);var a=this;return Er(this,function(u){return u?u.linkWithCredential(r).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return rs(a,h,r)}):je(a).signInWithCredential(r)})};function tD(r,a){return We(r),Er(r,function(u){return u&&!Wi(Se(r))?u.linkWithPopup(a).then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return rs(r,h)}):je(r).signInWithPopup(a)})}t.dc=function(r){We(this);var a=this,u=this.i;return this.i=null,Er(this,function(h){return h&&!Wi(Se(a))?h.linkWithRedirect(r):je(a).signInWithRedirect(r)}).then(function(){},function(h){throw a.i=u,h})},t.cc=function(r,a){We(this);var u=this;return Er(this,function(h){return h?h.linkWithPhoneNumber(r,a).then(function(p){return new tg(p,function(g){if(g.code=="auth/credential-already-in-use")return rs(u,g);throw g})}):Ti(u).signInWithPhoneNumber(r,a).then(function(p){return new tg(p)})})},t.$b=function(){return We(this),Ti(this).signInAnonymously()};function nD(r,a){return We(r),Er(r,function(u){if(r.j&&!r.j.isAnonymous&&od(U(r))&&!je(r).currentUser)return is(r).then(function(){return a.credential.providerId=="password"&&(a.credential=null),a});if(u)return is(r).then(function(){return u.linkWithCredential(a.credential)}).then(function(h){return a.user=h.user,a.credential=h.credential,a.operationType=h.operationType,a.additionalUserInfo=h.additionalUserInfo,a},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return rs(r,h,a.credential)});if(!a.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return is(r).then(function(){return Ti(r).updateCurrentUser(a.user)}).then(function(){return a.user=Ti(r).currentUser,a.operationType="signIn",a.credential&&a.credential.providerId&&a.credential.providerId=="password"&&(a.credential=null),a})})}t.Xb=function(r,a){return We(this),je(this).signInWithEmailAndPassword(r,a)};function is(r){return We(r),je(r).signOut()}function rs(r,a,u){if(We(r),a&&a.code&&(a.code=="auth/email-already-in-use"||a.code=="auth/credential-already-in-use")){var h=ub(U(r));return kt().then(function(){return h(new Ul("anonymous-upgrade-merge-conflict",null,u||a.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),a})}return Qo(a)}function Du(r,a,u,h){V.call(this,S1,void 0,h,"providerMatchByEmail",{F:a,D:u}),this.i=r}c(Du,V),Du.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Ad(this.l(),(this.l().value||"").length),V.prototype.v.call(this)},Du.prototype.o=function(){this.i=null,V.prototype.o.call(this)},ie(Du.prototype,{l:_r,H:ns,u:ba,B:Ia,j:Ta,M:Zt,w:hn});function kd(r,a,u,h,p){V.call(this,A1,{ec:a},p,"selectTenant",{F:u,D:h}),this.i=r}c(kd,V),kd.prototype.v=function(){iD(this,this.i),V.prototype.v.call(this)},kd.prototype.o=function(){this.i=null,V.prototype.o.call(this)};function iD(r,a){function u(T){a(T)}for(var h=r.g?Nm("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],p=0;p<h.length;p++){var g=h[p],w=Cd(g,"tenantId");It(r,g,J(u,w))}}function Yg(r){V.call(this,zb,void 0,r,"spinner")}c(Yg,V);function rD(r){this.a=new gg,Lt(this.a,"authDomain"),Lt(this.a,"displayMode",Od),Lt(this.a,"tenants"),Lt(this.a,"callbacks"),Lt(this.a,"tosUrl"),Lt(this.a,"privacyPolicyUrl");for(var a in r)if(r.hasOwnProperty(a))try{vg(this.a,a,r[a])}catch{ni('Invalid config: "'+a+'"',void 0)}}function sD(r){r=r.a.get("displayMode");for(var a in Jg)if(Jg[a]===r)return Jg[a];return Od}function Nd(r){return r.a.get("callbacks")||{}}function cI(r){var a=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,a&&!r&&es("Privacy Policy URL is missing, the link will not be displayed."),a&&r){if(typeof a=="function")return a;if(typeof a=="string")return function(){Xo(a)}}return null}function hI(r){var a=r.a.get("tosUrl")||null,u=r.a.get("privacyPolicyUrl")||null;if(u&&!a&&es("Terms of Service URL is missing, the link will not be displayed."),a&&u){if(typeof u=="function")return u;if(typeof u=="string")return function(){Xo(u)}}return null}function Qg(r,a){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(a)&&!r.hasOwnProperty(Dd))throw Error("Invalid tenant configuration!")}function dI(r,a,u){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var h=[];if(r=r[a]||r[Dd],!r)return ni("Invalid tenant configuration: "+(a+" is not configured!"),void 0),h;if(a=r.signInOptions,!a)throw Error("Invalid tenant configuration: signInOptions are invalid!");return a.forEach(function(p){if(typeof p=="string")h.push(p);else if(typeof p.provider=="string"){var g=p.hd;g&&u?(g instanceof RegExp?g:new RegExp("@"+g.replace(".","\\.")+"$")).test(u)&&h.push(p.provider):h.push(p.provider)}else p="Invalid tenant configuration: signInOption "+(JSON.stringify(p)+" is invalid!"),ni(p,void 0)}),h}function oD(r,a,u){return r=aD(r,a),(a=r.signInOptions)&&u&&(a=a.filter(function(h){return typeof h=="string"?u.includes(h):u.includes(h.provider)}),r.signInOptions=a),r}function aD(r,a){var u=lD,h=h===void 0?{}:h;return Qg(r,a),r=r.a.get("tenants"),FN(r[a]||r[Dd],u,h)}var lD=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Od="optionFirst",Jg={pc:Od,oc:"identifierFirst"},Dd="*";function Ai(r,a){var u=this;this.s=Fh(r),this.a={},Object.keys(a).forEach(function(h){u.a[h]=new rD(a[h])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(h){this.ob=h||null},enumerable:!1})}t=Ai.prototype,t.Ub=function(r,a){var u=this;ss(this);var h=r.apiKey;return new $t(function(p,g){if(u.a.hasOwnProperty(h)){var w=Nd(u.a[h]).selectTenantUiHidden||null;if(sD(u.a[h])===Od){var T=[];a.forEach(function(pe){pe=pe||"_";var rt=u.a[h].a.get("tenants");if(!rt)throw Error("Invalid tenant configuration!");(rt=rt[pe]||rt[Dd])?pe={tenantId:pe!=="_"?pe:null,V:rt.fullLabel||null,displayName:rt.displayName,za:rt.iconUrl,ta:rt.buttonColor}:(ni("Invalid tenant configuration: "+(pe+" is not configured!"),void 0),pe=null),pe&&T.push(pe)});var N=function(pe){pe={tenantId:pe,providerIds:dI(u.a[h],pe||"_")},p(pe)};if(T.length===1){N(T[0].tenantId);return}u.g=new kd(function(pe){ss(u),w&&w(),N(pe)},T,cI(u.a[h]),hI(u.a[h]))}else u.g=new Du(function(){var pe=u.g.j();if(pe){for(var rt=0;rt<a.length;rt++){var Si=dI(u.a[h],a[rt]||"_",pe);if(Si.length!==0){pe={tenantId:a[rt],providerIds:Si,email:pe},ss(u),w&&w(),p(pe);return}}u.g.a(Lw({code:"no-matching-tenant-for-email"}).toString())}},cI(u.a[h]),hI(u.a[h]));u.g.render(u.s),(g=Nd(u.a[h]).selectTenantUiShown||null)&&g()}else{var K=Error("Invalid project configuration: API key is invalid!");K.code="invalid-configuration",u.pb(K),g(K)}})},t.Pb=function(r,a){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var u=a||void 0;Qg(this.a[r],a||"_");try{this.i=ye.app(u).auth()}catch{var h=this.a[r].a.get("authDomain");if(!h)throw Error("Invalid project configuration: authDomain is required!");r=ye.initializeApp({apiKey:r,authDomain:h},u),r.auth().tenantId=a,this.i=r.auth()}return this.i},t.Zb=function(r,a){var u=this;return new $t(function(h,p){function g(rt,Si){u.j=new Yi(r),sI(u.j,u.s,rt,Si)}var w=r.app.options.apiKey;u.a.hasOwnProperty(w)||p(Error("Invalid project configuration: API key is invalid!"));var T=oD(u.a[w],r.tenantId||"_",a&&a.providerIds);ss(u),p={signInSuccessWithAuthResult:function(rt){return h(rt),!1}};var N=Nd(u.a[w]).signInUiShown||null,K=!1;p.uiChanged=function(rt,Si){rt===null&&Si==="callback"?((rt=Om("firebaseui-id-page-callback",u.s))&&ri(rt),u.h=new Yg,u.h.render(u.s)):K||rt===null&&Si==="spinner"||Si==="blank"||(u.h&&(u.h.m(),u.h=null),K=!0,N&&N(r.tenantId))},T.callbacks=p,T.credentialHelper="none";var pe;a&&a.email&&(pe={emailHint:a.email}),u.j?u.j.Wa().then(function(){g(T,pe)}):g(T,pe)})},t.reset=function(){var r=this;return kt().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,ss(r)})},t.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){ss(r),r.h=new Yg,r.g=r.h,r.h.render(r.s),r.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return ss(this),this.g=new x1,this.g.render(this.s),kt()};function ss(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}t.pb=function(r){var a=this,u=Lw({code:r.code}).toString()||r.message;ss(this);var h;r.retry&&typeof r.retry=="function"&&(h=function(){a.reset(),r.retry()}),this.g=new F1(u,h),this.g.render(this.s)},t.Rb=function(r){var a=this;return kt().then(function(){var u=a.i&&a.i.app.options.apiKey;if(!a.a.hasOwnProperty(u))throw Error("Invalid project configuration: API key is invalid!");if(Qg(a.a[u],r.tenantId||"_"),!a.i.currentUser||a.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(u=Nd(a.a[u]).beforeSignInSuccess||null)?u(r):r}).then(function(u){if(u.uid!==r.uid)throw Error("User with mismatching UID returned.");return u})},W("firebaseui.auth.FirebaseUiHandler",Ai),W("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ai.prototype.Ub),W("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ai.prototype.Pb),W("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ai.prototype.Zb),W("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ai.prototype.reset),W("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ai.prototype.Vb),W("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ai.prototype.mb),W("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ai.prototype.Bb),W("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ai.prototype.pb),W("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ai.prototype.Rb),W("firebaseui.auth.AuthUI",Yi),W("firebaseui.auth.AuthUI.getInstance",function(r){return r=zg(r),Ou[r]?Ou[r]:null}),W("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Yi.prototype.Db),W("firebaseui.auth.AuthUI.prototype.start",Yi.prototype.start),W("firebaseui.auth.AuthUI.prototype.setConfig",Yi.prototype.ib),W("firebaseui.auth.AuthUI.prototype.signIn",Yi.prototype.Wb),W("firebaseui.auth.AuthUI.prototype.reset",Yi.prototype.reset),W("firebaseui.auth.AuthUI.prototype.delete",Yi.prototype.Wa),W("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Yi.prototype.nb),W("firebaseui.auth.AuthUIError",Ul),W("firebaseui.auth.AuthUIError.prototype.toJSON",Ul.prototype.toJSON),W("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Tg),W("firebaseui.auth.CredentialHelper.NONE",ld),W("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),$t.prototype.catch=$t.prototype.Ca,$t.prototype.finally=$t.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=r6);var s6=firebaseui.auth;const Zp=sp(T9),xo=G3(Zp);Bi(Zp,"northamerica-northeast1");const JP=vC(Zp),UH=new s6.AuthUI(JP),o6=t5(Zp);e5(o6);const ph=t=>{console.error(`Error fetching documents with conditions: ${t}`)},BH=async(t,e,n,i)=>{try{console.log("getDocsFromCollectionWhere",t,e,n,i);const s=hl(h0(xo,t),vs(e,n,i));return(await dl(s)).docs.map(c=>c.data())}catch(s){return ph(s),[]}},jH=async(t,e,n,i,s,o,l)=>{console.log("getPaginatedCollectionGroupWhere",t,e,n,i,s,o,l);try{if(l){const c=hl(h0(xo,t),vs(e,n,i),jf(e),kP(l),$f(o)),d=await dl(c),f=d.docs.map(v=>({id:v.id,...v.data()})),m=d.docs[d.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","next",f,m),{lastVisible:m,docs:f}}else{const c=hl(d0(xo,t),vs(e,n,i),jf(...s),$f(o)),d=await dl(c),f=d.docs.map(v=>({id:v.id,...v.data()})),m=d.docs[d.docs.length-1];return console.log("getPaginatedCollectionGroupWhere","first",f,m),{lastVisible:m,docs:f}}}catch(c){return ph(c),{lastVisible:{},docs:[]}}},$H=async(t,e,n,i,s,o,l,c,d,f)=>{try{if(f){const m=hl(h0(xo,t),vs(e,n,i),vs(s,o,l),jf(e),kP(f),$f(d)),v=await dl(m),_=v.docs.map(I=>({id:I.id,...I.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:_}}else{const m=hl(d0(xo,t),vs(e,n,i),vs(s,o,l),jf(...c),$f(d)),v=await dl(m),_=v.docs.map(I=>({id:I.id,...I.data()}));return{lastVisible:v.docs[v.docs.length-1],docs:_}}}catch(m){return ph(m),{lastVisible:{},docs:[]}}},Ey=async(t,e)=>{try{console.log("getDocument",t,e);const n=_P(xo,t,e),i=await o9(n);return console.log("getDocument data",i.data()),i.data()}catch(n){return ph(n),[]}},HH=async(t,e)=>{console.log("queryForCollectionGroupDocumentById",t,e);try{const n=hl(d0(xo,t),vs("id","==",e)),i=await dl(n);if(i.empty)return console.log("queryForCollectionGroupDocumentById","No matching documents."),null;const s=i.docs[0];return console.log("queryForCollectionGroupDocumentById",s.data()),{id:s.id,...s.data()}}catch(n){return ph(n),null}},qH=t=>t instanceof Yt,WH=t=>t.toDate();function C0(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const yt={},Ga=[],Pi=()=>{},a6=()=>!1,l6=/^on[^a-z]/,em=t=>l6.test(t),R0=t=>t.startsWith("onUpdate:"),rn=Object.assign,P0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},u6=Object.prototype.hasOwnProperty,Qe=(t,e)=>u6.call(t,e),Ee=Array.isArray,za=t=>mh(t)==="[object Map]",tm=t=>mh(t)==="[object Set]",zT=t=>mh(t)==="[object Date]",xe=t=>typeof t=="function",Ft=t=>typeof t=="string",fl=t=>typeof t=="symbol",ct=t=>t!==null&&typeof t=="object",XP=t=>(ct(t)||xe(t))&&xe(t.then)&&xe(t.catch),ZP=Object.prototype.toString,mh=t=>ZP.call(t),c6=t=>mh(t).slice(8,-1),e2=t=>mh(t)==="[object Object]",k0=t=>Ft(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hf=C0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},h6=/-(\w)/g,dr=nm(t=>t.replace(h6,(e,n)=>n?n.toUpperCase():"")),d6=/\B([A-Z])/g,Rl=nm(t=>t.replace(d6,"-$1").toLowerCase()),im=nm(t=>t.charAt(0).toUpperCase()+t.slice(1)),bv=nm(t=>t?`on${im(t)}`:""),Lo=(t,e)=>!Object.is(t,e),df=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Wf=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Kf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},f6=t=>{const e=Ft(t)?Number(t):NaN;return isNaN(e)?t:e};let YT;const by=()=>YT||(YT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function N0(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ft(i)?v6(i):N0(i);if(s)for(const o in s)e[o]=s[o]}return e}else if(Ft(t)||ct(t))return t}const p6=/;(?![^(]*\))/g,m6=/:([^]+)/,g6=/\/\*[^]*?\*\//g;function v6(t){const e={};return t.replace(g6,"").split(p6).forEach(n=>{if(n){const i=n.split(m6);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function zn(t){let e="";if(Ft(t))e=t;else if(Ee(t))for(let n=0;n<t.length;n++){const i=zn(t[n]);i&&(e+=i+" ")}else if(ct(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const y6="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_6=C0(y6);function t2(t){return!!t||t===""}function w6(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=rm(t[i],e[i]);return n}function rm(t,e){if(t===e)return!0;let n=zT(t),i=zT(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=fl(t),i=fl(e),n||i)return t===e;if(n=Ee(t),i=Ee(e),n||i)return n&&i?w6(t,e):!1;if(n=ct(t),i=ct(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,o=Object.keys(e).length;if(s!==o)return!1;for(const l in t){const c=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(c&&!d||!c&&d||!rm(t[l],e[l]))return!1}}return String(t)===String(e)}function E6(t,e){return t.findIndex(n=>rm(n,e))}const n2=t=>Ft(t)?t:t==null?"":Ee(t)||ct(t)&&(t.toString===ZP||!xe(t.toString))?JSON.stringify(t,i2,2):String(t),i2=(t,e)=>e&&e.__v_isRef?i2(t,e.value):za(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:tm(e)?{[`Set(${e.size})`]:[...e.values()]}:ct(e)&&!Ee(e)&&!e2(e)?String(e):e;let oi;class r2{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=oi,!e&&oi&&(this.index=(oi.scopes||(oi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=oi;try{return oi=this,e()}finally{oi=n}}}on(){oi=this}off(){oi=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function s2(t){return new r2(t)}function b6(t,e=oi){e&&e.active&&e.effects.push(t)}function o2(){return oi}function I6(t){oi&&oi.cleanups.push(t)}const O0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},a2=t=>(t.w&ks)>0,l2=t=>(t.n&ks)>0,T6=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ks},A6=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];a2(s)&&!l2(s)?s.delete(t):e[n++]=s,s.w&=~ks,s.n&=~ks}e.length=n}},Gf=new WeakMap;let ec=0,ks=1;const Iy=30;let Ci;const To=Symbol(""),Ty=Symbol("");class D0{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,b6(this,i)}run(){if(!this.active)return this.fn();let e=Ci,n=bs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ci,Ci=this,bs=!0,ks=1<<++ec,ec<=Iy?T6(this):QT(this),this.fn()}finally{ec<=Iy&&A6(this),ks=1<<--ec,Ci=this.parent,bs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ci===this?this.deferStop=!0:this.active&&(QT(this),this.onStop&&this.onStop(),this.active=!1)}}function QT(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let bs=!0;const u2=[];function Pl(){u2.push(bs),bs=!1}function kl(){const t=u2.pop();bs=t===void 0?!0:t}function Xn(t,e,n){if(bs&&Ci){let i=Gf.get(t);i||Gf.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=O0()),c2(s)}}function c2(t,e){let n=!1;ec<=Iy?l2(t)||(t.n|=ks,n=!a2(t)):n=!t.has(Ci),n&&(t.add(Ci),Ci.deps.push(t))}function Nr(t,e,n,i,s,o){const l=Gf.get(t);if(!l)return;let c=[];if(e==="clear")c=[...l.values()];else if(n==="length"&&Ee(t)){const d=Number(i);l.forEach((f,m)=>{(m==="length"||!fl(m)&&m>=d)&&c.push(f)})}else switch(n!==void 0&&c.push(l.get(n)),e){case"add":Ee(t)?k0(n)&&c.push(l.get("length")):(c.push(l.get(To)),za(t)&&c.push(l.get(Ty)));break;case"delete":Ee(t)||(c.push(l.get(To)),za(t)&&c.push(l.get(Ty)));break;case"set":za(t)&&c.push(l.get(To));break}if(c.length===1)c[0]&&Ay(c[0]);else{const d=[];for(const f of c)f&&d.push(...f);Ay(O0(d))}}function Ay(t,e){const n=Ee(t)?t:[...t];for(const i of n)i.computed&&JT(i);for(const i of n)i.computed||JT(i)}function JT(t,e){(t!==Ci||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function S6(t,e){var n;return(n=Gf.get(t))==null?void 0:n.get(e)}const C6=C0("__proto__,__v_isRef,__isVue"),h2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fl)),XT=R6();function R6(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ke(this);for(let o=0,l=this.length;o<l;o++)Xn(i,"get",o+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ke)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Pl();const i=Ke(this)[e].apply(this,n);return kl(),i}}),t}function P6(t){const e=Ke(this);return Xn(e,"has",t),e.hasOwnProperty(t)}class d2{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,i){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&i===(s?o?$6:g2:o?m2:p2).get(e))return e;const l=Ee(e);if(!s){if(l&&Qe(XT,n))return Reflect.get(XT,n,i);if(n==="hasOwnProperty")return P6}const c=Reflect.get(e,n,i);return(fl(n)?h2.has(n):C6(n))||(s||Xn(e,"get",n),o)?c:Tt(c)?l&&k0(n)?c:c.value:ct(c)?s?y2(c):Qn(c):c}}class f2 extends d2{constructor(e=!1){super(!1,e)}set(e,n,i,s){let o=e[n];if(pl(o)&&Tt(o)&&!Tt(i))return!1;if(!this._shallow&&(!zf(i)&&!pl(i)&&(o=Ke(o),i=Ke(i)),!Ee(e)&&Tt(o)&&!Tt(i)))return o.value=i,!0;const l=Ee(e)&&k0(n)?Number(n)<e.length:Qe(e,n),c=Reflect.set(e,n,i,s);return e===Ke(s)&&(l?Lo(i,o)&&Nr(e,"set",n,i):Nr(e,"add",n,i)),c}deleteProperty(e,n){const i=Qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&Nr(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!fl(n)||!h2.has(n))&&Xn(e,"has",n),i}ownKeys(e){return Xn(e,"iterate",Ee(e)?"length":To),Reflect.ownKeys(e)}}class k6 extends d2{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const N6=new f2,O6=new k6,D6=new f2(!0),x0=t=>t,sm=t=>Reflect.getPrototypeOf(t);function qd(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ke(t),o=Ke(e);n||(Lo(e,o)&&Xn(s,"get",e),Xn(s,"get",o));const{has:l}=sm(s),c=i?x0:n?V0:Mc;if(l.call(s,e))return c(t.get(e));if(l.call(s,o))return c(t.get(o));t!==s&&t.get(e)}function Wd(t,e=!1){const n=this.__v_raw,i=Ke(n),s=Ke(t);return e||(Lo(t,s)&&Xn(i,"has",t),Xn(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Kd(t,e=!1){return t=t.__v_raw,!e&&Xn(Ke(t),"iterate",To),Reflect.get(t,"size",t)}function ZT(t){t=Ke(t);const e=Ke(this);return sm(e).has.call(e,t)||(e.add(t),Nr(e,"add",t,t)),this}function eA(t,e){e=Ke(e);const n=Ke(this),{has:i,get:s}=sm(n);let o=i.call(n,t);o||(t=Ke(t),o=i.call(n,t));const l=s.call(n,t);return n.set(t,e),o?Lo(e,l)&&Nr(n,"set",t,e):Nr(n,"add",t,e),this}function tA(t){const e=Ke(this),{has:n,get:i}=sm(e);let s=n.call(e,t);s||(t=Ke(t),s=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return s&&Nr(e,"delete",t,void 0),o}function nA(){const t=Ke(this),e=t.size!==0,n=t.clear();return e&&Nr(t,"clear",void 0,void 0),n}function Gd(t,e){return function(i,s){const o=this,l=o.__v_raw,c=Ke(l),d=e?x0:t?V0:Mc;return!t&&Xn(c,"iterate",To),l.forEach((f,m)=>i.call(s,d(f),d(m),o))}}function zd(t,e,n){return function(...i){const s=this.__v_raw,o=Ke(s),l=za(o),c=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,f=s[t](...i),m=n?x0:e?V0:Mc;return!e&&Xn(o,"iterate",d?Ty:To),{next(){const{value:v,done:_}=f.next();return _?{value:v,done:_}:{value:c?[m(v[0]),m(v[1])]:m(v),done:_}},[Symbol.iterator](){return this}}}}function as(t){return function(...e){return t==="delete"?!1:this}}function x6(){const t={get(o){return qd(this,o)},get size(){return Kd(this)},has:Wd,add:ZT,set:eA,delete:tA,clear:nA,forEach:Gd(!1,!1)},e={get(o){return qd(this,o,!1,!0)},get size(){return Kd(this)},has:Wd,add:ZT,set:eA,delete:tA,clear:nA,forEach:Gd(!1,!0)},n={get(o){return qd(this,o,!0)},get size(){return Kd(this,!0)},has(o){return Wd.call(this,o,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:Gd(!0,!1)},i={get(o){return qd(this,o,!0,!0)},get size(){return Kd(this,!0)},has(o){return Wd.call(this,o,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:Gd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=zd(o,!1,!1),n[o]=zd(o,!0,!1),e[o]=zd(o,!1,!0),i[o]=zd(o,!0,!0)}),[t,n,e,i]}const[L6,M6,V6,F6]=x6();function L0(t,e){const n=e?t?F6:V6:t?M6:L6;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Qe(n,s)&&s in i?n:i,s,o)}const U6={get:L0(!1,!1)},B6={get:L0(!1,!0)},j6={get:L0(!0,!1)},p2=new WeakMap,m2=new WeakMap,g2=new WeakMap,$6=new WeakMap;function H6(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function q6(t){return t.__v_skip||!Object.isExtensible(t)?0:H6(c6(t))}function Qn(t){return pl(t)?t:M0(t,!1,N6,U6,p2)}function v2(t){return M0(t,!1,D6,B6,m2)}function y2(t){return M0(t,!0,O6,j6,g2)}function M0(t,e,n,i,s){if(!ct(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const l=q6(t);if(l===0)return t;const c=new Proxy(t,l===2?i:n);return s.set(t,c),c}function Or(t){return pl(t)?Or(t.__v_raw):!!(t&&t.__v_isReactive)}function pl(t){return!!(t&&t.__v_isReadonly)}function zf(t){return!!(t&&t.__v_isShallow)}function _2(t){return Or(t)||pl(t)}function Ke(t){const e=t&&t.__v_raw;return e?Ke(e):t}function om(t){return Wf(t,"__v_skip",!0),t}const Mc=t=>ct(t)?Qn(t):t,V0=t=>ct(t)?y2(t):t;function w2(t){bs&&Ci&&(t=Ke(t),c2(t.dep||(t.dep=O0())))}function E2(t,e){t=Ke(t);const n=t.dep;n&&Ay(n)}function Tt(t){return!!(t&&t.__v_isRef===!0)}function Te(t){return I2(t,!1)}function b2(t){return I2(t,!0)}function I2(t,e){return Tt(t)?t:new W6(t,e)}class W6{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ke(e),this._value=n?e:Mc(e)}get value(){return w2(this),this._value}set value(e){const n=this.__v_isShallow||zf(e)||pl(e);e=n?e:Ke(e),Lo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Mc(e),E2(this))}}function G(t){return Tt(t)?t.value:t}const K6={get:(t,e,n)=>G(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Tt(s)&&!Tt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function T2(t){return Or(t)?t:new Proxy(t,K6)}function G6(t){const e=Ee(t)?new Array(t.length):{};for(const n in t)e[n]=A2(t,n);return e}class z6{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return S6(Ke(this._object),this._key)}}class Y6{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Q6(t,e,n){return Tt(t)?t:xe(t)?new Y6(t):ct(t)&&arguments.length>1?A2(t,e,n):Te(t)}function A2(t,e,n){const i=t[e];return Tt(i)?i:new z6(t,e,n)}class J6{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new D0(e,()=>{this._dirty||(this._dirty=!0,E2(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ke(this);return w2(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function X6(t,e,n=!1){let i,s;const o=xe(t);return o?(i=t,s=Pi):(i=t.get,s=t.set),new J6(i,s,o||!s,n)}function Is(t,e,n,i){let s;try{s=i?t(...i):t()}catch(o){am(o,e,n)}return s}function yi(t,e,n,i){if(xe(t)){const o=Is(t,e,n,i);return o&&XP(o)&&o.catch(l=>{am(l,e,n)}),o}const s=[];for(let o=0;o<t.length;o++)s.push(yi(t[o],e,n,i));return s}function am(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,c=n;for(;o;){const f=o.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](t,l,c)===!1)return}o=o.parent}const d=e.appContext.config.errorHandler;if(d){Is(d,null,10,[t,l,c]);return}}Z6(t,n,s,i)}function Z6(t,e,n,i=!0){console.error(t)}let Vc=!1,Sy=!1;const Nn=[];let ir=0;const Ya=[];let Tr=null,ao=0;const S2=Promise.resolve();let F0=null;function lm(t){const e=F0||S2;return t?e.then(this?t.bind(this):t):e}function eB(t){let e=ir+1,n=Nn.length;for(;e<n;){const i=e+n>>>1,s=Nn[i],o=Fc(s);o<t||o===t&&s.pre?e=i+1:n=i}return e}function U0(t){(!Nn.length||!Nn.includes(t,Vc&&t.allowRecurse?ir+1:ir))&&(t.id==null?Nn.push(t):Nn.splice(eB(t.id),0,t),C2())}function C2(){!Vc&&!Sy&&(Sy=!0,F0=S2.then(P2))}function tB(t){const e=Nn.indexOf(t);e>ir&&Nn.splice(e,1)}function nB(t){Ee(t)?Ya.push(...t):(!Tr||!Tr.includes(t,t.allowRecurse?ao+1:ao))&&Ya.push(t),C2()}function iA(t,e=Vc?ir+1:0){for(;e<Nn.length;e++){const n=Nn[e];n&&n.pre&&(Nn.splice(e,1),e--,n())}}function R2(t){if(Ya.length){const e=[...new Set(Ya)];if(Ya.length=0,Tr){Tr.push(...e);return}for(Tr=e,Tr.sort((n,i)=>Fc(n)-Fc(i)),ao=0;ao<Tr.length;ao++)Tr[ao]();Tr=null,ao=0}}const Fc=t=>t.id==null?1/0:t.id,iB=(t,e)=>{const n=Fc(t)-Fc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function P2(t){Sy=!1,Vc=!0,Nn.sort(iB);const e=Pi;try{for(ir=0;ir<Nn.length;ir++){const n=Nn[ir];n&&n.active!==!1&&Is(n,null,14)}}finally{ir=0,Nn.length=0,R2(),Vc=!1,F0=null,(Nn.length||Ya.length)&&P2()}}function rB(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||yt;let s=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in i){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:v,trim:_}=i[m]||yt;_&&(s=n.map(E=>Ft(E)?E.trim():E)),v&&(s=n.map(Kf))}let c,d=i[c=bv(e)]||i[c=bv(dr(e))];!d&&o&&(d=i[c=bv(Rl(e))]),d&&yi(d,t,6,s);const f=i[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,yi(f,t,6,s)}}function k2(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const o=t.emits;let l={},c=!1;if(!xe(t)){const d=f=>{const m=k2(f,e,!0);m&&(c=!0,rn(l,m))};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!o&&!c?(ct(t)&&i.set(t,null),null):(Ee(o)?o.forEach(d=>l[d]=null):rn(l,o),ct(t)&&i.set(t,l),l)}function um(t,e){return!t||!em(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(t,e[0].toLowerCase()+e.slice(1))||Qe(t,Rl(e))||Qe(t,e))}let pn=null,N2=null;function Yf(t){const e=pn;return pn=t,N2=t&&t.type.__scopeId||null,e}function Ue(t,e=pn,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&gA(-1);const o=Yf(e);let l;try{l=t(...s)}finally{Yf(o),i._d&&gA(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Iv(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:d,emit:f,render:m,renderCache:v,data:_,setupState:E,ctx:I,inheritAttrs:y}=t;let b,C;const P=Yf(t);try{if(n.shapeFlag&4){const x=s||i;b=Ji(m.call(x,x,v,o,E,_,I)),C=d}else{const x=e;b=Ji(x.length>1?x(o,{attrs:d,slots:c,emit:f}):x(o,null)),C=e.props?d:sB(d)}}catch(x){fc.length=0,am(x,t,1),b=Ce(_i)}let M=b;if(C&&y!==!1){const x=Object.keys(C),{shapeFlag:Y}=M;x.length&&Y&7&&(l&&x.some(R0)&&(C=oB(C,l)),M=Fr(M,C))}return n.dirs&&(M=Fr(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),b=M,Yf(P),b}const sB=t=>{let e;for(const n in t)(n==="class"||n==="style"||em(n))&&((e||(e={}))[n]=t[n]);return e},oB=(t,e)=>{const n={};for(const i in t)(!R0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function aB(t,e,n){const{props:i,children:s,component:o}=t,{props:l,children:c,patchFlag:d}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return i?rA(i,l,f):!!l;if(d&8){const m=e.dynamicProps;for(let v=0;v<m.length;v++){const _=m[v];if(l[_]!==i[_]&&!um(f,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===l?!1:i?l?rA(i,l,f):!0:!!l;return!1}function rA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(e[o]!==t[o]&&!um(n,o))return!0}return!1}function lB({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const uB=t=>t.__isSuspense;function cB(t,e){e&&e.pendingBranch?Ee(t)?e.effects.push(...t):e.effects.push(t):nB(t)}function Vi(t,e){return B0(t,null,e)}const Yd={};function ki(t,e,n){return B0(t,e,n)}function B0(t,e,{immediate:n,deep:i,flush:s,onTrack:o,onTrigger:l}=yt){var c;const d=o2()===((c=tn)==null?void 0:c.scope)?tn:null;let f,m=!1,v=!1;if(Tt(t)?(f=()=>t.value,m=zf(t)):Or(t)?(f=()=>t,i=!0):Ee(t)?(v=!0,m=t.some(x=>Or(x)||zf(x)),f=()=>t.map(x=>{if(Tt(x))return x.value;if(Or(x))return vo(x);if(xe(x))return Is(x,d,2)})):xe(t)?e?f=()=>Is(t,d,2):f=()=>{if(!(d&&d.isUnmounted))return _&&_(),yi(t,d,3,[E])}:f=Pi,e&&i){const x=f;f=()=>vo(x())}let _,E=x=>{_=P.onStop=()=>{Is(x,d,4)}},I;if(jc)if(E=Pi,e?n&&yi(e,d,3,[f(),v?[]:void 0,E]):f(),s==="sync"){const x=cj();I=x.__watcherHandles||(x.__watcherHandles=[])}else return Pi;let y=v?new Array(t.length).fill(Yd):Yd;const b=()=>{if(P.active)if(e){const x=P.run();(i||m||(v?x.some((Y,oe)=>Lo(Y,y[oe])):Lo(x,y)))&&(_&&_(),yi(e,d,3,[x,y===Yd?void 0:v&&y[0]===Yd?[]:y,E]),y=x)}else P.run()};b.allowRecurse=!!e;let C;s==="sync"?C=b:s==="post"?C=()=>Kn(b,d&&d.suspense):(b.pre=!0,d&&(b.id=d.uid),C=()=>U0(b));const P=new D0(f,C);e?n?b():y=P.run():s==="post"?Kn(P.run.bind(P),d&&d.suspense):P.run();const M=()=>{P.stop(),d&&d.scope&&P0(d.scope.effects,P)};return I&&I.push(M),M}function hB(t,e,n){const i=this.proxy,s=Ft(t)?t.includes(".")?O2(i,t):()=>i[t]:t.bind(i,i);let o;xe(e)?o=e:(o=e.handler,n=e);const l=tn;ml(this);const c=B0(s,o.bind(i),n);return l?ml(l):Ao(),c}function O2(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function vo(t,e){if(!ct(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Tt(t))vo(t.value,e);else if(Ee(t))for(let n=0;n<t.length;n++)vo(t[n],e);else if(tm(t)||za(t))t.forEach(n=>{vo(n,e)});else if(e2(t))for(const n in t)vo(t[n],e);return t}function Ot(t,e){const n=pn;if(n===null)return t;const i=pm(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,c,d,f=yt]=e[o];l&&(xe(l)&&(l={mounted:l,updated:l}),l.deep&&vo(c),s.push({dir:l,instance:i,value:c,oldValue:void 0,arg:d,modifiers:f}))}return t}function eo(t,e,n,i){const s=t.dirs,o=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let d=c.dir[i];d&&(Pl(),yi(d,n,8,[t.el,c,t,e]),kl())}}const ds=Symbol("_leaveCb"),Qd=Symbol("_enterCb");function dB(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sn(()=>{t.isMounted=!0}),V2(()=>{t.isUnmounting=!0}),t}const pi=[Function,Array],D2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pi,onEnter:pi,onAfterEnter:pi,onEnterCancelled:pi,onBeforeLeave:pi,onLeave:pi,onAfterLeave:pi,onLeaveCancelled:pi,onBeforeAppear:pi,onAppear:pi,onAfterAppear:pi,onAppearCancelled:pi},fB={name:"BaseTransition",props:D2,setup(t,{slots:e}){const n=nj(),i=dB();let s;return()=>{const o=e.default&&L2(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const y of o)if(y.type!==_i){l=y;break}}const c=Ke(t),{mode:d}=c;if(i.isLeaving)return Tv(l);const f=sA(l);if(!f)return Tv(l);const m=Cy(f,c,i,n);Ry(f,m);const v=n.subTree,_=v&&sA(v);let E=!1;const{getTransitionKey:I}=f.type;if(I){const y=I();s===void 0?s=y:y!==s&&(s=y,E=!0)}if(_&&_.type!==_i&&(!lo(f,_)||E)){const y=Cy(_,c,i,n);if(Ry(_,y),d==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},Tv(l);d==="in-out"&&f.type!==_i&&(y.delayLeave=(b,C,P)=>{const M=x2(i,_);M[String(_.key)]=_,b[ds]=()=>{C(),b[ds]=void 0,delete m.delayedLeave},m.delayedLeave=P})}return l}}},pB=fB;function x2(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Cy(t,e,n,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:v,onLeave:_,onAfterLeave:E,onLeaveCancelled:I,onBeforeAppear:y,onAppear:b,onAfterAppear:C,onAppearCancelled:P}=e,M=String(t.key),x=x2(n,t),Y=(q,ee)=>{q&&yi(q,i,9,ee)},oe=(q,ee)=>{const ge=ee[1];Y(q,ee),Ee(q)?q.every(re=>re.length<=1)&&ge():q.length<=1&&ge()},de={mode:o,persisted:l,beforeEnter(q){let ee=c;if(!n.isMounted)if(s)ee=y||c;else return;q[ds]&&q[ds](!0);const ge=x[M];ge&&lo(t,ge)&&ge.el[ds]&&ge.el[ds](),Y(ee,[q])},enter(q){let ee=d,ge=f,re=m;if(!n.isMounted)if(s)ee=b||d,ge=C||f,re=P||m;else return;let J=!1;const ie=q[Qd]=Je=>{J||(J=!0,Je?Y(re,[q]):Y(ge,[q]),de.delayedLeave&&de.delayedLeave(),q[Qd]=void 0)};ee?oe(ee,[q,ie]):ie()},leave(q,ee){const ge=String(t.key);if(q[Qd]&&q[Qd](!0),n.isUnmounting)return ee();Y(v,[q]);let re=!1;const J=q[ds]=ie=>{re||(re=!0,ee(),ie?Y(I,[q]):Y(E,[q]),q[ds]=void 0,x[ge]===t&&delete x[ge])};x[ge]=t,_?oe(_,[q,J]):J()},clone(q){return Cy(q,e,n,i)}};return de}function Tv(t){if(cm(t))return t=Fr(t),t.children=null,t}function sA(t){return cm(t)?t.children?t.children[0]:void 0:t}function Ry(t,e){t.shapeFlag&6&&t.component?Ry(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function L2(t,e=!1,n){let i=[],s=0;for(let o=0;o<t.length;o++){let l=t[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===bt?(l.patchFlag&128&&s++,i=i.concat(L2(l.children,e,c))):(e||l.type!==_i)&&i.push(c!=null?Fr(l,{key:c}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function ut(t,e){return xe(t)?(()=>rn({name:t.name},e,{setup:t}))():t}const cc=t=>!!t.type.__asyncLoader,cm=t=>t.type.__isKeepAlive;function mB(t,e){M2(t,"a",e)}function gB(t,e){M2(t,"da",e)}function M2(t,e,n=tn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(hm(e,i,n),n){let s=n.parent;for(;s&&s.parent;)cm(s.parent.vnode)&&vB(i,e,n,s),s=s.parent}}function vB(t,e,n,i){const s=hm(e,t,i,!0);di(()=>{P0(i[e],s)},n)}function hm(t,e,n=tn,i=!1){if(n){const s=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;Pl(),ml(n);const c=yi(e,n,t,l);return Ao(),kl(),c});return i?s.unshift(o):s.push(o),o}}const $r=t=>(e,n=tn)=>(!jc||t==="sp")&&hm(t,(...i)=>e(...i),n),yB=$r("bm"),Sn=$r("m"),_B=$r("bu"),wB=$r("u"),V2=$r("bum"),di=$r("um"),EB=$r("sp"),bB=$r("rtg"),IB=$r("rtc");function TB(t,e=tn){hm("ec",t,e)}const F2="components";function KH(t,e){return SB(F2,t,!0,e)||t}const AB=Symbol.for("v-ndc");function SB(t,e,n=!0,i=!1){const s=pn||tn;if(s){const o=s.type;if(t===F2){const c=aj(o,!1);if(c&&(c===e||c===dr(e)||c===im(dr(e))))return o}const l=oA(s[t]||o[t],e)||oA(s.appContext[t],e);return!l&&i?o:l}}function oA(t,e){return t&&(t[e]||t[dr(e)]||t[im(dr(e))])}function Py(t,e,n,i){let s;const o=n&&n[i];if(Ee(t)||Ft(t)){s=new Array(t.length);for(let l=0,c=t.length;l<c;l++)s[l]=e(t[l],l,void 0,o&&o[l])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,o&&o[l])}else if(ct(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,o&&o[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const f=l[c];s[c]=e(t[f],f,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}function U2(t,e,n={},i,s){if(pn.isCE||pn.parent&&cc(pn.parent)&&pn.parent.isCE)return e!=="default"&&(n.name=e),Ce("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),Ie();const l=o&&B2(o(n)),c=mt(bt,{key:n.key||l&&l.key||`_${e}`},l||(i?i():[]),l&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function B2(t){return t.some(e=>Jf(e)?!(e.type===_i||e.type===bt&&!B2(e.children)):!0)?t:null}const ky=t=>t?J2(t)?pm(t)||t.proxy:ky(t.parent):null,hc=rn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ky(t.parent),$root:t=>ky(t.root),$emit:t=>t.emit,$options:t=>j0(t),$forceUpdate:t=>t.f||(t.f=()=>U0(t.update)),$nextTick:t=>t.n||(t.n=lm.bind(t.proxy)),$watch:t=>hB.bind(t)}),Av=(t,e)=>t!==yt&&!t.__isScriptSetup&&Qe(t,e),CB={get({_:t},e){const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:c,appContext:d}=t;let f;if(e[0]!=="$"){const E=l[e];if(E!==void 0)switch(E){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return o[e]}else{if(Av(i,e))return l[e]=1,i[e];if(s!==yt&&Qe(s,e))return l[e]=2,s[e];if((f=t.propsOptions[0])&&Qe(f,e))return l[e]=3,o[e];if(n!==yt&&Qe(n,e))return l[e]=4,n[e];Ny&&(l[e]=0)}}const m=hc[e];let v,_;if(m)return e==="$attrs"&&Xn(t,"get",e),m(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==yt&&Qe(n,e))return l[e]=4,n[e];if(_=d.config.globalProperties,Qe(_,e))return _[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return Av(s,e)?(s[e]=n,!0):i!==yt&&Qe(i,e)?(i[e]=n,!0):Qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},l){let c;return!!n[l]||t!==yt&&Qe(t,l)||Av(e,l)||(c=o[0])&&Qe(c,l)||Qe(i,l)||Qe(hc,l)||Qe(s.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function aA(t){return Ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ny=!0;function RB(t){const e=j0(t),n=t.proxy,i=t.ctx;Ny=!1,e.beforeCreate&&lA(e.beforeCreate,t,"bc");const{data:s,computed:o,methods:l,watch:c,provide:d,inject:f,created:m,beforeMount:v,mounted:_,beforeUpdate:E,updated:I,activated:y,deactivated:b,beforeDestroy:C,beforeUnmount:P,destroyed:M,unmounted:x,render:Y,renderTracked:oe,renderTriggered:de,errorCaptured:q,serverPrefetch:ee,expose:ge,inheritAttrs:re,components:J,directives:ie,filters:Je}=e;if(f&&PB(f,i,null),l)for(const ae in l){const be=l[ae];xe(be)&&(i[ae]=be.bind(n))}if(s){const ae=s.call(n,n);ct(ae)&&(t.data=Qn(ae))}if(Ny=!0,o)for(const ae in o){const be=o[ae],vt=xe(be)?be.bind(n,n):xe(be.get)?be.get.bind(n,n):Pi,tt=!xe(be)&&xe(be.set)?be.set.bind(n):Pi,sn=Oe({get:vt,set:tt});Object.defineProperty(i,ae,{enumerable:!0,configurable:!0,get:()=>sn.value,set:nt=>sn.value=nt})}if(c)for(const ae in c)j2(c[ae],i,n,ae);if(d){const ae=xe(d)?d.call(n):d;Reflect.ownKeys(ae).forEach(be=>{Jn(be,ae[be])})}m&&lA(m,t,"c");function k(ae,be){Ee(be)?be.forEach(vt=>ae(vt.bind(n))):be&&ae(be.bind(n))}if(k(yB,v),k(Sn,_),k(_B,E),k(wB,I),k(mB,y),k(gB,b),k(TB,q),k(IB,oe),k(bB,de),k(V2,P),k(di,x),k(EB,ee),Ee(ge))if(ge.length){const ae=t.exposed||(t.exposed={});ge.forEach(be=>{Object.defineProperty(ae,be,{get:()=>n[be],set:vt=>n[be]=vt})})}else t.exposed||(t.exposed={});Y&&t.render===Pi&&(t.render=Y),re!=null&&(t.inheritAttrs=re),J&&(t.components=J),ie&&(t.directives=ie)}function PB(t,e,n=Pi){Ee(t)&&(t=Oy(t));for(const i in t){const s=t[i];let o;ct(s)?"default"in s?o=St(s.from||i,s.default,!0):o=St(s.from||i):o=St(s),Tt(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[i]=o}}function lA(t,e,n){yi(Ee(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function j2(t,e,n,i){const s=i.includes(".")?O2(n,i):()=>n[i];if(Ft(t)){const o=e[t];xe(o)&&ki(s,o)}else if(xe(t))ki(s,t.bind(n));else if(ct(t))if(Ee(t))t.forEach(o=>j2(o,e,n,i));else{const o=xe(t.handler)?t.handler.bind(n):e[t.handler];xe(o)&&ki(s,o,t)}}function j0(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,c=o.get(e);let d;return c?d=c:!s.length&&!n&&!i?d=e:(d={},s.length&&s.forEach(f=>Qf(d,f,l,!0)),Qf(d,e,l)),ct(e)&&o.set(e,d),d}function Qf(t,e,n,i=!1){const{mixins:s,extends:o}=e;o&&Qf(t,o,n,!0),s&&s.forEach(l=>Qf(t,l,n,!0));for(const l in e)if(!(i&&l==="expose")){const c=kB[l]||n&&n[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const kB={data:uA,props:cA,emits:cA,methods:tc,computed:tc,beforeCreate:Bn,created:Bn,beforeMount:Bn,mounted:Bn,beforeUpdate:Bn,updated:Bn,beforeDestroy:Bn,beforeUnmount:Bn,destroyed:Bn,unmounted:Bn,activated:Bn,deactivated:Bn,errorCaptured:Bn,serverPrefetch:Bn,components:tc,directives:tc,watch:OB,provide:uA,inject:NB};function uA(t,e){return e?t?function(){return rn(xe(t)?t.call(this,this):t,xe(e)?e.call(this,this):e)}:e:t}function NB(t,e){return tc(Oy(t),Oy(e))}function Oy(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bn(t,e){return t?[...new Set([].concat(t,e))]:e}function tc(t,e){return t?rn(Object.create(null),t,e):e}function cA(t,e){return t?Ee(t)&&Ee(e)?[...new Set([...t,...e])]:rn(Object.create(null),aA(t),aA(e??{})):e}function OB(t,e){if(!t)return e;if(!e)return t;const n=rn(Object.create(null),t);for(const i in e)n[i]=Bn(t[i],e[i]);return n}function $2(){return{app:null,config:{isNativeTag:a6,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DB=0;function xB(t,e){return function(i,s=null){xe(i)||(i=rn({},i)),s!=null&&!ct(s)&&(s=null);const o=$2(),l=new WeakSet;let c=!1;const d=o.app={_uid:DB++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:hj,get config(){return o.config},set config(f){},use(f,...m){return l.has(f)||(f&&xe(f.install)?(l.add(f),f.install(d,...m)):xe(f)&&(l.add(f),f(d,...m))),d},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),d},component(f,m){return m?(o.components[f]=m,d):o.components[f]},directive(f,m){return m?(o.directives[f]=m,d):o.directives[f]},mount(f,m,v){if(!c){const _=Ce(i,s);return _.appContext=o,m&&e?e(_,f):t(_,f,v),c=!0,d._container=f,f.__vue_app__=d,pm(_.component)||_.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(f,m){return o.provides[f]=m,d},runWithContext(f){Uc=d;try{return f()}finally{Uc=null}}};return d}}let Uc=null;function Jn(t,e){if(tn){let n=tn.provides;const i=tn.parent&&tn.parent.provides;i===n&&(n=tn.provides=Object.create(i)),n[t]=e}}function St(t,e,n=!1){const i=tn||pn;if(i||Uc){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Uc._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&xe(e)?e.call(i&&i.proxy):e}}function LB(){return!!(tn||pn||Uc)}function MB(t,e,n,i=!1){const s={},o={};Wf(o,fm,1),t.propsDefaults=Object.create(null),H2(t,e,s,o);for(const l in t.propsOptions[0])l in s||(s[l]=void 0);n?t.props=i?s:v2(s):t.type.props?t.props=s:t.props=o,t.attrs=o}function VB(t,e,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=t,c=Ke(s),[d]=t.propsOptions;let f=!1;if((i||l>0)&&!(l&16)){if(l&8){const m=t.vnode.dynamicProps;for(let v=0;v<m.length;v++){let _=m[v];if(um(t.emitsOptions,_))continue;const E=e[_];if(d)if(Qe(o,_))E!==o[_]&&(o[_]=E,f=!0);else{const I=dr(_);s[I]=Dy(d,c,I,E,t,!1)}else E!==o[_]&&(o[_]=E,f=!0)}}}else{H2(t,e,s,o)&&(f=!0);let m;for(const v in c)(!e||!Qe(e,v)&&((m=Rl(v))===v||!Qe(e,m)))&&(d?n&&(n[v]!==void 0||n[m]!==void 0)&&(s[v]=Dy(d,c,v,void 0,t,!0)):delete s[v]);if(o!==c)for(const v in o)(!e||!Qe(e,v))&&(delete o[v],f=!0)}f&&Nr(t,"set","$attrs")}function H2(t,e,n,i){const[s,o]=t.propsOptions;let l=!1,c;if(e)for(let d in e){if(hf(d))continue;const f=e[d];let m;s&&Qe(s,m=dr(d))?!o||!o.includes(m)?n[m]=f:(c||(c={}))[m]=f:um(t.emitsOptions,d)||(!(d in i)||f!==i[d])&&(i[d]=f,l=!0)}if(o){const d=Ke(n),f=c||yt;for(let m=0;m<o.length;m++){const v=o[m];n[v]=Dy(s,d,v,f[v],t,!Qe(f,v))}}return l}function Dy(t,e,n,i,s,o){const l=t[n];if(l!=null){const c=Qe(l,"default");if(c&&i===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&xe(d)){const{propsDefaults:f}=s;n in f?i=f[n]:(ml(s),i=f[n]=d.call(null,e),Ao())}else i=d}l[0]&&(o&&!c?i=!1:l[1]&&(i===""||i===Rl(n))&&(i=!0))}return i}function q2(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,l={},c=[];let d=!1;if(!xe(t)){const m=v=>{d=!0;const[_,E]=q2(v,e,!0);rn(l,_),E&&c.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!o&&!d)return ct(t)&&i.set(t,Ga),Ga;if(Ee(o))for(let m=0;m<o.length;m++){const v=dr(o[m]);hA(v)&&(l[v]=yt)}else if(o)for(const m in o){const v=dr(m);if(hA(v)){const _=o[m],E=l[v]=Ee(_)||xe(_)?{type:_}:rn({},_);if(E){const I=pA(Boolean,E.type),y=pA(String,E.type);E[0]=I>-1,E[1]=y<0||I<y,(I>-1||Qe(E,"default"))&&c.push(v)}}}const f=[l,c];return ct(t)&&i.set(t,f),f}function hA(t){return t[0]!=="$"}function dA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function fA(t,e){return dA(t)===dA(e)}function pA(t,e){return Ee(e)?e.findIndex(n=>fA(n,t)):xe(e)&&fA(e,t)?0:-1}const W2=t=>t[0]==="_"||t==="$stable",$0=t=>Ee(t)?t.map(Ji):[Ji(t)],FB=(t,e,n)=>{if(e._n)return e;const i=Ue((...s)=>$0(e(...s)),n);return i._c=!1,i},K2=(t,e,n)=>{const i=t._ctx;for(const s in t){if(W2(s))continue;const o=t[s];if(xe(o))e[s]=FB(s,o,i);else if(o!=null){const l=$0(o);e[s]=()=>l}}},G2=(t,e)=>{const n=$0(e);t.slots.default=()=>n},UB=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ke(e),Wf(e,"_",n)):K2(e,t.slots={})}else t.slots={},e&&G2(t,e);Wf(t.slots,fm,1)},BB=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,l=yt;if(i.shapeFlag&32){const c=e._;c?n&&c===1?o=!1:(rn(s,e),!n&&c===1&&delete s._):(o=!e.$stable,K2(e,s)),l=e}else e&&(G2(t,e),l={default:1});if(o)for(const c in s)!W2(c)&&l[c]==null&&delete s[c]};function xy(t,e,n,i,s=!1){if(Ee(t)){t.forEach((_,E)=>xy(_,e&&(Ee(e)?e[E]:e),n,i,s));return}if(cc(i)&&!s)return;const o=i.shapeFlag&4?pm(i.component)||i.component.proxy:i.el,l=s?null:o,{i:c,r:d}=t,f=e&&e.r,m=c.refs===yt?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==d&&(Ft(f)?(m[f]=null,Qe(v,f)&&(v[f]=null)):Tt(f)&&(f.value=null)),xe(d))Is(d,c,12,[l,m]);else{const _=Ft(d),E=Tt(d);if(_||E){const I=()=>{if(t.f){const y=_?Qe(v,d)?v[d]:m[d]:d.value;s?Ee(y)&&P0(y,o):Ee(y)?y.includes(o)||y.push(o):_?(m[d]=[o],Qe(v,d)&&(v[d]=m[d])):(d.value=[o],t.k&&(m[t.k]=d.value))}else _?(m[d]=l,Qe(v,d)&&(v[d]=l)):E&&(d.value=l,t.k&&(m[t.k]=l))};l?(I.id=-1,Kn(I,n)):I()}}}const Kn=cB;function jB(t){return $B(t)}function $B(t,e){const n=by();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:c,createComment:d,setText:f,setElementText:m,parentNode:v,nextSibling:_,setScopeId:E=Pi,insertStaticContent:I}=t,y=(A,S,R,O=null,F=null,B=null,se=!1,Q=null,Z=!!S.dynamicChildren)=>{if(A===S)return;A&&!lo(A,S)&&(O=D(A),nt(A,F,B,!0),A=null),S.patchFlag===-2&&(Z=!1,S.dynamicChildren=null);const{type:H,ref:we,shapeFlag:ce}=S;switch(H){case dm:b(A,S,R,O);break;case _i:C(A,S,R,O);break;case Sv:A==null&&P(S,R,O,se);break;case bt:J(A,S,R,O,F,B,se,Q,Z);break;default:ce&1?Y(A,S,R,O,F,B,se,Q,Z):ce&6?ie(A,S,R,O,F,B,se,Q,Z):(ce&64||ce&128)&&H.process(A,S,R,O,F,B,se,Q,Z,X)}we!=null&&F&&xy(we,A&&A.ref,B,S||A,!S)},b=(A,S,R,O)=>{if(A==null)i(S.el=c(S.children),R,O);else{const F=S.el=A.el;S.children!==A.children&&f(F,S.children)}},C=(A,S,R,O)=>{A==null?i(S.el=d(S.children||""),R,O):S.el=A.el},P=(A,S,R,O)=>{[A.el,A.anchor]=I(A.children,S,R,O,A.el,A.anchor)},M=({el:A,anchor:S},R,O)=>{let F;for(;A&&A!==S;)F=_(A),i(A,R,O),A=F;i(S,R,O)},x=({el:A,anchor:S})=>{let R;for(;A&&A!==S;)R=_(A),s(A),A=R;s(S)},Y=(A,S,R,O,F,B,se,Q,Z)=>{se=se||S.type==="svg",A==null?oe(S,R,O,F,B,se,Q,Z):ee(A,S,F,B,se,Q,Z)},oe=(A,S,R,O,F,B,se,Q)=>{let Z,H;const{type:we,props:ce,shapeFlag:me,transition:Pe,dirs:Ve}=A;if(Z=A.el=l(A.type,B,ce&&ce.is,ce),me&8?m(Z,A.children):me&16&&q(A.children,Z,null,O,F,B&&we!=="foreignObject",se,Q),Ve&&eo(A,null,O,"created"),de(Z,A,A.scopeId,se,O),ce){for(const ze in ce)ze!=="value"&&!hf(ze)&&o(Z,ze,null,ce[ze],B,A.children,O,F,on);"value"in ce&&o(Z,"value",null,ce.value),(H=ce.onVnodeBeforeMount)&&Qi(H,O,A)}Ve&&eo(A,null,O,"beforeMount");const st=HB(F,Pe);st&&Pe.beforeEnter(Z),i(Z,S,R),((H=ce&&ce.onVnodeMounted)||st||Ve)&&Kn(()=>{H&&Qi(H,O,A),st&&Pe.enter(Z),Ve&&eo(A,null,O,"mounted")},F)},de=(A,S,R,O,F)=>{if(R&&E(A,R),O)for(let B=0;B<O.length;B++)E(A,O[B]);if(F){let B=F.subTree;if(S===B){const se=F.vnode;de(A,se,se.scopeId,se.slotScopeIds,F.parent)}}},q=(A,S,R,O,F,B,se,Q,Z=0)=>{for(let H=Z;H<A.length;H++){const we=A[H]=Q?fs(A[H]):Ji(A[H]);y(null,we,S,R,O,F,B,se,Q)}},ee=(A,S,R,O,F,B,se)=>{const Q=S.el=A.el;let{patchFlag:Z,dynamicChildren:H,dirs:we}=S;Z|=A.patchFlag&16;const ce=A.props||yt,me=S.props||yt;let Pe;R&&to(R,!1),(Pe=me.onVnodeBeforeUpdate)&&Qi(Pe,R,S,A),we&&eo(S,A,R,"beforeUpdate"),R&&to(R,!0);const Ve=F&&S.type!=="foreignObject";if(H?ge(A.dynamicChildren,H,Q,R,O,Ve,B):se||be(A,S,Q,null,R,O,Ve,B,!1),Z>0){if(Z&16)re(Q,S,ce,me,R,O,F);else if(Z&2&&ce.class!==me.class&&o(Q,"class",null,me.class,F),Z&4&&o(Q,"style",ce.style,me.style,F),Z&8){const st=S.dynamicProps;for(let ze=0;ze<st.length;ze++){const ht=st[ze],Xt=ce[ht],mr=me[ht];(mr!==Xt||ht==="value")&&o(Q,ht,Xt,mr,F,A.children,R,O,on)}}Z&1&&A.children!==S.children&&m(Q,S.children)}else!se&&H==null&&re(Q,S,ce,me,R,O,F);((Pe=me.onVnodeUpdated)||we)&&Kn(()=>{Pe&&Qi(Pe,R,S,A),we&&eo(S,A,R,"updated")},O)},ge=(A,S,R,O,F,B,se)=>{for(let Q=0;Q<S.length;Q++){const Z=A[Q],H=S[Q],we=Z.el&&(Z.type===bt||!lo(Z,H)||Z.shapeFlag&70)?v(Z.el):R;y(Z,H,we,null,O,F,B,se,!0)}},re=(A,S,R,O,F,B,se)=>{if(R!==O){if(R!==yt)for(const Q in R)!hf(Q)&&!(Q in O)&&o(A,Q,R[Q],null,se,S.children,F,B,on);for(const Q in O){if(hf(Q))continue;const Z=O[Q],H=R[Q];Z!==H&&Q!=="value"&&o(A,Q,H,Z,se,S.children,F,B,on)}"value"in O&&o(A,"value",R.value,O.value)}},J=(A,S,R,O,F,B,se,Q,Z)=>{const H=S.el=A?A.el:c(""),we=S.anchor=A?A.anchor:c("");let{patchFlag:ce,dynamicChildren:me,slotScopeIds:Pe}=S;Pe&&(Q=Q?Q.concat(Pe):Pe),A==null?(i(H,R,O),i(we,R,O),q(S.children,R,we,F,B,se,Q,Z)):ce>0&&ce&64&&me&&A.dynamicChildren?(ge(A.dynamicChildren,me,R,F,B,se,Q),(S.key!=null||F&&S===F.subTree)&&H0(A,S,!0)):be(A,S,R,we,F,B,se,Q,Z)},ie=(A,S,R,O,F,B,se,Q,Z)=>{S.slotScopeIds=Q,A==null?S.shapeFlag&512?F.ctx.activate(S,R,O,se,Z):Je(S,R,O,F,B,se,Z):W(A,S,Z)},Je=(A,S,R,O,F,B,se)=>{const Q=A.component=tj(A,O,F);if(cm(A)&&(Q.ctx.renderer=X),ij(Q),Q.asyncDep){if(F&&F.registerDep(Q,k),!A.el){const Z=Q.subTree=Ce(_i);C(null,Z,S,R)}return}k(Q,A,S,R,F,B,se)},W=(A,S,R)=>{const O=S.component=A.component;if(aB(A,S,R))if(O.asyncDep&&!O.asyncResolved){ae(O,S,R);return}else O.next=S,tB(O.update),O.update();else S.el=A.el,O.vnode=S},k=(A,S,R,O,F,B,se)=>{const Q=()=>{if(A.isMounted){let{next:we,bu:ce,u:me,parent:Pe,vnode:Ve}=A,st=we,ze;to(A,!1),we?(we.el=Ve.el,ae(A,we,se)):we=Ve,ce&&df(ce),(ze=we.props&&we.props.onVnodeBeforeUpdate)&&Qi(ze,Pe,we,Ve),to(A,!0);const ht=Iv(A),Xt=A.subTree;A.subTree=ht,y(Xt,ht,v(Xt.el),D(Xt),A,F,B),we.el=ht.el,st===null&&lB(A,ht.el),me&&Kn(me,F),(ze=we.props&&we.props.onVnodeUpdated)&&Kn(()=>Qi(ze,Pe,we,Ve),F)}else{let we;const{el:ce,props:me}=S,{bm:Pe,m:Ve,parent:st}=A,ze=cc(S);if(to(A,!1),Pe&&df(Pe),!ze&&(we=me&&me.onVnodeBeforeMount)&&Qi(we,st,S),to(A,!0),ce&&Xe){const ht=()=>{A.subTree=Iv(A),Xe(ce,A.subTree,A,F,null)};ze?S.type.__asyncLoader().then(()=>!A.isUnmounted&&ht()):ht()}else{const ht=A.subTree=Iv(A);y(null,ht,R,O,A,F,B),S.el=ht.el}if(Ve&&Kn(Ve,F),!ze&&(we=me&&me.onVnodeMounted)){const ht=S;Kn(()=>Qi(we,st,ht),F)}(S.shapeFlag&256||st&&cc(st.vnode)&&st.vnode.shapeFlag&256)&&A.a&&Kn(A.a,F),A.isMounted=!0,S=R=O=null}},Z=A.effect=new D0(Q,()=>U0(H),A.scope),H=A.update=()=>Z.run();H.id=A.uid,to(A,!0),H()},ae=(A,S,R)=>{S.component=A;const O=A.vnode.props;A.vnode=S,A.next=null,VB(A,S.props,O,R),BB(A,S.children,R),Pl(),iA(),kl()},be=(A,S,R,O,F,B,se,Q,Z=!1)=>{const H=A&&A.children,we=A?A.shapeFlag:0,ce=S.children,{patchFlag:me,shapeFlag:Pe}=S;if(me>0){if(me&128){tt(H,ce,R,O,F,B,se,Q,Z);return}else if(me&256){vt(H,ce,R,O,F,B,se,Q,Z);return}}Pe&8?(we&16&&on(H,F,B),ce!==H&&m(R,ce)):we&16?Pe&16?tt(H,ce,R,O,F,B,se,Q,Z):on(H,F,B,!0):(we&8&&m(R,""),Pe&16&&q(ce,R,O,F,B,se,Q,Z))},vt=(A,S,R,O,F,B,se,Q,Z)=>{A=A||Ga,S=S||Ga;const H=A.length,we=S.length,ce=Math.min(H,we);let me;for(me=0;me<ce;me++){const Pe=S[me]=Z?fs(S[me]):Ji(S[me]);y(A[me],Pe,R,null,F,B,se,Q,Z)}H>we?on(A,F,B,!0,!1,ce):q(S,R,O,F,B,se,Q,Z,ce)},tt=(A,S,R,O,F,B,se,Q,Z)=>{let H=0;const we=S.length;let ce=A.length-1,me=we-1;for(;H<=ce&&H<=me;){const Pe=A[H],Ve=S[H]=Z?fs(S[H]):Ji(S[H]);if(lo(Pe,Ve))y(Pe,Ve,R,null,F,B,se,Q,Z);else break;H++}for(;H<=ce&&H<=me;){const Pe=A[ce],Ve=S[me]=Z?fs(S[me]):Ji(S[me]);if(lo(Pe,Ve))y(Pe,Ve,R,null,F,B,se,Q,Z);else break;ce--,me--}if(H>ce){if(H<=me){const Pe=me+1,Ve=Pe<we?S[Pe].el:O;for(;H<=me;)y(null,S[H]=Z?fs(S[H]):Ji(S[H]),R,Ve,F,B,se,Q,Z),H++}}else if(H>me)for(;H<=ce;)nt(A[H],F,B,!0),H++;else{const Pe=H,Ve=H,st=new Map;for(H=Ve;H<=me;H++){const an=S[H]=Z?fs(S[H]):Ji(S[H]);an.key!=null&&st.set(an.key,H)}let ze,ht=0;const Xt=me-Ve+1;let mr=!1,wh=0;const Ms=new Array(Xt);for(H=0;H<Xt;H++)Ms[H]=0;for(H=Pe;H<=ce;H++){const an=A[H];if(ht>=Xt){nt(an,F,B,!0);continue}let ln;if(an.key!=null)ln=st.get(an.key);else for(ze=Ve;ze<=me;ze++)if(Ms[ze-Ve]===0&&lo(an,S[ze])){ln=ze;break}ln===void 0?nt(an,F,B,!0):(Ms[ln-Ve]=H+1,ln>=wh?wh=ln:mr=!0,y(an,S[ln],R,null,F,B,se,Q,Z),ht++)}const Vs=mr?qB(Ms):Ga;for(ze=Vs.length-1,H=Xt-1;H>=0;H--){const an=Ve+H,ln=S[an],Eh=an+1<we?S[an+1].el:O;Ms[H]===0?y(null,ln,R,Eh,F,B,se,Q,Z):mr&&(ze<0||H!==Vs[ze]?sn(ln,R,Eh,2):ze--)}}},sn=(A,S,R,O,F=null)=>{const{el:B,type:se,transition:Q,children:Z,shapeFlag:H}=A;if(H&6){sn(A.component.subTree,S,R,O);return}if(H&128){A.suspense.move(S,R,O);return}if(H&64){se.move(A,S,R,X);return}if(se===bt){i(B,S,R);for(let ce=0;ce<Z.length;ce++)sn(Z[ce],S,R,O);i(A.anchor,S,R);return}if(se===Sv){M(A,S,R);return}if(O!==2&&H&1&&Q)if(O===0)Q.beforeEnter(B),i(B,S,R),Kn(()=>Q.enter(B),F);else{const{leave:ce,delayLeave:me,afterLeave:Pe}=Q,Ve=()=>i(B,S,R),st=()=>{ce(B,()=>{Ve(),Pe&&Pe()})};me?me(B,Ve,st):st()}else i(B,S,R)},nt=(A,S,R,O=!1,F=!1)=>{const{type:B,props:se,ref:Q,children:Z,dynamicChildren:H,shapeFlag:we,patchFlag:ce,dirs:me}=A;if(Q!=null&&xy(Q,null,R,A,!0),we&256){S.ctx.deactivate(A);return}const Pe=we&1&&me,Ve=!cc(A);let st;if(Ve&&(st=se&&se.onVnodeBeforeUnmount)&&Qi(st,S,A),we&6)qo(A.component,R,O);else{if(we&128){A.suspense.unmount(R,O);return}Pe&&eo(A,null,S,"beforeUnmount"),we&64?A.type.remove(A,S,R,F,X,O):H&&(B!==bt||ce>0&&ce&64)?on(H,S,R,!1,!0):(B===bt&&ce&384||!F&&we&16)&&on(Z,S,R),O&&Hi(A)}(Ve&&(st=se&&se.onVnodeUnmounted)||Pe)&&Kn(()=>{st&&Qi(st,S,A),Pe&&eo(A,null,S,"unmounted")},R)},Hi=A=>{const{type:S,el:R,anchor:O,transition:F}=A;if(S===bt){qi(R,O);return}if(S===Sv){x(A);return}const B=()=>{s(R),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(A.shapeFlag&1&&F&&!F.persisted){const{leave:se,delayLeave:Q}=F,Z=()=>se(R,B);Q?Q(A.el,B,Z):Z()}else B()},qi=(A,S)=>{let R;for(;A!==S;)R=_(A),s(A),A=R;s(S)},qo=(A,S,R)=>{const{bum:O,scope:F,update:B,subTree:se,um:Q}=A;O&&df(O),F.stop(),B&&(B.active=!1,nt(se,A,S,R)),Q&&Kn(Q,S),Kn(()=>{A.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},on=(A,S,R,O=!1,F=!1,B=0)=>{for(let se=B;se<A.length;se++)nt(A[se],S,R,O,F)},D=A=>A.shapeFlag&6?D(A.component.subTree):A.shapeFlag&128?A.suspense.next():_(A.anchor||A.el),le=(A,S,R)=>{A==null?S._vnode&&nt(S._vnode,null,null,!0):y(S._vnode||null,A,S,null,null,null,R),iA(),R2(),S._vnode=A},X={p:y,um:nt,m:sn,r:Hi,mt:Je,mc:q,pc:be,pbc:ge,n:D,o:t};let ve,Xe;return e&&([ve,Xe]=e(X)),{render:le,hydrate:ve,createApp:xB(le,ve)}}function to({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function HB(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function H0(t,e,n=!1){const i=t.children,s=e.children;if(Ee(i)&&Ee(s))for(let o=0;o<i.length;o++){const l=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=fs(s[o]),c.el=l.el),n||H0(l,c)),c.type===dm&&(c.el=l.el)}}function qB(t){const e=t.slice(),n=[0];let i,s,o,l,c;const d=t.length;for(i=0;i<d;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,t[n[c]]<f?o=c+1:l=c;f<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const WB=t=>t.__isTeleport,dc=t=>t&&(t.disabled||t.disabled===""),mA=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ly=(t,e)=>{const n=t&&t.to;return Ft(n)?e?e(n):null:n},KB={__isTeleport:!0,process(t,e,n,i,s,o,l,c,d,f){const{mc:m,pc:v,pbc:_,o:{insert:E,querySelector:I,createText:y,createComment:b}}=f,C=dc(e.props);let{shapeFlag:P,children:M,dynamicChildren:x}=e;if(t==null){const Y=e.el=y(""),oe=e.anchor=y("");E(Y,n,i),E(oe,n,i);const de=e.target=Ly(e.props,I),q=e.targetAnchor=y("");de&&(E(q,de),l=l||mA(de));const ee=(ge,re)=>{P&16&&m(M,ge,re,s,o,l,c,d)};C?ee(n,oe):de&&ee(de,q)}else{e.el=t.el;const Y=e.anchor=t.anchor,oe=e.target=t.target,de=e.targetAnchor=t.targetAnchor,q=dc(t.props),ee=q?n:oe,ge=q?Y:de;if(l=l||mA(oe),x?(_(t.dynamicChildren,x,ee,s,o,l,c),H0(t,e,!0)):d||v(t,e,ee,ge,s,o,l,c,!1),C)q?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Jd(e,n,Y,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const re=e.target=Ly(e.props,I);re&&Jd(e,re,null,f,0)}else q&&Jd(e,oe,de,f,1)}z2(e)},remove(t,e,n,i,{um:s,o:{remove:o}},l){const{shapeFlag:c,children:d,anchor:f,targetAnchor:m,target:v,props:_}=t;if(v&&o(m),l&&o(f),c&16){const E=l||!dc(_);for(let I=0;I<d.length;I++){const y=d[I];s(y,e,n,E,!!y.dynamicChildren)}}},move:Jd,hydrate:GB};function Jd(t,e,n,{o:{insert:i},m:s},o=2){o===0&&i(t.targetAnchor,e,n);const{el:l,anchor:c,shapeFlag:d,children:f,props:m}=t,v=o===2;if(v&&i(l,e,n),(!v||dc(m))&&d&16)for(let _=0;_<f.length;_++)s(f[_],e,n,2);v&&i(c,e,n)}function GB(t,e,n,i,s,o,{o:{nextSibling:l,parentNode:c,querySelector:d}},f){const m=e.target=Ly(e.props,d);if(m){const v=m._lpa||m.firstChild;if(e.shapeFlag&16)if(dc(e.props))e.anchor=f(l(t),e,c(t),n,i,s,o),e.targetAnchor=v;else{e.anchor=l(t);let _=v;for(;_;)if(_=l(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,m._lpa=e.targetAnchor&&l(e.targetAnchor);break}f(v,e,m,n,i,s,o)}z2(e)}return e.anchor&&l(e.anchor)}const zB=KB;function z2(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const bt=Symbol.for("v-fgt"),dm=Symbol.for("v-txt"),_i=Symbol.for("v-cmt"),Sv=Symbol.for("v-stc"),fc=[];let Ri=null;function Ie(t=!1){fc.push(Ri=t?null:[])}function YB(){fc.pop(),Ri=fc[fc.length-1]||null}let Bc=1;function gA(t){Bc+=t}function Y2(t){return t.dynamicChildren=Bc>0?Ri||Ga:null,YB(),Bc>0&&Ri&&Ri.push(t),t}function gt(t,e,n,i,s,o){return Y2($(t,e,n,i,s,o,!0))}function mt(t,e,n,i,s){return Y2(Ce(t,e,n,i,s,!0))}function Jf(t){return t?t.__v_isVNode===!0:!1}function lo(t,e){return t.type===e.type&&t.key===e.key}const fm="__vInternal",Q2=({key:t})=>t??null,ff=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ft(t)||Tt(t)||xe(t)?{i:pn,r:t,k:e,f:!!n}:t:null);function $(t,e=null,n=null,i=0,s=null,o=t===bt?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Q2(e),ref:e&&ff(e),scopeId:N2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pn};return c?(q0(d,n),o&128&&t.normalize(d)):n&&(d.shapeFlag|=Ft(n)?8:16),Bc>0&&!l&&Ri&&(d.patchFlag>0||o&6)&&d.patchFlag!==32&&Ri.push(d),d}const Ce=QB;function QB(t,e=null,n=null,i=0,s=null,o=!1){if((!t||t===AB)&&(t=_i),Jf(t)){const c=Fr(t,e,!0);return n&&q0(c,n),Bc>0&&!o&&Ri&&(c.shapeFlag&6?Ri[Ri.indexOf(t)]=c:Ri.push(c)),c.patchFlag|=-2,c}if(lj(t)&&(t=t.__vccOpts),e){e=JB(e);let{class:c,style:d}=e;c&&!Ft(c)&&(e.class=zn(c)),ct(d)&&(_2(d)&&!Ee(d)&&(d=rn({},d)),e.style=N0(d))}const l=Ft(t)?1:uB(t)?128:WB(t)?64:ct(t)?4:xe(t)?2:0;return $(t,e,n,i,s,l,o,!0)}function JB(t){return t?_2(t)||fm in t?rn({},t):t:null}function Fr(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:l}=t,c=e?XB(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Q2(c),ref:e&&e.ref?n&&s?Ee(s)?s.concat(ff(e)):[s,ff(e)]:ff(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==bt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fr(t.ssContent),ssFallback:t.ssFallback&&Fr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function en(t=" ",e=0){return Ce(dm,null,t,e)}function ft(t="",e=!1){return e?(Ie(),mt(_i,null,t)):Ce(_i,null,t)}function Ji(t){return t==null||typeof t=="boolean"?Ce(_i):Ee(t)?Ce(bt,null,t.slice()):typeof t=="object"?fs(t):Ce(dm,null,String(t))}function fs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fr(t)}function q0(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ee(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),q0(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(fm in e)?e._ctx=pn:s===3&&pn&&(pn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xe(e)?(e={default:e,_ctx:pn},n=32):(e=String(e),i&64?(n=16,e=[en(e)]):n=8);t.children=e,t.shapeFlag|=n}function XB(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=zn([e.class,i.class]));else if(s==="style")e.style=N0([e.style,i.style]);else if(em(s)){const o=e[s],l=i[s];l&&o!==l&&!(Ee(o)&&o.includes(l))&&(e[s]=o?[].concat(o,l):l)}else s!==""&&(e[s]=i[s])}return e}function Qi(t,e,n,i=null){yi(t,e,7,[n,i])}const ZB=$2();let ej=0;function tj(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||ZB,o={uid:ej++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q2(i,s),emitsOptions:k2(i,s),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=rB.bind(null,o),t.ce&&t.ce(o),o}let tn=null;const nj=()=>tn||pn;let W0,Na,vA="__VUE_INSTANCE_SETTERS__";(Na=by()[vA])||(Na=by()[vA]=[]),Na.push(t=>tn=t),W0=t=>{Na.length>1?Na.forEach(e=>e(t)):Na[0](t)};const ml=t=>{W0(t),t.scope.on()},Ao=()=>{tn&&tn.scope.off(),W0(null)};function J2(t){return t.vnode.shapeFlag&4}let jc=!1;function ij(t,e=!1){jc=e;const{props:n,children:i}=t.vnode,s=J2(t);MB(t,n,s,e),UB(t,i);const o=s?rj(t,e):void 0;return jc=!1,o}function rj(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=om(new Proxy(t.ctx,CB));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?oj(t):null;ml(t),Pl();const o=Is(i,t,0,[t.props,s]);if(kl(),Ao(),XP(o)){if(o.then(Ao,Ao),e)return o.then(l=>{yA(t,l,e)}).catch(l=>{am(l,t,0)});t.asyncDep=o}else yA(t,o,e)}else X2(t,e)}function yA(t,e,n){xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ct(e)&&(t.setupState=T2(e)),X2(t,n)}let _A;function X2(t,e,n){const i=t.type;if(!t.render){if(!e&&_A&&!i.render){const s=i.template||j0(t).template;if(s){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:d}=i,f=rn(rn({isCustomElement:o,delimiters:c},l),d);i.render=_A(s,f)}}t.render=i.render||Pi}{ml(t),Pl();try{RB(t)}finally{kl(),Ao()}}}function sj(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Xn(t,"get","$attrs"),e[n]}}))}function oj(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return sj(t)},slots:t.slots,emit:t.emit,expose:e}}function pm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(T2(om(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in hc)return hc[n](t)},has(e,n){return n in e||n in hc}}))}function aj(t,e=!0){return xe(t)?t.displayName||t.name:t.name||e&&t.__name}function lj(t){return xe(t)&&"__vccOpts"in t}const Oe=(t,e)=>X6(t,e,jc);function fn(t,e,n){const i=arguments.length;return i===2?ct(e)&&!Ee(e)?Jf(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Jf(n)&&(n=[n]),Ce(t,e,n))}const uj=Symbol.for("v-scx"),cj=()=>St(uj),hj="3.3.7",dj="http://www.w3.org/2000/svg",uo=typeof document<"u"?document:null,wA=uo&&uo.createElement("template"),fj={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?uo.createElementNS(dj,t):uo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>uo.createTextNode(t),createComment:t=>uo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>uo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,o){const l=n?n.previousSibling:e.lastChild;if(s&&(s===o||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{wA.innerHTML=i?`<svg>${t}</svg>`:t;const c=wA.content;if(i){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ls="transition",$u="animation",$c=Symbol("_vtc"),mm=(t,{slots:e})=>fn(pB,pj(t),e);mm.displayName="Transition";const Z2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};mm.props=rn({},D2,Z2);const no=(t,e=[])=>{Ee(t)?t.forEach(n=>n(...e)):t&&t(...e)},EA=t=>t?Ee(t)?t.some(e=>e.length>1):t.length>1:!1;function pj(t){const e={};for(const J in t)J in Z2||(e[J]=t[J]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:d=o,appearActiveClass:f=l,appearToClass:m=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=t,I=mj(s),y=I&&I[0],b=I&&I[1],{onBeforeEnter:C,onEnter:P,onEnterCancelled:M,onLeave:x,onLeaveCancelled:Y,onBeforeAppear:oe=C,onAppear:de=P,onAppearCancelled:q=M}=e,ee=(J,ie,Je)=>{io(J,ie?m:c),io(J,ie?f:l),Je&&Je()},ge=(J,ie)=>{J._isLeaving=!1,io(J,v),io(J,E),io(J,_),ie&&ie()},re=J=>(ie,Je)=>{const W=J?de:P,k=()=>ee(ie,J,Je);no(W,[ie,k]),bA(()=>{io(ie,J?d:o),us(ie,J?m:c),EA(W)||IA(ie,i,y,k)})};return rn(e,{onBeforeEnter(J){no(C,[J]),us(J,o),us(J,l)},onBeforeAppear(J){no(oe,[J]),us(J,d),us(J,f)},onEnter:re(!1),onAppear:re(!0),onLeave(J,ie){J._isLeaving=!0;const Je=()=>ge(J,ie);us(J,v),yj(),us(J,_),bA(()=>{J._isLeaving&&(io(J,v),us(J,E),EA(x)||IA(J,i,b,Je))}),no(x,[J,Je])},onEnterCancelled(J){ee(J,!1),no(M,[J])},onAppearCancelled(J){ee(J,!0),no(q,[J])},onLeaveCancelled(J){ge(J),no(Y,[J])}})}function mj(t){if(t==null)return null;if(ct(t))return[Cv(t.enter),Cv(t.leave)];{const e=Cv(t);return[e,e]}}function Cv(t){return f6(t)}function us(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[$c]||(t[$c]=new Set)).add(e)}function io(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[$c];n&&(n.delete(e),n.size||(t[$c]=void 0))}function bA(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let gj=0;function IA(t,e,n,i){const s=t._endId=++gj,o=()=>{s===t._endId&&i()};if(n)return setTimeout(o,n);const{type:l,timeout:c,propCount:d}=vj(t,e);if(!l)return i();const f=l+"end";let m=0;const v=()=>{t.removeEventListener(f,_),o()},_=E=>{E.target===t&&++m>=d&&v()};setTimeout(()=>{m<d&&v()},c+1),t.addEventListener(f,_)}function vj(t,e){const n=window.getComputedStyle(t),i=I=>(n[I]||"").split(", "),s=i(`${ls}Delay`),o=i(`${ls}Duration`),l=TA(s,o),c=i(`${$u}Delay`),d=i(`${$u}Duration`),f=TA(c,d);let m=null,v=0,_=0;e===ls?l>0&&(m=ls,v=l,_=o.length):e===$u?f>0&&(m=$u,v=f,_=d.length):(v=Math.max(l,f),m=v>0?l>f?ls:$u:null,_=m?m===ls?o.length:d.length:0);const E=m===ls&&/\b(transform|all)(,|$)/.test(i(`${ls}Property`).toString());return{type:m,timeout:v,propCount:_,hasTransform:E}}function TA(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>AA(n)+AA(t[i])))}function AA(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function yj(){return document.body.offsetHeight}function _j(t,e,n){const i=t[$c];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const K0=Symbol("_vod"),SA={beforeMount(t,{value:e},{transition:n}){t[K0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Hu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Hu(t,!0),i.enter(t)):i.leave(t,()=>{Hu(t,!1)}):Hu(t,e))},beforeUnmount(t,{value:e}){Hu(t,e)}};function Hu(t,e){t.style.display=e?t[K0]:"none"}function wj(t,e,n){const i=t.style,s=Ft(n);if(n&&!s){if(e&&!Ft(e))for(const o in e)n[o]==null&&My(i,o,"");for(const o in n)My(i,o,n[o])}else{const o=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),K0 in t&&(i.display=o)}}const CA=/\s*!important$/;function My(t,e,n){if(Ee(n))n.forEach(i=>My(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Ej(t,e);CA.test(n)?t.setProperty(Rl(i),n.replace(CA,""),"important"):t[i]=n}}const RA=["Webkit","Moz","ms"],Rv={};function Ej(t,e){const n=Rv[e];if(n)return n;let i=dr(e);if(i!=="filter"&&i in t)return Rv[e]=i;i=im(i);for(let s=0;s<RA.length;s++){const o=RA[s]+i;if(o in t)return Rv[e]=o}return e}const PA="http://www.w3.org/1999/xlink";function bj(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(PA,e.slice(6,e.length)):t.setAttributeNS(PA,e,n);else{const o=_6(e);n==null||o&&!t2(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Ij(t,e,n,i,s,o,l){if(e==="innerHTML"||e==="textContent"){i&&l(i,s,o),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const f=c==="OPTION"?t.getAttribute("value"):t.value,m=n??"";f!==m&&(t.value=m),n==null&&t.removeAttribute(e);return}let d=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=t2(n):n==null&&f==="string"?(n="",d=!0):f==="number"&&(n=0,d=!0)}try{t[e]=n}catch{}d&&t.removeAttribute(e)}function co(t,e,n,i){t.addEventListener(e,n,i)}function Tj(t,e,n,i){t.removeEventListener(e,n,i)}const kA=Symbol("_vei");function Aj(t,e,n,i,s=null){const o=t[kA]||(t[kA]={}),l=o[e];if(i&&l)l.value=i;else{const[c,d]=Sj(e);if(i){const f=o[e]=Pj(i,s);co(t,c,f,d)}else l&&(Tj(t,c,l,d),o[e]=void 0)}}const NA=/(?:Once|Passive|Capture)$/;function Sj(t){let e;if(NA.test(t)){e={};let i;for(;i=t.match(NA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rl(t.slice(2)),e]}let Pv=0;const Cj=Promise.resolve(),Rj=()=>Pv||(Cj.then(()=>Pv=0),Pv=Date.now());function Pj(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;yi(kj(i,n.value),e,5,[i])};return n.value=t,n.attached=Rj(),n}function kj(t,e){if(Ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const OA=/^on[a-z]/,Nj=(t,e,n,i,s=!1,o,l,c,d)=>{e==="class"?_j(t,i,s):e==="style"?wj(t,n,i):em(e)?R0(e)||Aj(t,e,n,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Oj(t,e,i,s))?Ij(t,e,i,o,l,c,d):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),bj(t,e,i,s))};function Oj(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&OA.test(e)&&xe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||OA.test(e)&&Ft(n)?!1:e in t}const Xf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ee(e)?n=>df(e,n):e};function Dj(t){t.target.composing=!0}function DA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qa=Symbol("_assign"),Gt={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Qa]=Xf(s);const o=i||s.props&&s.props.type==="number";co(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;n&&(c=c.trim()),o&&(c=Kf(c)),t[Qa](c)}),n&&co(t,"change",()=>{t.value=t.value.trim()}),e||(co(t,"compositionstart",Dj),co(t,"compositionend",DA),co(t,"change",DA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},o){if(t[Qa]=Xf(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&Kf(t.value)===e))return;const l=e??"";t.value!==l&&(t.value=l)}},GH={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=tm(e);co(t,"change",()=>{const o=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>n?Kf(Zf(l)):Zf(l));t[Qa](t.multiple?s?new Set(o):o:o[0])}),t[Qa]=Xf(i)},mounted(t,{value:e}){xA(t,e)},beforeUpdate(t,e,n){t[Qa]=Xf(n)},updated(t,{value:e}){xA(t,e)}};function xA(t,e){const n=t.multiple;if(!(n&&!Ee(e)&&!tm(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],l=Zf(o);if(n)Ee(e)?o.selected=E6(e,l)>-1:o.selected=e.has(l);else if(rm(Zf(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zf(t){return"_value"in t?t._value:t.value}const xj=rn({patchProp:Nj},fj);let LA;function Lj(){return LA||(LA=jB(xj))}const Mj=(...t)=>{const e=Lj().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=Vj(i);if(!s)return;const o=e._component;!xe(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},e};function Vj(t){return Ft(t)?document.querySelector(t):t}var Fj=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ek;const gm=t=>ek=t,tk=Symbol();function Vy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var pc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(pc||(pc={}));function Uj(){const t=s2(!0),e=t.run(()=>Te({}));let n=[],i=[];const s=om({install(o){gm(s),s._a=o,o.provide(tk,s),o.config.globalProperties.$pinia=s,i.forEach(l=>n.push(l)),i=[]},use(o){return!this._a&&!Fj?i.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const nk=()=>{};function MA(t,e,n,i=nk){t.push(e);const s=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),i())};return!n&&o2()&&I6(s),s}function Oa(t,...e){t.slice().forEach(n=>{n(...e)})}const Bj=t=>t();function Fy(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],s=t[n];Vy(s)&&Vy(i)&&t.hasOwnProperty(n)&&!Tt(i)&&!Or(i)?t[n]=Fy(s,i):t[n]=i}return t}const jj=Symbol();function $j(t){return!Vy(t)||!t.hasOwnProperty(jj)}const{assign:hs}=Object;function Hj(t){return!!(Tt(t)&&t.effect)}function qj(t,e,n,i){const{state:s,actions:o,getters:l}=e,c=n.state.value[t];let d;function f(){c||(n.state.value[t]=s?s():{});const m=G6(n.state.value[t]);return hs(m,o,Object.keys(l||{}).reduce((v,_)=>(v[_]=om(Oe(()=>{gm(n);const E=n._s.get(t);return l[_].call(E,E)})),v),{}))}return d=ik(t,f,e,n,i,!0),d}function ik(t,e,n={},i,s,o){let l;const c=hs({actions:{}},n),d={deep:!0};let f,m,v=[],_=[],E;const I=i.state.value[t];!o&&!I&&(i.state.value[t]={}),Te({});let y;function b(q){let ee;f=m=!1,typeof q=="function"?(q(i.state.value[t]),ee={type:pc.patchFunction,storeId:t,events:E}):(Fy(i.state.value[t],q),ee={type:pc.patchObject,payload:q,storeId:t,events:E});const ge=y=Symbol();lm().then(()=>{y===ge&&(f=!0)}),m=!0,Oa(v,ee,i.state.value[t])}const C=o?function(){const{state:ee}=n,ge=ee?ee():{};this.$patch(re=>{hs(re,ge)})}:nk;function P(){l.stop(),v=[],_=[],i._s.delete(t)}function M(q,ee){return function(){gm(i);const ge=Array.from(arguments),re=[],J=[];function ie(k){re.push(k)}function Je(k){J.push(k)}Oa(_,{args:ge,name:q,store:Y,after:ie,onError:Je});let W;try{W=ee.apply(this&&this.$id===t?this:Y,ge)}catch(k){throw Oa(J,k),k}return W instanceof Promise?W.then(k=>(Oa(re,k),k)).catch(k=>(Oa(J,k),Promise.reject(k))):(Oa(re,W),W)}}const x={_p:i,$id:t,$onAction:MA.bind(null,_),$patch:b,$reset:C,$subscribe(q,ee={}){const ge=MA(v,q,ee.detached,()=>re()),re=l.run(()=>ki(()=>i.state.value[t],J=>{(ee.flush==="sync"?m:f)&&q({storeId:t,type:pc.direct,events:E},J)},hs({},d,ee)));return ge},$dispose:P},Y=Qn(x);i._s.set(t,Y);const de=(i._a&&i._a.runWithContext||Bj)(()=>i._e.run(()=>(l=s2()).run(e)));for(const q in de){const ee=de[q];if(Tt(ee)&&!Hj(ee)||Or(ee))o||(I&&$j(ee)&&(Tt(ee)?ee.value=I[q]:Fy(ee,I[q])),i.state.value[t][q]=ee);else if(typeof ee=="function"){const ge=M(q,ee);de[q]=ge,c.actions[q]=ee}}return hs(Y,de),hs(Ke(Y),de),Object.defineProperty(Y,"$state",{get:()=>i.state.value[t],set:q=>{b(ee=>{hs(ee,q)})}}),i._p.forEach(q=>{hs(Y,l.run(()=>q({store:Y,app:i._a,pinia:i,options:c})))}),I&&o&&n.hydrate&&n.hydrate(Y.$state,I),f=!0,m=!0,Y}function rk(t,e,n){let i,s;const o=typeof e=="function";typeof t=="string"?(i=t,s=o?n:e):(s=t,i=t.id);function l(c,d){const f=LB();return c=c||(f?St(tk,null):null),c&&gm(c),c=ek,c._s.has(i)||(o?ik(i,e,s,c):qj(i,s,c)),c._s.get(i)}return l.$id=i,l}function Zn(t){{t=Ke(t);const e={};for(const n in t){const i=t[n];(Tt(i)||Or(i))&&(e[n]=Q6(t,n))}return e}}function Wj(){return console.log("createUserProfileCallable"),pr(Bi(void 0,"northamerica-northeast1"),"createUserProfile")}function Kj(){return console.log("createAdCallable"),pr(Bi(void 0,"northamerica-northeast1"),"createAd")}function Gj(){return console.log("removeAdCallable"),pr(Bi(void 0,"northamerica-northeast1"),"removeAd")}function zj(){return console.log("editAdCallable"),pr(Bi(void 0,"northamerica-northeast1"),"editAd")}function Yj(){return console.log("postAdCallable"),pr(Bi(void 0,"northamerica-northeast1"),"postAd")}function Qj(){return console.log("placeBidCallable"),pr(Bi(void 0,"northamerica-northeast1"),"placeBid")}function Jj(){return console.log("cancelBidCallable"),pr(Bi(void 0,"northamerica-northeast1"),"cancelBid")}function zH(){return console.log("createTransactionCallable"),pr(Bi(void 0,"northamerica-northeast1"),"createTransaction")}function Xj(){return console.log("createEscrowAccountCallable"),pr(Bi(void 0,"northamerica-northeast1"),"createEscrowAccount")}function Zj(){return console.log("linkEscrowAccountCallable"),pr(Bi(void 0,"northamerica-northeast1"),"linkEscrowAccount")}const Cn=rk("MainStore",()=>{const t={SELLER:"seller",BUYER:"buyer",EMPLOYER:"employer",EMPLOYEE:"employee",BANKER:"bank"},e={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},n={POSTED:"posted",REJECTED:"rejected",SOLD:"sold"},i={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected"},s=Te(null),o=Te(!1),l=Te(null),c=W=>{s.value=W},d=W=>{console.log("setNewUser",W),o.value=W},f=async W=>{let k=null;if(o.value)console.log("Profile setup mounted for new user"),k=await v(W),_(W);else{if(console.log("continueSignup This is an existing user fetching profile"),!s.value)throw new Error("continueSignup No user");if(k=await Ey("users",s.value.uid),_(W),!k)throw new Error("continueSignup No profile")}_(k)},m=Wj(),v=async W=>{try{console.log("createUser start",W),console.log("createUserProfile",m);const k=await m({...W});return console.log("createUser res",k),k}catch(k){throw console.log("createUser error",k),new Error(k)}},_=W=>{if(console.log("setProfile",W),!W)throw new Error("No profile");l.value=W},E=async()=>{if(console.log("getProfile"),!s.value)throw new Error("No user");const W=await Ey("users",s.value.uid);l.value=W},I=Kj(),y=async W=>{try{console.log("createUserAd start",W),console.log("createAd",I);const k=await I({...W});return console.log("createUserAd res",k),k}catch(k){throw console.log("createUserAd error",k),new Error(k)}},b=Yj(),C=async W=>{try{console.log("postAd start",W),console.log("createAd",I);const k=await b({adId:W});return console.log("postAd res",k),k}catch(k){throw console.log("postAd error",k),new Error(k)}},P=Gj(),M=async W=>{try{console.log("removeUserAd start",W),console.log("createAd",I);const k=await P({adId:W});return console.log("removeUserAd res",k),k}catch(k){throw console.log("removeUserAd error",k),new Error(k)}},x=zj(),Y=async W=>{try{console.log("editUserAd start",W),console.log("editUserAd",x);const k=await x({...W});return console.log("editUserAd res",k),k}catch(k){throw console.log("editUserAd error",k),new Error(k)}},oe=async()=>{const W=vC();console.log("signout"),await W.signOut(),c(null),_(null)},de=Qj(),q=async W=>{console.log("placeBid",W);try{console.log("placeBid start",W),console.log("placeBid",de);const k=await de(W);return console.log("placeBid res",k),k}catch(k){throw console.log("placeBid error",k),new Error(k)}},ee=Jj(),ge=async W=>{try{console.log("cancelBid start",W),console.log("cancelBid",ee);const k=await ee({bidId:W});return console.log("cancelBid res",k),k}catch(k){throw console.log("cancelBid error",k),new Error(k)}},re=Xj(),J=async W=>{try{console.log("createEscrowUserAccount start"),console.log("createEscrowAccount",re);const k=await re(W);return console.log("createEscrowUserAccount res",k),k}catch(k){throw console.log("createEscrowUserAccount error",k),new Error(k)}},ie=Zj();return{user:s,setUser:c,createUser:v,getProfile:E,setProfile:_,setNewUser:d,isNewUser:o,continueSignup:f,profile:l,ACCOUNT_TYPES:t,createUserAd:y,postNewAd:C,signout:oe,BID_STATUSES:e,AD_STATUSES:n,placeNewBid:q,cancelUserBid:ge,removeUserAd:M,editUserAd:Y,CLAUSE_STATUSES:i,createEscrowUserAccount:J,linkEscrowUserAccount:async W=>{try{console.log("linkEscrowUserAccount start"),console.log("createEscrowAccount",re);const k=await ie(W);return console.log("linkEscrowUserAccount res",k),k}catch(k){throw console.log("linkEscrowUserAccount error",k),new Error(k)}}}}),e7="/assets/croplink_logo-6a6314e8.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ma=typeof window<"u";function t7(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const at=Object.assign;function kv(t,e){const n={};for(const i in e){const s=e[i];n[i]=Fi(s)?s.map(t):t(s)}return n}const mc=()=>{},Fi=Array.isArray,n7=/\/$/,i7=t=>t.replace(n7,"");function Nv(t,e,n="/"){let i,s={},o="",l="";const c=e.indexOf("#");let d=e.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(i=e.slice(0,d),o=e.slice(d+1,c>-1?c:e.length),s=t(o)),c>-1&&(i=i||e.slice(0,c),l=e.slice(c,e.length)),i=a7(i??e,n),{fullPath:i+(o&&"?")+o+l,path:i,query:s,hash:l}}function r7(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function VA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function s7(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&gl(e.matched[i],n.matched[s])&&sk(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function gl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function sk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!o7(t[n],e[n]))return!1;return!0}function o7(t,e){return Fi(t)?FA(t,e):Fi(e)?FA(e,t):t===e}function FA(t,e){return Fi(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function a7(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,l,c;for(l=0;l<i.length;l++)if(c=i[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(l-(l===i.length?1:0)).join("/")}var Hc;(function(t){t.pop="pop",t.push="push"})(Hc||(Hc={}));var gc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gc||(gc={}));function l7(t){if(!t)if(Ma){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),i7(t)}const u7=/^[^#]+#/;function c7(t,e){return t.replace(u7,"#")+e}function h7(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const vm=()=>({left:window.pageXOffset,top:window.pageYOffset});function d7(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=h7(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function UA(t,e){return(history.state?history.state.position-e:-1)+t}const Uy=new Map;function f7(t,e){Uy.set(t,e)}function p7(t){const e=Uy.get(t);return Uy.delete(t),e}let m7=()=>location.protocol+"//"+location.host;function ok(t,e){const{pathname:n,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,d=s.slice(c);return d[0]!=="/"&&(d="/"+d),VA(d,"")}return VA(n,t)+i+s}function g7(t,e,n,i){let s=[],o=[],l=null;const c=({state:_})=>{const E=ok(t,location),I=n.value,y=e.value;let b=0;if(_){if(n.value=E,e.value=_,l&&l===I){l=null;return}b=y?_.position-y.position:0}else i(E);s.forEach(C=>{C(n.value,I,{delta:b,type:Hc.pop,direction:b?b>0?gc.forward:gc.back:gc.unknown})})};function d(){l=n.value}function f(_){s.push(_);const E=()=>{const I=s.indexOf(_);I>-1&&s.splice(I,1)};return o.push(E),E}function m(){const{history:_}=window;_.state&&_.replaceState(at({},_.state,{scroll:vm()}),"")}function v(){for(const _ of o)_();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:d,listen:f,destroy:v}}function BA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?vm():null}}function v7(t){const{history:e,location:n}=window,i={value:ok(t,n)},s={value:e.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(d,f,m){const v=t.indexOf("#"),_=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+d:m7()+t+d;try{e[m?"replaceState":"pushState"](f,"",_),s.value=f}catch(E){console.error(E),n[m?"replace":"assign"](_)}}function l(d,f){const m=at({},e.state,BA(s.value.back,d,s.value.forward,!0),f,{position:s.value.position});o(d,m,!0),i.value=d}function c(d,f){const m=at({},s.value,e.state,{forward:d,scroll:vm()});o(m.current,m,!0);const v=at({},BA(i.value,d,null),{position:m.position+1},f);o(d,v,!1),i.value=d}return{location:i,state:s,push:c,replace:l}}function y7(t){t=l7(t);const e=v7(t),n=g7(t,e.state,e.location,e.replace);function i(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=at({location:"",base:t,go:i,createHref:c7.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function _7(t){return typeof t=="string"||t&&typeof t=="object"}function ak(t){return typeof t=="string"||typeof t=="symbol"}const cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},lk=Symbol("");var jA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(jA||(jA={}));function vl(t,e){return at(new Error,{type:t,[lk]:!0},e)}function br(t,e){return t instanceof Error&&lk in t&&(e==null||!!(t.type&e))}const $A="[^/]+?",w7={sensitive:!1,strict:!1,start:!0,end:!0},E7=/[.+*?^${}()[\]/\\]/g;function b7(t,e){const n=at({},w7,e),i=[];let s=n.start?"^":"";const o=[];for(const f of t){const m=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let v=0;v<f.length;v++){const _=f[v];let E=40+(n.sensitive?.25:0);if(_.type===0)v||(s+="/"),s+=_.value.replace(E7,"\\$&"),E+=40;else if(_.type===1){const{value:I,repeatable:y,optional:b,regexp:C}=_;o.push({name:I,repeatable:y,optional:b});const P=C||$A;if(P!==$A){E+=10;try{new RegExp(`(${P})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${I}" (${P}): `+x.message)}}let M=y?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(M=b&&f.length<2?`(?:/${M})`:"/"+M),b&&(M+="?"),s+=M,E+=20,b&&(E+=-8),y&&(E+=-20),P===".*"&&(E+=-50)}m.push(E)}i.push(m)}if(n.strict&&n.end){const f=i.length-1;i[f][i[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(f){const m=f.match(l),v={};if(!m)return null;for(let _=1;_<m.length;_++){const E=m[_]||"",I=o[_-1];v[I.name]=E&&I.repeatable?E.split("/"):E}return v}function d(f){let m="",v=!1;for(const _ of t){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const E of _)if(E.type===0)m+=E.value;else if(E.type===1){const{value:I,repeatable:y,optional:b}=E,C=I in f?f[I]:"";if(Fi(C)&&!y)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const P=Fi(C)?C.join("/"):C;if(!P)if(b)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${I}"`);m+=P}}return m||"/"}return{re:l,score:i,keys:o,parse:c,stringify:d}}function I7(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function T7(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const o=I7(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(HA(i))return 1;if(HA(s))return-1}return s.length-i.length}function HA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const A7={type:0,value:""},S7=/[a-zA-Z0-9_]/;function C7(t){if(!t)return[[]];if(t==="/")return[[A7]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${f}": ${E}`)}let n=0,i=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,d,f="",m="";function v(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),f="")}function _(){f+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:d==="/"?(f&&v(),l()):d===":"?(v(),n=1):_();break;case 4:_(),n=i;break;case 1:d==="("?n=2:S7.test(d)?_():(v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:n=3:m+=d;break;case 3:v(),n=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,m="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),v(),l(),s}function R7(t,e,n){const i=b7(C7(t.path),n),s=at(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function P7(t,e){const n=[],i=new Map;e=KA({strict:!1,end:!0,sensitive:!1},e);function s(m){return i.get(m)}function o(m,v,_){const E=!_,I=k7(m);I.aliasOf=_&&_.record;const y=KA(e,m),b=[I];if("alias"in m){const M=typeof m.alias=="string"?[m.alias]:m.alias;for(const x of M)b.push(at({},I,{components:_?_.record.components:I.components,path:x,aliasOf:_?_.record:I}))}let C,P;for(const M of b){const{path:x}=M;if(v&&x[0]!=="/"){const Y=v.record.path,oe=Y[Y.length-1]==="/"?"":"/";M.path=v.record.path+(x&&oe+x)}if(C=R7(M,v,y),_?_.alias.push(C):(P=P||C,P!==C&&P.alias.push(C),E&&m.name&&!WA(C)&&l(m.name)),I.children){const Y=I.children;for(let oe=0;oe<Y.length;oe++)o(Y[oe],C,_&&_.children[oe])}_=_||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&d(C)}return P?()=>{l(P)}:mc}function l(m){if(ak(m)){const v=i.get(m);v&&(i.delete(m),n.splice(n.indexOf(v),1),v.children.forEach(l),v.alias.forEach(l))}else{const v=n.indexOf(m);v>-1&&(n.splice(v,1),m.record.name&&i.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function c(){return n}function d(m){let v=0;for(;v<n.length&&T7(m,n[v])>=0&&(m.record.path!==n[v].record.path||!uk(m,n[v]));)v++;n.splice(v,0,m),m.record.name&&!WA(m)&&i.set(m.record.name,m)}function f(m,v){let _,E={},I,y;if("name"in m&&m.name){if(_=i.get(m.name),!_)throw vl(1,{location:m});y=_.record.name,E=at(qA(v.params,_.keys.filter(P=>!P.optional).map(P=>P.name)),m.params&&qA(m.params,_.keys.map(P=>P.name))),I=_.stringify(E)}else if("path"in m)I=m.path,_=n.find(P=>P.re.test(I)),_&&(E=_.parse(I),y=_.record.name);else{if(_=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!_)throw vl(1,{location:m,currentLocation:v});y=_.record.name,E=at({},v.params,m.params),I=_.stringify(E)}const b=[];let C=_;for(;C;)b.unshift(C.record),C=C.parent;return{name:y,path:I,params:E,matched:b,meta:O7(b)}}return t.forEach(m=>o(m)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:c,getRecordMatcher:s}}function qA(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function k7(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:N7(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function N7(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function WA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function O7(t){return t.reduce((e,n)=>at(e,n.meta),{})}function KA(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function uk(t,e){return e.children.some(n=>n===t||uk(t,n))}const ck=/#/g,D7=/&/g,x7=/\//g,L7=/=/g,M7=/\?/g,hk=/\+/g,V7=/%5B/g,F7=/%5D/g,dk=/%5E/g,U7=/%60/g,fk=/%7B/g,B7=/%7C/g,pk=/%7D/g,j7=/%20/g;function G0(t){return encodeURI(""+t).replace(B7,"|").replace(V7,"[").replace(F7,"]")}function $7(t){return G0(t).replace(fk,"{").replace(pk,"}").replace(dk,"^")}function By(t){return G0(t).replace(hk,"%2B").replace(j7,"+").replace(ck,"%23").replace(D7,"%26").replace(U7,"`").replace(fk,"{").replace(pk,"}").replace(dk,"^")}function H7(t){return By(t).replace(L7,"%3D")}function q7(t){return G0(t).replace(ck,"%23").replace(M7,"%3F")}function W7(t){return t==null?"":q7(t).replace(x7,"%2F")}function ep(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function K7(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(hk," "),l=o.indexOf("="),c=ep(l<0?o:o.slice(0,l)),d=l<0?null:ep(o.slice(l+1));if(c in e){let f=e[c];Fi(f)||(f=e[c]=[f]),f.push(d)}else e[c]=d}return e}function GA(t){let e="";for(let n in t){const i=t[n];if(n=H7(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Fi(i)?i.map(o=>o&&By(o)):[i&&By(i)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function G7(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Fi(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const z7=Symbol(""),zA=Symbol(""),ym=Symbol(""),mk=Symbol(""),jy=Symbol("");function qu(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ps(t,e,n,i,s){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const d=v=>{v===!1?c(vl(4,{from:n,to:e})):v instanceof Error?c(v):_7(v)?c(vl(2,{from:e,to:v})):(o&&i.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),l())},f=t.call(i&&i.instances[s],e,n,d);let m=Promise.resolve(f);t.length<3&&(m=m.then(d)),m.catch(v=>c(v))})}function Ov(t,e,n,i){const s=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Y7(c)){const f=(c.__vccOpts||c)[e];f&&s.push(ps(f,n,i,o,l))}else{let d=c();s.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const m=t7(f)?f.default:f;o.components[l]=m;const _=(m.__vccOpts||m)[e];return _&&ps(_,n,i,o,l)()}))}}return s}function Y7(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function YA(t){const e=St(ym),n=St(mk),i=Oe(()=>e.resolve(G(t.to))),s=Oe(()=>{const{matched:d}=i.value,{length:f}=d,m=d[f-1],v=n.matched;if(!m||!v.length)return-1;const _=v.findIndex(gl.bind(null,m));if(_>-1)return _;const E=QA(d[f-2]);return f>1&&QA(m)===E&&v[v.length-1].path!==E?v.findIndex(gl.bind(null,d[f-2])):_}),o=Oe(()=>s.value>-1&&X7(n.params,i.value.params)),l=Oe(()=>s.value>-1&&s.value===n.matched.length-1&&sk(n.params,i.value.params));function c(d={}){return J7(d)?e[G(t.replace)?"replace":"push"](G(t.to)).catch(mc):Promise.resolve()}return{route:i,href:Oe(()=>i.value.href),isActive:o,isExactActive:l,navigate:c}}const Q7=ut({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:YA,setup(t,{slots:e}){const n=Qn(YA(t)),{options:i}=St(ym),s=Oe(()=>({[JA(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[JA(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:fn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),oo=Q7;function J7(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function X7(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Fi(s)||s.length!==i.length||i.some((o,l)=>o!==s[l]))return!1}return!0}function QA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const JA=(t,e,n)=>t??e??n,Z7=ut({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=St(jy),s=Oe(()=>t.route||i.value),o=St(zA,0),l=Oe(()=>{let f=G(o);const{matched:m}=s.value;let v;for(;(v=m[f])&&!v.components;)f++;return f}),c=Oe(()=>s.value.matched[l.value]);Jn(zA,Oe(()=>l.value+1)),Jn(z7,c),Jn(jy,s);const d=Te();return ki(()=>[d.value,c.value,t.name],([f,m,v],[_,E,I])=>{m&&(m.instances[v]=f,E&&E!==m&&f&&f===_&&(m.leaveGuards.size||(m.leaveGuards=E.leaveGuards),m.updateGuards.size||(m.updateGuards=E.updateGuards))),f&&m&&(!E||!gl(m,E)||!_)&&(m.enterCallbacks[v]||[]).forEach(y=>y(f))},{flush:"post"}),()=>{const f=s.value,m=t.name,v=c.value,_=v&&v.components[m];if(!_)return XA(n.default,{Component:_,route:f});const E=v.props[m],I=E?E===!0?f.params:typeof E=="function"?E(f):E:null,b=fn(_,at({},I,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[m]=null)},ref:d}));return XA(n.default,{Component:b,route:f})||b}}});function XA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const gk=Z7;function e$(t){const e=P7(t.routes,t),n=t.parseQuery||K7,i=t.stringifyQuery||GA,s=t.history,o=qu(),l=qu(),c=qu(),d=b2(cs);let f=cs;Ma&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=kv.bind(null,D=>""+D),v=kv.bind(null,W7),_=kv.bind(null,ep);function E(D,le){let X,ve;return ak(D)?(X=e.getRecordMatcher(D),ve=le):ve=D,e.addRoute(ve,X)}function I(D){const le=e.getRecordMatcher(D);le&&e.removeRoute(le)}function y(){return e.getRoutes().map(D=>D.record)}function b(D){return!!e.getRecordMatcher(D)}function C(D,le){if(le=at({},le||d.value),typeof D=="string"){const R=Nv(n,D,le.path),O=e.resolve({path:R.path},le),F=s.createHref(R.fullPath);return at(R,O,{params:_(O.params),hash:ep(R.hash),redirectedFrom:void 0,href:F})}let X;if("path"in D)X=at({},D,{path:Nv(n,D.path,le.path).path});else{const R=at({},D.params);for(const O in R)R[O]==null&&delete R[O];X=at({},D,{params:v(R)}),le.params=v(le.params)}const ve=e.resolve(X,le),Xe=D.hash||"";ve.params=m(_(ve.params));const A=r7(i,at({},D,{hash:$7(Xe),path:ve.path})),S=s.createHref(A);return at({fullPath:A,hash:Xe,query:i===GA?G7(D.query):D.query||{}},ve,{redirectedFrom:void 0,href:S})}function P(D){return typeof D=="string"?Nv(n,D,d.value.path):at({},D)}function M(D,le){if(f!==D)return vl(8,{from:le,to:D})}function x(D){return de(D)}function Y(D){return x(at(P(D),{replace:!0}))}function oe(D){const le=D.matched[D.matched.length-1];if(le&&le.redirect){const{redirect:X}=le;let ve=typeof X=="function"?X(D):X;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=P(ve):{path:ve},ve.params={}),at({query:D.query,hash:D.hash,params:"path"in ve?{}:D.params},ve)}}function de(D,le){const X=f=C(D),ve=d.value,Xe=D.state,A=D.force,S=D.replace===!0,R=oe(X);if(R)return de(at(P(R),{state:typeof R=="object"?at({},Xe,R.state):Xe,force:A,replace:S}),le||X);const O=X;O.redirectedFrom=le;let F;return!A&&s7(i,ve,X)&&(F=vl(16,{to:O,from:ve}),sn(ve,ve,!0,!1)),(F?Promise.resolve(F):ge(O,ve)).catch(B=>br(B)?br(B,2)?B:tt(B):be(B,O,ve)).then(B=>{if(B){if(br(B,2))return de(at({replace:S},P(B.to),{state:typeof B.to=="object"?at({},Xe,B.to.state):Xe,force:A}),le||O)}else B=J(O,ve,!0,S,Xe);return re(O,ve,B),B})}function q(D,le){const X=M(D,le);return X?Promise.reject(X):Promise.resolve()}function ee(D){const le=qi.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(D):D()}function ge(D,le){let X;const[ve,Xe,A]=t$(D,le);X=Ov(ve.reverse(),"beforeRouteLeave",D,le);for(const R of ve)R.leaveGuards.forEach(O=>{X.push(ps(O,D,le))});const S=q.bind(null,D,le);return X.push(S),on(X).then(()=>{X=[];for(const R of o.list())X.push(ps(R,D,le));return X.push(S),on(X)}).then(()=>{X=Ov(Xe,"beforeRouteUpdate",D,le);for(const R of Xe)R.updateGuards.forEach(O=>{X.push(ps(O,D,le))});return X.push(S),on(X)}).then(()=>{X=[];for(const R of A)if(R.beforeEnter)if(Fi(R.beforeEnter))for(const O of R.beforeEnter)X.push(ps(O,D,le));else X.push(ps(R.beforeEnter,D,le));return X.push(S),on(X)}).then(()=>(D.matched.forEach(R=>R.enterCallbacks={}),X=Ov(A,"beforeRouteEnter",D,le),X.push(S),on(X))).then(()=>{X=[];for(const R of l.list())X.push(ps(R,D,le));return X.push(S),on(X)}).catch(R=>br(R,8)?R:Promise.reject(R))}function re(D,le,X){c.list().forEach(ve=>ee(()=>ve(D,le,X)))}function J(D,le,X,ve,Xe){const A=M(D,le);if(A)return A;const S=le===cs,R=Ma?history.state:{};X&&(ve||S?s.replace(D.fullPath,at({scroll:S&&R&&R.scroll},Xe)):s.push(D.fullPath,Xe)),d.value=D,sn(D,le,X,S),tt()}let ie;function Je(){ie||(ie=s.listen((D,le,X)=>{if(!qo.listening)return;const ve=C(D),Xe=oe(ve);if(Xe){de(at(Xe,{replace:!0}),ve).catch(mc);return}f=ve;const A=d.value;Ma&&f7(UA(A.fullPath,X.delta),vm()),ge(ve,A).catch(S=>br(S,12)?S:br(S,2)?(de(S.to,ve).then(R=>{br(R,20)&&!X.delta&&X.type===Hc.pop&&s.go(-1,!1)}).catch(mc),Promise.reject()):(X.delta&&s.go(-X.delta,!1),be(S,ve,A))).then(S=>{S=S||J(ve,A,!1),S&&(X.delta&&!br(S,8)?s.go(-X.delta,!1):X.type===Hc.pop&&br(S,20)&&s.go(-1,!1)),re(ve,A,S)}).catch(mc)}))}let W=qu(),k=qu(),ae;function be(D,le,X){tt(D);const ve=k.list();return ve.length?ve.forEach(Xe=>Xe(D,le,X)):console.error(D),Promise.reject(D)}function vt(){return ae&&d.value!==cs?Promise.resolve():new Promise((D,le)=>{W.add([D,le])})}function tt(D){return ae||(ae=!D,Je(),W.list().forEach(([le,X])=>D?X(D):le()),W.reset()),D}function sn(D,le,X,ve){const{scrollBehavior:Xe}=t;if(!Ma||!Xe)return Promise.resolve();const A=!X&&p7(UA(D.fullPath,0))||(ve||!X)&&history.state&&history.state.scroll||null;return lm().then(()=>Xe(D,le,A)).then(S=>S&&d7(S)).catch(S=>be(S,D,le))}const nt=D=>s.go(D);let Hi;const qi=new Set,qo={currentRoute:d,listening:!0,addRoute:E,removeRoute:I,hasRoute:b,getRoutes:y,resolve:C,options:t,push:x,replace:Y,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:k.add,isReady:vt,install(D){const le=this;D.component("RouterLink",oo),D.component("RouterView",gk),D.config.globalProperties.$router=le,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>G(d)}),Ma&&!Hi&&d.value===cs&&(Hi=!0,x(s.location).catch(Xe=>{}));const X={};for(const Xe in cs)Object.defineProperty(X,Xe,{get:()=>d.value[Xe],enumerable:!0});D.provide(ym,le),D.provide(mk,v2(X)),D.provide(jy,d);const ve=D.unmount;qi.add(D),D.unmount=function(){qi.delete(D),qi.size<1&&(f=cs,ie&&ie(),ie=null,d.value=cs,Hi=!1,ae=!1),ve()}}};function on(D){return D.reduce((le,X)=>le.then(()=>ee(X)),Promise.resolve())}return qo}function t$(t,e){const n=[],i=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const c=e.matched[l];c&&(t.matched.find(f=>gl(f,c))?i.push(c):n.push(c));const d=t.matched[l];d&&(e.matched.find(f=>gl(f,d))||s.push(d))}return[n,i,s]}function vk(){return St(ym)}const Ni=rk("ModalStore",()=>{const t=Qn({addad:!1,addbid:!1,editad:!1,context:{}}),e={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},n=Qn({show:!1,message:"",type:"",context:{}}),i=Qn({show:!1,message:"",type:"",context:{}});return{modals:t,notifications:n,dropdowns:i,NOTIFICATION_TYPES:e,resetNotification:()=>{n.show=!1,n.message="",n.type="",n.context={}},resetModals:()=>{t.addad=!1,t.addbid=!1,t.editad=!1,t.context={}},resetDropdowns:()=>{i.show=!1,i.message="",i.type="",i.context={}}}}),n$={key:0},i$=ut({__name:"LoadingSpinner",props:{isLoading:{type:Boolean,default:!1},size:{type:String,default:"h-12 w-12"}},setup(t){return(e,n)=>t.isLoading?(Ie(),gt("div",n$,[$("div",{class:zn(["loader ease-linear rounded-full border-4 border-t-4 border-gray-200",[t.size]])},null,2)])):ft("",!0)}});const r$=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},s$=r$(i$,[["__scopeId","data-v-634cf170"]]),gh=ut({__name:"ButtonWithLoading",props:{isLoading:{type:Boolean,default:!1},classes:{type:String,default:""}},emits:["click"],setup(t,{emit:e}){const n=e,i=()=>{n("click")};return(s,o)=>(Ie(),gt("button",{class:zn(t.classes),onClick:i,style:{"max-height":"50px",display:"flex","align-items":"center","justify-content":"center"}},[Ce(s$,{isLoading:t.isLoading,size:"h-5 w-5"},null,8,["isLoading"]),t.isLoading?ft("",!0):U2(s.$slots,"default",{key:0})],2))}}),o$={class:"space-y-4 mb-4"},a$=$("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),l$={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},u$=["src"],c$=["onClick"],h$=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),d$=$("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),f$=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),p$=$("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),m$=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),g$=$("label",{class:"block text-sm font-medium text-gray-700",for:"biddingEndTime"},"Bidding End Time (Bidding ends at 17:00 EST)",-1),v$={class:"flex justify-end space-x-2 mt-4"},y$=5*1024*1024,_$=ut({__name:"SellerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Zn(Cn()),s=Te([]),o=Te(null),l=()=>{const E=o.value.files;for(let I=0;I<E.length;I++){const y=E[I];if(y.size>y$){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=C=>{s.value.push({file:y,url:C.target.result})},b.readAsDataURL(y)}},c=E=>{s.value.splice(E,1)},d=new Date().toISOString().split("T")[0].split("-").reverse().join("-"),f=Qn({type:"",variety:"",yieldTonnage:0,expectedHarvestDate:d,price:0,biddingEndTime:d}),m=Te(!1),v=async()=>{if(m.value=!0,_()&&i.value){const E=s.value.map(y=>y.url.split(",")[1]),I=JSON.parse(JSON.stringify(f));I.biddingEndTime=new Date(I.biddingEndTime).toISOString(),I.expectedHarvestDate=new Date(I.expectedHarvestDate).toISOString(),await Cn().createUserAd({images:E,...I,adType:i.value.accountType}),m.value=!1,n("close")}else m.value=!1},_=()=>!(f.type===""||f.variety===""||f.yieldTonnage===0||!f.expectedHarvestDate||f.price===0||s.value.length===0||!f.biddingEndTime);return(E,I)=>(Ie(),gt(bt,null,[$("div",o$,[a$,$("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),$("div",l$,[(Ie(!0),gt(bt,null,Py(s.value,(y,b)=>(Ie(),gt("div",{key:b,class:"mr-2 relative"},[$("img",{src:y.url,class:"w-16 h-16 object-cover"},null,8,u$),$("button",{onClick:C=>c(b)},"Remove",8,c$)]))),128))]),h$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":I[0]||(I[0]=y=>f.type=y)},null,512),[[Gt,f.type]]),d$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":I[1]||(I[1]=y=>f.variety=y)},null,512),[[Gt,f.variety]]),f$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":I[2]||(I[2]=y=>f.yieldTonnage=y)},null,512),[[Gt,f.yieldTonnage]]),p$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":I[3]||(I[3]=y=>f.expectedHarvestDate=y)},null,512),[[Gt,f.expectedHarvestDate]]),m$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":I[4]||(I[4]=y=>f.price=y)},null,512),[[Gt,f.price]]),g$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"biddingEndTime","onUpdate:modelValue":I[5]||(I[5]=y=>f.biddingEndTime=y)},null,512),[[Gt,f.biddingEndTime]])]),$("div",v$,[$("button",{onClick:I[6]||(I[6]=y=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Ce(gh,{onClick:v,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:m.value},{default:Ue(()=>[en(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),w$={class:"space-y-4 mb-4"},E$=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),b$=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),I$=$("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),T$=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),A$={class:"flex justify-end space-x-2 mt-4"},S$=ut({__name:"BuyerAddAdForm",emits:["close"],setup(t,{emit:e}){const n=e,{profile:i}=Zn(Cn());let s=new Date().toISOString().split("T")[0].split("-").reverse().join("-");const o=Qn({type:"",yieldTonnage:0,requestDate:s,price:0}),l=Te(!1),c=async()=>{if(l.value=!0,d()&&i.value){const f=JSON.parse(JSON.stringify(o));f.requestDate=new Date(f.requestDate).toISOString(),await Cn().createUserAd({...f,adType:i.value.accountType}),l.value=!1,n("close")}else l.value=!1},d=()=>!(o.type===""||o.yieldTonnage===0||!o.requestDate||o.price===0);return(f,m)=>(Ie(),gt(bt,null,[$("div",w$,[E$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":m[0]||(m[0]=v=>o.type=v)},null,512),[[Gt,o.type]]),b$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":m[1]||(m[1]=v=>o.yieldTonnage=v)},null,512),[[Gt,o.yieldTonnage]]),I$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":m[2]||(m[2]=v=>o.requestDate=v)},null,512),[[Gt,o.requestDate]]),T$,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":m[3]||(m[3]=v=>o.price=v)},null,512),[[Gt,o.price]])]),$("div",A$,[$("button",{onClick:m[4]||(m[4]=v=>f.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Ce(gh,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Ue(()=>[en(" Confirm ")]),_:1},8,["isLoading"])])],64))}});function fr(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let i=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,fr),i}var tp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(tp||{}),_s=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(_s||{});function $i({visible:t=!0,features:e=0,ourProps:n,theirProps:i,...s}){var o;let l=_k(i,n),c=Object.assign(s,{props:l});if(t||e&2&&l.static)return Dv(c);if(e&1){let d=(o=l.unmount)==null||o?0:1;return fr(d,{0(){return null},1(){return Dv({...s,props:{...l,hidden:!0,style:{display:"none"}}})}})}return Dv(c)}function Dv({props:t,attrs:e,slots:n,slot:i,name:s}){var o,l;let{as:c,...d}=wk(t,["unmount","static"]),f=(o=n.default)==null?void 0:o.call(n,i),m={};if(i){let v=!1,_=[];for(let[E,I]of Object.entries(i))typeof I=="boolean"&&(v=!0),I===!0&&_.push(E);v&&(m["data-headlessui-state"]=_.join(" "))}if(c==="template"){if(f=yk(f??[]),Object.keys(d).length>0||Object.keys(e).length>0){let[v,..._]=f??[];if(!C$(v)||_.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(d).concat(Object.keys(e)).map(y=>y.trim()).filter((y,b,C)=>C.indexOf(y)===b).sort((y,b)=>y.localeCompare(b)).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let E=_k((l=v.props)!=null?l:{},d),I=Fr(v,E);for(let y in E)y.startsWith("on")&&(I.props||(I.props={}),I.props[y]=E[y]);return I}return Array.isArray(f)&&f.length===1?f[0]:f}return fn(c,Object.assign({},d,m),{default:()=>f})}function yk(t){return t.flatMap(e=>e.type===bt?yk(e.children):[e])}function _k(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let i of t)for(let s in i)s.startsWith("on")&&typeof i[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(i[s])):e[s]=i[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(i=>[i,void 0])));for(let i in n)Object.assign(e,{[i](s,...o){let l=n[i];for(let c of l){if(s instanceof Event&&s.defaultPrevented)return;c(s,...o)}}});return e}function wk(t,e=[]){let n=Object.assign({},t);for(let i of e)i in n&&delete n[i];return n}function C$(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}let R$=0;function P$(){return++R$}function vh(){return P$()}var Ek=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ek||{});function nn(t){var e;return t==null||t.value==null?null:(e=t.value.$el)!=null?e:t.value}let bk=Symbol("Context");var li=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(li||{});function k$(){return z0()!==null}function z0(){return St(bk,null)}function N$(t){Jn(bk,t)}var O$=Object.defineProperty,D$=(t,e,n)=>e in t?O$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZA=(t,e,n)=>(D$(t,typeof e!="symbol"?e+"":e,n),n);class x${constructor(){ZA(this,"current",this.detect()),ZA(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let yh=new x$;function Nl(t){if(yh.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=nn(t);if(e)return e.ownerDocument}return document}let $y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ms=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ms||{}),Ik=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Ik||{}),L$=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(L$||{});function M$(t=document.body){return t==null?[]:Array.from(t.querySelectorAll($y)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Tk=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Tk||{});function V$(t,e=0){var n;return t===((n=Nl(t))==null?void 0:n.body)?!1:fr(e,{0(){return t.matches($y)},1(){let i=t;for(;i!==null;){if(i.matches($y))return!0;i=i.parentElement}return!1}})}var F$=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(F$||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function So(t){t==null||t.focus({preventScroll:!0})}let U$=["textarea","input"].join(",");function B$(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,U$))!=null?n:!1}function j$(t,e=n=>n){return t.slice().sort((n,i)=>{let s=e(n),o=e(i);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function pf(t,e,{sorted:n=!0,relativeTo:i=null,skipElements:s=[]}={}){var o;let l=(o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?o:document,c=Array.isArray(t)?n?j$(t):t:M$(t);s.length>0&&c.length>1&&(c=c.filter(I=>!s.includes(I))),i=i??l.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=e&32?{preventScroll:!0}:{},v=0,_=c.length,E;do{if(v>=_||v+_<=0)return 0;let I=f+v;if(e&16)I=(I+_)%_;else{if(I<0)return 3;if(I>=_)return 1}E=c[I],E==null||E.focus(m),v+=d}while(E!==l.activeElement);return e&6&&B$(E)&&E.select(),2}function Xd(t,e,n){yh.isServer||Vi(i=>{document.addEventListener(t,e,n),i(()=>document.removeEventListener(t,e,n))})}function Ak(t,e,n){yh.isServer||Vi(i=>{window.addEventListener(t,e,n),i(()=>window.removeEventListener(t,e,n))})}function $$(t,e,n=Oe(()=>!0)){function i(o,l){if(!n.value||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c))return;let d=function f(m){return typeof m=="function"?f(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let f of d){if(f===null)continue;let m=f instanceof HTMLElement?f:nn(f);if(m!=null&&m.contains(c)||o.composed&&o.composedPath().includes(m))return}return!V$(c,Tk.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=Te(null);Xd("pointerdown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Xd("mousedown",o=>{var l,c;n.value&&(s.value=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Xd("click",o=>{s.value&&(i(o,()=>s.value),s.value=null)},!0),Xd("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Ak("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var np=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(np||{});let Hy=ut({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:n}){return()=>{let{features:i,...s}=t,o={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return $i({ourProps:o,theirProps:s,slot:{},attrs:n,slots:e,name:"Hidden"})}}});function H$(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Y0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function _h(){let t=[],e={addEventListener(n,i,s,o){return n.addEventListener(i,s,o),e.add(()=>n.removeEventListener(i,s,o))},requestAnimationFrame(...n){let i=requestAnimationFrame(...n);e.add(()=>cancelAnimationFrame(i))},nextFrame(...n){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...n)})},setTimeout(...n){let i=setTimeout(...n);e.add(()=>clearTimeout(i))},microTask(...n){let i={current:!0};return Y0(()=>{i.current&&n[0]()}),e.add(()=>{i.current=!1})},style(n,i,s){let o=n.style.getPropertyValue(i);return Object.assign(n.style,{[i]:s}),this.add(()=>{Object.assign(n.style,{[i]:o})})},group(n){let i=_h();return n(i),this.add(()=>i.dispose())},add(n){return t.push(n),()=>{let i=t.indexOf(n);if(i>=0)for(let s of t.splice(i,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}var nc=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(nc||{});function q$(){let t=Te(0);return Ak("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function Sk(t,e,n,i){yh.isServer||Vi(s=>{t=t??window,t.addEventListener(e,n,i),s(()=>t.removeEventListener(e,n,i))})}function W$(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}function Ck(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.value){let i=nn(n);i instanceof HTMLElement&&e.add(i)}return e}var Rk=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(Rk||{});let Wu=Object.assign(ut({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:Te(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:n,expose:i}){let s=Te(null);i({el:s,$el:s});let o=Oe(()=>Nl(s)),l=Te(!1);Sn(()=>l.value=!0),di(()=>l.value=!1),G$({ownerDocument:o},Oe(()=>l.value&&!!(t.features&16)));let c=z$({ownerDocument:o,container:s,initialFocus:Oe(()=>t.initialFocus)},Oe(()=>l.value&&!!(t.features&2)));Y$({ownerDocument:o,container:s,containers:t.containers,previousActiveElement:c},Oe(()=>l.value&&!!(t.features&8)));let d=q$();function f(E){let I=nn(s);I&&(y=>y())(()=>{fr(d.value,{[nc.Forwards]:()=>{pf(I,ms.First,{skipElements:[E.relatedTarget]})},[nc.Backwards]:()=>{pf(I,ms.Last,{skipElements:[E.relatedTarget]})}})})}let m=Te(!1);function v(E){E.key==="Tab"&&(m.value=!0,requestAnimationFrame(()=>{m.value=!1}))}function _(E){if(!l.value)return;let I=Ck(t.containers);nn(s)instanceof HTMLElement&&I.add(nn(s));let y=E.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(Pk(I,y)||(m.value?pf(nn(s),fr(d.value,{[nc.Forwards]:()=>ms.Next,[nc.Backwards]:()=>ms.Previous})|ms.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&So(E.target)))}return()=>{let E={},I={ref:s,onKeydown:v,onFocusout:_},{features:y,initialFocus:b,containers:C,...P}=t;return fn(bt,[!!(y&4)&&fn(Hy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:np.Focusable}),$i({ourProps:I,theirProps:{...e,...P},slot:E,attrs:e,slots:n,name:"FocusTrap"}),!!(y&4)&&fn(Hy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:np.Focusable})])}}}),{features:Rk}),ho=[];W$(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&ho[0]!==e.target&&(ho.unshift(e.target),ho=ho.filter(n=>n!=null&&n.isConnected),ho.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function K$(t){let e=Te(ho.slice());return ki([t],([n],[i])=>{i===!0&&n===!1?Y0(()=>{e.value.splice(0)}):i===!1&&n===!0&&(e.value=ho.slice())},{flush:"post"}),()=>{var n;return(n=e.value.find(i=>i!=null&&i.isConnected))!=null?n:null}}function G$({ownerDocument:t},e){let n=K$(e);Sn(()=>{Vi(()=>{var i,s;e.value||((i=t.value)==null?void 0:i.activeElement)===((s=t.value)==null?void 0:s.body)&&So(n())},{flush:"post"})}),di(()=>{e.value&&So(n())})}function z$({ownerDocument:t,container:e,initialFocus:n},i){let s=Te(null),o=Te(!1);return Sn(()=>o.value=!0),di(()=>o.value=!1),Sn(()=>{ki([e,n,i],(l,c)=>{if(l.every((f,m)=>(c==null?void 0:c[m])===f)||!i.value)return;let d=nn(e);d&&Y0(()=>{var f,m;if(!o.value)return;let v=nn(n),_=(f=t.value)==null?void 0:f.activeElement;if(v){if(v===_){s.value=_;return}}else if(d.contains(_)){s.value=_;return}v?So(v):pf(d,ms.First|ms.NoScroll)===Ik.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(m=t.value)==null?void 0:m.activeElement})},{immediate:!0,flush:"post"})}),s}function Y$({ownerDocument:t,container:e,containers:n,previousActiveElement:i},s){var o;Sk((o=t.value)==null?void 0:o.defaultView,"focus",l=>{if(!s.value)return;let c=Ck(n);nn(e)instanceof HTMLElement&&c.add(nn(e));let d=i.value;if(!d)return;let f=l.target;f&&f instanceof HTMLElement?Pk(c,f)?(i.value=f,So(f)):(l.preventDefault(),l.stopPropagation(),So(d)):So(i.value)},!0)}function Pk(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let xv=new Map,Ku=new Map;function eS(t,e=Te(!0)){Vi(n=>{var i;if(!e.value)return;let s=nn(t);if(!s)return;n(function(){var l;if(!s)return;let c=(l=Ku.get(s))!=null?l:1;if(c===1?Ku.delete(s):Ku.set(s,c-1),c!==1)return;let d=xv.get(s);d&&(d["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",d["aria-hidden"]),s.inert=d.inert,xv.delete(s))});let o=(i=Ku.get(s))!=null?i:0;Ku.set(s,o+1),o===0&&(xv.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}let kk=Symbol("ForcePortalRootContext");function Q$(){return St(kk,!1)}let tS=ut({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:n}){return Jn(kk,t.force),()=>{let{force:i,...s}=t;return $i({theirProps:s,ourProps:{},slot:{},slots:e,attrs:n,name:"ForcePortalRoot"})}}});function J$(t){let e=Nl(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let n=e.getElementById("headlessui-portal-root");if(n)return n;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)}let X$=ut({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:n}){let i=Te(null),s=Oe(()=>Nl(i)),o=Q$(),l=St(Nk,null),c=Te(o===!0||l==null?J$(i.value):l.resolveTarget());Vi(()=>{o||l!=null&&(c.value=l.resolveTarget())});let d=St(qy,null);return Sn(()=>{let f=nn(i);f&&d&&di(d.register(f))}),di(()=>{var f,m;let v=(f=s.value)==null?void 0:f.getElementById("headlessui-portal-root");v&&c.value===v&&c.value.children.length<=0&&((m=c.value.parentElement)==null||m.removeChild(c.value))}),()=>{if(c.value===null)return null;let f={ref:i,"data-headlessui-portal":""};return fn(zB,{to:c.value},$i({ourProps:f,theirProps:t,slot:{},attrs:n,slots:e,name:"Portal"}))}}}),qy=Symbol("PortalParentContext");function Z$(){let t=St(qy,null),e=Te([]);function n(o){return e.value.push(o),t&&t.register(o),()=>i(o)}function i(o){let l=e.value.indexOf(o);l!==-1&&e.value.splice(l,1),t&&t.unregister(o)}let s={register:n,unregister:i,portals:e};return[e,ut({name:"PortalWrapper",setup(o,{slots:l}){return Jn(qy,s),()=>{var c;return(c=l.default)==null?void 0:c.call(l)}}})]}let Nk=Symbol("PortalGroupContext"),e8=ut({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:n}){let i=Qn({resolveTarget(){return t.target}});return Jn(Nk,i),()=>{let{target:s,...o}=t;return $i({theirProps:o,ourProps:{},slot:{},attrs:e,slots:n,name:"PortalGroup"})}}}),Ok=Symbol("StackContext");var Wy=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Wy||{});function t8(){return St(Ok,()=>{})}function n8({type:t,enabled:e,element:n,onUpdate:i}){let s=t8();function o(...l){i==null||i(...l),s(...l)}Sn(()=>{ki(e,(l,c)=>{l?o(0,t,n):c===!0&&o(1,t,n)},{immediate:!0,flush:"sync"})}),di(()=>{e.value&&o(1,t,n)}),Jn(Ok,o)}let Dk=Symbol("DescriptionContext");function i8(){let t=St(Dk,null);if(t===null)throw new Error("Missing parent");return t}function r8({slot:t=Te({}),name:e="Description",props:n={}}={}){let i=Te([]);function s(o){return i.value.push(o),()=>{let l=i.value.indexOf(o);l!==-1&&i.value.splice(l,1)}}return Jn(Dk,{register:s,slot:t,name:e,props:n}),Oe(()=>i.value.length>0?i.value.join(" "):void 0)}let s8=ut({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${vh()}`}},setup(t,{attrs:e,slots:n}){let i=i8();return Sn(()=>di(i.register(t.id))),()=>{let{name:s="Description",slot:o=Te({}),props:l={}}=i,{id:c,...d}=t,f={...Object.entries(l).reduce((m,[v,_])=>Object.assign(m,{[v]:G(_)}),{}),id:c};return $i({ourProps:f,theirProps:d,slot:o.value,attrs:e,slots:n,name:s})}}});function o8(t){let e=b2(t.getSnapshot());return di(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function a8(t,e){let n=t(),i=new Set;return{getSnapshot(){return n},subscribe(s){return i.add(s),()=>i.delete(s)},dispatch(s,...o){let l=e[s].call(n,...o);l&&(n=l,i.forEach(c=>c()))}}}function l8(){let t;return{before({doc:e}){var n;let i=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-i.clientWidth},after({doc:e,d:n}){let i=e.documentElement,s=i.clientWidth-i.offsetWidth,o=t-s;n.style(i,"paddingRight",`${o}px`)}}}function u8(){if(!H$())return{};let t;return{before(){t=window.pageYOffset},after({doc:e,d:n,meta:i}){function s(l){return i.containers.flatMap(c=>c()).some(c=>c.contains(l))}if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=_h();l.style(e.documentElement,"scroll-behavior","auto"),n.add(()=>n.microTask(()=>l.dispose()))}n.style(e.body,"marginTop",`-${t}px`),window.scrollTo(0,0);let o=null;n.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),f=e.querySelector(d);f&&!s(f)&&(o=f)}catch{}},!0),n.addEventListener(e,"touchmove",l=>{l.target instanceof HTMLElement&&!s(l.target)&&l.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+t),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})}}}function c8(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function h8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let yo=a8(()=>new Map,{PUSH(t,e){var n;let i=(n=this.get(t))!=null?n:{doc:t,count:0,d:_h(),meta:new Set};return i.count++,i.meta.add(e),this.set(t,i),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let i={doc:t,d:e,meta:h8(n)},s=[u8(),l8(),c8()];s.forEach(({before:o})=>o==null?void 0:o(i)),s.forEach(({after:o})=>o==null?void 0:o(i))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});yo.subscribe(()=>{let t=yo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let i=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!i||!s&&i)&&yo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&yo.dispatch("TEARDOWN",n)}});function d8(t,e,n){let i=o8(yo),s=Oe(()=>{let o=t.value?i.value.get(t.value):void 0;return o?o.count>0:!1});return ki([t,e],([o,l],[c],d)=>{if(!o||!l)return;yo.dispatch("PUSH",o,n);let f=!1;d(()=>{f||(yo.dispatch("POP",c??o,n),f=!0)})},{immediate:!0}),s}function f8({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){let i=Te(null),s=Nl(i);function o(){var l;let c=[];for(let d of t)d!==null&&(d instanceof HTMLElement?c.push(d):"value"in d&&d.value instanceof HTMLElement&&c.push(d.value));if(e!=null&&e.value)for(let d of e.value)c.push(d);for(let d of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(nn(i))||c.some(f=>d.contains(f))||c.push(d));return c}return{resolveContainers:o,contains(l){return o().some(c=>c.contains(l))},mainTreeNodeRef:i,MainTreeNode(){return n!=null?null:fn(Hy,{features:np.Hidden,ref:i})}}}var p8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(p8||{});let Ky=Symbol("DialogContext");function Q0(t){let e=St(Ky,null);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Q0),n}return e}let Zd="DC8F892D-2EBD-447C-A4C8-A03058436FF4",J0=ut({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Zd},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${vh()}`}},emits:{close:t=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){var o;let l=Te(!1);Sn(()=>{l.value=!0});let c=Te(0),d=z0(),f=Oe(()=>t.open===Zd&&d!==null?(d.value&li.Open)===li.Open:t.open),m=Te(null),v=Oe(()=>Nl(m));if(s({el:m,$el:m}),!(t.open!==Zd||d!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof f.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${f.value===Zd?void 0:t.open}`);let _=Oe(()=>l.value&&f.value?0:1),E=Oe(()=>_.value===0),I=Oe(()=>c.value>1),y=St(Ky,null)!==null,[b,C]=Z$(),{resolveContainers:P,mainTreeNodeRef:M,MainTreeNode:x}=f8({portals:b,defaultContainers:[Oe(()=>{var ae;return(ae=ie.panelRef.value)!=null?ae:m.value})]}),Y=Oe(()=>I.value?"parent":"leaf"),oe=Oe(()=>d!==null?(d.value&li.Closing)===li.Closing:!1),de=Oe(()=>y||oe.value?!1:E.value),q=Oe(()=>{var ae,be,vt;return(vt=Array.from((be=(ae=v.value)==null?void 0:ae.querySelectorAll("body > *"))!=null?be:[]).find(tt=>tt.id==="headlessui-portal-root"?!1:tt.contains(nn(M))&&tt instanceof HTMLElement))!=null?vt:null});eS(q,de);let ee=Oe(()=>I.value?!0:E.value),ge=Oe(()=>{var ae,be,vt;return(vt=Array.from((be=(ae=v.value)==null?void 0:ae.querySelectorAll("[data-headlessui-portal]"))!=null?be:[]).find(tt=>tt.contains(nn(M))&&tt instanceof HTMLElement))!=null?vt:null});eS(ge,ee),n8({type:"Dialog",enabled:Oe(()=>_.value===0),element:m,onUpdate:(ae,be)=>{if(be==="Dialog")return fr(ae,{[Wy.Add]:()=>c.value+=1,[Wy.Remove]:()=>c.value-=1})}});let re=r8({name:"DialogDescription",slot:Oe(()=>({open:f.value}))}),J=Te(null),ie={titleId:J,panelRef:Te(null),dialogState:_,setTitleId(ae){J.value!==ae&&(J.value=ae)},close(){e("close",!1)}};Jn(Ky,ie);let Je=Oe(()=>!(!E.value||I.value));$$(P,(ae,be)=>{ie.close(),lm(()=>be==null?void 0:be.focus())},Je);let W=Oe(()=>!(I.value||_.value!==0));Sk((o=v.value)==null?void 0:o.defaultView,"keydown",ae=>{W.value&&(ae.defaultPrevented||ae.key===Ek.Escape&&(ae.preventDefault(),ae.stopPropagation(),ie.close()))});let k=Oe(()=>!(oe.value||_.value!==0||y));return d8(v,k,ae=>{var be;return{containers:[...(be=ae.containers)!=null?be:[],P]}}),Vi(ae=>{if(_.value!==0)return;let be=nn(m);if(!be)return;let vt=new ResizeObserver(tt=>{for(let sn of tt){let nt=sn.target.getBoundingClientRect();nt.x===0&&nt.y===0&&nt.width===0&&nt.height===0&&ie.close()}});vt.observe(be),ae(()=>vt.disconnect())}),()=>{let{id:ae,open:be,initialFocus:vt,...tt}=t,sn={...n,ref:m,id:ae,role:"dialog","aria-modal":_.value===0?!0:void 0,"aria-labelledby":J.value,"aria-describedby":re.value},nt={open:_.value===0};return fn(tS,{force:!0},()=>[fn(X$,()=>fn(e8,{target:m.value},()=>fn(tS,{force:!1},()=>fn(Wu,{initialFocus:vt,containers:P,features:E.value?fr(Y.value,{parent:Wu.features.RestoreFocus,leaf:Wu.features.All&~Wu.features.FocusLock}):Wu.features.None},()=>fn(C,{},()=>$i({ourProps:sn,theirProps:{...tt,...n},slot:nt,attrs:n,slots:i,visible:_.value===0,features:tp.RenderStrategy|tp.Static,name:"Dialog"})))))),fn(x)])}}}),X0=ut({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${vh()}`}},setup(t,{attrs:e,slots:n,expose:i}){let s=Q0("DialogPanel");i({el:s.panelRef,$el:s.panelRef});function o(l){l.stopPropagation()}return()=>{let{id:l,...c}=t,d={id:l,ref:s.panelRef,onClick:o};return $i({ourProps:d,theirProps:c,slot:{open:s.dialogState.value===0},attrs:e,slots:n,name:"DialogPanel"})}}}),Z0=ut({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${vh()}`}},setup(t,{attrs:e,slots:n}){let i=Q0("DialogTitle");return Sn(()=>{i.setTitleId(t.id),di(()=>i.setTitleId(null))}),()=>{let{id:s,...o}=t;return $i({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:n,name:"DialogTitle"})}}}),ew=s8;function m8(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Lv(t,...e){t&&e.length>0&&t.classList.add(...e)}function ef(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Gy=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Gy||{});function g8(t,e){let n=_h();if(!t)return n.dispose;let{transitionDuration:i,transitionDelay:s}=getComputedStyle(t),[o,l]=[i,s].map(c=>{let[d=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,m)=>m-f);return d});return o!==0?n.setTimeout(()=>e("finished"),o+l):e("finished"),n.add(()=>e("cancelled")),n.dispose}function nS(t,e,n,i,s,o){let l=_h(),c=o!==void 0?m8(o):()=>{};return ef(t,...s),Lv(t,...e,...n),l.nextFrame(()=>{ef(t,...n),Lv(t,...i),l.add(g8(t,d=>(ef(t,...i,...e),Lv(t,...s),c(d))))}),l.add(()=>ef(t,...e,...n,...i,...s)),l.add(()=>c("cancelled")),l.dispose}function ro(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let tw=Symbol("TransitionContext");var v8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(v8||{});function y8(){return St(tw,null)!==null}function _8(){let t=St(tw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function w8(){let t=St(nw,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let nw=Symbol("NestingContext");function _m(t){return"children"in t?_m(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function xk(t){let e=Te([]),n=Te(!1);Sn(()=>n.value=!0),di(()=>n.value=!1);function i(o,l=_s.Hidden){let c=e.value.findIndex(({id:d})=>d===o);c!==-1&&(fr(l,{[_s.Unmount](){e.value.splice(c,1)},[_s.Hidden](){e.value[c].state="hidden"}}),!_m(e)&&n.value&&(t==null||t()))}function s(o){let l=e.value.find(({id:c})=>c===o);return l?l.state!=="visible"&&(l.state="visible"):e.value.push({id:o,state:"visible"}),()=>i(o,_s.Unmount)}return{children:e,register:s,unregister:i}}let Lk=tp.RenderStrategy,Mo=ut({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i,expose:s}){let o=Te(0);function l(){o.value|=li.Opening,e("beforeEnter")}function c(){o.value&=~li.Opening,e("afterEnter")}function d(){o.value|=li.Closing,e("beforeLeave")}function f(){o.value&=~li.Closing,e("afterLeave")}if(!y8()&&k$())return()=>fn(wm,{...t,onBeforeEnter:l,onAfterEnter:c,onBeforeLeave:d,onAfterLeave:f},i);let m=Te(null),v=Oe(()=>t.unmount?_s.Unmount:_s.Hidden);s({el:m,$el:m});let{show:_,appear:E}=_8(),{register:I,unregister:y}=w8(),b=Te(_.value?"visible":"hidden"),C={value:!0},P=vh(),M={value:!1},x=xk(()=>{!M.value&&b.value!=="hidden"&&(b.value="hidden",y(P),f())});Sn(()=>{let ie=I(P);di(ie)}),Vi(()=>{if(v.value===_s.Hidden&&P){if(_.value&&b.value!=="visible"){b.value="visible";return}fr(b.value,{hidden:()=>y(P),visible:()=>I(P)})}});let Y=ro(t.enter),oe=ro(t.enterFrom),de=ro(t.enterTo),q=ro(t.entered),ee=ro(t.leave),ge=ro(t.leaveFrom),re=ro(t.leaveTo);Sn(()=>{Vi(()=>{if(b.value==="visible"){let ie=nn(m);if(ie instanceof Comment&&ie.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function J(ie){let Je=C.value&&!E.value,W=nn(m);!W||!(W instanceof HTMLElement)||Je||(M.value=!0,_.value&&l(),_.value||d(),ie(_.value?nS(W,Y,oe,de,q,k=>{M.value=!1,k===Gy.Finished&&c()}):nS(W,ee,ge,re,q,k=>{M.value=!1,k===Gy.Finished&&(_m(x)||(b.value="hidden",y(P),f()))})))}return Sn(()=>{ki([_],(ie,Je,W)=>{J(W),C.value=!1},{immediate:!0})}),Jn(nw,x),N$(Oe(()=>fr(b.value,{visible:li.Open,hidden:li.Closed})|o.value)),()=>{let{appear:ie,show:Je,enter:W,enterFrom:k,enterTo:ae,entered:be,leave:vt,leaveFrom:tt,leaveTo:sn,...nt}=t,Hi={ref:m},qi={...nt,...E.value&&_.value&&yh.isServer?{class:zn([n.class,nt.class,...Y,...oe])}:{}};return $i({theirProps:qi,ourProps:Hi,slot:{},slots:i,attrs:n,features:Lk,visible:b.value==="visible",name:"TransitionChild"})}}}),E8=Mo,wm=ut({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:n,slots:i}){let s=z0(),o=Oe(()=>t.show===null&&s!==null?(s.value&li.Open)===li.Open:t.show);Vi(()=>{if(![!0,!1].includes(o.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let l=Te(o.value?"visible":"hidden"),c=xk(()=>{l.value="hidden"}),d=Te(!0),f={show:o,appear:Oe(()=>t.appear||!d.value)};return Sn(()=>{Vi(()=>{d.value=!1,o.value?l.value="visible":_m(c)||(l.value="hidden")})}),Jn(nw,c),Jn(tw,f),()=>{let m=wk(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),v={unmount:t.unmount};return $i({ourProps:{...v,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[fn(E8,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...n,...v,...m},i.default)]},attrs:{},features:Lk,visible:l.value==="visible",name:"Transition"})}}});const b8=$("div",{class:"fixed inset-0 bg-black/25"},null,-1),I8={class:"fixed inset-0 overflow-y-auto"},T8={class:"flex min-h-full items-center justify-center p-4 text-center"},A8=$("p",{class:"text-sm text-gray-500"}," Add an Ad to your profile ",-1),S8=ut({__name:"AddAdModal",setup(t){const{modals:e}=Zn(Ni()),{profile:n}=Zn(Cn()),i=Cn().ACCOUNT_TYPES,s=Te(!0);function o(l){s.value=l,e.value.addad=l}return(l,c)=>(Ie(),mt(G(wm),{appear:"",show:s.value,as:"template"},{default:Ue(()=>[Ce(G(J0),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Ue(()=>[Ce(G(Mo),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ue(()=>[b8]),_:1}),$("div",I8,[$("div",T8,[Ce(G(Mo),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ue(()=>[Ce(G(X0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ue(()=>{var d,f;return[Ce(G(Z0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ue(()=>[en(" New Ad ")]),_:1}),Ce(G(ew),{class:"mt-2 mb-4"},{default:Ue(()=>[A8]),_:1}),((d=G(n))==null?void 0:d.accountType)===G(i).SELLER?(Ie(),mt(_$,{key:0,onClose:c[0]||(c[0]=m=>o(!1))})):ft("",!0),((f=G(n))==null?void 0:f.accountType)===G(i).BUYER?(Ie(),mt(S$,{key:1,onClose:c[1]||(c[1]=m=>o(!1))})):ft("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),C8={class:"space-y-4 mb-4"},R8=$("label",{class:"block text-sm font-medium text-gray-700",for:"images"},"Images",-1),P8={class:"mt-4 flex overflow-y-auto",style:{"max-height":"150px"}},k8=["src"],N8=["onClick"],O8=["src"],D8=["onClick"],x8=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),L8=$("label",{class:"block text-sm font-medium text-gray-700",for:"variety"},"Variety",-1),M8=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),V8=$("label",{class:"block text-sm font-medium text-gray-700",for:"expectedHarvestDate"},"Expected Harvest Date",-1),F8=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),U8={class:"flex justify-end space-x-2 mt-4"},B8=5*1024*1024,j8=ut({__name:"SellerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Zn(Cn());const s=Te([]),o=Te(null),l=()=>{const E=o.value.files;for(let I=0;I<E.length;I++){const y=E[I];if(y.size>B8){alert("File size should not exceed 5MB");continue}const b=new FileReader;b.onload=C=>{s.value.push({file:y,url:C.target.result})},b.readAsDataURL(y)}},c=E=>{s.value.splice(E,1)},d=E=>{m.resizedImages.splice(E,1)},f=JSON.parse(JSON.stringify(n.ad)),m=Qn({type:f.type,variety:f.variety,yieldTonnage:f.yieldTonnage,expectedHarvestDate:f.expectedHarvestDate,price:f.price,resizedImages:f.resizedImages}),v=Te(!1),_=async()=>{v.value=!0;const E=Object.keys(m).reduce((I,y)=>(m[y]!==n.ad[y]&&(I[y]=m[y]),I),{});if(o.value.files.length>0){const I=s.value.map(y=>y.url.split(",")[1]);E.newImages=I}await Cn().editUserAd({changes:E,adId:n.ad.id}),v.value=!1,i("close")};return(E,I)=>(Ie(),gt(bt,null,[$("div",C8,[R8,$("input",{type:"file",id:"images",ref_key:"imageInput",ref:o,multiple:"",onChange:l,class:"mt-1 p-2 w-full rounded-md border"},null,544),$("div",P8,[(Ie(!0),gt(bt,null,Py(s.value,(y,b)=>(Ie(),gt("div",{key:b,class:"mr-2 relative"},[$("img",{src:y.url,class:"w-16 h-16 object-cover"},null,8,k8),$("button",{onClick:C=>c(b)},"Remove",8,N8)]))),128)),(Ie(!0),gt(bt,null,Py(m.resizedImages,(y,b)=>(Ie(),gt("div",{key:b,class:"mr-2 relative"},[$("img",{src:y,class:"w-16 h-16 object-cover"},null,8,O8),$("button",{onClick:C=>d(b)},"Remove",8,D8)]))),128))]),x8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":I[0]||(I[0]=y=>m.type=y)},null,512),[[Gt,m.type]]),L8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"variety","onUpdate:modelValue":I[1]||(I[1]=y=>m.variety=y)},null,512),[[Gt,m.variety]]),M8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":I[2]||(I[2]=y=>m.yieldTonnage=y)},null,512),[[Gt,m.yieldTonnage]]),V8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"expectedHarvestDate","onUpdate:modelValue":I[3]||(I[3]=y=>m.expectedHarvestDate=y)},null,512),[[Gt,m.expectedHarvestDate]]),F8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":I[4]||(I[4]=y=>m.price=y)},null,512),[[Gt,m.price]])]),$("div",U8,[$("button",{onClick:I[5]||(I[5]=y=>E.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Ce(gh,{onClick:_,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:v.value},{default:Ue(()=>[en(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),$8={class:"space-y-4 mb-4"},H8=$("label",{class:"block text-sm font-medium text-gray-700",for:"type"},"Type",-1),q8=$("label",{class:"block text-sm font-medium text-gray-700",for:"yieldTonnage"},"Yield Tonnage",-1),W8=$("label",{class:"block text-sm font-medium text-gray-700",for:"requestDate"},"Request Date",-1),K8=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Price",-1),G8={class:"flex justify-end space-x-2 mt-4"},z8=ut({__name:"BuyerEditAdForm",props:{ad:{type:Object,required:!0}},emits:["close"],setup(t,{emit:e}){const n=t,i=e;Zn(Cn());const s=JSON.parse(JSON.stringify(n.ad)),o=Qn({type:s.type,yieldTonnage:s.yieldTonnage,requestDate:s.requestDate,price:s.price}),l=Te(!1),c=async()=>{l.value=!0;const d=Object.keys(o).reduce((f,m)=>(o[m]!==n.ad[m]&&(f[m]=o[m]),f),{});await Cn().editUserAd({changes:d,adId:n.ad.id}),l.value=!1,i("close")};return(d,f)=>(Ie(),gt(bt,null,[$("div",$8,[H8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"text",id:"type","onUpdate:modelValue":f[0]||(f[0]=m=>o.type=m)},null,512),[[Gt,o.type]]),q8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"yieldTonnage","onUpdate:modelValue":f[1]||(f[1]=m=>o.yieldTonnage=m)},null,512),[[Gt,o.yieldTonnage]]),W8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"date",id:"requestDate","onUpdate:modelValue":f[2]||(f[2]=m=>o.requestDate=m)},null,512),[[Gt,o.requestDate]]),K8,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[3]||(f[3]=m=>o.price=m)},null,512),[[Gt,o.price]])]),$("div",G8,[$("button",{onClick:f[4]||(f[4]=m=>d.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Ce(gh,{onClick:c,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:l.value},{default:Ue(()=>[en(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),Y8=$("div",{class:"fixed inset-0 bg-black/25"},null,-1),Q8={class:"fixed inset-0 overflow-y-auto"},J8={class:"flex min-h-full items-center justify-center p-4 text-center"},X8=$("p",{class:"text-sm text-gray-500"}," Edit an ad ",-1),Z8=ut({__name:"EditAdModal",setup(t){const{modals:e}=Zn(Ni()),{profile:n}=Zn(Cn()),i=Cn().ACCOUNT_TYPES,s=Te(!0);function o(l){s.value=l,e.value.editad=l}return(l,c)=>(Ie(),mt(G(wm),{appear:"",show:s.value,as:"template"},{default:Ue(()=>[Ce(G(J0),{as:"div",onClose:c[2]||(c[2]=d=>o(!1)),class:"relative z-10"},{default:Ue(()=>[Ce(G(Mo),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ue(()=>[Y8]),_:1}),$("div",Q8,[$("div",J8,[Ce(G(Mo),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ue(()=>[Ce(G(X0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ue(()=>{var d,f;return[Ce(G(Z0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ue(()=>[en(" Edit Ad ")]),_:1}),Ce(G(ew),{class:"mt-2 mb-4"},{default:Ue(()=>[X8]),_:1}),((d=G(n))==null?void 0:d.accountType)===G(i).SELLER?(Ie(),mt(j8,{key:0,onClose:c[0]||(c[0]=m=>o(!1)),ad:G(e).context},null,8,["ad"])):ft("",!0),((f=G(n))==null?void 0:f.accountType)===G(i).BUYER?(Ie(),mt(z8,{key:1,onClose:c[1]||(c[1]=m=>o(!1)),ad:G(e).context},null,8,["ad"])):ft("",!0)]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}}),eH={class:"space-y-4 mb-4"},tH=$("label",{class:"block text-sm font-medium text-gray-700",for:"price"},"Bid Offer",-1),nH={class:"flex justify-end space-x-2 mt-4"},iH=ut({__name:"BidForm",props:{adId:{type:String,required:!0}},emits:["close"],setup(t,{emit:e}){const n=e,s=Qn({adId:t.adId,price:0}),o=Te(!1),l=async()=>{o.value=!0,c()?(await Cn().placeNewBid({...s}),o.value=!1,n("close")):o.value=!1},c=()=>s.price!==0;return(d,f)=>(Ie(),gt(bt,null,[$("div",eH,[tH,Ot($("input",{class:"mt-1 p-2 w-full rounded-md border",type:"number",id:"price","onUpdate:modelValue":f[0]||(f[0]=m=>s.price=m)},null,512),[[Gt,s.price]])]),$("div",nH,[$("button",{onClick:f[1]||(f[1]=m=>d.$emit("close")),type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"}," Cancel "),Ce(gh,{onClick:l,class:"inline-flex justify-center rounded-md border border-transparent bg-green-100 px-4 py-2 text-sm font-medium text-green-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",isLoading:o.value},{default:Ue(()=>[en(" Confirm ")]),_:1},8,["isLoading"])])],64))}}),rH=$("div",{class:"fixed inset-0 bg-black/25"},null,-1),sH={class:"fixed inset-0 overflow-y-auto"},oH={class:"flex min-h-full items-center justify-center p-4 text-center"},aH=$("p",{class:"text-sm text-gray-500"}," Place a bid on this ad ",-1),lH=ut({__name:"AddBidModal",setup(t){const{modals:e}=Zn(Ni()),n=Te(!0);function i(l){n.value=l,e.value.addad=l}const s=vk(),o=Te("");return Sn(()=>{o.value=s.currentRoute.value.params.adId,console.log("adId",o.value),o.value||s.push("/feed")}),(l,c)=>(Ie(),mt(G(wm),{appear:"",show:n.value,as:"template"},{default:Ue(()=>[Ce(G(J0),{as:"div",onClose:c[1]||(c[1]=d=>i(!1)),class:"relative z-10"},{default:Ue(()=>[Ce(G(Mo),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ue(()=>[rH]),_:1}),$("div",sH,[$("div",oH,[Ce(G(Mo),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Ue(()=>[Ce(G(X0),{class:"w-full max-w-md transform overflow-hidden rounded-md bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:Ue(()=>[Ce(G(Z0),{as:"h3",class:"text-lg font-bold leading-6 text-gray-900"},{default:Ue(()=>[en(" Place bid ")]),_:1}),Ce(G(ew),{class:"mt-2 mb-4"},{default:Ue(()=>[aH]),_:1}),Ce(iH,{onClose:c[0]||(c[0]=d=>i(!1)),adId:o.value},null,8,["adId"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]))}});function Mk(t,e){return Ie(),gt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Vk(t,e){return Ie(),gt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})])}function Fk(t,e){return Ie(),gt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])}function zy(t,e){return Ie(),gt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}const uH={key:0},cH={key:1,class:"text-sm font-medium"},iS=5e3,hH=ut({__name:"StateNotificationToast",setup(t){const{notifications:e}=Zn(Ni()),n=Ni().NOTIFICATION_TYPES,i=Te(iS),s=()=>{i.value=iS;const l=setInterval(()=>{i.value-=1e3,i.value<=0&&(clearInterval(l),Ni().resetNotification())},1e3)};ki(e,(l,c)=>{console.log("notifications changed"),l.show&&s()},{deep:!0});const o=Oe(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}});return(l,c)=>(Ie(),mt(mm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"translate-x-10 opacity-0","enter-to-class":"translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-x-0 opacity-100","leave-to-class":"translate-x-10 opacity-0"},{default:Ue(()=>[G(e).show?(Ie(),gt("div",{key:0,class:zn(["fixed top-5 right-5 z-50 flex items-center space-x-2 p-4 border-l-4 shadow-md rounded-lg transition-all bg-white",o.value])},[G(e).type?(Ie(),gt("div",uH,[G(e).type===G(n).SUCCESS?(Ie(),mt(G(Mk),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):ft("",!0),G(e).type===G(n).ERROR?(Ie(),mt(G(zy),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):ft("",!0),G(e).type===G(n).WARNING?(Ie(),mt(G(Vk),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):ft("",!0),G(e).type===G(n).INFO?(Ie(),mt(G(Fk),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):ft("",!0)])):ft("",!0),G(e).message?(Ie(),gt("div",cH,[$("p",null,n2(G(e).message),1)])):ft("",!0)],2)):ft("",!0)]),_:1}))}}),dH={key:0},fH={key:1,class:"text-sm font-medium text-black"},pH=ut({__name:"HeaderNotificationDropdown",setup(t){const{dropdowns:e}=Zn(Ni()),n=Ni().NOTIFICATION_TYPES,i=Oe(()=>{switch(e.value.type){case n.SUCCESS:return"border-green-500 bg-green-50";case n.ERROR:return"border-red-500 bg-red-50";case n.WARNING:return"border-yellow-500 bg-yellow-50";case n.INFO:return"border-blue-500 bg-blue-50";default:return""}}),s=()=>{e.value.show=!1};return(o,l)=>(Ie(),mt(mm,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"-translate-y-10 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-300","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"-translate-y-10 opacity-0"},{default:Ue(()=>[G(e).show?(Ie(),gt("div",{key:0,class:zn(["absolute top-0 left-0 z-50 flex items-center space-x-2 p-4 border-b-4 shadow-md transition-all bg-white w-full",i.value])},[G(e).type?(Ie(),gt("div",dH,[G(e).type===G(n).SUCCESS?(Ie(),mt(G(Mk),{key:0,class:"h-6 w-6 text-green-500","aria-hidden":"true"})):ft("",!0),G(e).type===G(n).ERROR?(Ie(),mt(G(zy),{key:1,class:"h-6 w-6 text-red-500","aria-hidden":"true"})):ft("",!0),G(e).type===G(n).WARNING?(Ie(),mt(G(Vk),{key:2,class:"h-6 w-6 text-yellow-500","aria-hidden":"true"})):ft("",!0),G(e).type===G(n).INFO?(Ie(),mt(G(Fk),{key:3,class:"h-6 w-6 text-blue-500","aria-hidden":"true"})):ft("",!0)])):ft("",!0),G(e).message?(Ie(),gt("div",fH,[$("p",null,n2(G(e).message),1)])):ft("",!0),Ce(G(zy),{onClick:s,class:"absolute right-1 h-5 w-5 text-black","aria-hidden":"true"})],2)):ft("",!0)]),_:1}))}}),mH={class:"relative bg-blue-900 text-white p-4"},gH={class:"container mx-auto flex justify-between items-center"},vH=$("div",{class:"flex items-center"},[$("img",{src:e7,alt:"CropLink Logo",class:"w-10 h-10 mr-2 rounded-sm"}),$("h1",{class:"text-3xl font-semibold pb-1"},"CropLink")],-1),yH={class:"space-x-4"},_H={class:"w-full"},wH=ut({__name:"App",setup(t){const{profile:e}=Zn(Cn()),{modals:n,notifications:i,dropdowns:s}=Zn(Ni()),o=Te(0),l=vk();l.beforeEach((d,f,m)=>{d.matched.some(_=>_.meta.requiresAuth)&&!e.value?m("/signup"):m()});const c=async()=>{await Cn().signout(),l.push("/signup")};return(d,f)=>(Ie(),gt(bt,null,[$("header",mH,[$("div",gH,[vH,$("nav",yH,[Ce(G(oo),{class:zn(["hover:underline",{"bg-blue-700 text-white":o.value==0}]),to:"/",onClick:f[0]||(f[0]=m=>o.value=0)},{default:Ue(()=>[en("Home")]),_:1},8,["class"]),G(e)?(Ie(),mt(G(oo),{key:0,class:zn(["hover:underline",{"bg-blue-700 text-white":o.value==1}]),to:"/userboard",onClick:f[1]||(f[1]=m=>o.value=1)},{default:Ue(()=>[en("Dashboard")]),_:1},8,["class"])):ft("",!0),G(e)?ft("",!0):(Ie(),mt(G(oo),{key:1,class:zn(["hover:underline",{"bg-blue-700 text-white":o.value==2}]),to:"/signup",onClick:f[2]||(f[2]=m=>o.value=2)},{default:Ue(()=>[en("Signin")]),_:1},8,["class"])),G(e)?(Ie(),mt(G(oo),{key:2,class:zn(["hover:underline",{"bg-blue-700 text-white":o.value==3}]),to:"/profile",onClick:f[3]||(f[3]=m=>o.value=3)},{default:Ue(()=>[en("Profile")]),_:1},8,["class"])):ft("",!0),G(e)?(Ie(),mt(G(oo),{key:3,class:zn(["hover:underline",{"bg-blue-700 text-white":o.value==4}]),to:"/feed",onClick:f[4]||(f[4]=m=>o.value=4)},{default:Ue(()=>[en("Feed")]),_:1},8,["class"])):ft("",!0),Ce(G(oo),{class:zn(["hover:underline",{"bg-blue-700 text-white":o.value==5}]),to:"/about",onClick:f[5]||(f[5]=m=>o.value=5)},{default:Ue(()=>[en("About")]),_:1},8,["class"]),$("a",{class:"hover:underline",onClick:c},"Signout")])]),Ot(Ce(pH,null,null,512),[[SA,G(s).show]])]),G(n).addad?(Ie(),mt(S8,{key:0})):ft("",!0),G(n).editad?(Ie(),mt(Z8,{key:1})):ft("",!0),G(n).addbid?(Ie(),mt(lH,{key:2})):ft("",!0),Ot(Ce(hH,null,null,512),[[SA,G(i).show]]),$("div",_H,[Ce(G(gk))])],64))}}),EH="modulepreload",bH=function(t){return"/"+t},rS={},Ir=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=bH(o),o in rS)return;rS[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!i)for(let m=s.length-1;m>=0;m--){const v=s[m];if(v.href===o&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":EH,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},tf=ut({__name:"CardButton",emits:["click"],setup(t,{emit:e}){return(n,i)=>(Ie(),gt("button",{onClick:i[0]||(i[0]=s=>n.$emit("click")),class:"mt-2 mb-2 w-full inline-flex justify-center rounded-md border border-transparent bg-blue-100 px-4 py-2 text-sm font-medium text-blue-900 hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"},[U2(n.$slots,"default")]))}}),IH=$("h1",null,"HomeView",-1),TH=ut({__name:"HomeView",setup(t){const{dropdowns:e}=Zn(Ni()),n=Ni().NOTIFICATION_TYPES,i=s=>{s==n.ERROR&&(e.value.show=!0,e.value.type=n.ERROR,e.value.message="Failed to create escrow account"),s==n.SUCCESS&&(e.value.show=!0,e.value.type=n.SUCCESS,e.value.message="Successfully created escrow account"),s==n.WARNING&&(e.value.show=!0,e.value.type=n.WARNING,e.value.message="Warning: This is a warning"),s==n.INFO&&(e.value.show=!0,e.value.type=n.INFO,e.value.message="Info: This is an info message")};return(s,o)=>(Ie(),gt(bt,null,[IH,Ce(tf,{onClick:o[0]||(o[0]=l=>i(G(n).ERROR))},{default:Ue(()=>[en("Error")]),_:1}),Ce(tf,{onClick:o[1]||(o[1]=l=>i(G(n).SUCCESS))},{default:Ue(()=>[en("Success")]),_:1}),Ce(tf,{onClick:o[2]||(o[2]=l=>i(G(n).WARNING))},{default:Ue(()=>[en("Warning")]),_:1}),Ce(tf,{onClick:o[3]||(o[3]=l=>i(G(n).INFO))},{default:Ue(()=>[en("Info")]),_:1})],64))}}),AH=e$({history:y7("/"),routes:[{path:"/",name:"home",component:TH},{path:"/signup",name:"signup",component:()=>Ir(()=>import("./SignupView-17fc9992.js"),[])},{path:"/profilesetup",name:"profile-setup",component:()=>Ir(()=>import("./ProfileSetupView-2d244593.js"),[])},{path:"/profile",name:"profile",component:()=>Ir(()=>import("./UserProfileView-8c741a43.js"),[]),meta:{requiresAuth:!0}},{path:"/about",name:"about",component:()=>Ir(()=>import("./AboutView-46f06247.js"),[])},{path:"/feed",name:"feed",component:()=>Ir(()=>import("./FeedView-7ab0afb4.js"),["assets/FeedView-7ab0afb4.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-d2976f19.js","assets/SellerAdCard-12820f94.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-dd6a6f54.js"])},{path:"/ad/:adId",name:"ad",component:()=>Ir(()=>import("./AdView-f7f8c028.js"),["assets/AdView-f7f8c028.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-d2976f19.js","assets/SellerAdCard-12820f94.css","assets/BidCard.vue_vue_type_script_setup_true_lang-abe72ac3.js"]),props:!0,meta:{requiresAuth:!0}},{path:"/userboard",name:"userboard",component:()=>Ir(()=>import("./UserBoardView-1c3d26cf.js"),["assets/UserBoardView-1c3d26cf.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-d2976f19.js","assets/SellerAdCard-12820f94.css","assets/BuyerAdCard.vue_vue_type_script_setup_true_lang-dd6a6f54.js","assets/BidCard.vue_vue_type_script_setup_true_lang-abe72ac3.js"]),meta:{requiresAuth:!0}},{path:"/messaging/:adId",name:"messaging",component:()=>Ir(()=>import("./MessagingView-56a0adf1.js"),[]),meta:{requiresAuth:!0},props:!0},{path:"/banking/:adId",name:"banking",component:()=>Ir(()=>import("./BankingView-1536e17d.js"),["assets/BankingView-1536e17d.js","assets/SellerAdCard.vue_vue_type_script_setup_true_lang-d2976f19.js","assets/SellerAdCard-12820f94.css"]),meta:{requiresAuth:!0},props:!0}]});let _o,Mv;vM(JP,async t=>{if(t){try{Mv=await Ey("users",t.uid),Mv&&(_o||Vv(),Cn().setProfile(Mv))}catch(e){console.log("Error getting profile",e)}_o||Vv(),console.log("User is signed in"),Cn().setUser(t)}else _o||Vv(),console.log("User is signed out")});const Vv=()=>{_o=Mj(wH),_o.use(Uj()),_o.use(AH),_o.mount("#app")};export{di as $,_P as A,xo as B,r$ as C,$H as D,Ns as E,bt as F,KH as G,HH as H,hl as I,jf as J,vs as K,s$ as L,d0 as M,WH as N,Vi as O,nn as P,fn as Q,np as R,Hy as S,Oe as T,j$ as U,Jn as V,ki as W,$i as X,wk as Y,vh as Z,tf as _,Cn as a,St as a0,tp as a1,fr as a2,Ek as a3,Ik as a4,Y0 as a5,Nl as a6,pf as a7,ms as a8,qH as a9,jH as aa,zn as ab,BH as ac,h0 as ad,LH as ae,OH as af,DH as ag,VH as ah,FH as ai,AH as aj,xH as ak,zH as al,N0 as am,UH as b,V2 as c,ut as d,Ie as e,gt as f,$ as g,Te as h,en as i,GH as j,Py as k,Ce as l,Ue as m,gh as n,Sn as o,ft as p,mt as q,Qn as r,Zn as s,n2 as t,vk as u,Gt as v,Ot as w,Ni as x,G as y,MH as z};

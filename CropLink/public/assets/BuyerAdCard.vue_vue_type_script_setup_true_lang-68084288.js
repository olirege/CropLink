import{d as A,s as _,x as w,h as m,e as v,f,g as s,t as n,i as a,l,m as c,_ as B,n as g,p as C,a as h}from"./index-990be236.js";const k={class:"bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"},N={class:"text-xl font-semibold mb-2"},R={class:"text-sm mb-2"},$=s("strong",null,"Id:",-1),L={class:"text-sm mb-2"},P=s("strong",null,"Yield Tonnage:",-1),T={class:"text-sm mb-2"},V=s("strong",null,"Request Date:",-1),q={class:"text-sm mb-2"},D=s("strong",null,"Price:",-1),E={key:0,class:"flex justify-end mt-2 space-x-4"},j=A({__name:"BuyerAdCard",props:{ad:{type:Object,required:!0},showButtons:{type:Boolean,default:!0}},setup(e){const{modals:u}=_(w()),d=m(!1),x=async t=>{t&&(d.value=!0,await h().postNewAd(t),d.value=!1)},i=m(""),b=async t=>{t&&(i.value=t,h().removeUserAd(t),i.value="")},y=async t=>{t&&(console.log("removeAd",t),u.value.editad=!0,u.value.context=ads.value.docs.find(o=>o.id===t))};return(t,o)=>(v(),f("div",k,[s("h3",N,n(e.ad.type),1),s("p",R,[$,a(" "+n(e.ad.id),1)]),s("p",L,[P,a(" "+n(e.ad.yieldTonnage),1)]),s("p",T,[V,a(" "+n(e.ad.requestDate),1)]),s("p",q,[D,a(" "+n(e.ad.price),1)]),e.showButtons?(v(),f("div",E,[l(B,{onClick:o[0]||(o[0]=r=>y(e.ad.id))},{default:c(()=>[a(" Edit ")]),_:1}),l(g,{isLoading:d.value,disabled:e.ad.live,onClick:o[1]||(o[1]=r=>x(e.ad.id))},{default:c(()=>[a(" Post ")]),_:1},8,["isLoading","disabled"]),l(g,{isLoading:i.value==e.ad.id,disabled:!e.ad.live,onClick:o[2]||(o[2]=r=>b(e.ad.id))},{default:c(()=>[a(" Remove ")]),_:1},8,["isLoading","disabled"])])):C("",!0)]))}});export{j as _};

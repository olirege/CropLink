import{_ as h}from"./SellerAdCard.vue_vue_type_script_setup_true_lang-2d487ab1.js";import{d as p,aq as m,h as n,o as v,e as r,f as u,g as e,t,l as _,L as x,m as b,_ as y,i as w,c as I,M as S}from"./index-990be236.js";import"./ImageCarousel-235e652f.js";const B={key:0,class:"border rounded-md p-4 flex flex-col gap-4"},k={class:"flex flex-row justify-between gap-4"},q=e("label",null,"Escrow Transaction:",-1),L={class:"font-bold"},T={class:"ml-2 flex flex-col"},C={class:"flex flex row gap-4"},N=e("label",{class:"font-bold"},"Amount:",-1),V={class:"flex flex row gap-4"},A=e("label",{class:"font-bold"},"Seller:",-1),P={class:"flex flex row gap-4"},$=e("label",{class:"font-bold"},"Buyer:",-1),D={class:"flex flex-col gap-4 p-2"},j=e("label",{class:"font-bold"},"Payment status:",-1),E={class:"flex flex-row gap-4 justify-between"},M={class:"flex flex-col"},F=e("label",null,"Sent",-1),G={class:"flex flex-col"},R=e("label",null,"Recieved",-1),U={class:"flex flex-col"},z=e("label",null,"Secured",-1),H={class:"flex flex-col"},J=e("label",null,"Disbursed",-1),K={key:1},O=p({__name:"BankingComponent",props:{contractId:{type:String,required:!0},transactionId:{type:String,required:!1}},setup(l){const c=l,i=m(),s=n({}),o=n(!1),d=n({}),f=async()=>{if(o.value=!0,!c.contractId)return console.error("No contract id provided");const a=await i({transactionId:c.contractId});if(console.log(a),!a||!a.data.transaction)return console.error("No transaction found");s.value=a.data.transaction,d.value=a.data.landingPage,o.value=!1},g=()=>{if(!d.value)return console.error("No landing page found");window.open(d.value,"_blank")};return v(async()=>{await f()}),(a,W)=>(r(),u("div",null,[s.value.id?(r(),u("div",B,[e("div",k,[q,e("p",L,t(s.value.id)+"#",1)]),e("p",null,t(s.value.description),1),e("div",T,[e("div",C,[N,e("p",null,t(s.value.items[0].schedule[0].amount),1)]),e("div",V,[A,e("p",null,t(s.value.items[0].schedule[0].beneficiary_customer),1)]),e("div",P,[$,e("p",null,t(s.value.items[0].schedule[0].payer_customer),1)]),e("div",D,[j,e("div",E,[e("div",M,[F,e("p",null,t(s.value.items[0].schedule[0].status.payment_sent),1)]),e("div",G,[R,e("p",null,t(s.value.items[0].schedule[0].status.payment_sent),1)]),e("div",U,[z,e("p",null,t(s.value.items[0].schedule[0].status.secured),1)]),e("div",H,[J,e("p",null,t(s.value.items[0].schedule[0].status.disbursed_to_beneficiary),1)])])])])])):(r(),u("div",K,[_(x,{isLoading:o.value},null,8,["isLoading"])])),_(y,{onClick:g,classes:"w-full"},{default:b(()=>[w("View")]),_:1})]))}}),Q={class:"grid grid-cols-2 gap-x-4 p-5"},ee=p({__name:"BankingView",props:{adId:{type:String,required:!0},contractId:{type:String,required:!0},transactionId:{type:String,required:!0}},setup(l){const c=l,i=n({}),s=n(!1),o=async()=>{s.value=!0,i.value=await S("ads",c.adId),s.value=!1};return v(async()=>{await o()}),I(()=>{}),(d,f)=>(r(),u("div",Q,[_(h,{ad:i.value,showButtons:!1},null,8,["ad"]),_(O,{contractId:l.contractId},null,8,["contractId"])]))}});export{ee as default};
